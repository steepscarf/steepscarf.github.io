import "./../csv-parse-sync.js";
import "./../csv-stringify-sync.js";
// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__require=(e=>"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e)(function(e){if("undefined"!=typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__copyProps=(e,t,n,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of __getOwnPropNames(t))__hasOwnProp.call(e,r)||r===n||__defProp(e,r,{get:()=>t[r],enumerable:!(s=__getOwnPropDesc(t,r))||s.enumerable});return e},__toESM=(e,t,n)=>(n=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?n:__defProp(n,"default",{value:e,enumerable:!0}),e)),require_c3runtime=__commonJS({"file-map:scripts/c3runtime.js"(exports,module){{let e=function(e){ARRAY_TYPE=e},n=function(e){return e*degree},u=function(e,t){return Math.abs(e-t)<=EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},h=function(){var e=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},_=function(e){var t=new ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},G=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},p=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},m=function(e,t,n,s){var r=new ARRAY_TYPE(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=s,r},g=function(e,t,n,s,r){return e[0]=t,e[1]=n,e[2]=s,e[3]=r,e},N=function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},b=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=n*o-r*s;return a?(a=1/a,e[0]=o*a,e[1]=-s*a,e[2]=-r*a,e[3]=n*a,e):null},S=function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},x=function(e){return e[0]*e[3]-e[2]*e[1]},I=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=n[0],l=n[1],d=n[2],c=n[3];return e[0]=s*i+o*l,e[1]=r*i+a*l,e[2]=s*d+o*c,e[3]=r*d+a*c,e},y=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=Math.sin(n),l=Math.cos(n);return e[0]=s*l+o*i,e[1]=r*l+a*i,e[2]=s*-i+o*l,e[3]=r*-i+a*l,e},E=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=n[0],l=n[1];return e[0]=s*i,e[1]=r*i,e[2]=o*l,e[3]=a*l,e},T=function(e,t){var n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=n,e[2]=-n,e[3]=s,e},C=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},M=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},V=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},B=function(e,t,n,s){return e[2]=s[2]/s[0],n[0]=s[0],n[1]=s[1],n[3]=s[3]-e[2]*n[1],[e,t,n]},O=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},v=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e},P=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},w=function(e,t){var n=e[0],s=e[1],r=e[2],o=e[3],a=t[0],i=t[1],l=t[2],d=t[3];return Math.abs(n-a)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(s-i)<=EPSILON*Math.max(1,Math.abs(s),Math.abs(i))&&Math.abs(r-l)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-d)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(d))},A=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},D=function(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e},R=function(){var e=new ARRAY_TYPE(6);return ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e},F=function(e){var t=new ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},j=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},k=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},L=function(e,t,n,s,r,o){var a=new ARRAY_TYPE(6);return a[0]=e,a[1]=t,a[2]=n,a[3]=s,a[4]=r,a[5]=o,a},W=function(e,t,n,s,r,o,a){return e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o,e[5]=a,e},U=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=t[4],i=t[5],l=n*o-s*r;return l?(l=1/l,e[0]=o*l,e[1]=-s*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*i-o*a)*l,e[5]=(s*a-n*i)*l,e):null},H=function(e){return e[0]*e[3]-e[1]*e[2]},z=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],d=n[0],c=n[1],u=n[2],h=n[3],_=n[4],G=n[5];return e[0]=s*d+o*c,e[1]=r*d+a*c,e[2]=s*u+o*h,e[3]=r*u+a*h,e[4]=s*_+o*G+i,e[5]=r*_+a*G+l,e},Y=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],d=Math.sin(n),c=Math.cos(n);return e[0]=s*c+o*d,e[1]=r*c+a*d,e[2]=s*-d+o*c,e[3]=r*-d+a*c,e[4]=i,e[5]=l,e},X=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],d=n[0],c=n[1];return e[0]=s*d,e[1]=r*d,e[2]=o*c,e[3]=a*c,e[4]=i,e[5]=l,e},q=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],d=n[0],c=n[1];return e[0]=s,e[1]=r,e[2]=o,e[3]=a,e[4]=s*d+o*c+i,e[5]=r*d+a*c+l,e},K=function(e,t){var n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=n,e[2]=-n,e[3]=s,e[4]=0,e[5]=0,e},J=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},$=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},Z=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},Q=function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)},ee=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},te=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e},ne=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},se=function(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e[4]=t[4]+n[4]*s,e[5]=t[5]+n[5]*s,e},re=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},oe=function(e,t){var n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],i=e[5],l=t[0],d=t[1],c=t[2],u=t[3],h=t[4],_=t[5];return Math.abs(n-l)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(s-d)<=EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(r-c)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(o-u)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-h)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-_)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(_))},ae=function(){var e=new ARRAY_TYPE(9);return ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},ie=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},le=function(e){var t=new ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},de=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},ce=function(e,t,n,s,r,o,a,i,l){var d=new ARRAY_TYPE(9);return d[0]=e,d[1]=t,d[2]=n,d[3]=s,d[4]=r,d[5]=o,d[6]=a,d[7]=i,d[8]=l,d},ue=function(e,t,n,s,r,o,a,i,l,d){return e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o,e[5]=a,e[6]=i,e[7]=l,e[8]=d,e},he=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},_e=function(e,t){if(e===t){var n=t[1],s=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=s,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},Ge=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=t[4],i=t[5],l=t[6],d=t[7],c=t[8],u=c*a-i*d,h=-c*o+i*l,_=d*o-a*l,G=n*u+s*h+r*_;return G?(G=1/G,e[0]=u*G,e[1]=(-c*s+r*d)*G,e[2]=(i*s-r*a)*G,e[3]=h*G,e[4]=(c*n-r*l)*G,e[5]=(-i*n+r*o)*G,e[6]=_*G,e[7]=(-d*n+s*l)*G,e[8]=(a*n-s*o)*G,e):null},pe=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=t[4],i=t[5],l=t[6],d=t[7],c=t[8];return e[0]=a*c-i*d,e[1]=r*d-s*c,e[2]=s*i-r*a,e[3]=i*l-o*c,e[4]=n*c-r*l,e[5]=r*o-n*i,e[6]=o*d-a*l,e[7]=s*l-n*d,e[8]=n*a-s*o,e},me=function(e){var t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],i=e[6],l=e[7],d=e[8];return t*(d*o-a*l)+n*(-d*r+a*i)+s*(l*r-o*i)},ge=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],d=t[6],c=t[7],u=t[8],h=n[0],_=n[1],G=n[2],p=n[3],m=n[4],g=n[5],f=n[6],N=n[7],b=n[8];return e[0]=h*s+_*a+G*d,e[1]=h*r+_*i+G*c,e[2]=h*o+_*l+G*u,e[3]=p*s+m*a+g*d,e[4]=p*r+m*i+g*c,e[5]=p*o+m*l+g*u,e[6]=f*s+N*a+b*d,e[7]=f*r+N*i+b*c,e[8]=f*o+N*l+b*u,e},fe=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],d=t[6],c=t[7],u=t[8],h=n[0],_=n[1];return e[0]=s,e[1]=r,e[2]=o,e[3]=a,e[4]=i,e[5]=l,e[6]=h*s+_*a+d,e[7]=h*r+_*i+c,e[8]=h*o+_*l+u,e},Ne=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],d=t[6],c=t[7],u=t[8],h=Math.sin(n),_=Math.cos(n);return e[0]=_*s+h*a,e[1]=_*r+h*i,e[2]=_*o+h*l,e[3]=_*a-h*s,e[4]=_*i-h*r,e[5]=_*l-h*o,e[6]=d,e[7]=c,e[8]=u,e},be=function(e,t,n){var s=n[0],r=n[1];return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},Se=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},xe=function(e,t){var n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=n,e[2]=0,e[3]=-n,e[4]=s,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},Ie=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},ye=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},Ee=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=n+n,i=s+s,l=r+r,d=n*a,c=s*a,u=s*i,h=r*a,_=r*i,G=r*l,p=o*a,m=o*i,g=o*l;return e[0]=1-u-G,e[3]=c-g,e[6]=h+m,e[1]=c+g,e[4]=1-d-G,e[7]=_-p,e[2]=h-m,e[5]=_+p,e[8]=1-d-u,e},Te=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=t[4],i=t[5],l=t[6],d=t[7],c=t[8],u=t[9],h=t[10],_=t[11],G=t[12],p=t[13],m=t[14],g=t[15],f=n*i-s*a,N=n*l-r*a,b=n*d-o*a,S=s*l-r*i,x=s*d-o*i,I=r*d-o*l,y=c*p-u*G,E=c*m-h*G,T=c*g-_*G,C=u*m-h*p,M=u*g-_*p,V=h*g-_*m,B=f*V-N*M+b*C+S*T-x*E+I*y;return B?(B=1/B,e[0]=(i*V-l*M+d*C)*B,e[1]=(l*T-a*V-d*E)*B,e[2]=(a*M-i*T+d*y)*B,e[3]=(r*M-s*V-o*C)*B,e[4]=(n*V-r*T+o*E)*B,e[5]=(s*T-n*M-o*y)*B,e[6]=(p*I-m*x+g*S)*B,e[7]=(m*b-G*I-g*N)*B,e[8]=(G*x-p*b+g*f)*B,e):null},Ce=function(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},Me=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},Ve=function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},Be=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},Oe=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e},ve=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},Pe=function(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e[4]=t[4]+n[4]*s,e[5]=t[5]+n[5]*s,e[6]=t[6]+n[6]*s,e[7]=t[7]+n[7]*s,e[8]=t[8]+n[8]*s,e},we=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},Ae=function(e,t){var n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],i=e[5],l=e[6],d=e[7],c=e[8],u=t[0],h=t[1],_=t[2],G=t[3],p=t[4],m=t[5],g=t[6],f=t[7],N=t[8];return Math.abs(n-u)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(s-h)<=EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(r-_)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(o-G)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(G))&&Math.abs(a-p)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-m)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(l-g)<=EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(d-f)<=EPSILON*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(c-N)<=EPSILON*Math.max(1,Math.abs(c),Math.abs(N))},De=function(){var e=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},Re=function(e){var t=new ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},Fe=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},je=function(e,t,n,s,r,o,a,i,l,d,c,u,h,_,G,p){var m=new ARRAY_TYPE(16);return m[0]=e,m[1]=t,m[2]=n,m[3]=s,m[4]=r,m[5]=o,m[6]=a,m[7]=i,m[8]=l,m[9]=d,m[10]=c,m[11]=u,m[12]=h,m[13]=_,m[14]=G,m[15]=p,m},ke=function(e,t,n,s,r,o,a,i,l,d,c,u,h,_,G,p,m){return e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o,e[5]=a,e[6]=i,e[7]=l,e[8]=d,e[9]=c,e[10]=u,e[11]=h,e[12]=_,e[13]=G,e[14]=p,e[15]=m,e},Le=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},We=function(e,t){if(e===t){var n=t[1],s=t[2],r=t[3],o=t[6],a=t[7],i=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=o,e[11]=t[14],e[12]=r,e[13]=a,e[14]=i}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},Ue=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=t[4],i=t[5],l=t[6],d=t[7],c=t[8],u=t[9],h=t[10],_=t[11],G=t[12],p=t[13],m=t[14],g=t[15],f=n*i-s*a,N=n*l-r*a,b=n*d-o*a,S=s*l-r*i,x=s*d-o*i,I=r*d-o*l,y=c*p-u*G,E=c*m-h*G,T=c*g-_*G,C=u*m-h*p,M=u*g-_*p,V=h*g-_*m,B=f*V-N*M+b*C+S*T-x*E+I*y;return B?(B=1/B,e[0]=(i*V-l*M+d*C)*B,e[1]=(r*M-s*V-o*C)*B,e[2]=(p*I-m*x+g*S)*B,e[3]=(h*x-u*I-_*S)*B,e[4]=(l*T-a*V-d*E)*B,e[5]=(n*V-r*T+o*E)*B,e[6]=(m*b-G*I-g*N)*B,e[7]=(c*I-h*b+_*N)*B,e[8]=(a*M-i*T+d*y)*B,e[9]=(s*T-n*M-o*y)*B,e[10]=(G*x-p*b+g*f)*B,e[11]=(u*b-c*x-_*f)*B,e[12]=(i*E-a*C-l*y)*B,e[13]=(n*C-s*E+r*y)*B,e[14]=(p*N-G*S-m*f)*B,e[15]=(c*S-u*N+h*f)*B,e):null},He=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=t[4],i=t[5],l=t[6],d=t[7],c=t[8],u=t[9],h=t[10],_=t[11],G=t[12],p=t[13],m=t[14],g=t[15],f=n*i-s*a,N=n*l-r*a,b=n*d-o*a,S=s*l-r*i,x=s*d-o*i,I=r*d-o*l,y=c*p-u*G,E=c*m-h*G,T=c*g-_*G,C=u*m-h*p,M=u*g-_*p,V=h*g-_*m;return e[0]=i*V-l*M+d*C,e[1]=r*M-s*V-o*C,e[2]=p*I-m*x+g*S,e[3]=h*x-u*I-_*S,e[4]=l*T-a*V-d*E,e[5]=n*V-r*T+o*E,e[6]=m*b-G*I-g*N,e[7]=c*I-h*b+_*N,e[8]=a*M-i*T+d*y,e[9]=s*T-n*M-o*y,e[10]=G*x-p*b+g*f,e[11]=u*b-c*x-_*f,e[12]=i*E-a*C-l*y,e[13]=n*C-s*E+r*y,e[14]=p*N-G*S-m*f,e[15]=c*S-u*N+h*f,e},ze=function(e){var t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],i=e[6],l=e[7],d=e[8],c=e[9],u=e[10],h=e[11],_=e[12],G=e[13],p=e[14],m=t*a-n*o,g=t*i-s*o,f=n*i-s*a,N=d*G-c*_,b=d*p-u*_,S=c*p-u*G;return l*(t*S-n*b+s*N)-r*(o*S-a*b+i*N)+e[15]*(d*f-c*g+u*m)-h*(_*f-G*g+p*m)},Ye=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],d=t[6],c=t[7],u=t[8],h=t[9],_=t[10],G=t[11],p=t[12],m=t[13],g=t[14],f=t[15],N=n[0],b=n[1],S=n[2],x=n[3];return e[0]=N*s+b*i+S*u+x*p,e[1]=N*r+b*l+S*h+x*m,e[2]=N*o+b*d+S*_+x*g,e[3]=N*a+b*c+S*G+x*f,N=n[4],b=n[5],S=n[6],x=n[7],e[4]=N*s+b*i+S*u+x*p,e[5]=N*r+b*l+S*h+x*m,e[6]=N*o+b*d+S*_+x*g,e[7]=N*a+b*c+S*G+x*f,N=n[8],b=n[9],S=n[10],x=n[11],e[8]=N*s+b*i+S*u+x*p,e[9]=N*r+b*l+S*h+x*m,e[10]=N*o+b*d+S*_+x*g,e[11]=N*a+b*c+S*G+x*f,N=n[12],b=n[13],S=n[14],x=n[15],e[12]=N*s+b*i+S*u+x*p,e[13]=N*r+b*l+S*h+x*m,e[14]=N*o+b*d+S*_+x*g,e[15]=N*a+b*c+S*G+x*f,e},Xe=function(e,t,n){var s,r,o,a,i,l,d,c,u,h,_,G,p=n[0],m=n[1],g=n[2];return t===e?(e[12]=t[0]*p+t[4]*m+t[8]*g+t[12],e[13]=t[1]*p+t[5]*m+t[9]*g+t[13],e[14]=t[2]*p+t[6]*m+t[10]*g+t[14],e[15]=t[3]*p+t[7]*m+t[11]*g+t[15]):(s=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],d=t[6],c=t[7],u=t[8],h=t[9],_=t[10],G=t[11],e[0]=s,e[1]=r,e[2]=o,e[3]=a,e[4]=i,e[5]=l,e[6]=d,e[7]=c,e[8]=u,e[9]=h,e[10]=_,e[11]=G,e[12]=s*p+i*m+u*g+t[12],e[13]=r*p+l*m+h*g+t[13],e[14]=o*p+d*m+_*g+t[14],e[15]=a*p+c*m+G*g+t[15]),e},qe=function(e,t,n){var s=n[0],r=n[1],o=n[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},Ke=function(e,t,n,s){var r,o,a,i,l,d,c,u,h,_,G,p,m,g,f,N,b,S,x,I,y,E,T,C,M=s[0],V=s[1],B=s[2],O=Math.hypot(M,V,B);return O<EPSILON?null:(M*=O=1/O,V*=O,B*=O,r=Math.sin(n),a=1-(o=Math.cos(n)),i=t[0],l=t[1],d=t[2],c=t[3],u=t[4],h=t[5],_=t[6],G=t[7],p=t[8],m=t[9],g=t[10],f=t[11],N=M*M*a+o,b=V*M*a+B*r,S=B*M*a-V*r,x=M*V*a-B*r,I=V*V*a+o,y=B*V*a+M*r,E=M*B*a+V*r,T=V*B*a-M*r,C=B*B*a+o,e[0]=i*N+u*b+p*S,e[1]=l*N+h*b+m*S,e[2]=d*N+_*b+g*S,e[3]=c*N+G*b+f*S,e[4]=i*x+u*I+p*y,e[5]=l*x+h*I+m*y,e[6]=d*x+_*I+g*y,e[7]=c*x+G*I+f*y,e[8]=i*E+u*T+p*C,e[9]=l*E+h*T+m*C,e[10]=d*E+_*T+g*C,e[11]=c*E+G*T+f*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},Je=function(e,t,n){var s=Math.sin(n),r=Math.cos(n),o=t[4],a=t[5],i=t[6],l=t[7],d=t[8],c=t[9],u=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+d*s,e[5]=a*r+c*s,e[6]=i*r+u*s,e[7]=l*r+h*s,e[8]=d*r-o*s,e[9]=c*r-a*s,e[10]=u*r-i*s,e[11]=h*r-l*s,e},$e=function(e,t,n){var s=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],i=t[2],l=t[3],d=t[8],c=t[9],u=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r-d*s,e[1]=a*r-c*s,e[2]=i*r-u*s,e[3]=l*r-h*s,e[8]=o*s+d*r,e[9]=a*s+c*r,e[10]=i*s+u*r,e[11]=l*s+h*r,e},Ze=function(e,t,n){var s=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],i=t[2],l=t[3],d=t[4],c=t[5],u=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+d*s,e[1]=a*r+c*s,e[2]=i*r+u*s,e[3]=l*r+h*s,e[4]=d*r-o*s,e[5]=c*r-a*s,e[6]=u*r-i*s,e[7]=h*r-l*s,e},Qe=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},et=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},tt=function(e,t,n){var s,r,o,a=n[0],i=n[1],l=n[2],d=Math.hypot(a,i,l);return d<EPSILON?null:(a*=d=1/d,i*=d,l*=d,s=Math.sin(t),o=1-(r=Math.cos(t)),e[0]=a*a*o+r,e[1]=i*a*o+l*s,e[2]=l*a*o-i*s,e[3]=0,e[4]=a*i*o-l*s,e[5]=i*i*o+r,e[6]=l*i*o+a*s,e[7]=0,e[8]=a*l*o+i*s,e[9]=i*l*o-a*s,e[10]=l*l*o+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},nt=function(e,t){var n=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},st=function(e,t){var n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},rt=function(e,t){var n=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},ot=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=s+s,l=r+r,d=o+o,c=s*i,u=s*l,h=s*d,_=r*l,G=r*d,p=o*d,m=a*i,g=a*l,f=a*d;return e[0]=1-(_+p),e[1]=u+f,e[2]=h-g,e[3]=0,e[4]=u-f,e[5]=1-(c+p),e[6]=G+m,e[7]=0,e[8]=h+g,e[9]=G-m,e[10]=1-(c+_),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},at=function(e,t){var n=new ARRAY_TYPE(3),s=-t[0],r=-t[1],o=-t[2],a=t[3],i=t[4],l=t[5],d=t[6],c=t[7],u=s*s+r*r+o*o+a*a;return u>0?(n[0]=2*(i*a+c*s+l*o-d*r)/u,n[1]=2*(l*a+c*r+d*s-i*o)/u,n[2]=2*(d*a+c*o+i*r-l*s)/u):(n[0]=2*(i*a+c*s+l*o-d*r),n[1]=2*(l*a+c*r+d*s-i*o),n[2]=2*(d*a+c*o+i*r-l*s)),ot(e,t,n),e},it=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},lt=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[4],a=t[5],i=t[6],l=t[8],d=t[9],c=t[10];return e[0]=Math.hypot(n,s,r),e[1]=Math.hypot(o,a,i),e[2]=Math.hypot(l,d,c),e},dt=function(e,t){var n=new ARRAY_TYPE(3);lt(n,t);var s=1/n[0],r=1/n[1],o=1/n[2],a=t[0]*s,i=t[1]*r,l=t[2]*o,d=t[4]*s,c=t[5]*r,u=t[6]*o,h=t[8]*s,_=t[9]*r,G=t[10]*o,p=a+c+G,m=0;return p>0?(m=2*Math.sqrt(p+1),e[3]=.25*m,e[0]=(u-_)/m,e[1]=(h-l)/m,e[2]=(i-d)/m):a>c&&a>G?(m=2*Math.sqrt(1+a-c-G),e[3]=(u-_)/m,e[0]=.25*m,e[1]=(i+d)/m,e[2]=(h+l)/m):c>G?(m=2*Math.sqrt(1+c-a-G),e[3]=(h-l)/m,e[0]=(i+d)/m,e[1]=.25*m,e[2]=(u+_)/m):(m=2*Math.sqrt(1+G-a-c),e[3]=(i-d)/m,e[0]=(h+l)/m,e[1]=(u+_)/m,e[2]=.25*m),e},ct=function(e,t,n,s){t[0]=s[12],t[1]=s[13],t[2]=s[14];var r=s[0],o=s[1],a=s[2],i=s[4],l=s[5],d=s[6],c=s[8],u=s[9],h=s[10];n[0]=Math.hypot(r,o,a),n[1]=Math.hypot(i,l,d),n[2]=Math.hypot(c,u,h);var _=1/n[0],G=1/n[1],p=1/n[2],m=r*_,g=o*G,f=a*p,N=i*_,b=l*G,S=d*p,x=c*_,I=u*G,y=h*p,E=m+b+y,T=0;return E>0?(T=2*Math.sqrt(E+1),e[3]=.25*T,e[0]=(S-I)/T,e[1]=(x-f)/T,e[2]=(g-N)/T):m>b&&m>y?(T=2*Math.sqrt(1+m-b-y),e[3]=(S-I)/T,e[0]=.25*T,e[1]=(g+N)/T,e[2]=(x+f)/T):b>y?(T=2*Math.sqrt(1+b-m-y),e[3]=(x-f)/T,e[0]=(g+N)/T,e[1]=.25*T,e[2]=(S+I)/T):(T=2*Math.sqrt(1+y-m-b),e[3]=(g-N)/T,e[0]=(x+f)/T,e[1]=(S+I)/T,e[2]=.25*T),e},ut=function(e,t,n,s){var r=t[0],o=t[1],a=t[2],i=t[3],l=r+r,d=o+o,c=a+a,u=r*l,h=r*d,_=r*c,G=o*d,p=o*c,m=a*c,g=i*l,f=i*d,N=i*c,b=s[0],S=s[1],x=s[2];return e[0]=(1-(G+m))*b,e[1]=(h+N)*b,e[2]=(_-f)*b,e[3]=0,e[4]=(h-N)*S,e[5]=(1-(u+m))*S,e[6]=(p+g)*S,e[7]=0,e[8]=(_+f)*x,e[9]=(p-g)*x,e[10]=(1-(u+G))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},ht=function(e,t,n,s,r){var o=t[0],a=t[1],i=t[2],l=t[3],d=o+o,c=a+a,u=i+i,h=o*d,_=o*c,G=o*u,p=a*c,m=a*u,g=i*u,f=l*d,N=l*c,b=l*u,S=s[0],x=s[1],I=s[2],y=r[0],E=r[1],T=r[2],C=(1-(p+g))*S,M=(_+b)*S,V=(G-N)*S,B=(_-b)*x,O=(1-(h+g))*x,v=(m+f)*x,P=(G+N)*I,w=(m-f)*I,A=(1-(h+p))*I;return e[0]=C,e[1]=M,e[2]=V,e[3]=0,e[4]=B,e[5]=O,e[6]=v,e[7]=0,e[8]=P,e[9]=w,e[10]=A,e[11]=0,e[12]=n[0]+y-(C*y+B*E+P*T),e[13]=n[1]+E-(M*y+O*E+w*T),e[14]=n[2]+T-(V*y+v*E+A*T),e[15]=1,e},_t=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=n+n,i=s+s,l=r+r,d=n*a,c=s*a,u=s*i,h=r*a,_=r*i,G=r*l,p=o*a,m=o*i,g=o*l;return e[0]=1-u-G,e[1]=c+g,e[2]=h-m,e[3]=0,e[4]=c-g,e[5]=1-d-G,e[6]=_+p,e[7]=0,e[8]=h+m,e[9]=_-p,e[10]=1-d-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Gt=function(e,t,n,s,r,o,a){var i=1/(n-t),l=1/(r-s),d=1/(o-a);return e[0]=2*o*i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*i,e[9]=(r+s)*l,e[10]=(a+o)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*d,e[15]=0,e},pt=function(e,t,n,s,r){var o=1/Math.tan(t/2);if(e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0){var a=1/(s-r);e[10]=(r+s)*a,e[14]=2*r*s*a}else e[10]=-1,e[14]=-2*s;return e},mt=function(e,t,n,s,r){var o=1/Math.tan(t/2);if(e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0){var a=1/(s-r);e[10]=r*a,e[14]=r*s*a}else e[10]=-1,e[14]=-s;return e},gt=function(e,t,n,s){var r=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),i=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+i),d=2/(r+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=-(a-i)*l*.5,e[9]=(r-o)*d*.5,e[10]=s/(n-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*n/(n-s),e[15]=0,e},ft=function(e,t,n,s,r,o,a){var i=1/(t-n),l=1/(s-r),d=1/(o-a);return e[0]=-2*i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+n)*i,e[13]=(r+s)*l,e[14]=(a+o)*d,e[15]=1,e},Nt=function(e,t,n,s,r,o,a){var i=1/(t-n),l=1/(s-r),d=1/(o-a);return e[0]=-2*i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=d,e[11]=0,e[12]=(t+n)*i,e[13]=(r+s)*l,e[14]=o*d,e[15]=1,e},bt=function(e,t,n,s){var r,o,a,i,l,d,c,u,h,_,G=t[0],p=t[1],m=t[2],g=s[0],f=s[1],N=s[2],b=n[0],S=n[1],x=n[2];return Math.abs(G-b)<EPSILON&&Math.abs(p-S)<EPSILON&&Math.abs(m-x)<EPSILON?Le(e):(c=G-b,u=p-S,h=m-x,r=f*(h*=_=1/Math.hypot(c,u,h))-N*(u*=_),o=N*(c*=_)-g*h,a=g*u-f*c,(_=Math.hypot(r,o,a))?(r*=_=1/_,o*=_,a*=_):(r=0,o=0,a=0),i=u*a-h*o,l=h*r-c*a,d=c*o-u*r,(_=Math.hypot(i,l,d))?(i*=_=1/_,l*=_,d*=_):(i=0,l=0,d=0),e[0]=r,e[1]=i,e[2]=c,e[3]=0,e[4]=o,e[5]=l,e[6]=u,e[7]=0,e[8]=a,e[9]=d,e[10]=h,e[11]=0,e[12]=-(r*G+o*p+a*m),e[13]=-(i*G+l*p+d*m),e[14]=-(c*G+u*p+h*m),e[15]=1,e)},St=function(e,t,n,s){var r=t[0],o=t[1],a=t[2],i=s[0],l=s[1],d=s[2],c=r-n[0],u=o-n[1],h=a-n[2],_=c*c+u*u+h*h;_>0&&(c*=_=1/Math.sqrt(_),u*=_,h*=_);var G=l*h-d*u,p=d*c-i*h,m=i*u-l*c;return(_=G*G+p*p+m*m)>0&&(G*=_=1/Math.sqrt(_),p*=_,m*=_),e[0]=G,e[1]=p,e[2]=m,e[3]=0,e[4]=u*m-h*p,e[5]=h*G-c*m,e[6]=c*p-u*G,e[7]=0,e[8]=c,e[9]=u,e[10]=h,e[11]=0,e[12]=r,e[13]=o,e[14]=a,e[15]=1,e},xt=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},It=function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},yt=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},Et=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e},Tt=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},Ct=function(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e[4]=t[4]+n[4]*s,e[5]=t[5]+n[5]*s,e[6]=t[6]+n[6]*s,e[7]=t[7]+n[7]*s,e[8]=t[8]+n[8]*s,e[9]=t[9]+n[9]*s,e[10]=t[10]+n[10]*s,e[11]=t[11]+n[11]*s,e[12]=t[12]+n[12]*s,e[13]=t[13]+n[13]*s,e[14]=t[14]+n[14]*s,e[15]=t[15]+n[15]*s,e},Mt=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},Vt=function(e,t){var n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],i=e[5],l=e[6],d=e[7],c=e[8],u=e[9],h=e[10],_=e[11],G=e[12],p=e[13],m=e[14],g=e[15],f=t[0],N=t[1],b=t[2],S=t[3],x=t[4],I=t[5],y=t[6],E=t[7],T=t[8],C=t[9],M=t[10],V=t[11],B=t[12],O=t[13],v=t[14],P=t[15];return Math.abs(n-f)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(s-N)<=EPSILON*Math.max(1,Math.abs(s),Math.abs(N))&&Math.abs(r-b)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-S)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(a-x)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(i-I)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(I))&&Math.abs(l-y)<=EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(d-E)<=EPSILON*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(c-T)<=EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-C)<=EPSILON*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(h-M)<=EPSILON*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(_-V)<=EPSILON*Math.max(1,Math.abs(_),Math.abs(V))&&Math.abs(G-B)<=EPSILON*Math.max(1,Math.abs(G),Math.abs(B))&&Math.abs(p-O)<=EPSILON*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(m-v)<=EPSILON*Math.max(1,Math.abs(m),Math.abs(v))&&Math.abs(g-P)<=EPSILON*Math.max(1,Math.abs(g),Math.abs(P))},Bt=function(){var e=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e},Ot=function(e){var t=new ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},vt=function(e){var t=e[0],n=e[1],s=e[2];return Math.hypot(t,n,s)},Pt=function(e,t,n){var s=new ARRAY_TYPE(3);return s[0]=e,s[1]=t,s[2]=n,s},wt=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},At=function(e,t,n,s){return e[0]=t,e[1]=n,e[2]=s,e},Dt=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},Rt=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},Ft=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},jt=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},kt=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},Lt=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},Wt=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},Ut=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},Ht=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},zt=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},Yt=function(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e},Xt=function(e,t){var n=t[0]-e[0],s=t[1]-e[1],r=t[2]-e[2];return Math.hypot(n,s,r)},qt=function(e,t){var n=t[0]-e[0],s=t[1]-e[1],r=t[2]-e[2];return n*n+s*s+r*r},Kt=function(e){var t=e[0],n=e[1],s=e[2];return t*t+n*n+s*s},Jt=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},$t=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},Zt=function(e,t){var n=t[0],s=t[1],r=t[2],o=n*n+s*s+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},Qt=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},en=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=n[0],i=n[1],l=n[2];return e[0]=r*l-o*i,e[1]=o*a-s*l,e[2]=s*i-r*a,e},tn=function(e,t,n,s){var r=t[0],o=t[1],a=t[2];return e[0]=r+s*(n[0]-r),e[1]=o+s*(n[1]-o),e[2]=a+s*(n[2]-a),e},nn=function(e,t,n,s){var r=Math.acos(Math.min(Math.max(Qt(t,n),-1),1)),o=Math.sin(r),a=Math.sin((1-s)*r)/o,i=Math.sin(s*r)/o;return e[0]=a*t[0]+i*n[0],e[1]=a*t[1]+i*n[1],e[2]=a*t[2]+i*n[2],e},sn=function(e,t,n,s,r,o){var a=o*o,i=a*(2*o-3)+1,l=a*(o-2)+o,d=a*(o-1),c=a*(3-2*o);return e[0]=t[0]*i+n[0]*l+s[0]*d+r[0]*c,e[1]=t[1]*i+n[1]*l+s[1]*d+r[1]*c,e[2]=t[2]*i+n[2]*l+s[2]*d+r[2]*c,e},rn=function(e,t,n,s,r,o){var a=1-o,i=a*a,l=o*o,d=i*a,c=3*o*i,u=3*l*a,h=l*o;return e[0]=t[0]*d+n[0]*c+s[0]*u+r[0]*h,e[1]=t[1]*d+n[1]*c+s[1]*u+r[1]*h,e[2]=t[2]*d+n[2]*c+s[2]*u+r[2]*h,e},on=function(e,t){t=t||1;var n=2*RANDOM()*Math.PI,s=2*RANDOM()-1,r=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e[2]=s*t,e},an=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=n[3]*s+n[7]*r+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*s+n[4]*r+n[8]*o+n[12])/a,e[1]=(n[1]*s+n[5]*r+n[9]*o+n[13])/a,e[2]=(n[2]*s+n[6]*r+n[10]*o+n[14])/a,e},dn=function(e,t,n){var s=t[0],r=t[1],o=t[2];return e[0]=s*n[0]+r*n[3]+o*n[6],e[1]=s*n[1]+r*n[4]+o*n[7],e[2]=s*n[2]+r*n[5]+o*n[8],e},cn=function(e,t,n){var s=n[0],r=n[1],o=n[2],a=n[3],i=t[0],l=t[1],d=t[2],c=r*d-o*l,u=o*i-s*d,h=s*l-r*i,_=r*h-o*u,G=o*c-s*h,p=s*u-r*c,m=2*a;return c*=m,u*=m,h*=m,_*=2,G*=2,p*=2,e[0]=i+c+_,e[1]=l+u+G,e[2]=d+h+p,e},un=function(e,t,n,s){var r=[],o=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(s)-r[2]*Math.sin(s),o[2]=r[1]*Math.sin(s)+r[2]*Math.cos(s),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},hn=function(e,t,n,s){var r=[],o=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],o[0]=r[2]*Math.sin(s)+r[0]*Math.cos(s),o[1]=r[1],o[2]=r[2]*Math.cos(s)-r[0]*Math.sin(s),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},_n=function(e,t,n,s){var r=[],o=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],o[0]=r[0]*Math.cos(s)-r[1]*Math.sin(s),o[1]=r[0]*Math.sin(s)+r[1]*Math.cos(s),o[2]=r[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},Gn=function(e,t){var n=e[0],s=e[1],r=e[2],o=t[0],a=t[1],i=t[2],l=Math.sqrt((n*n+s*s+r*r)*(o*o+a*a+i*i)),d=l&&Qt(e,t)/l;return Math.acos(Math.min(Math.max(d,-1),1))},pn=function(e){return e[0]=0,e[1]=0,e[2]=0,e},mn=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},gn=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},fn=function(e,t){var n=e[0],s=e[1],r=e[2],o=t[0],a=t[1],i=t[2];return Math.abs(n-o)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(s-a)<=EPSILON*Math.max(1,Math.abs(s),Math.abs(a))&&Math.abs(r-i)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(i))},Nn=function(){var e=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e},bn=function(e){var t=new ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},Sn=function(e,t,n,s){var r=new ARRAY_TYPE(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=s,r},xn=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},In=function(e,t,n,s,r){return e[0]=t,e[1]=n,e[2]=s,e[3]=r,e},yn=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},En=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e},Tn=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},Cn=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},Mn=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},Vn=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},Bn=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},On=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},vn=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},Pn=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},wn=function(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e[2]=t[2]+n[2]*s,e[3]=t[3]+n[3]*s,e},An=function(e,t){var n=t[0]-e[0],s=t[1]-e[1],r=t[2]-e[2],o=t[3]-e[3];return Math.hypot(n,s,r,o)},Dn=function(e,t){var n=t[0]-e[0],s=t[1]-e[1],r=t[2]-e[2],o=t[3]-e[3];return n*n+s*s+r*r+o*o},Rn=function(e){var t=e[0],n=e[1],s=e[2],r=e[3];return Math.hypot(t,n,s,r)},Fn=function(e){var t=e[0],n=e[1],s=e[2],r=e[3];return t*t+n*n+s*s+r*r},jn=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},kn=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},Ln=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=n*n+s*s+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=s*a,e[2]=r*a,e[3]=o*a,e},Wn=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},Un=function(e,t,n,s){var r=n[0]*s[1]-n[1]*s[0],o=n[0]*s[2]-n[2]*s[0],a=n[0]*s[3]-n[3]*s[0],i=n[1]*s[2]-n[2]*s[1],l=n[1]*s[3]-n[3]*s[1],d=n[2]*s[3]-n[3]*s[2],c=t[0],u=t[1],h=t[2],_=t[3];return e[0]=u*d-h*l+_*i,e[1]=-c*d+h*a-_*o,e[2]=c*l-u*a+_*r,e[3]=-c*i+u*o-h*r,e},Hn=function(e,t,n,s){var r=t[0],o=t[1],a=t[2],i=t[3];return e[0]=r+s*(n[0]-r),e[1]=o+s*(n[1]-o),e[2]=a+s*(n[2]-a),e[3]=i+s*(n[3]-i),e},zn=function(e,t){var n,s,r,o,a,i;t=t||1;do{a=(n=2*RANDOM()-1)*n+(s=2*RANDOM()-1)*s}while(a>=1);do{i=(r=2*RANDOM()-1)*r+(o=2*RANDOM()-1)*o}while(i>=1);var l=Math.sqrt((1-a)/i);return e[0]=t*n,e[1]=t*s,e[2]=t*r*l,e[3]=t*o*l,e},Yn=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3];return e[0]=n[0]*s+n[4]*r+n[8]*o+n[12]*a,e[1]=n[1]*s+n[5]*r+n[9]*o+n[13]*a,e[2]=n[2]*s+n[6]*r+n[10]*o+n[14]*a,e[3]=n[3]*s+n[7]*r+n[11]*o+n[15]*a,e},Xn=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=n[0],i=n[1],l=n[2],d=n[3],c=d*s+i*o-l*r,u=d*r+l*s-a*o,h=d*o+a*r-i*s,_=-a*s-i*r-l*o;return e[0]=c*d+_*-a+u*-l-h*-i,e[1]=u*d+_*-i+h*-a-c*-l,e[2]=h*d+_*-l+c*-i-u*-a,e[3]=t[3],e},qn=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},Kn=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},Jn=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},$n=function(e,t){var n=e[0],s=e[1],r=e[2],o=e[3],a=t[0],i=t[1],l=t[2],d=t[3];return Math.abs(n-a)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(s-i)<=EPSILON*Math.max(1,Math.abs(s),Math.abs(i))&&Math.abs(r-l)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-d)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(d))},Zn=function(){var e=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e},Qn=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},es=function(e,t,n){n*=.5;var s=Math.sin(n);return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=Math.cos(n),e},ts=function(e,t){var n=2*Math.acos(t[3]),s=Math.sin(n/2);return s>EPSILON?(e[0]=t[0]/s,e[1]=t[1]/s,e[2]=t[2]/s):(e[0]=1,e[1]=0,e[2]=0),n},ns=function(e,t){var n=dot$2(e,t);return Math.acos(2*n*n-1)},ss=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=n[0],l=n[1],d=n[2],c=n[3];return e[0]=s*c+a*i+r*d-o*l,e[1]=r*c+a*l+o*i-s*d,e[2]=o*c+a*d+s*l-r*i,e[3]=a*c-s*i-r*l-o*d,e},rs=function(e,t,n){n*=.5;var s=t[0],r=t[1],o=t[2],a=t[3],i=Math.sin(n),l=Math.cos(n);return e[0]=s*l+a*i,e[1]=r*l+o*i,e[2]=o*l-r*i,e[3]=a*l-s*i,e},os=function(e,t,n){n*=.5;var s=t[0],r=t[1],o=t[2],a=t[3],i=Math.sin(n),l=Math.cos(n);return e[0]=s*l-o*i,e[1]=r*l+a*i,e[2]=o*l+s*i,e[3]=a*l-r*i,e},as=function(e,t,n){n*=.5;var s=t[0],r=t[1],o=t[2],a=t[3],i=Math.sin(n),l=Math.cos(n);return e[0]=s*l+r*i,e[1]=r*l-s*i,e[2]=o*l+a*i,e[3]=a*l-o*i,e},is=function(e,t){var n=t[0],s=t[1],r=t[2];return e[0]=n,e[1]=s,e[2]=r,e[3]=Math.sqrt(Math.abs(1-n*n-s*s-r*r)),e},ls=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=Math.sqrt(n*n+s*s+r*r),i=Math.exp(o),l=a>0?i*Math.sin(a)/a:0;return e[0]=n*l,e[1]=s*l,e[2]=r*l,e[3]=i*Math.cos(a),e},ds=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=Math.sqrt(n*n+s*s+r*r),i=a>0?Math.atan2(a,o)/a:0;return e[0]=n*i,e[1]=s*i,e[2]=r*i,e[3]=.5*Math.log(n*n+s*s+r*r+o*o),e},cs=function(e,t,n){return ds(e,t),scale$2(e,e,n),ls(e,e),e},us=function(e,t,n,s){var r,o,a,i,l,d=t[0],c=t[1],u=t[2],h=t[3],_=n[0],G=n[1],p=n[2],m=n[3];return(o=d*_+c*G+u*p+h*m)<0&&(o=-o,_=-_,G=-G,p=-p,m=-m),1-o>EPSILON?(r=Math.acos(o),a=Math.sin(r),i=Math.sin((1-s)*r)/a,l=Math.sin(s*r)/a):(i=1-s,l=s),e[0]=i*d+l*_,e[1]=i*c+l*G,e[2]=i*u+l*p,e[3]=i*h+l*m,e},hs=function(e){var t=RANDOM(),n=RANDOM(),s=RANDOM(),r=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=r*Math.sin(2*Math.PI*n),e[1]=r*Math.cos(2*Math.PI*n),e[2]=o*Math.sin(2*Math.PI*s),e[3]=o*Math.cos(2*Math.PI*s),e},_s=function(e,t){var n=t[0],s=t[1],r=t[2],o=t[3],a=n*n+s*s+r*r+o*o,i=a?1/a:0;return e[0]=-n*i,e[1]=-s*i,e[2]=-r*i,e[3]=o*i,e},Gs=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},ps=function(e,t){var n,s=t[0]+t[4]+t[8];if(s>0)n=Math.sqrt(s+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);var o=(r+1)%3,a=(r+2)%3;n=Math.sqrt(t[3*r+r]-t[3*o+o]-t[3*a+a]+1),e[r]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+r]+t[3*r+o])*n,e[a]=(t[3*a+r]+t[3*r+a])*n}return e},ms=function(e,t,n,s){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ANGLE_ORDER,o=Math.PI/360;t*=o,s*=o,n*=o;var a=Math.sin(t),i=Math.cos(t),l=Math.sin(n),d=Math.cos(n),c=Math.sin(s),u=Math.cos(s);switch(r){case"xyz":e[0]=a*d*u+i*l*c,e[1]=i*l*u-a*d*c,e[2]=i*d*c+a*l*u,e[3]=i*d*u-a*l*c;break;case"xzy":e[0]=a*d*u-i*l*c,e[1]=i*l*u-a*d*c,e[2]=i*d*c+a*l*u,e[3]=i*d*u+a*l*c;break;case"yxz":e[0]=a*d*u+i*l*c,e[1]=i*l*u-a*d*c,e[2]=i*d*c-a*l*u,e[3]=i*d*u+a*l*c;break;case"yzx":e[0]=a*d*u+i*l*c,e[1]=i*l*u+a*d*c,e[2]=i*d*c-a*l*u,e[3]=i*d*u-a*l*c;break;case"zxy":e[0]=a*d*u-i*l*c,e[1]=i*l*u+a*d*c,e[2]=i*d*c+a*l*u,e[3]=i*d*u-a*l*c;break;case"zyx":e[0]=a*d*u-i*l*c,e[1]=i*l*u+a*d*c,e[2]=i*d*c-a*l*u,e[3]=i*d*u+a*l*c;break;default:throw new Error("Unknown angle order "+r)}return e},gs=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},fs=function(e,t){return Math.abs(Wn(e,t))>=1-EPSILON},Ns=function(){var e=new ARRAY_TYPE(8);return ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e},bs=function(e){var t=new ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t},Ss=function(e,t,n,s,r,o,a,i){var l=new ARRAY_TYPE(8);return l[0]=e,l[1]=t,l[2]=n,l[3]=s,l[4]=r,l[5]=o,l[6]=a,l[7]=i,l},xs=function(e,t,n,s,r,o,a){var i=new ARRAY_TYPE(8);i[0]=e,i[1]=t,i[2]=n,i[3]=s;var l=.5*r,d=.5*o,c=.5*a;return i[4]=l*s+d*n-c*t,i[5]=d*s+c*e-l*n,i[6]=c*s+l*t-d*e,i[7]=-l*e-d*t-c*n,i},Is=function(e,t,n){var s=.5*n[0],r=.5*n[1],o=.5*n[2],a=t[0],i=t[1],l=t[2],d=t[3];return e[0]=a,e[1]=i,e[2]=l,e[3]=d,e[4]=s*d+r*l-o*i,e[5]=r*d+o*a-s*l,e[6]=o*d+s*i-r*a,e[7]=-s*a-r*i-o*l,e},ys=function(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e},Es=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},Ts=function(e,t){var n=Zn();dt(n,t);var s=new ARRAY_TYPE(3);return it(s,t),Is(e,n,s),e},Cs=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e},Ms=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},Vs=function(e,t,n,s,r,o,a,i,l){return e[0]=t,e[1]=n,e[2]=s,e[3]=r,e[4]=o,e[5]=a,e[6]=i,e[7]=l,e},Bs=function(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e},Os=function(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e},vs=function(e,t){var n=t[4],s=t[5],r=t[6],o=t[7],a=-t[0],i=-t[1],l=-t[2],d=t[3];return e[0]=2*(n*d+o*a+s*l-r*i),e[1]=2*(s*d+o*i+r*a-n*l),e[2]=2*(r*d+o*l+n*i-s*a),e},Ps=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=.5*n[0],l=.5*n[1],d=.5*n[2],c=t[4],u=t[5],h=t[6],_=t[7];return e[0]=s,e[1]=r,e[2]=o,e[3]=a,e[4]=a*i+r*d-o*l+c,e[5]=a*l+o*i-s*d+u,e[6]=a*d+s*l-r*i+h,e[7]=-s*i-r*l-o*d+_,e},ws=function(e,t,n){var s=-t[0],r=-t[1],o=-t[2],a=t[3],i=t[4],l=t[5],d=t[6],c=t[7],u=i*a+c*s+l*o-d*r,h=l*a+c*r+d*s-i*o,_=d*a+c*o+i*r-l*s,G=c*a-i*s-l*r-d*o;return rs(e,t,n),s=e[0],r=e[1],o=e[2],a=e[3],e[4]=u*a+G*s+h*o-_*r,e[5]=h*a+G*r+_*s-u*o,e[6]=_*a+G*o+u*r-h*s,e[7]=G*a-u*s-h*r-_*o,e},As=function(e,t,n){var s=-t[0],r=-t[1],o=-t[2],a=t[3],i=t[4],l=t[5],d=t[6],c=t[7],u=i*a+c*s+l*o-d*r,h=l*a+c*r+d*s-i*o,_=d*a+c*o+i*r-l*s,G=c*a-i*s-l*r-d*o;return os(e,t,n),s=e[0],r=e[1],o=e[2],a=e[3],e[4]=u*a+G*s+h*o-_*r,e[5]=h*a+G*r+_*s-u*o,e[6]=_*a+G*o+u*r-h*s,e[7]=G*a-u*s-h*r-_*o,e},Ds=function(e,t,n){var s=-t[0],r=-t[1],o=-t[2],a=t[3],i=t[4],l=t[5],d=t[6],c=t[7],u=i*a+c*s+l*o-d*r,h=l*a+c*r+d*s-i*o,_=d*a+c*o+i*r-l*s,G=c*a-i*s-l*r-d*o;return as(e,t,n),s=e[0],r=e[1],o=e[2],a=e[3],e[4]=u*a+G*s+h*o-_*r,e[5]=h*a+G*r+_*s-u*o,e[6]=_*a+G*o+u*r-h*s,e[7]=G*a-u*s-h*r-_*o,e},Rs=function(e,t,n){var s=n[0],r=n[1],o=n[2],a=n[3],i=t[0],l=t[1],d=t[2],c=t[3];return e[0]=i*a+c*s+l*o-d*r,e[1]=l*a+c*r+d*s-i*o,e[2]=d*a+c*o+i*r-l*s,e[3]=c*a-i*s-l*r-d*o,i=t[4],l=t[5],d=t[6],c=t[7],e[4]=i*a+c*s+l*o-d*r,e[5]=l*a+c*r+d*s-i*o,e[6]=d*a+c*o+i*r-l*s,e[7]=c*a-i*s-l*r-d*o,e},Fs=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=n[0],l=n[1],d=n[2],c=n[3];return e[0]=s*c+a*i+r*d-o*l,e[1]=r*c+a*l+o*i-s*d,e[2]=o*c+a*d+s*l-r*i,e[3]=a*c-s*i-r*l-o*d,i=n[4],l=n[5],d=n[6],c=n[7],e[4]=s*c+a*i+r*d-o*l,e[5]=r*c+a*l+o*i-s*d,e[6]=o*c+a*d+s*l-r*i,e[7]=a*c-s*i-r*l-o*d,e},js=function(e,t,n,s){if(Math.abs(s)<EPSILON)return Cs(e,t);var r=Math.hypot(n[0],n[1],n[2]);s*=.5;var o=Math.sin(s),a=o*n[0]/r,i=o*n[1]/r,l=o*n[2]/r,d=Math.cos(s),c=t[0],u=t[1],h=t[2],_=t[3];e[0]=c*d+_*a+u*l-h*i,e[1]=u*d+_*i+h*a-c*l,e[2]=h*d+_*l+c*i-u*a,e[3]=_*d-c*a-u*i-h*l;var G=t[4],p=t[5],m=t[6],g=t[7];return e[4]=G*d+g*a+p*l-m*i,e[5]=p*d+g*i+m*a-G*l,e[6]=m*d+g*l+G*i-p*a,e[7]=g*d-G*a-p*i-m*l,e},ks=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e},Ls=function(e,t,n){var s=t[0],r=t[1],o=t[2],a=t[3],i=n[4],l=n[5],d=n[6],c=n[7],u=t[4],h=t[5],_=t[6],G=t[7],p=n[0],m=n[1],g=n[2],f=n[3];return e[0]=s*f+a*p+r*g-o*m,e[1]=r*f+a*m+o*p-s*g,e[2]=o*f+a*g+s*m-r*p,e[3]=a*f-s*p-r*m-o*g,e[4]=s*c+a*i+r*d-o*l+u*f+G*p+h*g-_*m,e[5]=r*c+a*l+o*i-s*d+h*f+G*m+_*p-u*g,e[6]=o*c+a*d+s*l-r*i+_*f+G*g+u*m-h*p,e[7]=a*c-s*i-r*l-o*d+G*f-u*p-h*m-_*g,e},Ws=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e},Us=function(e,t,n,s){var r=1-s;return dot$1(t,n)<0&&(s=-s),e[0]=t[0]*r+n[0]*s,e[1]=t[1]*r+n[1]*s,e[2]=t[2]*r+n[2]*s,e[3]=t[3]*r+n[3]*s,e[4]=t[4]*r+n[4]*s,e[5]=t[5]*r+n[5]*s,e[6]=t[6]*r+n[6]*s,e[7]=t[7]*r+n[7]*s,e},Hs=function(e,t){var n=squaredLength$1(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e},zs=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e},Ys=function(e,t){var n=squaredLength$1(t);if(n>0){n=Math.sqrt(n);var s=t[0]/n,r=t[1]/n,o=t[2]/n,a=t[3]/n,i=t[4],l=t[5],d=t[6],c=t[7],u=s*i+r*l+o*d+a*c;e[0]=s,e[1]=r,e[2]=o,e[3]=a,e[4]=(i-s*u)/n,e[5]=(l-r*u)/n,e[6]=(d-o*u)/n,e[7]=(c-a*u)/n}return e},Xs=function(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"},qs=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]},Ks=function(e,t){var n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],i=e[5],l=e[6],d=e[7],c=t[0],u=t[1],h=t[2],_=t[3],G=t[4],p=t[5],m=t[6],g=t[7];return Math.abs(n-c)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(s-u)<=EPSILON*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(r-h)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-_)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-G)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(G))&&Math.abs(i-p)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(l-m)<=EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(d-g)<=EPSILON*Math.max(1,Math.abs(d),Math.abs(g))},Js=function(){var e=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e},$s=function(e){var t=new ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},Zs=function(e,t){var n=new ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},Qs=function(e,t){return e[0]=t[0],e[1]=t[1],e},er=function(e,t,n){return e[0]=t,e[1]=n,e},tr=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},nr=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},sr=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},rr=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},ar=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},ir=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},lr=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},dr=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},cr=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},ur=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},hr=function(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e},_r=function(e,t){var n=t[0]-e[0],s=t[1]-e[1];return Math.hypot(n,s)},Gr=function(e,t){var n=t[0]-e[0],s=t[1]-e[1];return n*n+s*s},pr=function(e){var t=e[0],n=e[1];return Math.hypot(t,n)},mr=function(e){var t=e[0],n=e[1];return t*t+n*n},gr=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},fr=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},Nr=function(e,t){var n=t[0],s=t[1],r=n*n+s*s;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e},br=function(e,t){return e[0]*t[0]+e[1]*t[1]},Sr=function(e,t,n){var s=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=s,e},xr=function(e,t,n,s){var r=t[0],o=t[1];return e[0]=r+s*(n[0]-r),e[1]=o+s*(n[1]-o),e},Ir=function(e,t){t=t||1;var n=2*RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},yr=function(e,t,n){var s=t[0],r=t[1];return e[0]=n[0]*s+n[2]*r,e[1]=n[1]*s+n[3]*r,e},Er=function(e,t,n){var s=t[0],r=t[1];return e[0]=n[0]*s+n[2]*r+n[4],e[1]=n[1]*s+n[3]*r+n[5],e},Tr=function(e,t,n){var s=t[0],r=t[1];return e[0]=n[0]*s+n[3]*r+n[6],e[1]=n[1]*s+n[4]*r+n[7],e},Cr=function(e,t,n){var s=t[0],r=t[1];return e[0]=n[0]*s+n[4]*r+n[12],e[1]=n[1]*s+n[5]*r+n[13],e},Mr=function(e,t,n,s){var r=t[0]-n[0],o=t[1]-n[1],a=Math.sin(s),i=Math.cos(s);return e[0]=r*i-o*a+n[0],e[1]=r*a+o*i+n[1],e},Vr=function(e,t){var n=e[0],s=e[1],r=t[0],o=t[1],a=Math.sqrt((n*n+s*s)*(r*r+o*o)),i=a&&(n*r+s*o)/a;return Math.acos(Math.min(Math.max(i,-1),1))},Br=function(e){return e[0]=0,e[1]=0,e},Or=function(e){return"vec2("+e[0]+", "+e[1]+")"},vr=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Pr=function(e,t){var n=e[0],s=e[1],r=t[0],o=t[1];return Math.abs(n-r)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(s-o)<=EPSILON*Math.max(1,Math.abs(s),Math.abs(o))};setMatrixArrayType=e,toRadian=n,equals$9=u,create$8=h,clone$8=_,copy$8=G,identity$5=p,fromValues$8=m,set$8=g,transpose$2=N,invert$5=b,adjoint$2=S,determinant$3=x,multiply$8=I,rotate$4=y,scale$8=E,fromRotation$4=T,fromScaling$3=C,str$8=M,frob$3=V,LDU=B,add$8=O,subtract$6=v,exactEquals$8=P,equals$8=w,multiplyScalar$3=A,multiplyScalarAndAdd$3=D,create$7=R,clone$7=F,copy$7=j,identity$4=k,fromValues$7=L,set$7=W,invert$4=U,determinant$2=H,multiply$7=z,rotate$3=Y,scale$7=X,translate$3=q,fromRotation$3=K,fromScaling$2=J,fromTranslation$3=$,str$7=Z,frob$2=Q,add$7=ee,subtract$5=te,multiplyScalar$2=ne,multiplyScalarAndAdd$2=se,exactEquals$7=re,equals$7=oe,create$6=ae,fromMat4$1=ie,clone$6=le,copy$6=de,fromValues$6=ce,set$6=ue,identity$3=he,transpose$1=_e,invert$3=Ge,adjoint$1=pe,determinant$1=me,multiply$6=ge,translate$2=fe,rotate$2=Ne,scale$6=be,fromTranslation$2=Se,fromRotation$2=xe,fromScaling$1=Ie,fromMat2d=ye,fromQuat$1=Ee,normalFromMat4=Te,projection=Ce,str$6=Me,frob$1=Ve,add$6=Be,subtract$4=Oe,multiplyScalar$1=ve,multiplyScalarAndAdd$1=Pe,exactEquals$6=we,equals$6=Ae,create$5=De,clone$5=Re,copy$5=Fe,fromValues$5=je,set$5=ke,identity$2=Le,transpose=We,invert$2=Ue,adjoint=He,determinant=ze,multiply$5=Ye,translate$1=Xe,scale$5=qe,rotate$1=Ke,rotateX$3=Je,rotateY$3=$e,rotateZ$3=Ze,fromTranslation$1=Qe,fromScaling=et,fromRotation$1=tt,fromXRotation=nt,fromYRotation=st,fromZRotation=rt,fromRotationTranslation$1=ot,fromQuat2=at,getTranslation$1=it,getScaling=lt,getRotation=dt,decompose=ct,fromRotationTranslationScale=ut,fromRotationTranslationScaleOrigin=ht,fromQuat=_t,frustum=Gt,perspectiveNO=pt,perspectiveZO=mt,perspectiveFromFieldOfView=gt,orthoNO=ft,orthoZO=Nt,lookAt=bt,targetTo=St,str$5=xt,frob=It,add$5=yt,subtract$3=Et,multiplyScalar=Tt,multiplyScalarAndAdd=Ct,exactEquals$5=Mt,equals$5=Vt,create$4=Bt,clone$4=Ot,length$4=vt,fromValues$4=Pt,copy$4=wt,set$4=At,add$4=Dt,subtract$2=Rt,multiply$4=Ft,divide$2=jt,ceil$2=kt,floor$2=Lt,min$2=Wt,max$2=Ut,round$2=Ht,scale$4=zt,scaleAndAdd$2=Yt,distance$2=Xt,squaredDistance$2=qt,squaredLength$4=Kt,negate$2=Jt,inverse$2=$t,normalize$4=Zt,dot$4=Qt,cross$2=en,lerp$4=tn,slerp$1=nn,hermite=sn,bezier=rn,random$3=on,transformMat4$2=an,transformMat3$1=dn,transformQuat$1=cn,rotateX$2=un,rotateY$2=hn,rotateZ$2=_n,angle$1=Gn,zero$2=pn,str$4=mn,exactEquals$4=gn,equals$4=fn,create$3=Nn,clone$3=bn,fromValues$3=Sn,copy$3=xn,set$3=In,add$3=yn,subtract$1=En,multiply$3=Tn,divide$1=Cn,ceil$1=Mn,floor$1=Vn,min$1=Bn,max$1=On,round$1=vn,scale$3=Pn,scaleAndAdd$1=wn,distance$1=An,squaredDistance$1=Dn,length$3=Rn,squaredLength$3=Fn,negate$1=jn,inverse$1=kn,normalize$3=Ln,dot$3=Wn,cross$1=Un,lerp$3=Hn,random$2=zn,transformMat4$1=Yn,transformQuat=Xn,zero$1=qn,str$3=Kn,exactEquals$3=Jn,equals$3=$n,create$2=Zn,identity$1=Qn,setAxisAngle=es,getAxisAngle=ts,getAngle=ns,multiply$2=ss,rotateX$1=rs,rotateY$1=os,rotateZ$1=as,calculateW=is,exp=ls,ln=ds,pow=cs,slerp=us,random$1=hs,invert$1=_s,conjugate$1=Gs,fromMat3=ps,fromEuler=ms,str$2=gs,equals$2=fs,create$1=Ns,clone$1=bs,fromValues$1=Ss,fromRotationTranslationValues=xs,fromRotationTranslation=Is,fromTranslation=ys,fromRotation=Es,fromMat4=Ts,copy$1=Cs,identity=Ms,set$1=Vs,getDual=Bs,setDual=Os,getTranslation=vs,translate=Ps,rotateX=ws,rotateY=As,rotateZ=Ds,rotateByQuatAppend=Rs,rotateByQuatPrepend=Fs,rotateAroundAxis=js,add$1=ks,multiply$1=Ls,scale$1=Ws,lerp$1=Us,invert=Hs,conjugate=zs,normalize$1=Ys,str$1=Xs,exactEquals$1=qs,equals$1=Ks,create=Js,clone=$s,fromValues=Zs,copy=Qs,set=er,add=tr,subtract=nr,multiply=sr,divide=rr,ceil=ar,floor=ir,min=lr,max=dr,round=cr,scale=ur,scaleAndAdd=hr,distance=_r,squaredDistance=Gr,length=pr,squaredLength=mr,negate=gr,inverse=fr,normalize=Nr,dot=br,cross=Sr,lerp=xr,random=Ir,transformMat2=yr,transformMat2d=Er,transformMat3=Tr,transformMat4=Cr,rotate=Mr,angle=Vr,zero=Br,str=Or,exactEquals=vr,equals=Pr,EPSILON=1e-6,ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,RANDOM=Math.random,ANGLE_ORDER="zyx",degree=Math.PI/180,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),common={__proto__:null,EPSILON:EPSILON,get ARRAY_TYPE(){return ARRAY_TYPE},RANDOM:RANDOM,ANGLE_ORDER:ANGLE_ORDER,setMatrixArrayType:e,toRadian:n,equals:u},mul$8=I,sub$6=v,mat2=Object.freeze({__proto__:null,create:h,clone:_,copy:G,identity:p,fromValues:m,set:g,transpose:N,invert:b,adjoint:S,determinant:x,multiply:I,rotate:y,scale:E,fromRotation:T,fromScaling:C,str:M,frob:V,LDU:B,add:O,subtract:v,exactEquals:P,equals:w,multiplyScalar:A,multiplyScalarAndAdd:D,mul:mul$8,sub:sub$6}),mul$7=z,sub$5=te,mat2d=Object.freeze({__proto__:null,create:R,clone:F,copy:j,identity:k,fromValues:L,set:W,invert:U,determinant:H,multiply:z,rotate:Y,scale:X,translate:q,fromRotation:K,fromScaling:J,fromTranslation:$,str:Z,frob:Q,add:ee,subtract:te,multiplyScalar:ne,multiplyScalarAndAdd:se,exactEquals:re,equals:oe,mul:mul$7,sub:sub$5}),mul$6=ge,sub$4=Oe,mat3=Object.freeze({__proto__:null,create:ae,fromMat4:ie,clone:le,copy:de,fromValues:ce,set:ue,identity:he,transpose:_e,invert:Ge,adjoint:pe,determinant:me,multiply:ge,translate:fe,rotate:Ne,scale:be,fromTranslation:Se,fromRotation:xe,fromScaling:Ie,fromMat2d:ye,fromQuat:Ee,normalFromMat4:Te,projection:Ce,str:Me,frob:Ve,add:Be,subtract:Oe,multiplyScalar:ve,multiplyScalarAndAdd:Pe,exactEquals:we,equals:Ae,mul:mul$6,sub:sub$4}),perspective=pt,ortho=ft,mul$5=Ye,sub$3=Et,mat4=Object.freeze({__proto__:null,create:De,clone:Re,copy:Fe,fromValues:je,set:ke,identity:Le,transpose:We,invert:Ue,adjoint:He,determinant:ze,multiply:Ye,translate:Xe,scale:qe,rotate:Ke,rotateX:Je,rotateY:$e,rotateZ:Ze,fromTranslation:Qe,fromScaling:et,fromRotation:tt,fromXRotation:nt,fromYRotation:st,fromZRotation:rt,fromRotationTranslation:ot,fromQuat2:at,getTranslation:it,getScaling:lt,getRotation:dt,decompose:ct,fromRotationTranslationScale:ut,fromRotationTranslationScaleOrigin:ht,fromQuat:_t,frustum:Gt,perspectiveNO:pt,perspective:perspective,perspectiveZO:mt,perspectiveFromFieldOfView:gt,orthoNO:ft,ortho:ortho,orthoZO:Nt,lookAt:bt,targetTo:St,str:xt,frob:It,add:yt,subtract:Et,multiplyScalar:Tt,multiplyScalarAndAdd:Ct,exactEquals:Mt,equals:Vt,mul:mul$5,sub:sub$3}),sub$2=Rt,mul$4=Ft,div$2=jt,dist$2=Xt,sqrDist$2=qt,len$4=vt,sqrLen$4=Kt,t=Bt(),forEach$2=function(e,n,s,r,o,a){var i,l;for(n||(n=3),s||(s=0),l=r?Math.min(r*n+s,e.length):e.length,i=s;i<l;i+=n)t[0]=e[i],t[1]=e[i+1],t[2]=e[i+2],o(t,t,a),e[i]=t[0],e[i+1]=t[1],e[i+2]=t[2];return e},vec3=Object.freeze({__proto__:null,create:Bt,clone:Ot,length:vt,fromValues:Pt,copy:wt,set:At,add:Dt,subtract:Rt,multiply:Ft,divide:jt,ceil:kt,floor:Lt,min:Wt,max:Ut,round:Ht,scale:zt,scaleAndAdd:Yt,distance:Xt,squaredDistance:qt,squaredLength:Kt,negate:Jt,inverse:$t,normalize:Zt,dot:Qt,cross:en,lerp:tn,slerp:nn,hermite:sn,bezier:rn,random:on,transformMat4:an,transformMat3:dn,transformQuat:cn,rotateX:un,rotateY:hn,rotateZ:_n,angle:Gn,zero:pn,str:mn,exactEquals:gn,equals:fn,sub:sub$2,mul:mul$4,div:div$2,dist:dist$2,sqrDist:sqrDist$2,len:len$4,sqrLen:sqrLen$4,forEach:forEach$2}),sub$1=En,mul$3=Tn,div$1=Cn,dist$1=An,sqrDist$1=Dn,len$3=Rn,sqrLen$3=Fn,forEach$1=function(){var e=Nn();return function(t,n,s,r,o,a){var i,l;for(n||(n=4),s||(s=0),l=r?Math.min(r*n+s,t.length):t.length,i=s;i<l;i+=n)e[0]=t[i],e[1]=t[i+1],e[2]=t[i+2],e[3]=t[i+3],o(e,e,a),t[i]=e[0],t[i+1]=e[1],t[i+2]=e[2],t[i+3]=e[3];return t}}(),vec4=Object.freeze({__proto__:null,create:Nn,clone:bn,fromValues:Sn,copy:xn,set:In,add:yn,subtract:En,multiply:Tn,divide:Cn,ceil:Mn,floor:Vn,min:Bn,max:On,round:vn,scale:Pn,scaleAndAdd:wn,distance:An,squaredDistance:Dn,length:Rn,squaredLength:Fn,negate:jn,inverse:kn,normalize:Ln,dot:Wn,cross:Un,lerp:Hn,random:zn,transformMat4:Yn,transformQuat:Xn,zero:qn,str:Kn,exactEquals:Jn,equals:$n,sub:sub$1,mul:mul$3,div:div$1,dist:dist$1,sqrDist:sqrDist$1,len:len$3,sqrLen:sqrLen$3,forEach:forEach$1}),clone$2=bn,fromValues$2=Sn,copy$2=xn,set$2=In,add$2=yn,mul$2=ss,scale$2=Pn,dot$2=Wn,lerp$2=Hn,length$2=Rn,len$2=length$2,squaredLength$2=Fn,sqrLen$2=squaredLength$2,normalize$2=Ln,exactEquals$2=Jn,rotationTo=function(){var e=Bt(),t=Pt(1,0,0),n=Pt(0,1,0);return function(s,r,o){var a=Qt(r,o);return a<-.999999?(en(e,t,r),len$4(e)<1e-6&&en(e,n,r),Zt(e,e),es(s,e,Math.PI),s):a>.999999?(s[0]=0,s[1]=0,s[2]=0,s[3]=1,s):(en(e,r,o),s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=1+a,normalize$2(s,s))}}(),sqlerp=function(){var e=Zn(),t=Zn();return function(n,s,r,o,a,i){return us(e,s,a,i),us(t,r,o,i),us(n,e,t,2*i*(1-i)),n}}(),setAxes=function(){var e=ae();return function(t,n,s,r){return e[0]=s[0],e[3]=s[1],e[6]=s[2],e[1]=r[0],e[4]=r[1],e[7]=r[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],normalize$2(t,ps(t,e))}}(),quat=Object.freeze({__proto__:null,create:Zn,identity:Qn,setAxisAngle:es,getAxisAngle:ts,getAngle:ns,multiply:ss,rotateX:rs,rotateY:os,rotateZ:as,calculateW:is,exp:ls,ln:ds,pow:cs,slerp:us,random:hs,invert:_s,conjugate:Gs,fromMat3:ps,fromEuler:ms,str:gs,clone:clone$2,fromValues:fromValues$2,copy:copy$2,set:set$2,add:add$2,mul:mul$2,scale:scale$2,dot:dot$2,lerp:lerp$2,length:length$2,len:len$2,squaredLength:squaredLength$2,sqrLen:sqrLen$2,normalize:normalize$2,exactEquals:exactEquals$2,equals:fs,rotationTo:rotationTo,sqlerp:sqlerp,setAxes:setAxes}),getReal=copy$2,setReal=copy$2,mul$1=Ls,dot$1=dot$2,length$1=length$2,len$1=length$1,squaredLength$1=squaredLength$2,sqrLen$1=squaredLength$1,quat2=Object.freeze({__proto__:null,create:Ns,clone:bs,fromValues:Ss,fromRotationTranslationValues:xs,fromRotationTranslation:Is,fromTranslation:ys,fromRotation:Es,fromMat4:Ts,copy:Cs,identity:Ms,set:Vs,getReal:getReal,getDual:Bs,setReal:setReal,setDual:Os,getTranslation:vs,translate:Ps,rotateX:ws,rotateY:As,rotateZ:Ds,rotateByQuatAppend:Rs,rotateByQuatPrepend:Fs,rotateAroundAxis:js,add:ks,multiply:Ls,mul:mul$1,scale:Ws,dot:dot$1,lerp:Us,invert:Hs,conjugate:zs,length:length$1,len:len$1,squaredLength:squaredLength$1,sqrLen:sqrLen$1,normalize:Ys,str:Xs,exactEquals:qs,equals:Ks}),len=pr,sub=nr,mul=sr,div=rr,dist=_r,sqrDist=Gr,sqrLen=mr,forEach=function(){var e=Js();return function(t,n,s,r,o,a){var i,l;for(n||(n=2),s||(s=0),l=r?Math.min(r*n+s,t.length):t.length,i=s;i<l;i+=n)e[0]=t[i],e[1]=t[i+1],o(e,e,a),t[i]=e[0],t[i+1]=e[1];return t}}(),vec2=Object.freeze({__proto__:null,create:Js,clone:$s,fromValues:Zs,copy:Qs,set:er,add:tr,subtract:nr,multiply:sr,divide:rr,ceil:ar,floor:ir,min:lr,max:dr,round:cr,scale:ur,scaleAndAdd:hr,distance:_r,squaredDistance:Gr,length:pr,squaredLength:mr,negate:gr,inverse:fr,normalize:Nr,dot:br,cross:Sr,lerp:xr,random:Ir,transformMat2:yr,transformMat2d:Er,transformMat3:Tr,transformMat4:Cr,rotate:Mr,angle:Vr,zero:Br,str:Or,exactEquals:vr,equals:Pr,len:len,sub:sub,mul:mul,div:div,dist:dist,sqrDist:sqrDist,sqrLen:sqrLen,forEach:forEach}),globalThis.glMatrix=common,globalThis.glMatrix.mat2=mat2,globalThis.glMatrix.mat2d=mat2d,globalThis.glMatrix.mat3=mat3,globalThis.glMatrix.mat4=mat4,globalThis.glMatrix.quat=quat,globalThis.glMatrix.quat2=quat2,globalThis.glMatrix.vec2=vec2,globalThis.glMatrix.vec3=vec3,globalThis.glMatrix.vec4=vec4}var t,EPSILON,ARRAY_TYPE,RANDOM,ANGLE_ORDER,degree,common,mul$8,sub$6,mat2,mul$7,sub$5,mat2d,mul$6,sub$4,mat3,perspective,ortho,mul$5,sub$3,mat4,sub$2,mul$4,div$2,dist$2,sqrDist$2,len$4,sqrLen$4,forEach$2,vec3,sub$1,mul$3,div$1,dist$1,sqrDist$1,len$3,sqrLen$3,forEach$1,vec4,clone$2,fromValues$2,copy$2,set$2,add$2,mul$2,scale$2,dot$2,lerp$2,length$2,len$2,squaredLength$2,sqrLen$2,normalize$2,exactEquals$2,rotationTo,sqlerp,setAxes,quat,getReal,setReal,mul$1,dot$1,length$1,len$1,squaredLength$1,sqrLen$1,quat2,len,sub,mul,div,dist,sqrDist,sqrLen,forEach,vec2,setMatrixArrayType,toRadian,equals$9,create$8,clone$8,copy$8,identity$5,fromValues$8,set$8,transpose$2,invert$5,adjoint$2,determinant$3,multiply$8,rotate$4,scale$8,fromRotation$4,fromScaling$3,str$8,frob$3,LDU,add$8,subtract$6,exactEquals$8,equals$8,multiplyScalar$3,multiplyScalarAndAdd$3,create$7,clone$7,copy$7,identity$4,fromValues$7,set$7,invert$4,determinant$2,multiply$7,rotate$3,scale$7,translate$3,fromRotation$3,fromScaling$2,fromTranslation$3,str$7,frob$2,add$7,subtract$5,multiplyScalar$2,multiplyScalarAndAdd$2,exactEquals$7,equals$7,create$6,fromMat4$1,clone$6,copy$6,fromValues$6,set$6,identity$3,transpose$1,invert$3,adjoint$1,determinant$1,multiply$6,translate$2,rotate$2,scale$6,fromTranslation$2,fromRotation$2,fromScaling$1,fromMat2d,fromQuat$1,normalFromMat4,projection,str$6,frob$1,add$6,subtract$4,multiplyScalar$1,multiplyScalarAndAdd$1,exactEquals$6,equals$6,create$5,clone$5,copy$5,fromValues$5,set$5,identity$2,transpose,invert$2,adjoint,determinant,multiply$5,translate$1,scale$5,rotate$1,rotateX$3,rotateY$3,rotateZ$3,fromTranslation$1,fromScaling,fromRotation$1,fromXRotation,fromYRotation,fromZRotation,fromRotationTranslation$1,fromQuat2,getTranslation$1,getScaling,getRotation,decompose,fromRotationTranslationScale,fromRotationTranslationScaleOrigin,fromQuat,frustum,perspectiveNO,perspectiveZO,perspectiveFromFieldOfView,orthoNO,orthoZO,lookAt,targetTo,str$5,frob,add$5,subtract$3,multiplyScalar,multiplyScalarAndAdd,exactEquals$5,equals$5,create$4,clone$4,length$4,fromValues$4,copy$4,set$4,add$4,subtract$2,multiply$4,divide$2,ceil$2,floor$2,min$2,max$2,round$2,scale$4,scaleAndAdd$2,distance$2,squaredDistance$2,squaredLength$4,negate$2,inverse$2,normalize$4,dot$4,cross$2,lerp$4,slerp$1,hermite,bezier,random$3,transformMat4$2,transformMat3$1,transformQuat$1,rotateX$2,rotateY$2,rotateZ$2,angle$1,zero$2,str$4,exactEquals$4,equals$4,create$3,clone$3,fromValues$3,copy$3,set$3,add$3,subtract$1,multiply$3,divide$1,ceil$1,floor$1,min$1,max$1,round$1,scale$3,scaleAndAdd$1,distance$1,squaredDistance$1,length$3,squaredLength$3,negate$1,inverse$1,normalize$3,dot$3,cross$1,lerp$3,random$2,transformMat4$1,transformQuat,zero$1,str$3,exactEquals$3,equals$3,create$2,identity$1,setAxisAngle,getAxisAngle,getAngle,multiply$2,rotateX$1,rotateY$1,rotateZ$1,calculateW,exp,ln,pow,slerp,random$1,invert$1,conjugate$1,fromMat3,fromEuler,str$2,equals$2,create$1,clone$1,fromValues$1,fromRotationTranslationValues,fromRotationTranslation,fromTranslation,fromRotation,fromMat4,copy$1,identity,set$1,getDual,setDual,getTranslation,translate,rotateX,rotateY,rotateZ,rotateByQuatAppend,rotateByQuatPrepend,rotateAroundAxis,add$1,multiply$1,scale$1,lerp$1,invert,conjugate,normalize$1,str$1,exactEquals$1,equals$1,create,clone,fromValues,copy,set,add,subtract,multiply,divide,ceil,floor,min,max,round,scale,scaleAndAdd,distance,squaredDistance,length,squaredLength,negate,inverse,normalize,dot,cross,lerp,random,transformMat2,transformMat2d,transformMat3,transformMat4,rotate,angle,zero,str,exactEquals,equals,tmpPoint1,tmpPoint2,tmpLine1,tmpLine2,lineInt,lineSegmentsIntersect,triangleArea,isLeft,isLeftOn,isRight,isRightOn,collinear,sqdist,polygonAt,polygonClear,polygonAppend,polygonMakeCCW,polygonReverse,polygonIsReflex,polygonCanSee,polygonCanSee2,polygonCopy,polygonGetCutEdges,polygonDecomp,polygonSlice,polygonIsSimple,getIntersectionPoint,polygonQuickDecomp,polygonRemoveCollinearPoints,polygonRemoveDuplicatePoints,scalar_eq,points_eq,ReadBrandList,RunTest,GetWindowsNTVersionName,s,a,c,i,l,f,d,r,a,o,arrayFlat,assertFail,isValidTypeChange,logDefendedObjectWarning,CheckDefendedObjectsUsedCorrectly,getObjectPropertySet,VerifyObjectPropertiesConsistent,isNegativeZero,padTwoDigits,hueToRGB,RequireStringOrNumber,SetNewCallback,DoAsyncifiedWork,DoNextAsyncifiedJob,ClearTimeCache,CheckActiveIdleTimeouts,lookupHtmlEntity,bbToHtmlReplacerFunc,IsWordBreakWhiteSpace,IsOpeningCJKPunctiationChar,IsContinuingCJKPunctuationChar,WordBreakTrimEnd,IsNewline,PlaneFromPoints,IsInFrontOfPlane,IsPointInFrontOfPlane,interpolateQuad,GetFormatSpecifiers,fillOrStrokeRect,ptToPx,getOffsetParam,CheckPendingPolls,SortZOrderList,GetDispatcher,MakeIWorldInstanceClass,GetDispatcher,GetTimelineState,GetTimelineState,GetTweenState,IsStaticTextureDataType,getActual,GetTypeFromFileExtension,AddScript,SortByInstLastCachedZIndex,SortByInstLastCachedZIndex,SortByInstZElevation,vec3EqualsXYZ,MaybePrepareLayerDraw,SortSolArray,IsSolArrayIdentical,NoActions,WrapIndex,GetExpressionFunc,EvalParams,EvalParams,GetInst,GetWorldInfo,GetInst_SDKv2,GetWorldInfo_SDKv2,GetObjectClass,GetLayer,CollMemory_Add,CollMemory_Remove,CollMemory_RemoveInstance,CollMemory_Get,DoOverlapCondition,FinishCollisionConditionPicking,FinishCollisionCondition,PickByUID_Normal,PickByUID_Inverted,GetNextParamMap,ValidateInternalAPIToken,ForEachOrdered_SortInstances,SortZOrderList,SortInstancesByValue,GetTouchSdkInstance,GetMouseSdkInstance,GetKeyboardSdkInstance,StringFromCharCode,IsExpressionType,GetAudioSdkInstance,GetAudioDOMInterface,ClonePolyArray,SortByInstanceZIndex,arrToColor,arrToColor2,ValidateLineCap,ValidatePoly,RgbToColor,RgbToColor2,GetSdkInstance,GetSdkInstance,WrapModeToStr,CloneDrawable,getOffsetParam,normalizeCssColorString,SortFacesToDrawByDist,sqDistanceTo3D,distanceTo3D,lerp3d,lerp3d2,ResizeArray,DoForEachTrigger,CompareValues,RunLengthDecode,MaybeCloseImageBitmap,getIndexForEase,ValidateTags,accelerate,unaryminus,bothNumbers,add,subtract,multiply,divide,mod,pow,and,or;{let wr=function(e,t,n){n=n||0;var s,r,o,a,i,l,d,c=[0,0];return s=e[1][1]-e[0][1],r=e[0][0]-e[1][0],o=s*e[0][0]+r*e[0][1],a=t[1][1]-t[0][1],i=t[0][0]-t[1][0],l=a*t[0][0]+i*t[0][1],ao(d=s*i-a*r,0,n)||(c[0]=(i*o-r*l)/d,c[1]=(s*l-a*o)/d),c},Ar=function(e,t,n,s){var r=t[0]-e[0],o=t[1]-e[1],a=s[0]-n[0],i=s[1]-n[1];if(a*o-i*r===0)return!1;var l=(r*(n[1]-e[1])+o*(e[0]-n[0]))/(a*o-i*r),d=(a*(e[1]-n[1])+i*(n[0]-e[0]))/(i*r-a*o);return l>=0&&l<=1&&d>=0&&d<=1},Dr=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])},Rr=function(e,t,n){return Dr(e,t,n)>0},Fr=function(e,t,n){return Dr(e,t,n)>=0},jr=function(e,t,n){return Dr(e,t,n)<0},kr=function(e,t,n){return Dr(e,t,n)<=0},Lr=function(e,t,n,s){if(s){var r=tmpPoint1,o=tmpPoint2;r[0]=t[0]-e[0],r[1]=t[1]-e[1],o[0]=n[0]-t[0],o[1]=n[1]-t[1];var a=r[0]*o[0]+r[1]*o[1],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),l=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return Math.acos(a/(i*l))<s}return 0===Dr(e,t,n)},Wr=function(e,t){var n=t[0]-e[0],s=t[1]-e[1];return n*n+s*s},Ur=function(e,t){var n=e.length;return e[t<0?t%n+n:t%n]},Hr=function(e){e.length=0},zr=function(e,t,n,s){for(var r=n;r<s;r++)e.push(t[r])},Yr=function(e){for(var t=0,n=e,s=1;s<e.length;++s)(n[s][1]<n[t][1]||n[s][1]===n[t][1]&&n[s][0]>n[t][0])&&(t=s);return!Rr(Ur(e,t-1),Ur(e,t),Ur(e,t+1))&&(Xr(e),!0)},Xr=function(e){for(var t=[],n=e.length,s=0;s!==n;s++)t.push(e.pop());for(s=0;s!==n;s++)e[s]=t[s]},qr=function(e,t){return jr(Ur(e,t-1),Ur(e,t),Ur(e,t+1))},Kr=function(e,t,n){var s,r,o=tmpLine1,a=tmpLine2;if(Fr(Ur(e,t+1),Ur(e,t),Ur(e,n))&&kr(Ur(e,t-1),Ur(e,t),Ur(e,n)))return!1;r=Wr(Ur(e,t),Ur(e,n));for(var i=0;i!==e.length;++i)if((i+1)%e.length!==t&&i!==t&&Fr(Ur(e,t),Ur(e,n),Ur(e,i+1))&&kr(Ur(e,t),Ur(e,n),Ur(e,i))&&(o[0]=Ur(e,t),o[1]=Ur(e,n),a[0]=Ur(e,i),a[1]=Ur(e,i+1),s=wr(o,a),Wr(Ur(e,t),s)<r))return!1;return!0},Jr=function(e,t,n){for(var s=0;s!==e.length;++s)if(s!==t&&s!==n&&(s+1)%e.length!==t&&(s+1)%e.length!==n&&Ar(Ur(e,t),Ur(e,n),Ur(e,s),Ur(e,s+1)))return!1;return!0},$r=function(e,t,n,s){var r=s||[];if(Hr(r),t<n)for(var o=t;o<=n;o++)r.push(e[o]);else{for(o=0;o<=n;o++)r.push(e[o]);for(o=t;o<e.length;o++)r.push(e[o])}return r},Zr=function(e){for(var t=[],n=[],s=[],r=[],o=Number.MAX_VALUE,a=0;a<e.length;++a)if(qr(e,a))for(var i=0;i<e.length;++i)if(Kr(e,a,i)){n=Zr($r(e,a,i,r)),s=Zr($r(e,i,a,r));for(var l=0;l<s.length;l++)n.push(s[l]);n.length<o&&(t=n,o=n.length,t.push([Ur(e,a),Ur(e,i)]))}return t},Qr=function(e){var t=Zr(e);return t.length>0?eo(e,t):[e]},eo=function(e,t){if(0===t.length)return[e];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2===t[0].length&&t[0][0]instanceof Array){for(var n=[e],s=0;s<t.length;s++)for(var r=t[s],o=0;o<n.length;o++){var a=eo(n[o],r);if(a){n.splice(o,1),n.push(a[0],a[1]);break}}return n}return r=t,s=e.indexOf(r[0]),o=e.indexOf(r[1]),-1!==s&&-1!==o&&[$r(e,s,o),$r(e,o,s)]},to=function(e){var t,n=e;for(t=0;t<n.length-1;t++)for(var s=0;s<t-1;s++)if(Ar(n[t],n[t+1],n[s],n[s+1]))return!1;for(t=1;t<n.length-2;t++)if(Ar(n[0],n[n.length-1],n[t],n[t+1]))return!1;return!0},no=function(e,t,n,s,r){r=r||0;var o=t[1]-e[1],a=e[0]-t[0],i=o*e[0]+a*e[1],l=s[1]-n[1],d=n[0]-s[0],c=l*n[0]+d*n[1],u=o*d-l*a;return ao(u,0,r)?[0,0]:[(d*i-a*c)/u,(o*c-l*i)/u]},so=function(e,t,n,s,r,o,a){o=o||100,a=a||0,r=r||25,t=void 0!==t?t:[],n=n||[],s=s||[];var i=[0,0],l=[0,0],d=[0,0],c=0,u=0,h=0,_=0,G=0,p=0,m=0,g=[],f=[],N=e,b=e;if(b.length<3)return t;if(++a>o)return console.warn("quickDecomp: max level ("+o+") reached."),t;for(var S=0;S<e.length;++S)if(qr(N,S)){n.push(N[S]),c=u=Number.MAX_VALUE;for(var x=0;x<e.length;++x)Rr(Ur(N,S-1),Ur(N,S),Ur(N,x))&&kr(Ur(N,S-1),Ur(N,S),Ur(N,x-1))&&(d=no(Ur(N,S-1),Ur(N,S),Ur(N,x),Ur(N,x-1)),jr(Ur(N,S+1),Ur(N,S),d)&&(h=Wr(N[S],d))<u&&(u=h,l=d,p=x)),Rr(Ur(N,S+1),Ur(N,S),Ur(N,x+1))&&kr(Ur(N,S+1),Ur(N,S),Ur(N,x))&&(d=no(Ur(N,S+1),Ur(N,S),Ur(N,x),Ur(N,x+1)),Rr(Ur(N,S-1),Ur(N,S),d)&&(h=Wr(N[S],d))<c&&(c=h,i=d,G=x));if(p===(G+1)%e.length)d[0]=(l[0]+i[0])/2,d[1]=(l[1]+i[1])/2,s.push(d),S<G?(zr(g,N,S,G+1),g.push(d),f.push(d),0!==p&&zr(f,N,p,N.length),zr(f,N,0,S+1)):(0!==S&&zr(g,N,S,N.length),zr(g,N,0,G+1),g.push(d),f.push(d),zr(f,N,p,S+1));else{if(p>G&&(G+=e.length),_=Number.MAX_VALUE,G<p)return t;for(x=p;x<=G;++x)Fr(Ur(N,S-1),Ur(N,S),Ur(N,x))&&kr(Ur(N,S+1),Ur(N,S),Ur(N,x))&&(h=Wr(Ur(N,S),Ur(N,x)))<_&&Jr(N,S,x)&&(_=h,m=x%e.length);S<m?(zr(g,N,S,m+1),0!==m&&zr(f,N,m,b.length),zr(f,N,0,S+1)):(0!==S&&zr(g,N,S,b.length),zr(g,N,0,m+1),zr(f,N,m,S+1))}return g.length<f.length?(so(g,t,n,s,r,o,a),so(f,t,n,s,r,o,a)):(so(f,t,n,s,r,o,a),so(g,t,n,s,r,o,a)),t}return t.push(e),t},ro=function(e,t){for(var n=0,s=e.length-1;e.length>3&&s>=0;--s)Lr(Ur(e,s-1),Ur(e,s),Ur(e,s+1),t)&&(e.splice(s%e.length,1),n++);return n},oo=function(e,t){for(var n=e.length-1;n>=1;--n)for(var s=e[n],r=n-1;r>=0;--r)io(s,e[r],t)&&e.splice(n,1)},ao=function(e,t,n){return n=n||0,Math.abs(e-t)<=n},io=function(e,t,n){return ao(e[0],t[0],n)&&ao(e[1],t[1],n)};lineInt=wr,lineSegmentsIntersect=Ar,triangleArea=Dr,isLeft=Rr,isLeftOn=Fr,isRight=jr,isRightOn=kr,collinear=Lr,sqdist=Wr,polygonAt=Ur,polygonClear=Hr,polygonAppend=zr,polygonMakeCCW=Yr,polygonReverse=Xr,polygonIsReflex=qr,polygonCanSee=Kr,polygonCanSee2=Jr,polygonCopy=$r,polygonGetCutEdges=Zr,polygonDecomp=Qr,polygonSlice=eo,polygonIsSimple=to,getIntersectionPoint=no,polygonQuickDecomp=so,polygonRemoveCollinearPoints=ro,polygonRemoveDuplicatePoints=oo,scalar_eq=ao,points_eq=io,tmpPoint1=[],tmpPoint2=[],tmpLine1=[],tmpLine2=[],self.polyDecomp={decomp:Qr,quickDecomp:so,isSimple:to,removeCollinearPoints:ro,removeDuplicatePoints:oo,makeCCW:Yr}}{let lo=!1,co=!1,uo="dev";const ho=Symbol("Construct internal API token");let _o=16;const Go=self.C3=class{constructor(){throw TypeError("static class can't be instantiated")}static _GetInternalAPIToken(){if(_o<=0)throw new Error("cannot obtain internal API token");return--_o,ho}static SetReady(){lo=!0}static IsReady(){return lo}static SetAppStarted(){co=!0}static HasAppStarted(){return co}static SetBuildMode(e){uo=e}static GetBuildMode(){return uo}static IsReleaseBuild(){return"final"===uo}};Go.isDebug=!1,Go.isDebugDefend=!1,Go.hardwareConcurrency=navigator.hardwareConcurrency||2,self.C3X={}}{const po=self.C3;po.QueryParser=class{constructor(e){this._queryString=e,this._parameters=new Map,this._Parse()}_Parse(){let e=this._queryString;(e.startsWith("?")||e.startsWith("#"))&&(e=e.substr(1));const t=e.split("&");for(const e of t)this._ParseParameter(e)}_ParseParameter(e){if(!e)return;if(!e.includes("="))return void this._parameters.set(e,null);const t=e.indexOf("="),n=decodeURIComponent(e.substring(0,t)),s=decodeURIComponent(e.substring(t+1));this._parameters.set(n,s)}LogAll(){for(const e of this._parameters)console.log("[QueryParser] Parameter '"+e[0]+"' = "+(null===e[1]?"null":"'"+e[1]+"'"))}Has(e){return this._parameters.has(e)}Get(e){const t=this._parameters.get(e);return void 0===t?null:t}ClearHash(){history.replaceState("",document.title,location.pathname+location.search)}Reparse(e){this._queryString=e,this._parameters.clear(),this._Parse()}},po.QueryString=new po.QueryParser(location.search),po.LocationHashString=new po.QueryParser(location.hash),po.QueryString.Has("perf")&&(po.isPerformanceProfiling=!0),"dev"!==po.QueryString.Get("mode")&&po.SetBuildMode("final")}{let mo=function(e){const t=parseFloat(e);return No.get(t)||(t>=13?"11":"NT "+e)};GetWindowsNTVersionName=mo;const go=self.C3,fo="(unknown)";go.Platform={OS:fo,OSVersion:fo,Browser:fo,BrowserVersion:fo,BrowserVersionNumber:NaN,BrowserEngine:fo,Context:"browser",IsDesktop:!0,IsMobile:!1,IsAppleOS:!1,IsIpadOS:!1,GetDetailedInfo:async()=>{}};const No=new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]]),bo=navigator.userAgent,So=navigator.userAgentData;if(So&&So.brands.length>0){let Io=function(e){let t="",n="",s="",r="";for(const o of e){const e=yo.get(o.brand);!t&&e&&(t=e,n=o.version);const a=Eo.get(o.brand);!s&&a&&(s=a,r=o.version)}t||"Chromium"!==s||(go.Platform.Browser="Chromium",go.Platform.BrowserVersion=r),go.Platform.Browser=t||fo,go.Platform.BrowserVersion=n||fo,go.Platform.BrowserEngine=s||fo};ReadBrandList=Io,go.Platform.OS=So.platform,go.Platform.IsMobile=So.mobile,go.Platform.IsDesktop=!go.Platform.IsMobile;const yo=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),Eo=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);Io(So.brands);let To=!1;go.Platform.GetDetailedInfo=async()=>{if(!To)try{const e=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);Io(e.fullVersionList),"Windows"===go.Platform.OS?go.Platform.OSVersion=mo(e.platformVersion):go.Platform.OSVersion=e.platformVersion,To=!0}catch(e){console.warn("Failed to get detailed user agent information: ",e)}}}else{let Co=function(e,t){const n=Array.isArray(e)?e:[e];for(const e of n){const n=e.exec(bo);if(n){t(n);break}}};RunTest=Co,Co(/windows\s+nt\s+([\d\.]+)/i,e=>{go.Platform.OS="Windows";const t=e[1];go.Platform.OSVersion=mo(t)}),Co(/mac\s+os\s+x\s+([\d\._]+)/i,e=>{go.Platform.OS="macOS",go.Platform.OSVersion=e[1].replace(/_/g,".")}),Co(/CrOS/,()=>{go.Platform.OS="Chrome OS"}),Co(/linux|openbsd|freebsd|netbsd/i,()=>{go.Platform.OS="Linux"}),Co(/android/i,()=>{go.Platform.OS="Android"}),Co(/android\s+([\d\.]+)/i,e=>{go.Platform.OS="Android",go.Platform.OSVersion=e[1]}),go.Platform.OS===fo&&(Co(/(iphone|ipod|ipad)/i,e=>{go.Platform.OS="iOS"}),Co([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],e=>{go.Platform.OS="iOS",go.Platform.OSVersion=e[1].replace(/_/g,".")}));const Mo=/chrome\//i.test(bo),Vo=/chromium\//i.test(bo),Bo=/edg\//i.test(bo),Oo=/OPR\//.test(bo),vo=/nwjs/i.test(bo),Po=/safari\//i.test(bo),wo=/webkit/i.test(bo);Bo||Oo||Co(/chrome\/([\d\.]+)/i,e=>{go.Platform.Browser="Chrome",go.Platform.BrowserVersion=e[1],go.Platform.BrowserEngine="Chromium"}),Co(/edg\/([\d\.]+)/i,e=>{go.Platform.Browser="Edge",go.Platform.BrowserVersion=e[1],go.Platform.BrowserEngine="Chromium"}),Co(/OPR\/([\d\.]+)/,e=>{go.Platform.Browser="Opera",go.Platform.BrowserVersion=e[1],go.Platform.BrowserEngine="Chromium"}),Co(/chromium\/([\d\.]+)/i,e=>{go.Platform.Browser="Chromium",go.Platform.BrowserVersion=e[1],go.Platform.BrowserEngine="Chromium"}),Co(/nwjs\/[0-9.]+/i,e=>{go.Platform.Browser="NW.js",go.Platform.BrowserVersion=e[1],go.Platform.BrowserEngine="Chromium",go.Platform.Context="nwjs"}),Co(/firefox\/([\d\.]+)/i,e=>{go.Platform.Browser="Firefox",go.Platform.BrowserVersion=e[1],go.Platform.BrowserEngine="Gecko"}),!Po||Mo||Vo||Bo||Oo||vo||(go.Platform.Browser="Safari",go.Platform.BrowserEngine="WebKit",Co(/version\/([\d\.]+)/i,e=>{go.Platform.BrowserVersion=e[1]}),Co(/crios\/([\d\.]+)/i,e=>{go.Platform.Browser="Chrome for iOS",go.Platform.BrowserVersion=e[1]}),Co(/fxios\/([\d\.]+)/i,e=>{go.Platform.Browser="Firefox for iOS",go.Platform.BrowserVersion=e[1]}),Co(/edgios\/([\d\.]+)/i,e=>{go.Platform.Browser="Edge for iOS",go.Platform.BrowserVersion=e[1]})),go.Platform.BrowserEngine===fo&&wo&&(go.Platform.BrowserEngine="WebKit"),"Android"===go.Platform.OS&&"Safari"===go.Platform.Browser&&(go.Platform.Browser="Stock");const Ao=new Set(["Windows","macOS","Linux","Chrome OS"]).has(go.Platform.OS)||"nwjs"===go.Platform.Context;go.Platform.IsDesktop=Ao,go.Platform.IsMobile=!Ao}"Chrome"===go.Platform.Browser&&"browser"===go.Platform.Context&&/wv\)/.test(bo)&&(go.Platform.Context="webview"),"nwjs"!==go.Platform.Context&&"undefined"!=typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(go.Platform.Context="webapp"),go.Platform.BrowserVersionNumber=parseFloat(go.Platform.BrowserVersion);const xo="macOS"===go.Platform.OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2;xo&&(go.Platform.OS="iOS",go.Platform.OSVersion=go.Platform.BrowserVersion,go.Platform.IsDesktop=!1,go.Platform.IsMobile=!0,go.Platform.IsIpadOS=!0),go.Platform.IsAppleOS="macOS"===go.Platform.OS||"iOS"===go.Platform.OS}{let Do=function(e){return new Promise((t,n)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>n(e.error)})},Ro=function(e){return new Promise((t,n)=>{e.oncomplete=()=>t(),e.onerror=()=>n(e.error),e.onabort=()=>n(e.error)})},Fo=function(e,t){return qo(e,t)},jo=function(e,t){return qo(e,t,!0)},ko=function(e){Lo(e);let t=zo.get(e);return t instanceof Promise||(t=Ko(e),zo.set(e,t),t.catch(t=>zo.delete(e))),t},Lo=function(e){if("string"!=typeof e)throw new TypeError("expected string")},Wo=function(e,t){const n=e.objectStore(Ho).openCursor();return new Promise(e=>{const s=[];n.onsuccess=n=>{const r=n.target.result;if(r){switch(t){case"entries":s.push([r.key,r.value]);break;case"keys":s.push(r.key);break;case"values":s.push(r.value)}r.continue()}else e(s)}})};s=Do,a=Ro,c=Fo,i=jo,l=ko,f=Lo,d=Wo;const Uo=2,Ho="keyvaluepairs",zo=new Map,Yo="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAll,Xo="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAllKeys;async function qo(e,t,n=!1,s=!0){const r=await ko(e);try{return t(r.transaction([Ho],n?"readwrite":"readonly"))}catch(r){if(s&&"InvalidStateError"===r.name)return zo.delete(e),qo(e,t,n,!1);throw r}}async function Ko(e){Lo(e);const t=indexedDB.open(e,Uo);return t.addEventListener("upgradeneeded",t=>{try{t.target.result.createObjectStore(Ho)}catch(t){console.error(`Failed to create objectstore for database ${e}`,t)}}),Do(t)}class Jo{constructor(e){Lo(e),this.name=e}async ready(){await ko(this.name)}set(e,t){return Lo(e),jo(this.name,async n=>{const s=Do(n.objectStore(Ho).put(t,e)),r=Ro(n);await Promise.all([r,s])})}get(e){return Lo(e),Fo(this.name,async t=>{const n=Do(t.objectStore(Ho).get(e)),s=Ro(t),[r,o]=await Promise.all([s,n]);return o})}delete(e){return Lo(e),jo(this.name,async t=>{const n=Do(t.objectStore(Ho).delete(e)),s=Ro(t);await Promise.all([s,n])})}clear(){return jo(this.name,async e=>{const t=Do(e.objectStore(Ho).clear()),n=Ro(e);await Promise.all([n,t])})}keys(){return Fo(this.name,async e=>{let t;t=Xo?Do(e.objectStore(Ho).getAllKeys()):Wo(e,"keys");const n=Ro(e),[s,r]=await Promise.all([n,t]);return r})}values(){return Fo(this.name,async e=>{let t;t=Yo?Do(e.objectStore(Ho).getAll()):Wo(e,"values");const n=Ro(e),[s,r]=await Promise.all([n,t]);return r})}entries(){return Fo(this.name,async e=>{const t=Wo(e,"entries"),n=Ro(e),[s,r]=await Promise.all([n,t]);return r})}}self.KVStorageContainer=Jo}{let $o=function(e){throw new Error(`"${e}" is not implemented`)},Zo=function(e){if("function"==typeof e)throw new Error("localforage callback API is not implemented; please use the promise API instead")},Qo=function(e){return"object"==typeof e?new Promise(t=>{const{port1:n,port2:s}=new MessageChannel;s.onmessage=e=>t(e.data),n.postMessage(e)}):Promise.resolve(e)};r=$o,a=Zo,o=Qo;const ea=self.KVStorageContainer,ta=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i];class na{constructor(e){this._inst=e,this._isInMemory=!this._inst,this._isInMemory||"undefined"!=typeof indexedDB||(this._isInMemory=!0,console.warn("Unable to use local storage because IndexedDB API is not available")),this._memoryStorage=new Map}_MaybeSwitchToMemoryFallback(e){if(!this._isInMemory)for(const t of ta)if(e&&t.test(e.message)){console.error("Unable to use local storage, reverting to in-memory store: ",e,e.message),this._isInMemory=!0;break}}async _getItemFallback(e){const t=this._memoryStorage.get(e),n=await Qo(t);return void 0===n?null:n}async _setItemFallback(e,t){t=await Qo(t),this._memoryStorage.set(e,t)}_removeItemFallback(e){this._memoryStorage.delete(e)}_clearFallback(){this._memoryStorage.clear()}_keysFallback(){return Array.from(this._memoryStorage.keys())}IsInMemory(){return this._isInMemory}GetMemoryStorage(){return this._memoryStorage}SetMemoryStorage(e){this._memoryStorage=e}async getItem(e,t){if(Zo(t),this._isInMemory)return await this._getItemFallback(e);let n;try{n=await this._inst.get(e)}catch(t){return this._MaybeSwitchToMemoryFallback(t),this._isInMemory?await this._getItemFallback(e):(console.error(`Error reading '${e}' from storage, returning null: `,t),null)}return void 0===n?null:n}async setItem(e,t,n){if(Zo(n),void 0===t&&(t=null),this._isInMemory)await this._setItemFallback(e,t);else try{await this._inst.set(e,t)}catch(n){if(this._MaybeSwitchToMemoryFallback(n),!this._isInMemory)throw n;await this._setItemFallback(e,t)}}async removeItem(e,t){if(Zo(t),this._isInMemory)this._removeItemFallback(e);else try{await this._inst.delete(e)}catch(t){this._MaybeSwitchToMemoryFallback(t),this._isInMemory?this._removeItemFallback(e):console.error(`Error removing '${e}' from storage: `,t)}}async clear(e){if(Zo(e),this._isInMemory)this._clearFallback();else try{await this._inst.clear()}catch(e){this._MaybeSwitchToMemoryFallback(e),this._isInMemory?this._clearFallback():console.error("Error clearing storage: ",e)}}async keys(e){if(Zo(e),this._isInMemory)return this._keysFallback();let t=[];try{t=await this._inst.keys()}catch(e){if(this._MaybeSwitchToMemoryFallback(e),this._isInMemory)return this._keysFallback();console.error("Error getting storage keys: ",e)}return t}ready(e){return Zo(e),this._isInMemory?Promise.resolve(!0):this._inst.ready()}createInstance(e){if(e.forceInMemoryFallback)return new na(null);{const t=e.name;if("string"!=typeof t)throw new TypeError("invalid store name");const n=new ea(t);return new na(n)}}length(e){$o("localforage.length()")}key(e,t){$o("localforage.key()")}iterate(e,t){$o("localforage.iterate()")}setDriver(e){$o("localforage.setDriver()")}config(e){$o("localforage.config()")}defineDriver(e){$o("localforage.defineDriver()")}driver(){$o("localforage.driver()")}supports(e){$o("localforage.supports()")}dropInstance(){$o("localforage.dropInstance()")}}self.localforage=new na(new ea("localforage"))}{const sa=self.C3;if(sa.Supports={},sa.Supports.WebAnimations=(()=>{try{if("undefined"==typeof document)return!1;const e=document.createElement("div");return void 0!==e.animate&&void 0!==e.animate([{opacity:"0"},{opacity:"1"}],1e3).reverse}catch(e){return!1}})(),sa.Supports.DialogElement="undefined"!=typeof HTMLDialogElement,sa.Supports.RequestIdleCallback=!!self.requestIdleCallback,sa.Supports.ImageBitmap=!!self.createImageBitmap,sa.Supports.ImageBitmapOptions=!1,sa.Supports.ImageBitmapOptionsResize=!1,sa.Supports.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{sa.Supports.ImageBitmapOptions=!0}).catch(()=>{sa.Supports.ImageBitmapOptions=!1})}catch(ra){sa.Supports.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(e=>{sa.Supports.ImageBitmapOptionsResize=10===e.width&&10===e.height}).catch(()=>{sa.Supports.ImageBitmapOptionsResize=!1})}catch(oa){sa.Supports.ImageBitmapOptionsResize=!1}}if(sa.Supports.ClipboardReadText=!(!navigator.clipboard||!navigator.clipboard.readText),sa.Supports.PermissionsQuery=!(!navigator.permissions||!navigator.permissions.query),sa.Supports.ClipboardPermissionsQuery=!1,sa.Supports.PermissionsQuery){const aa={name:"clipboard-read"};navigator.permissions.query(aa).then(()=>{sa.Supports.ClipboardPermissionsQuery=!0}).catch(()=>{sa.Supports.ClipboardPermissionsQuery=!1})}sa.Supports.AsyncClipboardApi=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem),sa.Supports.Proxies="undefined"!=typeof Proxy,sa.Supports.DownloadAttribute="undefined"!=typeof document&&void 0!==document.createElement("a").download,sa.Supports.Fetch="function"==typeof fetch,sa.Supports.PersistentStorage=!!(self.isSecureContext&&"Opera"!==sa.Platform.Browser&&navigator.storage&&navigator.storage.persist),sa.Supports.StorageQuotaEstimate=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate),sa.Supports.Fullscreen=(()=>{if("undefined"==typeof document)return!1;if("iOS"===sa.Platform.OS)return!1;const e=document.documentElement;return!!(e.requestFullscreen||e.msRequestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen)})(),sa.Supports.ImageDecoder=void 0!==self.ImageDecoder,sa.Supports.WebCodecs=!!self.VideoEncoder,sa.Supports.NativeFileSystemAPI=!!self.showOpenFilePicker,sa.Supports.QueryLocalFonts=!!self.queryLocalFonts,sa.Supports.UserActivation=!!navigator.userActivation,sa.Supports.CanvasToBlobWebP=!1,(async()=>{let e;"undefined"==typeof document?e=new OffscreenCanvas(32,32):(e=document.createElement("canvas"),e.width=32,e.height=32);const t=e.getContext("2d");t.fillStyle="blue",t.fillRect(0,0,32,32);let n=null;try{e.convertToBlob?n=await e.convertToBlob({type:"image/webp",quality:1}):e.toBlob&&(n=await new Promise(t=>e.toBlob(t,"image/webp",1))),sa.Supports.CanvasToBlobWebP=n&&"image/webp"===n.type}catch(e){sa.Supports.CanvasToBlobWebP=!1}})()}{const ia=self.C3;if(!String.prototype.trimStart){const la=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(la,"")}}if(!String.prototype.trimEnd){const da=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(da,"")}}if(String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(ia.EscapeRegex(e),"g"),t)}),Array.prototype.values||(Array.prototype.values=function*(){for(const e of this)yield e}),!Array.prototype.flat){let ca=function(e,t){return e.reduce((e,n)=>t>0&&Array.isArray(n)?(Array.prototype.push.apply(e,ca(n,t-1)),e):(e.push(n),e),[])};arrayFlat=ca,Array.prototype.flat=function(e=1){return ca(this,e)}}Array.prototype.at||(Array.prototype.at=function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]}),String.prototype.at||(String.prototype.at=function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]}),RegExp.escape||(RegExp.escape=function(e){return String(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}),Set.prototype.isSubsetOf||(Set.prototype.isSubsetOf=function(e){if(!(e instanceof Set))throw new TypeError("argument must be a Set");for(const t of this)if(!e.has(t))return!1;return!0}),navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((e,t)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((t,n)=>e({usage:t,quota:n}),t))}),void 0===self.isSecureContext&&(self.isSecureContext="https:"===location.protocol),void 0===self.globalThis&&(self.globalThis=self)}{let ua=function(e){let t="Assertion failure: "+e+"\n\nStack trace:\n"+ha.GetCallStack();console.error(t)};assertFail=ua;const ha=self.C3;self.assert=function(e,t){e||ua(t)}}{const _a=self.C3,Ga=self.C3X;_a.IsNumber=function(e){return"number"==typeof e},_a.IsFiniteNumber=function(e){return _a.IsNumber(e)&&isFinite(e)},_a.RequireNumber=function(e){if(!_a.IsNumber(e))throw new TypeError("expected number")},_a.RequireOptionalNumber=function(e){_a.IsNullOrUndefined(e)},_a.RequireNumberInRange=function(e,t,n){if(!_a.IsNumber(e)||isNaN(e)||t>e||n<e)throw new RangeError("number outside of range")},_a.RequireAllNumber=function(...e){for(let t of e);},_a.RequireFiniteNumber=function(e){if(!_a.IsFiniteNumber(e))throw new TypeError("expected finite number")},_a.RequireOptionalFiniteNumber=function(e){_a.IsNullOrUndefined(e)},_a.RequireAllFiniteNumber=function(...e){for(let t of e);},_a.IsString=function(e){return"string"==typeof e},_a.RequireString=function(e){if(!_a.IsString(e))throw new TypeError("expected string")},_a.RequireOptionalString=function(e){_a.IsNullOrUndefined(e)},_a.RequireAllString=function(...e){for(let t of e);},_a.IsSimpleObject=function(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return t?t.constructor===Object:null===t},_a.RequireSimpleObject=function(e){if(!_a.IsSimpleObject(e))throw new TypeError("expected simple object")},_a.RequireOptionalSimpleObject=function(e){if(!_a.IsNullOrUndefined(e)&&!_a.IsSimpleObject(e))throw new TypeError("expected simple object")},_a.IsObject=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},_a.RequireObject=function(e){if(!_a.IsObject(e))throw new TypeError("expected object")},_a.RequireOptionalObject=function(e){_a.IsNullOrUndefined(e)},_a.RequireAllObject=function(...e){for(let t of e);},_a.IsFileLike=function(e){return _a.WeakIsInstanceOf(e,Blob)&&"string"==typeof e.name},_a.RequireFileLike=function(e){if(!_a.IsFileLike(e))throw new TypeError("expected file")},_a.RequireOptionalFileLike=function(e){_a.IsNullOrUndefined(e)},_a.IsArray=function(e){return Array.isArray(e)},_a.RequireArray=function(e){if(!_a.IsArray(e))throw new TypeError("expected array")},_a.RequireOptionalArray=function(e){_a.IsNullOrUndefined(e)},_a.RequireAllArray=function(...e){for(let t of e);},_a.Is2DArray=function(e){return!(!_a.IsArray(e)||e.length&&!_a.IsArray(e[0]))},_a.Require2DArray=function(e){if(!_a.Is2DArray(e))throw new TypeError("expected 2d array");for(let t of e)if(!_a.IsArray(t))throw new TypeError("expected 2d array")},_a.RequireOptional2DArray=function(e){_a.IsNullOrUndefined(e)},_a.IsFunction=function(e){return"function"==typeof e},_a.RequireFunction=function(e,t){if(!_a.IsFunction(e))throw new TypeError("expected function");if(!_a.IsNullOrUndefined(t)&&e!==t)throw new TypeError("expected same function reference")},_a.RequireOptionalFunction=function(e){_a.IsNullOrUndefined(e)},_a.RequireAllFunction=function(...e){for(let t of e);},_a.RequireAnyFunction=function(e,...t){if(!_a.IsFunction(e))throw new TypeError("expected function");if(!t.length)throw new Error("missing comparison functions");for(let n of t)if(!_a.IsNullOrUndefined(n)&&e===n)return;throw new TypeError("expected same function reference")},_a.RequireOptionalAllFunction=function(...e){if(!_a.IsNullOrUndefined(e))for(let t of e);},_a.IsInstanceOf=function(e,t){return e instanceof t},_a.IsInstanceOfAny=function(e,...t){for(let n of t)if(_a.IsInstanceOf(e,n))return!0;return!1},_a.RequireInstanceOf=function(e,t){if(!_a.IsInstanceOf(e,t))throw new TypeError("unexpected type")},_a.RequireOptionalInstanceOf=function(e,t){_a.IsNullOrUndefined(e)},_a.RequireAllInstanceOf=function(e,...t){for(let e of t);},_a.RequireAnyInstanceOf=function(e,...t){if(!_a.IsInstanceOfAny(e,...t))throw new TypeError("unexpected type")},_a.RequireAnyOptionalInstanceOf=function(e,...t){if(!_a.IsNullOrUndefined(e)&&!_a.IsInstanceOfAny(e,...t))throw new TypeError("unexpected type")},_a.IsArrayOf=function(e,t){for(let n of e)if(!_a.IsInstanceOf(n,t))return!1;return!0},_a.IsArrayOfFiniteNumbers=function(e){for(let t of e)if(!_a.IsFiniteNumber(t))return!1;return!0},_a.RequireArrayOf=function(e,t){for(let t of e);},_a.RequireOptionalArrayOf=function(e,t){if(!_a.IsNullOrUndefined(e))for(let t of e);},_a.RequireOptionalArrayOfFunctions=function(e,t){if(!_a.IsNullOrUndefined(e))for(let t of e);},_a.RequireArrayOfAny=function(e,...t){for(let t of e);},_a.RequireOptionalArrayOfAny=function(e,...t){if(!_a.IsNullOrUndefined(e))for(let t of e);},_a.IsDOMNode=function(e,t){return!(_a.IsNullOrUndefined(e)||!_a.IsString(e.nodeName))&&(!t||_a.equalsNoCase(e.nodeName,t))},_a.RequireDOMNode=function(e,t){if(_a.IsNullOrUndefined(e)||!_a.IsString(e.nodeName))throw new TypeError("expected DOM node");if(t&&!_a.equalsNoCase(e.nodeName,t))throw new TypeError(`expected DOM '${t}' node`)},_a.RequireOptionalDOMNode=function(e,t){_a.IsNullOrUndefined(e)},_a.IsHTMLElement=function(e,t){return!(_a.IsNullOrUndefined(e)||!_a.IsString(e.tagName))&&(!t||_a.equalsNoCase(e.tagName,t))},_a.RequireHTMLElement=function(e,t){if(_a.IsNullOrUndefined(e)||!_a.IsString(e.tagName))throw new TypeError("expected HTML element");if(t&&!_a.equalsNoCase(e.tagName,t))throw new TypeError(`expected HTML '${t}' element`)},_a.RequireOptionalHTMLElement=function(e,t){_a.IsNullOrUndefined(e)},_a.IsDrawable=function(e){return _a.IsHTMLElement(e,"img")||_a.IsHTMLElement(e,"canvas")||_a.IsHTMLElement(e,"video")||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap},_a.RequireDrawable=function(e){if(!_a.IsDrawable(e))throw new TypeError("expected drawable")},_a.RequireOptionalDrawable=function(e){_a.IsNullOrUndefined(e)},_a.IsDrawableOrImageData=function(e){return e instanceof ImageData||_a.IsDrawable(e)},_a.RequireDrawableOrImageData=function(e){if(!_a.IsDrawableOrImageData(e))throw new TypeError("expected drawable or image data")},_a.RequireOptionalDrawableOrImageData=function(e){if(!_a.IsNullOrUndefined(e)&&!_a.IsDrawableOrImageData(e))throw new TypeError("expected drawable or image data")},_a.IsStringLike=function(e){return"string"==typeof e||_a.HtmlString&&e instanceof _a.HtmlString||e instanceof _a.BBString},_a.RequireStringLike=function(e){if(!_a.IsStringLike(e))throw new TypeError("expected string-like")},_a.RequireOptionalStringLike=function(e){_a.IsNullOrUndefined(e)},_a.RequireAllStringLike=function(...e){for(let t of e);},_a.RequireOverride=function(){throw new Error("must be overridden")},_a.NotYetImplemented=function(){throw new Error("not yet implemented")},_a.IsGeneratorFunction=function(e){return e.constructor===function*(){}.constructor},_a.RequireGeneratorFunction=function(e){if(!_a.IsGeneratorFunction(e))throw new Error("expected generator function")},_a.IsIterable=function(e){return"function"===e[Symbol.iterator]},_a.RequireIterable=function(e){if(!_a.IsIterable(e))throw new Error("expected iterable")},_a.IsDefined=function(e){return!_a.IsNullOrUndefined(e)},_a.IsNullOrUndefined=function(e){return null==e},_a.AreArrayElementsOfSameType=function(e){let t=e[0].constructor;for(let n of e)if(n.constructor!==t)return!1;return t},_a.AreArrayElementsOfType=function(e,t){for(let n of e)if(!(n instanceof t))return!1;return!0};const pa=Object.getPrototypeOf(Uint8Array);_a.IsTypedArray=function(e){return _a.IsInstanceOf(e,pa)},_a.RequireTypedArray=function(e){},_a.WeakRequireTypedArray=function(e){_a.WeakRequireInstanceOf(e,pa)},_a.WeakRequireAnyInstanceOf=function(e,...t){if(!_a.WeakIsAnyInstanceOf(e,...t))throw new TypeError("unexpected type")},_a.WeakIsAnyInstanceOf=function(e,...t){for(const n of t)if(_a.WeakIsInstanceOf(e,n))return!0;return!1},_a.WeakRequireInstanceOf=function(e,t){if(!_a.WeakIsInstanceOf(e,t))throw new TypeError("unexpected type")},_a.WeakIsInstanceOf=function(e,t){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===t.name)return!0;return!1},Ga.RequireNumber=_a.RequireNumber,Ga.RequireOptionalNumber=_a.RequireOptionalNumber,Ga.RequireFiniteNumber=_a.RequireFiniteNumber,Ga.RequireOptionalFiniteNumber=_a.RequireOptionalFiniteNumber,Ga.RequireString=_a.RequireString,Ga.RequireOptionalString=_a.RequireOptionalString,Ga.RequireObject=_a.RequireObject,Ga.RequireOptionalObject=_a.RequireOptionalObject,Ga.RequireArray=_a.RequireArray,Ga.RequireOptionalArray=_a.RequireOptionalArray,Ga.RequireFunction=_a.RequireFunction,Ga.RequireOptionalFunction=_a.RequireOptionalFunction,Ga.RequireInstanceOf=_a.RequireInstanceOf,Ga.RequireOptionalInstanceOf=_a.RequireOptionalInstanceOf,Ga.IsNullOrUndefined=_a.IsNullOrUndefined}{let ma=function(e,t){let n=Sa.getType(e),s=Sa.getType(t);return"null"===n||"null"===s||"undefined"!==n&&"undefined"!==s&&n===s},ga=function(e){console.warn("[Defence] "+e+" @",Sa.GetCallStack())},fa=function(){if(Va=-1,ya.size>0||Ea.size>0){let e=[...new Set([...ya.keys()].map(e=>Sa.getName(e)))].join(",");console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${e}`),ya.clear(),Ea.clear()}},Na=function(e){let t=new Set;for(let n in e)t.add(n);return t},ba=function(e,t){let n=Na(t),s=Ba.get(e);if(s){let t=[];for(let e of s.values())n.has(e)?n.delete(e):t.push(e);Sa.appendArray(t,[...n]),t.length&&console.warn(`[Defence] '${Sa.getName(e)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else Ba.set(e,n)};isValidTypeChange=ma,logDefendedObjectWarning=ga,CheckDefendedObjectsUsedCorrectly=fa,getObjectPropertySet=Na,VerifyObjectPropertiesConsistent=ba;const Sa=self.C3,xa=new Map;let Ia;Sa.ColorLog=function(e,t){console.log(`%c${e}`,`font-weight: bold; color:${t}`)},Sa.RafLog=function(e,...t){xa.has(e)||xa.set(e,-1),-1===xa.get(e)&&xa.set(e,requestAnimationFrame(()=>{console.log(`%c${e}`,"font-weight: bold",...t),xa.set(e,-1)}))},Sa.StartMeasure=function(e){performance.mark(e),Ia||(Ia=new Map),Ia.has(e)||Ia.set(e,{current:0,total:0,average:0,calls:1,toString:function(){return`${e} :: current => ${this.current.toPrecision(3)} :: average => ${this.average.toPrecision(3)} :: calls => ${this.calls}`}})},Sa.EndMeasure=function(e){performance.measure(`measure-${e}`,e);const t=performance.getEntriesByName(`measure-${e}`)[0],n=Ia.get(e);n.current=t.duration,n.total+=n.current,n.average=n.total/n.calls,console.log(n.toString()),n.calls++,performance.clearMarks(e),performance.clearMeasures(`measure-${e}`)},Sa.GetCallStack=function(){return(new Error).stack},Sa.Debugger=function(){},Sa.cast=function(e,t){return e&&e instanceof t?e:null},Sa.getName=function(e){return void 0===e?"undefined":null===e?"null":"boolean"==typeof e?"<boolean>":Sa.IsNumber(e)?"<number>":Sa.IsString(e)?"<string>":Sa.IsArray(e)?"<array>":"symbol"==typeof e?"<"+e.toString()+">":Sa.IsFunction(e)?e.name&&"Function"!==e.name?e.name:"<anonymous function>":"object"==typeof e?e.constructor&&e.constructor.name&&"Object"!==e.constructor.name?e.constructor.name:"<anonymous object>":"<unknown>"},Sa.getType=function(e){return null===e?"null":Array.isArray(e)?"array":typeof e},Sa.range=function*(e,t){if(!isFinite(Math.abs(e-t)))throw new Error("Invalid parameters");if(e>t)for(let n=e-1;n>=t;n--)yield n;else for(let n=e;n<t;n++)yield n};let ya=new Map,Ea=new Map,Ta=new WeakMap,Ca=new WeakMap;Sa.DefendHandler={};const Ma=new Set(["then","splice"]);Sa.DefendHandler.get=function(e,t){return t in e||"symbol"==typeof t||Ma.has(t)||ga(`Accessed missing property '${t}' from defended object '${Sa.getName(e)}', returning undefined`),Ca.has(e)&&"symbol"!=typeof t&&!Ma.has(t)&&ga(`Accessed property '${t}' on a released object '${Sa.getName(e)}'\nObject was originally released at: ${Ca.get(e)})\nCall stack at access: `),e[t]},Sa.DefendHandler.set=function(e,t,n){return t in e||ya.has(e)||ga(`Set non-existent property '${t}' to '${n}' on defended object '${Sa.getName(e)}'`),ma(e[t],n)||ya.has(e)||ga(`Set '${Sa.getType(e[t])}' property '${t}' to type '${Sa.getType(n)}' on defended object '${Sa.getName(e)}'`),Ca.has(e)&&ga(`Set property '${t}' on a released object '${Sa.getName(e)}'\nObject was originally released at: ${Ca.get(e)})\nCall stack at access: `),e[t]=n,!0},Sa.DefendHandler.deleteProperty=function(e,t){throw new ReferenceError(`Cannot delete property '${t}' from defended object '${Sa.getName(e)}'`)},Sa.DefendHandler.defineProperty=function(e,t,n){throw new ReferenceError(`Cannot define property '${t}' on defended object '${Sa.getName(e)}'`)},Sa.DefendHandler.enumerate=function(e){throw new ReferenceError(`Cannot enumerate defended object '${Sa.getName(e)}'`)};let Va=-1;Sa.DefendedBase=class{constructor(){if(!Sa.isDebugDefend||!Sa.Supports.Proxies)return;let e=new.target,t=Object.create(e.prototype),n=new Proxy(t,Sa.DefendHandler);return ya.set(t,n),Ea.set(n,t),Ta.set(n,t),-1===Va&&(Va=requestAnimationFrame(fa)),n}},Sa.debugDefend=function(e){if(Sa.isDebugDefend&&Sa.Supports.Proxies&&e instanceof Sa.DefendedBase){if(!Ea.has(e))return e;let t=Ea.get(e);return Ea.delete(e),ya.delete(t),e}return Sa.isDebug?Object.seal(e):e},Sa.New=function(e,...t){let n;try{n=new e(...t)}catch(e){throw Ea.clear(),ya.clear(),e}return Sa.isDebugDefend&&ba(e,n),Sa.debugDefend(n)},Sa.Release=function(e){let t=Ta.get(e);t&&Ca.set(t,Sa.GetCallStack())},Sa.WasReleased=function(e){let t=Ta.get(e);return!!t&&!!Ca.get(t)};let Ba=new Map;Sa.PerfMark=class{constructor(e){this._name="",e&&this.start(e)}start(e){Sa.isPerformanceProfiling&&(this._name=e,performance.mark(this._name+"-Start"))}end(){Sa.isPerformanceProfiling&&(performance.mark(this._name+"-End"),performance.measure(this._name,this._name+"-Start",this._name+"-End"))}next(e){Sa.isPerformanceProfiling&&(this.end(),this._name=e,performance.mark(this._name+"-Start"))}}}{let Oa=function(e){return 0===e&&1/e<0};isNegativeZero=Oa;const va=self.C3,Pa=2*Math.PI,wa=Math.PI/180,Aa=180/Math.PI;va.wrap=function(e,t,n){e=Math.floor(e),t=Math.floor(t);const s=(n=Math.floor(n))-t;if(0===s)return n;if(e<t){const r=n-(t-e)%s;return r===n?0:r}return t+(e-t)%s},va.mapToRange=function(e,t,n,s,r){const o=n-t;return 0===o&&0===s?e:(e-t)*(r-s)/o+s},va.normalize=function(e,t,n){return t-n===0?1:(e-t)/(n-t)},va.clamp=function(e,t,n){return e<t?t:e>n?n:e},va.clampAngle=function(e){return(e%=Pa)<0&&(e+=Pa),e},va.toRadians=function(e){return e*wa},va.toDegrees=function(e){return e*Aa},va.hypot2DFast=function(e,t){return Math.sqrt(e*e+t*t)},va.hypot3DFast=function(e,t,n){return Math.sqrt(e*e+t*t+n*n)},va.distanceTo=function(e,t,n,s){return va.hypot2DFast(n-e,s-t)},va.distanceSquared=function(e,t,n,s){const r=n-e,o=s-t;return r*r+o*o},va.angleTo=function(e,t,n,s){return Math.atan2(s-t,n-e)},va.angleDiff=function(e,t){if(e===t)return 0;let n=Math.sin(e),s=Math.cos(e),r=n*Math.sin(t)+s*Math.cos(t);return r>=1?0:r<=-1?Math.PI:Math.acos(r)},va.angleRotate=function(e,t,n){let s=Math.sin(e),r=Math.cos(e),o=Math.sin(t),a=Math.cos(t);return Math.acos(s*o+r*a)>n?r*o-s*a>0?va.clampAngle(e+n):va.clampAngle(e-n):va.clampAngle(t)},va.angleClockwise=function(e,t){let n=Math.sin(e);return Math.cos(e)*Math.sin(t)-n*Math.cos(t)<=0},va.angleLerp=function(e,t,n,s=0){let r=va.angleDiff(e,t);const o=Pa*s;return va.angleClockwise(t,e)?va.clampAngle(e+(r+o)*n):va.clampAngle(e-(r+o)*n)},va.angleLerpClockwise=function(e,t,n,s=0){const r=va.angleDiff(e,t),o=Pa*s;return va.angleClockwise(t,e)?va.clampAngle(e+(r+o)*n):va.clampAngle(e+(Pa-r+o)*n)},va.angleLerpAntiClockwise=function(e,t,n,s=0){const r=va.angleDiff(e,t),o=Pa*s;return va.angleClockwise(t,e)?va.clampAngle(e-(-Pa+r-o)*n):va.clampAngle(e-(r+o)*n)},va.angleReflect=function(e,t){const n=va.angleDiff(e,t);return va.angleClockwise(e,t)?va.clampAngle(t-n):va.clampAngle(t+n)},va.lerp=function(e,t,n){return e+n*(t-e)},va.unlerp=function(e,t,n){return e===t?0:(n-e)/(t-e)},va.relerp=function(e,t,n,s,r){return va.lerp(s,r,va.unlerp(e,t,n))},va.qarp=function(e,t,n,s){return va.lerp(va.lerp(e,t,s),va.lerp(t,n,s),s)},va.cubic=function(e,t,n,s,r){return va.lerp(va.qarp(e,t,n,r),va.qarp(t,n,s,r),r)},va.cosp=function(e,t,n){return(e+t+(e-t)*Math.cos(n*Math.PI))/2},va.isPOT=function(e){return e>0&&!(e-1&e)},va.nextHighestPowerOfTwo=function(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1},va.roundToNearestFraction=function(e,t){return Math.round(e*t)/t},va.floorToNearestFraction=function(e,t){return Math.floor(e*t)/t},va.roundToDp=function(e,t){t=Math.max(Math.floor(t),0);const n=Math.pow(10,t);return Math.round(e*n)/n},va.countDecimals=function(e){return Math.floor(e)!==e&&e.toString().split(".")[1].length||0},va.toFixed=function(e,t){let n=e.toFixed(t),s=n.length-1;for(;s>=0&&"0"===n.charAt(s);--s);return s>=0&&"."===n.charAt(s)&&--s,s<0?n:n.substr(0,s+1)},va.PackRGB=function(e,t,n){return va.clamp(e,0,255)|va.clamp(t,0,255)<<8|va.clamp(n,0,255)<<16};const Da=1024,Ra=1023,Fa=16384,ja=8191,ka=-8192;va.PackRGBAEx=function(e,t,n,s){return(e=va.clamp(Math.floor(1024*e),-8192,8191))<0&&(e+=16384),(t=va.clamp(Math.floor(1024*t),-8192,8191))<0&&(t+=16384),(n=va.clamp(Math.floor(1024*n),-8192,8191))<0&&(n+=16384),-(16384*e*16384*1024+16384*t*1024+1024*n+(s=va.clamp(Math.floor(1023*s),0,1023)))},va.PackRGBEx=function(e,t,n){return va.PackRGBAEx(e,t,n,1)},va.GetRValue=function(e){if(e>=0)return(255&e)/255;{let t=Math.floor(-e/274877906944);return t>8191&&(t-=16384),t/1024}},va.GetGValue=function(e){if(e>=0)return((65280&e)>>8)/255;{let t=Math.floor(-e%274877906944/16777216);return t>8191&&(t-=16384),t/1024}},va.GetBValue=function(e){if(e>=0)return((16711680&e)>>16)/255;{let t=Math.floor(-e%16777216/1024);return t>8191&&(t-=16384),t/1024}},va.GetAValue=function(e){return Oa(e)?0:e>=0?1:Math.floor(-e%1024)/1023},va.greatestCommonDivisor=function(e,t){for(e=Math.floor(e),t=Math.floor(t);0!==t;){let n=t;t=e%t,e=n}return e};const La=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];va.getAspectRatio=function(e,t){if((e=Math.floor(e))===(t=Math.floor(t)))return[1,1];for(let n of La){let s=e/n[0]*n[1];if(Math.abs(t-s)<1)return n.slice(0);if(s=e/n[1]*n[0],Math.abs(t-s)<1)return[n[1],n[0]]}let n=va.greatestCommonDivisor(e,t);return[e/n,t/n]},va.segmentsIntersect=function(e,t,n,s,r,o,a,i){const l=Math.min(e,n),d=Math.max(e,n),c=Math.min(r,a),u=Math.max(r,a);if(d<c||l>u)return!1;const h=Math.min(t,s),_=Math.max(t,s),G=Math.min(o,i),p=Math.max(o,i);if(_<G||h>p)return!1;const m=r-e+a-n,g=o-t+i-s,f=n-e,N=s-t,b=a-r,S=i-o,x=Math.abs(N*b-S*f),I=b*g-S*m;if(Math.abs(I)>x)return!1;const y=f*g-N*m;return Math.abs(y)<=x},va.segmentsIntersectPreCalc=function(e,t,n,s,r,o,a,i,l,d,c,u){const h=Math.min(l,c),_=Math.max(l,c);if(o<h||r>_)return!1;const G=Math.min(d,u),p=Math.max(d,u);if(i<G||a>p)return!1;const m=l-e+c-n,g=d-t+u-s,f=n-e,N=s-t,b=c-l,S=u-d,x=Math.abs(N*b-S*f),I=b*g-S*m;if(Math.abs(I)>x)return!1;const y=f*g-N*m;return Math.abs(y)<=x},va.segmentIntersectsQuad=function(e,t,n,s,r){const o=Math.min(e,n),a=Math.max(e,n),i=Math.min(t,s),l=Math.max(t,s),d=r.getTlx(),c=r.getTly(),u=r.getTrx(),h=r.getTry(),_=r.getBrx(),G=r.getBry(),p=r.getBlx(),m=r.getBly();return va.segmentsIntersectPreCalc(e,t,n,s,o,a,i,l,d,c,u,h)||va.segmentsIntersectPreCalc(e,t,n,s,o,a,i,l,u,h,_,G)||va.segmentsIntersectPreCalc(e,t,n,s,o,a,i,l,_,G,p,m)||va.segmentsIntersectPreCalc(e,t,n,s,o,a,i,l,p,m,d,c)},va.segmentIntersectsAnyN=function(e,t,n,s,r){const o=Math.min(e,n),a=Math.max(e,n),i=Math.min(t,s),l=Math.max(t,s);let d=0;for(let c=r.length-4;d<=c;d+=2)if(va.segmentsIntersectPreCalc(e,t,n,s,o,a,i,l,r[d],r[d+1],r[d+2],r[d+3]))return!0;return va.segmentsIntersectPreCalc(e,t,n,s,o,a,i,l,r[d],r[d+1],r[0],r[1])};const Wa=2,Ua=1e-6;va.rayIntersect=function(e,t,n,s,r,o,a,i){const l=n-e,d=i-o,c=l*d-(s-t)*(a-r);if(0===c)return 2;const u=((t-s)*(a-e)+l*(i-t))/c;return 0<u&&u<1.000001?(d*(a-e)+(r-a)*(i-t))/c:2},va.rayIntersectExtended=function(e,t,n,s,r,o,a,i,l){const d=(a-r)*l,c=(i-o)*l;return va.rayIntersect(e,t,n,s,r-d,o-c,a+d,i+c)},va.isPointInTriangleInclusive=function(e,t,n,s,r,o,a,i){const l=r-n,d=o-s,c=a-n,u=i-s,h=e-n,_=t-s,G=l*l+d*d,p=l*c+d*u,m=l*h+d*_,g=c*c+u*u,f=c*h+u*_,N=1/(G*g-p*p),b=(g*m-p*f)*N,S=(G*f-p*m)*N;return b>=0&&S>=0&&b+S<=1},va.triangleCartesianToBarycentric=function(e,t,n,s,r,o,a,i){const l=r-n,d=o-s,c=a-n,u=i-s,h=e-n,_=t-s,G=l*l+d*d,p=l*c+d*u,m=c*c+u*u,g=h*l+_*d,f=h*c+_*u,N=G*m-p*p,b=(m*g-p*f)/N,S=(G*f-p*g)/N;return[1-b-S,b,S]},va.triangleBarycentricToCartesian3d=function(e,t,n,s,r,o,a,i,l,d,c,u){return[e*s+t*a+n*d,e*r+t*i+n*c,e*o+t*l+n*u]}}{const Ha=self.C3;let za=null,Ya="";if("undefined"!=typeof document){za=document;const Za=document.querySelector("base");Ya=Za&&Za.hasAttribute("href")?Za.getAttribute("href"):"",Ya&&(Ya.startsWith("/")&&(Ya=Ya.substr(1)),Ya.endsWith("/")||(Ya+="/"))}Ha.GetBaseHref=function(){return Ya},Ha.GetBaseURL=function(){if(!za)return"";const e=za.location;return Ha.GetPathFromURL(e.origin+e.pathname)+Ya},Ha.GetPathFromURL=function(e){if(!e.length)return e;if(e.endsWith("/")||e.endsWith("\\"))return e;const t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return-1===t?"":e.substr(0,t+1)},Ha.GetFilenameFromURL=function(e){if(!e.length)return e;if(e.endsWith("/")||e.endsWith("\\"))return"";const t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return-1===t?e:e.substr(t+1)},Ha.GetFileExtension=function(e){let t=e.lastIndexOf(".");return t<1?"":e.substr(t)},Ha.SetFileExtension=function(e,t){const n=e.lastIndexOf(".");return-1===n?e+"."+t:e.substr(0,n+1)+t},Ha.GetFileNamePart=function(e){let t=e.lastIndexOf(".");return t<1?e:e.substr(0,t)},Ha.NormalizeFileSeparator=function(e){return e.replace(/\\/g,"/")},Ha.IsFileExtension=function(e,t){return t===(e?Ha.GetFileExtension(e).slice(1):"")},Ha.FileNameEquals=function(e,t){let n,s;return Ha.IsFileLike(e)&&(n=Ha.GetFileNamePart(e.name)),Ha.IsString(e)&&(n=Ha.GetFileNamePart(e)),Ha.IsFileLike(t)&&(s=Ha.GetFileNamePart(t.name)),Ha.IsString(t)&&(s=Ha.GetFileNamePart(t)),n===s},Ha.ParseFilePath=function(e){e=Ha.NormalizeFileSeparator(e);let t=/^\w\:\//.exec(e);t?(t=t[0],"/"!==(e=e.slice(3))[0]&&(e="/"+e)):t="",(e=e.replace(/\/{2,}/g,"/")).length>1&&"/"===e.slice(-1)&&(e=e.slice(0,-1));const n=e.lastIndexOf("/")+1;let s,r="",o=e,a="";n>0&&(r=e.slice(0,n),o=e.slice(n)),s=o;const i=o.lastIndexOf(".");return i>0&&(a=o.slice(i),s=o.slice(0,-a.length)),{dir:r,base:o,name:s,root:t,ext:a,full:t+r+o}},Ha.Wait=function(e,t){return new Promise((n,s)=>{self.setTimeout(n,e,t)})},Ha.swallowException=function(e){try{e()}catch(e){Ha.isDebug&&console.warn("Swallowed exception: ",e)}},Ha.noop=function(){},Ha.equalsNoCase=function(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||e.normalize().toLowerCase()===t.normalize().toLowerCase())},Ha.equalsCase=function(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||e.normalize()===t.normalize())},Ha.typedArraySet16=function(e,t,n){e[n++]=t[0],e[n++]=t[1],e[n++]=t[2],e[n++]=t[3],e[n++]=t[4],e[n++]=t[5],e[n++]=t[6],e[n++]=t[7],e[n++]=t[8],e[n++]=t[9],e[n++]=t[10],e[n++]=t[11],e[n++]=t[12],e[n++]=t[13],e[n++]=t[14],e[n]=t[15]},Ha.truncateArray=function(e,t){e.length=t},Ha.clearArray=function(e){e&&0!==e.length&&Ha.truncateArray(e,0)},Ha.clear2DArray=function(e){if(e){for(let t=0;t<e.length;t++){let n=e[t];Ha.truncateArray(n,0)}Ha.truncateArray(e,0)}},Ha.extendArray=function(e,t,n){t|=0;const s=e.length;if(!(t<=s))for(let r=s;r<t;++r)e.push(n)},Ha.resizeArray=function(e,t,n){t|=0;const s=e.length;t<s?Ha.truncateArray(e,t):t>s&&Ha.extendArray(e,t,n)},Ha.shallowAssignArray=function(e,t){Ha.clearArray(e),Ha.appendArray(e,t)},Ha.appendArray=function(e,t){if(t.length<1e4)e.push(...t);else for(let n=0,s=t.length;n<s;++n)e.push(t[n])},Ha.arrayRemove=function(e,t){if((t=Math.floor(t))<0||t>=e.length)return;let n=e.length-1;for(let s=t;s<n;++s)e[s]=e[s+1];Ha.truncateArray(e,n)},Ha.arrayFindRemove=function(e,t){let n=e.indexOf(t);n>=0&&e.splice(n,1)},Ha.arraysEqual=function(e,t){let n=e.length;if(t.length!==n)return!1;for(let s=0;s<n;++s)if(e[s]!==t[s])return!1;return!0},Ha.arrayFilterOut=function(e,t){let n=[],s=0;for(let r=0,o=e.length;r<o;++r){let o=e[r];t(o)?n.push(o):(e[s]=o,++s)}return Ha.truncateArray(e,s),n},Ha.arrayRemoveAllInSet=function(e,t){const n=e.length;let s=0;for(let n=0,r=e.length;n<r;++n){let r=e[n];t.has(r)||(e[s++]=r)}return Ha.truncateArray(e,s),n-s},Ha.isArrayIndexInBounds=function(e,t){return e===Math.floor(e)&&e>=0&&e<t.length},Ha.validateArrayIndex=function(e,t){if(!Ha.isArrayIndexInBounds(e,t))throw new RangeError("array index out of bounds")},Ha.cloneArray=function(e){return e.slice()},Ha.deepCloneArray=function(e,t){let n=[];for(let s of e)if(Ha.IsObject(s)){let e=t(s);if(!e)throw new Error("missing clone");if(e.constructor!==s.constructor)throw new Error("object is not a clone");n.push(e)}else Ha.IsArray(s)?n.push(Ha.deepCloneArray(s,t)):n.push(s);return n},Ha.clone2DArray=function(e){let t=[];for(let n of e)t.push(n.slice());return t},Ha.splitStringAndNormalize=function(e,t=" "){return e?e.split(t).map(e=>e.trim()).filter(e=>!!e):[]},Ha.filterSet=function(e,t,n){const s=new Set;for(const r of e.values())t(r)&&(n?s.add(n(r)):s.add(r));return s},Ha.mergeSets=function(e,t){return e.union?e.union(t):new Set([...e,...t])},Ha.mergeSetsInPlace=function(e,t){for(const n of t)e.add(n);return e},Ha.first=function(e){for(let t of e)return t;return null},Ha.xor=function(e,t){return!e!=!t},Ha.compare=function(e,t,n){switch(t){case 0:return e===n;case 1:return e!==n;case 2:return e<n;case 3:return e<=n;case 4:return e>n;case 5:return e>=n;default:return!1}},Ha.hasAnyOwnProperty=function(e){for(let t in e)if(e.hasOwnProperty(t))return!0;return!1},Ha.PromiseAllWithProgress=function(e,t){return e.length?new Promise((n,s)=>{const r=[];let o=0,a=!1;for(let i=0,l=e.length;i<l;++i)r.push(void 0),e[i].then(s=>{a||(r[i]=s,++o,o===e.length?n(r):t(o,e.length))}).catch(e=>{a=!0,s(e)})}):Promise.resolve([])};let Xa=[];Ha.AddLibraryMemoryCallback=function(e){Xa.push(e)},Ha.GetEstimatedLibraryMemoryUsage=function(){let e=0;for(let t of Xa)e+=t();return Math.floor(e)};let qa=1;const Ka=new Map,Ja=new MessageChannel;Ja.port2.onmessage=function(e){const t=e.data,n=Ka.get(t);Ka.delete(t),n&&n(performance.now())},Ha.RequestUnlimitedAnimationFrame=function(e){const t=qa++;return Ka.set(t,e),Ja.port1.postMessage(t),t},Ha.CancelUnlimitedAnimationFrame=function(e){Ka.delete(e)},Ha.PostTask=Ha.RequestUnlimitedAnimationFrame,Ha.WaitForNextTask=function(){return new Promise(e=>Ha.PostTask(e))};const $a=new Set;Ha.RequestPostAnimationFrame=function(e){const t=self.requestAnimationFrame(async n=>{await Ha.WaitForNextTask(),$a.has(t)&&($a.delete(t),e(n))});return $a.add(t),t},Ha.CancelPostAnimationFrame=function(e){$a.has(e)&&(self.cancelAnimationFrame(e),$a.delete(e))}}{const Qa=self.C3;Qa.IsAbsoluteURL=function(e){return/^(?:[a-z\-]+:)?\/\//.test(e)||"data:"===e.substr(0,5)||"blob:"===e.substr(0,5)},Qa.IsRelativeURL=function(e){return!Qa.IsAbsoluteURL(e)},Qa.ThrowIfNotOk=function(e){if(!e.ok)throw new Error(`fetch '${e.url}' response returned ${e.status} ${e.statusText}`)},Qa.FetchOk=function(e,t){return fetch(e,t).then(e=>(Qa.ThrowIfNotOk(e),e))},Qa.FetchText=function(e){return Qa.FetchOk(e).then(e=>e.text())},Qa.FetchJson=function(e){return Qa.FetchOk(e).then(e=>e.json())},Qa.FetchBlob=function(e){return Qa.FetchOk(e).then(e=>e.blob())},Qa.FetchArrayBuffer=function(e){return Qa.FetchOk(e).then(e=>e.arrayBuffer())},Qa.FetchImage=function(e){return new Promise((t,n)=>{const s=new Image;s.onload=()=>t(s),s.onerror=e=>n(e),s.src=e})},Qa.BlobToArrayBuffer=function(e){return"function"==typeof e.arrayBuffer?e.arrayBuffer():new Promise((t,n)=>{const s=new FileReader;s.onload=()=>t(s.result),s.onerror=()=>n(s.error),s.readAsArrayBuffer(e)})},Qa.BlobToString=function(e){return"function"==typeof e.text?e.text():new Promise((t,n)=>{const s=new FileReader;s.onload=()=>t(s.result),s.onerror=()=>n(s.error),s.readAsText(e)})},Qa.BlobToJson=function(e){return Qa.BlobToString(e).then(e=>JSON.parse(e))},Qa.BlobToImage=async function(e,t){let n=URL.createObjectURL(e);try{const e=await Qa.FetchImage(n);return URL.revokeObjectURL(n),n="",t&&"function"==typeof e.decode&&await e.decode(),e}finally{n&&URL.revokeObjectURL(n)}},Qa.CreateCanvas=function(e,t){if("undefined"!=typeof document&&"function"==typeof document.createElement){const n=document.createElement("canvas");return n.width=e,n.height=t,n}return new OffscreenCanvas(e,t)},Qa.CanvasToBlob=function(e,t,n){if("number"!=typeof n&&(n=1),t=t||"image/png",n=Qa.clamp(n,0,1),e.convertToBlob)return e.convertToBlob({type:t,quality:n});if(e.toBlob)return new Promise(s=>e.toBlob(s,t,n));throw new Error("could not convert canvas to blob")},Qa.DrawableToBlob=function(e,t,n){const s=Qa.CreateCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),Qa.CanvasToBlob(s,t,n)},Qa.ImageDataToBlob=function(e,t,n){if(Qa.Supports.ImageBitmapOptions)return createImageBitmap(e,{premultiplyAlpha:"none"}).then(e=>Qa.DrawableToBlob(e,t,n));if(Qa.Supports.ImageBitmap)return createImageBitmap(e).then(e=>Qa.DrawableToBlob(e,t,n));{const s=Qa.CreateCanvas(e.width,e.height);return s.getContext("2d").putImageData(e,0,0),Qa.CanvasToBlob(s,t,n)}},Qa.CopySet=function(e,t){e.clear();for(const n of t)e.add(n)},Qa.MapToObject=function(e){const t=Object.create(null);for(const[n,s]of e.entries())t[n]=s;return t},Qa.ObjectToMap=function(e,t){t.clear();for(const[n,s]of Object.entries(e))t.set(n,s)},Qa.ToSuperJSON=function e(t){if("object"==typeof t&&null!==t){if(t instanceof Set)return{_c3type_:"set",data:[...t].map(t=>e(t))};if(t instanceof Map)return{_c3type_:"map",data:[...t].map(t=>[t[0],e(t[1])])};{const n=Object.create(null);for(const[s,r]of Object.entries(t))n[s]=e(r);return n}}return t},Qa.FromSuperJSON=function e(t){if("object"==typeof t&null!==t){if("set"===t._c3type_)return new Set(t.data.map(t=>e(t)));if("map"===t._c3type_)return new Map(t.data.map(t=>[t[0],e(t[1])]));{const n=Object.create(null);for(const[s,r]of Object.entries(t))n[s]=e(r);return n}}return t},Qa.CSSToCamelCase=function(e){if(e.startsWith("--"))return e;let t="",n=!1,s=0;for(const r of e)"-"===r?s>0&&(n=!0):n?(t+=r.toUpperCase(),n=!1):t+=r,++s;return t},Qa.IsIterator=function(e){return"object"==typeof e&&"function"==typeof e.next},Qa.MakeFilledArray=function(e,t){const n=[];if("function"==typeof t)for(let s=0;s<e;++s)n.push(t());else for(let s=0;s<e;++s)n.push(t);return n}}{let ei=function(e){return 0===e.length?"00":1===e.length?"0"+e:e},ti=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e};padTwoDigits=ei,hueToRGB=ti;const ni=self.C3,si=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?/i,ri=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?,([0-9.])/i;ni.Color=class{constructor(e,t,n,s){this._r=NaN,this._g=NaN,this._b=NaN,this._a=NaN,this._r=0,this._g=0,this._b=0,this._a=0,e instanceof ni.Color?this.set(e):this.setRgba(e||0,t||0,n||0,s||0)}setRgb(e,t,n){return this._r=+e,this._g=+t,this._b=+n,this.clamp(),this}setRgba(e,t,n,s){return this._r=+e,this._g=+t,this._b=+n,this._a=+s,this.clamp(),this}set(e){return this._r=e._r,this._g=e._g,this._b=e._b,this._a=e._a,this}copy(e){return this.set(e)}add(e){this._r+=e._r,this._g+=e._g,this._b+=e._b,this._a+=e._a,this.clamp()}addRgb(e,t,n,s=0){this._r+=+e,this._g+=+t,this._b+=+n,this._a+=+s,this.clamp()}diff(e){this.setR(Math.max(this._r,e._r)-Math.min(this._r,e._r)),this.setG(Math.max(this._g,e._g)-Math.min(this._g,e._g)),this.setB(Math.max(this._b,e._b)-Math.min(this._b,e._b)),this.setA(Math.max(this._a,e._a)-Math.min(this._a,e._a)),this.clamp()}copyRgb(e){this._r=e._r,this._g=e._g,this._b=e._b}setR(e){this._r=ni.clamp(+e,0,1)}getR(){return this._r}setG(e){this._g=ni.clamp(+e,0,1)}getG(){return this._g}setB(e){this._b=ni.clamp(+e,0,1)}getB(){return this._b}setA(e){this._a=ni.clamp(+e,0,1)}getA(){return this._a}clone(){return ni.New(ni.Color,this._r,this._g,this._b,this._a)}toArray(){return[this._r,this._g,this._b,this._a]}toTypedArray(){return new Float64Array(this.toArray())}writeToTypedArray(e,t){e[t++]=this._r,e[t++]=this._g,e[t++]=this._b,e[t]=this._a}writeToTypedArrayx4(e,t){const n=this._r,s=this._g,r=this._b,o=this._a;for(let a=0;a<4;++a)e[t++]=n,e[t++]=s,e[t++]=r,e[t++]=o}writeRGBToTypedArray(e,t){e[t++]=this._r,e[t++]=this._g,e[t]=this._b}equals(e){return this._r===e._r&&this._g===e._g&&this._b===e._b&&this._a===e._a}equalsIgnoringAlpha(e){return this._r===e._r&&this._g===e._g&&this._b===e._b}equalsRgb(e,t,n){return this._r===e&&this._g===t&&this._b===n}equalsRgba(e,t,n,s){return this._r===e&&this._g===t&&this._b===n&&this._a===s}equalsF32Array(e,t){return e[t]===Math.fround(this._r)&&e[t+1]===Math.fround(this._g)&&e[t+2]===Math.fround(this._b)&&e[t+3]===Math.fround(this._a)}equalsRGBF32Array(e,t){return e[t]===Math.fround(this._r)&&e[t+1]===Math.fround(this._g)&&e[t+2]===Math.fround(this._b)}multiply(e){this._r*=e._r,this._g*=e._g,this._b*=e._b,this._a*=e._a}multiplyAlpha(e){this._r*=e,this._g*=e,this._b*=e,this._a*=e}premultiply(){return this._r*=this._a,this._g*=this._a,this._b*=this._a,this}unpremultiply(){return this._r/=this._a,this._g/=this._a,this._b/=this._a,this}clamp(){return this._r=ni.clamp(this._r,0,1),this._g=ni.clamp(this._g,0,1),this._b=ni.clamp(this._b,0,1),this._a=ni.clamp(this._a,0,1),this}setFromRgbValue(e){this._r=ni.GetRValue(e),this._g=ni.GetGValue(e),this._b=ni.GetBValue(e),this._a=ni.GetAValue(e)}getCssRgb(e,t,n){return`rgb(${100*(ni.IsFiniteNumber(e)?e:this.getR())}%, ${100*(ni.IsFiniteNumber(t)?t:this.getG())}%, ${100*(ni.IsFiniteNumber(n)?n:this.getB())}%)`}getCssRgba(e,t,n,s){return`rgba(${100*(ni.IsFiniteNumber(e)?e:this.getR())}%, ${100*(ni.IsFiniteNumber(t)?t:this.getG())}%, ${100*(ni.IsFiniteNumber(n)?n:this.getB())}%, ${ni.IsFiniteNumber(s)?s:this.getA()})`}toHexString(){const e=Math.round(255*this.getR()),t=Math.round(255*this.getG()),n=Math.round(255*this.getB());return"#"+ei(e.toString(16))+ei(t.toString(16))+ei(n.toString(16))}parseHexString(e){if("string"!=typeof e)return!1;let t,n,s;if("#"===(e=e.trim()).charAt(0)&&(e=e.substr(1)),3===e.length)t=parseInt(e[0],16)/15,n=parseInt(e[1],16)/15,s=parseInt(e[2],16)/15;else{if(6!==e.length)return!1;t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,s=parseInt(e.substr(4,2),16)/255}return isFinite(t)&&this.setR(t),isFinite(n)&&this.setG(n),isFinite(s)&&this.setB(s),this.setA(1),!0}toCommaSeparatedRgb(){return`${Math.round(255*this.getR())}, ${Math.round(255*this.getG())}, ${Math.round(255*this.getB())}`}toRgbArray(){return[Math.round(255*this.getR()),Math.round(255*this.getG()),Math.round(255*this.getB())]}parseCommaSeparatedRgb(e){if("string"!=typeof e)return!1;const t=(e=e.replace(/^rgb\(|\)|%/,"")).split(",");if(t.length<3)return!1;const n=parseInt(t[0].trim(),10)/255,s=parseInt(t[1].trim(),10)/255,r=parseInt(t[2].trim(),10)/255;return isFinite(n)&&this.setR(n),isFinite(s)&&this.setG(s),isFinite(r)&&this.setB(r),this.setA(1),!0}parseCommaSeparatedPercentageRgb(e){if("string"!=typeof e)return!1;const t=(e=e.replace(/^rgb\(|\)|%/,"")).split(",");if(t.length<3)return!1;const n=parseInt(t[0].trim(),10)/100,s=parseInt(t[1].trim(),10)/100,r=parseInt(t[2].trim(),10)/100;return isFinite(n)&&this.setR(n),isFinite(s)&&this.setG(s),isFinite(r)&&this.setB(r),this.setA(1),!0}parseCommaSeparatedRgba(e){if("string"!=typeof e)return!1;const t=(e=e.replace(/^rgba\(|\)|%/,"")).split(",");if(t.length<4)return!1;const n=parseInt(t[0].trim(),10)/255,s=parseInt(t[1].trim(),10)/255,r=parseInt(t[2].trim(),10)/255,o=parseFloat(t[3].trim());return isFinite(n)&&this.setR(n),isFinite(s)&&this.setG(s),isFinite(r)&&this.setB(r),isFinite(o)&&this.setA(o),!0}parseCommaSeparatedPercentageRgba(e){if("string"!=typeof e)return!1;const t=(e=e.replace(/^rgba\(|\)|%/,"")).split(",");if(t.length<4)return!1;const n=parseInt(t[0].trim(),10)/100,s=parseInt(t[1].trim(),10)/100,r=parseInt(t[2].trim(),10)/100,o=parseFloat(t[3].trim());return isFinite(n)&&this.setR(n),isFinite(s)&&this.setG(s),isFinite(r)&&this.setB(r),isFinite(o)&&this.setA(o),!0}parseString(e){if("string"!=typeof e)return!1;if((e=e.replace(/\s+/,"")).includes(",")){if(e.startsWith("rgb("))return e.includes("%")?this.parseCommaSeparatedPercentageRgb(e):this.parseCommaSeparatedRgb(e);if(e.startsWith("rgba("))return e.includes("%")?this.parseCommaSeparatedPercentageRgba(e):this.parseCommaSeparatedRgba(e);if(e.startsWith("hsl(")||e.startsWith("hsla("))return this.parseHSLString(e);{const t=e.split(",");return e.includes("%")?3===t.length?this.parseCommaSeparatedPercentageRgb(e):4===t.length&&this.parseCommaSeparatedPercentageRgba(e):3===t.length?this.parseCommaSeparatedRgb(e):4===t.length&&this.parseCommaSeparatedRgba(e)}}return this.parseHexString(e)}toJSON(){return[this._r,this._g,this._b,this._a]}setFromHSLA(e,t,n,s){let r,o,a;if(e%=360,t=ni.clamp(t,0,100),n=ni.clamp(n,0,100),s=ni.clamp(s,0,1),e/=360,n/=100,0==(t/=100))r=o=a=n;else{const s=n<.5?n*(1+t):n+t-n*t,i=2*n-s;r=ti(i,s,e+1/3),o=ti(i,s,e),a=ti(i,s,e-1/3)}return this.setR(r),this.setG(o),this.setB(a),this.setA(s),this}parseHSLString(e){const t=e.replace(/ |hsl|hsla|\(|\)|;/gi,""),n=si.exec(t),s=ri.exec(t);return n&&4===n.length?(this.setFromHSLA(+n[1],+n[2],+n[3],1),!0):!(!s||5!==s.length||(this.setFromHSLA(+n[1],+n[2],+n[3],+n[4]),0))}toHSLAString(){const e=this._r,t=this._g,n=this._b,s=this._a;return`hsla(${ni.Color.GetHue(e,t,n)}, ${ni.Color.GetSaturation(e,t,n)}%, ${ni.Color.GetLuminosity(e,t,n)}%, ${s})`}toHSLAArray(){const e=this._r,t=this._g,n=this._b;return[ni.Color.GetHue(e,t,n),ni.Color.GetSaturation(e,t,n),ni.Color.GetLuminosity(e,t,n),this._a]}setFromJSON(e){Array.isArray(e)&&(e.length<3||(this._r=e[0],this._g=e[1],this._b=e[2],e.length>=4?this._a=e[3]:this._a=1))}set r(e){this.setR(e)}get r(){return this.getR()}set g(e){this.setG(e)}get g(){return this.getG()}set b(e){this.setB(e)}get b(){return this.getB()}set a(e){this.setA(e)}get a(){return this.getA()}setAtIndex(e,t){switch(e){case 0:this.setR(t);break;case 1:this.setG(t);break;case 2:this.setB(t);break;case 3:this.setA(t);break;default:throw new RangeError("invalid color index")}}getAtIndex(e){switch(e){case 0:return this.getR();case 1:return this.getG();case 2:return this.getB();case 3:return this.getA();default:throw new RangeError("invalid color index")}}static Equals(e,t){let n,s;if(Array.isArray(e))n=new ni.Color,n.setFromJSON(e);else{if(!(e instanceof ni.Color))throw new Error("unexpected type");n=e}if(Array.isArray(t))s=new ni.Color,s.setFromJSON(t);else{if(!(t instanceof ni.Color))throw new Error("unexpected type");s=t}return n.equals(s)}static DiffChannel(e,t){return ni.clamp(Math.max(e,t)-Math.min(e,t),0,1)}static Diff(e,t){const n=new ni.Color;return n.setR(Math.max(e._r,t._r)-Math.min(e._r,t._r)),n.setG(Math.max(e._g,t._g)-Math.min(e._g,t._g)),n.setB(Math.max(e._b,t._b)-Math.min(e._b,t._b)),n.setA(Math.max(e._a,t._a)-Math.min(e._a,t._a)),n}static DiffNoAlpha(e,t){const n=new ni.Color(0,0,0,1);return n.setR(Math.max(e._r,t._r)-Math.min(e._r,t._r)),n.setG(Math.max(e._g,t._g)-Math.min(e._g,t._g)),n.setB(Math.max(e._b,t._b)-Math.min(e._b,t._b)),n}static GetHue(e,t,n){const s=Math.max(e,t,n),r=Math.min(e,t,n);if(s===r)return 0;let o=0;switch(s){case e:o=(t-n)/(s-r)+(t<n?6:0);break;case t:o=(n-e)/(s-r)+2;break;case n:o=(e-t)/(s-r)+4}return Math.round(o/6*360)}static GetSaturation(e,t,n){const s=Math.max(e,t,n),r=Math.min(e,t,n);if(s===r)return 0;const o=s-r,a=(s+r)/2>.5?o/(2-s-r):o/(s+r);return Math.round(100*a)}static GetLuminosity(e,t,n){const s=Math.max(e,t,n),r=(s+Math.min(e,t,n))/2;return s?Math.round(100*r):0}},ni.Color.White=Object.freeze(ni.New(ni.Color,1,1,1,1)),ni.Color.Black=Object.freeze(ni.New(ni.Color,0,0,0,1)),ni.Color.TransparentBlack=Object.freeze(ni.New(ni.Color,0,0,0,0))}{const oi=self.C3;oi.Vector2=class{constructor(e,t){this._x=0,this._y=0,e instanceof oi.Vector2?this.copy(e):this.set(e||0,t||0)}set(e,t){this._x=+e,this._y=+t}copy(e){this._x=e._x,this._y=e._y}equals(e){return this._x===e._x&&this._y===e._y}equalsValues(e,t){return this._x===e&&this._y===t}equalsF32Array(e,t){return e[t]===Math.fround(this._x)&&e[t+1]===Math.fround(this._y)}setX(e){this._x=+e}getX(){return this._x}setY(e){this._y=+e}getY(){return this._y}toArray(){return[this._x,this._y]}toTypedArray(){return new Float64Array(this.toArray())}writeToTypedArray(e,t){e[t++]=this._x,e[t]=this._y}offset(e,t){this._x+=+e,this._y+=+t}scale(e,t){this._x*=e,this._y*=t}divide(e,t){this._x/=e,this._y/=t}round(){this._x=Math.round(this._x),this._y=Math.round(this._y)}floor(){this._x=Math.floor(this._x),this._y=Math.floor(this._y)}ceil(){this._x=Math.ceil(this._x),this._y=Math.ceil(this._y)}angle(){return oi.angleTo(0,0,this._x,this._y)}lengthSquared(){return this._x*this._x+this._y*this._y}length(){return oi.hypot2DFast(this._x,this._y)}rotatePrecalc(e,t){const n=this._x*t-this._y*e;this._y=this._y*t+this._x*e,this._x=n}rotate(e){0!==e&&this.rotatePrecalc(Math.sin(e),Math.cos(e))}rotateAbout(e,t,n){0===e||t===this._x&&n===this._y||(this._x-=t,this._y-=n,this.rotatePrecalc(Math.sin(e),Math.cos(e)),this._x+=+t,this._y+=+n)}move(e,t){0!==t&&(this._x+=Math.cos(e)*t,this._y+=Math.sin(e)*t)}normalize(){const e=this.length();0!==e&&1!==e&&(this._x/=e,this._y/=e)}clamp(e,t){this._x=oi.clamp(this._x,e,t),this._y=oi.clamp(this._y,e,t)}dot(e){return this._x*e._x+this._y*e._y}reverse(){this._x=-this._x,this._y=-this._y}perp(){let e=this._x;return this._x=this._y,this._y=-e,this}}}{const ai=self.C3;ai.Rect=class{constructor(e,t,n,s){this._left=NaN,this._top=NaN,this._right=NaN,this._bottom=NaN,this._left=0,this._top=0,this._right=0,this._bottom=0,e instanceof ai.Rect?this.copy(e):this.set(e||0,t||0,n||0,s||0)}set(e,t,n,s){this._left=+e,this._top=+t,this._right=+n,this._bottom=+s}setWH(e,t,n,s){e=+e,t=+t,this._left=e,this._top=t,this._right=e+ +n,this._bottom=t+ +s}copy(e){this._left=+e._left,this._top=+e._top,this._right=+e._right,this._bottom=+e._bottom}clone(){return new ai.Rect(this._left,this._top,this._right,this._bottom)}static Merge(e,t){const n=new ai.Rect;return n.setLeft(Math.min(e._left,t._left)),n.setTop(Math.min(e._top,t._top)),n.setRight(Math.max(e._right,t._right)),n.setBottom(Math.max(e._bottom,t._bottom)),n}static FromObject(e){return new ai.Rect(e.left,e.top,e.right,e.bottom)}equals(e){return this._left===e._left&&this._top===e._top&&this._right===e._right&&this._bottom===e._bottom}equalsWH(e,t,n,s){return this._left===e&&this._top===t&&this.width()===n&&this.height()===s}equalsF32Array(e,t){return e[t]===Math.fround(this._left)&&e[t+1]===Math.fround(this._top)&&e[t+2]===Math.fround(this._right)&&e[t+3]===Math.fround(this._bottom)}setLeft(e){this._left=+e}getLeft(){return this._left}setTop(e){this._top=+e}getTop(){return this._top}setRight(e){this._right=+e}getRight(){return this._right}setBottom(e){this._bottom=+e}getBottom(){return this._bottom}toArray(){return[this._left,this._top,this._right,this._bottom]}toTypedArray(){return new Float64Array(this.toArray())}toDOMRect(){return new DOMRect(this._left,this._top,this.width(),this.height())}static fromDOMRect(e){return ai.New(ai.Rect,e.left,e.top,e.right,e.bottom)}writeToTypedArray(e,t){e[t++]=this._left,e[t++]=this._top,e[t++]=this._right,e[t]=this._bottom}writeAsQuadToTypedArray(e,t){e[t++]=this._left,e[t++]=this._top,e[t++]=this._right,e[t++]=this._top,e[t++]=this._right,e[t++]=this._bottom,e[t++]=this._left,e[t]=this._bottom}writeAsQuadToTypedArray3D(e,t,n){e[t++]=this._left,e[t++]=this._top,e[t++]=n,e[t++]=this._right,e[t++]=this._top,e[t++]=n,e[t++]=this._right,e[t++]=this._bottom,e[t++]=n,e[t++]=this._left,e[t++]=this._bottom,e[t]=n}width(){return this._right-this._left}height(){return this._bottom-this._top}midX(){return(this._left+this._right)/2}midY(){return(this._top+this._bottom)/2}offset(e,t){e=+e,t=+t,this._left+=e,this._top+=t,this._right+=e,this._bottom+=t}offsetLeft(e){this._left+=+e}offsetTop(e){this._top+=+e}offsetRight(e){this._right+=+e}offsetBottom(e){this._bottom+=+e}toSquare(e){if("x"!==e)throw new Error("invalid axis, only 'x' supported");this._top<this._bottom?this._left<this._right?this._bottom=this._top+this.width():this._bottom=this._top-this.width():this._left<this._right?this._bottom=this._top-this.width():this._bottom=this._top+this.width()}inflate(e,t){e=+e,t=+t,this._left-=e,this._top-=t,this._right+=e,this._bottom+=t}deflate(e,t){e=+e,t=+t,this._left+=e,this._top+=t,this._right-=e,this._bottom-=t}multiply(e,t){this._left*=e,this._top*=t,this._right*=e,this._bottom*=t}divide(e,t){this._left/=e,this._top/=t,this._right/=e,this._bottom/=t}mirrorAround(e){this._left=+e-this._left,this._right=+e-this._right}flipAround(e){this._top=+e-this._top,this._bottom=+e-this._bottom}rotate90DegreesAround(e,t){const n=this.width(),s=this.height(),r=this.getLeft()+n*e,o=this.getTop()+s*t;this.setWH(r-s*t,o-n*e,s,n)}swapLeftRight(){const e=this._left;this._left=this._right,this._right=e}swapTopBottom(){const e=this._top;this._top=this._bottom,this._bottom=e}shuntY(e){const t=this._top;this._top=+e-this._bottom,this._bottom=+e-t}round(){this._left=Math.round(this._left),this._top=Math.round(this._top),this._right=Math.round(this._right),this._bottom=Math.round(this._bottom)}roundInner(){this._left=Math.ceil(this._left),this._top=Math.ceil(this._top),this._right=Math.floor(this._right),this._bottom=Math.floor(this._bottom)}roundOuter(){this._left=Math.floor(this._left),this._top=Math.floor(this._top),this._right=Math.ceil(this._right),this._bottom=Math.ceil(this._bottom)}floor(){this._left=Math.floor(this._left),this._top=Math.floor(this._top),this._right=Math.floor(this._right),this._bottom=Math.floor(this._bottom)}ceil(){this._left=Math.ceil(this._left),this._top=Math.ceil(this._top),this._right=Math.ceil(this._right),this._bottom=Math.ceil(this._bottom)}clamp(e,t,n,s){this._left=Math.max(this._left,+e),this._top=Math.max(this._top,+t),this._right=Math.min(this._right,+n),this._bottom=Math.min(this._bottom,+s)}clampBoth(e,t,n,s){e=+e,t=+t,n=+n,s=+s,this._left=ai.clamp(this._left,e,n),this._top=ai.clamp(this._top,t,s),this._right=ai.clamp(this._right,e,n),this._bottom=ai.clamp(this._bottom,t,s)}normalize(){this._left>this._right&&this.swapLeftRight(),this._top>this._bottom&&this.swapTopBottom()}intersectsRect(e){return!(e._right<this._left||e._bottom<this._top||e._left>this._right||e._top>this._bottom)}intersectsRectOffset(e,t,n){return!(e._right+t<this._left||e._bottom+n<this._top||e._left+t>this._right||e._top+n>this._bottom)}containsPoint(e,t){return e>=this._left&&e<=this._right&&t>=this._top&&t<=this._bottom}containsRect(e){return e._left>=this._left&&e._top>=this._top&&e._right<=this._right&&e._bottom<=this._bottom}expandToContain(e){e._left<this._left&&(this._left=+e._left),e._top<this._top&&(this._top=+e._top),e._right>this._right&&(this._right=+e._right),e._bottom>this._bottom&&(this._bottom=+e._bottom)}lerpInto(e){this._left=ai.lerp(e._left,e._right,this._left),this._top=ai.lerp(e._top,e._bottom,this._top),this._right=ai.lerp(e._left,e._right,this._right),this._bottom=ai.lerp(e._top,e._bottom,this._bottom)}}}{const ii=self.C3;ii.Quad=class{constructor(e,t,n,s,r,o,a,i){this._tlx=NaN,this._tly=NaN,this._trx=NaN,this._try=NaN,this._brx=NaN,this._bry=NaN,this._blx=NaN,this._bly=NaN,this._tlx=0,this._tly=0,this._trx=0,this._try=0,this._brx=0,this._bry=0,this._blx=0,this._bly=0,e instanceof ii.Quad?this.copy(e):this.set(e||0,t||0,n||0,s||0,r||0,o||0,a||0,i||0)}set(e,t,n,s,r,o,a,i){this._tlx=+e,this._tly=+t,this._trx=+n,this._try=+s,this._brx=+r,this._bry=+o,this._blx=+a,this._bly=+i}setRect(e,t,n,s){this.set(e,t,n,t,n,s,e,s)}copy(e){this._tlx=e._tlx,this._tly=e._tly,this._trx=e._trx,this._try=e._try,this._brx=e._brx,this._bry=e._bry,this._blx=e._blx,this._bly=e._bly}equals(e){return this._tlx===e._tlx&&this._tly===e._tly&&this._trx===e._trx&&this._try===e._try&&this._brx===e._brx&&this._bry===e._bry&&this._blx===e._blx&&this._bly===e._bly}setTlx(e){this._tlx=+e}getTlx(){return this._tlx}setTly(e){this._tly=+e}getTly(){return this._tly}setTrx(e){this._trx=+e}getTrx(){return this._trx}setTry(e){this._try=+e}getTry(){return this._try}setBrx(e){this._brx=+e}getBrx(){return this._brx}setBry(e){this._bry=+e}getBry(){return this._bry}setBlx(e){this._blx=+e}getBlx(){return this._blx}setBly(e){this._bly=+e}getBly(){return this._bly}toDOMQuad(){return new DOMQuad(new DOMPoint(this._tlx,this._tly),new DOMPoint(this._trx,this._try),new DOMPoint(this._brx,this._bry),new DOMPoint(this._blx,this._bly))}static fromDOMQuad(e){return ii.New(ii.Quad,e.p1.x,e.p1.y,e.p2.x,e.p2.y,e.p3.x,e.p3.y,e.p4.x,e.p4.y)}toArray(){return[this._tlx,this._tly,this._trx,this._try,this._brx,this._bry,this._blx,this._bly]}toTypedArray(){return new Float64Array(this.toArray())}writeToTypedArray(e,t){e[t++]=this._tlx,e[t++]=this._tly,e[t++]=this._trx,e[t++]=this._try,e[t++]=this._brx,e[t++]=this._bry,e[t++]=this._blx,e[t]=this._bly}writeToTypedArray3D(e,t,n){e[t++]=this._tlx,e[t++]=this._tly,e[t++]=n,e[t++]=this._trx,e[t++]=this._try,e[t++]=n,e[t++]=this._brx,e[t++]=this._bry,e[t++]=n,e[t++]=this._blx,e[t++]=this._bly,e[t]=n}offset(e,t){e=+e,t=+t,this._tlx+=e,this._tly+=t,this._trx+=e,this._try+=t,this._brx+=e,this._bry+=t,this._blx+=e,this._bly+=t}round(){this._tlx=Math.round(this._tlx),this._tly=Math.round(this._tly),this._trx=Math.round(this._trx),this._try=Math.round(this._try),this._brx=Math.round(this._brx),this._bry=Math.round(this._bry),this._blx=Math.round(this._blx),this._bly=Math.round(this._bly)}floor(){this._tlx=Math.floor(this._tlx),this._tly=Math.floor(this._tly),this._trx=Math.floor(this._trx),this._try=Math.floor(this._try),this._brx=Math.floor(this._brx),this._bry=Math.floor(this._bry),this._blx=Math.floor(this._blx),this._bly=Math.floor(this._bly)}ceil(){this._tlx=Math.ceil(this._tlx),this._tly=Math.ceil(this._tly),this._trx=Math.ceil(this._trx),this._try=Math.ceil(this._try),this._brx=Math.ceil(this._brx),this._bry=Math.ceil(this._bry),this._blx=Math.ceil(this._blx),this._bly=Math.ceil(this._bly)}setFromRect(e){this._tlx=e._left,this._tly=e._top,this._trx=e._right,this._try=e._top,this._brx=e._right,this._bry=e._bottom,this._blx=e._left,this._bly=e._bottom}setFromRotatedRect(e,t){0===t?this.setFromRect(e):this.setFromRotatedRectPrecalc(e,Math.sin(t),Math.cos(t))}setFromRotatedRectPrecalc(e,t,n){const s=e._left*t,r=e._top*t,o=e._right*t,a=e._bottom*t,i=e._left*n,l=e._top*n,d=e._right*n,c=e._bottom*n;this._tlx=i-r,this._tly=l+s,this._trx=d-r,this._try=l+o,this._brx=d-a,this._bry=c+o,this._blx=i-a,this._bly=c+s}getBoundingBox(e){e.set(Math.min(this._tlx,this._trx,this._brx,this._blx),Math.min(this._tly,this._try,this._bry,this._bly),Math.max(this._tlx,this._trx,this._brx,this._blx),Math.max(this._tly,this._try,this._bry,this._bly))}containsPoint(e,t){let n=this._trx-this._tlx,s=this._try-this._tly;const r=this._brx-this._tlx,o=this._bry-this._tly,a=e-this._tlx,i=t-this._tly;let l=n*n+s*s,d=n*r+s*o,c=n*a+s*i;const u=r*r+o*o,h=r*a+o*i;let _=1/(l*u-d*d),G=(u*c-d*h)*_,p=(l*h-d*c)*_;return G>=0&&p>0&&G+p<1||(n=this._blx-this._tlx,s=this._bly-this._tly,l=n*n+s*s,d=n*r+s*o,c=n*a+s*i,_=1/(l*u-d*d),G=(u*c-d*h)*_,p=(l*h-d*c)*_,G>=0&&p>0&&G+p<1)}midX(){return(this._tlx+this._trx+this._brx+this._blx)/4}midY(){return(this._tly+this._try+this._bry+this._bly)/4}intersectsSegment(e,t,n,s){return!(!this.containsPoint(e,t)&&!this.containsPoint(n,s))||ii.segmentIntersectsQuad(e,t,n,s,this)}intersectsQuad(e){let t=e.midX(),n=e.midY();if(this.containsPoint(t,n))return!0;if(t=this.midX(),n=this.midY(),e.containsPoint(t,n))return!0;const s=this._tlx,r=this._tly,o=this._trx,a=this._try,i=this._brx,l=this._bry,d=this._blx,c=this._bly;return ii.segmentIntersectsQuad(s,r,o,a,e)||ii.segmentIntersectsQuad(o,a,i,l,e)||ii.segmentIntersectsQuad(i,l,d,c,e)||ii.segmentIntersectsQuad(d,c,s,r,e)}rotatePointsAnticlockwise(){const e=this._tlx,t=this._tly;this._tlx=this._trx,this._tly=this._try,this._trx=this._brx,this._try=this._bry,this._brx=this._blx,this._bry=this._bly,this._blx=e,this._bly=t}mirror(){this._swap(0,2),this._swap(1,3),this._swap(6,4),this._swap(7,5)}flip(){this._swap(0,6),this._swap(1,7),this._swap(2,4),this._swap(3,5)}diag(){this._swap(2,6),this._swap(3,7)}_swap(e,t){const n=this._getAtIndex(e);this._setAtIndex(e,this._getAtIndex(t)),this._setAtIndex(t,n)}_getAtIndex(e){switch(e){case 0:return this._tlx;case 1:return this._tly;case 2:return this._trx;case 3:return this._try;case 4:return this._brx;case 5:return this._bry;case 6:return this._blx;case 7:return this._bly;default:throw new RangeError("invalid quad point index")}}_setAtIndex(e,t){switch(t=+t,e){case 0:this._tlx=t;break;case 1:this._tly=t;break;case 2:this._trx=t;break;case 3:this._try=t;break;case 4:this._brx=t;break;case 5:this._bry=t;break;case 6:this._blx=t;break;case 7:this._bly=t;break;default:throw new RangeError("invalid quad point index")}}divide(e,t){this._tlx/=e,this._tly/=t,this._trx/=e,this._try/=t,this._brx/=e,this._bry/=t,this._blx/=e,this._bly/=t}}}{const li=self.C3,di=self.assert,ci=[0,0,1,0,1,1,0,1],ui=li.New(li.Quad);li.CollisionPoly=class extends li.DefendedBase{constructor(e,t=!0){super(),e||(e=ci),this._ptsArr=Float64Array.from(e),this._bbox=new li.Rect,this._isBboxChanged=!0,this._enabled=t}Release(){}pointsArr(){return this._ptsArr}pointCount(){return this._ptsArr.length/2}setPoints(e){this._ptsArr.length===e.length?this._ptsArr.set(e):this._ptsArr=Float64Array.from(e),this._isBboxChanged=!0}setDefaultPoints(){this.setPoints(ci)}copy(e){this.setPoints(e._ptsArr)}setBboxChanged(){this._isBboxChanged=!0}_updateBbox(){if(!this._isBboxChanged)return;const e=this._ptsArr;let t=e[0],n=e[1],s=t,r=n;for(let o=0,a=e.length;o<a;o+=2){const a=e[o],i=e[o+1];a<t&&(t=a),a>s&&(s=a),i<n&&(n=i),i>r&&(r=i)}this._bbox.set(t,n,s,r),this._isBboxChanged=!1}setFromRect(e,t,n){let s=this._ptsArr;8!==s.length&&(s=new Float64Array(8),this._ptsArr=s),s[0]=e.getLeft()-t,s[1]=e.getTop()-n,s[2]=e.getRight()-t,s[3]=e.getTop()-n,s[4]=e.getRight()-t,s[5]=e.getBottom()-n,s[6]=e.getLeft()-t,s[7]=e.getBottom()-n,this._bbox.copy(e),0===t&&0===n||this._bbox.offset(-t,-n),this._isBboxChanged=!1}setFromQuad(e,t,n){ui.copy(e),ui.offset(t,n),this.setPoints(ui.toArray()),this._isBboxChanged=!0}transform(e,t,n){let s=0,r=1;0!==n&&(s=Math.sin(n),r=Math.cos(n)),this.transformPrecalc(e,t,s,r)}transformPrecalc(e,t,n,s){const r=this._ptsArr;for(let o=0,a=r.length;o<a;o+=2){const a=o+1,i=r[o]*e,l=r[a]*t;r[o]=i*s-l*n,r[a]=l*s+i*n}this._isBboxChanged=!0}offset(e,t){const n=this._ptsArr;for(let s=0,r=n.length;s<r;s+=2)n[s]+=e,n[s+1]+=t}containsPoint(e,t){const n=this._ptsArr;if(e===n[0]&&t===n[1])return!0;this._updateBbox();const s=this._bbox,r=s.getLeft()-110,o=s.getTop()-101,a=s.getRight()+131,i=s.getBottom()+120;let l=0,d=0,c=0,u=0,h=0,_=0,G=0,p=0;r<e?(l=r,c=e):(l=e,c=r),o<t?(d=o,u=t):(d=t,u=o),a<e?(h=a,G=e):(h=e,G=a),i<t?(_=i,p=t):(_=t,p=i);let m=0,g=0;for(let s=0,f=n.length;s<f;s+=2){const N=(s+2)%f,b=n[s],S=n[s+1],x=n[N],I=n[N+1];li.segmentsIntersectPreCalc(r,o,e,t,l,c,d,u,b,S,x,I)&&++m,li.segmentsIntersectPreCalc(a,i,e,t,h,G,_,p,b,S,x,I)&&++g}return m%2==1||g%2==1}intersectsPoly(e,t,n){const s=e._ptsArr,r=this._ptsArr;if(this.containsPoint(s[0]+t,s[1]+n))return!0;if(e.containsPoint(r[0]-t,r[1]-n))return!0;for(let e=0,o=r.length;e<o;e+=2){const a=(e+2)%o,i=r[e],l=r[e+1],d=r[a],c=r[a+1];let u=0,h=0,_=0,G=0;i<d?(u=i,_=d):(u=d,_=i),l<c?(h=l,G=c):(h=c,G=l);for(let e=0,r=s.length;e<r;e+=2){const o=(e+2)%r,a=s[e]+t,p=s[e+1]+n,m=s[o]+t,g=s[o+1]+n;if(li.segmentsIntersectPreCalc(i,l,d,c,u,_,h,G,a,p,m,g))return!0}}return!1}intersectsSegment(e,t,n,s,r,o){if(this.containsPoint(n-e,s-t))return!0;if(this.containsPoint(r-e,o-t))return!0;let a=0,i=0,l=0,d=0;n<r?(a=n,l=r):(a=r,l=n),s<o?(i=s,d=o):(i=o,d=s);const c=this._ptsArr;for(let u=0,h=c.length;u<h;u+=2){const _=(u+2)%h,G=c[u]+e,p=c[u+1]+t,m=c[_]+e,g=c[_+1]+t;if(li.segmentsIntersectPreCalc(n,s,r,o,a,l,i,d,G,p,m,g))return!0}return!1}mirror(e){const t=this._ptsArr;for(let n=0,s=t.length;n<s;n+=2)t[n]=2*e-t[n];this._isBboxChanged=!0}flip(e){const t=this._ptsArr;for(let n=0,s=t.length;n<s;n+=2){const s=n+1;t[s]=2*e-t[s]}this._isBboxChanged=!0}diag(){const e=this._ptsArr;for(let t=0,n=e.length;t<n;t+=2){const n=t+1,s=e[t];e[t]=e[n],e[n]=s}this._isBboxChanged=!0}GetMidX(){const e=this._ptsArr;let t=0;for(let n=0,s=e.length;n<s;n+=2)t+=e[n];return t/this.pointCount()}GetMidY(){const e=this._ptsArr;let t=0;for(let n=0,s=e.length;n<s;n+=2)t+=e[n+1];return t/this.pointCount()}GetPointsArray(){return this._ptsArr}GetPointCount(){return this.pointCount()}IsEnabled(){return this._enabled}}}{const hi=self.C3;hi.PairMap=class extends hi.DefendedBase{constructor(e){if(super(),this._firstMap=new Map,e)for(const[t,n,s]of e)this.Set(t,n,s)}Release(){this.Clear(),this._firstMap=null}IsEmpty(){return 0===this._firstMap.size}Clear(){const e=this._firstMap;for(const t of e.values())t.clear();e.clear()}Set(e,t,n){const s=this._firstMap;let r=s.get(e);r||(r=new Map,s.set(e,r)),r.set(t,n)}Get(e,t){const n=this._firstMap.get(e);return n?n.get(t):n}Has(e,t){const n=this._firstMap.get(e);return!!n&&n.has(t)}Delete(e,t){const n=this._firstMap,s=n.get(e);if(!s)return!1;const r=s.delete(t);return r&&0===s.size&&n.delete(e),r}DeleteEither(e){const t=this._firstMap,n=t.get(e);n&&(n.clear(),t.delete(e));for(const[n,s]of t.entries())s.delete(e)&&0===s.size&&t.delete(n)}GetSize(){let e=0;for(const t of this._firstMap.values())e+=t.size;return e}*values(){for(const e of this._firstMap.values())yield*e.values()}*keyPairs(){for(const[e,t]of this._firstMap.entries())for(const n of t.keys())yield[e,n]}*entries(){for(const[e,t]of this._firstMap.entries())for(const[n,s]of t.entries())yield[e,n,s]}}}{const _i=self.C3;_i.ArraySet=class extends _i.DefendedBase{constructor(){super(),this._set=new Set,this._arr=[],this._needToRebuildArray=!1}Release(){this.Clear()}Clear(){this._set.clear(),_i.clearArray(this._arr),this._needToRebuildArray=!1}Add(e){this._set.has(e)||(this._set.add(e),this._needToRebuildArray||this._arr.push(e))}Has(e){return this._set.has(e)}Delete(e){this._set.delete(e)&&(this._needToRebuildArray=!0)}GetSize(){return this._set.size}IsEmpty(){return 0===this._set.size}GetArray(){return this._needToRebuildArray&&(this._RebuildArray(),this._needToRebuildArray=!1),this._arr}_RebuildArray(){const e=this._arr;_i.clearArray(e);for(const t of this._set)e.push(t)}}}{const Gi=self.C3,pi=new Map,mi=new Map,gi=new Map,fi=new Map,Ni=new Map,bi=new Map,Si=new Map,xi=new Map,Ii=new Map;Ii.set("linear","noease"),Ii.set("default","noease");const yi=["default","noease","easeinquad","easeoutquad","easeinoutquad","easeincubic","easeoutcubic","easeinoutcubic","easeinquart","easeoutquart","easeinoutquart","easeinquint","easeoutquint","easeinoutquint","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeincirc","easeoutcirc","easeinoutcirc","easeinelastic","easeoutelastic","easeinoutelastic","easeinback","easeoutback","easeinoutback","easeinbounce","easeoutbounce","easeinoutbounce"],Ei=["default","noease","quad","cubic","quart","quint","sine","expo","circ","elastic","back","bounce"],Ti=new Map([["linear","noease"],["in-sine","easeinsine"],["out-sine","easeoutsine"],["in-out-sine","easeinoutsine"],["in-elastic","easeinelastic"],["out-elastic","easeoutelastic"],["in-out-elastic","easeinoutelastic"],["in-back","easeinback"],["out-back","easeoutback"],["in-out-back","easeinoutback"],["in-bounce","easeinbounce"],["out-bounce","easeoutbounce"],["in-out-bounce","easeinoutbounce"],["in-cubic","easeincubic"],["out-cubic","easeoutcubic"],["in-out-cubic","easeinoutcubic"],["in-quadratic","easeinquad"],["out-quadratic","easeoutquad"],["in-out-quadratic","easeinoutquad"],["in-quartic","easeinquart"],["out-quartic","easeoutquart"],["in-out-quartic","easeinoutquart"],["in-quintic","easeinquint"],["out-quintic","easeoutquint"],["in-out-quintic","easeinoutquint"],["in-circular","easeincirc"],["out-circular","easeoutcirc"],["in-out-circular","easeinoutcirc"],["in-exponential","easeinexpo"],["out-exponential","easeoutexpo"],["in-out-exponential","easeinoutexpo"]]);self.Ease=class e{constructor(){}static InheritEase(){return"default"}static DefaultEase(){return"noease"}static ToInternal(e){return Ti.get(e)}static GetEditorEaseNames(t,...n){let s,r;this._CreateEaseMap(),t?(gi.has(t)||gi.set(t,new Map),s=gi.get(t),r=[...s.keys()].filter(n=>!e.GetEditorEaseData(n,t)||e.GetEditorEaseData(n,t).transition.IsForAnyPurpose())):(s=Ni,r=[...s.keys()]);const o=r.sort();return[...mi.keys()].concat(o).filter(e=>!n.includes(e))}static GetRuntimeEaseNames(){this._CreateEaseMap();const e=[...Ni.keys()];return e.sort(),[...mi.keys()].concat(e)}static GetCustomRuntimeEaseNames(){this._CreateEaseMap();const e=[...Ni.keys()];return e.sort(),e}static IsPredefinedTranslatedName(e){for(const t of yi)if(self.lang(`ui.bars.timeline.eases.${t}`)===e)return!0;for(const t of Ei)if(self.lang(`ui.bars.timeline.short-eases.${t}`)===e)return!0}static IsNamePredefined(e){return this._CreateEaseMap(),[...mi.keys()].includes(e)}static _GetEase(t){const n=Ii.get(t);return n?pi.get(n):e.IsNamePredefined(t)?pi.get(t):Si.has(t)?Si.get(t):void 0}static GetBuiltInTransition(e){return this._CreateEaseMap(),xi.get(e)}static GetEditorEase(t,n){this._CreateEaseMap();const s=e._GetEase(t);if(s)return s;if(!n)throw new Error("missing ease function");return gi.get(n).get(t)}static GetEditorEaseData(e,t){this._CreateEaseMap();const n=fi.get(t);if(n)return n.get(e)}static HasEditorEase(t,n){return this._CreateEaseMap(),!!e._GetEase(t)||!!gi.get(n).get(t)}static GetRuntimeEase(t){this._CreateEaseMap();return e._GetEase(t)||Ni.get(t)}static GetRuntimeEaseData(e){return this._CreateEaseMap(),bi.get(e)}static GetEaseFromIndex(e){return this._CreateEaseMap(),this.GetRuntimeEaseNames()[e]}static GetIndexForEase(e,t){return this._CreateEaseMap(),this.GetEditorEaseNames(t).indexOf(e)}static GetIndexForEaseAtRuntime(e){return this.GetIndexForEase(e)}static _CreateEaseMap(){0===pi.size&&(this._AddPredifinedEase("default",()=>{}),this._AddPredifinedEase("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this._AddPredifinedEase("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this._AddPredifinedEase("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this._AddPredifinedEase("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this._AddPredifinedEase("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this._AddPredifinedEase("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this._AddPredifinedEase("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this._AddPrivateCustomEase("cubicbezier",this.EaseCubicBezier),this._AddPrivateCustomEase("spline",this.EaseSpline))}static _AddPredifinedEase(t,n,s=!1){if("function"==typeof n)e._AddEase(t,n,"predefined");else{if(!Gi.IsArray(n))throw new Error("unexpected arguments");if(self.BuiltInTransition){const r=Gi.New(self.BuiltInTransition,t,s);r.SetFromJson(n),e._AddEase(t,(e,t,n,s)=>r.Interpolate(e,t,n,s),"predefined"),xi.set(t,r)}else{const r=Gi.New(Gi.Transition,[t,n.map(e=>[e.x,e.y,e.sax,e.say,e.eax,e.eay,e.se,e.ee])],!1);r.MakeLinear(s),e._AddEase(t,(e,t,n,s)=>r.Interpolate(e,t,n,s),"predefined")}}}static _AddPrivateCustomEase(t,n){e._AddEase(t,n,"private")}static AddCustomEase(t,n,s,r){this._CreateEaseMap(),e._AddEase(t,n,"custom",s,r)}static RemoveCustomEase(e,t){if(this.IsNamePredefined(e))return;if([...Si.keys()].includes(e))return;const n=gi.get(t);n&&n.delete(e);const s=fi.get(t);s&&s.delete(e)}static _AddEase(e,t,n,s,r){switch(n){case"predefined":pi.set(e,t),mi.set(e,t);break;case"custom":s?(gi.has(s)||gi.set(s,new Map),fi.has(s)||fi.set(s,new Map),gi.get(s).set(e,t),fi.get(s).set(e,r)):(Ni.set(e,t),bi.set(e,r));break;case"private":pi.set(e,t),Si.set(e,t);break;default:throw new Error("unexpected ease mode")}}static NoEase(e,t,n,s){return 0===s?t:n*e/s+t}static EaseCubicBezier(e,t,n,s,r){return t+3*e*(n-t)+3*e**2*(t+s-2*n)+e**3*(r-t+3*n-3*s)}static EaseSpline(e,t,n,s,r,o,a,i,l,d){if(s===r&&o===a)return e;const c=Fi(e,t,s,o,i,d),u=Pi(n,r,a,l),h=wi(n,r,a,l),_=Ai(n,r,a,l);return Di(c,u,h,_)}static GetBezierSamples(e,t,n,s){const r=[],o=Pi(e,t,n,s),a=wi(e,t,n,s),i=Ai(e,t,n,s);for(let e=0;e<Ci;++e){const t=Di(e*Mi,o,a,i);r.push(t)}return r}};const Ci=11,Mi=1/(Ci-1),Vi=4,Bi=.01,Oi=1e-7,vi=10,Pi=(e,t,n,s)=>s-3*n+3*t-e,wi=(e,t,n,s)=>3*n-6*t+3*e,Ai=(e,t,n,s)=>3*(t-e),Di=(e,t,n,s)=>((t*e+n)*e+s)*e,Ri=(e,t,n,s)=>3*t*e*e+2*n*e+s,Fi=(e,t,n,s,r,o)=>{if(1==e)return 1;let a=0,i=1,l=o[i],d=Ci-1;for(o[Ci-1];i!=d&&l<=e;)i++,l=o[i],a+=Mi;i--,l=o[i];let c=a+(e-l)/(o[i+1]-l)*Mi;const u=Pi(t,n,s,r),h=wi(t,n,s,r),_=Ai(t,n,s,r),G=Ri(c,u,h,_);if(0===G)return c;if(G>=.01){for(let t=0;t<4;++t)c-=(Di(c,u,h,_)-e)/Ri(c,u,h,_);return c}{let t,n,s=a,r=a+Mi,o=0;do{c=s+(r-s)/2;let a=Di(c,u,h,_)-e;a>0?r=c:s=c,t=Math.abs(a)>1e-7,n=++o<10}while(t&&n);return c}}}{let ji=function(e){ki.IsString(e)};RequireStringOrNumber=ji;const ki=self.C3;ki.ProbabilityTable=class{constructor(e){this._items=[],this._name=e||"",this._totalWeight=0}Release(){this.Clear(),this._items=null}GetName(){return this._name}Clear(){ki.clear2DArray(this._items),this._totalWeight=0}GetTotalWeight(){return this._totalWeight}Sample(e=Math.random()*this.GetTotalWeight()){let t=0;for(const[n,s]of this._items)if(t+=n,e<t)return s;return 0}HasItems(){return!!this._items.length}AddItem(e,t){ji(t),this._totalWeight+=e,this._items.push([e,t])}RemoveItem(e,t){ji(t);const n=0===e;for(let s=0;s<this._items.length;s++){const r=this._items[s],o=n||r[0]===e,a=r[1]===t;if(o&&a){this._items.splice(s,1),this._totalWeight-=r[0];break}}}asJSON(){return JSON.stringify(this._items)}static fromJSON(e,t){const n=new ki.ProbabilityTable(t),s=JSON.parse(e);for(const e of s){const t=e[0],s=e[1];n.AddItem(t,s)}return n}}}{const Li=self.C3;let Wi=0;Li.ScreenReaderText=class{constructor(e,t){this._runtime=e,this._text=t,this._id=Wi++,this._runtime.PostComponentMessageToDOM("runtime","screen-reader-text",{type:"create",id:this._id,text:this._text})}Release(){this._runtime.PostComponentMessageToDOM("runtime","screen-reader-text",{type:"release",id:this._id}),this._runtime=null,this._text="",this._id=-1}SetText(e){this._text!==e&&(this._text=e,this._runtime.PostComponentMessageToDOM("runtime","screen-reader-text",{type:"update",id:this._id,text:this._text}))}}}{const Ui=self.C3;Ui.Event=class{constructor(e,t){this.type=e,this.cancelable=!!t,this.defaultPrevented=!1,this.propagationStopped=!1,this.isAsync=!1}preventDefault(){if(!this.cancelable)throw new Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw new Error(`event '${this.type}' cannot be stopped`);if(this.isAsync)throw new Error(`cannot stop async event '${this.type}' propagation`);this.propagationStopped=!0}}}{const Hi=self.C3,zi=self.assert;Hi.Event.Handler=class extends Hi.DefendedBase{constructor(e){super(),this._type=e,this._captureListeners=[],this._captureListenersSet=new Set,this._listeners=[],this._listenersSet=new Set,this._fireDepth=0,this._queueModifyListeners=[]}Release(){this._fireDepth>0||(Hi.clearArray(this._captureListeners),this._captureListenersSet.clear(),Hi.clearArray(this._listeners),this._listenersSet.clear(),Hi.clearArray(this._queueModifyListeners),Hi.Release(this))}_AddListener(e,t){if(this._IsFiring())this._queueModifyListeners.push({op:"add",func:e,capture:t});else if(t){if(this._captureListenersSet.has(e))return;this._captureListeners.push(e),this._captureListenersSet.add(e)}else{if(this._listenersSet.has(e))return;this._listeners.push(e),this._listenersSet.add(e)}}_RemoveListener(e,t){this._IsFiring()?this._queueModifyListeners.push({op:"remove",func:e,capture:t}):t?this._captureListenersSet.has(e)&&(this._captureListenersSet.delete(e),Hi.arrayFindRemove(this._captureListeners,e)):this._listenersSet.has(e)&&(this._listenersSet.delete(e),Hi.arrayFindRemove(this._listeners,e))}_IsEmpty(){return!this._captureListeners.length&&!this._listeners.length}_IsFiring(){return this._fireDepth>0}_ProcessQueuedListeners(){const e=new Set,t=new Set;for(const n of this._queueModifyListeners)if("add"===n.op)this._AddListener(n.func,n.capture),n.capture?t.delete(n.func):e.delete(n.func);else{if("remove"!==n.op)throw new Error("invalid op");n.capture?(this._captureListenersSet.delete(n.func),t.add(n.func)):(this._listenersSet.delete(n.func),e.add(n.func))}Hi.arrayRemoveAllInSet(this._listeners,e),Hi.arrayRemoveAllInSet(this._captureListeners,t),Hi.clearArray(this._queueModifyListeners)}_FireCancellable(e){this._IncreaseFireDepth();let t=!1;for(let n=0,s=this._captureListeners.length;n<s;++n)if(this._captureListeners[n](e),e.propagationStopped){t=!0;break}if(!t)for(let t=0,n=this._listeners.length;t<n&&(this._listeners[t](e),!e.propagationStopped);++t);return this._DecreaseFireDepth(),!e.defaultPrevented}_FireNonCancellable(e){this._IncreaseFireDepth();for(let t=0,n=this._captureListeners.length;t<n;++t)this._captureListeners[t](e);for(let t=0,n=this._listeners.length;t<n;++t)this._listeners[t](e);return this._DecreaseFireDepth(),!0}_IncreaseFireDepth(){this._fireDepth++}_DecreaseFireDepth(){this._fireDepth--,0===this._fireDepth&&this._queueModifyListeners.length>0&&this._ProcessQueuedListeners()}SetDelayRemoveEventsEnabled(e){e?this._IncreaseFireDepth():this._DecreaseFireDepth()}_FireAsync(e){let t=[];for(let n=0,s=this._captureListeners.length;n<s;++n){let s=this._captureListeners[n];t.push(Hi.Asyncify(()=>s(e)))}for(let n=0,s=this._listeners.length;n<s;++n){let s=this._listeners[n];t.push(Hi.Asyncify(()=>s(e)))}return Promise.all(t).then(()=>!e.defaultPrevented)}_FireAndWait_AsyncOptional(e){const t=[];this._IncreaseFireDepth();for(let n=0,s=this._captureListeners.length;n<s;++n){const s=this._captureListeners[n](e);s instanceof Promise&&t.push(s)}for(let n=0,s=this._listeners.length;n<s;++n){const s=this._listeners[n](e);s instanceof Promise&&t.push(s)}return this._DecreaseFireDepth(),t.length?Promise.all(t).then(()=>!e.defaultPrevented):!e.defaultPrevented}async _FireAndWaitAsync(e){return await this._FireAndWait_AsyncOptional(e)}async _FireAndWaitAsyncSequential(e){this._IncreaseFireDepth();for(let t=0,n=this._captureListeners.length;t<n;++t){const n=this._captureListeners[t](e);n instanceof Promise&&await n}for(let t=0,n=this._listeners.length;t<n;++t){const n=this._listeners[t](e);n instanceof Promise&&await n}return this._DecreaseFireDepth(),!e.defaultPrevented}*_FireAsGenerator(e){this._IncreaseFireDepth();for(let t=0,n=this._captureListeners.length;t<n;++t){const n=this._captureListeners[t](e);Hi.IsIterator(n)&&(yield*n)}for(let t=0,n=this._listeners.length;t<n;++t){const n=this._listeners[t](e);Hi.IsIterator(n)&&(yield*n)}this._DecreaseFireDepth()}}}{const Yi=self.C3;Yi.Event.Dispatcher=class extends Yi.DefendedBase{constructor(){super(),this._eventHandlers=new Map,this._dispatcherWasReleased=!1}Release(){if(this._dispatcherWasReleased)throw new Error("already released");this.ClearEvents(),this._dispatcherWasReleased=!0,Yi.Release(this)}WasReleased(){return this._dispatcherWasReleased}ClearEvents(){if(this._eventHandlers){for(let e of this._eventHandlers.values())e.Release();this._eventHandlers.clear()}}_GetHandlerByType(e,t){let n=this._eventHandlers.get(e);return n||(t?(n=Yi.New(Yi.Event.Handler,e),this._eventHandlers.set(e,n),n):null)}HasAnyHandlerFor(e){return this._eventHandlers.has(e)}addEventListener(e,t,n){this._GetHandlerByType(e,!0)._AddListener(t,!!n)}removeEventListener(e,t,n){let s=this._GetHandlerByType(e,!1);s&&(s._RemoveListener(t,!!n),s._IsEmpty()&&this._eventHandlers.delete(e))}dispatchEvent(e){const t=this._GetHandlerByType(e.type,!1);return!t||(e.cancelable?t._FireCancellable(e):t._FireNonCancellable(e))}dispatchEventAsync(e){const t=this._GetHandlerByType(e.type,!1);return t?(e.isAsync=!0,t._FireAsync(e)):Promise.resolve(!0)}async dispatchEventAndClearAsync(e){const t=this._GetHandlerByType(e.type,!1);if(!t)return!0;this._eventHandlers.delete(e.type),e.isAsync=!0;const n=await t._FireAsync(e);return t.Release(),n}async dispatchEventAndWaitAsync(e){const t=this._GetHandlerByType(e.type,!1);return!t||await t._FireAndWaitAsync(e)}dispatchEventAndWait_AsyncOptional(e){const t=this._GetHandlerByType(e.type,!1);return!t||t._FireAndWait_AsyncOptional(e)}async dispatchEventAndWaitAsyncSequential(e){const t=this._GetHandlerByType(e.type,!1);return!t||await t._FireAndWaitAsyncSequential(e)}dispatchGeneratorEvent(e){const t=this._GetHandlerByType(e.type,!1);if(!t)return null;if(e.cancelable)throw new Error("not supported");return t._FireAsGenerator(e)}SetDelayRemoveEventsEnabled(e){for(const t of this._eventHandlers.values())t.SetDelayRemoveEventsEnabled(e)}}}{let Xi=function(e){nl=el&&0===sl?requestIdleCallback(qi,{timeout:35}):setTimeout(qi,sl>0?1:e)},qi=function(e){if(nl=-1,!tl.length)return;let t=performance.now(),n=t,s=0,r=0;do{Ki(tl.shift()),n=performance.now(),++s,r=(n-t)/s*1.1}while(tl.length&&(el&&0===sl&&void 0!==e?r<e.timeRemaining():n-t+r<12));if(-1===nl&&tl.length){let e=n-t;Xi(Math.max(16-e,4))}},Ki=function(e){let t;try{t=e.func()}catch(t){return void e.reject(t)}e.resolve(t)};SetNewCallback=Xi,DoAsyncifiedWork=qi,DoNextAsyncifiedJob=Ki;const Ji=self.C3,$i=12,Zi=16,Qi=35,el="undefined"!=typeof requestIdleCallback;let tl=[],nl=-1,sl=0,rl=Ji.QueryString.Has("disable-asyncify");rl&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously."),Ji.Asyncify=function(e){let t=null;return Ji.isDebug&&(t=Ji.GetCallStack()),new Promise((n,s)=>{tl.push({func:e,resolve:n,reject:s,stack:t}),rl?Ki(tl.pop()):-1===nl&&Xi(16)})},Ji.Asyncify.SetHighThroughputMode=function(e){if(e)++sl;else if(--sl,sl<0)throw new Error("already turned off high throughput mode")}}{let ol=function(){cl=-1},al=function(){ul=-1,hl=-1;let e=Date.now();for(let t of _l)if(t._CheckTimeout(e)){let e=t._GetDeadline();(-1===hl||e<hl)&&(hl=e)}else _l.delete(t);if(-1!==hl){let t=Math.max(hl-e+100,1e3);ul=self.setTimeout(al,t)}};ClearTimeCache=ol,CheckActiveIdleTimeouts=al;const il=self.C3,ll=1e3,dl=100;let cl=-1;il.FastGetDateNow=function(){return-1===cl&&(cl=Date.now(),self.setTimeout(ol,16)),cl};let ul=-1,hl=-1,_l=new Set;il.IdleTimeout=class{constructor(e,t){this._callback=e,this._timeout=1e3*t,this._deadline=0,this._isActive=!1}Reset(){let e=il.FastGetDateNow();this._deadline=e+this._timeout,this._isActive||(_l.add(this),this._isActive=!0),-1===ul?(hl=this._deadline,ul=self.setTimeout(al,this._timeout+100)):this._deadline<hl&&hl>e+1e3&&(self.clearTimeout(ul),hl=this._deadline,ul=self.setTimeout(al,this._timeout+100))}_CheckTimeout(e){return!(e>=this._deadline&&(this._callback()?(this._deadline=e+this._timeout,0):(this._isActive=!1,1)))}_GetDeadline(){return this._deadline}Cancel(){this._isActive&&(_l.delete(this),this._isActive=!1,0===_l.size&&-1!==ul&&(self.clearTimeout(ul),ul=-1,hl=-1))}Release(){this.Cancel(),this._callback=null}}}{const Gl=self.C3;Gl.Disposable=class e{constructor(e){this._disposed=!1,this._disposeAction=e}Dispose(){this._disposed||(this._disposed=!0,this._disposeAction&&(this._disposeAction(),this._disposeAction=null))}IsDisposed(){return this._disposed}Release(){this.Dispose()}static Release(t){return new e(()=>t.Release())}static From(e,t,n,s,r){if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("expected string or array");if(null==s)s=!1;else if("boolean"!=typeof s&&"object"!=typeof s)throw new TypeError("invalid event listener options");if(r&&(n=n.bind(r)),Array.isArray(t)||t.includes(" ")){"string"==typeof t&&(t=t.split(" "));const r=new Gl.CompositeDisposable;for(const o of t)e.addEventListener(o,n,s),r.Add(Gl.New(Gl.Disposable,()=>e.removeEventListener(o,n,s)));return r}return e.addEventListener(t,n,s),Gl.New(Gl.Disposable,()=>e.removeEventListener(t,n,s))}},Gl.StubDisposable=class extends Gl.Disposable{SetAction(e){this._disposeAction=e}},Gl.CompositeDisposable=class extends Gl.Disposable{constructor(...e){super(),this._disposables=new Set;for(let t of e)this.Add(t)}Add(...e){if(this._disposed)throw new Error("already disposed");for(let t of e)this._disposables.add(t)}Remove(e){if(this._disposed)throw new Error("already disposed");this._disposables.delete(e)}RemoveAll(){if(this._disposed)throw new Error("already disposed");if(this._disposables){for(let e of this._disposables)e.Dispose();this._disposables.clear()}}IsDisposed(){return this._disposed}Dispose(){if(this._disposed)throw new Error("already disposed");this._disposed=!0;for(let e of this._disposables)e.Dispose();this._disposables.clear(),this._disposables=null}Release(){this.Dispose()}}}{const pl=self.C3;pl.KahanSum=class extends pl.DefendedBase{constructor(){super(),this._c=0,this._y=0,this._t=0,this._sum=0}Add(e){e=+e,this._y=e-this._c,this._t=this._sum+this._y,this._c=this._t-this._sum-this._y,this._sum=this._t}Subtract(e){this._sum-=+e}Get(){return this._sum}Reset(){this._c=0,this._y=0,this._t=0,this._sum=0}Set(e){this._c=0,this._y=0,this._t=0,this._sum=+e}Copy(e){this._c=e._c,this._y=e._y,this._t=e._t,this._sum=e._sum}Release(){}}}{const ml=self.C3,gl={},fl=!0,Nl=!1;gl.RBnode=function(e){this.tree=e,this.right=this.tree.sentinel,this.left=this.tree.sentinel,this.parent=null,this.color=!1,this.key=null},gl.RedBlackSet=function(e){this.size=0,this.sentinel=new gl.RBnode(this),this.sentinel.color=!1,this.root=this.sentinel,this.root.parent=this.sentinel,this.compare=e||this.default_compare},gl.RedBlackSet.prototype.default_compare=function(e,t){return e<t?-1:t<e?1:0},gl.RedBlackSet.prototype.clone=function(){var e=new gl.RedBlackSet(this.compare);return e.insertAll(this),e},gl.RedBlackSet.prototype.clear=function(){this.size=0,this.sentinel=new gl.RBnode(this),this.sentinel.color=!1,this.root=this.sentinel,this.root.parent=this.sentinel},gl.RedBlackSet.prototype.leftRotate=function(e){var t=e.right;e.right=t.left,t.left!=this.sentinel&&(t.left.parent=e),t.parent=e.parent,e.parent==this.sentinel?this.root=t:e==e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t},gl.RedBlackSet.prototype.rightRotate=function(e){var t=e.left;e.left=t.right,t.right!=this.sentinel&&(t.right.parent=e),t.parent=e.parent,e.parent==this.sentinel?this.root=t:e==e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t},gl.RedBlackSet.prototype.insert=function(e){if(this.contains(e))this.get_(e).key=e;else{var t=new gl.RBnode(this);t.key=e;for(var n=this.sentinel,s=this.root;s!=this.sentinel;)n=s,s=this.compare(t.key,s.key)<0?s.left:s.right;t.parent=n,n==this.sentinel?this.root=t:this.compare(t.key,n.key)<0?n.left=t:n.right=t,t.left=this.sentinel,t.right=this.sentinel,t.color=fl,this.insertFixup(t),this.size++}},gl.RedBlackSet.prototype.insertFixup=function(e){for(;e!=this.sentinel&&e!=this.root&&e.parent.color==fl;){var t;e.parent==e.parent.parent.left?(t=e.parent.parent.right).color==fl?(e.parent.color=!1,t.color=!1,e.parent.parent.color=fl,e=e.parent.parent):(e==e.parent.right&&(e=e.parent,this.leftRotate(e)),e.parent.color=!1,e.parent.parent.color=fl,e.parent.parent!=this.sentinel&&this.rightRotate(e.parent.parent)):(t=e.parent.parent.left).color==fl?(e.parent.color=!1,t.color=!1,e.parent.parent.color=fl,e=e.parent.parent):(e==e.parent.left&&(e=e.parent,this.rightRotate(e)),e.parent.color=!1,e.parent.parent.color=fl,e.parent.parent!=this.sentinel&&this.leftRotate(e.parent.parent))}this.root.color=!1},gl.RedBlackSet.prototype.delete_=function(e){var t,n;(n=(t=e.left==this.sentinel||e.right==this.sentinel?e:this.successor_(e)).left!=this.sentinel?t.left:t.right).parent=t.parent,t.parent==this.sentinel?this.root=n:t==t.parent.left?t.parent.left=n:t.parent.right=n,t!=e&&(e.key=t.key),0==t.color&&this.deleteFixup(n),this.size--},gl.RedBlackSet.prototype.deleteFixup=function(e){for(;e!=this.root&&0==e.color;){var t;e==e.parent.left?((t=e.parent.right).color==fl&&(t.color=!1,e.parent.color=fl,this.leftRotate(e.parent),t=e.parent.right),0==t.left.color&&0==t.right.color?(t.color=fl,e=e.parent):(0==t.right.color&&(t.left.color=!1,t.color=fl,this.rightRotate(t),t=e.parent.right),t.color=e.parent.color,e.parent.color=!1,t.right.color=!1,this.leftRotate(e.parent),e=this.root)):((t=e.parent.left).color==fl&&(t.color=!1,e.parent.color=fl,this.rightRotate(e.parent),t=e.parent.left),0==t.right.color&&0==t.left.color?(t.color=fl,e=e.parent):(0==t.left.color&&(t.right.color=!1,t.color=fl,this.leftRotate(t),t=e.parent.left),t.color=e.parent.color,e.parent.color=!1,t.left.color=!1,this.rightRotate(e.parent),e=this.root))}e.color=!1},gl.RedBlackSet.prototype.remove=function(e){var t=this.get_(e);if(t!=this.sentinel){var n=t.key;return this.delete_(t),n}return null},gl.RedBlackSet.prototype.removeSwapped=function(e,t){this.remove(t)},gl.RedBlackSet.prototype.min=function(e){for(;e.left!=this.sentinel;)e=e.left;return e},gl.RedBlackSet.prototype.max=function(e){for(;e.right!=this.sentinel;)e=e.right;return e},gl.RedBlackSet.prototype.successor_=function(e){if(e.right!=this.sentinel)return this.min(e.right);for(var t=e.parent;t!=this.sentinel&&e==t.right;)e=t,t=t.parent;return t},gl.RedBlackSet.prototype.predeccessor_=function(e){if(e.left!=this.sentinel)return this.max(e.left);for(var t=e.parent;t!=this.sentinel&&e==t.left;)e=t,t=t.parent;return t},gl.RedBlackSet.prototype.successor=function(e){if(this.size>0){var t=this.get_(e);if(t==this.sentinel)return null;if(t.right!=this.sentinel)return this.min(t.right).key;for(var n=t.parent;n!=this.sentinel&&t==n.right;)t=n,n=n.parent;return n!=this.sentinel?n.key:null}return null},gl.RedBlackSet.prototype.predecessor=function(e){if(this.size>0){var t=this.get_(e);if(t==this.sentinel)return null;if(t.left!=this.sentinel)return this.max(t.left).key;for(var n=t.parent;n!=this.sentinel&&t==n.left;)t=n,n=n.parent;return n!=this.sentinel?n.key:null}return null},gl.RedBlackSet.prototype.getMin=function(){return this.min(this.root).key},gl.RedBlackSet.prototype.getMax=function(){return this.max(this.root).key},gl.RedBlackSet.prototype.get_=function(e){for(var t=this.root;t!=this.sentinel&&0!=this.compare(t.key,e);)t=this.compare(e,t.key)<0?t.left:t.right;return t},gl.RedBlackSet.prototype.contains=function(e){return null!=this.get_(e).key},gl.RedBlackSet.prototype.getValues=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},gl.RedBlackSet.prototype.insertAll=function(e){if("array"==gl.typeOf(e))for(var t=0;t<e.length;t++)this.insert(e[t]);else if("function"==gl.typeOf(e.forEach))e.forEach(this.insert,this);else if("function"==gl.typeOf(e.getValues)){var n=e.getValues();for(t=0;t<n.length;t++)this.insert(n[t])}else if("object"==gl.typeOf(e))for(var s in e)this.insert(e[s])},gl.RedBlackSet.prototype.removeAll=function(e){if("array"==gl.typeOf(e))for(var t=0;t<e.length;t++)this.remove(e[t]);else if("function"==gl.typeOf(e.forEach))e.forEach(this.removeSwapped,this);else if("function"==gl.typeOf(e.getValues)){var n=e.getValues();for(t=0;t<n.length;t++)this.remove(n[t])}else if("object"==gl.typeOf(e))for(var s in e)this.remove(e[s])},gl.RedBlackSet.prototype.containsAll=function(e){if("array"==gl.typeOf(e)){for(var t=0;t<e.length;t++)if(!this.contains(e[t]))return!1;return!0}if("function"==gl.typeOf(e.forEach))return e.every(this.contains,this);if("function"==gl.typeOf(e.getValues)){var n=e.getValues();for(t=0;t<n.length;t++)if(!this.contains(n[t]))return!1;return!0}if("object"==gl.typeOf(e)){for(var s in e)if(!this.contains(e[s]))return!1;return!0}},gl.RedBlackSet.prototype.range=function(e,t){var n=[];return this.traverseFromTo(function(e){n.push(e)},e,t),n},gl.RedBlackSet.prototype.traverse=function(e,t){if(!this.isEmpty())for(var n=this.min(this.root);n!=this.sentinel;){if(e.call(t,n.key,this))return;n=this.successor_(n)}},gl.RedBlackSet.prototype.traverseFrom=function(e,t,n){if(!this.isEmpty())for(var s=this.get_(t);s!=this.sentinel;){if(e.call(n,s.key,this))return;s=this.successor_(s)}},gl.RedBlackSet.prototype.traverseTo=function(e,t,n){if(!this.isEmpty())for(var s=this.min(this.root),r=this.get_(t);s!=r;){if(e.call(n,s.key,this))return;s=this.successor_(s)}},gl.RedBlackSet.prototype.traverseFromTo=function(e,t,n,s){if(!this.isEmpty())for(var r=this.get_(t),o=this.get_(n);r!=o;){if(e.call(s,r.key,this))return;r=this.successor_(r)}},gl.RedBlackSet.prototype.traverseBackwards=function(e,t){if(!this.isEmpty())for(var n=this.max(this.root);n!=this.sentinel;){if(e.call(t,n.key,this))return;n=this.predeccessor_(n)}},gl.RedBlackSet.prototype.forEach=function(e,t){if(!this.isEmpty())for(var n=this.min(this.root);n!=this.sentinel;n=this.successor_(n))e.call(t,n.key,n.key,this)},gl.RedBlackSet.prototype.some=function(e,t){if(this.isEmpty())return!1;for(var n=this.min(this.root);n!=this.sentinel;n=this.successor_(n))if(e.call(t,n.key,n.key,this))return!0;return!1},gl.RedBlackSet.prototype.every=function(e,t){if(this.isEmpty())return!1;for(var n=this.min(this.root);n!=this.sentinel;n=this.successor_(n))if(!e.call(t,n.key,n.key,this))return!1;return!0},gl.RedBlackSet.prototype.map=function(e,t){var n=[];if(this.isEmpty())return n;for(var s=this.min(this.root);s!=this.sentinel;s=this.successor_(s))n.push(e.call(t,s.key,s.key,this));return n},gl.RedBlackSet.prototype.filter=function(e,t){var n=[];if(this.isEmpty())return n;for(var s=this.min(this.root);s!=this.sentinel;s=this.successor_(s))e.call(t,s.key,s.key,this)&&n.push(s.key);return n},gl.RedBlackSet.prototype.getCount=function(){return this.size},gl.RedBlackSet.prototype.isEmpty=function(){return 0==this.size},gl.RedBlackSet.prototype.isSubsetOf=function(e){var t=gl.getCount(e);if(this.getCount()>t)return!1;var n=0;if(this.isEmpty())return!0;for(var s=this.min(this.root);s!=this.sentinel;s=this.successor_(s))gl.contains.call(e,e,s.key)&&n++;return n==this.getCount()},gl.RedBlackSet.prototype.intersection=function(e){var t=new gl.RedBlackSet(this.compare);if(this.isEmpty())return t;for(var n=this.min(this.root);n!=this.sentinel;n=this.successor_(n))e.contains.call(e,n.key,n.key,this)&&t.insert(n.key);return t},ml.RedBlackSet=class extends ml.DefendedBase{constructor(e){super(),this._rbSet=new gl.RedBlackSet(e),this._enableQueue=!1,this._queueInsert=new Set,this._queueRemove=new Set}Add(e){this._enableQueue?this._rbSet.contains(e)?this._queueRemove.delete(e):this._queueInsert.add(e):this._rbSet.insert(e)}Remove(e){this._enableQueue?this._rbSet.contains(e)?this._queueRemove.add(e):this._queueInsert.delete(e):this._rbSet.remove(e)}Has(e){return this._enableQueue?!!this._queueInsert.has(e)||!this._queueRemove.has(e)&&this._rbSet.contains(e):this._rbSet.contains(e)}Clear(){this._rbSet.clear(),this._queueInsert.clear(),this._queueRemove.clear()}toArray(){if(this._enableQueue)throw new Error("cannot be used in queueing mode");return this._rbSet.getValues()}GetSize(){return this._rbSet.getCount()+this._queueInsert.size-this._queueRemove.size}IsEmpty(){return 0===this.GetSize()}Front(){if(this.IsEmpty())throw new Error("empty set");if(this._enableQueue)throw new Error("cannot be used in queueing mode");const e=this._rbSet;return e.min(e.root).key}Shift(){if(this.IsEmpty())throw new Error("empty set");if(this._enableQueue)throw new Error("cannot be used in queueing mode");const e=this.Front();return this.Remove(e),e}SetQueueingEnabled(e){if(e=!!e,this._enableQueue!==e&&(this._enableQueue=e,!e)){for(const e of this._queueRemove)this._rbSet.remove(e);this._queueRemove.clear();for(const e of this._queueInsert)this._rbSet.insert(e);this._queueInsert.clear()}}ForEach(e){this._rbSet.forEach(e)}*values(){if(this.IsEmpty())return;const e=this._rbSet;for(let t=e.min(e.root);t!=e.sentinel;t=e.successor_(t))yield t.key}[Symbol.iterator](){return this.values()}}}{const bl=self.C3;bl.PromiseThrottle=class{constructor(e=bl.hardwareConcurrency){this._maxParallel=e,this._queue=[],this._activeCount=0}Add(e,t){return new Promise((n,s)=>{const r={func:e,resolve:n,reject:s,opts:t};t?.signal&&t.signal.aborted?s(new Error("abort")):(t?.signal&&(r.onabort=()=>{const e=this._queue.indexOf(r);-1!==e&&(this._queue.splice(e,1),s(new Error("abort")))},t.signal.addEventListener("abort",r.onabort)),this._queue.push(r),this._MaybeStartNext())})}_FindInQueue(e){for(let t=0,n=this._queue.length;t<n;++t)if(this._queue[t].func===e)return t;return-1}RemoveAndResolve(e,t){const n=this._FindInQueue(e);if(-1===n)throw new Error("cannot find promise to resolve");this._queue[n].resolve(t),this._queue.splice(n,1)}RemoveAndReject(e,t){const n=this._FindInQueue(e);if(-1===n)throw new Error("cannot find promise to reject");this._queue[n].reject(t),this._queue.splice(n,1)}async _MaybeStartNext(){if(!this._queue.length)return;if(this._activeCount>=this._maxParallel)return;this._activeCount++;const e=this._queue.shift();e.opts?.signal&&e.onabort&&e.opts.signal.removeEventListener("abort",e.onabort);try{const t=await e.func();e.resolve(t)}catch(t){e.reject(t)}this._activeCount--,this._MaybeStartNext()}}}{const Sl=self.C3;Sl.RateLimiter=class{constructor(e,t,n){this._callback=e,this._interval=t,this._intervalOnBattery=n||2*t,this._timerId=-1,this._lastCallTime=-1/0,this._timerCallFunc=()=>this._OnTimer(),this._ignoreReset=!1,this._canRunImmediate=!1,this._callbackArguments=null}SetCanRunImmediate(e){this._canRunImmediate=!!e}_GetInterval(){return void 0!==Sl.Battery&&Sl.Battery.IsOnBatteryPower()?this._intervalOnBattery:this._interval}Call(...e){if(-1!==this._timerId)return;this._callbackArguments=e;let t=Sl.FastGetDateNow(),n=t-this._lastCallTime,s=this._GetInterval();n>=s&&this._canRunImmediate?(this._lastCallTime=t,this._RunCallback()):this._timerId=self.setTimeout(this._timerCallFunc,Math.max(s-n,4))}_RunCallback(){this._ignoreReset=!0;const e=this._callbackArguments;this._callbackArguments=null,e?this._callback(...e):this._callback(),this._ignoreReset=!1}Reset(){this._ignoreReset||(this._CancelTimer(),this._callbackArguments=null,this._lastCallTime=Sl.FastGetDateNow())}_OnTimer(){this._timerId=-1,this._lastCallTime=Sl.FastGetDateNow(),this._RunCallback()}_CancelTimer(){-1!==this._timerId&&(self.clearTimeout(this._timerId),this._timerId=-1)}Release(){this._CancelTimer(),this._callback=null,this._callbackArguments=null,this._timerCallFunc=null}}}{const xl=self.C3;xl.SVGRasterManager=class{constructor(){this._images=new Map,this._allowNpotSurfaces=!1,this._getBaseSizeCallback=null,this._rasterAtSizeCallback=null,this._releaseResultCallback=null,this._redrawCallback=null}SetNpotSurfaceAllowed(e){this._allowNpotSurfaces=!!e}IsNpotSurfaceAllowed(){return this._allowNpotSurfaces}SetGetBaseSizeCallback(e){this._getBaseSizeCallback=e}GetBaseSize(e){if(!this._getBaseSizeCallback)throw new Error("no get base size callback set");return this._getBaseSizeCallback(e)}SetRasterAtSizeCallback(e){this._rasterAtSizeCallback=e}RasterAtSize(e,t,n,s,r,o){if(!this._rasterAtSizeCallback)throw new Error("no raster at size callback set");return this._rasterAtSizeCallback(e,t,n,s,r,o)}SetReleaseResultCallback(e){this._releaseResultCallback=e}ReleaseResult(e){if(!this._releaseResultCallback)throw new Error("no release result callback set");this._releaseResultCallback(e)}SetRedrawCallback(e){this._redrawCallback=e}Redraw(){if(!this._redrawCallback)throw new Error("no redraw callback set");this._redrawCallback()}AddImage(e){let t=this._images.get(e);return t||(t=xl.New(xl.SVGRasterImage,this,e),this._images.set(e,t)),t.IncReference(),t}_RemoveImage(e){this._images.delete(e.GetDataSource())}OnTexturesChanged(){for(const e of this._images.values())e.ReleaseRasterizedResult(),e.ForceRasterAgain()}}}{const Il=self.C3,yl=4096;Il.SVGRasterImage=class{constructor(e,t){this._manager=e,this._dataSource=t,this._refCount=0,this._baseWidth=0,this._baseHeight=0,this._getBaseSizePromise=this._manager.GetBaseSize(t).then(e=>{this._manager&&(this._baseWidth=e[0],this._baseHeight=e[1],this._manager.Redraw())}).catch(e=>{console.error("[SVG] Error loading SVG: ",e),this._hadError=!0,this._manager&&this._manager.Redraw()}),this._rasterSurfaceWidth=0,this._rasterSurfaceHeight=0,this._rasterImageWidth=0,this._rasterImageHeight=0,this._isRasterizing=!1,this._rasterizedResult=null,this._forceRaster=!1,this._hadError=!1}Release(){if(this._refCount<=0)throw new Error("already released");this._refCount--,0===this._refCount&&this._Release()}ReleaseRasterizedResult(){this._rasterizedResult&&(this._manager.ReleaseResult(this._rasterizedResult),this._rasterizedResult=null)}_Release(){this.ReleaseRasterizedResult(),this._manager._RemoveImage(this),this._manager=null}GetDataSource(){return this._dataSource}IncReference(){this._refCount++}HasReferences(){return this._refCount>0}GetRasterizedResult(){return this._rasterizedResult}ForceRasterAgain(){this._forceRaster=!0}async StartRasterForSize(e,t,n){if(0===t||0===n||this._hadError)return;if(this._isRasterizing)return;let s=Il.nextHighestPowerOfTwo(Math.ceil(t)),r=Il.nextHighestPowerOfTwo(Math.ceil(n));const o=Math.max(s,r);if(o>4096){const e=4096/o;t*=e,n*=e,s=Math.min(Math.ceil(s*e),4096),r=Math.min(Math.ceil(r*e),4096)}if(t<s&&n<r){const e=t/n;s/r>e?(t=r*e,n=r):(t=s,n=s/e)}if(this._manager.IsNpotSurfaceAllowed()&&(s=Math.ceil(t),r=Math.ceil(n)),s<=this._rasterSurfaceWidth&&r<=this._rasterSurfaceHeight&&!this._forceRaster)return;this._isRasterizing=!0,this._rasterSurfaceWidth=s,this._rasterSurfaceHeight=r;const a=await this._manager.RasterAtSize(this._dataSource,e,this._rasterSurfaceWidth,this._rasterSurfaceHeight,t,n);this._manager&&(this.ReleaseRasterizedResult(),this._rasterizedResult=a,this._rasterImageWidth=t,this._rasterImageHeight=n,this._isRasterizing=!1,this._forceRaster=!1,this._manager.Redraw())}WhenBaseSizeReady(){return this._getBaseSizePromise}GetBaseWidth(){return this._baseWidth}GetBaseHeight(){return this._baseHeight}GetRasterWidth(){return this._rasterImageWidth}GetRasterHeight(){return this._rasterImageHeight}HadError(){return this._hadError}}}{let El=function(e){return Ol.get(e)};lookupHtmlEntity=El;const Tl=self.C3;Tl.UTF8_BOM="\ufeff";const Cl=new Set("0123456789");Tl.IsNumericChar=function(e){return Cl.has(e)};const Ml=new Set(" \t\n\r\u2028\u2029");Tl.IsWhitespaceChar=function(e){return Ml.has(e)},Tl.FilterWhitespace=function(e){return[...e].filter(e=>!Tl.IsWhitespaceChar(e)).join("")},Tl.IsStringAllWhitespace=function(e){for(const t of e)if(!Tl.IsWhitespaceChar(t))return!1;return!0},Tl.IsCharArrayAllWhitespace=function(e){for(const t of e)if(!Tl.IsWhitespaceChar(t))return!1;return!0},Tl.IsUnprintableChar=function(e){return 1===e.length&&e.charCodeAt(0)<32},Tl.FilterUnprintableChars=function(e){return[...e].filter(e=>!Tl.IsUnprintableChar(e)).join("")};let Vl=null;try{Vl=new RegExp("\\p{P}(?<=[\\u3000-\\u303F\\uFF00-\\uFFEF])","u")}catch(t){console.warn("Unable to detect CJK punctuation: ",t)}Tl.IsCJKPunctuationChar=function(e){return!Tl.IsWhitespaceChar(e)&&Vl&&Vl.test(e)};const Bl=new Set("0123456789.+-e");Tl.IsStringNumber=function(e){if(!(e=e.trim()).length)return!1;let t=e.charAt(0);if("-"!==t&&!Cl.has(t))return!1;for(let t of e)if(!Bl.has(t))return!1;return!0},Tl.RemoveTrailingDigits=function(e){let t=e.length;for(;t>0;){let n=e.charAt(t-1);if(!Tl.IsNumericChar(n))break;--t}return e.substr(0,t)},Tl.IncrementNumberAtEndOf=function(e){let t=Tl.RemoveTrailingDigits(e),n=e.substr(t.length);return n=n?(parseInt(n,10)+1).toString():"2",t+n};const Ol=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]),vl=/[&<>"']/g;Tl.EscapeHTML=function(e){return e.replace(vl,El)},Tl.EscapeJS=function(e){let t=Tl.ReplaceAll(e,"\\","\\\\");return t=Tl.ReplaceAll(t,'"','\\"'),t=Tl.ReplaceAll(t,"\t","\\t"),t=Tl.ReplaceAll(t,"\r",""),Tl.ReplaceAll(t,"\n","\\n")},Tl.EscapeXML=function(e){let t=Tl.ReplaceAll(e,"&","&amp;");return t=Tl.ReplaceAll(t,"<","&lt;"),t=Tl.ReplaceAll(t,">","&gt;"),Tl.ReplaceAll(t,'"',"&quot;")};const Pl=/[-[\]{}()*+?.,\\^$|#\s]/g;Tl.EscapeRegex=function(e){return e.replace(Pl,"\\$&")},Tl.CountCharsInString=function(e,t){let n=0;for(const s of e)s===t&&++n;return n},Tl.StringPosToLineNumber=function(e,t){let n=0,s=0;for(;n<t;){if(n=e.indexOf("\n",n),-1===n)return s;s++,n++}return s},Tl.FindAll=function(e,t,n=!1){if(!t)return[];n||(e=e.toLowerCase(),t=t.toLowerCase());const s=t.length;let r=0,o=0,a=[];for(;(o=e.indexOf(t,r))>-1;)a.push(o),r=o+s;return a},Tl.ReplaceAll=function(e,t,n){return e.replaceAll(t,()=>n)},Tl.ReplaceAllCaseInsensitive=function(e,t,n){return e.replace(new RegExp(Tl.EscapeRegex(t),"gi"),()=>n)},Tl.SetElementContent=function(e,t){"string"==typeof t?e.textContent=t:t.isPlainText()?e.textContent=t.toString():(e.innerHTML=t.toHTML(),t instanceof Tl.BBString&&t.attachLinkHandlers(e))},Tl.StringLikeEquals=function(e,t){return e instanceof Tl.HtmlString||e instanceof Tl.BBString?e.equals(t):t instanceof Tl.HtmlString||t instanceof Tl.BBString?t.equals(e):e===t},Tl.StringSubstitute=function(e,...t){let n=e;for(let s=0,r=t.length;s<r;++s){const r=`{${s}}`;if(!e.includes(r))throw new Error(`missing placeholder '${r}' in string substitution`);n=n.replace(r,t[s].toString())}return n},Tl.StringSubstituteAllowMissing=function(e,...t){let n=e,s=-1,r=-1;for(let o=0,a=t.length;o<a;++o){const a=`{${o}}`;e.includes(a)?(r=o,n=n.replace(a,t[o].toString())):-1===s&&(s=o)}if(s>=0&&r>=0&&s<r)throw new Error(`missing placeholder '${s}' in string substitution`);return n},Tl.StringSubstituteMap=function(e,t){let n=e;for(let[e,s]of Object.entries(t))n=n.replaceAll(e,s.toString());return n},Tl.SortAZ=function(e,t){return e>t?1:e<t?-1:0},Tl.SortAZCaseInsensitive=function(e,t){let n=e.toLowerCase(),s=t.toLowerCase();return n>s?1:n<s?-1:0};const wl=new self.Intl.Segmenter;Tl.SplitGraphemes=function(e){const t=[];for(const n of wl.segment(e))t.push(n.segment);return t},Tl.IterateGraphemes=function*(e){for(const t of wl.segment(e))yield t.segment},Tl.CountGraphemes=function(e){let t=0;for(const n of wl.segment(e))++t;return t};const Al=1024,Dl=1048576,Rl=1073741824,Fl=1099511627776;Tl.FormatDataSize=function(e,t){let n="common."+(t?"dataRates":"dataSizes")+".";const s=self.langSub;if(e<1024)return s(n+"bytes",e);if(e<1048576){let t=e/1024;return t=t<10?Math.round(10*t)/10:Math.round(t),s(n+"kilobytes",t)}if(e<Rl){let t=e/1048576;return t=t<10?Math.round(10*t)/10:Math.round(t),s(n+"megabytes",t)}if(e<Fl){let t=e/Rl;return t=t<10?Math.round(10*t)/10:Math.round(t),s(n+"gigabytes",t)}{let t=e/Fl;return t=t<10?Math.round(10*t)/10:Math.round(t),s(n+"terabytes",t)}};const jl={approximate:!1,days:!0,hours:!0,minutes:!0,seconds:!0};Tl.FormatTime=function(e,t){t=Object.assign({},jl,t),Tl.Lang.PushContext("common.time");const n=[],s=self.lang,r=self.langPluralSub;if(t.days){const t=Math.floor(e/86400);t>0&&(e-=24*t*3600,n.push(r(".days",null,t)))}if(t.hours){const t=Math.floor(e/3600);(t>0||n.length)&&(e-=3600*t,n.push(r(".hours",null,t)))}if(t.minutes){const s=Math.floor(e/60);(s>0||n.length||!t.seconds)&&(e-=60*s,n.push(r(".minutes",null,s)))}if(t.seconds){const t=Math.floor(e%60);n.push(r(".seconds",null,t))}const o=(t.approximate?s(".approx-prefix"):"")+n.join(s(".separator"));return Tl.Lang.PopContext(),o},Tl.ZeroPad=function(e,t){let n=e<0?"-":"",s=(e=Math.abs(e)).toString(),r=t-s.length;for(let e=0;e<r;++e)n+="0";return n+s},Tl.StringToTitleCase=function(e){return e.toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())},Tl.CompareVersionStrings=function(e,t){let n=e.split(".").map(e=>e.trim()),s=t.split(".").map(e=>e.trim());Tl.resizeArray(n,4,"0"),Tl.resizeArray(s,4,"0"),n=n.map(e=>parseInt(e,10)),s=s.map(e=>parseInt(e,10));for(let e=0;e<4;++e){const t=n[e]-s[e];if(0!==t)return t<0?-1:1}return 0},Tl.CreateGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)})},Tl.StringHammingDistance=function(e,t){if(e.length!==t.length)throw new Error("strings must be same length");let n=0;for(let s=0,r=e.length;s<r;++s)e.charAt(s)!==t.charAt(s)&&++n;return n},Tl.StringLevenshteinDistance=function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;let n,s,r,o,a,i;for(e.length>t.length&&(n=e,e=t,t=n),i=Array(e.length+1),s=0;s<=e.length;s++)i[s]=s;for(s=1;s<=t.length;s++){for(o=s,r=1;r<=e.length;r++)a=t[s-1]===e[r-1]?i[r-1]:Math.min(i[r-1]+1,Math.min(o+1,i[r]+1)),i[r-1]=o,o=a;i[e.length]=o}return i[e.length]}}{let kl=function(e,t,n){const s=Ul.get(n);if(!s)return"class"===n?t?"</span>":`<span class="bbclass${Kl++}">`:e;if("string"==typeof s){if("a"===s&&0===Xl.length||"abbr"===s&&0===ql.length)return e;if("a"!==s||t){if("abbr"!==s||t)return"<"+t+s+">";{const e=parseInt(n.substring(3),10)-1;if(e<0||e>=ql.length)throw new Error("invalid bbcode tip substitution");const t=ql[e];let s="";if("string"==typeof t?s=t:"function"==typeof t&&(s=t()),"string"!=typeof s)throw new TypeError("invalid bbcode tip");return`<abbr title="${Ll.ReplaceAll(s,'"',"&quot;")}">`}}{const e=parseInt(n.substring(1),10)-1;if(e<0||e>=Xl.length)throw new Error("invalid bbcode link substitution");const t=Xl[e];if("string"==typeof t)return`<a href="${Xl[e]}">`;if("function"==typeof t)return`<a class="bblink${e}">`;throw new TypeError("invalid bbcode link action")}}if(Array.isArray(s)){let e=s[0],n=s[1];return t?"</"+e+">":`<${e} class="${n}">`}};bbToHtmlReplacerFunc=kl;const Ll=self.C3,Wl=self.assert,Ul=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),Hl=new Set(["icon"]),zl=/\[(\/?)([a-zA-Z0-9]+)\]/g,Yl=/\[(\/?)([^\[\n]*?)\]/g;let Xl=null,ql=null,Kl=0;const Jl=/\n/g;Ll.BBString=class{constructor(e,t){if(this._bbstr=t&&t.noEscape?e:Ll.EscapeHTML(e),this._htmlstr="",this._convertLineBreaks=!1,this._linkActions=[],this._tipList=[],t){if(this._convertLineBreaks=!!t.convertLineBreaks,t.links){if(t.links.length>9)throw new Error("too many links");this._linkActions=t.links}if(t.tips){if(t.tips.length>9)throw new Error("too many tips");this._tipList=t.tips}}this._hasAnyBBtags=this._bbstr.includes("["),this._needsLineBreakConversion=this._convertLineBreaks&&this._bbstr.includes("\n"),this._isPlain=!this._hasAnyBBtags&&!this._needsLineBreakConversion&&!this._bbstr.includes("&"),this._hasParsedFragments=!1,this._fragments=[]}toString(){return this._bbstr}valueOf(){return this._bbstr}isPlainText(){return this._isPlain}toPlainText(){return this._hasAnyBBtags?this._bbstr.replace(zl,""):this._bbstr}toHTML(){if(this._isPlain)return this._bbstr;if(!this._htmlstr&&this._bbstr){let e=this._bbstr;this._hasAnyBBtags&&(Kl=0,Xl=this._linkActions,ql=this._tipList,e=e.replace(zl,kl),Xl=null,ql=null),this._needsLineBreakConversion&&(e=e.replace(Jl,"<br>")),this._htmlstr=e}return this._htmlstr}attachLinkHandlers(e){if(this._linkActions.length)for(let t=0,n=this._linkActions.length;t<n;++t){const n=this._linkActions[t];if("function"!=typeof n)continue;const s=e.querySelector(".bblink"+t);if(!s)throw new Error("unable to attach BBString link handler");s.onclick=n}}equals(e){return e instanceof Ll.HtmlString?this.toHTML()===e.toHTML():e instanceof Ll.BBString?this._bbstr===e._bbstr:this._bbstr===e}toFragmentList(){if(this._hasParsedFragments)return this._fragments;const e=[],t=this._bbstr,n=[];Yl.lastIndex=0;let s=0,r=null;for(;null!==(r=Yl.exec(t));){const o=r.index;if(o>0&&"\\"===t.charAt(o-1))continue;const a=r[0],i=r[1],l=r[2],d=t.substring(s,o);if(s=o+a.length,d&&e.push({text:d,styles:n.slice(0)}),l)if(i){const e=l.toLowerCase();for(let t=n.length-1;t>=0;--t)if(n[t].tag===e){n.splice(t,1);break}}else{let t=l,s=null;const r=l.indexOf("=");if(-1!==r?(t=l.substring(0,r).toLowerCase(),s=l.substring(r+1)):t=t.toLowerCase(),Hl.has(t)){if("icon"!==t)throw new Error(`unknown self-closing tag ${t}`);e.push({icon:s,styles:n.slice(0)})}else n.push({tag:t,param:s})}}s<t.length&&e.push({text:t.substring(s),styles:n.slice(0)});for(const t of e)t.text&&(t.text=this._ProcessBBCodeEscapeSequences(t.text));return this._fragments=e.map(e=>e.icon?Ll.New(Ll.IconFragment,{icon:e.icon,styles:e.styles}):Ll.New(Ll.TextFragment,{chArr:Ll.SplitGraphemes(e.text),styles:e.styles})),this._hasParsedFragments=!0,this._fragments}_ProcessBBCodeEscapeSequences(e){return e=Ll.ReplaceAll(e,"\\[","["),Ll.ReplaceAll(e,"\\\\","\\")}static StripTags(e){return Ll.New(Ll.BBString,e,{noEscape:!0}).toPlainText()}static StripAnyTags(e){return e.replace(Yl,"")}}}{let $l=function(e){return""!==e&&""!==e&&nd.IsWhitespaceChar(e)},Zl=function(e){return sd.has(e)},Ql=function(e){return nd.IsCJKPunctuationChar(e)&&!Zl(e)},ed=function(e){for(;e.length>0&&$l(e.at(-1));)e.pop()},td=function(e){return"\n"===e||"\r\n"===e};IsWordBreakWhiteSpace=$l,IsOpeningCJKPunctiationChar=Zl,IsContinuingCJKPunctuationChar=Ql,WordBreakTrimEnd=ed,IsNewline=td;const nd=self.C3,sd=new Set("");nd.WordWrap=class{constructor(){this._lines=[],this._iconSet=null}GetLines(){return this._lines}GetLineCount(){return this._lines.length}SetIconSet(e){this._iconSet=e}_MeasureLine(e,t){let n=0,s=0,r=0,o=0,a=0;for(const i of e){if(-1===i.GetWidth()){const e=t(i);i.SetHeight(e.height),i.SetFontBoundingBoxAscent(e.fontBoundingBoxAscent||0),i.SetFontBoundingBoxDescent(e.fontBoundingBoxDescent||0),i.SetTopToAlphabeticDistance(e.topToAlphabeticDistance||0),i.IsText()?i.SetWidth(e.width):i.IsIcon()&&i.CalculateWidthFromHeight(this._iconSet)}n+=i.GetWidth(),s=Math.max(s,i.GetHeight()),r=Math.max(r,i.GetFontBoundingBoxAscent()),o=Math.max(o,i.GetFontBoundingBoxDescent()),a=Math.max(a,i.GetTopToAlphabeticDistance())}return{width:n,height:s,fontBoundingBoxAscent:r,fontBoundingBoxDescent:o,topToAlphabeticDistance:a}}_AddLine(e,t,n,s,r,o){this._lines.push(nd.New(nd.WordWrap.Line,{fragments:e,width:t,height:n,fontBoundingBoxAscent:s,fontBoundingBoxDescent:r,topToAlphabeticDistance:o}))}WordWrap(e,t,n,s,r){if("string"==typeof e&&(e=[nd.New(nd.TextFragment,{chArr:nd.SplitGraphemes(e)})]),nd.clearArray(this._lines),!e.length||1===e.length&&e[0].IsText()&&e[0].IsEmpty()||n<2)return;if(1===e.length){const s=e[0];if(s.IsText()&&s.GetLength()<=100&&!s.HasNewLine()){let{width:e,height:o,fontBoundingBoxAscent:a,fontBoundingBoxDescent:i,topToAlphabeticDistance:l}=t(s);if(e+=r,s.SetWidth(e),s.SetHeight(o),s.SetFontBoundingBoxAscent(a||0),s.SetFontBoundingBoxDescent(i||0),s.SetTopToAlphabeticDistance(l||0),e<=n)return void this._AddLine([s],e,o,a,i,l)}}let o;o="word"===s?this._TokeniseByWord(e):"cjk"===s?this._TokeniseByCJK(e):this._TokeniseByChar(e),this._WrapText(o,t,n,r)}_TokeniseByWord(e){const t=[];let n=[],s=!1;for(const r of e){const e=r.GetStyles();if(r.IsIcon())n.length>0&&t.push(n),t.push([r]),n=[];else for(const o of r.GetCharacterArray())if(td(o))n.length>0&&t.push(n),t.push([nd.New(nd.TextFragment,{chArr:["\n"],styles:e})]),n=[];else if(0===n.length)n.push(nd.New(nd.TextFragment,{chArr:[o],styles:e})),s=$l(o);else{const r=$l(o);if(r===s){const t=n.at(-1);t.GetStyles()===e?t._AppendChar(o):n.push(nd.New(nd.TextFragment,{chArr:[o],styles:e}))}else t.push(n),n=[nd.New(nd.TextFragment,{chArr:[o],styles:e})],s=r}}return n.length>0&&t.push(n),t}_TokeniseByCJK(e){const t=[];let n=[],s=!1;for(const r of e){const e=r.GetStyles();if(r.IsIcon())n.length>0&&t.push(n),t.push([r]),n=[];else for(const o of r.GetCharacterArray())if(td(o))n.length>0&&t.push(n),t.push([nd.New(nd.TextFragment,{chArr:["\n"],styles:e})]),n=[];else if(0===n.length)n.push(nd.New(nd.TextFragment,{chArr:[o],styles:e})),s=Zl(o);else if(s||Ql(o)){const t=n.at(-1);t.GetStyles()===e?t._AppendChar(o):n.push(nd.New(nd.TextFragment,{chArr:[o],styles:e})),s=Zl(o)}else t.push(n),n=[nd.New(nd.TextFragment,{chArr:[o],styles:e})],s=Zl(o)}return n.length>0&&t.push(n),t}_TokeniseByChar(e){const t=[];for(const n of e)if(n.IsText()){const e=n.GetCharacterArray();nd.appendArray(t,e.map(e=>[nd.New(nd.TextFragment,{chArr:[e],styles:n.GetStyles()})]))}else t.push([n]);return t}_CopyLine(e){return e.map(e=>e._Clone())}_AddWordToLine(e,t){const n=e.length?e.at(-1):null;let s=0;n&&n.IsText()&&t[0].IsText()&&t[0].GetStyles()===n.GetStyles()&&(n._Append(t[0].GetCharacterArray()),s=1);for(let n=t.length;s<n;++s){const n=t[s];e.push(n._Clone())}}_WrapText(e,t,n,s){let r=[],o=0,a=0,i=0,l=0,d=0;for(const s of e){if(1===s.length&&s[0].IsText()&&1===s[0].GetLength()&&td(s[0].GetCharacterArray()[0])){if(0===a){const e=t(nd.New(nd.TextFragment,{chArr:[" "],styles:s[0].GetStyles()}));a=e.height,i=e.fontBoundingBoxAscent||0,l=e.fontBoundingBoxDescent||0,d=e.topToAlphabeticDistance||0}this._AddLine(r,o,a,i,l,d),r=[],o=0,a=0,i=0,l=0,d=0;continue}const e=this._CopyLine(r);this._AddWordToLine(e,s);const c=this._MeasureLine(e,t),u=c.width;if(u>=n)if(r.length>0&&this._AddLine(r,o,a,i,l,d),r=[],s[0].IsText()&&nd.IsCharArrayAllWhitespace(s[0].GetCharacterArray()))o=0,a=0,i=0,l=0,d=0;else{this._AddWordToLine(r,s);const e=this._MeasureLine(r,t);o=e.width,a=e.height,i=e.fontBoundingBoxAscent,l=e.fontBoundingBoxDescent,d=e.topToAlphabeticDistance}else r=e,o=u,a=c.height,i=c.fontBoundingBoxAscent,l=c.fontBoundingBoxDescent,d=c.topToAlphabeticDistance}r.length>0&&this._AddLine(r,o,a,i,l,d),this._TrimLinesTrailingWhitespace(t,s)}_TrimLinesTrailingWhitespace(e,t){for(const n of this._lines){const s=n._GetFragmentsArray();if(!s.length)continue;let r=s.at(-1);if(r.IsText()){const o=r.GetCharacterArray(),a=o.slice(0);if(ed(a),0===a.length)n.OffsetWidth(-r.GetWidth()),s.pop();else if(a.length<o.length){r.SetCharacterArray(a);const t=e(r).width,s=r.GetWidth()-t;r.SetWidth(t),n.OffsetWidth(-s)}0!==t&&s.length>0&&(r=s.at(-1),r.OffsetWidth(t),n.OffsetWidth(t))}}}Clear(){nd.clearArray(this._lines)}GetMaxLineWidth(){return this._lines.reduce((e,t)=>Math.max(e,t.GetWidth()),0)}GetTotalLineHeight(){return this._lines.reduce((e,t)=>e+t.GetHeight(),0)}}}{const rd=self.C3;rd.WordWrap.Line=class{constructor(e){this._fragments=e.fragments||[],this._width=e.width||-1,this._height=e.height||-1,this._fontBoundingBoxAscent=e.fontBoundingBoxAscent||-1,this._fontBoundingBoxDescent=e.fontBoundingBoxDescent||-1,this._topToAlphabeticDistance=e.topToAlphabeticDistance||-1,this._posX=0,this._posY=0}fragments(){return this._fragments.values()}*fragmentsReverse(){const e=this._fragments;for(let t=e.length-1;t>=0;--t)yield e[t]}_GetFragmentsArray(){return this._fragments}OffsetWidth(e){this._width+=e}GetWidth(){return this._width}GetHeight(){return this._height}GetFoundBoundingBoxAscent(){return this._fontBoundingBoxAscent}GetFontBoundingBoxDescent(){return this._fontBoundingBoxDescent}GetTopToAlphabeticDistance(){return this._topToAlphabeticDistance}SetPosX(e){this._posX=e}GetPosX(){return this._posX}SetPosY(e){this._posY=e}GetPosY(){return this._posY}}}{const od=self.C3;od.FragmentBase=class{constructor(e){this._styles=e.styles||[],this._width=e.width||-1,this._height=e.height||-1,this._fontBoundingBoxAscent=e.fontBoundingBoxAscent||-1,this._fontBoundingBoxDescent=e.fontBoundingBoxDescent||-1,this._topToAlphabeticDistance=e.topToAlphabeticDistance||-1,this._posX=0,this._posY=0}IsText(){return!1}IsIcon(){return!1}GetStyles(){return this._styles}GetStyleTag(e){const t=this._styles;for(let n=t.length-1;n>=0;--n){const s=t[n];if(s.tag===e)return s}return null}HasStyleTag(e){return!!this.GetStyleTag(e)}GetStyleMap(){const e=new Map;for(const t of this._styles)e.set(t.tag,t.param);return e}OffsetWidth(e){this._width+=e}SetWidth(e){this._width=e}GetWidth(){return this._width}SetHeight(e){this._height=e}GetHeight(){return this._height}SetFontBoundingBoxAscent(e){this._fontBoundingBoxAscent=e}GetFontBoundingBoxAscent(){return this._fontBoundingBoxAscent}SetFontBoundingBoxDescent(e){this._fontBoundingBoxDescent=e}GetFontBoundingBoxDescent(){return this._fontBoundingBoxDescent}SetTopToAlphabeticDistance(e){this._topToAlphabeticDistance=e}GetTopToAlphabeticDistance(){return this._topToAlphabeticDistance}SetPosX(e){this._posX=e}GetPosX(){return this._posX}SetPosY(e){this._posY=e}GetPosY(){return this._posY}}}{const ad=self.C3;ad.TextFragment=class extends ad.FragmentBase{constructor(e){super(e),this._chArr=e.chArr}IsText(){return!0}_Append(e){ad.appendArray(this._chArr,e),this._width=-1,this._height=-1,this._fontBoundingBoxAscent=-1,this._fontBoundingBoxDescent=-1,this._topToAlphabeticDistance=-1}_AppendChar(e){this._chArr.push(e)}_Clone(){return ad.New(ad.TextFragment,{chArr:this._chArr.slice(0),styles:this._styles,width:this._width,height:this._height,fontBoundingBoxAscent:this._fontBoundingBoxAscent,fontBoundingBoxDescent:this._fontBoundingBoxDescent,topToAlphabeticDistance:this._topToAlphabeticDistance})}GetCharacterArray(){return this._chArr}SetCharacterArray(e){this._chArr=e}GetLength(){return this._chArr.length}IsEmpty(){return 0===this._chArr.length}HasNewLine(){return this._chArr.includes("\n")}}}{const id=self.C3;id.IconFragment=class extends id.FragmentBase{constructor(e){super(e),this._icon=e.icon}IsIcon(){return!0}GetIconParameter(){return this._icon}_Clone(){return id.New(id.IconFragment,{icon:this._icon,styles:this._styles,width:this._width,height:this._height,fontBoundingBoxAscent:this._fontBoundingBoxAscent,fontBoundingBoxDescent:this._fontBoundingBoxDescent,topToAlphabeticDistance:this._topToAlphabeticDistance})}GetTextIcon(e){if(!e)return null;let t=Number(this._icon);return String(t)===this._icon?(t=Math.floor(t),e.GetTextIconByIndex(t)):e.GetTextIconByTag(this._icon)}CalculateWidthFromHeight(e){const t=this.GetTextIcon(e);this._width=t?this._height*t.GetWidth()/t.GetHeight():0}GetDrawable(e){const t=this.GetTextIcon(e);return t?t.GetDrawable():null}GetLength(){return 1}}}{const ld=self.C3;ld.TextIconManager=class{constructor(e){this._iconSets=new Map,this._getIconSetMetaCallback=e.getIconSetMeta,this._getIconSetContentCallback=e.getIconSetContent}Release(){for(const e of this._iconSets.values())e.Release();this._iconSets.clear()}GetIconSet(e){let t=this._iconSets.get(e);if(t)return t;const n=this._getIconSetMetaCallback(e);return t=ld.New(ld.TextIconSet,this,{source:e,iconMeta:n}),this._iconSets.set(e,t),t}HasIconSet(e){return this._iconSets.has(e)}DeleteIconSet(e){const t=this._iconSets.get(e);t&&t.Release(),this._iconSets.delete(e)}async _GetIconSetContent(e){return await this._getIconSetContentCallback(e)}}}{const dd=self.C3;dd.TextIconSet=class{constructor(e,t){this._textIconManager=e,this._source=t.source,this._iconsArray=[],this._iconsByTag=new Map,this._hasStartedLoad=!1,this._isLoading=!1,this._loadPromise=null;const n=t.iconMeta.icons;for(let e=0,t=n.length;e<t;++e){const t=n[e],s=dd.New(dd.TextIcon,this,{index:e,tag:t.tag,source:t.source,width:t.width,height:t.height});this._iconsArray.push(s),t.tag&&this._iconsByTag.set(t.tag.toLowerCase(),s)}}Release(){for(const e of this._iconsArray)e.Release();dd.clearArray(this._iconsArray),this._iconsByTag.clear(),this._textIconManager=null,this._source=null}HasLoaded(){return this._hasStartedLoad}IsLoading(){return this._isLoading}LoadContent(){return this._loadPromise||(this._loadPromise=this._DoLoadContent()),this._loadPromise}async _DoLoadContent(){if(this._hasStartedLoad)return;this._hasStartedLoad=!0,this._isLoading=!0;const e=await this._textIconManager._GetIconSetContent(this._source);if(!this._textIconManager)return;const t=e.icons;for(let e=0,n=Math.min(t.length,this._iconsArray.length);e<n;++e){const n=t[e].drawable;this._iconsArray[e]._SetDrawable(n)}this._isLoading=!1}GetTextIconByIndex(e){return(e=Math.floor(e))<0||e>=this._iconsArray.length?null:this._iconsArray[e]}GetTextIconByTag(e){return this._iconsByTag.get(e.toLowerCase())||null}}}{const cd=self.C3;cd.TextIcon=class{constructor(e,t){this._textIconSet=e,this._source=t.source||null,this._index=t.index,this._tag=t.tag,this._width=t.width,this._height=t.height,this._drawable=null}Release(){this._width=0,this._height=0,this._textIconSet=null}GetSource(){return this._source}GetWidth(){return this._width}GetHeight(){return this._height}_SetDrawable(e){this._drawable=e}GetDrawable(){return this._drawable}}}{let ud=function(e,t,n,s){const r=Sd;md.subtract(Nd,n,t),md.subtract(bd,e,t),md.cross(r,Nd,bd),md.normalize(r,r),s.set(r[0],r[1],r[2],md.dot(e,r))},hd=function(e,t,n,s,r,o,a){const i=a.x,l=a.y,d=a.z,c=a.w,u=a.xF,h=a.yF,_=a.zF,G=1-u,p=1-h,m=1-_;return i*e*u+i*s*G+l*t*h+l*r*p+d*n*_+d*o*m>=c||i*s*u+i*e*G+l*r*h+l*t*p+d*o*_+d*n*m>c},_d=function(e,t,n,s){return s.x*e+s.y*t+s.z*n>=s.w};PlaneFromPoints=ud,IsInFrontOfPlane=hd,IsPointInFrontOfPlane=_d;const Gd=self.C3,pd=self.glMatrix,md=pd.vec3,gd=pd.vec4,fd=pd.mat4,Nd=md.create(),bd=md.create(),Sd=md.create(),xd=gd.create(),Id=fd.create(),yd=md.create(),Ed=md.create(),Td=md.create(),Cd=md.create(),Md=md.create(),Vd=md.create(),Bd=md.create(),Od=md.create(),vd=gd.fromValues(0,0,1,1);Gd.Gfx={Project(e,t,n,s,r,o,a){const i=s[0]*e+s[4]*t+s[8]*n+s[12],l=s[1]*e+s[5]*t+s[9]*n+s[13],d=s[2]*e+s[6]*t+s[10]*n+s[14],c=s[3]*e+s[7]*t+s[11]*n+s[15];let u=r[0]*i+r[4]*l+r[8]*d+r[12]*c,h=r[1]*i+r[5]*l+r[9]*d+r[13]*c,_=r[2]*i+r[6]*l+r[10]*d+r[14]*c,G=r[3]*i+r[7]*l+r[11]*d+r[15]*c;return 0!==G&&(G=1/G,u*=G,h*=G,_*=G,a[0]=(.5*u+.5)*o[2]+o[0],a[1]=(.5*h+.5)*o[3]+o[1],a[2]=.5*(1+_),!0)},Unproject(e,t,n,s,r,o,a){const i=Id,l=xd;return fd.multiply(i,r,s),null!==fd.invert(i,i)&&(l[0]=(e-o[0])/o[2]*2-1,l[1]=(t-o[1])/o[3]*2-1,l[2]=2*n-1,l[3]=1,gd.transformMat4(l,l,i),0!==l[3]&&(l[3]=1/l[3],a[0]=l[0]*l[3],a[1]=l[1]*l[3],a[2]=l[2]*l[3],!0))},UnprojectScreenToWorldZ(e,t,n,s,r,o,a){const i=Nd,l=bd;if(!Gd.Gfx.Unproject(e,t,0,s,r,o,i))return!1;if(!Gd.Gfx.Unproject(e,t,1,s,r,o,l))return!1;const d=bd;md.subtract(d,l,i);const c=Sd;md.set(c,0,0,1);const u=-n,h=md.dot(c,d);let _=0;if(0===h){if(0!==md.dot(c,i)+u)return!1}else if(_=-(md.dot(i,c)+u)/h,_<0)return!1;return md.scaleAndAdd(a,i,d,_),!0}};class Pd{constructor(){this.x=NaN,this.y=NaN,this.z=NaN,this.w=NaN,this.xF=NaN,this.yF=NaN,this.zF=NaN}set(e,t,n,s){this.x=e,this.y=t,this.z=n,this.w=s,this.xF=e>0?1:0,this.yF=t>0?1:0,this.zF=n>0?1:0}}Gd.Gfx.ViewFrustum=class{constructor(){this._leftP=new Pd,this._topP=new Pd,this._rightP=new Pd,this._bottomP=new Pd,this._nearP=new Pd,this._farP=new Pd}CalculatePlanes(e,t){const n=vd;Gd.Gfx.Unproject(0,1,0,e,t,n,yd),Gd.Gfx.Unproject(1,1,0,e,t,n,Ed),Gd.Gfx.Unproject(0,0,0,e,t,n,Td),Gd.Gfx.Unproject(1,0,0,e,t,n,Cd),Gd.Gfx.Unproject(0,1,1,e,t,n,Md),Gd.Gfx.Unproject(1,1,1,e,t,n,Vd),Gd.Gfx.Unproject(0,0,1,e,t,n,Bd),Gd.Gfx.Unproject(1,0,1,e,t,n,Od),ud(Td,yd,Md,this._leftP),ud(yd,Ed,Vd,this._topP),ud(Ed,Cd,Od,this._rightP),ud(Cd,Td,Bd,this._bottomP),ud(Bd,Md,Vd,this._farP),ud(Cd,Ed,yd,this._nearP)}ContainsAABB(e,t,n,s,r,o){return hd(e,t,n,s,r,o,this._leftP)&&hd(e,t,n,s,r,o,this._topP)&&hd(e,t,n,s,r,o,this._rightP)&&hd(e,t,n,s,r,o,this._bottomP)&&hd(e,t,n,s,r,o,this._nearP)&&hd(e,t,n,s,r,o,this._farP)}IsBehindNearPlane(e,t,n){return!_d(e,t,n,this._nearP)}}}{const wd=self.C3,Ad=self.glMatrix,Dd=Ad.vec3,Rd=Ad.vec4,Fd=Ad.mat4,jd=Fd.create(),kd=Dd.fromValues(0,0,0),Ld=Dd.fromValues(0,0,0),Wd=Dd.fromValues(0,0,0),Ud=Dd.fromValues(0,1,0),Hd=Rd.fromValues(0,0,0,0),zd=new wd.Quad,Yd=new wd.Rect,Xd=new wd.Quad(0,0,1,0,1,1,0,1),qd={nearZ:1,farZ:1e4},Kd=Fd.fromValues(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);wd.Gfx.RendererBase=class{constructor(e){e=Object.assign({},qd,e),this._width=0,this._height=0,this._fovY=wd.toRadians(45),this._tan_fovY_2=Math.tan(this._fovY/2),this._matP=Fd.create(),this._matMV=Fd.create(),this._zAxisScale=!1,this._nearZ=e.nearZ,this._farZ=e.farZ,this._allShaderPrograms=[],this._shaderProgramsByName=new Map,this._spTextureFill=null,this._spPoints=null,this._spTilemapFill=null,this._spTileRandomization=null,this._spColorFill=null,this._spLinearGradientFill=null,this._spPenumbraFill=null,this._spHardEllipseFill=null,this._spHardEllipseOutline=null,this._spSmoothEllipseFill=null,this._spSmoothEllipseOutline=null,this._spSmoothLineFill=null,this._stateGroups=new Map,this._currentStateGroup=null,this._blendModeTable=[],this._namedBlendModeMap=new Map,this._baseZ=0,this._currentZ=0,this._lineWidth=1,this._lineWidthStack=[this._lineWidth],this._lineCap=1,this._lineCapStack=[this._lineCap],this._lineOffset=.5,this._lineOffsetStack=[this._lineOffset],this._frameNumber=0,this._enableMipmaps=!0,this._hasMajorPerformanceCaveat=!1}_ClearState(){this._baseZ=0,this._currentZ=0,this._spTextureFill=null,this._spPoints=null,this._spTilemapFill=null,this._spTileRandomization=null,this._spColorFill=null,this._spLinearGradientFill=null,this._spPenumbraFill=null,this._spHardEllipseFill=null,this._spHardEllipseOutline=null,this._spSmoothEllipseFill=null,this._spSmoothEllipseOutline=null,this._spSmoothLineFill=null,this._ClearAllShaderPrograms()}InitState(){this._ClearState(),this._currentStateGroup=null}OnDeviceOrContextLost(){for(const e of this._allShaderPrograms)e.Release();this._ClearState()}GetWidth(){return this._width}GetHeight(){return this._height}GetDefaultCameraZ(e){return this.IsZAxisScaleNormalized()?100:e/(2*this._GetTanFovYDiv2())}GetZAxisScaleFactor(e){return this.IsZAxisScaleNormalized()?e/(2*this._GetTanFovYDiv2())/this.GetDefaultCameraZ(e):1}SetNearZ(e){this._nearZ=e}GetNearZ(){return this._nearZ}SetFarZ(e){this._farZ=e}GetFarZ(){return this._farZ}SetFovY(e){this._fovY=e,this._tan_fovY_2=Math.tan(this._fovY/2)}GetFovY(){return this._fovY}_GetTanFovYDiv2(){return this._tan_fovY_2}SetZAxisScaleNormalized(){this._zAxisScale=!1}SetZAxisScaleRegular(){this._zAxisScale=!0}IsZAxisScaleNormalized(){return!this._zAxisScale}IsZAxisScaleRegular(){return this._zAxisScale}CalculatePerspectiveMatrix(e,t,n=.5,s=.5){const r=this.GetNearZ(),o=this.GetFarZ(),a=this.GetFovY();if(.5===n&&.5===s)this.IsWebGPU()?Fd.perspectiveZO(e,a,t,r,o):Fd.perspective(e,a,t,r,o);else{const a=2*(n=1-n)-2,i=2*n,l=2*s-2,d=2*s,c=this._GetTanFovYDiv2()*r,u=c*t;Fd.frustum(e,a*u,i*u,l*c,d*c,r,o),this.IsWebGPU()&&Fd.mul(e,Kd,e)}}CalculateOrthographicMatrix(e,t,n,s=1){const r=self.devicePixelRatio,o=2*this.GetDefaultCameraZ(n)*r*this._GetTanFovYDiv2()/n,a=t*o/(2*r*s),i=n*o/(2*r*s),l=-a,d=a,c=-i,u=i;this.IsWebGPU()?Fd.orthoZO(e,l,d,c,u,this.GetNearZ(),this.GetFarZ()):Fd.ortho(e,l,d,c,u,this.GetNearZ(),this.GetFarZ())}CalculateLookAtModelView(e,t,n,s,r,o=1){let a=1;this.IsZAxisScaleNormalized()&&(a=200*this._GetTanFovYDiv2()/r);const i=Wd;Dd.set(i,a,-a,1);const l=kd,d=Ld;Dd.multiply(l,t,i),Dd.multiply(d,n,i),Fd.lookAt(e,l,d,s||Ud),i[2]=o,Fd.scale(e,e,i)}CalculateLookAtModelView2(e,t,n,s,r,o,a,i){return Dd.set(kd,e,t,n),Dd.set(Ld,s,r,o),this.CalculateLookAtModelView(jd,kd,Ld,Ud,a,i),jd}_AddShaderProgram(e){this._allShaderPrograms.push(e),this._shaderProgramsByName.set(e.GetName(),e)}_RemoveShaderProgram(e){const t=this._allShaderPrograms.indexOf(e);-1!==t&&this._allShaderPrograms.splice(t,1),this._shaderProgramsByName.delete(e.GetName())}_ClearAllShaderPrograms(){wd.clearArray(this._allShaderPrograms),this._shaderProgramsByName.clear()}GetShaderProgramByName(e){return this._shaderProgramsByName.get(e)||null}GetTextureFillShaderProgram(){return this._spTextureFill}SetTextureFillMode(){this.SetProgram(this._spTextureFill)}GetPointsRenderingProgram(){return this._spPoints}SetPointsRenderingProgram(){this.SetProgram(this._spPoints)}SetTilemapFillMode(){this.SetProgram(this._spTilemapFill)}SetTileRandomizationMode(){this.SetProgram(this._spTileRandomization)}SetColorFillMode(){this.SetProgram(this._spColorFill)}SetLinearGradientFillMode(){this.SetProgram(this._spLinearGradientFill)}SetPenumbraFillMode(){this.SetProgram(this._spPenumbraFill)}SetHardEllipseFillMode(){this.SetProgram(this._spHardEllipseFill)}SetHardEllipseOutlineMode(){this.SetProgram(this._spHardEllipseOutline)}SetSmoothEllipseFillMode(){this.SetProgram(this._spSmoothEllipseFill)}SetSmoothEllipseOutlineMode(){this.SetProgram(this._spSmoothEllipseOutline)}SetSmoothLineFillMode(){this.SetProgram(this._spSmoothLineFill)}_SetCurrentStateGroup(e){this._currentStateGroup=e}GetCurrentStateGroup(){return this._currentStateGroup}AcquireStateGroup(e,t,n,s,r,o){const a=wd.Gfx.StateGroup.MakeKey(e,t,n,s,r,o);let i=this._stateGroups.get(a);return i||(i=wd.New(wd.Gfx.StateGroup,this,e,t,n,s,r,o),this._stateGroups.set(a,i)),i.AddRef(),i}ReleaseStateGroup(e){e.DecRef(),0===e._GetRefCount()&&(this._currentStateGroup===e&&(this._currentStateGroup=null),this._stateGroups.delete(e.GetKey()),e.Release())}_InitBlendModeData(e){wd.clearArray(this._blendModeTable),this._namedBlendModeMap.clear();let t=0;for(const n of e){const e=n[0],s=n[1],r=n[2];this._blendModeTable.push([s,r]),this._namedBlendModeMap.set(e,{number:t,srcBlend:s,destBlend:r}),t++}}_GetBlendByIndex(e){return this._blendModeTable[e]}GetSrcBlendByIndex(e){return this._GetBlendByIndex(e)[0]}GetDestBlendByIndex(e){return this._GetBlendByIndex(e)[1]}GetNamedBlend(e){const t=this._namedBlendModeMap.get(e);if(void 0===t)throw new Error("invalid blend name");return t}NamedBlendToNumber(e){const t=this._namedBlendModeMap.get(e);if(void 0===t)throw new Error("invalid blend name");return t.number}SetBaseZ(e){this._baseZ=e}GetBaseZ(){return this._baseZ}SetCurrentZ(e){this._currentZ=e,this._currentStateGroup=null}GetCurrentZ(){return this._currentZ}Line(e,t,n,s){const r=wd.angleTo(e,t,n,s),o=Math.sin(r),a=Math.cos(r),i=.5*this._lineWidth,l=o*i,d=a*i,c=this._lineCap;2===c?this.LinePreCalc_LineCap2(e,t,0,n,s,0,l,d):1===c?this.LinePreCalc_LineCap1(e,t,0,n,s,0,l,d):this.LinePreCalc_LineCap0(e,t,0,n,s,0,l,d)}Line3D(e,t,n,s,r,o){const a=wd.angleTo(e,t,s,r),i=Math.sin(a),l=Math.cos(a),d=.5*this._lineWidth,c=i*d,u=l*d,h=this._lineCap;2===h?this.LinePreCalc_LineCap2(e,t,n,s,r,o,c,u):1===h?this.LinePreCalc_LineCap1(e,t,n,s,r,o,c,u):this.LinePreCalc_LineCap0(e,t,n,s,r,o,c,u)}LinePreCalc_LineCap2(e,t,n,s,r,o,a,i){const l=this._lineOffset,d=e+l-i,c=t+l-a,u=s+l+i,h=r+l+a,_=2*i,G=2*a,p=d+a,m=c-i,g=d-a+_,f=c+i+G,N=u+a,b=h-i,S=u-a-_,x=h+i-G;this.Quad3D2(p,m,n,N,b,o,S,x,o,g,f,n,Xd)}LinePreCalc_LineCap1(e,t,n,s,r,o,a,i){const l=this._lineOffset,d=e+l-i,c=t+l-a,u=s+l+i,h=r+l+a,_=d+a,G=c-i,p=d-a,m=c+i,g=u+a,f=h-i,N=u-a,b=h+i;this.Quad3D2(_,G,n,g,f,o,N,b,o,p,m,n,Xd)}LinePreCalc_LineCap0(e,t,n,s,r,o,a,i){const l=this._lineOffset,d=e+l,c=t+l,u=s+l,h=r+l,_=d+a,G=c-i,p=d-a,m=c+i,g=u+a,f=h-i,N=u-a,b=h+i;this.Quad3D2(_,G,n,g,f,o,N,b,o,p,m,n,Xd)}TexturedLine(e,t,n,s,r,o){const a=wd.angleTo(e,t,n,s),i=Math.sin(a),l=Math.cos(a),d=.5*this._lineWidth,c=i*d,u=l*d,h=this._lineCap;2===h?this.TexturedLinePreCalc_LineCap2(e,t,n,s,c,u,r,o):1===h?this.TexturedLinePreCalc_LineCap1(e,t,n,s,c,u,r,o):this.TexturedLinePreCalc_LineCap0(e,t,n,s,c,u,r,o)}TexturedLinePreCalc_LineCap2(e,t,n,s,r,o,a,i){const l=this._lineOffset,d=e+l-o,c=t+l-r,u=n+l+o,h=s+l+r,_=2*o,G=2*r,p=d+r,m=c-o,g=d-r+_,f=c+o+G,N=u+r,b=h-o,S=u-r-_,x=h+o-G;zd.set(p,m,N,b,S,x,g,f),Yd.set(a,0,i,0),this.Quad3(zd,Yd)}TexturedLinePreCalc_LineCap1(e,t,n,s,r,o,a,i){const l=this._lineOffset,d=e+l-o,c=t+l-r,u=n+l+o,h=s+l+r,_=d+r,G=c-o,p=d-r,m=c+o,g=u+r,f=h-o,N=u-r,b=h+o;zd.set(_,G,g,f,N,b,p,m),Yd.set(a,0,i,0),this.Quad3(zd,Yd)}TexturedLinePreCalc_LineCap0(e,t,n,s,r,o,a,i){const l=this._lineOffset,d=e+l,c=t+l,u=n+l,h=s+l,_=d+r,G=c-o,p=d-r,m=c+o,g=u+r,f=h-o,N=u-r,b=h+o;zd.set(_,G,g,f,N,b,p,m),Yd.set(a,0,i,0),this.Quad3(zd,Yd)}LineRect(e,t,n,s){const r=.5*this._lineWidth,o=this._lineCap;2===o?this._LineRectPreCalc_LineCap2(e,t,n,s,r):1===o?this._LineRectPreCalc_LineCap1(e,t,n,s,r):this._LineRectPreCalc_LineCap0(e,t,n,s,r)}_LineRectPreCalc_LineCap2(e,t,n,s,r){this.LinePreCalc_LineCap2(e,t,0,n,t,0,0,r),this.LinePreCalc_LineCap2(n,t,0,n,s,0,r,0),this.LinePreCalc_LineCap2(n,s,0,e,s,0,0,-r),this.LinePreCalc_LineCap2(e,s,0,e,t,0,-r,0)}_LineRectPreCalc_LineCap1(e,t,n,s,r){this.LinePreCalc_LineCap1(e,t,0,n,t,0,0,r),this.LinePreCalc_LineCap1(n,t,0,n,s,0,r,0),this.LinePreCalc_LineCap1(n,s,0,e,s,0,0,-r),this.LinePreCalc_LineCap1(e,s,0,e,t,0,-r,0)}_LineRectPreCalc_LineCap0(e,t,n,s,r){this.LinePreCalc_LineCap0(e,t,0,n,t,0,0,r),this.LinePreCalc_LineCap0(n,t,0,n,s,0,r,0),this.LinePreCalc_LineCap0(n,s,0,e,s,0,0,-r),this.LinePreCalc_LineCap0(e,s,0,e,t,0,-r,0)}LineRect2(e){this.LineRect(e.getLeft(),e.getTop(),e.getRight(),e.getBottom())}LineQuad(e){const t=wd.angleTo(e.getTlx(),e.getTly(),e.getTrx(),e.getTry()),n=Math.sin(t),s=Math.cos(t),r=.5*this._lineWidth,o=n*r,a=s*r,i=this._lineCap;2===i?this._LineQuadPreCalc_LineCap2(e,o,a):1===i?this._LineQuadPreCalc_LineCap1(e,o,a):this._LineQuadPreCalc_LineCap0(e,o,a)}_LineQuadPreCalc_LineCap2(e,t,n){this.LinePreCalc_LineCap2(e.getTlx(),e.getTly(),0,e.getTrx(),e.getTry(),0,t,n),this.LinePreCalc_LineCap2(e.getTrx(),e.getTry(),0,e.getBrx(),e.getBry(),0,n,-t),this.LinePreCalc_LineCap2(e.getBrx(),e.getBry(),0,e.getBlx(),e.getBly(),0,-t,-n),this.LinePreCalc_LineCap2(e.getBlx(),e.getBly(),0,e.getTlx(),e.getTly(),0,-n,t)}_LineQuadPreCalc_LineCap1(e,t,n){this.LinePreCalc_LineCap1(e.getTlx(),e.getTly(),0,e.getTrx(),e.getTry(),0,t,n),this.LinePreCalc_LineCap1(e.getTrx(),e.getTry(),0,e.getBrx(),e.getBry(),0,n,-t),this.LinePreCalc_LineCap1(e.getBrx(),e.getBry(),0,e.getBlx(),e.getBly(),0,-t,-n),this.LinePreCalc_LineCap1(e.getBlx(),e.getBly(),0,e.getTlx(),e.getTly(),0,-n,t)}_LineQuadPreCalc_LineCap0(e,t,n){this.LinePreCalc_LineCap0(e.getTlx(),e.getTly(),0,e.getTrx(),e.getTry(),0,t,n),this.LinePreCalc_LineCap0(e.getTrx(),e.getTry(),0,e.getBrx(),e.getBry(),0,n,-t),this.LinePreCalc_LineCap0(e.getBrx(),e.getBry(),0,e.getBlx(),e.getBly(),0,-t,-n),this.LinePreCalc_LineCap0(e.getBlx(),e.getBly(),0,e.getTlx(),e.getTly(),0,-n,t)}SetLineWidth(e){this._lineWidth=e,this._lineWidthStack[this._lineWidthStack.length-1]=e}GetLineWidth(){return this._lineWidth}PushLineWidth(e){if(this._lineWidthStack.length>=100)throw new Error("pushed too many line widths - check push/pop pairs");this._lineWidthStack.push(e),this._lineWidth=e}PopLineWidth(){if(this._lineWidthStack.length<=1)throw new Error("cannot pop last line width - check push/pop pairs");this._lineWidthStack.pop(),this._lineWidth=this._lineWidthStack.at(-1)}SetLineCapButt(){this._lineCap=0,this._lineCapStack[this._lineCapStack.length-1]=0}SetLineCapSquare(){this._lineCap=1,this._lineCapStack[this._lineCapStack.length-1]=0}SetLineCapZag(){this._lineCap=2,this._lineCapStack[this._lineCapStack.length-1]=0}PushLineCap(e){if("butt"===e)this.PushLineCapButt();else if("square"===e)this.PushLineCapSquare();else{if("zag"!==e)throw new Error("invalid line cap");this.PushLineCapZag()}}PushLineCapButt(){if(this._lineCapStack.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this._lineCapStack.push(0),this._lineCap=0}PushLineCapSquare(){if(this._lineCapStack.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this._lineCapStack.push(1),this._lineCap=1}PushLineCapZag(){if(this._lineCapStack.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this._lineCapStack.push(2),this._lineCap=2}PopLineCap(){if(this._lineCapStack.length<=1)throw new Error("cannot pop last line cap - check push/pop pairs");this._lineCapStack.pop(),this._lineCap=this._lineCapStack.at(-1)}SetLineOffset(e){this._lineOffset=e,this._lineOffsetStack[this._lineOffsetStack.length-1]=e}GetLineOffset(){return this._lineOffset}PushLineOffset(e){if(this._lineOffsetStack.length>=100)throw new Error("pushed too many line offsets - check push/pop pairs");this._lineOffsetStack.push(e),this._lineOffset=e}PopLineOffset(){if(this._lineOffsetStack.length<=1)throw new Error("cannot pop last line offset - check push/pop pairs");this._lineOffsetStack.pop(),this._lineOffset=this._lineOffsetStack.at(-1)}ResetCullState(){this.SetCullFaceMode(0),this.SetFrontFaceWinding(0)}ConvexPoly(e){const t=e.length/2;if(t<3)throw new Error("need at least 3 points");const n=t-2,s=n-1,r=e[0],o=e[1];for(let t=0;t<n;t+=2){const n=2*t,a=e[n+2],i=e[n+3],l=e[n+4],d=e[n+5];if(t===s)this.Quad2(r,o,a,i,l,d,l,d);else{const t=e[n+6],s=e[n+7];this.Quad2(r,o,a,i,l,d,t,s)}}}Finish(){this.EndBatch(!0),this._frameNumber++}GetFrameNumber(){return this._frameNumber}IncrementFrameNumber(){this._frameNumber++}SetMipmapsEnabled(e){this._enableMipmaps=!!e}AreMipmapsEnabled(){return this._enableMipmaps}SetHasMajorPerformanceCaveat(e){this._hasMajorPerformanceCaveat=!!e}HasMajorPerformanceCaveat(){return this._hasMajorPerformanceCaveat}IsWebGL(){return!1}IsWebGPU(){return!1}GetEstimatedBackBufferMemoryUsage(){}GetEstimatedRenderBufferMemoryUsage(){}GetEstimatedTextureMemoryUsage(){}GetEstimatedTotalMemoryUsage(){return this.GetEstimatedBackBufferMemoryUsage()+this.GetEstimatedRenderBufferMemoryUsage()+this.GetEstimatedTextureMemoryUsage()}CreateRendererText(){return wd.New(wd.Gfx.RendererText,this)}}}{const Jd=self.C3;Jd.Gfx.ShaderProgramBase=class{constructor(e,t){this._name=t.name,this._renderer=e,this._extendBoxHorizontal=t.extendBoxHorizontal||0,this._extendBoxVertical=t.extendBoxVertical||0,this._crossSampling=!!t.crossSampling,this._mustPreDraw=!!t.mustPreDraw,this._preservesOpaqueness=!!t.preservesOpaqueness,this._supports3dDirectRendering=!!t.supports3dDirectRendering,this._animated=!!t.animated,this._blendsBackground=!!t.blendsBackground,this._usesDepth=!!t.usesDepth,this._usesAnySrcRectOrPixelSize=!1,this._needsPostDrawOrExtendBox=this._crossSampling||this._blendsBackground||0!==this._extendBoxHorizontal||0!==this._extendBoxVertical}Release(){this._renderer=null}GetRenderer(){return this._renderer}GetName(){return this._name}ExtendsBox(){return 0!==this._extendBoxHorizontal||0!==this._extendBoxVertical}GetBoxExtendHorizontal(){return this._extendBoxHorizontal}GetBoxExtendVertical(){return this._extendBoxVertical}UsesCrossSampling(){return this._crossSampling}MustPreDraw(){return this._mustPreDraw}PreservesOpaqueness(){return this._preservesOpaqueness}Supports3DDirectRendering(){return this._supports3dDirectRendering}IsAnimated(){return this._animated}BlendsBackground(){return this._blendsBackground}UsesDepth(){return this._usesDepth}UsesAnySrcRectOrPixelSize(){return this._usesAnySrcRectOrPixelSize}NeedsPostDrawOrExtendsBox(){return this._needsPostDrawOrExtendBox}UsesIsSrcTexRotated(){return!1}}}{const $d=self.C3;$d.Gfx.StateGroup=class{constructor(e,t,n,s,r,o,a){this._renderer=e,this._refCount=0,this._shaderProgram=null,this._shaderProgramName="",this._blendMode=n,this._color=$d.New($d.Color),this._color.set(s),this._zElevation=r,this._cullFaceMode=o,this._frontFaceWinding=a,"string"==typeof t?this._shaderProgramName=t:(this._shaderProgram=t,this._shaderProgramName=this._shaderProgram.GetName())}Release(){if(this._refCount>0)throw new Error("releasing state group still in use");this._renderer=null,this._shaderProgram=null,this._shaderProgramName=""}Apply(){const e=this._renderer;e.SetProgram(this._shaderProgram),e.SetBlendMode(this._blendMode),e.SetColor(this._color),e.SetCurrentZ(this._zElevation),e.SetCullFaceMode(this._cullFaceMode),e.SetFrontFaceWinding(this._frontFaceWinding),e._SetCurrentStateGroup(this)}GetKey(){return $d.Gfx.StateGroup.MakeKey(this._shaderProgramName,this._blendMode,this._color,this._zElevation,this._cullFaceMode,this._frontFaceWinding)}AddRef(){++this._refCount}DecRef(){--this._refCount}_GetRefCount(){return this._refCount}OnContextLost(){this._shaderProgram=null}OnContextRestored(e){if(this._shaderProgram=e.GetShaderProgramByName(this._shaderProgramName),!this._shaderProgram)throw new Error("failed to restore shader program")}static MakeKey(e,t,n,s,r,o){return("string"==typeof e?e:e.GetName())+","+t+","+n.getR()+","+n.getG()+","+n.getB()+","+n.getA()+","+s+","+r+","+o}}}{let Zd=function(e,t,n){const s=n.getTlx(),r=n.getTly(),o=n.getTrx()-s,a=n.getTry()-r;return[s+o*e+(n.getBlx()-s)*t,r+a*e+(n.getBly()-r)*t]};interpolateQuad=Zd;const Qd=globalThis.C3,ec=globalThis.assert,tc=65535;Qd.Gfx.MeshPoint=class{constructor(e,t,n){this._mesh=e,this._col=t,this._row=n,this._x=NaN,this._y=NaN,this._zElevation=NaN,this._u=NaN,this._v=NaN,this._x=0,this._y=0,this._zElevation=0,this._u=0,this._v=0}_Init(e,t,n,s){this._x=e,this._y=t,this._u=n,this._v=s}GetX(){return this._x}SetX(e){this._x!==e&&(this._x=e,this._mesh._SetPointsChanged())}GetY(){return this._y}SetY(e){this._y!==e&&(this._y=e,this._mesh._SetPointsChanged())}GetZElevation(){return this._zElevation}SetZElevation(e){this._zElevation!==e&&(this._zElevation=Math.max(e,0),this._mesh._SetPointsChanged())}GetU(){return this._u}SetU(e){this._u=e}GetV(){return this._v}SetV(e){this._v=e}_Interpolate_TexRect(e,t,n){[this._x,this._y]=Zd(e._x,e._y,t),this._zElevation=e._zElevation,this._u=Qd.lerp(n.getLeft(),n.getRight(),e._u),this._v=Qd.lerp(n.getTop(),n.getBottom(),e._v)}_Interpolate_TexQuad(e,t,n){[this._x,this._y]=Zd(e._x,e._y,t),this._zElevation=e._zElevation,[this._u,this._v]=Zd(e._u,e._v,n)}SaveToJson(){return{x:this.GetX(),y:this.GetY(),z:this.GetZElevation(),u:this.GetU(),v:this.GetV()}}LoadFromJson(e){this.SetX(e.x),this.SetY(e.y),e.hasOwnProperty("z")&&this.SetZElevation(e.z),this.SetU(e.u),this.SetV(e.v)}GetMesh(){return this._mesh}GetColumn(){return this._col}GetRow(){return this._row}},Qd.Gfx.Mesh=class{constructor(e,t,n){if(e<2||t<2)throw new Error("invalid mesh size");this._hsize=e,this._vsize=t,this._owner=n||null,this._pts=[],this._minX=0,this._minY=0,this._maxX=1,this._maxY=1,this._maxZ=0,this._bboxChanged=!1,this._meshChunks=[],this._lastZOffset=0,this._dataArrsChanged=!0;const s=e-1,r=t-1;for(let n=0;n<t;++n){const t=[];for(let o=0;o<e;++o){const e=Qd.New(Qd.Gfx.MeshPoint,this,o,n),a=o/s,i=n/r;e._Init(a,i,a,i),t.push(e)}this._pts.push(t)}}Release(){Qd.clearArray(this._pts),Qd.clearArray(this._meshChunks)}GetHSize(){return this._hsize}GetVSize(){return this._vsize}GetOwner(){return this._owner}_GetPoints(){return this._pts}_SetPointsChanged(){this._bboxChanged=!0,this._dataArrsChanged=!0}_MaybeComputeBounds(){if(!this._bboxChanged)return;let e=1/0,t=1/0,n=-1/0,s=-1/0,r=0;for(const o of this._pts)for(const a of o){const o=a.GetX(),i=a.GetY();e=Math.min(e,o),t=Math.min(t,i),n=Math.max(n,o),s=Math.max(s,i),r=Math.max(r,a.GetZElevation())}this._minX=e,this._minY=t,this._maxX=n,this._maxY=s,this._maxZ=r,this._bboxChanged=!1}GetMinX(){return this._MaybeComputeBounds(),this._minX}GetMinY(){return this._MaybeComputeBounds(),this._minY}GetMaxX(){return this._MaybeComputeBounds(),this._maxX}GetMaxY(){return this._MaybeComputeBounds(),this._maxY}GetMaxZ(){return this._MaybeComputeBounds(),this._maxZ}HasAnyZElevation(){return this.GetMaxZ()>0}GetMeshPointAt(e,t){return e=Math.floor(e),t=Math.floor(t),e<0||e>=this._hsize||t<0||t>=this._vsize?null:this._pts[t][e]}CalculateTransformedMesh(e,t,n){const s=n instanceof Qd.Rect;if(e.GetHSize()!==this.GetHSize()||e.GetVSize()!==this.GetVSize())throw new Error("source mesh wrong size");const r=e._pts,o=this._pts;for(let e=0,a=o.length;e<a;++e){const a=r[e],i=o[e];for(let e=0,r=i.length;e<r;++e){const r=a[e],o=i[e];s?o._Interpolate_TexRect(r,t,n):o._Interpolate_TexQuad(r,t,n)}}this._dataArrsChanged=!0}_MaybeUpdateDataArrays(e){if(!this._dataArrsChanged&&this._lastZOffset===e)return;const t=this._hsize,n=this._vsize,s=this._meshChunks,r=Math.floor(65535/t)-1;if(r<=0)throw new Error("mesh too large");const o=Math.ceil((n-1)/r);o<s.length&&(s.length=o);let a=0;for(let i=0;i<o;++i){const o=Math.min(r,n-a-1),l=(o+1)*t,d=3*l,c=2*l,u=(t-1)*o*6;if(i===s.length)s.push({posArr:new Float32Array(d),uvArr:new Float32Array(c),indexArr:new Uint16Array(u)});else{const e=s[i];e.posArr.length!==d&&(e.posArr=new Float32Array(d)),e.uvArr.length!==c&&(e.uvArr=new Float32Array(c)),e.indexArr.length!==u&&(e.indexArr=new Uint16Array(u))}const{posArr:h,uvArr:_,indexArr:G}=s[i];this._WriteChunkDataArrays(a,o,e,h,_,G),a+=r}this._lastZOffset=e,this._dataArrsChanged=!1}_WriteChunkDataArrays(e,t,n,s,r,o){const a=this._pts,i=this._hsize;let l=0,d=0,c=0;for(let u=e,h=e+t+1;u<h;++u){const t=a[u],_=u+1,G=u-e,p=G*i,m=(G+1)*i;for(let e=0,a=t.length;e<a;++e){const i=t[e],u=e+1;if(s[l++]=i.GetX(),s[l++]=i.GetY(),s[l++]=i.GetZElevation()+n,r[d++]=i.GetU(),r[d++]=i.GetV(),u<a&&_<h){const t=e+p,n=u+p,s=u+m,r=e+m;o[c++]=t,o[c++]=n,o[c++]=s,o[c++]=t,o[c++]=s,o[c++]=r}}}}Draw(e,t){this._MaybeUpdateDataArrays(t);for(const{posArr:t,uvArr:n,indexArr:s}of this._meshChunks)e.DrawMesh(t,n,s)}Outline(e,t){t||(t=(e,t,n)=>[e,t,n]);const n=this._pts;let s=n[0];for(let r=1,o=n.length;r<o;++r){const a=n[r];let i=s[0],l=a[0];for(let n=1,d=a.length;n<d;++n){const c=s[n],u=a[n],[h,_,G]=t(i.GetX(),i.GetY(),i.GetZElevation()),[p,m,g]=t(c.GetX(),c.GetY(),c.GetZElevation()),[f,N,b]=t(u.GetX(),u.GetY(),u.GetZElevation()),[S,x,I]=t(l.GetX(),l.GetY(),l.GetZElevation());e.Line3D(h,_,G,p,m,g),e.Line3D(h,_,G,f,N,b),e.Line3D(h,_,G,S,x,I),n===d-1&&e.Line3D(p,m,g,f,N,b),r===o-1&&e.Line3D(S,x,I,f,N,b),i=c,l=u}s=a}}InsertPolyMeshVertices(e){const t=.001,n=.99999999,s=e.pointsArr(),r=[],o=this.GetHSize()-1,a=this.GetVSize()-1,i=1/o,l=1/a,d=o-1,c=a-1;let u=s[0],h=s[1],_=Qd.clamp(Math.floor(u*o),0,d),G=Qd.clamp(Math.floor(h*a),0,c),p=!0,m=0,g=0,f=0,N=-1;const b=()=>{u=Qd.clamp(Qd.lerp(u,m,f),0,1),h=Qd.clamp(Qd.lerp(h,g,f),0,1),r.push(u,h)};for(let e=0,S=s.length;e<S;e+=2){u=s[e],h=s[e+1],r.push(u,h),_=Qd.clamp(Math.floor(u*o),0,d),G=Qd.clamp(Math.floor(h*a),0,c);const x=(e+2)%S;for(m=s[x],g=s[x+1],N=-1;;){if(r.length>1e6)throw new Error("Too many mesh poly points");const e=_*i,s=G*l,o=(_+1)*i,a=(G+1)*l;if(p=Qd.isPointInTriangleInclusive(u,h,e,s,o,s,o,a),0!==N&&(f=Qd.rayIntersectExtended(u,h,m,g,e,s,o,a,-.001),f>=0&&f<=n))b(),p=!p,N=0;else if(G>0&&2!==N&&(f=Qd.rayIntersectExtended(u,h,m,g,e,s,o,s,t),f>=0&&f<=n))b(),G--,p=!1,N=4;else if(_<d&&3!==N&&(f=Qd.rayIntersectExtended(u,h,m,g,o,s,o,a,t),f>=0&&f<=n))b(),_++,p=!1,N=1;else if(_>0&&1!==N&&(f=Qd.rayIntersectExtended(u,h,m,g,e,s,e,a,t),f>=0&&f<=n))b(),_--,p=!0,N=3;else{if(!(G<c&&4!==N&&(f=Qd.rayIntersectExtended(u,h,m,g,e,a,o,a,t),f>=0&&f<=n)))break;b(),G++,p=!0,N=2}}}return Qd.New(Qd.CollisionPoly,r)}TransformCollisionPoly(e,t){const n=this._TransformPolyPoints(e);this._SimplifyPoly(n),t.setPoints(n)}_TransformPolyPoints(e){const t=[],n=e.pointsArr();for(let e=0,s=n.length;e<s;e+=2){const s=n[e],r=n[e+1],[o,a]=this.TransformPoint(s,r);t.push(o,a)}return t}TransformPoint(e,t){const n=this.GetHSize()-1,s=this.GetVSize()-1,r=1/n,o=1/s,a=Qd.clamp(Math.floor(e*n),0,n-1),i=Qd.clamp(Math.floor(t*s),0,s-1),l=a*r,d=i*o,c=(a+1)*r,u=(i+1)*o,h=this.GetMeshPointAt(a,i),_=this.GetMeshPointAt(a+1,i+1),G=Qd.isPointInTriangleInclusive(e,t,l,d,c,d,c,u),p=G?l+r:l,m=G?d:d+o,g=this.GetMeshPointAt(a+(G?1:0),i+(G?0:1)),[f,N,b]=Qd.triangleCartesianToBarycentric(e,t,l,d,p,m,c,u);return Qd.triangleBarycentricToCartesian3d(f,N,b,h.GetX(),h.GetY(),h.GetZElevation(),g.GetX(),g.GetY(),g.GetZElevation(),_.GetX(),_.GetY(),_.GetZElevation())}_SimplifyPoly(e){const t=[],n=1e-7;let s=e[0],r=e[1],o=s-e.at(-2),a=r-e.at(-1);for(let i=0,l=e.length;i<l;i+=2){const d=(i+2)%l,c=e[d],u=e[d+1],h=c-s,_=u-r,G=Math.abs(h)<n&&Math.abs(o)<n&&Math.sign(_)===Math.sign(a),p=Math.abs(_)<n&&Math.abs(a)<n&&Math.sign(h)===Math.sign(o);(!G&&!p&&Math.abs(h/o-_/a)>.001||0==h&&0===_)&&t.push(s,r),s=c,r=u,o=h,a=_}t.length>=6&&t.length<e.length&&Qd.shallowAssignArray(e,t)}SaveToJson(){return{cols:this.GetHSize(),rows:this.GetVSize(),points:this._pts.map(e=>e.map(e=>e.SaveToJson()))}}LoadFromJson(e){const t=this.GetHSize(),n=this.GetVSize();if(e.cols!==t||e.rows!==n)throw new Error("mesh data wrong size");const s=e.points;for(let e=0;e<n;++e){const n=s[e];for(let s=0;s<t;++s)this.GetMeshPointAt(s,e).LoadFromJson(n[s])}}}}{let nc=function(e,t){let n,s,r,o;switch(e){case"rgba8":n=t.RGBA8,s=t.RGBA,r=t.RGBA,o=t.UNSIGNED_BYTE;break;case"rgb8":n=t.RGB8,s=t.RGB,r=t.RGB,o=t.UNSIGNED_BYTE;break;case"rgba4":n=t.RGBA4,s=t.RGBA,r=t.RGBA,o=t.UNSIGNED_SHORT_4_4_4_4;break;case"rgb5_a1":n=t.RGB5_A1,s=t.RGBA,r=t.RGBA,o=t.UNSIGNED_SHORT_5_5_5_1;break;case"rgb565":n=t.RGB565,s=t.RGB,r=t.RGB,o=t.UNSIGNED_SHORT_5_6_5;break;default:throw new Error("invalid pixel format")}return{sizedinternalformat:n,internalformat:s,format:r,type:o}};GetFormatSpecifiers=nc;const sc=self.C3,rc=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),oc=new Set(["nearest","bilinear","trilinear"]),ac=new Set(["default","low","high"]),ic=new Set(["clamp-to-edge","repeat","mirror-repeat"]),lc={wrapX:"clamp-to-edge",wrapY:"clamp-to-edge",sampling:"trilinear",anisotropy:0,pixelFormat:"rgba8",mipMap:!0,mipMapQuality:"default",premultiplyAlpha:!0,isSvg:!1,width:-1,height:-1},dc={premultiplyAlpha:!0,flipY:!1},cc=new Set;sc.Gfx.WebGLRendererTexture=class{constructor(e){this._renderer=e,this._texture=null,this._width=0,this._height=0,this._isStatic=!0,this._wrapX="clamp-to-edge",this._wrapY="clamp-to-edge",this._sampling="trilinear",this._anisotropy=0,this._pixelFormat="rgba8",this._isMipMapped=!1,this._mipMapQuality="default",this._refCount=0}_CreateStatic(e,t){if(!("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||e instanceof ImageData||e instanceof ArrayBuffer))throw new Error("invalid texture source");if(t=Object.assign({},lc,t),this._texture)throw new Error("already created texture");if(this._wrapX=t.wrapX,this._wrapY=t.wrapY,this._sampling=t.sampling,this._anisotropy=t.anisotropy,this._pixelFormat=t.pixelFormat,this._isMipMapped=!!t.mipMap&&this._renderer.AreMipmapsEnabled(),this._mipMapQuality=t.mipMapQuality,!ic.has(this._wrapX)||!ic.has(this._wrapY))throw new Error("invalid wrap mode");if(!oc.has(this._sampling))throw new Error("invalid sampling");if(!rc.has(this._pixelFormat))throw new Error("invalid pixel format");if(!ac.has(this._mipMapQuality))throw new Error("invalid mipmap quality");if(this._isStatic=!0,e instanceof ArrayBuffer||null===e||t.isSvg){if(this._width=t.width,this._height=t.height,e instanceof ArrayBuffer&&e.byteLength!==this._width*this._height*4)throw new Error("ArrayBuffer wrong size")}else this._width=e.width,this._height=e.height;if(this._width<=0||this._height<=0)throw new Error("invalid texture data size");if(t.isSvg){const t=sc.CreateCanvas(this._width,this._height);t.getContext("2d").drawImage(e,0,0,this._width,this._height),e=t}const n=sc.isPOT(this._width)&&sc.isPOT(this._height),s=this._renderer.GetMaxTextureSize();if(this._width>s||this._height>s)throw new Error("texture data exceeds maximum texture size");const r=this._renderer.GetContext(),o=this._renderer.GetWebGLVersionNumber();this._texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this._texture),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);const a=nc(this._pixelFormat,r);if(this._renderer.SupportsNPOTTextures()||n||!this._IsTiled())if(o>=2){let t;t=this._isMipMapped?Math.floor(Math.log2(Math.max(this._width,this._height))+1):1,r.texStorage2D(r.TEXTURE_2D,t,a.sizedinternalformat,this._width,this._height),e instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this._width,this._height,a.format,a.type,new Uint8Array(e)):null!==e&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,a.format,a.type,e)}else e instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,a.internalformat,this._width,this._height,0,a.format,a.type,new Uint8Array(e)):null===e?r.texImage2D(r.TEXTURE_2D,0,a.internalformat,this._width,this._height,0,a.format,a.type,null):r.texImage2D(r.TEXTURE_2D,0,a.internalformat,a.format,a.type,e);else{if(null===e)throw new Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");if(e instanceof ArrayBuffer&&(e=new ImageData(new Uint8ClampedArray(e),this._width,this._height)),e instanceof ImageData){const t=sc.CreateCanvas(this._width,this._height);t.getContext("2d").putImageData(e,0,0),e=t}const t=sc.CreateCanvas(sc.nextHighestPowerOfTwo(this._width),sc.nextHighestPowerOfTwo(this._height)),n=t.getContext("2d");n.imageSmoothingEnabled="nearest"!==this._sampling,n.drawImage(e,0,0,this._width,this._height,0,0,t.width,t.height),r.texImage2D(r.TEXTURE_2D,0,a.internalformat,a.format,a.type,t)}null!==e&&this._SetTextureParameters(r),r.bindTexture(r.TEXTURE_2D,null),this._renderer._ResetLastTexture(),this._refCount=1,cc.add(this)}_CreateDynamic(e,t,n){if(n=Object.assign({},lc,n),this._texture)throw new Error("already created texture");if(this._wrapX=n.wrapX,this._wrapY=n.wrapY,this._sampling=n.sampling,this._pixelFormat=n.pixelFormat,this._isMipMapped=!!n.mipMap&&this._renderer.AreMipmapsEnabled(),this._mipMapQuality=n.mipMapQuality,!ic.has(this._wrapX)||!ic.has(this._wrapY))throw new Error("invalid wrap mode");if(!oc.has(this._sampling))throw new Error("invalid sampling");if(!rc.has(this._pixelFormat))throw new Error("invalid pixel format");if(!ac.has(this._mipMapQuality))throw new Error("invalid mipmap quality");this._isStatic=!1,this._width=Math.floor(e),this._height=Math.floor(t);const s=sc.isPOT(this._width)&&sc.isPOT(this._height),r=this._renderer.GetMaxTextureSize();if(this._width<=0||this._height<=0)throw new Error("invalid texture size");if(this._width>r||this._height>r)throw new Error("texture exceeds maximum texture size");if(!this._renderer.SupportsNPOTTextures()&&this._IsTiled()&&!s)throw new Error("non-power-of-two tiled textures not supported");const o=this._renderer.GetContext(),a=this._renderer.GetWebGLVersionNumber();this._texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,this._texture),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1);const i=nc(this._pixelFormat,o),l=a>=2?i.sizedinternalformat:i.internalformat;o.texImage2D(o.TEXTURE_2D,0,l,this._width,this._height,0,i.format,i.type,null),this._SetTextureParameters(o),o.bindTexture(o.TEXTURE_2D,null),this._renderer._ResetLastTexture(),this._refCount=1,cc.add(this)}_GetMipMapHint(e){if("default"===this._mipMapQuality)return this._isStatic?e.NICEST:e.FASTEST;if("low"===this._mipMapQuality)return e.FASTEST;if("high"===this._mipMapQuality)return e.NICEST;throw new Error("invalid mipmap quality")}_IsTiled(){return"clamp-to-edge"!==this._wrapX||"clamp-to-edge"!==this._wrapY}_GetTextureWrapMode(e,t){if("clamp-to-edge"===t)return e.CLAMP_TO_EDGE;if("repeat"===t)return e.REPEAT;if("mirror-repeat"===t)return e.MIRRORED_REPEAT;throw new Error("invalid wrap mode")}_SetTextureParameters(e){const t=sc.isPOT(this._width)&&sc.isPOT(this._height);if(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this._GetTextureWrapMode(e,this._wrapX)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this._GetTextureWrapMode(e,this._wrapY)),"nearest"===this._sampling)e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),this._isMipMapped=!1;else if(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),(t||this._renderer.SupportsNPOTTextures())&&this._isMipMapped){e.hint(e.GENERATE_MIPMAP_HINT,this._GetMipMapHint(e)),e.generateMipmap(e.TEXTURE_2D);const t="trilinear"===this._sampling&&!this._renderer.HasMajorPerformanceCaveat();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.LINEAR_MIPMAP_NEAREST)}else e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),this._isMipMapped=!1;const n=this._renderer._GetAnisotropicExtension();n&&this._anisotropy>0&&"nearest"!==this._sampling&&e.texParameterf(e.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this._anisotropy,this._renderer._GetMaxAnisotropy()))}_Update(e,t){if(!("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||e instanceof ImageData))throw new Error("invalid texture source");if(!this._texture||this._refCount<=0)throw new Error("texture not created");if(this._isStatic)throw new Error("cannot update static texture");t=Object.assign({},dc,t);const n=e.width||e.videoWidth,s=e.height||e.videoHeight,r=this._renderer.GetWebGLVersionNumber(),o=this._renderer.GetContext();o.bindTexture(o.TEXTURE_2D,this._texture),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!!t.flipY);const a=nc(this._pixelFormat,o),i=r>=2?a.sizedinternalformat:a.internalformat;try{if(this._width===n&&this._height===s){const t=sc.isPOT(this._width)&&sc.isPOT(this._height);o.texSubImage2D(o.TEXTURE_2D,0,0,0,a.format,a.type,e),(t||this._renderer.SupportsNPOTTextures())&&this._isMipMapped&&(o.hint(o.GENERATE_MIPMAP_HINT,this._GetMipMapHint(o)),o.generateMipmap(o.TEXTURE_2D))}else{this._width=n,this._height=s;const t=sc.isPOT(this._width)&&sc.isPOT(this._height);if(!this._renderer.SupportsNPOTTextures()&&this._IsTiled()&&!t)throw new Error("non-power-of-two tiled textures not supported");o.texImage2D(o.TEXTURE_2D,0,i,a.format,a.type,e),(t||this._renderer.SupportsNPOTTextures())&&this._isMipMapped&&(o.hint(o.GENERATE_MIPMAP_HINT,this._GetMipMapHint(o)),o.generateMipmap(o.TEXTURE_2D))}}catch(e){console.error("Error updating WebGL texture: ",e)}o.bindTexture(o.TEXTURE_2D,null),this._renderer._ResetLastTexture()}_Delete(){if(this._refCount>0)throw new Error("texture still has references");if(!this._texture)throw new Error("already deleted texture");cc.delete(this),this._renderer.GetContext().deleteTexture(this._texture),this._texture=null}IsValid(){return!!this._texture}_GetTexture(){return this._texture}GetRenderer(){return this._renderer}AddReference(){this._refCount++}SubtractReference(){if(this._refCount<=0)throw new Error("no more references");this._refCount--}GetReferenceCount(){return this._refCount}GetWidth(){return this._width}GetHeight(){return this._height}IsStatic(){return this._isStatic}GetEstimatedMemoryUsage(){let e=this._width*this._height;switch(this._pixelFormat){case"rgba8":e*=4;break;case"rgb8":e*=3;break;case"rgba4":case"rgb5_a1":case"rgb565":e*=2}return this._isMipMapped&&(e+=Math.floor(e/3)),e}static OnContextLost(){cc.clear()}static allTextures(){return cc.values()}}}{const uc=self.C3,hc=self.assert,_c=self.glMatrix,Gc=_c.vec3,pc=_c.mat4,mc=new Set(["nearest","bilinear","trilinear"]),gc={sampling:"trilinear",alpha:!0,depth:!1,isSampled:!0,isDefaultSize:!0,multisampling:0},fc=new Set;uc.Gfx.WebGLRenderTarget=class{constructor(e){this._renderer=e,this._frameBuffer=null,this._frameBufferNoDepth=null,this._texture=null,this._renderBuffer=null,this._width=0,this._height=0,this._isDefaultSize=!0,this._sampling="trilinear",this._alpha=!0,this._depth=!1,this._isSampled=!0,this._multisampling=0,this._projectionMatrix=pc.create(),this._lastFov=0,this._lastNearZ=0,this._lastFarZ=0}_Create(e,t,n){n=Object.assign({},gc,n);const s=this._renderer.GetWebGLVersionNumber();if(this._texture||this._renderBuffer)throw new Error("already created render target");if(this._sampling=n.sampling,this._alpha=!!n.alpha,this._depth=!!n.depth,this._isSampled=!!n.isSampled,this._isDefaultSize=!!n.isDefaultSize,this._multisampling=n.multisampling,!mc.has(this._sampling))throw new Error("invalid sampling");if(this._multisampling>0&&(s<2||this._isSampled))throw new Error("invalid use of multisampling");if(s<2&&(this._isSampled=!0),this._width=e,this._height=t,this._width<=0||this._height<=0)throw new Error("invalid render target size");this._CalculateProjection();const r=this._renderer.GetContext();if(this._frameBuffer=r.createFramebuffer(),this._depth&&(this._frameBufferNoDepth=r.createFramebuffer()),this._isSampled){this._texture=this._renderer.CreateDynamicTexture(this._width,this._height,{sampling:this._sampling,pixelFormat:this._alpha?"rgba8":"rgb8",mipMap:!1});const e=this._texture._GetTexture();r.bindFramebuffer(r.FRAMEBUFFER,this._frameBuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this._depth&&(r.bindFramebuffer(r.FRAMEBUFFER,this._frameBufferNoDepth),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0))}else{this._renderBuffer=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,this._renderBuffer);const e=this._alpha?r.RGBA8:r.RGB8;if(this._multisampling>0){const t=r.getInternalformatParameter(r.RENDERBUFFER,e,r.SAMPLES);if(t&&t[0]){const e=t[0];this._multisampling>e&&(this._multisampling=e)}else this._multisampling=0}0===this._multisampling?r.renderbufferStorage(r.RENDERBUFFER,e,this._width,this._height):r.renderbufferStorageMultisample(r.RENDERBUFFER,this._multisampling,e,this._width,this._height),r.bindFramebuffer(r.FRAMEBUFFER,this._frameBuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,this._renderBuffer),this._depth&&(r.bindFramebuffer(r.FRAMEBUFFER,this._frameBufferNoDepth),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,this._renderBuffer)),r.bindRenderbuffer(r.RENDERBUFFER,null)}const o=this._renderer._GetDepthBuffer();this._depth&&o&&(r.bindFramebuffer(r.FRAMEBUFFER,this._frameBuffer),this._renderer._CanSampleDepth()?r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,o,0):r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,o)),r.bindFramebuffer(r.FRAMEBUFFER,null),fc.add(this)}_Resize(e,t){if(this._width===e&&this._height===t)return;this._width=e,this._height=t,this._CalculateProjection();const n=this._renderer.GetContext();n.bindFramebuffer(n.FRAMEBUFFER,this._frameBuffer),this._texture?this._texture._Update(new ImageData(this._width,this._height)):(n.bindRenderbuffer(n.RENDERBUFFER,this._renderBuffer),n.renderbufferStorage(n.RENDERBUFFER,this._alpha?n.RGBA8:n.RGB8,this._width,this._height),n.bindRenderbuffer(n.RENDERBUFFER,null));const s=this._renderer._GetDepthBuffer();this._depth&&s&&(this._renderer._CanSampleDepth()?n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,s,0):n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,s)),n.bindFramebuffer(n.FRAMEBUFFER,null)}_Delete(){if(!this._texture&&!this._renderBuffer)throw new Error("already deleted render target");fc.delete(this);const e=this._renderer.GetContext();this._texture?(e.bindFramebuffer(e.FRAMEBUFFER,this._frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0),this._depth&&(e.bindFramebuffer(e.FRAMEBUFFER,this._frameBufferNoDepth),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)),this._renderer.DeleteTexture(this._texture),this._texture=null):this._renderBuffer&&(e.bindFramebuffer(e.FRAMEBUFFER,this._frameBuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,null),this._depth&&(e.bindFramebuffer(e.FRAMEBUFFER,this._frameBufferNoDepth),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,null)),e.deleteRenderbuffer(this._renderBuffer),this._renderBuffer=null),e.bindFramebuffer(e.FRAMEBUFFER,null),this._renderer.GetWebGLVersionNumber()>=2&&(e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null)),e.deleteFramebuffer(this._frameBuffer),this._depth&&e.deleteFramebuffer(this._frameBufferNoDepth);const t=this._renderer.GetBatchState();t.currentFramebuffer=null,t.currentFramebufferNoDepth=null,this._frameBuffer=null}_CalculateProjection(){this._renderer.CalculatePerspectiveMatrix(this._projectionMatrix,this._width/this._height),this._lastFov=this._renderer.GetFovY(),this._lastNearZ=this._renderer.GetNearZ(),this._lastFarZ=this._renderer.GetFarZ()}_GetFramebuffer(){return this._frameBuffer}_GetFramebufferNoDepth(){return this._frameBufferNoDepth}GetRenderer(){return this._renderer}GetTexture(){return this._texture}GetProjectionMatrix(){return this._renderer.GetFovY()===this._lastFov&&this._renderer.GetNearZ()===this._lastNearZ&&this._renderer.GetFarZ()===this._lastFarZ||this._CalculateProjection(),this._projectionMatrix}IsLinearSampling(){return"nearest"!==this._sampling}HasAlpha(){return this._alpha}IsSampled(){return this._isSampled}HasDepthBuffer(){return this._depth}GetWidth(){return this._width}GetHeight(){return this._height}IsDefaultSize(){return this._isDefaultSize}GetMultisampling(){return this._multisampling}GetOptions(){const e={sampling:this._sampling,alpha:this._alpha,isSampled:this._isSampled};return this._isDefaultSize||(e.width=this._width,e.height=this._height),e}IsCompatibleWithOptions(e){return"nearest"!==(e=Object.assign({},gc,e)).sampling===this.IsLinearSampling()&&!!e.alpha===this.HasAlpha()&&!!e.depth===this.HasDepthBuffer()&&!(this._renderer.GetWebGLVersionNumber()>=2&&!!e.isSampled!==this.IsSampled())&&("number"==typeof e.width||"number"==typeof e.height?!this.IsDefaultSize()&&this.GetWidth()===Math.floor(e.width)&&this.GetHeight()===Math.floor(e.height):this.IsDefaultSize())}_GetWebGLTexture(){return this._texture?this._texture._GetTexture():null}GetEstimatedMemoryUsage(){return this._texture?this._texture.GetEstimatedMemoryUsage():this._width*this._height*(this._alpha?4:3)}static async DebugReadPixelsToBlob(e,t){const n=await e.ReadBackRenderTargetToImageData(t,!0);return await uc.ImageDataToBlob(n)}static OnContextLost(){fc.clear()}static allRenderTargets(){return fc.values()}static ResizeAll(e,t){for(const n of fc)n.IsDefaultSize()&&n._Resize(e,t)}}}{const Nc=self.C3,bc=self.glMatrix,Sc=bc.vec3,xc=bc.mat4,Ic=new Set(["aPos","aTex","aColor","aPoints","matP","matMV","samplerFront","samplerBack","samplerDepth","destStart","destEnd","srcStart","srcEnd","srcOriginStart","srcOriginEnd","pixelSize","seconds","devicePixelRatio","layerScale","layerAngle","layoutStart","layoutEnd","color","color2_","pointTexStart","pointTexEnd","zElevation","tileSize","tileSpacing","outlineThickness","zNear","zFar"]);Nc.Gfx.WebGLShaderProgram=class extends Nc.Gfx.ShaderProgramBase{static async Compile(e,t){const n=e.GetContext(),s=t.src,r=t.vertexSrc,o=t.name,a=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(a,s),n.compileShader(a);const i=n.createShader(n.VERTEX_SHADER);n.shaderSource(i,r),n.compileShader(i);const l=n.createProgram();n.attachShader(l,a),n.attachShader(l,i),n.bindAttribLocation(l,0,"aPos"),n.bindAttribLocation(l,1,"aTex"),n.bindAttribLocation(l,2,"aColor"),n.bindAttribLocation(l,3,"aPoints"),n.linkProgram(l);const d=e._GetParallelShaderCompileExtension();if(d?await e._WaitForObjectReady(()=>n.getProgramParameter(l,d.COMPLETION_STATUS_KHR)):await Nc.Wait(5),!n.getShaderParameter(a,n.COMPILE_STATUS)){const e=n.getShaderInfoLog(a);throw n.deleteShader(a),n.deleteShader(i),n.deleteProgram(l),new Error("Error compiling fragment shader: "+e)}if(!n.getShaderParameter(i,n.COMPILE_STATUS)){const e=n.getShaderInfoLog(i);throw n.deleteShader(a),n.deleteShader(i),n.deleteProgram(l),new Error("Error compiling vertex shader: "+e)}if(!n.getProgramParameter(l,n.LINK_STATUS)){const e=n.getProgramInfoLog(l);throw n.deleteShader(a),n.deleteShader(i),n.deleteProgram(l),new Error("Error linking shader program: "+e)}const c=Nc.FilterUnprintableChars(n.getProgramInfoLog(l)||"").trim();return c&&!Nc.IsStringAllWhitespace(c)&&console.info(`[WebGL] Shader program '${o}' compilation log: `,c),n.deleteShader(a),n.deleteShader(i),l}static async Create(e,t){const n=await Nc.Gfx.WebGLShaderProgram.Compile(e,t);return new Nc.Gfx.WebGLShaderProgram(e,n,t)}constructor(e,t,n){super(e,n);const s=e.GetContext(),r=e.GetBatchState();e.EndBatch(),s.useProgram(t),this._gl=s,this._shaderProgram=t,this._isDeviceTransform="<default-device-transform>"===n.name;const o=s.getAttribLocation(t,"aPos"),a=s.getAttribLocation(t,"aTex"),i=s.getAttribLocation(t,"aColor");this._locAPoints=s.getAttribLocation(t,"aPoints"),-1!==o&&(s.bindBuffer(s.ARRAY_BUFFER,e._vertexBuffer),s.vertexAttribPointer(o,3,s.FLOAT,!1,0,0),s.enableVertexAttribArray(o)),-1!==a&&(s.bindBuffer(s.ARRAY_BUFFER,e._texcoordBuffer),s.vertexAttribPointer(a,2,s.FLOAT,!1,0,0),s.enableVertexAttribArray(a)),-1!==i&&(s.bindBuffer(s.ARRAY_BUFFER,e._colorBuffer),s.vertexAttribPointer(i,4,e.IsColorDataF16()?s.HALF_FLOAT:s.FLOAT,!1,0,0),s.enableVertexAttribArray(i)),-1!==this._locAPoints&&(s.bindBuffer(s.ARRAY_BUFFER,e._pointBuffer),s.vertexAttribPointer(this._locAPoints,4,s.FLOAT,!1,0,0),s.enableVertexAttribArray(this._locAPoints)),s.bindBuffer(s.ARRAY_BUFFER,null),this._uMatP=new Nc.Gfx.WebGLShaderUniform(this,"matP","mat4"),this._uMatMV=new Nc.Gfx.WebGLShaderUniform(this,"matMV","mat4"),this._uColor=new Nc.Gfx.WebGLShaderUniform(this,"color","vec4"),this._uSamplerFront=new Nc.Gfx.WebGLShaderUniform(this,"samplerFront","sampler"),this._uPointTexStart=new Nc.Gfx.WebGLShaderUniform(this,"pointTexStart","vec2"),this._uPointTexEnd=new Nc.Gfx.WebGLShaderUniform(this,"pointTexEnd","vec2"),this._uZElevation=new Nc.Gfx.WebGLShaderUniform(this,"zElevation","float"),this._uTileSize=new Nc.Gfx.WebGLShaderUniform(this,"tileSize","vec2"),this._uTileSpacing=new Nc.Gfx.WebGLShaderUniform(this,"tileSpacing","vec2"),this._uColor2=new Nc.Gfx.WebGLShaderUniform(this,"color2_","vec4"),this._uOutlineThickness=new Nc.Gfx.WebGLShaderUniform(this,"outlineThickness","float"),this._uSamplerBack=new Nc.Gfx.WebGLShaderUniform(this,"samplerBack","sampler"),this._uSamplerDepth=new Nc.Gfx.WebGLShaderUniform(this,"samplerDepth","sampler"),this._uDestStart=new Nc.Gfx.WebGLShaderUniform(this,"destStart","vec2"),this._uDestEnd=new Nc.Gfx.WebGLShaderUniform(this,"destEnd","vec2"),this._uSrcStart=new Nc.Gfx.WebGLShaderUniform(this,"srcStart","vec2"),this._uSrcEnd=new Nc.Gfx.WebGLShaderUniform(this,"srcEnd","vec2"),this._uSrcOriginStart=new Nc.Gfx.WebGLShaderUniform(this,"srcOriginStart","vec2"),this._uSrcOriginEnd=new Nc.Gfx.WebGLShaderUniform(this,"srcOriginEnd","vec2"),this._uPixelSize=new Nc.Gfx.WebGLShaderUniform(this,"pixelSize","vec2"),this._uSeconds=new Nc.Gfx.WebGLShaderUniform(this,"seconds","float"),this._uDevicePixelRatio=new Nc.Gfx.WebGLShaderUniform(this,"devicePixelRatio","float"),this._uLayerScale=new Nc.Gfx.WebGLShaderUniform(this,"layerScale","float"),this._uLayerAngle=new Nc.Gfx.WebGLShaderUniform(this,"layerAngle","float"),this._uLayoutStart=new Nc.Gfx.WebGLShaderUniform(this,"layoutStart","vec2"),this._uLayoutEnd=new Nc.Gfx.WebGLShaderUniform(this,"layoutEnd","vec2"),this._uZNear=new Nc.Gfx.WebGLShaderUniform(this,"zNear","float"),this._uZFar=new Nc.Gfx.WebGLShaderUniform(this,"zFar","float"),this._hasAnyOptionalUniforms=!!(this._uPixelSize.IsUsed()||this._uSeconds.IsUsed()||this._uSamplerBack.IsUsed()||this._uDestStart.IsUsed()||this._uDestEnd.IsUsed()||this._uSrcStart.IsUsed()||this._uSrcEnd.IsUsed()||this._uSrcOriginStart.IsUsed()||this._uSrcOriginEnd.IsUsed()||this._uDevicePixelRatio.IsUsed()||this._uLayerScale.IsUsed()||this._uLayerAngle.IsUsed()||this._uLayoutStart.IsUsed()||this._uLayoutEnd.IsUsed());const l=n.parameters||[];this._uCustomParameters=[],this._usesAnySrcRectOrPixelSize=this._uPixelSize.IsUsed()||this._uSrcStart.IsUsed()||this._uSrcEnd.IsUsed()||this._uSrcOriginStart.IsUsed()||this._uSrcOriginEnd.IsUsed(),this._hasCurrentMatP=!1,this._hasCurrentMatMV=!1,this._uColor.Init4f(1,1,1,1),this._uColor2.Init4f(1,1,1,1),this._uSamplerFront.Init1i(0),this._uSamplerBack.Init1i(1),this._uSamplerDepth.Init1i(2),this._uPointTexStart.Init2f(0,0),this._uPointTexEnd.Init2f(1,1),this._uZElevation.Init1f(0),this._uTileSize.Init2f(0,0),this._uTileSpacing.Init2f(0,0),this._uDestStart.Init2f(0,0),this._uDestEnd.Init2f(1,1),this._uSrcStart.Init2f(0,0),this._uSrcEnd.Init2f(0,0),this._uSrcOriginStart.Init2f(0,0),this._uSrcOriginEnd.Init2f(0,0),this._uPixelSize.Init2f(0,0),this._uDevicePixelRatio.Init1f(1),this._uZNear.Init1f(e.GetNearZ()),this._uZFar.Init1f(e.GetFarZ()),this._uLayerScale.Init1f(1),this._uLayerAngle.Init1f(0),this._uSeconds.Init1f(0),this._uLayoutStart.Init2f(0,0),this._uLayoutEnd.Init2f(0,0),this._uOutlineThickness.Init1f(1);for(const e of l){const t=e[0],n=e[2],s=new Nc.Gfx.WebGLShaderUniform(this,t,n);"color"===n?s.Init3f(0,0,0):s.Init1f(0),this._uCustomParameters.push(s)}this._isDeviceTransform?this._UpdateDeviceTransformUniforms(r.currentMatP):(this.UpdateMatP(r.currentMatP,!0),this.UpdateMatMV(r.currentMV,!0));const d=r.currentShader;s.useProgram(d?d._shaderProgram:null)}Release(){this._gl.deleteProgram(this._shaderProgram),this._shaderProgram=null,this._renderer._RemoveShaderProgram(this),this._gl=null,super.Release()}GetWebGLContext(){return this._gl}GetShaderProgram(){return this._shaderProgram}GetParameterCount(){return this._uCustomParameters.length}GetParameterType(e){return e<0||e>=this._uCustomParameters.length?null:this._uCustomParameters[e].GetType()}AreCustomParametersAlreadySetInBatch(e){for(let t=0,n=e.length;t<n;++t)if(!this._uCustomParameters[t].IsSetToCustomInBatch(e[t]))return!1;return!0}SetCustomParametersInBatch(e){for(let t=0,n=e.length;t<n;++t)this._uCustomParameters[t].SetBatchValueCustom(e[t])}AreOptionalUniformsAlreadySetInBatch(e,t,n,s,r,o,a,i,l,d){return!(this._uSamplerBack.IsUsed()||this._uPixelSize.IsUsed()&&!this._uPixelSize.IsSetTo2InBatch(r,o)||this._uDestStart.IsUsed()&&!this._uDestStart.IsSetTo2InBatch(e.getLeft(),e.getTop())||this._uDestEnd.IsUsed()&&!this._uDestEnd.IsSetTo2InBatch(e.getRight(),e.getBottom())||this._uDevicePixelRatio.IsUsed()&&!this._uDevicePixelRatio.IsSetTo1InBatch(a)||this._uLayerScale.IsUsed()&&!this._uLayerScale.IsSetTo1InBatch(i)||this._uLayerAngle.IsUsed()&&!this._uLayerAngle.IsSetTo1InBatch(l)||this._uSrcStart.IsUsed()&&!this._uSrcStart.IsSetTo2InBatch(t.getLeft(),t.getTop())||this._uSrcEnd.IsUsed()&&!this._uSrcEnd.IsSetTo2InBatch(t.getRight(),t.getBottom())||this._uSrcOriginStart.IsUsed()&&!this._uSrcOriginStart.IsSetTo2InBatch(n.getLeft(),n.getTop())||this._uSrcOriginEnd.IsUsed()&&!this._uSrcOriginEnd.IsSetTo2InBatch(n.getRight(),n.getBottom())||this._uLayoutStart.IsUsed()&&!this._uLayoutStart.IsSetTo2InBatch(s.getLeft(),s.getTop())||this._uLayoutEnd.IsUsed()&&!this._uLayoutEnd.IsSetTo2InBatch(s.getTop(),s.getBottom())||this._uSeconds.IsUsed()&&!this._uSeconds.IsSetTo1InBatch(d))}SetOptionalUniformsInBatch(e,t,n,s,r,o,a,i,l,d){this._uSamplerBack.IsUsed()||(this._uPixelSize.IsUsed()&&this._uPixelSize.SetBatch2(r,o),this._uDestStart.IsUsed()&&this._uDestStart.SetBatch2(e.getLeft(),e.getTop()),this._uDestEnd.IsUsed()&&this._uDestEnd.SetBatch2(e.getRight(),e.getBottom()),this._uDevicePixelRatio.IsUsed()&&this._uDevicePixelRatio.SetBatch1(a),this._uLayerScale.IsUsed()&&this._uLayerScale.SetBatch1(i),this._uLayerAngle.IsUsed()&&this._uLayerAngle.SetBatch1(l),this._uSrcStart.IsUsed()&&this._uSrcStart.SetBatch2(t.getLeft(),t.getTop()),this._uSrcEnd.IsUsed()&&this._uSrcEnd.SetBatch2(t.getRight(),t.getBottom()),this._uSrcOriginStart.IsUsed()&&this._uSrcOriginStart.SetBatch2(n.getLeft(),n.getTop()),this._uSrcOriginEnd.IsUsed()&&this._uSrcOriginEnd.SetBatch2(n.getRight(),n.getBottom()),this._uLayoutStart.IsUsed()&&this._uLayoutStart.SetBatch2(s.getLeft(),s.getTop()),this._uLayoutEnd.IsUsed()&&this._uLayoutEnd.SetBatch2(s.getTop(),s.getBottom()),this._uSeconds.IsUsed()&&this._uSeconds.SetBatch1(d))}UpdateMatP(e,t){this._hasCurrentMatP&&!t||this._isDeviceTransform||(this._uMatP.IsUsed()&&this._uMatP.UpdateMatrix4fv(e),this._hasCurrentMatP=!0)}SetMatPStale(){this._hasCurrentMatP=!1}UpdateMatMV(e,t){this._hasCurrentMatMV&&!t||this._isDeviceTransform||(this._uMatMV.IsUsed()&&this._uMatMV.UpdateMatrix4fv(e),this._hasCurrentMatMV=!0)}SetMatMVStale(){this._hasCurrentMatMV=!1}_UpdateDeviceTransformUniforms(e){if(!this._isDeviceTransform)throw new Error("not device transform shader");this._uMatP.UpdateMatrix4fv(e);const t=this._renderer,n=t.GetWidth()/2,s=t.GetHeight()/2,r=t.CalculateLookAtModelView2(n,s,t.GetDefaultCameraZ(t.GetHeight()),n,s,0,t.GetHeight());this._uMatMV.UpdateMatrix4fv(r)}UpdateColor(e){this._uColor.IsUsed()&&this._uColor.Update4f(e[0],e[1],e[2],e[3])}static GetReservedUniformNames(){return Ic}static _GetConservativeDepthShaderPrefix(e){return e?"\n#extension GL_EXT_conservative_depth : enable\nlayout (depth_greater) out highp float gl_FragDepth;\n\t":""}static GetDefaultVertexShaderSource(e){const t=e?"highp":"mediump";return["attribute highp vec3 aPos;",`attribute ${t} vec2 aTex;`,`varying ${t} vec2 vTex;`,"attribute lowp vec4 aColor;","varying lowp vec4 vColor;","uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPos, 1.0);","\tvTex = aTex;","\tvColor = aColor;","}"].join("\n")}static GetDefaultVertexShaderSource_WebGL2(e){const t=e?"highp":"mediump";return["#version 300 es","in highp vec3 aPos;",`in ${t} vec2 aTex;`,`out ${t} vec2 vTex;`,"in lowp vec4 aColor;","out lowp vec4 vColor;","uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPos, 1.0);","\tvTex = aTex;","\tvColor = aColor;","}"].join("\n")}static GetTextureFillFragmentShaderSource_WebGL1_NoFragDepth(){return["varying mediump vec2 vTex;","varying lowp vec4 vColor;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * vColor;","}"].join("\n")}static GetTextureFillFragmentShaderSource_WebGL1_FragDepthEXT(){return["#extension GL_EXT_frag_depth : enable","varying mediump vec2 vTex;","varying lowp vec4 vColor;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * vColor;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static GetTextureFillFragmentShaderSource_WebGL2(e){return["#version 300 es",Nc.Gfx.WebGLShaderProgram._GetConservativeDepthShaderPrefix(e),"in mediump vec2 vTex;","out lowp vec4 outColor;","in lowp vec4 vColor;","uniform lowp sampler2D samplerFront;","void main(void) {","\toutColor = texture(samplerFront, vTex) * vColor;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static GetTilemapFragmentShaderSource_WebGL1_NoFragDepth(){return["varying highp vec2 vTex;","varying lowp vec4 vColor;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * vColor;","}"].join("\n")}static GetTilemapFragmentShaderSource_WebGL1_FragDepthEXT(){return["#extension GL_EXT_frag_depth : enable","varying highp vec2 vTex;","varying lowp vec4 vColor;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * vColor;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static GetTilemapFragmentShaderSource_WebGL2(e){return["#version 300 es",Nc.Gfx.WebGLShaderProgram._GetConservativeDepthShaderPrefix(e),"in highp vec2 vTex;","out lowp vec4 outColor;","in lowp vec4 vColor;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * vColor;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static GetTileRandomizationFragmentShaderSource(e,t,n,s){let r="";return e>=2?r="#version 300 es\n"+Nc.Gfx.WebGLShaderProgram._GetConservativeDepthShaderPrefix(s):(t&&(r="#extension GL_EXT_frag_depth : enable\n"),n&&(r+="#extension GL_EXT_shader_texture_lod : enable\n",r+="#extension GL_OES_standard_derivatives : enable\n")),r+`\nprecision highp float;\n${e>=2?"in":"varying"} vec2 vTex;\n${e>=2?"out lowp vec4 outColor;":""}\n${e>=2?"in":"varying"} lowp vec4 vColor;\nuniform lowp sampler2D samplerFront;\nuniform vec2 pixelSize;\n\nuniform vec2 tileSize;\nuniform vec2 tileSpacing;\nuniform float outlineThickness;\n\nconst float PI = 3.1415926;\n\nlowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)\n{\n\treturn (a + b + (a - b) * cos(x * PI)) / 2.0;\n}\n\nvec3 randVec3(vec2 seed)\n{\n\treturn vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),\n\t\t\t\tfract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),\n\t\t\t\tfract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));\n}\n\nlowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)\n{\n\tvec2 posRandom = tileSize;\n\tfloat angleRandom = outlineThickness;\n\t\n\tvec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;\n\t\n\tfloat angle = angleRandom * rand.z * PI;\n\tfloat sin_a = sin(angle);\n\tfloat cos_a = cos(angle);\n\tfloat aspect = pixelSize.x / pixelSize.y;\n\n\tvec2 mid = tile + vec2(0.5, 0.5);\n\tvec2 dp = uv - mid;\n\tdp.x /= aspect;\n\tvec2 r = vec2(dp.x * cos_a - dp.y * sin_a,\n\t\t\t\t  dp.y * cos_a + dp.x * sin_a);\n\tr.x *= aspect;\n\n\tvec2 p = mid + r + (posRandom * rand.xy / 2.0);\n\t\n\t${e>=2?"return textureGrad(samplerFront, p, ddx, ddy);":""}\n\t${e<2&&n?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}\n\t${e<2&&!n?"return texture2D(samplerFront, p);":""}\n}\n\nvoid main(void) {\n\t\n\t${e<2?"lowp vec4 outColor;":""}\n\t\n\tfloat blendMarginX = tileSpacing.x;\n\tfloat blendMarginY = tileSpacing.y;\n\t\n\tvec2 tile = floor(vTex);\n\tvec2 tex = fract(vTex);\n\tvec2 ddx = ${e>=2||n?"dFdx(vTex)":"vec2(0.0, 0.0)"};\n\tvec2 ddy = ${e>=2||n?"dFdy(vTex)":"vec2(0.0, 0.0)"};\n\t\n\tvec4 curTile = sampleTile(tile, vTex, ddx, ddy);\n\t\n\tbool inLeftMargin = (tex.x < blendMarginX);\n\tbool inRightMargin = (tex.x > 1.0 - blendMarginX);\n\tbool inTopMargin = (tex.y < blendMarginY);\n\tbool inBottomMargin = (tex.y > 1.0 - blendMarginY);\n\t\n\tif (inLeftMargin)\n\t{\n\t\tlowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);\n\t\tfloat leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;\n\t\tlowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);\n\t\t\n\t\tif (inTopMargin)\n\t\t{\n\t\t\tlowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);\n\t\t\t\n\t\t\toutColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t\t}\n\t\telse if (inBottomMargin)\n\t\t{\n\t\t\tlowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);\n\t\t\t\n\t\t\toutColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t\t}\n\t\telse\n\t\t{\n\t\t\toutColor = leftMixedTile;\n\t\t}\n\t}\n\telse if (inRightMargin)\n\t{\n\t\tlowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);\n\t\tfloat rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);\n\t\tlowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);\n\t\t\n\t\tif (inTopMargin)\n\t\t{\n\t\t\tlowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);\n\t\t\t\n\t\t\toutColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t\t}\n\t\telse if (inBottomMargin)\n\t\t{\n\t\t\tlowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);\n\t\t\t\n\t\t\toutColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t\t}\n\t\telse\n\t\t{\n\t\t\toutColor = rightMixedTile;\n\t\t}\n\t}\n\telse if (inTopMargin)\n\t{\n\t\tlowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);\n\t\toutColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t}\n\telse if (inBottomMargin)\n\t{\n\t\tlowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);\n\t\toutColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t}\n\telse\n\t{\n\t\toutColor = curTile;\n\t}\n\t\n\toutColor *= vColor;\n\t${e<2?"gl_FragColor = outColor;":""}\n\t${e>=2?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}\n\t${e<2&&t?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}\n}\n`}static GetPointVertexShaderSource_WebGL1(){return["attribute vec4 aPoints;","varying float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static GetPointVertexShaderSource_WebGL2(){return["#version 300 es","in vec4 aPoints;","out float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static GetPointFragmentShaderSource_WebGL1_NoFragDepth(){return["uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","}"].join("\n")}static GetPointFragmentShaderSource_WebGL1_FragDepthEXT(){return["#extension GL_EXT_frag_depth : enable","uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static GetPointFragmentShaderSource_WebGL2(e){return["#version 300 es",Nc.Gfx.WebGLShaderProgram._GetConservativeDepthShaderPrefix(e),"uniform lowp sampler2D samplerFront;","in lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","out lowp vec4 outColor;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static GetColorFillFragmentShaderSource(){return["varying lowp vec4 vColor;","void main(void) {","\tgl_FragColor = vColor;","}"].join("\n")}static GetLinearGradientFillFragmentShaderSource(){return["precision lowp float;","varying mediump vec2 vTex;","varying vec4 vColor;","uniform vec4 color2_;","vec3 fromLinear(vec3 linearRGB)","{","\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));","\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);","\tvec3 lower = linearRGB * vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","vec3 toLinear(vec3 sRGB)","{","\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));","\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));","\tvec3 lower = sRGB/vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","void main(void) {","\tvec3 linearGrad = mix(toLinear(vColor.rgb), toLinear(color2_.rgb), vTex.x);","\tfloat a = mix(vColor.a, color2_.a, vTex.x);","\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);","}"].join("\n")}static GetPenumbraFillFragmentShaderSource(){return["precision lowp float;","varying highp vec2 vTex;","varying vec4 vColor;","void main(void) {","\thighp float grad = vTex.x / (1.0 - vTex.y);","\tgl_FragColor = vColor * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);","}"].join("\n")}static GetSmoothLineFillFragmentShaderSource(){return["varying mediump vec2 vTex;","varying lowp vec4 vColor;","void main(void) {","\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;","\tgl_FragColor = vColor * f;","}"].join("\n")}static GetHardEllipseFillFragmentShaderSource(){return["varying highp vec2 vTex;","varying lowp vec4 vColor;","void main(void) {","\thighp vec2 diff = vTex - vec2(0.5, 0.5);","\thighp vec2 diffSq = diff * diff;","\thighp float f = step(diffSq.x + diffSq.y, 0.25);","\tgl_FragColor = vColor * f;","}"].join("\n")}static GetHardEllipseOutlineFragmentShaderSource(){return["varying highp vec2 vTex;","varying lowp vec4 vColor;","uniform highp vec2 pixelSize;","uniform highp float outlineThickness;","void main(void) {","\thighp vec2 diff = vTex - vec2(0.5, 0.5);","\thighp vec2 diffSq = diff * diff;","\thighp float distSq = diffSq.x + diffSq.y;","\thighp vec2 norm = normalize(diff);","\thighp vec2 halfNorm = norm * 0.5;","\thighp float innerF = step(distSq, 0.25);","\thighp vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;","\thighp vec2 innerEdgeSq = innerEdge * innerEdge;","\thighp float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);","\tgl_FragColor = vColor * innerF * outerF;","}"].join("\n")}static GetSmoothEllipseFillFragmentShaderSource(){return["varying highp vec2 vTex;","varying lowp vec4 vColor;","uniform highp vec2 pixelSize;","void main(void) {","\thighp vec2 diff = vTex - vec2(0.5, 0.5);","\thighp vec2 diffSq = diff * diff;","\thighp vec2 norm = normalize(diff);","\thighp vec2 halfNorm = norm * 0.5;","\thighp vec2 halfNormSq = halfNorm * halfNorm;","\thighp vec2 innerEdge = halfNorm - pixelSize * norm;","\thighp vec2 innerEdgeSq = innerEdge * innerEdge;","\thighp float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);","\tgl_FragColor = vColor * f;","}"].join("\n")}static GetSmoothEllipseOutlineFragmentShaderSource(){return["varying highp vec2 vTex;","varying lowp vec4 vColor;","uniform highp vec2 pixelSize;","uniform highp float outlineThickness;","void main(void) {","\thighp vec2 diff = vTex - vec2(0.5, 0.5);","\thighp vec2 diffSq = diff * diff;","\thighp float distSq = diffSq.x + diffSq.y;","\thighp vec2 norm = normalize(diff);","\thighp vec2 halfNorm = norm * 0.5;","\thighp vec2 halfNormSq = halfNorm * halfNorm;","\thighp vec2 pxNorm = pixelSize * norm;","\thighp vec2 innerEdge1 = halfNorm - pxNorm;","\thighp vec2 innerEdge1Sq = innerEdge1 * innerEdge1;","\thighp float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);","\thighp vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;","\thighp vec2 innerEdge2Sq = innerEdge2 * innerEdge2;","\thighp vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);","\thighp vec2 innerEdge3Sq = innerEdge3 * innerEdge3;","\thighp float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);","\tgl_FragColor = vColor * innerF * outerF;","}"].join("\n")}}}{const yc=self.C3,Ec=self.glMatrix,Tc=Ec.mat4,Cc=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);yc.Gfx.WebGLShaderUniform=class{constructor(e,t,n){if(!Cc.has(n))throw new Error("invalid uniform type");this._owner=e,this._gl=this._owner.GetWebGLContext(),this._name=t,this._type=n,this._isColorType="color"===this._type,this._location=this._gl.getUniformLocation(this._owner.GetShaderProgram(),t),this._isUsed=!!this._location;const s=Cc.get(n);this._lastValue=new Float32Array(s),this._lastBatchValue=new Float32Array(s)}Release(){this._owner=null,this._gl=null,this._location=null}IsUsed(){return this._isUsed}GetType(){return this._type}IsColorType(){return this._isColorType}Init1f(e){this.IsUsed()&&(this._lastValue[0]=e,this._lastBatchValue.set(this._lastValue),this._gl.uniform1f(this._location,e))}Init1i(e){this.IsUsed()&&(this._lastValue[0]=e,this._lastBatchValue.set(this._lastValue),this._gl.uniform1i(this._location,e))}Init2f(e,t){this.IsUsed()&&(this._lastValue[0]=e,this._lastValue[1]=t,this._lastBatchValue.set(this._lastValue),this._gl.uniform2f(this._location,e,t))}Init3f(e,t,n){this.IsUsed()&&(this._lastValue[0]=e,this._lastValue[1]=t,this._lastValue[2]=n,this._lastBatchValue.set(this._lastValue),this._gl.uniform3f(this._location,e,t,n))}Init4f(e,t,n,s){this.IsUsed()&&(this._lastValue[0]=e,this._lastValue[1]=t,this._lastValue[2]=n,this._lastValue[3]=s,this._lastBatchValue.set(this._lastValue),this._gl.uniform4f(this._location,e,t,n,s))}Update1f(e){e=Math.fround(e);const t=this._lastValue;t[0]!==e&&(t[0]=e,this._gl.uniform1f(this._location,e))}Update1i(e){const t=this._lastValue;t[0]!==e&&(t[0]=e,this._gl.uniform1i(this._location,e))}Update2f(e,t){e=Math.fround(e),t=Math.fround(t);const n=this._lastValue;n[0]===e&&n[1]===t||(n[0]=e,n[1]=t,this._gl.uniform2f(this._location,e,t))}Update3f(e,t,n){e=Math.fround(e),t=Math.fround(t),n=Math.fround(n);const s=this._lastValue;s[0]===e&&s[1]===t&&s[2]===n||(s[0]=e,s[1]=t,s[2]=n,this._gl.uniform3f(this._location,e,t,n))}Update4f(e,t,n,s){e=Math.fround(e),t=Math.fround(t),n=Math.fround(n),s=Math.fround(s);const r=this._lastValue;r[0]===e&&r[1]===t&&r[2]===n&&r[3]===s||(r[0]=e,r[1]=t,r[2]=n,r[3]=s,this._gl.uniform4f(this._location,e,t,n,s))}UpdateMatrix4fv(e){const t=this._lastValue;Tc.exactEquals(t,e)||(yc.typedArraySet16(t,e,0),this._gl.uniformMatrix4fv(this._location,!1,e))}IsSetToCustomInBatch(e){const t=this._lastBatchValue;return this.IsColorType()?t[0]===Math.fround(e.getR())&&t[1]===Math.fround(e.getG())&&t[2]===Math.fround(e.getB()):t[0]===Math.fround(e)}SetBatchValueCustom(e){const t=this._lastBatchValue;this.IsColorType()?(t[0]=e.getR(),t[1]=e.getG(),t[2]=e.getB()):t[0]=e}IsSetTo1InBatch(e){return this._lastBatchValue[0]===Math.fround(e)}IsSetTo2InBatch(e,t){const n=this._lastBatchValue;return n[0]===Math.fround(e)&&n[1]===Math.fround(t)}SetBatch1(e){this._lastBatchValue[0]=e}SetBatch2(e,t){const n=this._lastBatchValue;n[0]=e,n[1]=t}}}{const Mc=self.C3,Vc=self.glMatrix,Bc=Vc.vec4,Oc=Vc.mat4,vc=0,Pc=1,wc=2,Ac=3,Dc=4,Rc=5,Fc=6,jc=7,kc=8,Lc=9,Wc=10,Uc=11,Hc=12,zc=13,Yc=14,Xc=15,qc=16,Kc=17,Jc=18,$c=19,Zc=20,Qc=21,eu=22,tu=23,nu=24,su=25,ru=26,ou=27,au=28,iu=29,lu=30;Mc.Gfx.BatchState=class{constructor(e){this.renderer=e,this.currentMV=Oc.create(),this.currentMatP=Oc.create(),this.currentFramebuffer=null,this.currentFramebufferNoDepth=null,this.isDepthSamplingEnabled=!1,this.currentShader=null,this.pointTexCoords=new Mc.Rect,this.clearColor=Mc.New(Mc.Color,0,0,0,0)}},Mc.Gfx.WebGLBatchJob=class{constructor(e){const t=new ArrayBuffer(96);this._type=0,this._batchState=e,this._gl=e.renderer.GetContext(),this._startIndex=0,this._indexCount=0,this._texParam=null,this._mat4param=new Float32Array(t,0,16),this._colorParam=new Float32Array(t,64,4),this._srcOriginRect=new Float32Array(t,80,4),this._shaderParams=[]}InitDraw(e,t){this._type=1,this._startIndex=e,this._indexCount=t}DoDraw(){const e=this._gl;e.drawElements(e.TRIANGLES,this._indexCount,e.UNSIGNED_SHORT,this._startIndex)}InitSetTexture(e){this._type=2,this._texParam=e}DoSetTexture(){const e=this._gl,t=this._texParam;e.bindTexture(e.TEXTURE_2D,t?t._GetTexture():null)}InitSetGradientColor(e){this._type=20,e.writeToTypedArray(this._colorParam,0)}DoSetGradientColor(){const e=this._colorParam,t=this._batchState.currentShader;t._uColor2.IsUsed()&&t._uColor2.Update4f(e[0],e[1],e[2],e[3])}InitSetBlend(e,t){this._type=3,this._startIndex=e,this._indexCount=t}DoSetBlend(){this._gl.blendFunc(this._startIndex,this._indexCount)}InitSetViewport(e,t,n,s){this._type=4;const r=this._colorParam;r[0]=e,r[1]=t,r[2]=n,r[3]=s}DoSetViewport(){const e=this._colorParam;this._gl.viewport(e[0],e[1],e[2],e[3])}InitSetProjection(e){this._type=5,Oc.copy(this._mat4param,e)}DoSetProjection(){const e=this._batchState,t=e.renderer._allShaderPrograms,n=e.currentShader,s=this._mat4param;for(let e=0,r=t.length;e<r;++e){const r=t[e];r===n?r.UpdateMatP(s,!0):r.SetMatPStale()}Oc.copy(e.currentMatP,s)}InitSetModelView(e){this._type=6,Oc.copy(this._mat4param,e)}DoSetModelView(){const e=this._batchState,t=e.renderer._allShaderPrograms,n=e.currentShader,s=this._mat4param;for(let e=0,r=t.length;e<r;++e){const r=t[e];r===n?r.UpdateMatMV(s,!0):r.SetMatMVStale()}Oc.copy(e.currentMV,s)}InitSetRenderTarget(e){this._type=7,this._texParam=e}DoSetRenderTarget(){const e=this._gl,t=this._texParam,n=this._batchState;t?(n.currentFramebuffer=t._GetFramebuffer(),n.currentFramebufferNoDepth=t._GetFramebufferNoDepth(),n.isDepthSamplingEnabled&&n.currentFramebufferNoDepth?e.bindFramebuffer(e.FRAMEBUFFER,n.currentFramebufferNoDepth):e.bindFramebuffer(e.FRAMEBUFFER,n.currentFramebuffer)):(n.currentFramebuffer=null,n.currentFramebufferNoDepth=null,e.bindFramebuffer(e.FRAMEBUFFER,null))}InitClearSurface(e){this._type=8,e.writeToTypedArray(this._mat4param,0)}InitClearSurface2(e,t,n,s){this._type=8;const r=this._mat4param;r[0]=e,r[1]=t,r[2]=n,r[3]=s}DoClearSurface(){const e=this._gl,t=this._mat4param,n=this._batchState.clearColor,s=t[0],r=t[1],o=t[2],a=t[3];n.equalsRgba(s,r,o,a)||(e.clearColor(s,r,o,a),n.setRgba(s,r,o,a)),e.clear(e.COLOR_BUFFER_BIT)}InitSetPointTexCoords(e){this._type=14,e.writeToTypedArray(this._mat4param,0)}DoSetPointTextureCoords(){const e=this._mat4param;this._batchState.pointTexCoords.set(e[0],e[1],e[2],e[3])}InitPoints(e,t,n){this._type=9,this._startIndex=e,this._indexCount=1,this._mat4param[0]=t,n.writeToTypedArray(this._colorParam,0)}DoPoints(){const e=this._gl,t=this._batchState,n=t.renderer._spPoints;e.useProgram(n._shaderProgram),n.UpdateMatP(t.currentMatP,!1),n.UpdateMatMV(t.currentMV,!1);const s=t.pointTexCoords;n._uPointTexStart.IsUsed()&&n._uPointTexStart.Update2f(s.getLeft(),s.getTop()),n._uPointTexEnd.IsUsed()&&n._uPointTexEnd.Update2f(s.getRight(),s.getBottom());const r=this._mat4param[0];if(n._uZElevation.IsUsed()&&n._uZElevation.Update1f(r),n._uColor.IsUsed()){const e=this._colorParam;n._uColor.Update4f(e[0],e[1],e[2],e[3])}e.drawArrays(e.POINTS,this._startIndex/4,this._indexCount),e.useProgram(t.currentShader._shaderProgram)}InitSetProgram(e){this._type=10,this._texParam=e}DoSetProgram(){const e=this._gl,t=this._batchState,n=this._texParam;t.currentShader=n,e.useProgram(n._shaderProgram),n.UpdateMatP(t.currentMatP,!1),n.UpdateMatMV(t.currentMV,!1)}InitSetProgramParameters(){this._type=11}DoSetProgramParameters(){const e=this._batchState.currentShader,t=this._gl,n=this._mat4param,s=this._colorParam,r=this._srcOriginRect;if(e._uSamplerBack.IsUsed()){const e=this._batchState.renderer,n=this._texParam;e._lastTexture1!==n&&(t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,n?n._GetTexture():null),e._lastTexture1=n,t.activeTexture(t.TEXTURE0))}e._uPixelSize.IsUsed()&&e._uPixelSize.Update2f(n[0],n[1]),e._uDestStart.IsUsed()&&e._uDestStart.Update2f(n[2],n[3]),e._uDestEnd.IsUsed()&&e._uDestEnd.Update2f(n[4],n[5]),e._uDevicePixelRatio.IsUsed()&&e._uDevicePixelRatio.Update1f(this._indexCount),e._uLayerScale.IsUsed()&&e._uLayerScale.Update1f(n[6]),e._uLayerAngle.IsUsed()&&e._uLayerAngle.Update1f(n[7]),e._uSrcStart.IsUsed()&&e._uSrcStart.Update2f(n[12],n[13]),e._uSrcEnd.IsUsed()&&e._uSrcEnd.Update2f(n[14],n[15]),e._uSrcOriginStart.IsUsed()&&e._uSrcOriginStart.Update2f(r[0],r[1]),e._uSrcOriginEnd.IsUsed()&&e._uSrcOriginEnd.Update2f(r[2],r[3]),e._uLayoutStart.IsUsed()&&e._uLayoutStart.Update2f(s[0],s[1]),e._uLayoutEnd.IsUsed()&&e._uLayoutEnd.Update2f(s[2],s[3]),e._uSeconds.IsUsed()&&e._uSeconds.Update1f(this._startIndex)}InitSetProgramCustomParameters(){this._type=12}DoSetProgramCustomParameters(){const e=this._batchState.currentShader._uCustomParameters,t=this._shaderParams;for(let n=0,s=e.length;n<s;++n){const s=e[n],r=t[n];s.IsColorType()?s.Update3f(r.getR(),r.getG(),r.getB()):s.Update1f(r)}}InitInvalidateFramebuffer(e){this._type=13,this._texParam=e}DoInvalidateFramebuffer(){const e=this._gl,t=this._texParam,n=this._batchState.currentFramebuffer;t!==n&&e.bindFramebuffer(e.FRAMEBUFFER,t),e.invalidateFramebuffer(e.FRAMEBUFFER,[e.COLOR_ATTACHMENT0]),t!==n&&e.bindFramebuffer(e.FRAMEBUFFER,n)}InitBlitFramebuffer(e,t,n){this._type=16;const s=this._mat4param,r=this._batchState.renderer;s[0]=e.GetWidth(),s[1]=e.GetHeight(),s[2]=t?t.GetWidth():r.GetWidth(),s[3]=t?t.GetHeight():r.GetHeight(),s[4]=e.IsLinearSampling()?1:0,s[5]="stretch"===n;const o=this._shaderParams;Mc.clearArray(o),o.push(e._GetFramebuffer()),o.push(t?t._GetFramebuffer():null)}DoBlitFramebuffer(){const e=this._mat4param,t=this._shaderParams,n=this._gl,s=e[0],r=e[1],o=e[2],a=e[3],i=0!==e[4],l=0!==e[5],d=t[0],c=t[1];if(n.bindFramebuffer(n.READ_FRAMEBUFFER,d),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,c),l)n.blitFramebuffer(0,0,s,r,0,0,o,a,n.COLOR_BUFFER_BIT,i?n.LINEAR:n.NEAREST);else{const e=Math.min(s,o),t=Math.min(r,a),i=Math.max(r-a,0),l=Math.max(a-r,0);n.blitFramebuffer(0,i,e,t+i,0,l,e,t+l,n.COLOR_BUFFER_BIT,n.NEAREST)}}InitStartQuery(e){this._type=17,this._texParam=e}DoStartQuery(){this._texParam.BeginTimeElapsed(),this._texParam=null}InitEndQuery(e){this._type=18,this._texParam=e}DoEndQuery(){this._texParam.EndTimeElapsed(),this._texParam=null}InitSetEllipseParams(e,t,n){this._type=19;const s=this._mat4param;s[0]=e,s[1]=t,s[2]=n}DoSetEllipseParams(){const e=this._batchState.currentShader,t=this._mat4param;e._uPixelSize.IsUsed()&&e._uPixelSize.Update2f(t[0],t[1]),e._uOutlineThickness.IsUsed()&&e._uOutlineThickness.Update1f(t[2])}InitSetTilemapInfo(e,t,n,s,r,o,a){this._type=15;const i=this._mat4param;e.writeToTypedArray(i,0),i[4]=1/t,i[5]=1/n,i[6]=s/t,i[7]=r/n,i[8]=o/t,i[9]=a/n}DoSetTilemapInfo(){const e=this._batchState.currentShader,t=this._mat4param;e._uSrcStart.IsUsed()&&e._uSrcStart.Update2f(t[0],t[1]),e._uPixelSize.IsUsed()&&e._uPixelSize.Update2f(t[4],t[5]),e._uTileSize.IsUsed()&&e._uTileSize.Update2f(t[6],t[7]),e._uTileSpacing.IsUsed()&&e._uTileSpacing.Update2f(t[8],t[9])}InitSetTileRandomizationInfo(e,t,n,s,r,o,a){this._type=28;const i=this._mat4param;i[0]=1/e,i[1]=1/t,i[2]=n,i[3]=s,i[4]=r,i[5]=o,i[6]=a}DoSetTileRandomizationInfo(){const e=this._batchState.currentShader,t=this._mat4param;e._uPixelSize.IsUsed()&&e._uPixelSize.Update2f(t[0],t[1]),e._uTileSize.IsUsed()&&e._uTileSize.Update2f(t[2],t[3]),e._uOutlineThickness.IsUsed()&&e._uOutlineThickness.Update1f(t[4]),e._uTileSpacing.IsUsed()&&e._uTileSpacing.Update2f(t[5],t[6])}InitClearDepth(e){this._type=21,this._startIndex=e?1:0}DoClearDepth(){const e=this._gl,t=0!==this._startIndex;t||e.depthMask(!0),e.clear(e.DEPTH_BUFFER_BIT),t||e.depthMask(!1)}InitSetDepthEnabled(e){this._type=22,this._startIndex=e?1:0}DoSetDepthEnabled(){const e=this._gl;0===this._startIndex?(e.disable(e.DEPTH_TEST),e.depthMask(!1)):(e.enable(e.DEPTH_TEST),e.depthMask(!0))}InitSetDepthSamplingEnabled(e){this._type=23,this._startIndex=e?1:0}DoSetDepthSamplingEnabled(){const e=this._gl,t=this._batchState,n=t.renderer,s=0!==this._startIndex;t.isDepthSamplingEnabled=s,e.activeTexture(e.TEXTURE2),s?(t.currentFramebufferNoDepth&&e.bindFramebuffer(e.FRAMEBUFFER,t.currentFramebufferNoDepth),e.bindTexture(e.TEXTURE_2D,n._GetDepthBuffer())):(e.bindTexture(e.TEXTURE_2D,null),t.currentFramebufferNoDepth&&e.bindFramebuffer(e.FRAMEBUFFER,t.currentFramebuffer)),e.activeTexture(e.TEXTURE0)}InitCoplanarStartStencilPass(){this._type=24}DoCoplanarStartStencilPass(){const e=this._gl;e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,1),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1)}InitCoplanarStartColorPass(){this._type=25}DoCoplanarStartColorPass(){const e=this._gl;e.enable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,1,1),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}InitCoplanarRestore(){this._type=26}DoCoplanarRestore(){const e=this._gl;e.disable(e.STENCIL_TEST)}InitSetScissor(e,t,n,s,r){this._type=27,this._startIndex=e?1:0;const o=this._mat4param;o[0]=t,o[1]=n,o[2]=s,o[3]=r}DoSetScissor(){const e=this._gl,t=this._mat4param;1===this._startIndex?(e.enable(e.SCISSOR_TEST),e.scissor(t[0],t[1],t[2],t[3])):e.disable(e.SCISSOR_TEST)}InitSetCullFaceMode(e){this._type=29,this._startIndex=e}DoSetCullFaceMode(){const e=this._gl,t=this._startIndex;0===t?e.disable(e.CULL_FACE):(e.enable(e.CULL_FACE),1===t?e.cullFace(e.BACK):e.cullFace(e.FRONT))}InitSetFrontFaceWinding(e){this._type=30,this._startIndex=e}DoSetFrontFaceWinding(){const e=this._gl;e.frontFace(0===this._startIndex?e.CW:e.CCW)}Run(){switch(this._type){case 1:return void this.DoDraw();case 2:return void this.DoSetTexture();case 3:return void this.DoSetBlend();case 4:return void this.DoSetViewport();case 5:return void this.DoSetProjection();case 6:return void this.DoSetModelView();case 7:return void this.DoSetRenderTarget();case 8:return void this.DoClearSurface();case 9:return void this.DoPoints();case 10:return void this.DoSetProgram();case 11:return void this.DoSetProgramParameters();case 12:return void this.DoSetProgramCustomParameters();case 13:return void this.DoInvalidateFramebuffer();case 14:return void this.DoSetPointTextureCoords();case 15:return void this.DoSetTilemapInfo();case 16:return void this.DoBlitFramebuffer();case 17:return void this.DoStartQuery();case 18:return void this.DoEndQuery();case 19:return void this.DoSetEllipseParams();case 20:return void this.DoSetGradientColor();case 21:return void this.DoClearDepth();case 22:return void this.DoSetDepthEnabled();case 23:return void this.DoSetDepthSamplingEnabled();case 24:return void this.DoCoplanarStartStencilPass();case 25:return void this.DoCoplanarStartColorPass();case 26:return void this.DoCoplanarRestore();case 27:return void this.DoSetScissor();case 28:return void this.DoSetTileRandomizationInfo();case 29:return void this.DoSetCullFaceMode();case 30:return void this.DoSetFrontFaceWinding()}}}}{let du=function(e,t,n,s,r,o){t?e.strokeRect(n,s,r,o):e.fillRect(n,s,r,o)},cu=function(e){return e*(4/3)},uu=function(e,t){e=e.trim();const n=parseFloat(e);return isFinite(n)?e.endsWith("%")?t*n/100:n:0};fillOrStrokeRect=du,ptToPx=cu,getOffsetParam=uu;const hu=self.C3,_u=4096,Gu=4,pu=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),mu={timeout:60},gu=new hu.Color(0,0,0,1),fu=new Set(["left","center","right"]),Nu=new Set(["top","center","bottom"]),bu=new Set(["word","cjk","character"]),Su=new Set(["ltr","rtl"]),xu=new Set;hu.FontManager&&hu.FontManager.addEventListener("fontload",e=>{const t=e.font.GetName();for(const e of xu)(e.IsBBCodeEnabled()||hu.equalsNoCase(e.GetFontName(),t))&&e._SetWordWrapChanged()});let Iu=!1,yu=!1;hu.Gfx.RendererText=class{constructor(e,t){t=Object.assign({},mu,t),this._renderer=e,this._fontName="Arial",this._fontSize=16,this._fontSizeScale=1,this._lineHeight=0,this._isBold=!1,this._isItalic=!1,this._colorStr="black",this._isBBcodeEnabled=!1,this._iconSet=null,this._iconSmoothing=!0,this.onloadfont=null,this._alreadyLoadedFonts=new Set,this._horizontalAlign="left",this._verticalAlign="top",this._text="",this._bbString=null,this._wrappedText=hu.New(hu.WordWrap),this._wrapMode="word",this._textDirection="ltr",this._wordWrapChanged=!1,this._textLayoutChanged=!1,this._drawChanged=!1,this._drawMaxCharCount=-1,this._drawCharCount=0,this._cssWidth=0,this._cssHeight=0,this._width=0,this._height=0,this._zoom=1,this._textCanvas=null,this._textContext=null,this._measureContext=null,this._measureContextTop=null,this._lastCanvasWidth=-1,this._lastCanvasHeight=-1,this._lastTextCanvasFont="",this._lastMeasureCanvasFont="",this._lastTextCanvasFillStyle="",this._lastTextCanvasOpacity=1,this._lastTextCanvasLineWidth=1,this._measureTextCallback=e=>this._MeasureText(e),this._texture=null,this._rcTex=new hu.Rect,this._scaleFactor=1,this._textureTimeout=new hu.IdleTimeout(()=>{this.ReleaseTexture(),this._SetTextCanvasSize(8,8)},t.timeout),this.ontextureupdate=null,this._wasReleased=!1,xu.add(this)}Release(){this.onloadfont=null,this._alreadyLoadedFonts.clear(),this._iconSet=null,this._bbString=null,this._textCanvas=null,this._textContext=null,this._measureContext=null,this._measureContextTop=null,this._measureTextCallback=null,this._textureTimeout.Release(),this.ontextureupdate=null,this.ReleaseTexture(),this._wrappedText.Clear(),this._wrappedText=null,this._renderer=null,this._wasReleased=!0,xu.delete(this)}_SetDrawChanged(){this._drawChanged=!0}_SetTextLayoutChanged(){this._SetDrawChanged(),this._textLayoutChanged=!0}_SetWordWrapChanged(){this._SetTextLayoutChanged(),this._wordWrapChanged=!0}SetBBCodeEnabled(e){if(e=!!e,this._isBBcodeEnabled===e)return;this._isBBcodeEnabled=e;const t=this._isBBcodeEnabled?"alphabetic":"top";this._textContext&&(this._textContext.textBaseline=t),this._measureContext&&(this._measureContext.textBaseline=t),this._SetWordWrapChanged()}IsBBCodeEnabled(){return this._isBBcodeEnabled}SetIconSet(e){this._iconSet!==e&&(this._iconSet=e,this._wrappedText.SetIconSet(e),this._iconSet&&this._iconSet.IsLoading()&&this._iconSet.LoadContent().then(()=>this._SetDrawChanged()),this._SetWordWrapChanged())}SetIconSmoothing(e){e=!!e,this._iconSmoothing!==e&&(this._iconSmoothing=e,this._SetDrawChanged())}SetFontName(e){e||(e="serif"),this._fontName!==e&&(this._fontName=e,this._SetWordWrapChanged())}GetFontName(){return this._fontName}SetFontSize(e){e<.1&&(e=.1),this._fontSize!==e&&(this._fontSize=e,this._SetWordWrapChanged())}GetFontSize(){return this._fontSize}SetFontSizeScale(e){this._fontSizeScale!==e&&(this._fontSizeScale=e,this._SetWordWrapChanged())}SetLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this._SetTextLayoutChanged())}GetLineHeight(){return this._lineHeight}SetBold(e){e=!!e,this._isBold!==e&&(this._isBold=e,this._SetWordWrapChanged())}IsBold(){return this._isBold}SetItalic(e){e=!!e,this._isItalic!==e&&(this._isItalic=e,this._SetWordWrapChanged())}IsItalic(){return this._isItalic}SetDrawMaxCharacterCount(e){e=Math.floor(e),this._drawMaxCharCount!==e&&(this._drawMaxCharCount=e,this._SetDrawChanged())}GetDrawMaxCharacterCount(){return this._drawMaxCharCount}_GetFontString(e,t){let n=[];(this._isBold||t.HasStyleTag("b"))&&n.push("bold"),(this._isItalic||t.HasStyleTag("i"))&&n.push("italic");const s=t.GetStyleTag("size"),r=(s?parseFloat(s.param):this._fontSize)*this._fontSizeScale;e?n.push(r+"pt"):n.push(r*this.GetDrawScale()+"pt");let o=this._fontName;const a=t.GetStyleTag("font");return a&&a.param&&(o=a.param,this.onloadfont&&!this._alreadyLoadedFonts.has(o)&&(this.onloadfont(o),this._alreadyLoadedFonts.add(o))),o&&(pu.has(o)?n.push(o):n.push('"'+o+'"')),n.join(" ")}SetColor(e){e instanceof hu.Color&&(e=e.getCssRgb()),this._colorStr!==e&&(this._colorStr=e,this._SetDrawChanged())}SetColorRgb(e,t,n){gu.setRgb(e,t,n),this.SetColor(gu)}SetHorizontalAlignment(e){if(!fu.has(e))throw new Error("invalid horizontal alignment");this._horizontalAlign!==e&&(this._horizontalAlign=e,this._SetTextLayoutChanged())}GetHorizontalAlignment(){return this._horizontalAlign}SetVerticalAlignment(e){if(!Nu.has(e))throw new Error("invalid vertical alignment");this._verticalAlign!==e&&(this._verticalAlign=e,this._SetTextLayoutChanged())}GetVerticalAlignment(){return this._verticalAlign}SetWordWrapMode(e){if(!bu.has(e))throw new Error("invalid word wrap mode");this._wrapMode!==e&&(this._wrapMode=e,this._SetWordWrapChanged())}GetWordWrapMode(){return this._wrapMode}SetTextDirection(e){if(!Su.has(e))throw new Error("invalid text direction");this._textDirection!==e&&(this._textDirection=e,this._textContext&&(this._textContext.direction=this._textDirection),this._measureContext&&(this._measureContext.direction=this._textDirection),this._SetWordWrapChanged())}GetTextDirection(){return this._textDirection}SetText(e){this._text!==e&&(this._text=e,this._SetWordWrapChanged())}GetText(){return this._text}GetDrawScale(){return this._scaleFactor*this._zoom*self.devicePixelRatio}SetSize(e,t,n){if(void 0===n&&(n=1),e<=0||e<=0)return;if(this._cssWidth===e&&this._cssHeight===t&&this._zoom===n)return;const s=this._cssWidth;this._cssWidth=e,this._cssHeight=t,this._zoom=n;const r=self.devicePixelRatio;this._width=this._cssWidth*this._zoom*r,this._height=this._cssHeight*this._zoom*r;const o=Math.max(this._width,this._height),a=Math.min(this._renderer.GetMaxTextureSize(),4096);let i=1;o>a&&(i=a/o,this._width=Math.min(this._width*i,a),this._height=Math.min(this._height*i,a)),this._scaleFactor=i,this._cssWidth!==s?this._SetWordWrapChanged():this._SetTextLayoutChanged()}GetWidth(){return this._width}GetHeight(){return this._height}GetZoom(){return this._zoom}GetTextWidth(){return this._UpdateTextMeasurements(),this._wrappedText.GetMaxLineWidth()}GetTextHeight(){return this._UpdateTextMeasurements(),this._wrappedText.GetTotalLineHeight()+this._wrappedText.GetLineCount()*(this._lineHeight+4)-this._lineHeight}GetLengthInGraphemes(){this._UpdateTextMeasurements();let e=0;for(const t of this._wrappedText.GetLines())for(const n of t.fragments())e+=n.GetLength();return e}GetTexture(){return this._textureTimeout.Reset(),this._MaybeUpdate(),this._texture}HitTestFragment(e,t){this._UpdateTextMeasurements();const n=this.GetDrawScale(),s=this._wrappedText.GetLines();for(const r of s){const s=r.GetFontBoundingBoxDescent()*n;if(t>=r.GetPosY()-r.GetHeight()*n+s&&t<r.GetPosY()+s)for(const t of r.fragments())if(e>=t.GetPosX()&&e<t.GetPosX()+t.GetWidth()*n)return t}return null}*fragmentsWithTag(e){this._UpdateTextMeasurements();const t=this._wrappedText.GetLines();for(const n of t)for(const t of n.fragments()){const n=t.GetStyleTag("tag");n&&hu.equalsNoCase(n.param,e)&&(yield t)}}FindFragmentWithTag(e,t){for(const n of this.fragmentsWithTag(e)){if(0===t)return n;--t}return null}CountFragmentsWithTag(e){let t=0;for(const n of this.fragmentsWithTag(e))++t;return t}_MaybeUpdate(){(!this._texture||this._drawChanged||this._textLayoutChanged||this._wordWrapChanged)&&(this._wasReleased||this._width<=0||this._height<=0||(this._drawChanged=!1,this._DoUpdate()))}_DoUpdate(){this._wasReleased||(this._UpdateTextMeasurements(),this._SetTextCanvasSize(Math.max(hu.nextHighestPowerOfTwo(Math.ceil(this._width)),128),Math.max(hu.nextHighestPowerOfTwo(Math.ceil(this._height)),64)),this._DrawTextToCanvas(),this._UpdateTexture(),this._textureTimeout.Reset())}_SetTextCanvasSize(e,t){this._textCanvas||(this._textCanvas=hu.CreateCanvas(16,16));let n=!1;this._lastCanvasWidth===e&&this._lastCanvasHeight===t||(this._lastCanvasWidth=e,this._lastCanvasHeight=t,this._textCanvas.width=e,this._textCanvas.height=t,n=!0),this._textContext||(this._textContext=this._textCanvas.getContext("2d"),n=!0),n?(this._textContext.textBaseline=this._isBBcodeEnabled?"alphabetic":"top",this._textContext.direction=this._textDirection,this._textContext.font=this._lastTextCanvasFont,this._textContext.fillStyle=this._lastTextCanvasFillStyle,this._textContext.strokeStyle=this._lastTextCanvasFillStyle,this._textContext.globalAlpha=this._lastTextCanvasOpacity,this._textContext.lineWidth=this._lastTextCanvasLineWidth):this._textContext.clearRect(0,0,e,t)}_MaybeCreateMeasureContext(){this._measureContext||(this._measureContext=hu.CreateCanvas(16,16).getContext("2d"),this._measureContextTop=hu.CreateCanvas(16,16).getContext("2d"),this._measureContext.textBaseline=this._isBBcodeEnabled?"alphabetic":"top",this._measureContextTop.textBaseline="top",this._measureContext.direction=this._textDirection,this._measureContextTop.direction=this._textDirection)}_SetMeasureFontString(e){this._lastMeasureCanvasFont!==e&&(this._lastMeasureCanvasFont=e,this._measureContext.font=e,this._measureContextTop.font=e)}_SupportsFontBoundingBoxMeasurements(){if(!Iu){Iu=!0,this._MaybeCreateMeasureContext();const e=this._measureContext.measureText("test");yu="number"==typeof e.fontBoundingBoxAscent&&"number"==typeof e.fontBoundingBoxDescent}return yu}_UpdateTextMeasurements(){this._UpdateWordWrap(),this._UpdateTextLayout()}_UpdateWordWrap(){this._wordWrapChanged&&(this._MaybeCreateMeasureContext(),!this._isBBcodeEnabled||this._bbString&&this._bbString.toString()===this._text||(this._bbString=new hu.BBString(this._text,{noEscape:!0})),this._wrappedText.WordWrap(this._isBBcodeEnabled?this._bbString.toFragmentList():this._text,this._measureTextCallback,this._cssWidth,this._wrapMode,0),this._wordWrapChanged=!1)}_UpdateTextLayout(){this._textLayoutChanged&&(this._LayoutText(),this._textLayoutChanged=!1)}_MeasureText(e){const t=e.IsText()?e.GetCharacterArray().join(""):" ";this._SetMeasureFontString(this._GetFontString(!0,e));const n=e.GetStyleTag("size"),s=(n?parseFloat(n.param):this._fontSize)*this._fontSizeScale,r=this._measureContext.measureText(t);let o=0;if(this._isBBcodeEnabled&&this._SupportsFontBoundingBoxMeasurements()){const e=this._measureContextTop.measureText(t);o=r.fontBoundingBoxAscent-e.fontBoundingBoxAscent}return{width:r.width,height:cu(s),fontBoundingBoxAscent:r.fontBoundingBoxAscent||0,fontBoundingBoxDescent:r.fontBoundingBoxDescent||0,topToAlphabeticDistance:o}}_SetDrawFontString(e){this._lastTextCanvasFont!==e&&(this._lastTextCanvasFont=e,this._textContext.font=e)}_SetDrawCanvasColor(e){this._lastTextCanvasFillStyle!==e&&(this._lastTextCanvasFillStyle=e,this._textContext.fillStyle=e,this._textContext.strokeStyle=e)}_SetDrawCanvasOpacity(e){this._lastTextCanvasOpacity!==e&&(this._lastTextCanvasOpacity=e,this._textContext.globalAlpha=e)}_SetDrawCanvasLineWith(e){this._lastTextCanvasLineWidth!==e&&(this._lastTextCanvasLineWidth=e,this._textContext.lineWidth=e)}_LayoutText(){const e=this.GetDrawScale(),t=(4+this._lineHeight)*e;let n=0;const s=this._wrappedText.GetLines();if(0===s.length)return;for(const e of s){e.SetPosX(NaN),e.SetPosY(NaN);for(const t of e.fragments())t.SetPosX(NaN),t.SetPosY(NaN)}const r=this._isBBcodeEnabled&&this._SupportsFontBoundingBoxMeasurements();let o=s[0].GetHeight()*e;if("center"===this._verticalAlign){const a=s.reduce((n,s)=>n+s.GetHeight()*e+t,0)-t;n=Math.max(this._height/2-a/2,0),r&&(o=s[0].GetTopToAlphabeticDistance()*e)}else if("bottom"===this._verticalAlign){const o=s.reduce((n,s)=>n+s.GetHeight()*e+t,0)-this._lineHeight*e,a=r?s.at(-1).GetFontBoundingBoxDescent()*e:0;n=this._height-o-a-2}for(let r=0,a=s.length;r<a;++r){const a=s[r],i=a.GetHeight()*e,l=n;if(this._isBBcodeEnabled){if(n+=0===r?o:i,r>0&&n>this._height-4*e)break}else if(r>0&&n>=this._height-i)break;l>=0&&this._LayoutTextLine(a,n,e),this._isBBcodeEnabled||(n+=i),n+=t}}_LayoutTextLine(e,t,n){let s=0;"center"===this._horizontalAlign?s=Math.floor((this._width-e.GetWidth()*n)/2):"right"===this._horizontalAlign&&(s=this._width-e.GetWidth()*n),e.SetPosX(s),e.SetPosY(t);for(const r of"ltr"===this._textDirection?e.fragments():e.fragmentsReverse())this._LayoutFragment(r,s,t,n),s+=r.GetWidth()*n}_LayoutFragment(e,t,n,s){const r=e.GetStyleTag("offsetx");t+=r?uu(r.param,e.GetHeight())*s:0;const o=e.GetStyleTag("offsety");if(n+=o?uu(o.param,e.GetHeight())*s:0,e.IsIcon()){const t=e.GetStyleTag("iconoffsety");n+=t?uu(t.param,e.GetHeight())*s:.2*e.GetHeight()*s}e.SetPosX(t),e.SetPosY(n)}_DrawTextToCanvas(){this._textContext.imageSmoothingEnabled=this._iconSmoothing,this._textContext.imageSmoothingQuality="high",this._drawCharCount=0;const e=this.GetDrawScale(),t=this._wrappedText.GetLines();for(const n of t)this._DrawTextLine(n,e)}_DrawTextLine(e,t){const n=e.GetPosX(),s=e.GetPosY();if(Number.isFinite(n)&&Number.isFinite(s))for(const n of"ltr"===this._textDirection?e.fragments():e.fragmentsReverse())this._DrawFragment(n,t,e.GetHeight())}_DrawFragment(e,t,n){const s=this._textContext,r=e.GetPosX(),o=e.GetPosY();if(!Number.isFinite(r)||!Number.isFinite(o))return;const a=n/16;let i=e.GetWidth()*t;const l=e.GetHeight()*t,d=e.GetHeight()/16,c=(4+this._lineHeight)*t;let u=e.IsText()?e.GetCharacterArray():null;if(-1!==this._drawMaxCharCount){if(this._drawCharCount>=this._drawMaxCharCount)return;e.IsText()&&this._drawCharCount+u.length>this._drawMaxCharCount&&(u=u.slice(0,this._drawMaxCharCount-this._drawCharCount),i=this._MeasureText(e).width*t),this._drawCharCount+=e.GetLength()}const h=e.GetStyleTag("background"),_=e.HasStyleTag("u"),G=e.HasStyleTag("s");if(e.IsText()&&hu.IsCharArrayAllWhitespace(u)&&!h&&!_&&!G||e.HasStyleTag("hide"))return;const p=e.GetStyleTag("color"),m=e.GetStyleTag("opacity");this._SetDrawCanvasOpacity(m?parseFloat(m.param)/100:1),h&&(this._SetDrawCanvasColor(h.param),s.fillRect(r,o-l,i,l+c));const g=e.GetStyleTag("linethickness"),f=g?parseFloat(g.param):1,N=e.HasStyleTag("stroke");if(N&&this._SetDrawCanvasLineWith(.5*d*f*this.GetDrawScale()),e.IsText()){const t=u.join("");if(this._SetDrawFontString(this._GetFontString(!1,e)),!N){this._SetDrawCanvasLineWith(.5*d*f*this.GetDrawScale());const n=e.GetStyleTag("outlineback");n&&(this._SetDrawCanvasColor(n.param),this._FillOrStrokeText(!0,t,r,o,i))}if(this._SetDrawCanvasColor(p?p.param:this._colorStr),this._FillOrStrokeText(N,t,r,o,i),!N){this._SetDrawCanvasLineWith(.5*d*f*this.GetDrawScale());const n=e.GetStyleTag("outline");n&&(this._SetDrawCanvasColor(n.param),this._FillOrStrokeText(!0,t,r,o,i))}}else if(e.IsIcon()&&e.GetWidth()>0){const t=e.GetDrawable(this._iconSet);t&&s.drawImage(t,r,o-l,i,l)}if(this._SetDrawCanvasColor(p?p.param:this._colorStr),_&&du(s,N,r,o+t*a,i,t*a*f),G){const e=t*d,n=o-l/4+e/2;s.fillRect(r,n-e*f/2,i,e*f)}}_FillOrStrokeText(e,t,n,s,r){"rtl"===this._textDirection&&(n+=r),e?"Gecko"===hu.Platform.BrowserEngine?this._textContext.strokeText(t,n,s,r):this._textContext.strokeText(t,n,s):"Gecko"===hu.Platform.BrowserEngine?this._textContext.fillText(t,n,s,r):this._textContext.fillText(t,n,s)}_UpdateTexture(){this._renderer.IsContextLost()||(this._texture||(this._texture=this._renderer.CreateDynamicTexture(this._textCanvas.width,this._textCanvas.height,{mipMap:!0,mipMapQuality:"high"})),this._renderer.UpdateTexture(this._textCanvas,this._texture),this._rcTex.set(0,0,this._width/this._texture.GetWidth(),this._height/this._texture.GetHeight()),this.ontextureupdate&&this.ontextureupdate())}GetTexRect(){return this._rcTex}ReleaseTexture(){this._texture&&(this._renderer.IsContextLost()||this._renderer.DeleteTexture(this._texture),this._texture=null)}static OnContextLost(){for(const e of xu)e.ReleaseTexture()}static GetAll(){return xu.values()}}}{const Eu=self.C3;class Tu{constructor(e){this._gl=e.GetContext(),this._version=e.GetWebGLVersionNumber(),this._timerExt=e._GetDisjointTimerQueryExtension(),this._query=null,this._isActive=!1,this._hasResult=!1,this._result=0,1===this._version?this._query=this._timerExt.createQueryEXT():this._query=this._gl.createQuery()}Release(){this._DeleteQueryObject(),this._gl=null,this._timerExt=null,this._hasResult=!1}_DeleteQueryObject(){this._query&&(1===this._version?this._timerExt.deleteQueryEXT(this._query):this._gl.deleteQuery(this._query),this._query=null)}BeginTimeElapsed(){if(this._isActive)throw new Error("query already active");1===this._version?this._timerExt.beginQueryEXT(this._timerExt.TIME_ELAPSED_EXT,this._query):this._gl.beginQuery(this._timerExt.TIME_ELAPSED_EXT,this._query),this._isActive=!0}EndTimeElapsed(){if(!this._isActive)throw new Error("query not active");1===this._version?this._timerExt.endQueryEXT(this._timerExt.TIME_ELAPSED_EXT):this._gl.endQuery(this._timerExt.TIME_ELAPSED_EXT),this._isActive=!1}CheckForResult(){if(!this._query||this._hasResult||this._isActive)return;let e=!1;e=1===this._version?this._timerExt.getQueryObjectEXT(this._query,this._timerExt.QUERY_RESULT_AVAILABLE_EXT):this._gl.getQueryParameter(this._query,this._gl.QUERY_RESULT_AVAILABLE);const t=this._gl.getParameter(this._timerExt.GPU_DISJOINT_EXT);e&&!t&&(1===this._version?this._result=this._timerExt.getQueryObjectEXT(this._query,this._timerExt.QUERY_RESULT_EXT):this._result=this._gl.getQueryParameter(this._query,this._gl.QUERY_RESULT),this._result/=1e9,this._hasResult=!0),(e||t)&&this._DeleteQueryObject()}HasResult(){return this._hasResult}GetResult(){if(!this._hasResult)throw new Error("no result available");return this._result}}Eu.Gfx.WebGLTimeElapsedQuery=class{constructor(e){this._renderer=e,this._frameNumber=e.GetFrameNumber(),this._isActive=!1,this._parentQuery=null,this._isNested=!1,this._realQuery=null,this._queries=[]}Release(){for(const e of this._queries)e instanceof Tu&&e.Release();Eu.clearArray(this._queries),this._parentQuery=null,this._realQuery=null,this._renderer=null}BeginTimeElapsed(){if(this._isActive)throw new Error("query already active");const e=this._renderer._GetTimeQueryStack();e.length>0?(this._isNested=!0,this._parentQuery=e.at(-1),this._parentQuery._EndReal(),this._parentQuery._queries.push(this)):(this._isNested=!1,this._parentQuery=null),this._isActive=!0,e.push(this),this._StartReal()}EndTimeElapsed(){if(!this._isActive)throw new Error("query not active");if(this._renderer._GetTimeQueryStack().pop()!==this)throw new Error("can only end most nested query");this._isActive=!1,this._EndReal(),this._parentQuery&&(this._parentQuery._StartReal(),this._parentQuery=null)}_StartReal(){this._realQuery=Eu.New(Tu,this._renderer),this._queries.push(this._realQuery),this._realQuery.BeginTimeElapsed()}_EndReal(){this._realQuery.EndTimeElapsed(),this._realQuery=null}CheckForResult(){for(const e of this._queries)e.CheckForResult()}IsNested(){return this._isNested}HasResult(){return this._queries.every(e=>e.HasResult())}GetResult(){return this._queries.reduce((e,t)=>e+t.GetResult(),0)}GetFrameNumber(){return this._frameNumber}}}{const Cu=self.C3;Cu.Gfx.WebGLQueryResultBuffer=class{constructor(e,t=1e3){this._renderer=e,this._maxQueries=t,this._buffer=[],this._renderer._AddQueryResultBuffer(this)}Release(){this.Clear(),this._renderer._RemoveQueryResultBuffer(this),this._renderer=null}Clear(){for(const e of this._buffer)e.Release();Cu.clearArray(this._buffer)}AddTimeElapsedQuery(){const e=new Cu.Gfx.WebGLTimeElapsedQuery(this._renderer);return this._buffer.push(e),this._buffer.length>this._maxQueries&&this._buffer.shift().Release(),e}CheckForResults(e){for(const t of this._buffer){if(t.GetFrameNumber()>=e)return;if(t.IsNested())return;t.CheckForResult()}}GetFrameRangeResultSum(e,t){if(t<=e)return NaN;let n=0;for(const s of this._buffer){if(s.GetFrameNumber()>=t)break;if(!(s.GetFrameNumber()<e)){if(!s.HasResult())return NaN;n+=s.GetResult()}}return n}DeleteAllBeforeFrameNumber(e){for(let t=0,n=this._buffer.length;t<n;++t){const n=this._buffer[t];if(!(n.GetFrameNumber()<e))return void(t>0&&this._buffer.splice(0,t));n.Release()}}}}{let Mu=function(){qu=-1;for(const e of Xu)e.checkFunc()&&(e.resolve(),Xu.delete(e));Xu.size>0&&(qu=self.requestAnimationFrame(Mu))};CheckPendingPolls=Mu;const Vu=self.C3,Bu=self.assert,Ou=self.glMatrix,vu=Ou.vec3,Pu=Ou.vec4,wu=Ou.mat4,Au={powerPreference:"default",enableGpuProfiling:!0,alpha:!1,depth:!1,canSampleDepth:!1,maxWebGLVersion:2,failIfMajorPerformanceCaveat:!1},Du=new Set(["default","low-power","high-performance"]),Ru=65535,Fu=393210,ju=8e3,ku=7996,Lu=new Vu.Quad(0,0,1,0,1,1,0,1),Wu=wu.create(),Uu=wu.create(),Hu=new Vu.Quad,zu=new Vu.Rect;let Yu=null;Vu.isDebug&&(self.debug_lose_webgl_context=function(){Yu?Yu.loseContext():console.warn("WEBGL_lose_context not supported")},self.debug_restore_webgl_context=function(){Yu?Yu.restoreContext():console.warn("WEBGL_lose_context not supported")});const Xu=new Set;let qu=-1;Vu.Gfx.WebGLRenderer=class extends Vu.Gfx.RendererBase{constructor(e,t){if(super(t),t=Object.assign({},Au,t),!Du.has(t.powerPreference))throw new Error("invalid power preference");const n={alpha:!!t.alpha,depth:!1,antialias:!1,powerPreference:t.powerPreference,failIfMajorPerformanceCaveat:!!t.failIfMajorPerformanceCaveat};let s=null,r=0;if(t.maxWebGLVersion>=2&&(s=e.getContext("webgl2",n),r=2),s||(s=e.getContext("webgl",n),r=1),!s)throw new Error("renderer-unavailable (could not get WebGL context)");this._gl=s,this._attribs=s.getContextAttributes(),this._versionString=s.getParameter(s.VERSION),this._version=r,this._viewport=Pu.create(),this._didChangeTransform=!1,this._bbProjectionMatrix=wu.create(),this._usesDepthBuffer=!!t.depth,this._canSampleDepth=!(!t.depth||!t.canSampleDepth),this._isDepthEnabled=this._usesDepthBuffer,this._isDepthSamplingEnabled=!1,this._depthBuffer=null,this._isAutoSizeDepthBuffer=!0,this._depthBufferWidth=0,this._depthBufferHeight=0,this._vertexBuffer=null,this._texcoordBuffer=null,this._colorBuffer=null,this._indexBuffer=null,this._pointBuffer=null,this._isColorDataF16=this._version>=2&&void 0!==globalThis.Float16Array,this._vertexData=new Float32Array(196605),this._indexData=new Uint16Array(393210),this._texcoordData=new Float32Array(131070),this._colorData=this._isColorDataF16?new globalThis.Float16Array(262140):new Float32Array(262140),this._pointData=new Float32Array(32e3),this._vertexPtr=0,this._indexPtr=0,this._pointPtr=0,this._lastProgram=null,this._spDeviceTransformTextureFill=null,this._batch=[],this._batchPtr=0,this._topOfBatch=0,this._currentRenderTarget=null,this._lastPointZ=0,this._batchState=Vu.New(Vu.Gfx.BatchState,this),this._lastColor=Vu.New(Vu.Color,1,1,1,1),this._lastTexture0=null,this._lastTexture1=null,this._lastSrcBlend=0,this._lastDestBlend=0,this._lastPointTexCoords=new Vu.Rect,this._lastScissorRect=Vu.New(Vu.Rect,0,0,-1,-1),this._coplanarMode=0,this._lastCullFace=0,this._lastFrontFaceWinding=0,this._maxTextureSize=-1,this._minPointSize=0,this._maxPointSize=0,this._unmaskedVendor="(unavailable)",this._unmaskedRenderer="(unavailable)",this._extensions=[],this._isInitialisingAfterContextRestored=!1,this._parallelShaderCompileExt=null,this._anisotropicExt=null,this._conservativeDepthExt=null,this._depthTextureExt=null,this._fragDepthExt=null,this._stdDerivativesExt=null,this._textureLodExt=null,this._maxAnisotropy=0,this._isGpuProfilingEnabled=!!t.enableGpuProfiling,this._timerExt=null,this._allQueryResultBuffers=new Set,this._timeQueryStack=[]}IsWebGL(){return!0}async InitState(){super.InitState();const e=this._gl;this._lastColor.setRgba(1,1,1,1),this._lastTexture0=null,this._lastTexture1=null,this._vertexPtr=0,this._indexPtr=0,this._pointPtr=0,Vu.clearArray(this._batch),this._batchPtr=0,this._topOfBatch=0,this._lastProgram=null,this._currentRenderTarget=null,this._lastPointTexCoords.set(0,0,1,1),this._lastPointZ=0;const t=this._batchState;t.currentShader=null,t.currentFramebuffer=null,t.currentFramebufferNoDepth=null,t.clearColor.setRgba(0,0,0,0),t.pointTexCoords.set(0,0,1,1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),this._lastSrcBlend=e.ONE,this._lastDestBlend=e.ONE_MINUS_SRC_ALPHA,this._InitBlendModes(e),e.cullFace(e.BACK),e.disable(e.CULL_FACE),this._lastCullFace=0,e.frontFace(e.CW),this._lastFrontFaceWinding=0,e.disable(e.STENCIL_TEST),e.disable(e.DITHER),this._usesDepthBuffer?(e.enable(e.DEPTH_TEST),e.depthMask(!0),e.depthFunc(e.LEQUAL)):(e.disable(e.DEPTH_TEST),e.depthMask(!1)),this._isDepthEnabled=this._usesDepthBuffer,this._isDepthSamplingEnabled=!1,this._pointBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._pointBuffer),e.bufferData(e.ARRAY_BUFFER,this._pointData.byteLength,e.DYNAMIC_DRAW),this._vertexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this._vertexData.byteLength,e.DYNAMIC_DRAW),this._texcoordBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._texcoordBuffer),e.bufferData(e.ARRAY_BUFFER,this._texcoordData.byteLength,e.DYNAMIC_DRAW),this._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._colorBuffer),e.bufferData(e.ARRAY_BUFFER,this._colorData.byteLength,e.DYNAMIC_DRAW),this._indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this._indexData.byteLength,e.DYNAMIC_DRAW),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,null),this._maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE);const n=e.getParameter(e.ALIASED_POINT_SIZE_RANGE);this._minPointSize=n[0],this._maxPointSize=n[1],this._maxPointSize>2048&&(this._maxPointSize=2048),this._extensions=e.getSupportedExtensions();const s=e.getExtension("WEBGL_debug_renderer_info");if(s&&(this._unmaskedVendor=e.getParameter(s.UNMASKED_VENDOR_WEBGL),this._unmaskedRenderer=e.getParameter(s.UNMASKED_RENDERER_WEBGL)),this._parallelShaderCompileExt=e.getExtension("KHR_parallel_shader_compile"),this._version>=2&&("Chromium"!==Vu.Platform.BrowserEngine||Vu.Platform.BrowserVersionNumber>=135)&&(this._conservativeDepthExt=e.getExtension("EXT_conservative_depth")),Vu.isDebug&&(Yu=e.getExtension("WEBGL_lose_context")),this._isGpuProfilingEnabled&&(1===this.GetWebGLVersionNumber()?this._timerExt=e.getExtension("EXT_disjoint_timer_query"):this._timerExt=e.getExtension("EXT_disjoint_timer_query_webgl2")||e.getExtension("EXT_disjoint_timer_query")),this._anisotropicExt=e.getExtension("EXT_texture_filter_anisotropic"),this._anisotropicExt?this._maxAnisotropy=e.getParameter(this._anisotropicExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):this._maxAnisotropy=0,this.GetWebGLVersionNumber()<2&&this._usesDepthBuffer&&this._canSampleDepth&&(this._depthTextureExt=e.getExtension("WEBGL_depth_texture"),!this._depthTextureExt))throw new Error("no depth texture support");this.GetWebGLVersionNumber()<2&&(this._fragDepthExt=e.getExtension("EXT_frag_depth"),this._stdDerivativesExt=e.getExtension("OES_standard_derivatives"),this._textureLodExt=e.getExtension("EXT_shader_texture_lod"));const r=Vu.Gfx.WebGLShaderProgram,o=r.GetDefaultVertexShaderSource(!1);let a=r.GetTextureFillFragmentShaderSource_WebGL1_NoFragDepth(),i=o,l=r.GetPointFragmentShaderSource_WebGL1_NoFragDepth(),d=r.GetPointVertexShaderSource_WebGL1(),c=r.GetTilemapFragmentShaderSource_WebGL1_NoFragDepth(),u=r.GetDefaultVertexShaderSource(!0),h=!1;this._usesDepthBuffer&&(this.GetWebGLVersionNumber()<2?this._fragDepthExt&&(a=r.GetTextureFillFragmentShaderSource_WebGL1_FragDepthEXT(),l=r.GetPointFragmentShaderSource_WebGL1_FragDepthEXT(),c=r.GetTilemapFragmentShaderSource_WebGL1_FragDepthEXT(),h=!0):(i=r.GetDefaultVertexShaderSource_WebGL2(),a=r.GetTextureFillFragmentShaderSource_WebGL2(this._SupportsConservativeDepth()),l=r.GetPointFragmentShaderSource_WebGL2(this._SupportsConservativeDepth()),d=r.GetPointVertexShaderSource_WebGL2(),c=r.GetTilemapFragmentShaderSource_WebGL2(this._SupportsConservativeDepth()),u=r.GetDefaultVertexShaderSource_WebGL2(!0)));const _=r.GetTileRandomizationFragmentShaderSource(this.GetWebGLVersionNumber(),h,this._stdDerivativesExt&&this._textureLodExt,this._SupportsConservativeDepth()),G=this.GetWebGLVersionNumber()>=2?r.GetDefaultVertexShaderSource_WebGL2():o,p=[[a,i,"<default>"],[a,i,"<default-device-transform>"],[l,d,"<point>"],[r.GetColorFillFragmentShaderSource(),o,"<fill>"],[r.GetLinearGradientFillFragmentShaderSource(),o,"<lineargradient>"],[r.GetPenumbraFillFragmentShaderSource(),o,"<penumbra>"],[r.GetHardEllipseFillFragmentShaderSource(),o,"<hardellipse>"],[r.GetHardEllipseOutlineFragmentShaderSource(),o,"<hardellipseoutline>"],[r.GetSmoothEllipseFillFragmentShaderSource(),o,"<smoothellipse>"],[r.GetSmoothEllipseOutlineFragmentShaderSource(),o,"<smoothellipseoutline>"],[r.GetSmoothLineFillFragmentShaderSource(),o,"<smoothline>"],[c,u,"<tilemap>"],[_,G,"<tilerandomization>"]],m=await Promise.all(p.map(e=>this.CreateShaderProgram({src:e[0],vertexSrc:e[1],name:e[2]})));this._spTextureFill=m[0],this._spDeviceTransformTextureFill=m[1],this._spPoints=m[2],this._spColorFill=m[3],this._spLinearGradientFill=m[4],this._spPenumbraFill=m[5],this._spHardEllipseFill=m[6],this._spHardEllipseOutline=m[7],this._spSmoothEllipseFill=m[8],this._spSmoothEllipseOutline=m[9],this._spSmoothLineFill=m[10],this._spTilemapFill=m[11],this._spTileRandomization=m[12],this.SetTextureFillMode()}async CreateShaderProgram(e){const t=await Vu.Gfx.WebGLShaderProgram.Create(this,e);return this._AddShaderProgram(t),t}ResetLastProgram(){this._lastProgram=null}SetSize(e,t,n){if(this._width===e&&this._height===t&&!n)return;this.EndBatch();const s=this._gl,r=this._batchState;this._width=e,this._height=t,this._SetViewport(0,0,e,t),this.CalculatePerspectiveMatrix(this._bbProjectionMatrix,e/t),this.SetProjectionMatrix(this._bbProjectionMatrix),this._spDeviceTransformTextureFill&&(s.useProgram(this._spDeviceTransformTextureFill.GetShaderProgram()),this._spDeviceTransformTextureFill._UpdateDeviceTransformUniforms(this._matP),this._lastProgram=this._spDeviceTransformTextureFill,this._batchState.currentShader=this._spDeviceTransformTextureFill),s.bindTexture(s.TEXTURE_2D,null),s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,null),s.activeTexture(s.TEXTURE0),this._lastTexture0=null,this._lastTexture1=null,this._usesDepthBuffer&&this._isAutoSizeDepthBuffer&&this._SetDepthBufferSize(this._width,this._height),this._currentRenderTarget&&this._currentRenderTarget._Resize(this._width,this._height),s.bindFramebuffer(s.FRAMEBUFFER,null),this._currentRenderTarget=null,r.currentFramebuffer=null,r.currentFramebufferNoDepth=null}_SetDepthBufferSize(e,t){const n=this._gl;this._depthBuffer&&this._depthBufferWidth===e&&this._depthBufferHeight===t||(this._canSampleDepth?(this._depthBuffer&&n.deleteTexture(this._depthBuffer),this._depthBuffer=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this._depthBuffer),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),this.GetWebGLVersionNumber()>=2?n.texImage2D(n.TEXTURE_2D,0,n.DEPTH24_STENCIL8,e,t,0,n.DEPTH_STENCIL,n.UNSIGNED_INT_24_8,null):this._depthTextureExt&&n.texImage2D(n.TEXTURE_2D,0,n.DEPTH_STENCIL,e,t,0,n.DEPTH_STENCIL,this._depthTextureExt.UNSIGNED_INT_24_8_WEBGL,null),n.bindTexture(n.TEXTURE_2D,null)):(this._depthBuffer&&n.deleteRenderbuffer(this._depthBuffer),this._depthBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,this._depthBuffer),n.renderbufferStorage(n.RENDERBUFFER,this._version>=2?n.DEPTH24_STENCIL8:n.DEPTH_STENCIL,e,t),n.bindRenderbuffer(n.RENDERBUFFER,null)),this._depthBufferWidth=e,this._depthBufferHeight=t)}SetFixedSizeDepthBuffer(e,t){this._usesDepthBuffer&&(this._isAutoSizeDepthBuffer=!1,this._SetDepthBufferSize(e,t))}SetAutoSizeDepthBuffer(){this._usesDepthBuffer&&(this._isAutoSizeDepthBuffer=!0,this._SetDepthBufferSize(this._width,this._height))}_SetViewport(e,t,n,s){const r=this._viewport;r[0]===e&&r[1]===t&&r[2]===n&&r[3]===s||(this.PushBatch().InitSetViewport(e,t,n,s),Pu.set(r,e,t,n,s),this._topOfBatch=0)}SetFovY(e){super.SetFovY(e),this.CalculatePerspectiveMatrix(this._bbProjectionMatrix,this._width/this._height)}SetNearZ(e){super.SetNearZ(e),this.CalculatePerspectiveMatrix(this._bbProjectionMatrix,this._width/this._height)}SetFarZ(e){super.SetFarZ(e),this.CalculatePerspectiveMatrix(this._bbProjectionMatrix,this._width/this._height)}SetProjectionMatrix(e){wu.exactEquals(this._matP,e)||(this.PushBatch().InitSetProjection(e),wu.copy(this._matP,e),this._topOfBatch=0,this._didChangeTransform=!0)}SetDefaultRenderTargetProjectionState(){let e,t,n;const s=this._currentRenderTarget;null===s?(e=this._bbProjectionMatrix,t=this.GetWidth(),n=this.GetHeight()):(e=s.GetProjectionMatrix(),t=s.GetWidth(),n=s.GetHeight()),this.SetProjectionMatrix(e),this._SetViewport(0,0,t,n)}SetModelViewMatrix(e){wu.exactEquals(this._matMV,e)||(this.PushBatch().InitSetModelView(e),wu.copy(this._matMV,e),this._topOfBatch=0,this._didChangeTransform=!0)}ResetDidChangeTransformFlag(){this._didChangeTransform=!1}DidChangeTransform(){return this._didChangeTransform}GetBatchState(){return this._batchState}PushBatch(){const e=this._batch;return this._batchPtr===e.length&&e.push(new Vu.Gfx.WebGLBatchJob(this._batchState)),e[this._batchPtr++]}EndBatch(){0!==this._batchPtr&&(this.IsContextLost()||(this._WriteBuffers(),this._ExecuteBatch(),this._batchPtr=0,this._vertexPtr=0,this._indexPtr=0,this._pointPtr=0,this._topOfBatch=0))}_WriteBuffers(){const e=this._gl;this._vertexPtr>0&&(e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this._vertexData.subarray(0,3*this._vertexPtr)),e.bindBuffer(e.ARRAY_BUFFER,this._texcoordBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this._texcoordData.subarray(0,2*this._vertexPtr)),e.bindBuffer(e.ARRAY_BUFFER,this._colorBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this._colorData.subarray(0,4*this._vertexPtr))),this._indexPtr>0&&(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,this._indexData.subarray(0,this._indexPtr))),this._pointPtr>0&&(e.bindBuffer(e.ARRAY_BUFFER,this._pointBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this._pointData.subarray(0,this._pointPtr)))}_ExecuteBatch(){const e=this._batch;for(let t=0,n=this._batchPtr;t<n;++t)e[t].Run()}GetOpacity(){return this._lastColor.getA()}SetColorRgba(e,t,n,s){const r=this._lastColor;r.equalsRgba(e,t,n,s)||(r.setRgba(e,t,n,s),this._currentStateGroup=null,2===this._topOfBatch&&(this._topOfBatch=0))}SetOpacity(e){const t=this._lastColor;t.getA()!==e&&(t.setA(e),this._currentStateGroup=null,2===this._topOfBatch&&(this._topOfBatch=0))}SetColor(e){const t=this._lastColor;t.equals(e)||(t.set(e),this._currentStateGroup=null,2===this._topOfBatch&&(this._topOfBatch=0))}ResetColor(){this.SetColorRgba(1,1,1,1)}GetColor(){return this._lastColor}SetTexture(e){e!==this._lastTexture0&&(this.PushBatch().InitSetTexture(e),this._lastTexture0=e,this._topOfBatch=0)}_ResetLastTexture(){this._lastTexture0=null}SetBlendMode(e){const t=this._GetBlendByIndex(e);this._SetBlend(t[0],t[1])}SetNamedBlendMode(e){const t=this.GetNamedBlend(e);this._SetBlend(t.srcBlend,t.destBlend)}_SetBlend(e,t){e===this._lastSrcBlend&&t===this._lastDestBlend||(this.PushBatch().InitSetBlend(e,t),this._lastSrcBlend=e,this._lastDestBlend=t,this._topOfBatch=0,this._currentStateGroup=null)}IsPremultipliedAlphaBlend(){return this._lastSrcBlend===this._gl.ONE&&this._lastDestBlend===this._gl.ONE_MINUS_SRC_ALPHA}SetAlphaBlend(){this._SetBlend(this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)}SetNoPremultiplyAlphaBlend(){this._SetBlend(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA)}SetCullFaceMode(e){this._lastCullFace!==e&&(this.PushBatch().InitSetCullFaceMode(e),this._lastCullFace=e,this._topOfBatch=0,this._currentStateGroup=null)}GetCullFaceMode(){return this._lastCullFace}SetFrontFaceWinding(e){this._lastFrontFaceWinding!==e&&(this.PushBatch().InitSetFrontFaceWinding(e),this._lastFrontFaceWinding=e,this._topOfBatch=0,this._currentStateGroup=null)}GetFrontFaceWinding(){return this._lastFrontFaceWinding}SetCopyBlend(){this._SetBlend(this._gl.ONE,this._gl.ZERO)}Rect(e){this.Rect2(e.getLeft(),e.getTop(),e.getRight(),e.getBottom())}Rect2(e,t,n,s){this.Quad2(e,t,n,t,n,s,e,s)}_AddToDrawBatch(e,t){(this._vertexPtr+e>65535||this._indexPtr+t>393210)&&this.EndBatch(),1===this._topOfBatch?this._batch[this._batchPtr-1]._indexCount+=t:(this.PushBatch().InitDraw(2*this._indexPtr,t),this._topOfBatch=1)}_AddIndicesForQuad(){const e=this._vertexPtr;let t=this._indexPtr;this._indexPtr+=6;const n=this._indexData;n[t++]=e,n[t++]=e+1,n[t++]=e+2,n[t++]=e,n[t++]=e+2,n[t]=e+3}Quad(e){this.Quad4(e,Lu)}Quad2(e,t,n,s,r,o,a,i){this._AddToDrawBatch(4,6),this._AddIndicesForQuad();const l=this._vertexData,d=this._vertexPtr;this._vertexPtr+=4;let c=3*d;const u=this._baseZ+this._currentZ;l[c++]=e,l[c++]=t,l[c++]=u,l[c++]=n,l[c++]=s,l[c++]=u,l[c++]=r,l[c++]=o,l[c++]=u,l[c++]=a,l[c++]=i,l[c]=u,Lu.writeToTypedArray(this._texcoordData,2*d),this._lastColor.writeToTypedArrayx4(this._colorData,4*d)}Quad3(e,t){this._AddToDrawBatch(4,6),this._AddIndicesForQuad();const n=this._vertexPtr;this._vertexPtr+=4,e.writeToTypedArray3D(this._vertexData,3*n,this._baseZ+this._currentZ),t.writeAsQuadToTypedArray(this._texcoordData,2*n),this._lastColor.writeToTypedArrayx4(this._colorData,4*n)}Quad4(e,t){this._AddToDrawBatch(4,6),this._AddIndicesForQuad();const n=this._vertexPtr;this._vertexPtr+=4,e.writeToTypedArray3D(this._vertexData,3*n,this._baseZ+this._currentZ),t.writeToTypedArray(this._texcoordData,2*n),this._lastColor.writeToTypedArrayx4(this._colorData,4*n)}Quad5(e,t,n){this._AddToDrawBatch(4,6),this._AddIndicesForQuad();const s=this._vertexPtr;this._vertexPtr+=4,e.writeToTypedArray3D(this._vertexData,3*s,this._baseZ+this._currentZ),t.writeToTypedArray(this._texcoordData,2*s),this._colorData.set(n,4*s)}Quad3D(e,t,n,s,r,o,a,i,l,d,c,u,h){this._AddToDrawBatch(4,6),this._AddIndicesForQuad();const _=this._vertexData,G=this._vertexPtr;this._vertexPtr+=4;let p=3*G;const m=this._baseZ+this._currentZ;_[p++]=e,_[p++]=t,_[p++]=m+n,_[p++]=s,_[p++]=r,_[p++]=m+o,_[p++]=a,_[p++]=i,_[p++]=m+l,_[p++]=d,_[p++]=c,_[p]=m+u,h.writeAsQuadToTypedArray(this._texcoordData,2*G),this._lastColor.writeToTypedArrayx4(this._colorData,4*G)}Quad3D2(e,t,n,s,r,o,a,i,l,d,c,u,h){this._AddToDrawBatch(4,6),this._AddIndicesForQuad();const _=this._vertexData,G=this._vertexPtr;this._vertexPtr+=4;let p=3*G;const m=this._baseZ+this._currentZ;_[p++]=e,_[p++]=t,_[p++]=m+n,_[p++]=s,_[p++]=r,_[p++]=m+o,_[p++]=a,_[p++]=i,_[p++]=m+l,_[p++]=d,_[p++]=c,_[p]=m+u,h.writeToTypedArray(this._texcoordData,2*G),this._lastColor.writeToTypedArrayx4(this._colorData,4*G)}Quad3D3(e,t,n,s,r,o,a,i,l,d,c,u,h,_){this._AddToDrawBatch(4,6),this._AddIndicesForQuad();const G=this._vertexData,p=this._vertexPtr;this._vertexPtr+=4;let m=3*p;const g=this._baseZ+this._currentZ;G[m++]=e,G[m++]=t,G[m++]=g+n,G[m++]=s,G[m++]=r,G[m++]=g+o,G[m++]=a,G[m++]=i,G[m++]=g+l,G[m++]=d,G[m++]=c,G[m]=g+u,h.writeToTypedArray(this._texcoordData,2*p),this._colorData.set(_,4*p)}DrawMesh(e,t,n,s){if(e.length%3!=0)throw new Error("vertex buffer length not multiple of 3");if(e.length>196605)throw new Error(`too many vertices (${e.length/3}, limit 65535)`);if(n.length%3!=0)throw new Error("index buffer length not multiple of 3");if(n.length>393210)throw new Error(`too many indices (${n.length}, limit 393210)`);this._AddToDrawBatch(e.length,n.length);const r=this._vertexPtr;this._vertexData.set(e,3*r),this._texcoordData.set(t,2*r);const o=this._indexData;if(0===r)o.set(n,this._indexPtr);else{let e=this._indexPtr;for(let t=0,s=n.length;t<s;++t)o[e++]=n[t]+r}const a=this._colorData;if(void 0!==s)a.set(s,4*r);else{const t=this._lastColor,n=t.getR(),s=t.getG(),o=t.getB(),i=t.getA();let l=4*r;for(let t=0,r=e.length;t<r;++t)a[l++]=n,a[l++]=s,a[l++]=o,a[l++]=i}this._vertexPtr+=e.length/3,this._indexPtr+=n.length}FullscreenQuad(e,t){this.SetCurrentZ(0),wu.copy(Wu,this._matP),wu.copy(Uu,this._matMV),this.SetDefaultRenderTargetProjectionState();const[n,s]=this.GetRenderTargetSize(this._currentRenderTarget),r=this.CalculateLookAtModelView2(0,0,this.GetDefaultCameraZ(s),0,0,0,s);if(this.SetModelViewMatrix(r),"crop"===e&&this._currentRenderTarget&&t){const e=this._width/2,n=this._height/2,s=t.GetWidth(),r=t.GetHeight(),o=this._currentRenderTarget.GetWidth(),a=this._currentRenderTarget.GetHeight(),i=Math.min(o,s),l=Math.min(a,r),d=Math.max(r-a,0),c=Math.max(a-r,0);zu.set(-e,n-c,-e+i,n-l-c),Hu.setFromRect(zu),zu.set(0,d,i,l+d),zu.divide(s,r),this.Quad3(Hu,zu)}else{const e=n/2,t=s/2;this.Rect2(-e,t,e,-t)}this.SetProjectionMatrix(Wu),this.SetModelViewMatrix(Uu)}StartRenderingPoints(e){this._lastPointTexCoords.equals(e)||(this._lastPointTexCoords.copy(e),this.PushBatch().InitSetPointTexCoords(e),this._topOfBatch=0)}FinishRenderingPoints(){}Point(e,t,n,s){this._pointPtr>=7996&&this.EndBatch();let r=this._pointPtr;const o=this._baseZ+this._currentZ;2===this._topOfBatch&&this._lastPointZ===o?this._batch[this._batchPtr-1]._indexCount++:(this.PushBatch().InitPoints(r,o,this._lastColor),this._topOfBatch=2,this._lastPointZ=o);const a=this._pointData;a[r++]=e,a[r++]=t,a[r++]=n,a[r++]=s,this._pointPtr=r}SetProgram(e){this._lastProgram!==e&&(this.PushBatch().InitSetProgram(e),this._lastProgram=e,this._topOfBatch=0,this._currentStateGroup=null)}GetProgram(){return this._lastProgram}SetDeviceTransformTextureFillMode(){this.SetProgram(this._spDeviceTransformTextureFill)}SetGradientColor(e){this.PushBatch().InitSetGradientColor(e),this._topOfBatch=0}SetEllipseParams(e,t,n=1){this.PushBatch().InitSetEllipseParams(e,t,n),this._topOfBatch=0}SetTilemapInfo(e,t,n,s,r,o,a){if(this._lastProgram!==this._spTilemapFill)throw new Error("must set tilemap fill mode first");this.PushBatch().InitSetTilemapInfo(e,t,n,s,r,o,a),this._topOfBatch=0}SetTileRandomizationInfo(e,t,n,s,r,o,a){if(this._lastProgram!==this._spTileRandomization)throw new Error("must set tile randomization mode first");this.PushBatch().InitSetTileRandomizationInfo(e,t,n,s,r,o,a),this._topOfBatch=0}SetProgramParameters(e,t,n,s,r,o,a,i,l,d,c){const u=this._lastProgram;if(c%=10800,!u._hasAnyOptionalUniforms||u.AreOptionalUniformsAlreadySetInBatch(t,n,s,r,o,a,i,l,d,c))return;const h=this.PushBatch();h.InitSetProgramParameters(),u.SetOptionalUniformsInBatch(t,n,s,r,o,a,i,l,d,c);const _=h._mat4param;_[0]=o,_[1]=a,t.writeToTypedArray(_,2),_[6]=l,_[7]=d,n.writeToTypedArray(_,12);const G=h._colorParam;r.writeToTypedArray(G,0);const p=G[1];G[1]=G[3],G[3]=p,s.writeToTypedArray(h._srcOriginRect,0),h._startIndex=c,h._indexCount=i,u._uSamplerBack.IsUsed()?h._texParam=e?e.GetTexture():null:h._texParam=null,this._topOfBatch=0}SetProgramCustomParameters(e){const t=this._lastProgram;if(0===e.length||t.AreCustomParametersAlreadySetInBatch(e))return;const n=this.PushBatch();n.InitSetProgramCustomParameters(),t.SetCustomParametersInBatch(e),Vu.shallowAssignArray(n._shaderParams,e),this._topOfBatch=0}ClearRgba(e,t,n,s){this.PushBatch().InitClearSurface2(e,t,n,s),this._topOfBatch=0}Clear(e){this.PushBatch().InitClearSurface(e),this._topOfBatch=0}Start(){}Finish(){super.Finish(),this._gl.flush()}ClearDepth(){this._usesDepthBuffer&&this._currentRenderTarget&&this._currentRenderTarget.HasDepthBuffer()&&(this.PushBatch().InitClearDepth(this._isDepthEnabled),this._topOfBatch=0)}SetDepthEnabled(e){e=!!e,this._isDepthEnabled!==e&&this._usesDepthBuffer&&(this._isDepthEnabled=e,this.PushBatch().InitSetDepthEnabled(e),this._topOfBatch=0)}IsDepthEnabled(){return this._isDepthEnabled}_GetDepthBuffer(){return this._depthBuffer}_CanSampleDepth(){return this._canSampleDepth}SetDepthSamplingEnabled(e){if(e=!!e,this._canSampleDepth&&this._isDepthSamplingEnabled!==e){if(e&&this.IsDepthEnabled())throw new Error("depth still enabled");this._isDepthSamplingEnabled=e,this.PushBatch().InitSetDepthSamplingEnabled(e),this._topOfBatch=0}}SetScissorRect(e,t,n,s,r=0){e=Math.floor(e),t=Math.floor(t),n=Math.floor(n),s=Math.floor(s),this._lastScissorRect.equalsWH(e,t,n,s)||(this._lastScissorRect.setWH(e,t,n,s),t=(r||this.GetRenderTargetSize(this.GetRenderTarget())[1])-t-s,this.PushBatch().InitSetScissor(!0,e,t,n,s),this._topOfBatch=0)}RemoveScissorRect(){-1!==this._lastScissorRect.getRight()&&(this._lastScissorRect.set(0,0,-1,-1),this.PushBatch().InitSetScissor(!1,0,0,0,0),this._topOfBatch=0)}CheckForQueryResults(){for(const e of this._allQueryResultBuffers)e.CheckForResults(this._frameNumber)}IsContextLost(){return!this._gl||this._gl.isContextLost()||this._isInitialisingAfterContextRestored}OnContextLost(){super.OnDeviceOrContextLost(),Vu.Gfx.WebGLRendererTexture.OnContextLost(),Vu.Gfx.WebGLRenderTarget.OnContextLost(),Vu.Gfx.RendererText.OnContextLost();for(const e of this._allQueryResultBuffers)e.Clear();this._extensions=[],this._timerExt=null,this._parallelShaderCompileExt=null,this._conservativeDepthExt=null,this._anisotropicExt=null,this._depthTextureExt=null,this._fragDepthExt=null,this._stdDerivativesExt=null,this._textureLodExt=null,this._maxAnisotropy=0,this._unmaskedVendor="(unavailable)",this._unmaskedRenderer="(unavailable)",this._lastProgram=null,this._spDeviceTransformTextureFill=null,this._depthBuffer=null;for(const e of this._stateGroups.values())e.OnContextLost()}async OnContextRestored(){this._isInitialisingAfterContextRestored=!0,await this.InitState(),this._isInitialisingAfterContextRestored=!1;for(const e of this._stateGroups.values())e.OnContextRestored(this);this.SetSize(this._width,this._height,!0)}CreateStaticTexture(e,t){if(this.IsContextLost())throw new Error("context lost");this.EndBatch();const n=Vu.New(Vu.Gfx.WebGLRendererTexture,this);return n._CreateStatic(e,t),n}async CreateStaticTextureAsync(e,t){if(this.IsContextLost())throw new Error("context lost");if(t=Object.assign({},t),Vu.Supports.ImageBitmapOptions){let n=await createImageBitmap(e,{premultiplyAlpha:"premultiply"});const s=t.wrapX&&"clamp-to-edge"!==t.wrapX||t.wrapY&&"clamp-to-edge"!==t.wrapY,r=Vu.isPOT(n.width)&&Vu.isPOT(n.height);return this.SupportsNPOTTextures()||r||!s?t.premultiplyAlpha=!1:Vu.Supports.ImageBitmapOptionsResize?(n=await createImageBitmap(e,{premultiplyAlpha:"premultiply",resizeWidth:Vu.nextHighestPowerOfTwo(n.width),resizeHeight:Vu.nextHighestPowerOfTwo(n.height)}),t.premultiplyAlpha=!1):n=await createImageBitmap(e,{premultiplyAlpha:"none"}),await Vu.Asyncify(()=>this.CreateStaticTexture(n,t))}if(e instanceof Blob){if("undefined"==typeof Image)throw new Error("texture upload variant not supported in worker");const t=await Vu.BlobToImage(e);e=t}return await Vu.Asyncify(()=>this.CreateStaticTexture(e,t))}CreateDynamicTexture(e,t,n){this.EndBatch();const s=Vu.New(Vu.Gfx.WebGLRendererTexture,this);return s._CreateDynamic(e,t,n),s}UpdateTexture(e,t,n){this.EndBatch(),t._Update(e,n)}DeleteTexture(e){e&&(e.SubtractReference(),e.GetReferenceCount()>0||(this.EndBatch(),e===this._lastTexture0&&(this._gl.bindTexture(this._gl.TEXTURE_2D,null),this._lastTexture0=null),e===this._lastTexture1&&(this._gl.activeTexture(this._gl.TEXTURE1),this._gl.bindTexture(this._gl.TEXTURE_2D,null),this._gl.activeTexture(this._gl.TEXTURE0),this._lastTexture1=null),e._Delete()))}CreateRenderTarget(e){let t=this._width,n=this._height,s=!0;if(e&&("number"==typeof e.width&&(t=Math.floor(e.width),s=!1),"number"==typeof e.height&&(n=Math.floor(e.height),s=!1)),t<=0||n<=0)throw new Error("invalid size");this.EndBatch();const r=Vu.New(Vu.Gfx.WebGLRenderTarget,this);return r._Create(t,n,Object.assign({isDefaultSize:s},e)),this._currentRenderTarget=null,this._batchState.currentFramebuffer=null,this._batchState.currentFramebufferNoDepth=null,r}SetRenderTarget(e,t=!0){e!==this._currentRenderTarget&&(e&&e.IsDefaultSize()&&e._Resize(this._width,this._height),this.PushBatch().InitSetRenderTarget(e),this._currentRenderTarget=e,this._topOfBatch=0,t&&this.SetDefaultRenderTargetProjectionState())}GetRenderTarget(){return this._currentRenderTarget}GetRenderTargetSize(e){return e?[e.GetWidth(),e.GetHeight()]:[this._width,this._height]}CopyRenderTarget(e,t="stretch"){this._version<2||this._currentRenderTarget&&this._currentRenderTarget.GetMultisampling()>0?(this.SetCopyBlend(),this.ResetColor(),this.DrawRenderTarget(e,t)):(this.PushBatch().InitBlitFramebuffer(e,this._currentRenderTarget,t),this._topOfBatch=0)}DrawRenderTarget(e,t="stretch"){const n=e.GetTexture();if(!n)throw new Error("not a texture-backed render target");this.SetTexture(n),this.FullscreenQuad(t,n)}InvalidateRenderTarget(e){this._version<2||(this.PushBatch().InitInvalidateFramebuffer(e._GetFramebuffer()),this._topOfBatch=0)}DeleteRenderTarget(e){this.SetRenderTarget(null),this.EndBatch();const t=e.GetTexture();t===this._lastTexture0&&(this._gl.bindTexture(this._gl.TEXTURE_2D,null),this._lastTexture0=null),t===this._lastTexture1&&(this._gl.activeTexture(this._gl.TEXTURE1),this._gl.bindTexture(this._gl.TEXTURE_2D,null),this._gl.activeTexture(this._gl.TEXTURE0),this._lastTexture1=null),e._Delete()}async ReadBackRenderTargetToImageData(e,t,n){this.EndBatch();const s=this._currentRenderTarget;let r,o,a;e?(r=e.GetWidth(),o=e.GetHeight(),a=e._GetFramebuffer()):(r=this.GetWidth(),o=this.GetHeight(),a=null);let i=0,l=0,d=r,c=o;if(n){i=Vu.clamp(Math.floor(n.getLeft()),0,r-1),l=Vu.clamp(Math.floor(n.getTop()),0,o-1);let e=n.width();e=0===e?r-i:Vu.clamp(Math.floor(e),0,r-i);let t=n.height();t=0===t?o-l:Vu.clamp(Math.floor(t),0,o-l),d=e,c=t,l=o-(l+c)}const u=this._gl;u.bindFramebuffer(u.FRAMEBUFFER,a);const h=()=>{u.bindFramebuffer(u.FRAMEBUFFER,null),this._currentRenderTarget=null,this._batchState.currentFramebuffer=null,this._batchState.currentFramebufferNoDepth=null,this.SetRenderTarget(s)};let _;if(!t&&this.GetWebGLVersionNumber()>=2){u.bindFramebuffer(u.READ_FRAMEBUFFER,a);const e=u.createBuffer(),t=d*c*4,n=u.PIXEL_PACK_BUFFER;u.bindBuffer(n,e),u.bufferData(n,t,u.STREAM_READ),u.readPixels(i,l,d,c,u.RGBA,u.UNSIGNED_BYTE,0),u.bindFramebuffer(u.READ_FRAMEBUFFER,null),u.bindBuffer(n,null),h();const s=u.fenceSync(u.SYNC_GPU_COMMANDS_COMPLETE,0);await this._WaitForObjectReady(()=>u.getSyncParameter(s,u.SYNC_STATUS)===u.SIGNALED),u.deleteSync(s),_=new ImageData(d,c),u.bindBuffer(n,e),u.getBufferSubData(n,0,new Uint8Array(_.data.buffer),0,t),u.bindBuffer(n,null),u.deleteBuffer(e)}else _=new ImageData(d,c),u.readPixels(i,l,d,c,u.RGBA,u.UNSIGNED_BYTE,new Uint8Array(_.data.buffer)),h();return _}CoplanarStartStencilPass(){this.SetDepthEnabled(!0),this.PushBatch().InitCoplanarStartStencilPass(),this._topOfBatch=0,this._coplanarMode=1}CoplanarStartColorPass(){this.SetDepthEnabled(!1),this.PushBatch().InitCoplanarStartColorPass(),this._topOfBatch=0,this._coplanarMode=2}IsCoplanarColorPass(){return 2===this._coplanarMode}CoplanarRestoreStandardRendering(){this.SetDepthEnabled(!0),this.PushBatch().InitCoplanarRestore(),this._topOfBatch=0,this._coplanarMode=0}StartQuery(e){this.SupportsGPUProfiling()&&(this.PushBatch().InitStartQuery(e),this._topOfBatch=0)}EndQuery(e){this.SupportsGPUProfiling()&&(this.PushBatch().InitEndQuery(e),this._topOfBatch=0)}_WaitForObjectReady(e){const t=new Promise(t=>Xu.add({resolve:t,checkFunc:e}));return-1===qu&&(qu=self.requestAnimationFrame(Mu)),t}GetEstimatedBackBufferMemoryUsage(){return this._width*this._height*(this._attribs.alpha?4:3)}GetEstimatedRenderBufferMemoryUsage(){let e=0;for(const t of Vu.Gfx.WebGLRenderTarget.allRenderTargets())t.GetTexture()||(e+=t.GetEstimatedMemoryUsage());return e}GetEstimatedTextureMemoryUsage(){let e=0;for(const t of Vu.Gfx.WebGLRendererTexture.allTextures())e+=t.GetEstimatedMemoryUsage();return e}GetWebGLVersionString(){return this._versionString}GetWebGLVersionNumber(){return this._version}IsColorDataF16(){return this._isColorDataF16}GetDisplayName(){return"webgl"+this.GetWebGLVersionNumber()}SupportsNPOTTextures(){return this.GetWebGLVersionNumber()>=2}GetMaxTextureSize(){return this._maxTextureSize}GetMinPointSize(){return this._minPointSize}GetMaxPointSize(){return this._maxPointSize}GetUnmaskedVendor(){return this._unmaskedVendor}GetUnmaskedRenderer(){return this._unmaskedRenderer}GetWebGLExtensionsAnalyticsString(){if(this.GetWebGLVersionNumber()>=2)return"webgl2";{const e=[];return this._fragDepthExt&&e.push("EXT_frag_depth"),this._stdDerivativesExt&&e.push("OES_standard_derivatives"),this._textureLodExt&&e.push("EXT_shader_texture_lod"),e.length>0?"webgl1:"+e.join(","):"webgl1:none"}}GetExtensions(){return this._extensions}SupportsGPUProfiling(){return!!this._timerExt}_GetDisjointTimerQueryExtension(){return this._timerExt}_GetParallelShaderCompileExtension(){return this._parallelShaderCompileExt}_SupportsConservativeDepth(){return!!this._conservativeDepthExt}_GetAnisotropicExtension(){return this._anisotropicExt}_GetMaxAnisotropy(){return this._maxAnisotropy}_AddQueryResultBuffer(e){this._allQueryResultBuffers.add(e)}_RemoveQueryResultBuffer(e){this._allQueryResultBuffers.delete(e)}_GetTimeQueryStack(){return this._timeQueryStack}GetContext(){return this._gl}_InitBlendModes(e){this._InitBlendModeData([["normal",e.ONE,e.ONE_MINUS_SRC_ALPHA],["additive",e.ONE,e.ONE],["xor",e.ONE,e.ONE_MINUS_SRC_ALPHA],["copy",e.ONE,e.ZERO],["destination-over",e.ONE_MINUS_DST_ALPHA,e.ONE],["source-in",e.DST_ALPHA,e.ZERO],["destination-in",e.ZERO,e.SRC_ALPHA],["source-out",e.ONE_MINUS_DST_ALPHA,e.ZERO],["destination-out",e.ZERO,e.ONE_MINUS_SRC_ALPHA],["source-atop",e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],["destination-atop",e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA]])}CreateWebGLText(){return this.CreateRendererText()}}}{const Ku=self.C3,Ju={getDrawSize:null,getRenderTarget:null,releaseRenderTarget:null,getTime:null,redraw:null};Ku.Gfx.EffectChainManager=class{constructor(e){e=Object.assign({},Ju,e),this._cbGetDrawSize=e.getDrawSize,this._cbGetRenderTarget=e.getRenderTarget,this._cbReleaseRenderTarget=e.releaseRenderTarget,this._cbGetTime=e.getTime,this._cbRedraw=e.redraw,this._webgpuBackTexture=null,this._allEffectChains=new Set}_AddEffectChain(e){this._allEffectChains.add(e)}_RemoveEffectChain(e){this._allEffectChains.delete(e)}OnContextLost(){this._webgpuBackTexture=null;for(const e of this._allEffectChains)e.OnContextLost()}GetDrawSize(e){return this._cbGetDrawSize?this._cbGetDrawSize(e):[e.GetWidth(),e.GetHeight()]}GetRenderTarget(e){return this._cbGetRenderTarget(e)}ReleaseRenderTarget(e,t){this._cbReleaseRenderTarget(e,t)}GetTime(){return this._cbGetTime()}Redraw(e){this._cbRedraw(e)}_GetWebGPUBackTexture(e,t,n){return t=Math.floor(t),n=Math.floor(n),!this._webgpuBackTexture||this._webgpuBackTexture.GetWidth()===t&&this._webgpuBackTexture.GetHeight()===n||(e.DeleteTexture(this._webgpuBackTexture),this._webgpuBackTexture=null),null===this._webgpuBackTexture&&(this._webgpuBackTexture=e.CreateStaticTexture(null,{width:t,height:n,sampling:"nearest",mipMap:!1})),this._webgpuBackTexture}}}{const $u=self.C3,Zu=self.assert,Qu=self.glMatrix,eh=Qu.mat4,th=$u.New($u.Rect),nh=$u.New($u.Rect),sh=$u.New($u.Rect),rh=$u.New($u.Rect),oh=eh.create(),ah=eh.create(),ih={drawContent:null,getSourceTextureInfo:null,getShaderParameters:null,invalidateRenderTargets:!1},lh={indexMap:null,forcePreDraw:!1,forcePostDraw:!1,is3D:!1,isSourceTextureRotated:!1,isRotatedOrNegativeSizeInstance:!1,useFullSurface:!1};$u.Gfx.EffectChain=class{constructor(e,t){t=Object.assign({},ih,t),this._manager=e,this._cbDrawContent=t.drawContent,this._cbGetSourceTextureInfo=t.getSourceTextureInfo,this._cbGetShaderParameters=t.getShaderParameters,this._cbDrawContentHook=null,this._shaderProgramList=[],this._shaderProgramIndices=[],this._steps=[],this._needsRebuild=!1,this._blendMode=0,this._isAnyShaderAnimated=!1,this._isAnyShaderDepthSampling=!1,this._isAnyShaderBackgroundBlending=!1,this._isAnyShaderCrossSampling=!1,this._isAnyIsSrcTexRotated=!1,this._useCopyTextureBackgroundSampling=!1,this._didChangeTransform=!1,this._depthEnabledAtStart=!1,this._coplanarColorPassAtStart=!1,this._canUseFastPath=!1,this._useFullSurface=!1,this._isSourceTextureRotated=!1,this._numTempSurfacesRequired=0,this._renderTargets=[null,null,null],this._invalidateRenderTargets=!!t.invalidateRenderTargets,this._boxExtendHorizontal=0,this._boxExtendVertical=0,this._drawWidth=0,this._drawHeight=0,this._contentObject=null,this._contextObject=null,this._layoutRect=$u.New($u.Rect),this._drawSurfaceRect=$u.New($u.Rect),this._rcTexOriginal=$u.New($u.Rect),this._rcTexBounce=$u.New($u.Rect),this._rcTexDest=$u.New($u.Rect),this._devicePixelRatio=1,this._layerScale=1,this._layerAngle=0,this._time=0,this._destRenderTarget=null,this._backTex=null,this._compositOffX=0,this._compositOffY=0,this._compositRtWidth=0,this._compositRtHeight=0,this._updateOwnProjection=!1,this._projectionMatrix=eh.create(),this._modelViewMatrix=eh.create(),this._manager._AddEffectChain(this)}Release(){this._manager._RemoveEffectChain(this),$u.clearArray(this._steps),$u.clearArray(this._shaderProgramList),$u.clearArray(this._shaderProgramIndices),this._contentObject=null,this._contextObject=null,this._cbDrawContent=null,this._cbGetSourceTextureInfo=null,this._cbGetShaderParameters=null}OnContextLost(){this._needsRebuild=!0,$u.clearArray(this._steps),$u.clearArray(this._shaderProgramList),$u.clearArray(this._shaderProgramIndices)}NeedsRebuild(){return this._needsRebuild}BuildSteps(e,t){if(t=Object.assign({},lh,t),$u.clearArray(this._steps),this._boxExtendHorizontal=0,this._boxExtendVertical=0,this._isAnyShaderAnimated=!1,this._isAnyShaderDepthSampling=!1,this._isAnyShaderBackgroundBlending=!1,this._isAnyShaderCrossSampling=!1,this._isAnyIsSrcTexRotated=!1,this._useCopyTextureBackgroundSampling=!1,this._numTempSurfacesRequired=0,this._isSourceTextureRotated=!!t.isSourceTextureRotated,this._useFullSurface=!!t.useFullSurface,this._needsRebuild=!1,$u.shallowAssignArray(this._shaderProgramList,e),0===e.length)return;if(t.indexMap){if(t.indexMap.length!==e.length)throw new Error("incorrect indexMap length");$u.shallowAssignArray(this._shaderProgramIndices,t.indexMap)}else{$u.clearArray(this._shaderProgramIndices);for(let t=0,n=e.length;t<n;++t)this._shaderProgramIndices.push(t)}for(const t of e)this._boxExtendHorizontal+=t.GetBoxExtendHorizontal(),this._boxExtendVertical+=t.GetBoxExtendVertical(),t.IsAnimated()&&(this._isAnyShaderAnimated=!0),t.UsesDepth()&&(this._isAnyShaderDepthSampling=!0),t.BlendsBackground()&&(this._isAnyShaderBackgroundBlending=!0),t.UsesCrossSampling()&&(this._isAnyShaderCrossSampling=!0),t.UsesIsSrcTexRotated()&&(this._isAnyIsSrcTexRotated=!0);this._useCopyTextureBackgroundSampling=this._ShouldUseCopyTextureBackgroundSampling(e[0].GetRenderer());const n=this._ShouldPreDraw(e[0],t),s=this._ShouldPostDraw(e.at(-1),t);if(1===e.length&&!n&&!s)return void(this._canUseFastPath=!0);this._canUseFastPath=!1;let r=0;n&&(this._numTempSurfacesRequired=1,this._steps.push($u.New($u.Gfx.EffectChain.Step.PreDraw,this,-1,1)),r=1);for(let t=0,o=e.length;t<o;++t)if(0!==t||n){let e=1===r?2:1;t!==o-1||s||(e=0),this._numTempSurfacesRequired=Math.max(this._numTempSurfacesRequired,e),this._steps.push($u.New($u.Gfx.EffectChain.Step.Bounce,this,r,e,t)),r=e}else this._numTempSurfacesRequired=1,this._steps.push($u.New($u.Gfx.EffectChain.Step.FirstBounce,this,-1,1,t)),r=1;s&&this._steps.push($u.New($u.Gfx.EffectChain.Step.PostDraw,this,r,0))}_ShouldPreDraw(e,t){return!!(t.forcePreDraw||e.MustPreDraw()||t.is3D&&!e.Supports3DDirectRendering()||e.UsesDepth()&&!this._useFullSurface||0!==this._boxExtendHorizontal||0!==this._boxExtendVertical)||(e.GetRenderer().IsWebGL()?e.BlendsBackground()&&(t.isRotatedOrNegativeSizeInstance||t.isSourceTextureRotated)||e.UsesAnySrcRectOrPixelSize()&&t.isSourceTextureRotated:e.BlendsBackground()&&!this._useCopyTextureBackgroundSampling&&t.isRotatedOrNegativeSizeInstance)}_ShouldPostDraw(e,t){return!!t.forcePostDraw||(e.GetRenderer().IsWebGL()?e.BlendsBackground()||e.UsesCrossSampling():(e.BlendsBackground()||e.UsesCrossSampling())&&this._UseRenderTargetBackgroundSampling())}_ShouldUseCopyTextureBackgroundSampling(e){return e.IsWebGPU()&&this._isAnyShaderBackgroundBlending&&!this._isAnyShaderCrossSampling}Render(e,t,n){e.IsWebGPU()&&null===t&&(t=e.GetBackbufferRenderTarget()),this._destRenderTarget=t,this._contentObject=n.contentObject||null,this._contextObject=n.contextObject||null,this._blendMode=n.blendMode||0,this._devicePixelRatio=n.devicePixelRatio||1,this._layerScale=n.layerScale||1,this._layerAngle=n.layerAngle||0,this._time="number"==typeof n.time?n.time:this._manager.GetTime(),this._didChangeTransform=!1,e.ResetDidChangeTransformFlag(),this._isAnyShaderAnimated&&this._Redraw();let s=!1;if(this._UseCopyTextureBackgroundSampling()&&(this._CalculateDrawSizeAndRectangles(e,n),s=!0,this._backTex=this._manager._GetWebGPUBackTexture(e,this._drawWidth,this._drawHeight),th.copy(this._drawSurfaceRect),th.roundOuter(),e.IsWebGPU()&&e._MaybeDoPendingClearRenderPass(this._destRenderTarget),e.CopyTextureToTexture(this._destRenderTarget.GetTexture(),this._backTex,th.getLeft(),th.getTop(),th.width(),th.height())),this._canUseFastPath)this._Render_FastPath(e,n);else if(s||this._CalculateDrawSizeAndRectangles(e,n),0!==this._rcTexOriginal.width()||0!==this._rcTexOriginal.height()){e.SetAlphaBlend(),e.ResetCullState(),e.ResetColor(),e.SetBaseZ(0),e.SetCurrentZ(0),this._cbDrawContentHook=n.drawContentHook||null,this._compositOffX=n.compositOffX||0,this._compositOffY=n.compositOffY||0,this._compositRtWidth=n.compositRtWidth||0,this._compositRtHeight=n.compositRtHeight||0,this._updateOwnProjection=!!n.updateOwnProjection,this._OnBeforeStartEffectChain(e),this._renderTargets[0]=t,this._renderTargets[1]=this._numTempSurfacesRequired>=1?this._GetRenderTarget():null,this._renderTargets[2]=2===this._numTempSurfacesRequired?this._GetRenderTarget():null;for(const t of this._steps){const n=this._GetRenderTargetForId(t.GetSrcTargetId()),s=this._GetRenderTargetForId(t.GetDestTargetId());e.IsWebGPU()?t.Run_WebGPU(e,n,s):t.Run_WebGL(e,n,s)}e.SetTexture(null),this._renderTargets[1]&&this._ReleaseRenderTarget(this._renderTargets[1]),this._renderTargets[2]&&this._ReleaseRenderTarget(this._renderTargets[2]),this._renderTargets.fill(null),this._OnAfterEndEffectChain(e),this._destRenderTarget=null,this._backTex=null,this._contentObject=null,this._contextObject=null,this._cbDrawContentHook=null}}_CalculateDrawSizeAndRectangles(e,t){const[n,s]=this._manager.GetDrawSize(e);this._SetDrawSize(e,n,s),this._CalculateRectangles(t)}_SetDrawSize(e,t,n){if(t<=0||n<=0)throw new Error("invalid draw size");this._drawWidth===t&&this._drawHeight===n||this._CalculateDeviceTransformMatrices(e,t,n,0,0,this._projectionMatrix,this._modelViewMatrix),this._drawWidth=t,this._drawHeight=n}_CalculateDeviceTransformMatrices(e,t,n,s,r,o,a){const i=t/2+s,l=n/2+r;e.CalculatePerspectiveMatrix(o,t/n);const d=e.CalculateLookAtModelView2(i,l,e.GetDefaultCameraZ(n),i,l,0,n);eh.copy(a,d)}_CalculateRectangles(e){this._layoutRect.copy(e.layoutRect),e.drawSurfaceRect?this._drawSurfaceRect.copy(e.drawSurfaceRect):this._drawSurfaceRect.set(0,0,this._drawWidth,this._drawHeight),this._rcTexOriginal.copy(this._drawSurfaceRect),this._rcTexOriginal.divide(this._drawWidth,this._drawHeight);const t=this._layerScale*this._devicePixelRatio;this._drawSurfaceRect.inflate(this._boxExtendHorizontal*t,this._boxExtendVertical*t),this._rcTexDest.copy(this._drawSurfaceRect),this._rcTexDest.divide(this._drawWidth,this._drawHeight),this._drawSurfaceRect.clampBoth(0,0,this._drawWidth,this._drawHeight),this._rcTexBounce.copy(this._drawSurfaceRect),this._rcTexBounce.divide(this._drawWidth,this._drawHeight)}_OnBeforeStartEffectChain(e){if(this._depthEnabledAtStart=e.IsDepthEnabled(),this._coplanarColorPassAtStart=e.IsCoplanarColorPass(),this._useFullSurface)e.SetDepthEnabled(!1),this._isAnyShaderDepthSampling&&e.SetDepthSamplingEnabled(!0);else{if(th.copy(this._drawSurfaceRect),e.IsWebGL()){const e=this._layerScale*this._devicePixelRatio;th.inflate(Math.max(this._boxExtendHorizontal,1)*e,Math.max(this._boxExtendVertical,1)*e),th.roundOuter(),th.clamp(0,0,this._drawWidth,this._drawHeight)}else th.roundOuter();e.SetScissorRect(th.getLeft(),th.getTop(),th.width(),th.height(),this._drawHeight)}}_OnAfterEffectChainDrawContent(e){e.ResetColor(),this._useFullSurface||(this._coplanarColorPassAtStart&&e.CoplanarRestoreStandardRendering(),e.SetDepthEnabled(!1),this._isAnyShaderDepthSampling&&e.SetDepthSamplingEnabled(!0)),e.IsWebGPU()&&e.SetNormalizedCoordsProgramVariant(!0)}_OnAfterEndEffectChain(e){e.SetDepthSamplingEnabled(!1),this._coplanarColorPassAtStart&&e.CoplanarStartColorPass(),e.SetDepthEnabled(this._depthEnabledAtStart),this._useFullSurface||e.RemoveScissorRect(),e.IsWebGPU()&&e.SetNormalizedCoordsProgramVariant(!1),this._didChangeTransform=e.DidChangeTransform()}_ClampRcTexDest(){this._rcTexDest.clamp(0,0,1,1)}_GetRenderTargetForId(e){return e<0?null:this._renderTargets[e]}_GetRenderTarget(){return this._manager.GetRenderTarget(this)}_GetDestRenderTarget(){return this._destRenderTarget}_ReleaseRenderTarget(e){this._manager.ReleaseRenderTarget(e,this)}_GetShaderProgramAt(e){return this._shaderProgramList[e]}_DrawContent(e){this._cbDrawContentHook?this._cbDrawContentHook(this,e,()=>this._cbDrawContent(e,this)):this._cbDrawContent(e,this),this._canUseFastPath||this._OnAfterEffectChainDrawContent(e)}_IsRenderTargetSameSizeAndOffset(e){if(this._useFullSurface)return!0;if(0!==this._compositOffX||0!==this._compositOffY||0!==this._compositRtWidth||0!==this._compositRtHeight)return!1;const[t,n]=e.GetRenderTargetSize(e.GetRenderTarget());return t===this._drawWidth&&n===this._drawHeight}_SetDeviceTransform(e,t){let n=this._projectionMatrix,s=this._modelViewMatrix;if(t&&!this._IsRenderTargetSameSizeAndOffset(e)){let t,r;n=oh,s=ah,0!==this._compositRtWidth&&0!==this._compositRtHeight?[t,r]=[this._compositRtWidth,this._compositRtHeight]:[t,r]=e.GetRenderTargetSize(e.GetRenderTarget()),this._CalculateDeviceTransformMatrices(e,t,r,this._compositOffX,this._compositOffY,n,s),this._useFullSurface||e.RemoveScissorRect()}e.SetProjectionMatrix(n),e.SetModelViewMatrix(s)}_Redraw(){this._manager.Redraw(this)}_GetShaderParameters(e,t){return this._cbGetShaderParameters(this._shaderProgramIndices[e],t)}_SetProgramParameters(e,t){let n=this._rcTexDest,s=this._rcTexBounce,r=this._rcTexOriginal;e.IsWebGL()&&(nh.copy(n),nh.flipAround(1),n=nh,sh.copy(s),sh.flipAround(1),s=sh,rh.copy(r),rh.flipAround(1),r=rh),this._DoSetProgramParameters(e,t,s,r,n,1/this._drawWidth,1/this._drawHeight)}_SetFirstBounceProgramParameters(e,t){let n=this._rcTexBounce,s=this._rcTexOriginal,r=1/this._drawWidth,o=1/this._drawHeight;if(this._cbGetSourceTextureInfo){let{srcTexRect:e,srcWidth:t,srcHeight:a}=this._cbGetSourceTextureInfo(this._contentObject);e||(th.set(0,0,0,0),e=th),t||(t=this._drawWidth),a||(a=this._drawHeight),n=e,s=e,r=1/t,o=1/a}else e.IsWebGL()&&(sh.copy(n),sh.flipAround(1),n=sh,rh.copy(s),rh.flipAround(1),s=rh);let a=this._rcTexDest;e.IsWebGL()&&(a=nh,a.copy(this._rcTexDest),a.flipAround(1)),this._DoSetProgramParameters(e,t,n,s,a,r,o),e.IsWebGPU()&&this._isAnyIsSrcTexRotated&&e.SetProgramParameter_IsSrcTexRotated(this._isSourceTextureRotated)}_GetBackTex(e){return this._isAnyShaderBackgroundBlending?e.IsWebGPU()?this._UseCopyTextureBackgroundSampling()?this._backTex:this._destRenderTarget.GetTexture():this._destRenderTarget:null}_DoSetProgramParameters(e,t,n,s,r,o,a){e.SetProgramParameters(this._GetBackTex(e),r,n,s,this._layoutRect,o,a,this._devicePixelRatio,this._layerScale,this._layerAngle,this._time),e.SetProgramCustomParameters(this._GetShaderParameters(t,e))}_Render_FastPath(e,t){const n=this._shaderProgramList[0],s=e.IsDepthEnabled(),r=n.UsesDepth();r&&(e.SetDepthEnabled(!1),e.SetDepthSamplingEnabled(!0),this._rcTexDest.set(0,0,1,1),this._rcTexOriginal.set(0,0,1,1)),e.SetProgram(n),e.SetBlendMode(this._blendMode),e.SetRenderTarget(this._destRenderTarget),e.ResetCullState();let o=0,a=1;if(this._rcTexOriginal.set(0,0,1,1),n.UsesAnySrcRectOrPixelSize()&&this._cbGetSourceTextureInfo){const{srcTexRect:e,srcWidth:t,srcHeight:n}=this._cbGetSourceTextureInfo(this._contentObject);e&&this._rcTexOriginal.copy(e),o=Number.isFinite(t)?1/t:0,a=Number.isFinite(n)?1/n:0}else{const[t,n]=this._manager.GetDrawSize(e);o=1/t,a=1/n}t.layoutRect?this._layoutRect.copy(t.layoutRect):this._layoutRect.set(0,0,0,0),e.SetProgramParameters(this._GetBackTex(e),this._rcTexDest,this._rcTexOriginal,this._rcTexOriginal,this._layoutRect,o,a,this._devicePixelRatio,this._layerScale,this._layerAngle,this._time),e.SetProgramCustomParameters(this._GetShaderParameters(0,e)),e.IsWebGPU()&&this._isAnyIsSrcTexRotated&&e.SetProgramParameter_IsSrcTexRotated(this._isSourceTextureRotated),e.SetBaseZ(0),this._DrawContent(e),r&&(e.SetDepthSamplingEnabled(!1),e.SetDepthEnabled(s))}_UseCopyTextureBackgroundSampling(){return this._useCopyTextureBackgroundSampling}_UseRenderTargetBackgroundSampling(){return!this._useCopyTextureBackgroundSampling}IsAnyShaderBackgroundBlending(){return this._isAnyShaderBackgroundBlending}CanSkipCalculatingDrawSurfaceRect(){return!!this._canUseFastPath&&!this._UseCopyTextureBackgroundSampling()}UseFullSurface(){return this._useFullSurface}GetContentObject(){return this._contentObject}GetContextObject(){return this._contextObject}_GetBlendMode(){return this._blendMode}_UpdateOwnProjection(){return this._updateOwnProjection}DidChangeTransform(){return this._didChangeTransform}_GetDrawSurfaceRect(){return this._drawSurfaceRect}_GetRcTexBounce(){return this._rcTexBounce}_ShouldInvalidateRenderTargets(){return this._invalidateRenderTargets}async DebugLogRenderTargetContents(e,t,n){}}}{const dh=self.C3;dh.Gfx.EffectChain.Step=class{constructor(e,t,n,s=-1){this._effectChain=e,this._srcTargetId=t,this._destTargetId=n,this._index=s}GetEffectChain(){return this._effectChain}GetSrcTargetId(){return this._srcTargetId}GetDestTargetId(){return this._destTargetId}GetIndex(){return this._index}GetShaderProgram(){return this.GetEffectChain()._GetShaderProgramAt(this.GetIndex())}Run_WebGL(e,t,n){}Run_WebGPU(e,t,n){}}}{const ch=self.C3;ch.Gfx.EffectChain.Step.PreDraw=class extends ch.Gfx.EffectChain.Step{constructor(e,t,n,s){super(e,t,n,s)}Run_WebGL(e,t,n){const s=this.GetEffectChain();e.SetAlphaBlend(),e.ResetCullState(),e.SetTextureFillMode(),e.SetRenderTarget(n,s._UpdateOwnProjection()),e.ClearRgba(0,0,0,0),s._DrawContent(e),s._ClampRcTexDest()}Run_WebGPU(e,t,n){const s=this.GetEffectChain();e.SetAlphaBlend(),e.ResetCullState(),e.SetTextureFillMode(),e.SetRenderTarget(n,!1),e.ClearRgba(0,0,0,0),s._DrawContent(e),s._ClampRcTexDest()}}}{const uh=self.C3,hh=uh.New(uh.Rect),_h=uh.New(uh.Quad);uh.Gfx.EffectChain.Step.PostDraw=class extends uh.Gfx.EffectChain.Step{constructor(e,t,n,s){super(e,t,n,s)}Run_WebGL(e,t,n){const s=this.GetEffectChain();e.SetTextureFillMode(),e.SetRenderTarget(n),s._SetDeviceTransform(e,!0),e.SetBlendMode(s._GetBlendMode()),e.SetTexture(t.GetTexture()),_h.setFromRect(s._GetDrawSurfaceRect()),hh.copy(s._GetRcTexBounce()),hh.flipAround(1),e.Quad3(_h,hh),s._ShouldInvalidateRenderTargets()&&e.InvalidateRenderTarget(t)}Run_WebGPU(e,t,n){const s=this.GetEffectChain();e.SetTextureFillMode(),e.SetRenderTarget(n,!1),s._IsRenderTargetSameSizeAndOffset(e)?_h.setFromRect(s._GetRcTexBounce()):(e.SetNormalizedCoordsProgramVariant(!1),s._SetDeviceTransform(e,!0),_h.setFromRect(s._GetDrawSurfaceRect())),e.SetBackTexture(null),e.SetBlendMode(s._GetBlendMode()),e.SetTexture(t.GetTexture()),s.UseFullSurface()?e.FullscreenQuad():e.Quad3(_h,s._GetRcTexBounce())}}}{const Gh=self.C3;Gh.Gfx.EffectChain.Step.FirstBounce=class extends Gh.Gfx.EffectChain.Step{constructor(e,t,n,s){super(e,t,n,s)}Run_WebGL(e,t,n){const s=this.GetEffectChain();e.SetRenderTarget(n,s._UpdateOwnProjection()),e.ClearRgba(0,0,0,0),e.SetCopyBlend(),e.SetProgram(this.GetShaderProgram()),s._SetFirstBounceProgramParameters(e,this.GetIndex()),s._DrawContent(e),s._ClampRcTexDest()}Run_WebGPU(e,t,n){const s=this.GetEffectChain();e.SetRenderTarget(n,!1),e.ClearRgba(0,0,0,0),e.SetCopyBlend(),e.SetProgram(this.GetShaderProgram()),s._SetFirstBounceProgramParameters(e,this.GetIndex()),s._DrawContent(e),s._ClampRcTexDest()}}}{const ph=self.C3,mh=ph.New(ph.Rect),gh=ph.New(ph.Quad);ph.Gfx.EffectChain.Step.Bounce=class extends ph.Gfx.EffectChain.Step{constructor(e,t,n,s){super(e,t,n,s)}Run_WebGL(e,t,n){const s=this.GetEffectChain();e.SetRenderTarget(n);const r=0===this.GetDestTargetId();r?e.SetBlendMode(s._GetBlendMode()):(e.ClearRgba(0,0,0,0),e.SetCopyBlend()),e.SetProgram(this.GetShaderProgram()),s._SetProgramParameters(e,this.GetIndex()),e.SetTexture(t.GetTexture()),s._SetDeviceTransform(e,r),gh.setFromRect(s._GetDrawSurfaceRect()),mh.copy(s._GetRcTexBounce()),mh.flipAround(1),e.Quad3(gh,mh),s._ShouldInvalidateRenderTargets()&&e.InvalidateRenderTarget(t)}Run_WebGPU(e,t,n){const s=this.GetEffectChain();e.SetRenderTarget(n,!1),0===this.GetDestTargetId()?(e.SetBlendMode(s._GetBlendMode()),e.SetBackTexture(null),s._IsRenderTargetSameSizeAndOffset(e)?gh.setFromRect(s._GetRcTexBounce()):(e.SetNormalizedCoordsProgramVariant(!1),s._SetDeviceTransform(e,!0),gh.setFromRect(s._GetDrawSurfaceRect()))):(e.ClearRgba(0,0,0,0),e.SetCopyBlend(),gh.setFromRect(s._GetRcTexBounce())),e.SetProgram(this.GetShaderProgram()),s._SetProgramParameters(e,this.GetIndex()),e.SetTexture(t.GetTexture()),s.UseFullSurface()?e.FullscreenQuad():e.Quad3(gh,s._GetRcTexBounce())}}}{let fh=function(e,t){const n=e[0]-t[0];return 0!==n?n:e[1]-t[1]};SortZOrderList=fh;const Nh=self.C3,bh=self.C3X;let Sh=null;const xh=new Set,Ih=[],yh=[];let Eh=!1,Th=!1,Ch=!1;const Mh=new Set(["vsync","unlimited-tick","unlimited-frame"]);self.IRuntime=class{constructor(e){Sh=e,Object.defineProperties(this,{assets:{value:Sh.GetAssetManager().GetIAssetManager(),writable:!1},collisions:{value:Sh.GetCollisionEngine().GetICollisionEngine(),writable:!1},objects:{value:{},writable:!1},globalVars:{value:{},writable:!1},projectName:{value:Sh.GetProjectName(),writable:!1},projectVersion:{value:Sh.GetProjectVersion(),writable:!1},projectId:{value:Sh.GetAppId(),writable:!1},projectUniqueId:{value:Sh.GetProjectUniqueId(),writable:!1},exportDate:{value:new Date(Sh.GetExportTimestamp()),writable:!1},storage:{value:new self.IStorage(Sh),writable:!1},isInWorker:{value:Sh.IsInWorker(),writable:!1},viewportWidth:{value:Sh.GetOriginalViewportWidth(),writable:!1},viewportHeight:{value:Sh.GetOriginalViewportHeight(),writable:!1},sampling:{value:Sh.GetSampling(),writable:!1},isPixelRoundingEnabled:{value:Sh.IsPixelRoundingEnabled(),writable:!1},platformInfo:{value:new self.IPlatformInfo(e),writable:!1},sdk:{value:new self.ISDKUtils(e),writable:!1}}),Sh.UserScriptDispatcher().addEventListener("keydown",e=>{xh.has(e.key)?e.stopPropagation():xh.add(e.key)}),Sh.UserScriptDispatcher().addEventListener("keyup",e=>xh.delete(e.key)),Sh.Dispatcher().addEventListener("window-blur",()=>xh.clear()),Sh.IsInWorker()&&(self.alert=e=>(Eh||(Eh=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual.")),this.alert(e)))}_InitObjects(e){Object.defineProperties(this.objects,e)}_InitGlobalVars(e){Object.defineProperties(this.globalVars,e)}addEventListener(e,t){Sh.UserScriptDispatcher().addEventListener(e,t)}removeEventListener(e,t){Sh.UserScriptDispatcher().removeEventListener(e,t)}callFunction(e,...t){bh.RequireString(e);const n=Sh.GetEventSheetManager(),s=n.GetFunctionBlockByName(e);if(!s)throw new Error(`cannot find function name '${e}'`);if(!s.IsEnabled())return s.GetDefaultReturnValue();if(t.length<s.GetFunctionParameterCount())throw new Error(`not enough function parameters passed for '${e}' (${t.length} passed, ${s.GetFunctionParameterCount()} expected)`);const r=s.GetEventBlock();let o=r.GetSolModifiersIncludingParents();const a=n.GetCurrentEvent();if(a){o=o.slice(0);const e=new Set(o);for(const t of a.GetSolModifiersIncludingParents())e.has(t)||(o.push(t),e.add(t));for(const t of n.GetDynamicSolModifiersSet())e.has(t)||(o.push(t),e.add(t))}return r.RunAsExpressionFunctionCall(o,s.IsCopyPicked(),s.GetReturnType(),s.GetDefaultReturnValue(),...t)}setReturnValue(e){const t=Sh.GetEventStack().GetCurrentExpFuncStackFrame();if(!t)throw new Error("not in a function which returns a value");switch(t.GetFunctionReturnType()){case 1:"number"==typeof e&&t.SetFunctionReturnValue(e);break;case 2:"string"==typeof e&&t.SetFunctionReturnValue(e);break;case 3:"number"!=typeof e&&"string"!=typeof e||t.SetFunctionReturnValue(e)}}signal(e){bh.RequireString(e),Sh.GetEventSheetManager().Signal(e)}waitForSignal(e){return bh.RequireString(e),Sh.GetEventSheetManager().WaitForSignal(e)}getViewportSize(){return[Sh.GetOriginalViewportWidth(),Sh.GetOriginalViewportHeight()]}get isSuspended(){return Sh.IsSuspended()}get dt(){return Sh.GetDt()}get dtRaw(){return Sh.GetDtRaw()}get gameTime(){return Sh.GetGameTime()}get tickCount(){return Sh.GetTickCount()}get wallTime(){return Sh.GetWallTime()}get timeScale(){return Sh.GetTimeScale()}set timeScale(e){bh.RequireFiniteNumber(e),Sh.SetTimeScale(e)}get fps(){return Th||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),Th=!0),Sh.GetFramesPerSecond()}get framesPerSecond(){return Sh.GetFramesPerSecond()}get ticksPerSecond(){return Sh.GetTicksPerSecond()}get cpuUtilisation(){return Sh.GetMainThreadTime()}get gpuUtilisation(){return Sh.GetGPUUtilisation()}get framerateMode(){return Sh.GetFramerateMode()}set framerateMode(e){if(!Mh.has(e))throw new Error("invalid framerate mode");Sh._SetFramerateMode(e)}get minDt(){return Sh.GetMinDt()}set minDt(e){bh.RequireFiniteNumber(e),Sh.SetMinDt(e)}get maxDt(){return Sh.GetMaxDt()}set maxDt(e){Sh.SetMaxDt(e)}get loadingProgress(){return Sh.GetAssetManager().GetLoadProgress()}get imageLoadingProgress(){return Sh.GetAssetManager().GetImageLoadProgress()}random(){return Sh.Random()}get layout(){const e=Sh.GetMainRunningLayout();if(!e)throw new Error("no layout is running - make sure a layout is loaded before accessing");return e.GetILayout()}getLayout(e){const t=Sh.GetLayoutManager();let n=null;if("number"!=typeof e&&"string"!=typeof e)throw new TypeError("expected string or number");if(n=t.GetLayout(e),!n)throw new Error("invalid layout");return n.GetILayout()}getAllLayouts(){return Sh.GetLayoutManager().GetAllLayouts().map(e=>e.GetILayout())}goToLayout(e){const t=Sh.GetLayoutManager();let n=null;if("number"!=typeof e&&"string"!=typeof e)throw new TypeError("expected string or number");if(n=t.GetLayout(e),!n)throw new Error("invalid layout");t.IsPendingChangeMainLayout()||t.ChangeMainLayout(n)}get keyboard(){const e=Sh._GetCommonScriptInterfaces().keyboard;if(!e)throw new Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get mouse(){const e=Sh._GetCommonScriptInterfaces().mouse;if(!e)throw new Error("runtime.mouse used but Mouse object missing - add it to your project first");return e}get touch(){const e=Sh._GetCommonScriptInterfaces().touch;if(!e)throw new Error("runtime.touch used but Touch object missing - add it to your project first");return e}get timelineController(){const e=Sh._GetCommonScriptInterfaces().timelineController;if(!e)throw new Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first");return e}get renderer(){return Sh.GetCanvasManager().GetIRenderer()}invokeDownload(e,t){bh.RequireString(e),bh.RequireString(t),Sh.InvokeDownload(e,t)}getInstanceByUid(e){bh.RequireFiniteNumber(e);const t=Sh.GetInstanceByUID(e);return t?t.GetInterfaceClass():null}sortZOrder(e,t){bh.RequireFunction(t);const n=Sh.GetCurrentLayout();for(const t of e){const e=Sh._UnwrapIWorldInstance(t),n=e.GetWorldInfo();Ih.push([n.GetLayer().GetIndex(),n.GetZIndex()]),yh.push(e)}if(0===Ih.length)return;Ih.sort(fh),yh.sort((e,n)=>t(e.GetInterfaceClass(),n.GetInterfaceClass()));let s=!1;for(let e=0,t=Ih.length;e<t;++e){const t=yh[e],r=n.GetLayerByIndex(Ih[e][0]),o=Ih[e][1],a=r._GetInstances();a[o]!==t&&(a[o]=t,t.GetWorldInfo()._SetLayer(r,!0),r.SetZIndicesChanged(t),s=!0)}s&&Sh.UpdateRender(),Nh.clearArray(Ih),Nh.clearArray(yh)}async createWorker(e,t){Ch||(console.warn("IRuntime.createWorker() is deprecated. All modern browsers now support nested workers so this method is no longer needed."),Ch=!0);const n=new MessageChannel,s=n.port1,r=n.port2;return await Sh.PostComponentMessageToDOMAsync("runtime","script-create-worker",{url:e,opts:t,port2:r},[r]),s}alert(e){return Sh.PostComponentMessageToDOMAsync("runtime","alert",{message:e+(Sh.IsInWorker()?" [via Web Worker]":"")})}getHTMLLayer(e){return bh.RequireFiniteNumber(e),Sh._GetHTMLLayerWrapElement(e)}addLoadPromise(e){Sh.AddLoadPromise(e)}async saveCanvasImage(e,t,n){bh.RequireOptionalString(e),bh.RequireOptionalNumber(t),bh.RequireOptionalInstanceOf(n,DOMRect),n||(n=new DOMRect(0,0,0,0));const s=Sh.GetCanvasManager();if(!s)return;Sh.UpdateRender();const r=await s.SnapshotCanvas(e||"image/png",t,n.x,n.y,n.width,n.height);return await Sh.TriggerAsync(Nh.Plugins.System.Cnds.OnCanvasSnapshot,null),r}}}{const Vh=self.C3,Bh=self.C3X;let Oh=null;self.IAssetManager=class{constructor(e){Oh=e,Object.defineProperties(this,{isWebMOpusSupported:{value:!0,writable:!1}})}loadImageAsset(e){const t=self.IImageInfo._Unwrap(e);if(!t)throw new Error("invalid IImageInfo");t.LoadAsset(Oh.GetRuntime())}fetchText(e){return Oh.FetchText(e)}fetchJson(e){return Oh.FetchJson(e)}fetchBlob(e){return Oh.FetchBlob(e)}fetchArrayBuffer(e){return Oh.FetchArrayBuffer(e)}getProjectFileUrl(e){return Oh.GetProjectFileUrl(e)}getMediaFileUrl(e){return"flat"===Oh.GetFileStructure()&&Vh.IsRelativeURL(e)&&(e=e.toLowerCase()),Oh.GetMediaFileUrl(e)}get mediaFolder(){return Oh.GetMediaSubfolder()}async decodeWebMOpus(e,t){throw new Error("decodeWebMOpus() is no longer supported - use Web Audio's decodeAudioData() directly as all supported platforms now support WebM Opus")}loadScripts(...e){return Oh.LoadScripts(...e)}compileWebAssembly(e){return Oh.CompileWebAssembly(e)}loadStyleSheet(e){return Oh.LoadStyleSheet(e)}}}{const vh=self.C3,Ph=self.C3X;let wh=null;self.ICollisionEngine=class{constructor(e){wh=e,Object.defineProperties(this,{runtime:{value:wh.GetRuntime(),writable:!1}})}testOverlap(e,t){const n=wh.GetRuntime(),s=n._UnwrapIWorldInstance(e),r=n._UnwrapIWorldInstance(t);return wh.TestOverlap(s,r)}testOverlapAny(e,t){const n=wh.GetRuntime(),s=n._UnwrapIWorldInstance(e);for(const e of t){const t=n._UnwrapIWorldInstance(e);if(wh.TestOverlap(s,t))return e}return null}testOverlapSolid(e){const t=wh.GetRuntime()._UnwrapIWorldInstance(e),n=wh.TestOverlapSolid(t);return n?n.GetInterfaceClass():null}setCollisionCellSize(e,t){if(Ph.RequireFiniteNumber(e),Ph.RequireFiniteNumber(t),e=Math.floor(e),t=Math.floor(t),e<=0||t<=0)throw new Error("invalid cell size");wh.SetCollisionCellSize(e,t)}getCollisionCellSize(){return wh.GetCollisionCellSize()}getCollisionCandidates(e,t){const n=wh.GetRuntime();let s;s=Array.isArray(e)?e.map(e=>n._UnwrapIObjectClass(e)):[n._UnwrapIObjectClass(e)];const r=vh.Rect.FromObject(t),o=[];return wh.GetObjectClassesCollisionCandidates(null,s,r,o),o.map(e=>e.GetInterfaceClass())}}}{const Ah=self.C3,Dh=self.C3X;let Rh=null;const Fh=new Map([["Windows","windows"],["macOS","macos"],["Linux","linux"],["Chrome OS","chrome-os"],["Android","android"],["iOS","ios"]]),jh=new Map([["Chrome","chrome"],["Chromium","chromium"],["Edge","edge"],["Opera","opera"],["NW.js","nwjs"],["Firefox","firefox"],["Safari","safari"]]),kh=new Map([["Chromium","chromium"],["Gecko","gecko"],["WebKit","webkit"]]);self.IPlatformInfo=class{constructor(e){Rh=e,Object.defineProperties(this,{isMobile:{value:Ah.Platform.IsMobile,writable:!1},os:{value:Fh.get(Ah.Platform.OS)||"unknown",writable:!1},osVersion:{value:Ah.Platform.OSVersion,writable:!1},browser:{value:jh.get(Ah.Platform.Browser)||"unknown",writable:!1},browserVersion:{value:Ah.Platform.BrowserVersion,writable:!1},browserEngine:{value:kh.get(Ah.Platform.BrowserEngine)||"unknown",writable:!1}})}get exportType(){let e=Rh.GetExportType();return Rh.IsNWjs()?e="nwjs":Rh.IsWindowsWebView2()?e="windows-webview2":"cordova"===e?e="Android"===Ah.Platform.OS?"cordova-android":"cordova-ios":"playable-ad-single-file"!==e&&"playable-ad-zip"!==e||(e="playable-ad"),e}get renderer(){return Rh.GetCanvasManager().GetRendererString()}get rendererDetail(){return Rh.GetCanvasManager().GetRendererDetailString()}get canvasClientX(){return Rh.GetCanvasManager().GetCanvasClientX()}get canvasClientY(){return Rh.GetCanvasManager().GetCanvasClientY()}get canvasCssWidth(){return Rh.GetCanvasManager().GetCssWidth()}get canvasCssHeight(){return Rh.GetCanvasManager().GetCssHeight()}get canvasDeviceWidth(){return Rh.GetCanvasManager().GetDeviceWidth()}get canvasDeviceHeight(){return Rh.GetCanvasManager().GetDeviceHeight()}get devicePixelRatio(){return Rh.GetDevicePixelRatio()}}}{const Lh=self.C3,Wh=self.C3X;self.IStorage=class{constructor(e){this._storage=e._GetProjectStorage()}getItem(e){return Wh.RequireString(e),this._storage.getItem(e)}setItem(e,t){return Wh.RequireString(e),this._storage.setItem(e,t)}removeItem(e){return Wh.RequireString(e),this._storage.removeItem(e)}clear(){return this._storage.clear()}keys(){return this._storage.keys()}}}{const Uh=self.C3,Hh=self.C3X,zh=Uh._GetInternalAPIToken();self.IPlugin=class{#e;constructor(){const e=Uh.AddonManager._GetInitObject2(zh);this.#e=e,Object.defineProperties(this,{runtime:{value:e.GetRuntime().GetIRuntime(),writable:!1},id:{value:e.GetID(),writable:!1},isSingleGlobal:{value:e.IsSingleGlobal(),writable:!1},isWorldType:{value:e.IsWorldType(),writable:!1},isHTMLElementType:{value:e.IsHTMLElementType(),writable:!1},isRotatable:{value:e.IsRotatable(),writable:!1},hasEffects:{value:e.HasEffects(),writable:!1},is3d:{value:e.Is3D(),writable:!1},supportsHierarchies:{value:e.SupportsSceneGraph(),writable:!1},supportsMesh:{value:e.SupportsMesh(),writable:!1}}),e.GetRuntime()._MapScriptInterface(this,e)}static getByConstructor(e){if(!e)return null;const t=Uh.AddonManager.GetPluginByConstructorFunction(e);return t?t.GetIPlugin():null}getSingleGlobalObjectType(){return this.#e.GetSingleGlobalObjectClass().GetIObjectClass()}getSingleGlobalInstance(){return this.#e.GetSingleGlobalInstance().GetInterfaceClass()}}}{const Yh=globalThis.C3,Xh=globalThis.C3X,qh=Yh._GetInternalAPIToken();globalThis.IObjectClass=class{#e;constructor(){const e=Yh.AddonManager._GetInitObject2(qh);this.#e=e,Object.defineProperties(this,{name:{value:e.GetName(),writable:!1},runtime:{value:e.GetRuntime().GetIRuntime(),writable:!1},plugin:{value:e.GetPlugin().GetIPlugin(),writable:!1}}),e.GetRuntime()._MapScriptInterface(this,e)}addEventListener(e,t){Xh.RequireString(e),Xh.RequireFunction(t),this.#e.UserScriptDispatcher().addEventListener(e,t)}removeEventListener(e,t){Xh.RequireString(e),Xh.RequireFunction(t),this.#e.UserScriptDispatcher().removeEventListener(e,t)}getAllInstances(){return[...this.instances()]}getFirstInstance(){return Yh.first(this.instances())}getPickedInstances(){return[...this.pickedInstances()]}getFirstPickedInstance(){return Yh.first(this.pickedInstances())}getPairedInstance(e){const t=this.#e,n=t.GetRuntime()._UnwrapIInstance(e),s=t.GetPairedInstance(n);return s?s.GetInterfaceClass():null}*instances(){for(const e of this.#e.instancesIncludingPendingCreate())yield e.GetInterfaceClass()}*pickedInstances(){for(const e of this.#e.GetCurrentSol().GetInstances())yield e.GetInterfaceClass()}}}{const Kh=globalThis.C3,Jh=globalThis.C3X,$h=Kh._GetInternalAPIToken();globalThis.IObjectType=class extends globalThis.IObjectClass{#e;constructor(){super();const e=Kh.AddonManager._GetInitObject2($h);this.#e=e}setInstanceClass(e){Jh.RequireFunction(e);const t=this.#e;if(t.GetInstanceCount()>0)throw new Error("setInstanceClass() called too late, because instances have already been created - call in runOnStartup");t._SetUserScriptInstanceClass(e)}createInstance(e,t,n,s,r){if(Jh.RequireNumber(t),Jh.RequireNumber(n),"number"!=typeof e&&"string"!=typeof e)throw new TypeError("invalid layer parameter");const o=this.#e,a=o.GetRuntime(),i=a.GetMainRunningLayout().GetLayer(e);if(!i)throw new Error("invalid layer");const l=a.CreateInstance(o,i,t,n,s,r);s&&i.SortAndAddInstancesByZIndex(l);const d=a.GetEventSheetManager();return d.BlockFlushingInstances(!0),l._TriggerOnCreatedOnSelfAndRelated(),d.BlockFlushingInstances(!1),d.IsInEventEngine()||a.GetLayoutManager().IsEndingLayout()||a.FlushPendingInstances(),l.GetInterfaceClass()}getAllFamilies(){return this.#e.GetFamilies().map(e=>e.GetIObjectClass())}*families(){for(const e of this.#e.GetFamilies())yield e.GetIObjectClass()}isInFamily(e){return Jh.RequireInstanceOf(e,globalThis.IFamily),e.hasObjectType(this)}}}{const Zh=globalThis.C3,Qh=globalThis.C3X,e_=globalThis.IObjectType,t_=Zh._GetInternalAPIToken();globalThis.IFamily=class extends globalThis.IObjectClass{#e;constructor(){super();const e=Zh.AddonManager._GetInitObject2(t_);this.#e=e}getAllObjectTypes(){return this.#e.GetFamilyMembers().map(e=>e.GetIObjectClass())}*objectTypes(){for(const e of this.#e.GetFamilyMembers())yield e.GetIObjectClass()}hasObjectType(e){Qh.RequireInstanceOf(e,e_);const t=this.#e,n=t.GetRuntime()._UnwrapIObjectClass(e);return t.FamilyHasMember(n)}}}{const n_=self.C3,s_=self.C3X,r_=["above","below","top-sublayer","bottom-sublayer"];self.ILayout=class{#e;constructor(e){this.#e=e;const t=[],n=e.GetEffectList(),s=n.GetAllEffectTypes().length;for(let e=0;e<s;++e)t.push(new self.IEffectInstance(n,e));Object.defineProperties(this,{runtime:{value:e.GetRuntime().GetIRuntime(),writable:!1},name:{value:e.GetName(),writable:!1},index:{value:e.GetIndex(),writable:!1},effects:{value:t,writable:!1}})}addEventListener(e,t){s_.RequireString(e),s_.RequireFunction(t),this.#e.UserScriptDispatcher().addEventListener(e,t)}removeEventListener(e,t){s_.RequireString(e),s_.RequireFunction(t),this.#e.UserScriptDispatcher().removeEventListener(e,t)}get width(){return this.#e.GetWidth()}set width(e){s_.RequireFiniteNumber(e),this.#e.SetWidth(e)}get height(){return this.#e.GetHeight()}set height(e){s_.RequireFiniteNumber(e),this.#e.SetHeight(e)}setSize(e,t){s_.RequireFiniteNumber(e),s_.RequireFiniteNumber(t);const n=this.#e;n.SetWidth(e),n.SetHeight(t)}getSize(){const e=this.#e;return[e.GetWidth(),e.GetHeight()]}set scale(e){s_.RequireFiniteNumber(e),this.#e.SetScale(e)}get scale(){return this.#e.GetScale()}set angle(e){s_.RequireFiniteNumber(e),this.#e.SetAngle(e)}get angle(){return this.#e.GetAngle()}set scrollX(e){s_.RequireNumber(e),this.#e.SetScrollX(e)}get scrollX(){return this.#e.GetScrollX()}set scrollY(e){s_.RequireNumber(e),this.#e.SetScrollY(e)}get scrollY(){return this.#e.GetScrollY()}scrollTo(e,t){s_.RequireNumber(e),s_.RequireNumber(t);const n=this.#e;n.SetScrollX(e),n.SetScrollY(t)}getScrollPosition(){const e=this.#e;return[e.GetScrollX(),e.GetScrollY()]}get isUnboundedScrolling(){return this.#e.IsUnboundedScrolling()}getLayer(e){const t=this.#e;let n=null;if("number"!=typeof e&&"string"!=typeof e)throw new TypeError("expected string or number");return n=t.GetLayer(e),n?n.GetILayer():null}getAllLayers(){return this.#e.GetLayers().map(e=>e.GetILayer())}*allLayers(){for(const e of this.#e.allLayers())yield e.GetILayer()}addLayer(e,t,n){const s=this.#e,r=self.ILayer;s_.RequireString(e),s_.RequireOptionalInstanceOf(t,r);const o=t?s.GetRuntime()._UnwrapScriptInterface(t):null,a=r_.indexOf(n);if(a<0)throw new Error("invalid location");s.AddLayer(e,o,a)}moveLayer(e,t,n){const s=this.#e,r=s.GetRuntime(),o=self.ILayer;s_.RequireInstanceOf(e,o);const a=r._UnwrapScriptInterface(e);if(!a)throw new Error("invalid layer");s_.RequireOptionalInstanceOf(t,o);const i=t?r._UnwrapScriptInterface(t):null,l=r_.indexOf(n);if(l<0)throw new Error("invalid location");s.MoveLayer(a,i,l)}removeLayer(e){const t=this.#e,n=self.ILayer;s_.RequireInstanceOf(e,n);const s=t.GetRuntime()._UnwrapScriptInterface(e);if(!s)throw new Error("invalid layer");const r=s.GetRuntime();t.RemoveLayer(s),r.GetEventSheetManager().IsInEventEngine()||r.FlushPendingInstances()}removeAllDynamicLayers(){const e=this.#e,t=e.GetRuntime();e.RemoveAllDynamicLayers(),t.GetEventSheetManager().IsInEventEngine()||t.FlushPendingInstances()}setVanishingPoint(e,t){s_.RequireFiniteNumber(e),s_.RequireFiniteNumber(t),this.#e.SetVanishingPointXY(e,t)}getVanishingPoint(){return this.#e.GetVanishingPoint()}set projection(e){s_.RequireString(e);const t=this.#e;if("perspective"===e)t.SetPerspectiveProjection();else{if("orthographic"!==e)throw new Error("invalid projection");t.SetOrthographicProjection()}}get projection(){return this.#e.IsOrthographicProjection()?"orthographic":"perspective"}}}{const o_=self.C3,a_=self.C3X,i_=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),l_=new Map([...i_.entries()].map(e=>[e[1],e[0]])),d_=new Set(["2d","3d"]),c_=o_.New(o_.Color);self.ILayer=class{#e;constructor(e){this.#e=e;const t=[],n=e.GetEffectList(),s=n.GetAllEffectTypes().length;for(let e=0;e<s;++e)t.push(new self.IEffectInstance(n,e));Object.defineProperties(this,{runtime:{value:e.GetRuntime().GetIRuntime(),writable:!1},name:{value:e.GetName(),writable:!1},layout:{value:e.GetLayout().GetILayout(),writable:!1},effects:{value:t,writable:!1}}),e.GetRuntime()._MapScriptInterface(this,e)}addEventListener(e,t){this.#e.UserScriptDispatcher().addEventListener(e,t)}removeEventListener(e,t){this.#e.UserScriptDispatcher().removeEventListener(e,t)}get parentLayer(){const e=this.#e.GetParentLayer();return e?e.GetILayer():null}*parentLayers(){for(const e of this.#e.parentLayers())yield e.GetILayer()}*subLayers(){for(const e of this.#e.GetSubLayers())yield e.GetILayer()}*allSubLayers(){for(const e of this.#e.GetSubLayers())for(const t of e.selfAndAllSubLayers())yield t.GetILayer()}get index(){return this.#e.GetIndex()}get isVisible(){return this.#e._IsVisibleFlagSet()}set isVisible(e){this.#e.SetVisible(e)}get isSelfAndParentsVisible(){return this.#e.IsVisible()}get isInteractive(){return this.#e.IsInteractive()}set isInteractive(e){this.#e.SetInteractive(e)}get isHTMLElementsLayer(){return this.#e.IsHTMLElementsLayer()}set isHTMLElementsLayer(e){this.#e.SetIsHTMLElementsLayer(!!e)}get isSelfAndParentsInteractive(){return this.#e.IsSelfAndParentsInteractive()}get opacity(){return this.#e.GetOpacity()}set opacity(e){e=o_.clamp(+e,0,1),isNaN(e)||this.#e.SetOpacity(e)}set scale(e){a_.RequireFiniteNumber(e),this.#e.SetOwnScale(e)}get scale(){return this.#e.GetOwnScale()}set scaleRate(e){a_.RequireFiniteNumber(e),this.#e.SetScaleRate(e)}get scaleRate(){return this.#e.GetScaleRate()}set angle(e){a_.RequireFiniteNumber(e),this.#e.SetAngle(e)}get angle(){return this.#e.GetOwnAngle()}set parallaxX(e){a_.RequireFiniteNumber(e),this.#e.SetParallaxX(e)}get parallaxX(){return this.#e.GetParallaxX()}set parallaxY(e){a_.RequireFiniteNumber(e),this.#e.SetParallaxY(e)}get parallaxY(){return this.#e.GetParallaxY()}set zElevation(e){a_.RequireFiniteNumber(e),this.#e.SetZElevation(e)}get zElevation(){return this.#e.GetZElevation()}set renderingMode(e){if(!d_.has(e))throw TypeError("invalid rendering mode");this.#e.SetRenderAs3D("3d"===e)}get renderingMode(){return this.#e.IsRenderAs3D()?"3d":"2d"}set isTransparent(e){this.#e.SetTransparent(e)}get isTransparent(){return this.#e.IsTransparent()}set isForceOwnTexture(e){this.#e.SetForceOwnTexture(e)}get isForceOwnTexture(){return this.#e.IsForceOwnTexture()}set blendMode(e){a_.RequireString(e);const t=i_.get(e);if("number"!=typeof t)throw new Error("invalid blend mode");this.#e.SetBlendMode(t)}get blendMode(){return l_.get(this.#e.GetBlendMode())}set backgroundColor(e){if(a_.RequireArray(e),e.length<3)throw new Error("expected 3 elements");c_.setRgb(e[0],e[1],e[2]);const t=this.#e,n=t.GetBackgroundColor();n.equalsIgnoringAlpha(c_)||(n.copyRgb(c_),t.GetRuntime().UpdateRender())}get backgroundColor(){const e=this.#e.GetBackgroundColor();return[e.getR(),e.getG(),e.getB()]}set scrollX(e){a_.RequireNumber(e);const t=this.#e;t.SetOwnScrollPositionEnabled(!0),t.SetScrollX(e)}get scrollX(){return this.#e.GetScrollX()}set scrollY(e){a_.RequireNumber(e);const t=this.#e;t.SetOwnScrollPositionEnabled(!0),t.SetScrollY(e)}get scrollY(){return this.#e.GetScrollY()}scrollTo(e,t){a_.RequireNumber(e),a_.RequireNumber(t);const n=this.#e;n.SetOwnScrollPositionEnabled(!0),n.SetScrollX(e),n.SetScrollY(t)}getScrollPosition(){const e=this.#e;return[e.GetScrollX(),e.GetScrollY()]}restoreScrollPosition(){this.#e.SetOwnScrollPositionEnabled(!1)}getViewport(){return this.#e.GetViewport().toDOMRect()}cssPxToLayer(e,t,n=0){a_.RequireNumber(e),a_.RequireNumber(t),a_.RequireNumber(n);const s=this.#e,r=s.GetRuntime();return s.CanvasCssToLayer(e-r.GetCanvasClientX(),t-r.GetCanvasClientY(),n)}layerToCssPx(e,t,n=0){a_.RequireNumber(e),a_.RequireNumber(t),a_.RequireNumber(n);const s=this.#e,r=s.GetRuntime(),[o,a]=s.LayerToCanvasCss(e,t,n);return[o+r.GetCanvasClientX(),a+r.GetCanvasClientY()]}drawSurfaceToLayer(e,t,n=0){return a_.RequireNumber(e),a_.RequireNumber(t),a_.RequireNumber(n),this.#e.DrawSurfaceToLayer(e,t,n)}layerToDrawSurface(e,t,n=0){return a_.RequireNumber(e),a_.RequireNumber(t),a_.RequireNumber(n),this.#e.LayerToDrawSurface(e,t,n)}get renderScale(){return this.#e.GetRenderScale()}}}{let u_=function(e){let t=G_.get(e);return t||(t=h_.New(h_.Event.Dispatcher),G_.set(e,t),t)};GetDispatcher=u_;const h_=self.C3,__=self.C3X,G_=new WeakMap,p_=h_._GetInternalAPIToken();self.IInstance=class{#e;constructor(){const e=h_.AddonManager._GetInitObject2(p_);this.#e=e;const t={runtime:{value:e.GetRuntime().GetIRuntime(),writable:!1},objectType:{value:e.GetObjectClass().GetIObjectClass(),writable:!1},plugin:{value:e.GetPlugin().GetIPlugin(),writable:!1}};e._GetInstVarsScriptDescriptor(t),e._GetBehaviorsScriptDescriptor(t),Object.defineProperties(this,t),e.GetRuntime()._MapScriptInterface(this,e)}static _GetInitInst(){return h_.AddonManager._GetInitObject()}_release(){const e=G_.get(this);e&&(e.Release(),G_.delete(this))}addEventListener(e,t,n){__.RequireString(e),__.RequireFunction(t),u_(this).addEventListener(e,t,n)}removeEventListener(e,t,n){__.RequireString(e),__.RequireFunction(t),u_(this).removeEventListener(e,t,n)}dispatchEvent(e){u_(this).dispatchEvent(e)}destroy(){const e=this.#e,t=e.GetRuntime();t.DestroyInstance(e),t.GetEventSheetManager().IsInEventEngine()||t.GetLayoutManager().IsEndingLayout()||t.GetEventSheetManager().IsFlushingBlocked()||t.FlushPendingInstances()}getOtherContainerInstances(){const e=this.#e.GetSiblings();return e?e.map(e=>e.GetInterfaceClass()):[]}*otherContainerInstances(){const e=this.#e;if(e.IsInContainer())for(const t of e.siblings())yield t.GetInterfaceClass()}get uid(){return this.#e.GetUID()}get iid(){return this.#e.GetIID()}get templateName(){return this.#e.GetTemplateName()}set timeScale(e){__.RequireFiniteNumber(e),this.#e.SetTimeScale(e)}get timeScale(){return this.#e.GetActiveTimeScale()}restoreTimeScale(){this.#e.RestoreTimeScale()}get dt(){const e=this.#e;return e.GetRuntime().GetDt(e)}hasTags(...e){__.RequireArray(e);const t=new Set(e),n=this.#e.GetTagsSet();return t.isSubsetOf(n)}setAllTags(e){__.RequireInstanceOf(e,Set),this.#e.SetTagsSet(e)}getAllTags(){return new Set(this.#e.GetTagsSet())}signal(e){__.RequireString(e);const t=this.#e;t.GetRuntime().GetEventSheetManager().InstanceSignal(t,e)}waitForSignal(e){__.RequireString(e);const t=this.#e;return t.GetRuntime().GetEventSheetManager().WaitForInstanceSignal(t,e)}}}{const m_=self.C3,g_=self.C3X,f_=m_._GetInternalAPIToken();self.ISDKInstanceBase=class extends self.IInstance{#e;#t=!1;#n=null;#s=!1;#r=null;#o;#a;constructor(e){super(),this.#e=m_.AddonManager._GetInitObject2(f_),this.#t=!1,this.#n=null,this.#s=!1,this.#r=null,this.#o=e?.domComponentId,this.#a=e?.wrapperComponentId}_release(){this._setTicking(!1),this._setTicking2(!1),super._release()}_getInitProperties(){return m_.AddonManager._GetInitProperties()}_trigger(e){const t=this.#e;t.GetRuntime().Trigger(e,t)}_triggerAsync(e){const t=this.#e;return t.GetRuntime().TriggerAsync(e,t)}_addDOMMessageHandler(e,t){if(g_.RequireString(e),g_.RequireFunction(t),!this.#o)throw new Error("no DOM component id set");this.#e.GetRuntime().AddDOMComponentMessageHandler(this.#o,e,t)}_addDOMMessageHandlers(e){g_.RequireArray(e);for(const[t,n]of e)this._addDOMMessageHandler(t,n)}_postToDOM(e,t){if(g_.RequireString(e),!this.#o)throw new Error("no DOM component id set");this.#e.GetRuntime().PostComponentMessageToDOM(this.#o,e,t)}_postToDOMAsync(e,t){if(g_.RequireString(e),!this.#o)throw new Error("no DOM component id set");return this.#e.GetRuntime().PostComponentMessageToDOMAsync(this.#o,e,t)}_postToDOMMaybeSync(e,t){if(!this.#e.GetRuntime().IsInWorker())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.#o,handler:e,data:t,responseId:null});this._postToDOM(e,t)}_setTicking(e){if(e=!!e,this.#t===e)return;this.#t=e;const t=this.#e.GetRuntime();if(e){if(!this.#n)if(this.#e.GetRuntime().IsDebug()){const e=globalThis.C3Debugger,t=this.plugin;this.#n=()=>{const n=performance.now();this._tick(),e.AddIndividualPluginTickTime(t,performance.now()-n)}}else this.#n=()=>this._tick();t.Dispatcher().addEventListener("tick",this.#n)}else t.Dispatcher().removeEventListener("tick",this.#n)}_isTicking(){return this.#t}_tick(){}_setTicking2(e){if(e=!!e,this.#s===e)return;this.#s=e;const t=this.#e.GetRuntime();if(e){if(!this.#r)if(this.#e.GetRuntime().IsDebug()){const e=globalThis.C3Debugger,t=this.plugin;this.#r=()=>{const n=performance.now();this._tick2(),e.AddIndividualPluginTickTime(t,performance.now()-n)}}else this.#r=()=>this._tick2();t.Dispatcher().addEventListener("tick2",this.#r)}else t.Dispatcher().removeEventListener("tick2",this.#r)}_isTicking2(){return this.#s}_tick2(){}_getDebuggerProperties(){return[]}_saveToJson(){return null}_loadFromJson(e){}_isWrapperExtensionAvailable(){if(!this.#a)throw new Error("no wrapper component id set");return this.#e.GetRuntime().HasWrapperComponentId(this.#a)}_addWrapperExtensionMessageHandler(e,t){if(g_.RequireString(e),g_.RequireFunction(t),!this.#a)throw new Error("no wrapper component id set");this.#e.GetRuntime().AddWrapperExtensionMessageHandler(this.#a,e,t)}_addWrapperMessageHandlers(e){g_.RequireArray(e);for(const[t,n]of e)this._addWrapperExtensionMessageHandler(t,n)}_sendWrapperExtensionMessage(e,t){if(!this.#a)throw new Error("no wrapper component id set");this.runtime.sdk.sendWrapperExtensionMessage(this.#a,e,t)}_sendWrapperExtensionMessageAsync(e,t){if(!this.#a)throw new Error("no wrapper component id set");return this.runtime.sdk.sendWrapperExtensionMessageAsync(this.#a,e,t)}}}{let N_=function(e){return class t extends e{#e;#t;constructor(e){super(e);const t=b_.AddonManager._GetInitObject2(C_),n=t.GetWorldInfo();this.#e=t,this.#t=n,T_.set(this,t);const s=[],r=n.GetInstanceEffectList();if(r){const e=n.GetObjectClass().GetEffectList().GetAllEffectTypes().length;for(let t=0;t<e;++t)s.push(new self.IEffectInstance(r,t))}const o={effects:{value:s,writable:!1}};Object.defineProperties(this,o)}get layout(){return this.#t.GetLayout().GetILayout()}get layer(){return this.#t.GetLayer().GetILayer()}get x(){return this.#t.GetX()}set x(e){e=+e;const t=this.#t;isNaN(e)||t.GetX()===e||(t.SetX(e),t.SetBboxChanged())}get y(){return this.#t.GetY()}set y(e){e=+e;const t=this.#t;isNaN(e)||t.GetY()===e||(t.SetY(e),t.SetBboxChanged())}setPosition(e,t){e=+e,t=+t;const n=this.#t;isNaN(e)||isNaN(t)||n.GetX()===e&&n.GetY()===t||(n.SetXY(e,t),n.SetBboxChanged())}getPosition(){const e=this.#t;return[e.GetX(),e.GetY()]}offsetPosition(e,t){if(e=+e,t=+t,isNaN(e)||isNaN(t)||0===e&&0===t)return;const n=this.#t;n.OffsetXY(e,t),n.SetBboxChanged()}set originX(e){e=+e;const t=this.#t;isNaN(e)||t.GetOriginX()===e||(t.SetOriginX(e),t.SetBboxChanged())}get originX(){return this.#t.GetOriginX()}set originY(e){e=+e;const t=this.#t;isNaN(e)||t.GetOriginY()===e||(t.SetOriginY(e),t.SetBboxChanged())}get originY(){return this.#t.GetOriginY()}setOrigin(e,t){e=+e,t=+t;const n=this.#t;isNaN(e)||isNaN(t)||n.GetOriginX()===e&&n.GetOriginY()===t||(n.SetOriginX(e),n.SetOriginY(t),n.SetBboxChanged())}getOrigin(){const e=this.#t;return[e.GetOriginX(),e.GetOriginY()]}get zElevation(){return this.#t.GetZElevation()}set zElevation(e){e=+e;const t=this.#e,n=this.#t;isNaN(e)||n.GetZElevation()===e||(n.SetZElevation(e),t.GetRuntime().UpdateRender())}get totalZElevation(){return this.#t.GetTotalZElevation()}get width(){return this.#t.GetWidth()}set width(e){e=+e;const t=this.#t;isNaN(e)||t.GetWidth()===e||(t.SetWidth(e),t.SetBboxChanged())}get height(){return this.#t.GetHeight()}set height(e){e=+e;const t=this.#t;isNaN(e)||t.GetHeight()===e||(t.SetHeight(e),t.SetBboxChanged())}setSize(e,t){e=+e,t=+t;const n=this.#t;isNaN(e)||isNaN(t)||n.GetWidth()===e&&n.GetHeight()===t||(n.SetSize(e,t),n.SetBboxChanged())}getSize(){const e=this.#t;return[e.GetWidth(),e.GetHeight()]}get angle(){return this.#t.GetAngle()}set angle(e){e=b_.clampAngle(+e);const t=this.#t;isNaN(e)||t.GetAngle()===e||(t.SetAngle(e),t.SetBboxChanged())}get angleDegrees(){return b_.toDegrees(this.angle)}set angleDegrees(e){this.angle=b_.toRadians(e)}getBoundingBox(e){return e?(this.#t.CalculateBbox(y_,E_,!1),y_.toDOMRect()):this.#t.GetBoundingBox().toDOMRect()}getBoundingQuad(e){return e?(this.#t.CalculateBbox(y_,E_,!1),E_.toDOMQuad()):this.#t.GetBoundingQuad().toDOMQuad()}isOnScreen(){return this.#t.IsInViewport2()}get isVisible(){return this.#t.IsVisible()}set isVisible(e){e=!!e;const t=this.#e,n=this.#t;n.IsVisible()!==e&&(n.SetVisible(e),t.GetRuntime().UpdateRender())}get opacity(){return this.#t.GetOpacity()}set opacity(e){e=b_.clamp(+e,0,1);const t=this.#e,n=this.#t;isNaN(e)||n.GetOpacity()===e||(n.SetOpacity(e),t.GetRuntime().UpdateRender())}set colorRgb(e){if(S_.RequireArray(e),e.length<3)throw new Error("expected 3 elements");B_.setRgb(e[0],e[1],e[2]);const t=this.#e,n=this.#t;n.GetUnpremultipliedColor().equalsIgnoringAlpha(B_)||(n.SetUnpremultipliedColor(B_),t.GetRuntime().UpdateRender())}get colorRgb(){const e=this.#t.GetUnpremultipliedColor();return[e.getR(),e.getG(),e.getB()]}set blendMode(e){S_.RequireString(e);const t=M_.get(e);if("number"!=typeof t)throw new Error("invalid blend mode");const n=this.#e;this.#t.SetBlendMode(t),n.GetRuntime().UpdateRender()}get blendMode(){return V_.get(this.#t.GetBlendMode())}moveToTop(){this.#t.ZOrderMoveToTop()}moveToBottom(){this.#t.ZOrderMoveToBottom()}moveToLayer(e){S_.RequireInstanceOf(e,I_);const t=this.#e,n=t.GetRuntime()._UnwrapScriptInterface(e);if(!n)throw new Error("invalid layer");t.GetWorldInfo().ZOrderMoveToLayer(n)}moveAdjacentToInstance(e,n){S_.RequireInstanceOf(e,t),this.#t.ZOrderMoveAdjacentToInstance(T_.get(e),n)}get zIndex(){return this.#t.GetZIndex()}get isCollisionEnabled(){return this.#t.IsCollisionEnabled()}set isCollisionEnabled(e){this.#t.SetCollisionEnabled(!!e)}containsPoint(e,t){return S_.RequireNumber(e),S_.RequireNumber(t),this.#t.ContainsPoint(+e,+t)}testOverlap(e){S_.RequireInstanceOf(e,t);const n=this.#e,s=T_.get(e);return n.GetRuntime().GetCollisionEngine().TestOverlap(n,s)}testOverlapSolid(){const e=this.#e,t=e.GetRuntime().GetCollisionEngine().TestOverlapSolid(e);return t?t.GetInterfaceClass():null}getParent(){const e=this.#e.GetParent();return e?e.GetInterfaceClass():null}getTopParent(){const e=this.#e.GetTopParent();return e?e.GetInterfaceClass():null}*parents(){for(const e of this.#e.parents())yield e.GetInterfaceClass()}getChildCount(){return this.#e.GetChildCount()}getChildAt(e){const t=this.#e.GetChildAt(e);return t?t.GetInterfaceClass():null}*children(){for(const e of this.#e.children())yield e.GetInterfaceClass()}*allChildren(){for(const e of this.#e.allChildren())yield e.GetInterfaceClass()}addChild(e,n){S_.RequireInstanceOf(e,t),S_.RequireOptionalObject(n),n||(n={});const s=this.#e,r=T_.get(e);s.AddChild(r,n)}removeChild(e){S_.RequireInstanceOf(e,t);const n=this.#e,s=T_.get(e);n.RemoveChild(s)}removeFromParent(){const e=this.#e;e.HasParent()&&e.GetParent().RemoveChild(e)}getHierarchyOpts(){const e=this.#t;return{transformX:e.GetTransformWithParentX(),transformY:e.GetTransformWithParentY(),transformWidth:e.GetTransformWithParentWidth(),transformHeight:e.GetTransformWithParentHeight(),transformAngle:e.GetTransformWithParentAngle(),transformZElevation:e.GetTransformWithParentZElevation(),transformOpacity:e.GetTransformWithParentOpacity(),transformVisibility:e.GetTransformWithParentVisibility(),destroyWithParent:e.GetDestroyWithParent()}}createMesh(e,t){S_.RequireFiniteNumber(e),S_.RequireFiniteNumber(t),this.#t.CreateMesh(e,t)}releaseMesh(){const e=this.#t;e.ReleaseMesh(),e.SetBboxChanged()}setMeshPoint(e,t,n){S_.RequireFiniteNumber(e),S_.RequireFiniteNumber(t),S_.RequireObject(n);const s=this.#t;s.SetMeshPoint(e,t,n)&&s.SetBboxChanged()}getMeshPoint(e,t){let n=NaN,s=NaN,r=NaN,o=NaN,a=NaN;const i=this.#t;if(i.HasMesh()){const l=i.GetSourceMesh().GetMeshPointAt(e,t);null!==l&&(n=l.GetX(),s=l.GetY(),r=l.GetZElevation(),o=l.GetU(),a=l.GetV())}return{x:n,y:s,zElevation:r,u:o,v:a}}getMeshSize(){const e=this.#t;if(!e.HasMesh())return[0,0];const t=e.GetSourceMesh();return[t.GetHSize(),t.GetVSize()]}}};MakeIWorldInstanceClass=N_;const b_=self.C3,S_=self.C3X,x_=self.IInstance,I_=self.ILayer,y_=b_.New(b_.Rect),E_=b_.New(b_.Quad),T_=new WeakMap,C_=b_._GetInternalAPIToken(),M_=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),V_=new Map([...M_.entries()].map(e=>[e[1],e[0]])),B_=b_.New(b_.Color);self.IWorldInstance=N_(self.IInstance),self.IWorldInstanceSDKBase=N_(self.ISDKInstanceBase)}{const O_=self.C3,v_=self.C3X;self.IDOMInstance=class extends self.IWorldInstance{#e;constructor(){super(),this.#e=self.IInstance._GetInitInst()}getElement(){return this.#e.GetSdkInstance()._GetElementInDOMMode()}focus(){this.#e.GetSdkInstance().FocusElement()}blur(){this.#e.GetSdkInstance().BlurElement()}setCssStyle(e,t){v_.RequireString(e),this.#e.GetSdkInstance().SetElementCSSStyle(e,t)}}}{let P_=function(e){let t=D_.get(e);return t||(t=w_.New(w_.Event.Dispatcher),D_.set(e,t),t)};GetDispatcher=P_;const w_=self.C3,A_=self.C3X,D_=new WeakMap,R_=w_._GetInternalAPIToken();self.IBehaviorInstance=class{#e;constructor(){const e=w_.AddonManager._GetInitObject2(R_);this.#e=e;const t={runtime:{value:e.GetRuntime().GetIRuntime(),writable:!1},behavior:{value:e.GetBehavior().GetIBehavior(),writable:!1},behaviorType:{value:e.GetBehaviorType().GetIBehaviorType(),writable:!1}};Object.defineProperties(this,t),e.GetRuntime()._MapScriptInterface(this,e)}static _GetInitInst(){return w_.AddonManager._GetInitObject()}get instance(){return this.#e.GetObjectInstance().GetInterfaceClass()}_release(){const e=D_.get(this);e&&(e.Release(),D_.delete(this))}addEventListener(e,t,n){A_.RequireString(e),A_.RequireFunction(t),P_(this).addEventListener(e,t,n)}removeEventListener(e,t,n){A_.RequireString(e),A_.RequireFunction(t),P_(this).removeEventListener(e,t,n)}dispatchEvent(e){P_(this).dispatchEvent(e)}}}{const F_=self.C3,j_=self.C3X,k_=F_._GetInternalAPIToken();self.IBehaviorType=class{constructor(){const e=F_.AddonManager._GetInitObject2(k_),t={runtime:{value:e.GetRuntime().GetIRuntime(),writable:!1},behavior:{value:e.GetBehavior().GetIBehavior(),writable:!1},name:{value:e.GetName(),writable:!1}};Object.defineProperties(this,t)}}}{const L_=self.C3,W_=self.C3X,U_=L_._GetInternalAPIToken();self.IBehavior=class{#t;constructor(){const e=L_.AddonManager._GetInitObject2(U_);this.#t=e;const t={runtime:{value:e.GetRuntime().GetIRuntime(),writable:!1},id:{value:e.GetID(),writable:!1}};Object.defineProperties(this,t),e.GetRuntime()._MapScriptInterface(this,e)}getAllInstances(){return this.#t.GetInstances().map(e=>e.GetInterfaceClass())}static getByConstructor(e){if(!e)return null;const t=L_.AddonManager.GetBehaviorByConstructorFunction(e);return t?t.GetIBehavior():null}}}{const H_=self.C3,z_=self.C3X,Y_=H_.New(H_.Color);self.IEffectInstance=class{#e;constructor(e,t){this.#e=e;const n={index:{value:t,writable:!1}};Object.defineProperties(this,n)}get name(){return this.#e.GetAllEffectTypes()[this.index].GetName()}get isActive(){return this.#e.IsEffectIndexActive(this.index)}set isActive(e){e=!!e;const t=this.#e;t.IsEffectIndexActive(this.index)!==e&&(t.SetEffectIndexActive(this.index,e),t.UpdateActiveEffects(),t.GetRuntime().UpdateRender())}setParameter(e,t){z_.RequireFiniteNumber(e),e=Math.floor(+e);const n=this.#e,s=n.GetEffectParameter(this.index,e);if(null===s)throw new RangeError("invalid index");if(s instanceof H_.Color){if(!Array.isArray(t)||t.length<3)throw new TypeError("expected array with 3 elements");Y_.setRgb(t[0],t[1],t[2]),t=Y_}else if("number"!=typeof t)throw new TypeError("expected number");n.SetEffectParameter(this.index,e,t)&&n.IsEffectIndexActive(this.index)&&n.GetRuntime().UpdateRender()}getParameter(e){z_.RequireFiniteNumber(e),e=Math.floor(+e);const t=this.#e.GetEffectParameter(this.index,e);if(null===t)throw new RangeError("invalid index");return t instanceof H_.Color?[t.getR(),t.getG(),t.getB()]:t}}}{const X_=self.C3,q_=self.C3X;self.IAnimation=class{#e;constructor(e){this.#e=e,Object.defineProperties(this,{name:{value:e.GetName(),writable:!1}})}get speed(){return this.#e.GetSpeed()}get isLooping(){return this.#e.IsLooping()}get repeatCount(){return this.#e.GetRepeatCount()}get repeatTo(){return this.#e.GetRepeatTo()}get isPingPong(){return this.#e.IsPingPong()}get frameCount(){return this.#e.GetFrameCount()}getFrames(){return this.#e.GetFrames().map(e=>e.GetIAnimationFrame())}*frames(){for(const e of this.#e.GetFrames())yield e.GetIAnimationFrame()}}}{const K_=self.C3,J_=self.C3X;self.IImageInfo=class{#t;constructor(e){this.#t=e}static _Unwrap(e){return e.#t}get width(){return this.#t.GetWidth()}get height(){return this.#t.GetHeight()}getSize(){const e=this.#t;return[e.GetWidth(),e.GetHeight()]}getTexture(e){return e.getTextureForImageInfo(this)}getTexRect(){return this.#t.GetTexRect().toDOMRect()}}}{const $_=self.C3,Z_=self.C3X;self.IAnimationFrame=class extends self.IImageInfo{#t;constructor(e){super(e.GetImageInfo()),this.#t=e,Object.defineProperties(this,{duration:{value:e.GetDuration(),writable:!1},originX:{value:e.GetOriginX(),writable:!1},originY:{value:e.GetOriginY(),writable:!1}})}getOrigin(){const e=this.#t;return[e.GetOriginX(),e.GetOriginY()]}getImagePointCount(){return this.#t.GetImagePointCount()}getImagePointX(e){return this.getImagePoint(e)[0]}getImagePointY(e){return this.getImagePoint(e)[1]}getImagePoint(e){const t=this.#t;let n=null;if("number"==typeof e)n=t.GetImagePointByIndex(Math.floor(e));else{if("string"!=typeof e)throw new TypeError("expected string or number");n=t.GetImagePointByName(e)}return n?[n.GetX(),n.GetY()]:this.getOrigin()}getPolyPointCount(){const e=this.#t.GetCollisionPoly();return e?e.pointCount():0}getPolyPointX(e){return this.getPolyPoint(e)[0]}getPolyPointY(e){return this.getPolyPoint(e)[1]}getPolyPoint(e){Z_.RequireFiniteNumber(e),e=Math.floor(e);const t=this.#t.GetCollisionPoly();if(!t||e<0||e>=t.pointCount())return[0,0];const n=t.pointsArr();return[n[2*e],n[2*e+1]]}get tag(){return this.#t.GetTag()}}}{let Q_=function(e){const t=nG.get(e);if(t.IsReleased())throw new Error("timeline/tween was released and is no longer valid");return t};GetTimelineState=Q_;const eG=self.C3,tG=self.C3X,nG=new WeakMap;self.ITimelineStateBase=class{constructor(e){nG.set(this,e),e.GetRuntime()._MapScriptInterface(this,e)}pause(){Q_(this).Stop()}resume(){Q_(this).Resume()}stop(){Q_(this).Reset()}hasTags(e){return Q_(this).HasTags(e)}set time(e){tG.RequireFiniteNumber(e),Q_(this).SetTime(e)}get time(){return Q_(this).GetTime()}set totalTime(e){tG.RequireFiniteNumber(e),Q_(this).SetTotalTime(e)}get totalTime(){return Q_(this).GetTotalTime()}set isLooping(e){Q_(this).SetLoop(!!e)}get isLooping(){return Q_(this).GetLoop()}set isPingPong(e){Q_(this).SetPingPong(!!e)}get isPingPong(){return Q_(this).GetPingPong()}set playbackRate(e){tG.RequireFiniteNumber(e),Q_(this).SetPlaybackRate(e)}get playbackRate(){return Q_(this).GetPlaybackRate()}get progress(){const e=Q_(this);return e.GetTime()/e.GetTotalTime()}get tags(){return Q_(this).GetTags()}get finished(){return Q_(this).GetPlayPromise()}get isPlaying(){return Q_(this).IsPlaying()}get isPaused(){return Q_(this).IsPaused()}get isReleased(){return nG.get(this).IsReleased()}}}{let sG=function(e){const t=aG.get(e);if(t.IsReleased())throw new Error("timeline was released and is no longer valid");return t};GetTimelineState=sG;const rG=self.C3,oG=self.C3X,aG=new WeakMap;let iG=null;self.ITimelineState=class extends self.ITimelineStateBase{constructor(e){super(e),aG.set(this,e);const t={name:{value:e.GetName(),writable:!1}};Object.defineProperties(this,t)}}}{let lG=function(e){const t=uG.get(e);if(t.IsReleased())throw new Error("tween was released and is no longer valid");return t};GetTweenState=lG;const dG=self.C3,cG=self.C3X,uG=new WeakMap,hG=new WeakMap;let _G=null;self.ITweenState=class extends self.ITimelineStateBase{constructor(e,t,n){super(e),_G||(_G=n.easeToIndexFunc),uG.set(this,e),t&&hG.set(this,t)}stop(){const e=lG(this);hG.get(this).ReleaseTween(e)}setEase(e){cG.RequireString(e);const t=self.Ease.GetEaseFromIndex(_G(e));lG(this).SetEase(t)}get instance(){const e=lG(this).GetInstance();return e?e.GetInterfaceClass():null}get isDestroyOnComplete(){return lG(this).GetDestroyInstanceOnComplete()}set isDestroyOnComplete(e){lG(this).SetDestroyInstanceOnComplete(!!e)}get value(){const e=lG(this);if("value"!==e.GetId())throw new Error("not a value tween");return e.GetPropertyTrack("value").GetSourceAdapterValue()}}}{const GG=self.C3,pG=self.C3X;self.ISDKPluginBase=class extends self.IPlugin{constructor(){super()}}}{const mG=self.C3,gG=self.C3X,fG=mG._GetInternalAPIToken();self.ISDKDOMPluginBase=class extends self.ISDKPluginBase{#e;#n;#t=0;#o=new Map;constructor(e){if(super(),this.#e=mG.AddonManager._GetInitObject2(fG),!e?.domComponentId)throw new Error("no DOM component ID specified");this.#n=e.domComponentId,this._addElementMessageHandler("elem-focused",e=>e._onElemFocused()),this._addElementMessageHandler("elem-blurred",e=>{e&&e._onElemBlurred()})}_addElement(e){const t=this.#t++;return this.#o.set(t,e),t}_removeElement(e){this.#o.delete(e)}_addElementMessageHandler(e,t){this.#e.GetRuntime().AddDOMComponentMessageHandler(this.#n,e,e=>{const n=this.#o.get(e.elementId);t(n,e)})}_addElementMessageHandlers(e){gG.RequireArray(e);for(const[t,n]of e)this._addElementMessageHandlers(t,n)}}}{const NG=self.C3,bG=self.C3X,SG=new WeakMap,xG=NG._GetInternalAPIToken();self.ISDKObjectTypeBase=class extends self.IObjectType{#e;constructor(){super(),this.#e=NG.AddonManager._GetInitObject2(xG)}_onCreate(){}getImageInfo(){return this.#e.GetImageInfo().GetIImageInfo()}_loadTextures(e){}_releaseTextures(e){}_onDynamicTextureLoadComplete(){}_preloadTexturesWithInstances(e){}}}{const IG=self.C3,yG=self.C3X,EG=new WeakMap,TG=IG._GetInternalAPIToken();self.ISDKWorldInstanceBase=class extends self.IWorldInstanceSDKBase{#e;#r=null;#t=null;constructor(e){super(e),this.#e=IG.AddonManager._GetInitObject2(TG)}_release(){if(super._release(),this.#r){const e=this.#e.GetRuntime().Dispatcher();e.removeEventListener("renderercontextlost",this.#r),e.removeEventListener("renderercontextrestored",this.#t),this.#r=null,this.#t=null}}_handleRendererContextLoss(){if(this.#r)return;this.#r=()=>this._onRendererContextLost(),this.#t=()=>this._onRendererContextRestored();const e=this.#e.GetRuntime().Dispatcher();e.addEventListener("renderercontextlost",this.#r),e.addEventListener("renderercontextrestored",this.#t)}_onRendererContextLost(){}_onRendererContextRestored(){}_draw(e){}_rendersToOwnZPlane(){return!0}_mustPreDraw(){return!1}}}{const CG=self.C3,MG=self.C3X,VG=CG.New(CG.Rect),BG=new WeakMap,OG=CG._GetInternalAPIToken();self.ISDKDOMInstanceBase=class extends self.ISDKWorldInstanceBase{#e=-1;#t=!0;#o=!1;#s=!1;#n=-.2;#a=CG.New(CG.Rect,0,0,-1,-1);#i=0;#l=0;#d=-1;#c=-1;#u=!1;constructor(e){if(!e?.domComponentId)throw new Error("no DOM component ID specified");super(e);const t=CG.AddonManager._GetInitObject2(OG);BG.set(this,t),this.#e=this.plugin._addElement(this);const n=t.GetRuntime().GetCanvasManager();this.#i=n.GetLastWidth(),this.#l=n.GetLastHeight(),this._setTicking(!0)}_release(){super._release(),this.plugin._removeElement(this.#e),this._postToDOMElement("destroy"),this.#e=-1,BG.delete(this)}_getElementInDOMMode(){if(BG.get(this).GetRuntime().IsInWorker())throw new Error("not valid in worker mode");return this._postToDOMElementMaybeSync("get-element")}_postToDOMElement(e,t){t||(t={}),t.elementId=this.#e,this._postToDOM(e,t)}_postToDOMElementMaybeSync(e,t){return t||(t={}),t.elementId=this.#e,this._postToDOMMaybeSync(e,t)}_postToDOMElementAsync(e,t){return t||(t={}),t.elementId=this.#e,this._postToDOMAsync(e,t)}_createElement(e){e||(e={});const t=BG.get(this).GetWorldInfo();e.elementId=this.#e,e.isVisible=t.IsVisible(),e.htmlIndex=t.GetLayer().GetHTMLIndex(),e.htmlZIndex=t.GetHTMLZIndex(),Object.assign(e,this._getElementState()),this.#t=!!e.isVisible,this._postToDOMMaybeSync("create",e),this._updatePosition(!0)}setElementVisible(e){e=!!e,this.#t!==e&&(this.#t=e,this._postToDOMElement("set-visible",{isVisible:e}))}_tick(){this._updatePosition(!1)}_shouldPreserveElement(){const e=BG.get(this).GetRuntime().GetCanvasManager().GetFullscreenMode();return"Android"===CG.Platform.OS&&("scale-inner"===e||"scale-outer"===e||"crop"===e)}_updatePosition(e){const t=BG.get(this);if(t.IsDestroyed())return;const n=t.GetWorldInfo(),s=n.GetLayer(),r=n.GetBoundingBox();let[o,a]=s.LayerToCanvasCss(r.getLeft(),r.getTop()),[i,l]=s.LayerToCanvasCss(r.getRight(),r.getBottom());const d=t.GetRuntime().GetCanvasManager(),c=d.GetCssWidth(),u=d.GetCssHeight();if(!n.IsVisible()||!s.IsVisible())return void this.setElementVisible(!1);if(!this._shouldPreserveElement()&&(i<=0||l<=0||o>=c||a>=u))return void this.setElementVisible(!1);VG.set(o,a,i,l);const h=d.GetLastWidth(),_=d.GetLastHeight(),G=s.GetHTMLIndex(),p=n.GetHTMLZIndex();if(!e&&VG.equals(this.#a)&&this.#i===h&&this.#l===_&&this.#d===G&&this.#c===p)return void this.setElementVisible(!0);this.#a.copy(VG),this.#i=h,this.#l=_,this.#d=G,this.#c=p,this.setElementVisible(!0);let m=null;this.#s&&(m=s.GetDisplayScale()+this.#n),this._postToDOMElement("update-position",{left:Math.round(this.#a.getLeft()),top:Math.round(this.#a.getTop()),width:Math.round(this.#a.width()),height:Math.round(this.#a.height()),htmlIndex:G,htmlZIndex:p,fontSize:m})}focusElement(){this._postToDOMElementMaybeSync("focus",{focus:!0})}blurElement(){this._postToDOMElementMaybeSync("focus",{focus:!1})}_onElemFocused(){this.#o=!0}_onElemBlurred(){this.#o=!1}isElementFocused(){return this.#o}setElementCSSStyle(e,t){this.postToDOMElement("set-css-style",{prop:CG.CSSToCamelCase(e),val:t})}setElementAttribute(e,t){this.postToDOMElement("set-attribute",{name:e,val:t})}removeElementAttribute(e){this.postToDOMElement("remove-attribute",{name:e})}_updateElementState(){this.#u||(this.#u=!0,Promise.resolve().then(()=>{this.#u=!1,this._postToDOMElement("update-state",this._getElementState())}))}_getElementState(){}_getElementId(){return this.#e}}}{const vG=self.C3,PG=self.C3X;self.ISDKBehaviorBase=class extends self.IBehavior{constructor(){super()}}}{const wG=self.C3,AG=self.C3X;self.ISDKBehaviorTypeBase=class extends globalThis.IBehaviorType{constructor(){super()}_onCreate(){}}}{const DG=self.C3,RG=self.C3X,FG=new WeakMap,jG=DG._GetInternalAPIToken();self.ISDKBehaviorInstanceBase=class extends self.IBehaviorInstance{#s=!1;#t=!1;#e=!1;constructor(){super(),FG.set(this,DG.AddonManager._GetInitObject2(jG))}_release(){super._release(),this._setTicking(!1),this._setTicking2(!1),this._setPostTicking(!1),FG.delete(this)}_getInitProperties(){return DG.AddonManager._GetInitProperties()}_postCreate(){}_trigger(e){const t=FG.get(this);t.GetRuntime().Trigger(e,t.GetObjectInstance(),t.GetBehaviorType())}_triggerAsync(e){const t=FG.get(this);return t.GetRuntime().TriggerAsync(e,t.GetObjectInstance(),t.GetBehaviorType())}_setTicking(e){if(e=!!e,this.#s===e)return;this.#s=e;const t=FG.get(this).GetRuntime();e?t._AddBehInstToTick(this):t._RemoveBehInstToTick(this)}_isTicking(){return this.#s}_tick(){}_setTicking2(e){if(e=!!e,this.#t===e)return;this.#t=e;const t=FG.get(this).GetRuntime();e?t._AddBehInstToTick2(this):t._RemoveBehInstToTick2(this)}_isTicking2(){return this.#t}_tick2(){}_setPostTicking(e){if(e=!!e,this.#e===e)return;this.#e=e;const t=FG.get(this).GetRuntime();e?t._AddBehInstToPostTick(this):t._RemoveBehInstToPostTick(this)}_isPostTicking(){return this.#e}_postTick(){}_getDebuggerProperties(){return[]}_saveToJson(){return null}_loadFromJson(e){}}}{const kG=self.C3,LG=self.C3X;let WG=null;self.ISDKUtils=class{constructor(e){WG=e}addLoadPromise(e){WG.AddLoadPromise(e)}sendWrapperExtensionMessage(e,t,n){LG.RequireString(e),LG.RequireString(t),LG.RequireOptionalArray(n),WG.SendWrapperExtensionMessage(e,t,n)}sendWrapperExtensionMessageAsync(e,t,n){return LG.RequireString(e),LG.RequireString(t),LG.RequireOptionalArray(n),WG.SendWrapperExtensionMessageAsync(e,t,n)}createLoopingConditionContext(e){return LG.RequireOptionalString(e),new self.ILoopingConditionContext(WG,e)}set isAutoSuspendEnabled(e){WG._SetAutoSuspendEnabled(!!e)}get isAutoSuspendEnabled(){return WG._IsAutoSuspendEnabled()}setSuspended(e){WG.SetSuspended(!!e)}getObjectClassBySid(e){LG.RequireNumber(e);const t=WG.GetObjectClassBySID(e);return t?t.GetIObjectClass():null}}}{const UG=self.C3,HG=self.C3X;self.ILoopingConditionContext=class{#e;#t;#a;#n;#o;#r;constructor(e,t){this.#e=e;const n=e.GetEventSheetManager(),s=e.GetCurrentEvent();this.#t=s,this.#a=s.GetSolModifiers();const r=e.GetEventStack();this.#n=r.GetCurrentStackFrame(),this.#o=r.Push(s);const o=n.GetLoopStack().Push();this.#r=o,t&&o.SetName(t),e.SetDebuggingEnabled(!1)}retrigger(){const e=this.#e.GetEventSheetManager(),t=this.#a,n=this.#r;e.PushCopySol(t),this.#t.Retrigger(this.#n,this.#o),e.PopSol(t),n.SetIndex(n.GetIndex()+1)}get isStopped(){return this.#r.IsStopped()}release(){const e=this.#e,t=e.GetEventStack(),n=e.GetEventSheetManager().GetLoopStack();e.SetDebuggingEnabled(!0),n.Pop(),t.Pop()}}}{let zG=function(e){return e instanceof ImageBitmap||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas};IsStaticTextureDataType=zG;const YG=self.C3,XG=self.C3X;let qG=null,KG=null;const JG=["none","back","front"],$G=["cw","ccw"];self.IRenderer=class{constructor(e,t){KG=e,qG=t}setAlphaBlendMode(){qG.SetAlphaBlend()}setBlendMode(e){qG.SetNamedBlendMode(e)}setColorFillMode(){qG.SetColorFillMode()}setTextureFillMode(){qG.SetTextureFillMode()}setSmoothLineFillMode(){qG.SetSmoothLineFillMode()}setColor(e){qG.SetColorRgba(e[0],e[1],e[2],e[3])}setColorRgba(e,t,n,s){qG.SetColorRgba(e,t,n,s)}resetColor(){qG.ResetColor()}setOpacity(e){qG.SetOpacity(e)}setCurrentZ(e){qG.SetCurrentZ(e)}getCurrentZ(){return qG.GetCurrentZ()}setCullFaceMode(e){const t=JG.indexOf(e);if(-1===t)throw new Error("invalid cull mode");qG.SetCullFaceMode(t)}getCullFaceMode(){return JG[qG.GetCullFaceMode()]}setFrontFaceWinding(e){const t=$G.indexOf(e);if(-1===t)throw new Error("invalid front face winding");qG.SetFrontFaceWinding(t)}getFrontFaceWinding(){return qG.GetFrontFaceWinding()}rect(e){qG.Rect2(e.left,e.top,e.right,e.bottom)}rect2(e,t,n,s){qG.Rect2(e,t,n,s)}quad(e){qG.Quad(YG.Quad.fromDOMQuad(e))}quad2(e,t,n,s,r,o,a,i){qG.Quad2(e,t,n,s,r,o,a,i)}quad3(e,t){qG.Quad3(YG.Quad.fromDOMQuad(e),YG.Rect.fromDOMRect(t))}quad4(e,t){qG.Quad4(YG.Quad.fromDOMQuad(e),YG.Quad.fromDOMQuad(t))}quad5(e,t,n){qG.Quad5(YG.Quad.fromDOMQuad(e),YG.Quad.fromDOMQuad(t),n)}quad3D(e,t,n,s,r,o,a,i,l,d,c,u,h){qG.Quad3D(e,t,n,s,r,o,a,i,l,d,c,u,YG.Rect.fromDOMRect(h))}quad3D2(e,t,n,s,r,o,a,i,l,d,c,u,h){qG.Quad3D2(e,t,n,s,r,o,a,i,l,d,c,u,YG.Quad.fromDOMQuad(h))}quad3D3(e,t,n,s,r,o,a,i,l,d,c,u,h,_){qG.Quad3D3(e,t,n,s,r,o,a,i,l,d,c,u,YG.Quad.fromDOMQuad(h),_)}drawMesh(e,t,n,s){qG.DrawMesh(e,t,n,s)}convexPoly(e){qG.ConvexPoly(e)}line(e,t,n,s){qG.Line(e,t,n,s)}texturedLine(e,t,n,s,r,o){qG.TexturedLine(e,t,n,s,r,o)}lineRect(e,t,n,s){qG.LineRect(e,t,n,s)}lineRect2(e){qG.LineRect2(YG.Rect.fromDOMRect(e))}lineQuad(e){qG.LineQuad(YG.Quad.fromDOMQuad(e))}pushLineWidth(e){qG.PushLineWidth(e)}popLineWidth(){qG.PopLineWidth()}pushLineCap(e){qG.PushLineCap(e)}popLineCap(){qG.PopLineCap()}setTexture(e){XG.RequireOptionalInstanceOf(e,self.ITexture);const t=e?KG._UnwrapScriptInterface(e):null;qG.SetTexture(t)}loadTextureForImageInfo(e,t){const n=self.IImageInfo._Unwrap(e);if(!n)throw new Error("invalid IImageInfo");return n.LoadStaticTexture(qG,{wrapX:t?.wrapX??"clamp-to-edge",wrapY:t?.wrapY??"clamp-to-edge",sampling:t?.sampling??"trilinear",mipMap:t?.mipMap??!0})}releaseTextureForImageInfo(e){const t=self.IImageInfo._Unwrap(e);if(!t)throw new Error("invalid IImageInfo");t.ReleaseTexture()}getTextureForImageInfo(e){const t=self.IImageInfo._Unwrap(e);if(!t)throw new Error("invalid IImageInfo");const n=t.GetTexture();return self.ITexture.GetInterface(KG,n)}createStaticTexture(e,t){if(!zG(e))throw new TypeError("invalid texture data");const n=qG.CreateStaticTexture(e,{wrapX:t?.wrapX??"clamp-to-edge",wrapY:t?.wrapY??"clamp-to-edge",sampling:t?.sampling??"trilinear",mipMap:t?.mipMap??!0});return self.ITexture.GetInterface(KG,n)}createDynamicTexture(e,t,n){XG.RequireFiniteNumber(e),XG.RequireFiniteNumber(t);const s=qG.CreateDynamicTexture(e,t,{wrapX:n?.wrapX??"clamp-to-edge",wrapY:n?.wrapY??"clamp-to-edge",sampling:n?.sampling??"trilinear",mipMap:n?.mipMap??!0});return self.ITexture.GetInterface(KG,s)}updateTexture(e,t,n){XG.RequireInstanceOf(t,self.ITexture);const s=KG._UnwrapScriptInterface(t);qG.UpdateTexture(e,s,{premultiplyAlpha:n?.premultiplyAlpha??!0})}deleteTexture(e){XG.RequireInstanceOf(e,self.ITexture);const t=KG._UnwrapScriptInterface(e);qG.DeleteTexture(t)}createRendererText(){const e=qG.CreateRendererText();return new self.IRendererText(KG,e)}setDeviceTransform(){KG.GetCanvasManager().SetDeviceTransform(qG)}setLayerTransform(e){XG.RequireInstanceOf(e,globalThis.ILayer),KG._UnwrapScriptInterface(e)._SetTransform(qG)}}}{const ZG=self.C3,QG=self.C3X,ep=new WeakMap,tp=new WeakMap;self.ITexture=class{constructor(e,t){ep.set(this,{runtime:e,texture:t}),tp.set(t,this),e._MapScriptInterface(this,t),Object.defineProperties(this,{width:{value:t.GetWidth(),writable:!1},height:{value:t.GetHeight(),writable:!1}})}static GetInterface(e,t){if(!t)return null;return tp.get(t)||new self.ITexture(e,t)}}}{let np=function(e){return op.get(e).rendererText};getActual=np;const sp=self.C3,rp=self.C3X,op=new WeakMap;self.IRendererText=class{constructor(e,t){op.set(this,{runtime:e,rendererText:t}),e._MapScriptInterface(this,t)}release(){np(this).Release()}set fontFace(e){rp.RequireString(e),np(this).SetFontName(e)}get fontFace(){return np(this).GetFontName()}set sizePt(e){rp.RequireFiniteNumber(e),np(this).SetFontSize(e)}get sizePt(){return np(this).GetFontSize()}set lineHeight(e){rp.RequireFiniteNumber(e),np(this).SetLineHeight(e)}get lineHeight(){return np(this).GetLineHeight()}set isBold(e){np(this).SetBold(e)}get isBold(){return np(this).IsBold()}set isItalic(e){np(this).SetItalic(e)}get isItalic(){return np(this).IsItalic()}setColor(e){rp.RequireArray(e),this.setColorRgb(e[0],e[1],e[2])}setColorRgb(e,t,n){np(this).SetColorRgb(e,t,n)}setCssColor(e){rp.RequireString(e),np(this).SetColor(e)}set horizontalAlign(e){np(this).SetHorizontalAlignment(e)}get horizontalAlign(){return np(this).GetHorizontalAlignment()}set verticalAlign(e){np(this).SetVerticalAlignment(e)}get verticalAlign(){return np(this).GetVerticalAlignment()}set wordWrapMode(e){np(this).SetWordWrapMode(e)}get wordWrapMode(){return np(this).GetWordWrapMode()}set textDirection(e){np(this).SetTextDirection(e)}get textDirection(){return np(this).GetTextDirection()}set text(e){rp.RequireString(e),np(this).SetText(e)}get text(){return np(this).GetText()}setSize(e,t,n){rp.RequireFiniteNumber(e),rp.RequireFiniteNumber(t),rp.RequireFiniteNumber(n),np(this).SetSize(e,t,n)}getTexture(){const{runtime:e,rendererText:t}=op.get(this),n=t.GetTexture();return self.ITexture.GetInterface(e,n)}getTexRect(){return np(this).GetTexRect().toDOMRect()}setTextureUpdateCallback(e){rp.RequireFunction(e),np(this).ontextureupdate=e}releaseTexture(){np(this).ReleaseTexture()}get textWidth(){return np(this).GetTextWidth()}get textHeight(){return np(this).GetTextHeight()}}}{let ap=function(e){if(!e)return"";const t=e.split(".");if(t.length<2)return"";const n=t.at(-1).toLowerCase();return cp.get(n)||""},ip=function(e){return new Promise((t,n)=>{const s=document.createElement("script");s.onload=t,s.onerror=n,s.async=!1,s.type="module",s.src=e,document.head.appendChild(s)})};GetTypeFromFileExtension=ap,AddScript=ip;const lp=self.C3,dp=new Set(["local","remote"]),cp=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);lp.AssetManager=class extends lp.DefendedBase{constructor(e,t){super();const n=t.exportType;this._runtime=e,this._fileStructure="folders",this._cordovaBlobUrlCache=new Map,this._isCordova="cordova"===n,this._isiOSCordova=!!t.isiOSCordova,this._isFileProtocol=!!t.isFileProtocol,this._swClientId=t.swClientId,this._supportedAudioFormats=t.supportedAudioFormats||{},this._audioFiles=new Map,this._preloadSounds=!1,this._scriptSubfolder=t.scriptFolder,this._mediaSubfolder="",this._fontsSubfolder="",this._iconsSubfolder="",this._fileMap=t.fileMap||new Map,this._fileMapBlobUrls=new Map;const s="html5"===n||"scirra-arcade"===n||"instant-games"===n;this._defaultLoadPolicy=s?"remote":"local",this._imageAssetsMap=new Map,this._webFonts=[],this._loadPromises=[],this._hasFinishedInitialLoad=!1,this._totalAssetSizeToLoad=0,this._assetSizeLoaded=0,this._lastLoadProgress=0,this._hasHadErrorLoading=!1,this._loadingRateLimiter=lp.New(lp.RateLimiter,()=>this._FireLoadingProgressEvent(),50),this._localPromiseThrottle=lp.New(lp.PromiseThrottle,Math.max(lp.hardwareConcurrency,8)),this._remotePromiseThrottle=lp.New(lp.PromiseThrottle,20),this._iAssetManager=new self.IAssetManager(this)}Release(){for(const e of this._imageAssetsMap.values())e.Release();this._imageAssetsMap.clear(),lp.clearArray(this._loadPromises),this._runtime=null}GetRuntime(){return this._runtime}_SetFileStructure(e){this._fileStructure=e}GetFileStructure(){return this._fileStructure}GetScriptSubfolder(){return this._scriptSubfolder}_SetMediaSubfolder(e){this._mediaSubfolder=e}GetMediaSubfolder(){return this._mediaSubfolder}_SetFontsSubfolder(e){this._fontsSubfolder=e}GetFontsSubfolder(){return this._fontsSubfolder}_SetIconsSubfolder(e){this._iconsSubfolder=e}GetIconsSubfolder(){return this._iconsSubfolder}IsFileProtocol(){return this._isFileProtocol}FetchBlob(e,t){return t=t||this._defaultLoadPolicy,lp.IsRelativeURL(e)?("flat"===this._fileStructure&&(e=e.toLowerCase()),this._isCordova&&this._isFileProtocol?this.CordovaFetchLocalFileAsBlob(e):"playable-ad-single-file"===this._runtime.GetExportType()?self.c3_runtimeInterface._PlayableAdFetchBlob(e):"local"===t?this._localPromiseThrottle.Add(()=>lp.FetchBlob(e)):this._remotePromiseThrottle.Add(()=>lp.FetchBlob(e))):lp.FetchBlob(e)}FetchArrayBuffer(e){return lp.IsRelativeURL(e)?("flat"===this._fileStructure&&(e=e.toLowerCase()),this._isCordova&&this._isFileProtocol?this.CordovaFetchLocalFileAsArrayBuffer(e):"playable-ad-single-file"===this._runtime.GetExportType()?lp.BlobToArrayBuffer(self.c3_runtimeInterface._PlayableAdFetchBlob(e)):"local"===this._defaultLoadPolicy?this._localPromiseThrottle.Add(()=>lp.FetchArrayBuffer(e)):this._remotePromiseThrottle.Add(()=>lp.FetchArrayBuffer(e))):lp.FetchArrayBuffer(e)}FetchText(e){return lp.IsRelativeURL(e)?("flat"===this._fileStructure&&(e=e.toLowerCase()),this._isCordova&&this._isFileProtocol?this.CordovaFetchLocalFileAsText(e):"playable-ad-single-file"===this._runtime.GetExportType()?lp.BlobToString(self.c3_runtimeInterface._PlayableAdFetchBlob(e)):"local"===this._defaultLoadPolicy?this._localPromiseThrottle.Add(()=>lp.FetchText(e)):this._remotePromiseThrottle.Add(()=>lp.FetchText(e))):lp.FetchText(e)}async FetchJson(e){const t=await this.FetchText(e);return JSON.parse(t)}_CordovaFetchLocalFileAs(e,t){return"flat"===this._fileStructure&&(e=e.toLowerCase()),this._runtime.PostComponentMessageToDOMAsync("runtime","cordova-fetch-local-file",{filename:e,as:t})}CordovaFetchLocalFileAsText(e){return this._CordovaFetchLocalFileAs(e,"text")}async CordovaFetchLocalFileAsBlob(e){const t=await this._CordovaFetchLocalFileAs(e,"buffer"),n=ap(e);return new Blob([t],{type:n})}async CordovaFetchLocalFileAsBlobURL(e){"flat"===this._fileStructure&&(e=e.toLowerCase());let t=this._cordovaBlobUrlCache.get(e);if(t)return t;const n=await this.CordovaFetchLocalFileAsBlob(e);return t=URL.createObjectURL(n),this._cordovaBlobUrlCache.set(e,t),t}CordovaFetchLocalFileAsArrayBuffer(e){return this._CordovaFetchLocalFileAs(e,"buffer")}GetMediaFileUrl(e){"flat"===this._fileStructure&&(e=e.toLowerCase());let t=this._mediaSubfolder+e;return"Gecko"===lp.Platform.BrowserEngine&&"preview"===this._runtime.GetExportType()&&(t=this._GetLocalBlobURLFromFileMap(t)),t}GetProjectFileUrl(e){return lp.IsAbsoluteURL(e)?Promise.resolve(e):this._isCordova&&this._isFileProtocol?this.CordovaFetchLocalFileAsBlobURL(e):"playable-ad-single-file"===this._runtime.GetExportType()?URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(e)):("flat"===this._fileStructure&&(e=e.toLowerCase()),Promise.resolve(e))}GetProjectFileIframeUrl(e){if(lp.IsAbsoluteURL(e)||"preview"!==this._runtime.GetExportType()||!this._swClientId||!e)return e;try{const t=new URL(e,location.href);return t.searchParams.set("__c3_client_id",this._swClientId),t.toString()}catch(t){return console.warn("Invalid iframe URL: "+e),e}}LoadProjectFileUrl(e){return this.GetProjectFileUrl(e)}_GetImageAssetKey(e,t){return(t?"true":"false")+"|"+e}LoadImage(e){const t=!!e.isTiled;if(e.loadPolicy&&!dp.has(e.loadPolicy))throw new Error("invalid load policy");const n=this._GetImageAssetKey(e.url,t);let s=this._imageAssetsMap.get(n);return s||(s=lp.New(lp.ImageAsset,this,{url:e.url,size:e.size||0,loadPolicy:e.loadPolicy||this._defaultLoadPolicy,isTiled:t}),this._imageAssetsMap.set(n,s),this._hasFinishedInitialLoad||(this._totalAssetSizeToLoad+=s.GetSize(),this._loadPromises.push(s.Load().then(()=>this._AddLoadedSize(s.GetSize())))),s)}_ReleaseImageAsset(e){const t=this._GetImageAssetKey(e.GetURL(),e.IsTiled());this._imageAssetsMap.delete(t)}async WaitForAllToLoad(){try{await Promise.all(this._loadPromises),this._lastLoadProgress=1}catch(e){console.error("Error loading: ",e),this._hasHadErrorLoading=!0,this._FireLoadingProgressEvent()}}SetInitialLoadFinished(){this._hasFinishedInitialLoad=!0}HasHadErrorLoading(){return this._hasHadErrorLoading}_AddLoadedSize(e){this._assetSizeLoaded+=e,this._loadingRateLimiter.Call()}_FireLoadingProgressEvent(){const e=lp.New(lp.Event,"loadingprogress");this._lastLoadProgress=lp.clamp(this._assetSizeLoaded/this._totalAssetSizeToLoad,0,1),e.progress=this._lastLoadProgress,this._runtime.Dispatcher().dispatchEvent(e),this._runtime.DispatchUserScriptEvent(lp.New(lp.Event,"loadingprogress"))}GetLoadProgress(){return this._lastLoadProgress}GetImageLoadProgress(){return this._runtime.GetSystemPlugin().GetImageLoadingProgress()}_SetWebFonts(e){lp.shallowAssignArray(this._webFonts,e),this._webFonts.length&&this._loadPromises.push(this._LoadWebFonts())}async _LoadWebFonts(){const e=[],t=[];for(const[n,s,r]of this._webFonts)this._totalAssetSizeToLoad+=r,e.push(this._LoadWebFont(n,s,t).then(()=>this._AddLoadedSize(r)));await Promise.all(e),this._runtime.IsInWorker()&&t.length>0&&await this._runtime.PostComponentMessageToDOMAsync("runtime","load-webfonts",{webfonts:t})}async _LoadWebFont(e,t,n){try{let s=await this.GetProjectFileUrl(t);"Gecko"===lp.Platform.BrowserEngine&&(e=`'${e}'`),("Gecko"===lp.Platform.BrowserEngine&&"preview"===this._runtime.GetExportType()||"playable-ad-single-file"===this._runtime.GetExportType())&&(s=this._GetLocalBlobURLFromFileMap(s));const r=new FontFace(e,`url('${s}')`);this._runtime.IsInWorker()?self.fonts.add(r):document.fonts.add(r),await r.load(),this._runtime.IsInWorker()&&n.push({name:e,url:s})}catch(t){console.warn(`[C3 runtime] Failed to load web font '${e}': `,t)}}IsAudioFormatSupported(e){return!!this._supportedAudioFormats[e]}_SetAudioFiles(e,t){this._preloadSounds=!!t;for(const[t,n,s]of e)this._audioFiles.set(t,{fileName:t,formats:n.map(e=>({type:e[0],fileExtension:e[1],fullName:t+e[1],fileSize:e[2]})),isMusic:s})}GetPreferredAudioFile(e){"flat"===this._fileStructure&&(e=e.toLowerCase());const t=this._audioFiles.get(e);if(!t)return null;let n=null;for(const e of t.formats)if(n||"audio/webm; codecs=opus"!==e.type||(n=e),this.IsAudioFormatSupported(e.type))return e;return n}GetProjectAudioFileUrl(e){const t=this.GetPreferredAudioFile(e);return t?{url:this.GetMediaFileUrl(t.fullName),type:t.type}:null}GetAudioToPreload(){if(this._preloadSounds){const e=[];for(const t of this._audioFiles.values()){if(t.isMusic)continue;const n=this.GetPreferredAudioFile(t.fileName);n&&e.push({originalUrl:t.fileName,url:this.GetMediaFileUrl(n.fullName),type:n.type,fileSize:n.fileSize})}return e}return[]}_GetLocalBlobFromFileMap(e){return"preview"===this._runtime.GetExportType()&&(e=new URL(e,location.href).toString()),this._fileMap.get(e)||null}_GetLocalBlobURLFromFileMap(e){let t=this._fileMapBlobUrls.get(e);if(t)return t;const n=this._GetLocalBlobFromFileMap(e);return n?(t=URL.createObjectURL(n),this._fileMapBlobUrls.set(e,t),t):e}GetIAssetManager(){return this._iAssetManager}async LoadScripts(...e){const t=await Promise.all(e.map(e=>this.GetProjectFileUrl(e)));if(this._runtime.IsInWorker())if(1===e.length){const t=e[0];await import((lp.IsRelativeURL(t)?"./":"")+t)}else{const t=e.map(e=>`import "${lp.IsRelativeURL(e)?"./":""}${e}";`).join("\n"),n=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));await import(n)}else await Promise.all(t.map(e=>ip(e)))}async CompileWebAssembly(e){if(WebAssembly.compileStreaming){const t=await this.GetProjectFileUrl(e);return await WebAssembly.compileStreaming(fetch(t))}{const t=await lp.FetchArrayBuffer(e);return await WebAssembly.compile(t)}}async LoadStyleSheet(e){const t=await this.GetProjectFileUrl(e);return await this._runtime.PostComponentMessageToDOMAsync("runtime","add-stylesheet",{url:t})}}}{const up=self.C3;up.Asset=class extends up.DefendedBase{constructor(e,t){super(),this._assetManager=e,this._runtime=e.GetRuntime(),this._url=t.url||"",this._size=t.size,this._loadPolicy=t.loadPolicy,this._blob=t.blob||null,this._isLoaded=!!this._blob,this._loadPromise=null}Release(){this._loadPromise=null,this._assetManager=null,this._runtime=null,this._blob=null}GetURL(){return this._url}GetSize(){return this._size}Load(){return"local"===this._loadPolicy||this._blob?(this._isLoaded=!0,Promise.resolve()):(this._loadPromise||(this._loadPromise=this._assetManager.FetchBlob(this._url,this._loadPolicy).then(e=>(this._isLoaded=!0,this._loadPromise=null,this._blob=e,e)).catch(e=>{console.error("Error loading resource: ",e),this._loadPromise=null})),this._loadPromise)}IsLoaded(){return this._isLoaded}GetBlob(){return this._blob?Promise.resolve(this._blob):this._loadPromise?this._loadPromise:this._assetManager.FetchBlob(this._url,this._loadPolicy)}}}{const hp=self.C3,_p=new hp.PromiseThrottle,Gp=new Set;hp.ImageAsset=class extends hp.Asset{constructor(e,t){super(e,t),this._texturePromise=null,this._webglTexture=null,this._refCount=0,this._imageWidth=-1,this._imageHeight=-1,this._isTiled=!!t.isTiled,Gp.add(this)}Release(){if(0!==this._refCount)throw new Error("released image asset which still has texture references");this._assetManager._ReleaseImageAsset(this),this._texturePromise=null,Gp.delete(this),super.Release()}static OnRendererContextLost(){for(const e of Gp)e._texturePromise=null,e._webglTexture=null,e._refCount=0}LoadStaticTexture(e,t){return t=t||{},this._refCount++,this._webglTexture?Promise.resolve(this._webglTexture):(this._texturePromise||(t.anisotropy=this._runtime.GetCanvasManager().GetTextureAnisotropy(),this._texturePromise=this._DoLoadStaticTexture(e,t)),this._texturePromise)}async _DoLoadStaticTexture(e,t){try{const n=await this.GetBlob();return 0===this._refCount?(this._texturePromise=null,null):await _p.Add(async()=>{const s=await e.CreateStaticTextureAsync(n,t);return this._texturePromise=null,0===this._refCount?(e.DeleteTexture(s),null):(this._webglTexture=s,this._imageWidth=s.GetWidth(),this._imageHeight=s.GetHeight(),this._webglTexture)})}catch(e){throw console.error("Failed to load texture: ",e),e}}ReleaseTexture(){if(this._refCount<=0)throw new Error("texture released too many times");this._refCount--,0===this._refCount&&this._webglTexture&&(this._webglTexture.GetRenderer().DeleteTexture(this._webglTexture),this._webglTexture=null)}GetRefCount(){return this._refCount}GetTexture(){return this._webglTexture}GetWidth(){return this._imageWidth}GetHeight(){return this._imageHeight}IsTiled(){return this._isTiled}async LoadToDrawable(){const e=await this.GetBlob();return hp.Supports.ImageBitmap?await createImageBitmap(e):await hp.BlobToImage(e)}}}{let pp=function(e,t){return e.GetWorldInfo()._GetLastCachedZIndex()-t.GetWorldInfo()._GetLastCachedZIndex()};SortByInstLastCachedZIndex=pp;const mp=self.C3,gp=self.assert;mp.RenderCell=class extends mp.DefendedBase{constructor(e,t,n){super(),this._grid=e,this._x=t,this._y=n,this._instances=[],this._isSorted=!0,this._pendingRemoval=new Set,this._isAnyPendingRemoval=!1}Release(){mp.clearArray(this._instances),this._pendingRemoval.clear(),this._grid=null}Reset(){mp.clearArray(this._instances),this._isSorted=!0,this._pendingRemoval.clear(),this._isAnyPendingRemoval=!1}SetChanged(){this._isSorted=!1}IsEmpty(){return!this._instances.length||!(this._instances.length>this._pendingRemoval.size)&&(this._FlushPending(),!0)}Insert(e){if(this._pendingRemoval.has(e))return this._pendingRemoval.delete(e),void(0===this._pendingRemoval.size&&(this._isAnyPendingRemoval=!1));this._instances.push(e),this._isSorted=1===this._instances.length}Remove(e){this._pendingRemoval.add(e),this._isAnyPendingRemoval=!0,this._pendingRemoval.size>=50&&this._FlushPending()}_FlushPending(){this._isAnyPendingRemoval&&(this._instances.length!==this._pendingRemoval.size?(mp.arrayRemoveAllInSet(this._instances,this._pendingRemoval),this._pendingRemoval.clear(),this._isAnyPendingRemoval=!1):this.Reset())}_EnsureSorted(){this._isSorted||(this._instances.sort(pp),this._isSorted=!0)}Dump(e){this._FlushPending(),this._EnsureSorted(),this._instances.length&&e.push(this._instances)}}}{const fp=self.C3;fp.RenderGrid=class extends fp.DefendedBase{constructor(e,t){super(),this._cellWidth=e,this._cellHeight=t,this._cells=fp.New(fp.PairMap)}Release(){this._cells.Release(),this._cells=null}GetCell(e,t,n){let s=this._cells.Get(e,t);return s||(n?(s=fp.New(fp.RenderCell,this,e,t),this._cells.Set(e,t,s),s):null)}XToCell(e){return Math.floor(e/this._cellWidth)}YToCell(e){return Math.floor(e/this._cellHeight)}Update(e,t,n){if(t)for(let s=t.getLeft(),r=t.getRight();s<=r;++s)for(let r=t.getTop(),o=t.getBottom();r<=o;++r){if(n&&n.containsPoint(s,r))continue;const t=this.GetCell(s,r,!1);t&&(t.Remove(e),t.IsEmpty()&&this._cells.Delete(s,r))}if(n)for(let s=n.getLeft(),r=n.getRight();s<=r;++s)for(let r=n.getTop(),o=n.getBottom();r<=o;++r)t&&t.containsPoint(s,r)||this.GetCell(s,r,!0).Insert(e)}QueryRange(e,t){let n=this.XToCell(e.getLeft());const s=this.YToCell(e.getTop()),r=this.XToCell(e.getRight()),o=this.YToCell(e.getBottom());for(;n<=r;++n)for(let e=s;e<=o;++e){const s=this.GetCell(n,e,!1);s&&s.Dump(t)}}MarkRangeChanged(e){let t=e.getLeft();const n=e.getTop(),s=e.getRight(),r=e.getBottom();for(;t<=s;++t)for(let e=n;e<=r;++e){const n=this.GetCell(t,e,!1);n&&n.SetChanged()}}}}{let Np=function(e,t){return e.GetWorldInfo()._GetLastCachedZIndex()-t.GetWorldInfo()._GetLastCachedZIndex()},bp=function(e,t){return e.GetWorldInfo().GetZElevation()-t.GetWorldInfo().GetZElevation()};SortByInstLastCachedZIndex=Np,SortByInstZElevation=bp;const Sp=self.C3,xp=self.assert,Ip=new Sp.Rect,yp=new Sp.Quad,Ep=[],Tp=new Sp.Rect,Cp=new Sp.Rect,Mp=self.glMatrix,Vp=Mp.vec3,Bp=Mp.vec4,Op=Mp.mat4,vp=Op.create(),Pp=Vp.create(),wp=Bp.create(),Ap=Vp.create(),Dp=Vp.create(),Rp=Vp.create(),Fp=Sp.New(Sp.Vector2),jp=Sp.New(Sp.Rect),kp=[],Lp=[],Wp=[],Up={name:"",sid:-1,isDynamic:!1,isVisible:!0,isInteractive:!0,isHTMLElementsLayer:!1,backgroundColor:[1,1,1,1],isTransparent:!0,parallax:[1,1],opacity:1,isForceOwnTexture:!1,renderAs3d:!1,useCameraDistanceDrawOrder:!1,useRenderCells:!1,scaleRate:1,blendMode:0,zElevation:0,initialInstancesData:[],effectListData:[],subLayersData:[]},Hp=new Map,zp=e=>{if(!e.instance.GetObjectClass().IsGlobal())return;const t=e.instance.GetUID();Hp.has(t)&&(Hp.delete(t),Hp.size||e.instance.GetRuntime().Dispatcher().removeEventListener("instancedestroy",zp))};Sp.Layer=class extends Sp.DefendedBase{constructor(e,t,n){super(),n=Object.assign({},Up,n),this._layout=e,this._runtime=e.GetRuntime(),this._parentLayer=t,this._name=n.name,this._index=-1,this._isHTMLElementsLayer=!!n.isHTMLElementsLayer,this._htmlIndex=-1,this._sid=n.sid,this._isDynamic=!!n.isDynamic,this._isVisible=!!n.isVisible,this._isInteractive=!!n.isInteractive,this._backgroundColor=Sp.New(Sp.Color),this._backgroundColor.setFromJSON(n.backgroundColor),this._isTransparent=!!n.isTransparent,this._parallaxX=n.parallax[0],this._parallaxY=n.parallax[1],this._color=Sp.New(Sp.Color,1,1,1,n.opacity),this._premultipliedColor=Sp.New(Sp.Color),this._isForceOwnTexture=!!n.isForceOwnTexture,this._renderAs3d=!!n.renderAs3d,this._useCameraDistanceDrawOrder=!!n.useCameraDistanceDrawOrder,this._useRenderCells=!!n.useRenderCells,this._scaleRate=n.scaleRate,this._blendMode=n.blendMode,this._curRenderTarget=null,this._scale=1,this._zElevation=n.zElevation,this._angle=0,this._scrollX=0,this._scrollY=0,this._hasOwnScrollPosition=!1,this._viewport=Sp.New(Sp.Rect),this._viewportZ0=Sp.New(Sp.Rect),this._viewport3D=Sp.New(Sp.Rect),this._isViewportChanged=!0,this._projectionMatrix=Op.create(),this._isProjectionMatrixChanged=!0,this._modelViewMatrix=Op.create(),this._isMVMatrixChanged=!0,this._viewFrustum=Sp.New(Sp.Gfx.ViewFrustum),this._isViewFrustumChanged=!0,this._startupInitialInstances=[],this._initialInstancesData=n.initialInstancesData,this._initialInstances=[],this._createdGlobalUids=[],this._initialUIDsToInstanceData=new Map,this._instances=[],this._zIndicesUpToDate=!1,this._htmlZIndicesUpToDate=!1,this._anyInstanceZElevated=!1;const s=this._runtime.GetCanvasManager();this._effectList=Sp.New(Sp.EffectList,this,n.effectListData),this._effectChain=Sp.New(Sp.Gfx.EffectChain,s.GetEffectChainManager(),{drawContent:(e,t)=>{const n=t.GetContentObject(),r=n.GetRenderTarget();e.SetColor(n.GetPremultipliedColor()),e.DrawRenderTarget(r),e.InvalidateRenderTarget(r),s.ReleaseAdditionalRenderTarget(r)},getShaderParameters:e=>this.GetEffectList()._GetEffectChainShaderParametersForIndex(e)}),this._needsRebuildEffectChainSteps=!0,this._wasDefaultColor=!0,this._renderGrid=null,this._lastRenderList=[],this._isRenderListUpToDate=!1,this._lastRenderCells=Sp.New(Sp.Rect,0,0,-1,-1),this._curRenderCells=Sp.New(Sp.Rect,0,0,-1,-1),this._iLayer=new self.ILayer(this),this._userScriptDispatcher=Sp.New(Sp.Event.Dispatcher),this._UpdatePremultipliedColor(),this.UsesRenderCells()&&(this._renderGrid=Sp.New(Sp.RenderGrid,this._runtime.GetOriginalViewportWidth(),this._runtime.GetOriginalViewportHeight())),this._subLayers=n.subLayersData.map(e=>Sp.Layer.CreateFromExportData(this._layout,this,e))}_InitInitialInstances(){for(const e of this._initialInstancesData){const t=this._runtime.GetObjectClassByIndex(e[1]);this._layout._AddInitialObjectClass(t),t.GetDefaultInstanceData()||(t.SetDefaultInstanceData(e),t._SetDefaultLayerIndex(this._index)),this._initialInstances.push(e),this._initialUIDsToInstanceData.set(e[2],e)}Sp.shallowAssignArray(this._startupInitialInstances,this._initialInstances),this._initialInstancesData=null}static CreateFromExportData(e,t,n){return Sp.New(Sp.Layer,e,t,{name:n[0],sid:n[2],isVisible:n[3],isInteractive:n[13],isHTMLElementsLayer:n[19],backgroundColor:n[4].map(e=>e/255),isTransparent:n[5],parallax:[n[6],n[7]],opacity:n[8],isForceOwnTexture:n[9],renderAs3d:n[17],useCameraDistanceDrawOrder:n[18],useRenderCells:n[10],scaleRate:n[11],blendMode:n[12],zElevation:n[16],initialInstancesData:n[14],effectListData:n[15],subLayersData:n[20]})}Release(){for(const e of this._subLayers)e.Release();Sp.clearArray(this._subLayers);for(const e of this._instances)this._runtime.DestroyInstance(e);Sp.clearArray(this._instances),this._effectList.Release(),this._effectList=null,this._effectChain.Release(),this._effectChain=null,this._iLayer=null,this._parentLayer=null,this._layout=null,this._runtime=null}WasReleased(){return!this._layout}GetInitialInstanceData(e){return this._initialUIDsToInstanceData.get(e)}CreateInitialInstances(e){const t=this._layout.IsFirstVisit(),n=this._initialInstances;let s=0;for(let r=0,o=n.length;r<o;++r){const o=n[r],a=this._runtime.GetObjectClassByIndex(o[1]);let i=!0;if(!a.HasPersistBehavior()||t)if(a.IsGlobal()&&Hp.has(o[2]))i=!1;else{const t=this._runtime.CreateInstanceFromData(o,this,!0);e.push(t),a.IsGlobal()&&(Hp.size||this._runtime.Dispatcher().addEventListener("instancedestroy",zp),Hp.set(t.GetUID(),t),i=!1,this._createdGlobalUids.push(t.GetUID()))}i&&(n[s]=n[r],++s)}Sp.truncateArray(n,s),this._runtime.FlushPendingInstances(),this.SetZIndicesChanged()}_AddInstance(e,t){if(!e.GetPlugin().IsWorldType())throw new Error("instance is not of world type");const n=e.GetWorldInfo();if(n.GetLayer()!==this)throw new Error("instance added to wrong layer");this._instances.push(e),0!==n.GetZElevation()&&(this._anyInstanceZElevated=!0),t&&this.UsesRenderCells()&&e.GetWorldInfo().SetBboxChanged(),this.SetZIndicesChanged(e)}_MaybeAddInstance(e){this._instances.includes(e)||(this._instances.push(e),0!==e.GetWorldInfo().GetZElevation()&&(this._anyInstanceZElevated=!0),this.SetZIndicesChanged(e))}_PrependInstance(e,t){const n=e.GetWorldInfo();if(n.GetLayer()!==this)throw new Error("instance added to wrong layer");this._instances.unshift(e),0!==n.GetZElevation()&&(this._anyInstanceZElevated=!0),this.SetZIndicesChanged(e),t&&this.UsesRenderCells()&&e.GetWorldInfo().SetBboxChanged()}_RemoveInstance(e,t){const n=this._instances.indexOf(e);n<0||(t&&this.UsesRenderCells()&&e.GetWorldInfo()._RemoveFromRenderCells(),this._instances.splice(n,1),this.SetZIndicesChanged(e),this._MaybeResetAnyInstanceZElevatedFlag())}_SetAnyInstanceZElevated(){this._anyInstanceZElevated=!0}_MaybeResetAnyInstanceZElevatedFlag(){0===this._instances.length&&(this._anyInstanceZElevated=!1)}_SortInstancesByLastCachedZIndex(e){if(e){const e=new Set;for(const t of this._instances){const n=t.GetWorldInfo()._GetLastCachedZIndex();n>=0&&e.add(n)}let t=-1;for(const n of this._instances){const s=n.GetWorldInfo();if(!(s._GetLastCachedZIndex()>=0)){for(++t;e.has(t);)++t;s._SetZIndex(t)}}}this._instances.sort(Np)}_Start(){}_End(){for(const e of this._instances)e.GetObjectClass().IsGlobal()||this._runtime.DestroyInstance(e);this._runtime.FlushPendingInstances(),Sp.clearArray(this._instances),this._anyInstanceZElevated=!1,this.SetZIndicesChanged()}RecreateInitialObjects(e,t,n,s,r,o){const a=this._runtime.GetEventSheetManager(),i=this._runtime.GetAllObjectClasses(),l=e.IsFamily(),d=[];for(const c of this._initialInstances){const u=c[0],h=u[0],_=u[1];if(!t.containsPoint(h,_))continue;const G=i[c[1]];if(G!==e){if(!l)continue;if(!e.FamilyHasMember(G))continue}let p=r;if(!p){const e=this._runtime.GetCurrentLayout();this.GetLayout()===e?p=this:(p=e.GetLayerByName(this.GetName()),p||(p=e.GetLayerByIndex(this.GetIndex())))}const m=this._runtime.CreateInstanceFromData(c,p,!1,void 0,void 0,!1,o,void 0,o);o&&p.SortAndAddInstancesByZIndex(m);const g=m.GetWorldInfo();g.OffsetXY(n,s),g.SetBboxChanged(),a.BlockFlushingInstances(!0),m._TriggerOnCreatedOnSelfAndRelated(),a.BlockFlushingInstances(!1),d.push(m)}return d}GetInstanceCount(){return this._instances.length}GetLayout(){return this._layout}GetName(){return this._name}_SetIndex(e){this._index=e}GetIndex(){return this._index}_SetHTMLIndex(e){this._htmlIndex=e}GetHTMLIndex(){return this._htmlIndex}IsHTMLElementsLayer(){return this._isHTMLElementsLayer}SetIsHTMLElementsLayer(e){e=!!e,this._isHTMLElementsLayer!==e&&(this._isHTMLElementsLayer=e,this._layout._ReindexAndUpdateAllLayers(),this._runtime.UpdateRender())}_GetSiblingIndex(){let e=-1;const t=this.GetParentLayer();return e=t?t.GetSubLayers().indexOf(this):this.GetLayout()._GetRootLayers().indexOf(this),e}GetSID(){return this._sid}GetRuntime(){return this._runtime}IsDynamic(){return this._isDynamic}HasAnyDynamicParentLayer(){for(const e of this.parentLayers())if(e.IsDynamic())return!0;return!1}GetDevicePixelRatio(){return this._runtime.GetDevicePixelRatio()}GetEffectList(){return this._effectList}GetEffectChain(){return this._MaybeRebuildEffectChainSteps(),this._effectChain}_MaybeRebuildEffectChainSteps(){const e=this.HasDefaultColor();if(!this._needsRebuildEffectChainSteps&&e===this._wasDefaultColor&&!this._effectChain.NeedsRebuild())return;const t=this.GetEffectList().GetActiveEffectTypes();this._effectChain.BuildSteps(t.map(e=>e.GetShaderProgram()),{indexMap:t.map(e=>e.GetIndex()),forcePreDraw:!e,useFullSurface:!0}),this._needsRebuildEffectChainSteps=!1,this._wasDefaultColor=e}UpdateActiveEffects(){this.GetEffectList().UpdateActiveEffects(),this._needsRebuildEffectChainSteps=!0}UsesRenderCells(){return this._useRenderCells&&!this._useCameraDistanceDrawOrder}GetRenderGrid(){return this._renderGrid}SetRenderListStale(){this._isRenderListUpToDate=!1}IsVisible(){for(const e of this.selfAndParentLayers())if(!e._IsVisibleFlagSet())return!1;return!0}_IsVisibleFlagSet(){return this._isVisible}SetVisible(e){e=!!e,this._isVisible!==e&&(this._isVisible=e,this._runtime.UpdateRender())}SetInteractive(e){this._isInteractive=!!e}IsInteractive(){return this._isInteractive}IsSelfAndParentsInteractive(){for(const e of this.selfAndParentLayers())if(!e.IsInteractive())return!1;return!0}SetOwnScrollPositionEnabled(e){if(e=!!e,this._hasOwnScrollPosition!==e){if(this._hasOwnScrollPosition=e,e){const e=this.GetLayout();this._scrollX=e.GetScrollX(),this._scrollY=e.GetScrollY()}this._SetMVMatrixChanged(),this._runtime.UpdateRender()}}IsOwnScrollPositionEnabled(){return this._hasOwnScrollPosition}SetScrollX(e){const t=this.GetLayout(),n=t.GetScrollLeftBound(),s=t.GetScrollRightBound();e>s&&(e=s),e<n&&(e=n),this._scrollX!==e&&(this._scrollX=e,this.IsOwnScrollPositionEnabled()&&(this._SetMVMatrixChanged(),this._runtime.UpdateRender()))}SetScrollY(e){const t=this.GetLayout(),n=t.GetScrollTopBound(),s=t.GetScrollBottomBound();e>s&&(e=s),e<n&&(e=n),this._scrollY!==e&&(this._scrollY=e,this.IsOwnScrollPositionEnabled()&&(this._SetMVMatrixChanged(),this._runtime.UpdateRender()))}GetScrollX(){return this.IsOwnScrollPositionEnabled()?this._scrollX:this.GetLayout().GetScrollX()}GetScrollY(){return this.IsOwnScrollPositionEnabled()?this._scrollY:this.GetLayout().GetScrollY()}GetViewport(){return this._MaybeUpdateViewport(),this._viewport}_GetViewportZ0(){return this._MaybeUpdateViewport(),this._viewportZ0}GetViewport3D(){return this._MaybeUpdateViewport(),this._viewport3D}_GetVanishingPoint(){return this.GetLayout().GetVanishingPoint()}GetDefaultCameraZ(e){return this._runtime.GetDefaultCameraZ(e)}GetViewportForZ(e,t){const n=this._GetViewportZ0();if(0===e)t.copy(n);else{let s=n.midX(),r=n.midY();const o=this.Get2DScaleFactorToZ(e),a=n.width()/o,i=n.height()/o,[l,d]=this._GetVanishingPoint();if(.5!==l||.5!==d){const t=this.Get2DCameraZ(),n=this._runtime,o=this.GetDefaultCameraZ()/t;let a=(l-.5)*n.GetViewportWidth()/o,i=(d-.5)*n.GetViewportHeight()/o;const c=this.GetAngle();0!==c&&(Fp.set(a,i),Fp.rotate(c),a=Fp.getX(),i=Fp.getY());const u=Sp.unlerp(t,0,e);s+=Sp.lerp(a,0,u),r+=Sp.lerp(i,0,u)}t.set(s-a/2,r-i/2,s+a/2,r+i/2)}}GetOpacity(){return this._color.getA()}SetOpacity(e){e=Sp.clamp(e,0,1),this._color.getA()!==e&&(this._color.setA(e),this._UpdatePremultipliedColor(),this._runtime.UpdateRender())}_UpdatePremultipliedColor(){this._premultipliedColor.copy(this._color),this._premultipliedColor.premultiply()}GetPremultipliedColor(){return this._premultipliedColor}HasDefaultColor(){return this._color.equalsRgba(1,1,1,1)}GetScaleRate(){return this._scaleRate}SetScaleRate(e){this._scaleRate!==e&&(this._scaleRate=e,this._SetMVMatrixChanged(),this._runtime.UpdateRender())}GetParallaxX(){return this._parallaxX}GetParallaxY(){return this._parallaxY}SetParallax(e,t){this._parallaxX===e&&this._parallaxY===t||(this._parallaxX=e,this._parallaxY=t,this._SetMVMatrixChanged(),this._runtime.UpdateRender())}SetParallaxX(e){this.SetParallax(e,this.GetParallaxY())}SetParallaxY(e){this.SetParallax(this.GetParallaxX(),e)}SetZElevation(e){this._zElevation!==e&&(this._zElevation=e,this._runtime.UpdateRender())}GetZElevation(){return this._zElevation}SetAngle(e){e=Sp.clampAngle(e),this._angle!==e&&(this._angle=e,this._SetMVMatrixChanged(),this._runtime.UpdateRender())}GetAngle(){return Sp.clampAngle(this._layout.GetAngle()+this._angle)}GetOwnAngle(){return this._angle}HasInstances(){return this._instances.length>0}_GetInstances(){return this._instances}_GetInstancesInDrawOrder(){return this.RendersIn3DMode()&&this._useCameraDistanceDrawOrder?(Sp.shallowAssignArray(Wp,this._GetInstances()),Wp.sort((e,t)=>this._SortInstancesByCameraDistance(e,t)),Wp):this._GetInstances()}_AppendAllInstancesIncludingSubLayersInDrawOrder(e){Sp.appendArray(e,this._GetInstancesInDrawOrder());for(const t of this._subLayers)t.IsVisible()&&t.GetOpacity()>0&&t._AppendAllInstancesIncludingSubLayersInDrawOrder(e)}_SortInstancesByCameraDistance(e,t){const n=this.GetLayout().Get3DCameraPosition(),s=n[0],r=n[1],o=n[2],a=e.GetWorldInfo(),i=t.GetWorldInfo(),l=a.GetX()-s,d=a.GetY()-r,c=a.GetZElevation()-o,u=i.GetX()-s,h=i.GetY()-r,_=i.GetZElevation()-o;return u*u+h*h+_*_-(l*l+d*d+c*c)}GetBackgroundColor(){return this._backgroundColor}IsTransparent(){return this._isTransparent}SetTransparent(e){e=!!e,this._isTransparent!==e&&(this._isTransparent=e,this._runtime.UpdateRender())}IsForceOwnTexture(){return this._isForceOwnTexture}SetForceOwnTexture(e){e=!!e,this._isForceOwnTexture!==e&&(this._isForceOwnTexture=e,this._runtime.UpdateRender())}SetRenderAs3D(e){e=!!e,this._renderAs3d!==e&&(this._renderAs3d=e,this._SetMVMatrixChanged(),this._runtime.UpdateRender())}IsRenderAs3D(){return this._renderAs3d}RendersIn2DMode(){return!this.GetRuntime().Uses3DFeatures()||!this._renderAs3d}RendersIn3DMode(){return!this.RendersIn2DMode()}Has3DCamera(){return this.RendersIn3DMode()&&this.GetLayout().Is3DCameraEnabled()}SelfAndAllSubLayersHave3DCamera(){if(!this.Has3DCamera())return!1;for(const e of this._subLayers)if(!e.SelfAndAllSubLayersHave3DCamera())return!1;return!0}SetBlendMode(e){this._blendMode!==e&&(this._blendMode=e,this._runtime.UpdateRender())}GetBlendMode(){return this._blendMode}IsRootLayer(){return!this._parentLayer}GetParentLayer(){return this._parentLayer}_SetParentLayer(e){this._parentLayer=e}GetSubLayers(){return this._subLayers}HasAnySubLayers(){return this._subLayers.length>0}_AddSubLayer(e,t=!0){t?this._subLayers.push(e):this._subLayers.unshift(e)}_InsertSubLayer(e,t,n){let s=this._subLayers.indexOf(t);if(-1===s)throw new Error("cannot find layer to insert by");n&&++s,this._subLayers.splice(s,0,e)}_RemoveSubLayer(e){const t=this._subLayers.indexOf(e);if(-1===t)throw new Error("cannot find layer to remove");this._subLayers.splice(t,1)}HasAnyVisibleSubLayer(){for(const e of this._subLayers)if(e.ShouldDraw())return!0;return!1}*selfAndAllSubLayers(){for(const e of this._subLayers)yield*e.selfAndAllSubLayers();yield this}*parentLayers(){let e=this.GetParentLayer();for(;e;)yield e,e=e.GetParentLayer()}*selfAndParentLayers(){yield this,yield*this.parentLayers()}HasParentLayer(e){for(const t of this.parentLayers())if(t===e)return!0;return!1}IsTransformCompatibleWith(e){return this===e||this._parallaxX===e._parallaxX&&this._parallaxY===e._parallaxY&&this._scale===e._scale&&this._scaleRate===e._scaleRate&&this._angle===e._angle&&this.GetScrollX()===e.GetScrollX()&&this.GetScrollY()===e.GetScrollY()}SaveTransform(){return{parallaxX:this.GetParallaxX(),parallaxY:this.GetParallaxY(),scale:this.GetOwnScale(),scaleRate:this.GetScaleRate(),angle:this.GetOwnAngle(),hasOwnScroll:this.IsOwnScrollPositionEnabled(),scrollX:this.GetScrollX(),scrollY:this.GetScrollY()}}RestoreTransform(e){this.SetParallax(e.parallaxX,e.parallaxY),this.SetOwnScale(e.scale),this.SetScaleRate(e.scaleRate),this.SetAngle(e.angle),this.SetOwnScrollPositionEnabled(e.hasOwnScroll),this.SetScrollX(e.scrollX),this.SetScrollY(e.scrollY),this._MaybeUpdateViewport()}_RemoveAllInstancesInSet(e){0!==e.size&&Sp.arrayRemoveAllInSet(this._instances,e)>0&&(this._MaybeResetAnyInstanceZElevatedFlag(),this.SetZIndicesChanged())}SetZIndicesChanged(e){this._zIndicesUpToDate=!1,this._isRenderListUpToDate=!1,e&&!e.GetObjectClass().GetPlugin().IsHTMLElementType()||(this._htmlZIndicesUpToDate=!1)}_UpdateZIndices(){if(!this._zIndicesUpToDate){if(this._instances.sort(bp),this.UsesRenderCells())for(let e=0,t=this._instances.length;e<t;++e){const t=this._instances[e].GetWorldInfo();t._SetZIndex(e),this._renderGrid.MarkRangeChanged(t.GetRenderCellRange())}else for(let e=0,t=this._instances.length;e<t;++e)this._instances[e].GetWorldInfo()._SetZIndex(e);this._zIndicesUpToDate=!0}}_UpdateHTMLZIndices(){if(this._htmlZIndicesUpToDate)return;const e=this._layout.GetRootLayersForHTMLLayer(this.GetHTMLIndex()).map(e=>[...e.selfAndAllSubLayers()]).flat();let t=0;for(const n of e){for(const e of n._GetInstances())e.GetObjectClass().GetPlugin().IsHTMLElementType()&&e.GetWorldInfo()._SetHTMLZIndex(t++);n._SetHTMLZIndicesUpToDate()}}_SetHTMLZIndicesUpToDate(){this._htmlZIndicesUpToDate=!0}_GetHTMLLayerDOMState(){return{isVisible:this.IsVisible(),opacity:this.GetOpacity(),isInteractive:this.IsInteractive()}}MoveInstanceAdjacent(e,t,n){const s=e.GetWorldInfo(),r=t.GetWorldInfo();if(s.GetLayer()!==this||r.GetLayer()!==this)throw new Error("can't arrange Z order unless both objects on this layer");const o=s.GetZIndex();let a=r.GetZIndex();return o!==a+(n?1:-1)&&(Sp.arrayRemove(this._instances,o),o<a&&a--,n&&a++,a===this._instances.length?this._instances.push(e):this._instances.splice(a,0,e),this.SetZIndicesChanged(e),!0)}_MergeSortedZArrays(e,t){const n=[];let s=0,r=0,o=e.length,a=t.length;for(;s<o&&r<a;){const o=e[s],a=t[r];o.GetWorldInfo()._GetLastCachedZIndex()<a.GetWorldInfo()._GetLastCachedZIndex()?(n.push(o),++s):(n.push(a),++r)}for(;s<o;++s)n.push(e[s]);for(;r<a;++r)n.push(t[r]);return n}_MergeAllSortedZArrays_pass(e){const t=[],n=e.length;for(let s=0;s<n-1;s+=2){const n=e[s],r=e[s+1];t.push(this._MergeSortedZArrays(n,r))}return n%2==1&&t.push(e[n-1]),t}_MergeAllSortedZArrays(e){for(;e.length>1;)e=this._MergeAllSortedZArrays_pass(e);return e[0]}_GetRenderCellInstancesToDraw(){return this._UpdateZIndices(),Sp.clearArray(Ep),this._renderGrid.QueryRange(this.GetViewport(),Ep),Ep.length?1===Ep.length?Ep[0]:this._MergeAllSortedZArrays(Ep):[]}ShouldDraw(){return this.IsVisible()&&this.GetOpacity()>0&&this._DrawsAnyContentInSelfOrSubLayers()}_DrawsAnyContentInSelfOrSubLayers(){if(this.HasInstances()||!this.IsTransparent()||this._userScriptDispatcher.HasAnyHandlerFor("beforedraw")||this._userScriptDispatcher.HasAnyHandlerFor("afterdraw"))return!0;for(const e of this._subLayers)if(e._DrawsAnyContentInSelfOrSubLayers())return!0;return!1}UsesOwnTexture(){return this.IsForceOwnTexture()||!this.HasDefaultColor()||0!==this.GetBlendMode()||this._effectList.HasAnyActiveEffect()}SelfOrAnySubLayerUsesOwnTexture(){if(this.UsesOwnTexture())return!0;for(const e of this._subLayers)if(e.SelfOrAnySubLayerUsesOwnTexture())return!0;return!1}GetRenderTarget(){return this._curRenderTarget}Get2DScaleFactorToZ(e){if(this._layout.IsOrthographicProjection())return 1;{const t=this.Get3DCameraZ();return t/(t-e)}}GetResolutionScaleFactorToZ(e){const t=this._runtime.GetRenderScale();if(this._layout.IsOrthographicProjection())return t;{const n=this.Get3DCameraZ();return this.GetDefaultCameraZ()/Math.abs(n-e)*t}}_SetMVMatrixChanged(){this._isMVMatrixChanged=!0,this._isViewFrustumChanged=!0,this._isViewportChanged=!0}_GetModelViewMatrix(e){return this._isMVMatrixChanged&&(this._CalculateModelViewMatrix(e,this._modelViewMatrix,0,0,null),this._isMVMatrixChanged=!1),this._modelViewMatrix}Get2DCameraZ(e){return this.GetDefaultCameraZ(e)/this.GetNormalScale()}Get3DCameraZ(){return this.Has3DCamera()?this.GetLayout().Get3DCameraPosition()[2]:this.Get2DCameraZ()}GetCameraPosition(){if(this.Has3DCamera()){const e=this.GetLayout().Get3DCameraPosition();return[e[0],e[1],e[2]]}return this._Get2DCameraPosition()}_Get2DCameraPosition(e=0,t=0,n=0){const s=this._runtime,r=this.GetLayout(),o=s.GetParallaxXOrigin(),a=s.GetParallaxYOrigin();let i=(this.GetScrollX()-o)*this._parallaxX+o,l=(this.GetScrollY()-a)*this._parallaxY+a;s.IsPixelRoundingEnabled()&&(i=Math.round(i),l=Math.round(l));let d=i+e,c=l+t;const u=r.IsOrthographicProjection()?this.GetDefaultCameraZ(n):this.Get2DCameraZ(n),[h,_]=this._GetVanishingPoint();if(.5!==h||.5!==_){const e=this.GetDefaultCameraZ(n)/u;let t=(h-.5)*s.GetViewportWidth()/e,r=(_-.5)*s.GetViewportHeight()/e;const o=this.GetAngle();0!==o&&(Fp.set(t,r),Fp.rotate(o),t=Fp.getX(),r=Fp.getY()),d+=t,c+=r}return[d,c,u]}_CalculateModelViewMatrix(e,t,n,s,r){const o=this._runtime,a=this.GetLayout();if(this.Has3DCamera()){Vp.copy(Ap,a.Get3DCameraPosition()),Vp.copy(Dp,a.Get3DCameraLookAt()),Vp.copy(Rp,a.Get3DCameraUpVector());const e=o.GetParallaxXOrigin(),t=o.GetParallaxYOrigin(),n=Dp[0]-Ap[0],s=Dp[1]-Ap[1],r=Dp[2]-Ap[2];Ap[0]=(Ap[0]-e)*this._parallaxX+e,Ap[1]=(Ap[1]-t)*this._parallaxY+t,Ap[2]*=Math.max(this._parallaxX,this._parallaxY),Dp[0]=Ap[0]+n,Dp[1]=Ap[1]+s,Dp[2]=Ap[2]+r}else{const[e,t,o]=this._Get2DCameraPosition(n,s,r);Vp.set(Ap,e,t,o),Vp.set(Dp,e,t,o-100);const a=this.GetAngle();0===a?Vp.set(Rp,0,1,0):Vp.set(Rp,Math.sin(a),Math.cos(a),0)}e.CalculateLookAtModelView(t,Ap,Dp,Rp,r||o.GetViewportHeight())}_SetProjectionMatrixChanged(){this._isProjectionMatrixChanged=!0,this._isViewFrustumChanged=!0,this._isViewportChanged=!0}_GetProjectionMatrix(e){return this._isProjectionMatrixChanged&&(this._CalculateProjectionMatrix(e),this._isProjectionMatrixChanged=!1),this._projectionMatrix}_CalculateProjectionMatrix(e){const t=this._runtime.GetCanvasManager(),[n,s]=this._GetVanishingPoint();if(this._layout.IsOrthographicProjection())e.CalculateOrthographicMatrix(this._projectionMatrix,t.GetDrawWidth(),t.GetDrawHeight());else if(.5===n&&.5===s)Op.copy(this._projectionMatrix,t.GetDefaultProjectionMatrix());else{const r=t.GetDrawWidth(),o=t.GetDrawHeight();e.CalculatePerspectiveMatrix(this._projectionMatrix,r/o,n,s)}}_SetTransform(e,t=!0,n=0,s=0,r=0){t&&e.SetProjectionMatrix(this._GetProjectionMatrix(e));let o=null;0===n&&0===s&&0===r?o=this._GetModelViewMatrix(e):(this._CalculateModelViewMatrix(e,vp,n,s,r),o=vp),e.SetModelViewMatrix(o)}PrepareForDraw(e){this._SetTransform(e),e.SetBaseZ(this.GetZElevation())}_MaybeStartWebGLProfiling(e){let t=null;if(e.IsWebGL()&&this._runtime.IsGPUProfiling()){const n=this._runtime.GetCanvasManager().GetLayerTimingsBuffer(this);n&&(t=n.AddTimeElapsedQuery(),e.StartQuery(t))}return t}_MaybeStartWebGPUProfiling(e){if(e.IsWebGPU()&&this._runtime.IsGPUProfiling()){const t=2*(this.GetIndex()+1);e.StartMeasuringRenderPassTime(t,t+1)}}_FireDrawEvent(e,t){if(this._userScriptDispatcher.HasAnyHandlerFor(t)){e.SetTextureFillMode(),e.SetTexture(null),e.SetAlphaBlend(),e.ResetCullState(),e.SetColorRgba(1,1,1,1),e.SetBaseZ(this.GetZElevation()),e.SetCurrentZ(0);const n=new Sp.Event(t);n.renderer=this._runtime.GetCanvasManager().GetIRenderer(),this.DispatchUserScriptEvent(n)}}Draw(e,t,n){const s=this._runtime.GetCanvasManager(),r=this.UsesOwnTexture();let o=null;const a=this._MaybeStartWebGLProfiling(e);if(this._MaybeStartWebGPUProfiling(e),r){const t={sampling:this._runtime.GetSampling(),isSampled:!0,canReadPixels:!!e.IsWebGPU()&&this._runtime.UsesAnyBackgroundBlending()};"low"===s.GetCurrentFullscreenScalingQuality()&&(t.width=s.GetDrawWidth(),t.height=s.GetDrawHeight()),o=this._runtime.GetAdditionalRenderTarget(t),this._curRenderTarget=o,e.SetRenderTarget(o),this.IsTransparent()&&e.ClearRgba(0,0,0,0)}else this._curRenderTarget=t,e.SetRenderTarget(t);if(this.IsTransparent()||e.Clear(this._backgroundColor),this._layout._DrawLayerList(e,this._curRenderTarget,this._subLayers,r&&this.IsTransparent()),this._MaybeStartWebGPUProfiling(e),this._SetTransform(e),e.SetBaseZ(this.GetZElevation()),e.SetDepthEnabled(this.RendersIn3DMode()),this._FireDrawEvent(e,"beforedraw"),this.GetNormalScale()>Number.EPSILON){this._UpdateZIndices();const t=this.UsesRenderCells()&&0===this.GetZElevation()&&!this._anyInstanceZElevated;this.Has3DCamera()?this._DrawInstances_3DCamera(e):t?this._DrawInstances_RenderCells(e):this._DrawInstances(e,this._GetInstancesInDrawOrder())}this._FireDrawEvent(e,"afterdraw"),e.SetBaseZ(0),e.SetCurrentZ(0),r&&(e.SetDepthEnabled(!1),this._DrawLayerOwnTextureToRenderTarget(e,o,t,n)),a&&e.EndQuery(a),this._curRenderTarget=null}_DrawInstances(e,t){const n=this.GetViewport(),s=this._curRenderTarget,r=this.GetLayout().IsOrthographicProjection(),o=this.GetLayout().HasVanishingPointOutsideViewport();let a=null;for(let i=0,l=t.length;i<l;++i){const l=t[i];if(l===a)continue;a=l;const d=l.GetWorldInfo();d.IsVisible()&&d.IsInViewport(n,o,r)&&this._DrawInstanceMaybeWithEffects(l,d,e,s)}}_DrawInstances_3DCamera(e){const t=this._curRenderTarget,n=this._GetViewFrustum(),s=kp,r=Lp,o=this._GetInstancesInDrawOrder();for(let a=0,i=o.length;a<i;){const l=o[a],d=l.GetWorldInfo();if(!d.IsVisible()||!d.IsInViewport3D(n)){++a;continue}(!l.RendersToOwnZPlane()||d.GetDepth()>0)&&r.push(l);const c=l.GetWorldInfo().GetTotalZElevation();s.push(l);let u=a+1;for(;u<i;++u){const e=o[u],t=e.GetWorldInfo();if(t.IsVisible()&&t.IsInViewport3D(n)){if(t.GetTotalZElevation()!==c)break;e.RendersToOwnZPlane()?(t.GetDepth()>0&&r.push(e),s.push(e)):r.push(e)}}if(1!==s.length||s[0].MustMitigateZFighting()){this._DrawCoplanarInstances_3DCamera(e,s);for(let n=0,s=r.length;n<s;++n){const s=r[n],o=s.GetWorldInfo();o._SetDrawNonBackFacesOnly(!0),this._DrawInstanceMaybeWithEffects(s,o,e,t),o._SetDrawNonBackFacesOnly(!1)}}else{this._DrawInstanceMaybeWithEffects(l,d,e,t);for(let n=0,s=r.length;n<s;++n){const s=r[n];if(s===l)continue;const o=s.GetWorldInfo();o.GetLayer()._DrawInstanceMaybeWithEffects(s,o,e,t)}}a=u,Sp.clearArray(s),Sp.clearArray(r)}}_DrawCoplanarInstances_3DCamera(e,t){const n=this._curRenderTarget;e.CoplanarStartStencilPass();for(let n=0,s=t.length;n<s;++n){const s=t[n],r=s.GetWorldInfo();r._SetDrawBackFaceOnly(!0),this._DrawInstance(s,r,e)}e.CoplanarStartColorPass();for(let s=0,r=t.length;s<r;++s){const r=t[s],o=r.GetWorldInfo();this._DrawInstanceMaybeWithEffects(r,o,e,n),o._SetDrawBackFaceOnly(!1)}e.CoplanarRestoreStandardRendering()}_DrawInstances_RenderCells(e){const t=this._renderGrid,n=this._curRenderCells,s=this._lastRenderCells,r=this.GetViewport();let o;n.set(t.XToCell(r.getLeft()),t.YToCell(r.getTop()),t.XToCell(r.getRight()),t.YToCell(r.getBottom())),this._isRenderListUpToDate&&n.equals(s)?o=this._lastRenderList:(o=this._GetRenderCellInstancesToDraw(),this._isRenderListUpToDate=!0,s.copy(n)),this._DrawInstances(e,o),o!==this._lastRenderList&&Sp.shallowAssignArray(this._lastRenderList,o)}_DrawInstanceMaybeWithEffects(e,t,n,s){t.HasAnyActiveEffect()?this._DrawInstanceWithEffectsAndRestore(e,t,n,s):this._DrawInstance(e,t,n)}_DrawInstance(e,t,n){const s=t.GetRendererStateGroup();n.GetCurrentStateGroup()!==s&&s.Apply(),e.Draw(n)}_DrawInstanceWithEffectsAndRestore(e,t,n,s){this._DrawInstanceWithEffects(e,t,n,s,null)&&this._SetTransform(n)}_DrawInstanceWithEffects(e,t,n,s,r){const o=t.GetInstanceEffectList().GetEffectChain();return o.Render(n,s,{contentObject:e,blendMode:t.GetBlendMode(),devicePixelRatio:this._runtime.GetEffectDevicePixelRatioParam(),time:e.GetInstanceGameTime(),layerScale:this._runtime.GetEffectLayerScaleParam()*this.GetNormalScale(),layerAngle:this.GetAngle(),layoutRect:t.GetBoundingBox(),drawSurfaceRect:o.CanSkipCalculatingDrawSurfaceRect()?null:this._InstanceBoxToDrawSurface(t),drawContentHook:r&&r.drawContentHook,compositOffX:r&&r.compositOffX,compositOffY:r&&r.compositOffY,compositRtWidth:r&&r.compositRtWidth,compositRtHeight:r&&r.compositRtHeight,updateOwnProjection:r&&r.updateOwnProjection}),n.SetBaseZ(this.GetZElevation()),o.DidChangeTransform()}_DrawLayerOwnTextureToRenderTarget(e,t,n,s){const r=this._effectList.GetActiveEffectTypes(),o=this._runtime;0===r.length?(e.SetRenderTarget(n),e.SetTextureFillMode(),s&&0===this._blendMode&&this.HasDefaultColor()?e.CopyRenderTarget(t):(e.SetBlendMode(this._blendMode),e.SetColor(this._premultipliedColor),e.DrawRenderTarget(t)),e.InvalidateRenderTarget(t),o.ReleaseAdditionalRenderTarget(t)):this.GetEffectChain().Render(e,n,{contentObject:this,blendMode:this.GetBlendMode(),devicePixelRatio:o.GetEffectDevicePixelRatioParam(),layerScale:o.GetEffectLayerScaleParam()*this.GetNormalScale(),layerAngle:this.GetAngle(),layoutRect:this.GetViewport(),drawSurfaceRect:null,invalidateRenderTargets:!0})}GetOwnScale(){return this._scale}SetOwnScale(e){this._scale!==e&&(this._scale=e,this._layout.BoundScrolling(),this._SetMVMatrixChanged(),this._runtime.UpdateRender())}GetRenderScale(){return this.GetNormalScale()*this._runtime.GetRenderScale()}GetDisplayScale(){return this.GetNormalScale()*this._runtime.GetDisplayScale()}GetNormalScale(){return(this._scale*this._layout.GetScale()-1)*this._scaleRate+1}_MaybeUpdateViewport(){if(!this._isViewportChanged)return;this._isViewportChanged=!1;const e=this._runtime.GetParallaxXOrigin(),t=this._runtime.GetParallaxYOrigin(),n=(this.GetScrollX()-e)*this._parallaxX+e,s=(this.GetScrollY()-t)*this._parallaxY+t,r=this.GetNormalScale(),o=this._runtime.GetViewportWidth()/r,a=this._runtime.GetViewportHeight()/r;let i=n-o/2,l=s-a/2;this._runtime.IsPixelRoundingEnabled()&&(i=Math.round(i),l=Math.round(l));const d=this._viewportZ0;d.set(i,l,i+o,l+a);const c=this.GetAngle();0!==c&&(Ip.copy(d),Ip.offset(-d.midX(),-d.midY()),yp.setFromRotatedRect(Ip,c),yp.getBoundingBox(Ip),Ip.offset(d.midX(),d.midY()),d.copy(Ip));const u=this._zElevation;this.GetViewportForZ(u,this._viewport),this.Has3DCamera()?this.CalculateViewport3D(u,this._viewport3D):this._viewport3D.copy(this._viewport)}CalculateViewport3D(e,t){const n=this._runtime.GetCanvasManager(),s=n.GetCssWidth(),r=n.GetCssHeight(),[o,a]=this.CanvasCssToLayer(0,0,e),[i,l]=this.CanvasCssToLayer(s,0,e),[d,c]=this.CanvasCssToLayer(s,r,e),[u,h]=this.CanvasCssToLayer(0,r,e);let _=Math.min(o,i,d,u),G=Math.min(a,l,c,h),p=Math.max(o,i,d,u),m=Math.max(a,l,c,h);isFinite(_)||(_=-1/0),isFinite(G)||(G=-1/0),isFinite(p)||(p=1/0),isFinite(m)||(m=1/0),t.set(_,G,p,m)}CanvasCssToLayer(e,t,n=0){return this._CanvasToLayer(e,t,n,this.GetDisplayScale())}DrawSurfaceToLayer(e,t,n=0){return this._CanvasToLayer(e,t,n,this.GetRenderScale()*this.GetDevicePixelRatio())}_CanvasToLayer(e,t,n,s){const r=this._runtime,o=r.GetRenderer(),a=this.GetNormalScale(),i=r.GetViewportWidth()/a,l=r.GetViewportHeight()/a,d=wp;Bp.set(d,0,0,i,l),e/=s,t=d[3]-t/s;const c=this._GetProjectionMatrix(o),u=this._GetModelViewMatrix(o),h=Pp;return Sp.Gfx.UnprojectScreenToWorldZ(e,t,n,u,c,d,h)?[h[0],h[1]]:[NaN,NaN]}CanvasCssToLayer_DefaultTransform(e,t){const n=this._scale,s=this._scaleRate,r=this._parallaxX,o=this._parallaxY,a=this._angle,i=this.Has3DCamera();i&&this.GetLayout().Set3DCameraEnabled(!1),this._scale=1,this._scaleRate=1,this._parallaxX=1,this._parallaxY=1,this._angle=0,this._SetMVMatrixChanged();const l=this.CanvasCssToLayer(e,t);return this._scale=n,this._scaleRate=s,this._parallaxX=r,this._parallaxY=o,this._angle=a,this._SetMVMatrixChanged(),i&&this.GetLayout().Set3DCameraEnabled(!0),l}LayerToCanvasCss(e,t,n=0){return this._LayerToCanvas(e,t,n,this.GetDisplayScale())}LayerToDrawSurface(e,t,n=0){return this._LayerToCanvas(e,t,n,this.GetRenderScale()*this.GetDevicePixelRatio())}_LayerToCanvas(e,t,n,s){const r=this._runtime,o=r.GetRenderer(),a=this.GetNormalScale(),i=r.GetViewportWidth()/a,l=r.GetViewportHeight()/a,d=wp;Bp.set(d,0,0,i,l);const c=this._GetProjectionMatrix(o),u=this._GetModelViewMatrix(o),h=Pp;return Sp.Gfx.Project(e,t,n,u,c,d,h)?[h[0]*s,(d[3]-h[1])*s]:[NaN,NaN]}_GetLayerToDrawSurfaceScale(e,t){return e*=this.GetRenderScale()*this.GetDevicePixelRatio(),0!==t&&(e*=this.Get2DScaleFactorToZ(t)),e}_InstanceBoxToDrawSurface(e){const t=e.GetBoundingBox(),n=e.GetTotalZElevation(),s=e.GetDepth(),r=n+s,o=t.getLeft(),a=t.getTop(),i=t.getRight(),l=t.getBottom();if(this.Has3DCamera()){if(this._IsPointBehindNearPlane(o,a,n)||this._IsPointBehindNearPlane(i,a,n)||this._IsPointBehindNearPlane(i,l,n)||this._IsPointBehindNearPlane(o,l,n))return null;if(s>0&&(this._IsPointBehindNearPlane(o,a,r)||this._IsPointBehindNearPlane(i,a,r)||this._IsPointBehindNearPlane(i,l,r)||this._IsPointBehindNearPlane(o,l,r)))return null}else if(r>=this.Get2DCameraZ())return null;let[d,c]=this.LayerToDrawSurface(o,a,n),[u,h]=this.LayerToDrawSurface(i,l,n);if(0!==this.GetAngle()||s>0||this.Has3DCamera()){const[e,t]=this.LayerToDrawSurface(i,a,n),[_,G]=this.LayerToDrawSurface(o,l,n);if(s>0){const[n,s]=this.LayerToDrawSurface(o,a,r),[p,m]=this.LayerToDrawSurface(i,a,r),[g,f]=this.LayerToDrawSurface(i,l,r),[N,b]=this.LayerToDrawSurface(o,l,r);let S=Math.min(d,u,e,_,n,p,g,N);u=Math.max(d,u,e,_,n,p,g,N),d=S,S=Math.min(c,h,t,G,s,m,f,b),h=Math.max(c,h,t,G,s,m,f,b),c=S}else{let n=Math.min(d,u,e,_);u=Math.max(d,u,e,_),d=n,n=Math.min(c,h,t,G),h=Math.max(c,h,t,G),c=n}}return Ip.set(d,c,u,h),Ip}_GetViewFrustum(){return this._isViewFrustumChanged&&(this._UpdateViewFrustum(),this._isViewFrustumChanged=!1),this._viewFrustum}_UpdateViewFrustum(){const e=this._runtime.GetRenderer(),t=this._GetProjectionMatrix(e),n=this._GetModelViewMatrix(e);this._viewFrustum.CalculatePlanes(n,t)}_IsPointBehindNearPlane(e,t,n){return this._GetViewFrustum().IsBehindNearPlane(e,t,n)}_SaveToJson(){return{d:this.IsDynamic(),s:this.GetOwnScale(),a:this.GetOwnAngle(),v:this._IsVisibleFlagSet(),i:this.IsInteractive(),html:this.IsHTMLElementsLayer(),bc:this._backgroundColor.toJSON(),t:this.IsTransparent(),sx:this._scrollX,sy:this._scrollY,hosp:this._hasOwnScrollPosition,px:this.GetParallaxX(),py:this.GetParallaxY(),c:this._color.toJSON(),sr:this.GetScaleRate(),fx:this._effectList.SaveToJson(),cg:this._createdGlobalUids}}_LoadFromJson(e){this._isDynamic=!!e.d,this._scale=e.s,this._angle=e.a,this._isVisible=!!e.v,this._isInteractive=!e.hasOwnProperty("i")||e.i,this._isHTMLElementsLayer=!!e.html,this._backgroundColor.setFromJSON(e.bc),this._isTransparent=!!e.t,e.hasOwnProperty("sx")&&(this._scrollX=e.sx),e.hasOwnProperty("sy")&&(this._scrollY=e.sy),e.hasOwnProperty("hosp")&&(this._hasOwnScrollPosition=!!e.hosp),this._parallaxX=e.px,this._parallaxY=e.py,this._color.setFromJSON(e.c),this._UpdatePremultipliedColor(),this._scaleRate=e.sr,Sp.shallowAssignArray(this._createdGlobalUids,e.cg),Sp.shallowAssignArray(this._initialInstances,this._startupInitialInstances);const t=new Set(this._createdGlobalUids);let n=0;for(let e=0,s=this._initialInstances.length;e<s;++e)t.has(this._initialInstances[e][2])||(this._initialInstances[n]=this._initialInstances[e],++n);Sp.truncateArray(this._initialInstances,n),this._effectList.LoadFromJson(e.fx),this._needsRebuildEffectChainSteps=!0}_LoadFromJsonAfterInstances(){this._SortInstancesByLastCachedZIndex(!1),this.SetZIndicesChanged(),this._SetMVMatrixChanged(),this._SetProjectionMatrixChanged()}GetILayer(){return this._iLayer}UserScriptDispatcher(){return this._userScriptDispatcher}DispatchUserScriptEvent(e){e.layer=this.GetILayer(),this._userScriptDispatcher.dispatchEvent(e)}SortAndAddInstancesByZIndex(e,t=!1,n=!1){if(this._instances.includes(e))return t&&this._instances.sort((e,t)=>(e.GetWorldInfo().GetSceneGraphZIndex()??0)-(t.GetWorldInfo().GetSceneGraphZIndex()??0)),void(n&&this._instances.forEach((e,t)=>e.GetWorldInfo()._SetZIndex(t)));if(e.HasChildren()){const t=[...e.allChildren()];t.push(e),t.sort((e,t)=>(e.GetWorldInfo().GetSceneGraphZIndex()??0)-(t.GetWorldInfo().GetSceneGraphZIndex()??0));for(const e of t)if(e.IsInContainer())for(const n of e.siblings()){if(t.includes(n))continue;const e=[...n.allChildren()];e.push(n),e.sort((e,t)=>(e.GetWorldInfo().GetSceneGraphZIndex()??0)-(t.GetWorldInfo().GetSceneGraphZIndex()??0)),e&&e.length&&t.splice(t.length,0,...e)}for(const e of t)e.GetPlugin().IsWorldType()&&this._AddInstance(e,!0);n&&this._instances.forEach((e,t)=>e.GetWorldInfo()._SetZIndex(t))}else{if(e.GetPlugin().IsWorldType()&&this._AddInstance(e,!0),!e.IsInContainer())return void(n&&this._instances.forEach((e,t)=>e.GetWorldInfo()._SetZIndex(t)));for(const t of e.siblings()){const e=[...t.allChildren()];if(e.push(t),e.sort((e,t)=>(e.GetWorldInfo().GetSceneGraphZIndex()??0)-(t.GetWorldInfo().GetSceneGraphZIndex()??0)),e&&e.length)for(const t of e)t.GetPlugin().IsWorldType()&&this._AddInstance(t,!0)}n&&this._instances.forEach((e,t)=>e.GetWorldInfo()._SetZIndex(t))}}}}{let Yp=function(e,t,n,s){return e[0]===Math.fround(t)&&e[1]===Math.fround(n)&&e[2]===Math.fround(s)},Xp=function(e,t){im!==e&&(e.PrepareForDraw(t),im=e)};vec3EqualsXYZ=Yp,MaybePrepareLayerDraw=Xp;const qp=self.C3,Kp=self.C3Debugger,Jp=self.assert,$p=qp.New(qp.Rect),Zp=qp.New(qp.Rect),Qp=qp.New(qp.Rect),em=qp.New(qp.Color),tm=self.glMatrix,nm=tm.vec3,sm=[],rm=[],om=[],am=[];let im=null;qp.Layout=class extends qp.DefendedBase{constructor(e,t,n){super(),this._layoutManager=e,this._runtime=e.GetRuntime(),this._name=n[0],this._originalWidth=n[1],this._originalHeight=n[2],this._width=n[1],this._height=n[2],this._isUnboundedScrolling=!!n[3],this._isOrthographicProjection=!!n[4],this._vanishingPointX=n[5],this._vanishingPointY=n[6],this._eventSheetName=n[7],this._eventSheet=null,this._sid=n[8],this._index=t,this._scrollX=0,this._scrollY=0,this._scale=1,this._angle=0,this._initialObjectClasses=new Set,this._textureLoadedTypes=new Set,this._textureLoadPendingPromises=new Set,this._createdInstances=[],this._createdPersistedInstances=[],this._createdPersistedInstancesToDataMap=new Map,this._createdPersistedIndexToInstanceMap=new Map,this._initialNonWorld=[],this._is3dCameraEnabled=!1,this._cam3dposition=nm.create(),this._cam3dlook=nm.create(),this._cam3dup=nm.create(),this._rootLayers=[],this._allLayersFlat=[],this._layersByName=new Map,this._layersBySid=new Map,this._pendingSetHTMLLayerCount=-1;const s=this._runtime.GetCanvasManager();this._effectList=qp.New(qp.EffectList,this,n[11]),this._effectChain=qp.New(qp.Gfx.EffectChain,s.GetEffectChainManager(),{drawContent:(e,t)=>{const n=t.GetContentObject().GetRenderTarget();e.ResetColor(),e.DrawRenderTarget(n),e.InvalidateRenderTarget(n),s.ReleaseAdditionalRenderTarget(n)},getShaderParameters:e=>this.GetEffectList()._GetEffectChainShaderParametersForIndex(e)}),this._needsRebuildEffectChainSteps=!0,this._wasFullScreenQualityLow=!1,this._curRenderTarget=null,this._persistData={},this._persistedIntances=new Map,this._isFirstVisit=!0,this._iLayout=new self.ILayout(this),this._userScriptDispatcher=qp.New(qp.Event.Dispatcher);for(const e of n[9])this._rootLayers.push(qp.Layer.CreateFromExportData(this,null,e));this._ReindexLayers();for(const e of this.allLayers())e._InitInitialInstances();for(const e of n[10]){const t=this._runtime.GetObjectClassByIndex(e[1]);if(!t)throw new Error("missing nonworld object class");t.GetDefaultInstanceData()||t.SetDefaultInstanceData(e),this._initialNonWorld.push(e),this._AddInitialObjectClass(t)}}Release(){for(const e of this._allLayersFlat)e.Release();qp.clearArray(this._allLayersFlat),this._textureLoadPendingPromises.clear(),this._eventSheet=null,this._layoutManager=null,this._runtime=null}GetRuntime(){return this._runtime}GetName(){return this._name}GetSID(){return this._sid}GetIndex(){return this._index}GetEffectList(){return this._effectList}GetEffectChain(){return this._MaybeRebuildEffectChainSteps(),this._effectChain}_MaybeRebuildEffectChainSteps(){const e="low"===this._runtime.GetCanvasManager().GetCurrentFullscreenScalingQuality();if(!this._needsRebuildEffectChainSteps&&this._wasFullScreenQualityLow===e&&!this._effectChain.NeedsRebuild())return;const t=this.GetEffectList().GetActiveEffectTypes();this._effectChain.BuildSteps(t.map(e=>e.GetShaderProgram()),{indexMap:t.map(e=>e.GetIndex()),forcePostDraw:e,useFullSurface:!0}),this._needsRebuildEffectChainSteps=!1,this._wasFullScreenQualityLow=e}UpdateActiveEffects(){this.GetEffectList().UpdateActiveEffects(),this._needsRebuildEffectChainSteps=!0}GetMinLayerScale(){let e=this._allLayersFlat[0].GetNormalScale();for(let t=1,n=this._allLayersFlat.length;t<n;++t){const n=this._allLayersFlat[t];0===n.GetParallaxX()&&0===n.GetParallaxY()||(e=Math.min(e,n.GetNormalScale()))}return e}_GetScrollBoundMarginHorizontal(){return.5*this._runtime.GetViewportWidth()/this.GetMinLayerScale()}_GetScrollBoundMarginVertical(){return.5*this._runtime.GetViewportHeight()/this.GetMinLayerScale()}GetScrollLeftBound(){return this.IsUnboundedScrolling()?-1/0:this._GetScrollBoundMarginHorizontal()}GetScrollRightBound(){return this.IsUnboundedScrolling()?1/0:this.GetWidth()-this._GetScrollBoundMarginHorizontal()}GetScrollTopBound(){return this.IsUnboundedScrolling()?-1/0:this._GetScrollBoundMarginVertical()}GetScrollBottomBound(){return this.IsUnboundedScrolling()?1/0:this.GetHeight()-this._GetScrollBoundMarginVertical()}SetScrollX(e){const t=this.GetScrollLeftBound(),n=this.GetScrollRightBound();e>n&&(e=n),e<t&&(e=t),this._scrollX!==e&&(this._scrollX=e,this._SetAllLayersMVChanged(),this._runtime.UpdateRender())}GetScrollX(){return this._scrollX}SetScrollY(e){const t=this.GetScrollTopBound(),n=this.GetScrollBottomBound();e>n&&(e=n),e<t&&(e=t),this._scrollY!==e&&(this._scrollY=e,this._SetAllLayersMVChanged(),this._runtime.UpdateRender())}GetScrollY(){return this._scrollY}IsUnboundedScrolling(){return this._isUnboundedScrolling}BoundScrolling(){this.SetScrollX(this.GetScrollX()),this.SetScrollY(this.GetScrollY());for(const e of this._allLayersFlat)e.IsOwnScrollPositionEnabled()&&(e.SetScrollX(e.GetScrollX()),e.SetScrollY(e.GetScrollY()))}SetVanishingPointXY(e,t){this._vanishingPointX===e&&this._vanishingPointY===t||(this._vanishingPointX=e,this._vanishingPointY=t,this.IsPerspectiveProjection()&&(this._SetAllLayersProjectionChanged(),this._SetAllLayersMVChanged(),this._runtime.UpdateRender()))}GetVanishingPointX(){return this.IsOrthographicProjection()?.5:this._vanishingPointX}GetVanishingPointY(){return this.IsOrthographicProjection()?.5:this._vanishingPointY}GetVanishingPoint(){return[this.GetVanishingPointX(),this.GetVanishingPointY()]}HasVanishingPointOutsideViewport(){const e=this.GetVanishingPointX(),t=this.GetVanishingPointY();return e<0||e>1||t<0||t>1}SetPerspectiveProjection(){this._isOrthographicProjection&&(this._isOrthographicProjection=!1,this._SetAllLayersProjectionChanged(),this._SetAllLayersMVChanged(),this._runtime.UpdateRender())}SetOrthographicProjection(){this._isOrthographicProjection||(this._isOrthographicProjection=!0,this._SetAllLayersProjectionChanged(),this._SetAllLayersMVChanged(),this._runtime.UpdateRender())}IsOrthographicProjection(){return this._isOrthographicProjection}IsPerspectiveProjection(){return!this.IsOrthographicProjection()}Set3DCameraEnabled(e){e=!!e,this._is3dCameraEnabled!==e&&(this._is3dCameraEnabled=e,this._SetAllLayersMVChanged(),this._runtime.UpdateRender())}Is3DCameraEnabled(){return this._is3dCameraEnabled}Set3DCameraOrientation(e,t,n,s,r,o,a,i,l){Yp(this._cam3dposition,e,t,n)&&Yp(this._cam3dlook,s,r,o)&&Yp(this._cam3dup,a,i,l)||(nm.set(this._cam3dposition,e,t,n),nm.set(this._cam3dlook,s,r,o),nm.set(this._cam3dup,a,i,l),this.Set3DCameraChanged())}Set3DCameraChanged(){this._SetAllLayersMVChanged(),this._runtime.UpdateRender()}Get3DCameraPosition(){return this._cam3dposition}Get3DCameraLookAt(){return this._cam3dlook}Get3DCameraUpVector(){return this._cam3dup}GetScale(){return this._scale}SetScale(e){this._scale!==e&&(this._scale=e,this._SetAllLayersMVChanged(),this.BoundScrolling(),this._runtime.UpdateRender())}SetAngle(e){e=qp.clampAngle(e),this._angle!==e&&(this._angle=e,this._SetAllLayersMVChanged(),this._runtime.UpdateRender())}GetAngle(){return this._angle}GetWidth(){return this._width}SetWidth(e){!isFinite(e)||e<1||(this._width=e)}GetHeight(){return this._height}SetHeight(e){!isFinite(e)||e<1||(this._height=e)}GetEventSheet(){return this._eventSheet}_GetRootLayers(){return this._rootLayers}*allLayers(){for(const e of this._rootLayers)yield*e.selfAndAllSubLayers()}GetLayers(){return this._allLayersFlat}GetLayerCount(){return this._allLayersFlat.length}GetLayer(e){return"number"==typeof e?this.GetLayerByIndex(e):this.GetLayerByName(e.toString())}GetLayerByIndex(e){return e=qp.clamp(Math.floor(e),0,this._allLayersFlat.length-1),this._allLayersFlat[e]}GetLayerByName(e){return this._layersByName.get(e.toLowerCase())||null}HasLayerByName(e){return!!this.GetLayerByName(e)}GetLayerBySID(e){return this._layersBySid.get(e)||null}_SetAllLayersProjectionChanged(){for(const e of this._allLayersFlat)e._SetProjectionMatrixChanged()}_SetAllLayersMVChanged(){for(const e of this._allLayersFlat)e._SetMVMatrixChanged()}AddLayer(e,t,n){if(this.HasLayerByName(e))throw new Error(`layer name '${e}' already in use`);if(!t&&n<2)throw new Error("invalid insert position");const s=n>=2?t:t.GetParentLayer(),r=qp.New(qp.Layer,this,s,{name:e,sid:Math.floor(1e15*Math.random()),isDynamic:!0});this._InsertLayer(r,t,n),this.GetRuntime().UpdateRender(),this._ReindexAndUpdateAllLayers()}MoveLayer(e,t,n){if(!t&&n<2)throw new Error("invalid insert position");e===t&&n<2||(this._RemoveLayer(e),this._InsertLayer(e,t,n),this.GetRuntime().UpdateRender(),this._ReindexAndUpdateAllLayers())}RemoveLayer(e){if(this._RemoveLayer(e)){const t=this._runtime.GetEventSheetManager();t.BlockFlushingInstances(!0),e.Release(),t.BlockFlushingInstances(!1),this.GetRuntime().UpdateRender(),this._ReindexAndUpdateAllLayers()}}RemoveAllDynamicLayers(){const e=new Set;for(const t of this.allLayers())t.IsDynamic()&&!t.HasAnyDynamicParentLayer()&&e.add(t);if(0===e.size)return;const t=this._runtime.GetEventSheetManager();t.BlockFlushingInstances(!0);for(const t of e)this._RemoveLayer(t),t.Release();t.BlockFlushingInstances(!1),this.GetRuntime().UpdateRender(),this._ReindexAndUpdateAllLayers()}_InsertLayer(e,t,n){if(n>=2)if(t){if(t===e||t.HasParentLayer(e))throw new Error(`cannot move layer '${e.GetName()}' to sub-layer of itself`);t._AddSubLayer(e,2===n),e._SetParentLayer(t)}else 2===n?this._rootLayers.push(e):this._rootLayers.unshift(e),e._SetParentLayer(null);else{const s=t.GetParentLayer();if(s){if(t.HasParentLayer(e))throw new Error(`cannot move layer '${e.GetName()}' to sub-layer of itself`);s._InsertSubLayer(e,t,0===n),e._SetParentLayer(s)}else{let s=this._rootLayers.indexOf(t);if(-1===s)throw new Error("cannot find layer to insert by");0===n&&++s,this._rootLayers.splice(s,0,e),e._SetParentLayer(null)}}}_RemoveLayer(e){const t=e.GetParentLayer();if(t)return t._RemoveSubLayer(e),!0;if(this._rootLayers.length>1){const t=this._rootLayers.indexOf(e);if(-1===t)throw new Error("cannot find layer to remove");return this._rootLayers.splice(t,1),!0}return!1}_ReindexLayers(){this._allLayersFlat=[...this.allLayers()],this._layersByName.clear(),this._layersBySid.clear();for(let e=0,t=this._allLayersFlat.length;e<t;++e){const t=this._allLayersFlat[e];t._SetIndex(e),this._layersByName.set(t.GetName().toLowerCase(),t),this._layersBySid.set(t.GetSID(),t)}}_ReindexHTMLLayers(){let e=0;for(const t of this._rootLayers){for(const n of t.selfAndAllSubLayers())n._SetHTMLIndex(e);t.IsHTMLElementsLayer()&&e++}}GetHTMLLayerCount(){return this._rootLayers.at(-1).GetHTMLIndex()+1}async _ReindexAndUpdateAllLayers(){this._ReindexLayers(),this._ReindexHTMLLayers(),this._pendingSetHTMLLayerCount=this.GetHTMLLayerCount()}_GetPendingSetHTMLLayerCount(){return this._pendingSetHTMLLayerCount}_ResetPendingHTMLLayerCount(){this._pendingSetHTMLLayerCount=-1}GetRootLayersForHTMLLayer(e){const t=[];for(const n of this._rootLayers){const s=n.GetHTMLIndex();if(s===e)t.push(n);else if(s>e)break}return t}SaveTransform(){return{scrollX:this.GetScrollX(),scrollY:this.GetScrollY(),scale:this.GetScale(),angle:this.GetAngle(),vpX:this.GetVanishingPointX(),vpY:this.GetVanishingPointY()}}RestoreTransform(e){this.SetScrollX(e.scrollX),this.SetScrollY(e.scrollY),this.SetScale(e.scale),this.SetAngle(e.angle),this.SetVanishingPointXY(e.vpX,e.vpY)}GetLayoutBackgroundColor(){let e=this._rootLayers.filter(e=>e.ShouldDraw())[0];for(;e;){if(!e.IsTransparent())return em.copyRgb(e.GetBackgroundColor()),em.setA(1),em;if(e.UsesOwnTexture())return em.setRgba(0,0,0,0),em;e=e.GetSubLayers().filter(e=>e.ShouldDraw())[0]}return em.setRgba(0,0,0,0),em}IsFirstVisit(){return this._isFirstVisit}_GetInitialObjectClasses(){return[...this._initialObjectClasses]}_AddInitialObjectClass(e){if(e.IsInContainer())for(const t of e.GetContainer().GetObjectTypes())this._initialObjectClasses.add(t);else this._initialObjectClasses.add(e)}_GetTextureLoadedObjectTypes(){return[...this._textureLoadedTypes]}_Load(e,t){if(e===this||!t)return Promise.resolve();e&&(qp.CopySet(this._textureLoadedTypes,e._textureLoadedTypes),e._textureLoadedTypes.clear());const n=[];for(const e of this._initialObjectClasses)this._textureLoadedTypes.has(e)||(n.push(e.LoadTextures(t)),this._textureLoadedTypes.add(e));return Promise.all(n)}async MaybeLoadTexturesFor(e){if(e.IsFamily())throw new Error("cannot load textures for family");const t=this._runtime.GetRenderer();if(!t||t.IsContextLost()||this._textureLoadedTypes.has(e))return;this._textureLoadedTypes.add(e);const n=e.LoadTextures(t);this._AddPendingTextureLoadPromise(n),await n,e.OnDynamicTextureLoadComplete(),this._runtime.UpdateRender()}_AddPendingTextureLoadPromise(e){this._textureLoadPendingPromises.add(e),e.then(()=>this._textureLoadPendingPromises.delete(e)).catch(()=>this._textureLoadPendingPromises.delete(e))}WaitForPendingTextureLoadsToComplete(){return Promise.all([...this._textureLoadPendingPromises])}MaybeUnloadTexturesFor(e){if(e.IsFamily()||e.GetInstanceCount()>0)throw new Error("cannot unload textures");const t=this._runtime.GetRenderer();t&&this._textureLoadedTypes.has(e)&&(this._textureLoadedTypes.delete(e),e.ReleaseTextures(t))}_Unload(e,t){if(e!==this&&t)for(const t of this._textureLoadedTypes)t.IsGlobal()||e._initialObjectClasses.has(t)||(t.ReleaseTextures(),this._textureLoadedTypes.delete(t))}_OnRendererContextLost(){this._textureLoadedTypes.clear()}async _StartRunning(e){const t=this._runtime,n=this._layoutManager,s=t.GetEventSheetManager();this._eventSheetName&&(this._eventSheet=s.GetEventSheetByName(this._eventSheetName),this._eventSheet._UpdateDeepIncludes()),n._SetMainRunningLayout(this),this._width=this._originalWidth,this._height=this._originalHeight,this._scrollX=t.GetOriginalViewportWidth()/2,this._scrollY=t.GetOriginalViewportHeight()/2,this.BoundScrolling(),this._SetAllLayersProjectionChanged(),this._SetAllLayersMVChanged(),this._ReindexHTMLLayers(),await this._runtime.GetCanvasManager().SetHTMLLayerCount(this.GetHTMLLayerCount(),!0),this._MoveGlobalObjectsToThisLayout(e),this._runtime.SetUsingCreatePromises(!0),this._CreateInitialInstances(),this._isFirstVisit||this._CreatePersistedInstances(),this._CreateAndLinkContainerInstances(this._createdInstances),this._CreateAndLinkContainerInstances(this._createdPersistedInstances),this._CreateInitialNonWorldInstances(),n.ClearPendingChangeLayout(),t.FlushPendingInstances(),this._runtime.SetUsingCreatePromises(!1);const r=this._runtime.GetCreatePromises();if(await Promise.all(r),qp.clearArray(r),!t.IsLoadingState()){for(const e of this._createdInstances)e.SetupInitialSceneGraphConnections();for(const e of this._createdPersistedInstances)e.SetupPersistedSceneGraphConnections(this._createdPersistedInstancesToDataMap,this._createdPersistedIndexToInstanceMap);for(const[e,t]of Object.entries(this._persistData)){const n=this._runtime.GetObjectClassBySID(parseInt(e,10));n&&!n.IsFamily()&&n.HasPersistBehavior()&&qp.clearArray(t)}for(const e of this._createdInstances)e._TriggerOnCreated();for(const e of this._createdPersistedInstances)e._TriggerOnCreated();for(const e of this._createdInstances)e.HasParent()||e._OnHierarchyReady();for(const e of this._createdPersistedInstances)e.HasParent()||e._OnHierarchyReady()}qp.clearArray(this._createdInstances),qp.clearArray(this._createdPersistedInstances),this._createdPersistedInstancesToDataMap.clear(),this._createdPersistedIndexToInstanceMap.clear(),await Promise.all([...this._initialObjectClasses].map(e=>e.PreloadTexturesWithInstances(this._runtime.GetRenderer()))),e&&(t.Dispatcher().dispatchEvent(new qp.Event("beforefirstlayoutstart")),await t.DispatchUserScriptEventAsyncWait(new qp.Event("beforeprojectstart"))),await this.DispatchRuntimeUserScriptEventAsyncWait(new qp.Event("beforeanylayoutstart")),t.Dispatcher().dispatchEvent(new qp.Event("beforelayoutstart")),await this.DispatchUserScriptEventAsyncWait(new qp.Event("beforelayoutstart")),t.IsLoadingState()||await t.TriggerAsync(qp.Plugins.System.Cnds.OnLayoutStart,null,null),t.Dispatcher().dispatchEvent(new qp.Event("afterlayoutstart")),await this.DispatchUserScriptEventAsyncWait(new qp.Event("afterlayoutstart")),await this.DispatchRuntimeUserScriptEventAsyncWait(new qp.Event("afteranylayoutstart")),e&&(t.Dispatcher().dispatchEvent(new qp.Event("afterfirstlayoutstart")),await t.DispatchUserScriptEventAsyncWait(new qp.Event("afterprojectstart"))),s._RunQueuedTriggers(n),await this.WaitForPendingTextureLoadsToComplete(),this._isFirstVisit=!1}_MoveGlobalObjectsToThisLayout(e){for(const e of this._runtime.GetAllObjectClasses())if(!e.IsFamily()&&e.IsWorldType())for(const t of e.GetInstances()){const e=t.GetWorldInfo(),n=e.GetLayer(),s=qp.clamp(n.GetIndex(),0,this._allLayersFlat.length-1),r=this._allLayersFlat[s];e._SetLayer(r,!0),r._MaybeAddInstance(t)}if(!e)for(const e of this._allLayersFlat)e._SortInstancesByLastCachedZIndex(!1)}_CreateInitialInstances(){for(const e of this._allLayersFlat)e.CreateInitialInstances(this._createdInstances),e._Start()}_CreatePersistedInstances(){let e=!1;for(const[t,n]of Object.entries(this._persistData)){const s=this._runtime.GetObjectClassBySID(parseInt(t,10));if(s&&!s.IsFamily()&&s.HasPersistBehavior())for(const t of n){let n=null;if(s.IsWorldType()&&(n=t.hasOwnProperty("instJson")?this.GetLayerBySID(t.instJson.w.l):this.GetLayerBySID(t.w.l),!n))continue;const r=this._runtime.CreateInstanceFromData(s,n,!1,0,0,!0);t.hasOwnProperty("instJson")?r.LoadFromJson(t.instJson):r.LoadFromJson(t),e=!0,this._createdPersistedInstances.push(r),t.hasOwnProperty("instJson")&&(this._createdPersistedInstancesToDataMap.set(r,t),this._createdPersistedIndexToInstanceMap.set(t.index,r))}}for(const e of this._allLayersFlat)e._SortInstancesByLastCachedZIndex(!0),e.SetZIndicesChanged();e&&(this._runtime.FlushPendingInstances(),this._runtime._RefreshUidMap())}_CreateAndLinkContainerInstances(e){for(const t of e){if(!t.IsInContainer())continue;const n=t.GetWorldInfo(),s=t.GetIID();for(const r of t.GetObjectClass().GetContainer().objectTypes()){if(r===t.GetObjectClass())continue;const o=r.GetInstances();if(o.length>s)t._AddSibling(o[s]);else{let s;s=n?this._runtime.CreateInstanceFromData(r,n.GetLayer(),!0,n.GetX(),n.GetY(),!0):this._runtime.CreateInstanceFromData(r,null,!0,0,0,!0),this._runtime.FlushPendingInstances(),r._UpdateIIDs(),t._AddSibling(s),e.push(s)}}}}_CreateInitialNonWorldInstances(){for(const e of this._initialNonWorld)this._runtime.GetObjectClassByIndex(e[1]).IsInContainer()||this._runtime.CreateInstanceFromData(e,null,!0)}_CreateGlobalNonWorlds(){const e=[],t=this._initialNonWorld;let n=0;for(let s=0,r=t.length;s<r;++s){const r=t[s],o=this._runtime.GetObjectClassByIndex(r[1]);o.IsGlobal()?o.IsInContainer()&&o.GetContainer().HasAnyWorldType()||e.push(this._runtime.CreateInstanceFromData(r,null,!0)):(t[n]=r,++n)}qp.truncateArray(t,n),this._runtime.FlushPendingInstances(),this._CreateAndLinkContainerInstances(e)}RecreateInitialObjects(e,t,n,s,r,o,a){if(n)return n.RecreateInitialObjects(e,t,r,o,s,a);{const n=[];for(const i of this._allLayersFlat)n.push(i.RecreateInitialObjects(e,t,r,o,s,a));return n.flat()}}async _StopRunning(){const e=this._layoutManager;this._runtime.IsLoadingState()||(await this.DispatchRuntimeUserScriptEventAsyncWait(new qp.Event("beforeanylayoutend")),await this.DispatchUserScriptEventAsyncWait(new qp.Event("beforelayoutend")),await this._runtime.TriggerAsync(qp.Plugins.System.Cnds.OnLayoutEnd,null,null),await this.DispatchUserScriptEventAsyncWait(new qp.Event("afterlayoutend")),await this.DispatchRuntimeUserScriptEventAsyncWait(new qp.Event("afteranylayoutend"))),e.SetIsEndingLayout(!0),this._runtime.GetEventSheetManager().ClearAllScheduledWaits(),this._isFirstVisit||this._SavePersistData();for(const e of this._allLayersFlat)e._End();for(const e of this._runtime.GetAllObjectClasses())if(!(e.IsGlobal()||e.IsWorldType()||e.GetPlugin().IsSingleGlobal()||e.IsFamily())){for(const t of e.GetInstances())this._runtime.DestroyInstance(t);this._runtime.FlushPendingInstances()}e.SetIsEndingLayout(!1),e.GetMainRunningLayout()===this&&e._SetMainRunningLayout(null)}_SaveInstanceToPersist(e,t){const n=e.GetObjectClass().GetSID().toString();this._persistData.hasOwnProperty(n)||(this._persistData[n]=[]);const s=this._persistData[n],r={index:t,instJson:e.SaveToJson(),sceneGraphJson:{children:[]}};s.push(r),this._persistedIntances.set(e,r)}_SaveSceneGraphInfoToPersist(e){const t=this._persistedIntances.get(e);for(const n of e.GetChildren()){const e=this._persistedIntances.get(n);e&&t.sceneGraphJson.children.push({index:e.index,flags:qp.SceneGraphInfo._GetFlagsNumber(n.GetWorldInfo())})}}_SavePersistData(){this._persistedIntances.clear();let e=0;for(const t of this._allLayersFlat){t._UpdateZIndices();for(const n of t._GetInstances()){const t=n.GetObjectClass();!t.IsGlobal()&&t.HasPersistBehavior()&&(this._SaveInstanceToPersist(n,e),e++)}}for(const e of this._allLayersFlat)for(const t of e._GetInstances()){const e=t.GetObjectClass();!e.IsGlobal()&&e.HasPersistBehavior()&&this._SaveSceneGraphInfoToPersist(t)}this._persistedIntances.clear()}ResetPersistData(){this._persistData={},this._isFirstVisit=!0}GetRenderTarget(){return this._curRenderTarget}UsesOwnTexture(){const e=this._runtime,t=e.GetRenderer().IsWebGL();return"low"===e.GetCanvasManager().GetCurrentFullscreenScalingQuality()||t&&e.UsesAnyBackgroundBlending()||this._effectList.HasAnyActiveEffect()||t&&e.Uses3DFeatures()}_MaybeStartDrawToOwnTexture(e){const t=this._runtime.GetCanvasManager();if(this.UsesOwnTexture()){e.SetRenderTarget(null),e.ClearRgba(0,0,0,0);const n={sampling:this._runtime.GetSampling(),isSampled:e.IsWebGPU()||this._runtime.UsesAnyBackgroundBlending()||this._effectList.HasAnyActiveEffect(),canReadPixels:!!e.IsWebGPU()&&this._runtime.UsesAnyBackgroundBlending()};"low"===t.GetCurrentFullscreenScalingQuality()&&(n.width=t.GetDrawWidth(),n.height=t.GetDrawHeight()),this._curRenderTarget=this._runtime.GetAdditionalRenderTarget(n)}else this._curRenderTarget=null}_MaybeCopyOwnTextureToBackbuffer(e){this._runtime._NeedsHTMLLayerCompositing(e)&&(e.SetDepthEnabled(!1),e.SetRenderTarget(null),e.SetTextureFillMode(),e.CopyRenderTarget(this._curRenderTarget))}_MaybeEndDrawToOwnTexture(e){this.UsesOwnTexture()&&(e.SetDepthEnabled(!1),this._DrawLayoutOwnTextureToRenderTarget(e,this._curRenderTarget))}DrawMain(e){e.SetRenderTarget(this._curRenderTarget),e.Clear(this.GetLayoutBackgroundColor()),this._runtime.Uses3DFeatures()&&e.ClearDepth();const t=this.GetRootLayersForHTMLLayer(0);this._DrawLayerList(e,this._curRenderTarget,t,!0),e.IsWebGPU()&&e.StartMeasuringRenderPassTime(0,1),this._MaybeEndDrawToOwnTexture(e),this._curRenderTarget=null}DrawForHTMLLayerIndex(e,t){let n=null;this._runtime._NeedsHTMLLayerCompositing(e)&&(n=this._curRenderTarget),e.SetRenderTarget(n),e.ClearRgba(0,0,0,0),this._runtime.Uses3DFeatures()&&e.ClearDepth();const s=this.GetRootLayersForHTMLLayer(t);this._DrawLayerList(e,n,s,!0),this._MaybeCopyOwnTextureToBackbuffer(e),e.EndBatch(),this._runtime.GetCanvasManager().BlitMainCanvasToHTMLLayerCanvas(t)}_DrawLayerList(e,t,n,s){const r=n.filter(e=>e.ShouldDraw());for(let n=0,o=r.length;n<o;){const a=r[n];if(a.SelfAndAllSubLayersHave3DCamera()&&!a.SelfOrAnySubLayerUsesOwnTexture()){sm.push(a);for(let e=n+1;e<o;++e){const t=r[e];if(!t.SelfAndAllSubLayersHave3DCamera()||t.SelfOrAnySubLayerUsesOwnTexture())break;sm.push(r[e])}if(sm.length>=2||1===sm.length&&sm[0].HasAnyVisibleSubLayer()){this._Draw3DLayers(e,t,sm),n+=sm.length,qp.clearArray(sm);continue}qp.clearArray(sm)}a.Draw(e,t,s&&0===n),++n}}_DrawLayoutOwnTextureToRenderTarget(e,t){const n=this._effectList.GetActiveEffectTypes(),s=this._runtime;0===n.length?(e.SetRenderTarget(null),e.SetTextureFillMode(),e.CopyRenderTarget(t),e.InvalidateRenderTarget(t),s.ReleaseAdditionalRenderTarget(t)):(Qp.set(0,0,s.GetViewportWidth(),s.GetViewportHeight()),this.GetEffectChain().Render(e,null,{contentObject:this,blendMode:3,devicePixelRatio:this._runtime.GetEffectDevicePixelRatioParam(),layerScale:this._runtime.GetEffectLayerScaleParam()*this.GetScale(),layerAngle:this.GetAngle(),layoutRect:Qp,drawSurfaceRect:null,invalidateRenderTargets:!0}))}_Draw3DLayers(e,t,n){const s=n[0],r=s._MaybeStartWebGLProfiling(e);s._MaybeStartWebGPUProfiling(e),n[0].IsTransparent()||(em.copyRgb(n[0].GetBackgroundColor()),em.setA(1),e.Clear(em)),e.SetDepthEnabled(!0);const o=rm,a=om,i=am;for(const t of n)t._UpdateZIndices(),t._AppendAllInstancesIncludingSubLayersInDrawOrder(o),t._FireDrawEvent(e,"beforedraw");for(let n=0,s=o.length;n<s;){const r=o[n],l=r.GetWorldInfo(),d=l.GetLayer();if(!l.IsVisible()||!l.IsInViewport3D(d._GetViewFrustum())){++n;continue}(!r.RendersToOwnZPlane()||l.GetDepth()>0)&&i.push(r);const c=r.GetWorldInfo().GetTotalZElevation();a.push(r);let u=n+1;for(;u<s;++u){const e=o[u],t=e.GetWorldInfo();if(t.IsVisible()&&t.IsInViewport3D(t.GetLayer()._GetViewFrustum())){if(t.GetTotalZElevation()!==c)break;e.RendersToOwnZPlane()?(t.GetDepth()>0&&i.push(e),a.push(e)):i.push(e)}}if(1!==a.length||a[0].MustMitigateZFighting()){this._Draw3DLayersCoplanarInstances(e,t,a);for(let n=0,s=i.length;n<s;++n){const s=i[n],r=s.GetWorldInfo(),o=r.GetLayer();r._SetDrawNonBackFacesOnly(!0),Xp(o,e),o._DrawInstanceMaybeWithEffects(s,r,e,t),r._SetDrawNonBackFacesOnly(!1)}}else{Xp(d,e),d._DrawInstanceMaybeWithEffects(r,l,e,t);for(let n=0,s=i.length;n<s;++n){const s=i[n];if(s===r)continue;const o=s.GetWorldInfo(),a=o.GetLayer();Xp(a,e),a._DrawInstanceMaybeWithEffects(s,o,e,t)}}n=u,qp.clearArray(a),qp.clearArray(i)}for(const t of n)t._FireDrawEvent(e,"afterdraw");r&&e.EndQuery(r),qp.clearArray(o),im=null}_Draw3DLayersCoplanarInstances(e,t,n){e.CoplanarStartStencilPass();for(let t=0,s=n.length;t<s;++t){const s=n[t],r=s.GetWorldInfo(),o=r.GetLayer();r._SetDrawBackFaceOnly(!0),Xp(o,e),o._DrawInstance(s,r,e)}e.CoplanarStartColorPass();for(let s=0,r=n.length;s<r;++s){const r=n[s],o=r.GetWorldInfo(),a=o.GetLayer();Xp(a,e),a._DrawInstanceMaybeWithEffects(r,o,e,t),o._SetDrawBackFaceOnly(!1)}e.CoplanarRestoreStandardRendering()}_SaveToJson(){const e={sx:this.GetScrollX(),sy:this.GetScrollY(),s:this.GetScale(),a:this.GetAngle(),w:this.GetWidth(),h:this.GetHeight(),ortho:this.IsOrthographicProjection(),vpX:this.GetVanishingPointX(),vpY:this.GetVanishingPointY(),fv:this._isFirstVisit,persist:this._persistData,fx:this._effectList.SaveToJson(),layers:{},dynamicLayers:[]};for(const t of this._allLayersFlat)if(t.IsDynamic()){const n=t.GetParentLayer();e.dynamicLayers.push({sid:t.GetSID(),name:t.GetName(),parentSid:n?n.GetSID():null,siblingIndex:t._GetSiblingIndex(),data:t._SaveToJson()})}else e.layers[t.GetSID().toString()]=t._SaveToJson();return e}_LoadFromJson(e){this._scrollX=e.sx,this._scrollY=e.sy,this._scale=e.s,this._angle=e.a,this._width=e.w,this._height=e.h,this._isOrthographicProjection=!!e.ortho,e.hasOwnProperty("vpX")&&(this._vanishingPointX=e.vpX),e.hasOwnProperty("vpY")&&(this._vanishingPointY=e.vpY),this._isFirstVisit=!!e.fv,this._persistData=e.persist,this._effectList.LoadFromJson(e.fx),this._needsRebuildEffectChainSteps=!0;for(const[t,n]of Object.entries(e.layers)){const e=parseInt(t,10),s=this.GetLayerBySID(e);s&&s._LoadFromJson(n)}if(e.hasOwnProperty("dynamicLayers")){this.RemoveAllDynamicLayers(),this._runtime.FlushPendingInstances();const t=new Map,n=e.dynamicLayers;for(let e=n.length-1;e>=0;--e){const s=n[e],r=s.sid,o=s.name,a=s.parentSid,i=s.siblingIndex,l=s.data;if(this._ReindexLayers(),this.HasLayerByName(o)||this.GetLayerBySID(r))continue;let d,c;if(null===a)d=null,c=this._rootLayers;else{if(d=this.GetLayerBySID(a),!d)continue;c=d.GetSubLayers()}const u=qp.New(qp.Layer,this,d,{name:o,sid:r,isDynamic:!0});c.push(u);let h=t.get(c);h||(h=[],t.set(c,h)),h.push({layer:u,siblingIndex:i}),u._LoadFromJson(l)}for(const[e,n]of t){n.sort((e,t)=>e.siblingIndex-t.siblingIndex);for(const t of n){const n=t.layer,s=t.siblingIndex;let r=e.indexOf(n);e.splice(r,1),e.splice(s,0,n)}}}this._ReindexAndUpdateAllLayers(),this._SetAllLayersProjectionChanged(),this._SetAllLayersMVChanged()}GetILayout(){return this._iLayout}UserScriptDispatcher(){return this._userScriptDispatcher}DispatchUserScriptEvent(e){e.layout=this.GetILayout();const t=this._runtime,n=t.IsDebug()&&!t.GetEventSheetManager().IsInEventEngine();n&&Kp.StartMeasuringScriptTime(),this._userScriptDispatcher.dispatchEvent(e),n&&Kp.AddScriptTime()}DispatchUserScriptEventAsyncWait(e){return e.layout=this.GetILayout(),this._userScriptDispatcher.dispatchEventAndWaitAsync(e)}DispatchRuntimeUserScriptEventAsyncWait(e){return e.layout=this.GetILayout(),this._runtime.DispatchUserScriptEventAsyncWait(e)}_LogLayerTree(){this._LogLayerList(this._rootLayers)}_LogLayerList(e,t=0){const n=e.slice(0);n.reverse();for(const e of n)console.log(`${"\t".repeat(t)}- ${e.GetName()}`),this._LogLayerList(e.GetSubLayers(),t+1)}}}{const lm=self.C3;lm.LayoutManager=class extends lm.DefendedBase{#t;#n=[];#h=new Map;#l=new Map;#s=null;#e=[];#o=null;#a=0;#_=null;constructor(e){super(),this.#t=e}Release(){this.#t=null,this.#s=null,this.#o=null,this.#_=null,lm.clearArray(this.#n),this.#h.clear(),this.#l.clear(),lm.clearArray(this.#e)}Create(e){const t=lm.New(lm.Layout,this,this.#n.length,e);this.#n.push(t),this.#h.set(t.GetName().toLowerCase(),t),this.#l.set(t.GetSID(),t)}GetRuntime(){return this.#t}SetFirstLayout(e){this.#o=e}GetFirstLayout(){if(this.#o)return this.#o;if(this.#n.length)return this.#n[0];throw new Error("no first layout")}GetLayoutByName(e){return this.#h.get(e.toLowerCase())||null}GetLayoutBySID(e){return this.#l.get(e)||null}GetLayoutByIndex(e){return e=lm.clamp(Math.floor(e),0,this.#n.length-1),this.#n[e]}GetLayout(e){return"number"==typeof e?this.GetLayoutByIndex(e):this.GetLayoutByName(e.toString())}GetAllLayouts(){return this.#n}_SetMainRunningLayout(e){this.#s=e}GetMainRunningLayout(){return this.#s}_AddRunningSubLayout(e){if(this.#e.includes(e))throw new Error("layout already running");this.#e.push(e)}_RemoveRunningSubLayout(e){const t=this.#e.indexOf(e);if(-1===t)throw new Error("layout not running");this.#e.splice(t,1)}*runningLayouts(){this.#s&&(yield this.#s),this.#e.length&&(yield*this.#e)}IsLayoutRunning(e){return this.#s===e||this.#e.includes(e)}SetIsEndingLayout(e){if(e)this.#a++;else{if(this.#a<=0)throw new Error("already unset");this.#a--}}IsEndingLayout(){return this.#a>0}ChangeMainLayout(e){this.#_=e}ClearPendingChangeLayout(){this.#_=null}IsPendingChangeMainLayout(){return!!this.#_}GetPendingChangeMainLayout(){return this.#_}SetAllLayerProjectionChanged(){const e=this.GetMainRunningLayout();e&&e._SetAllLayersProjectionChanged()}SetAllLayerMVChanged(){const e=this.GetMainRunningLayout();e&&e._SetAllLayersMVChanged()}}}{const dm=self.C3,cm=new RegExp("<(.+?)>","g");dm.TimelineManager=class extends dm.DefendedBase{constructor(e){super(),this._runtime=e,this._timelineDataManager=dm.New(dm.TimelineDataManager),this._pluginInstance=null,this._timelines=[],this._timelinesByName=new Map,this._objectClassToTimelineMap=new Map,this._timelinesCreatedByTemplate=new Map,this._scheduledTimelines=[],this._playingTimelines=[],this._markedForRemovalTimelines=[],this._hasRuntimeListeners=!1,this._changingLayout=!1,this._isTickingTimelines=!1,this._tickFunc=()=>this._OnTick(),this._tick2Func=()=>this._OnTick2(),this._beforeLayoutChange=()=>this._OnBeforeChangeLayout(),this._layoutChange=()=>this._OnAfterChangeLayout(),this._instanceDestroy=e=>this._OnInstanceDestroy(e.instance),this._beforeLoad=e=>this._OnBeforeLoad(),this._afterLoad=e=>this._OnAfterLoad(),this._afterLayoutStart=e=>this._OnAfterLayoutStart(),this._destroyedWhileLoadingState=[],this._renderChange=0}Release(){this.RemoveRuntimeListeners(),this._tickFunc=null,this._tick2Func=null,this._beforeLayoutChange=null,this._layoutChange=null,this._instanceDestroy=null,this._afterLoad=null;for(const e of this._timelines)e.Stop(),e.Release();dm.clearArray(this._timelines),this._timelines=null,this._timelineDataManager.Release(),this._timelineDataManager=null,dm.clearArray(this._scheduledTimelines),this._scheduledTimelines=null,dm.clearArray(this._playingTimelines),this._playingTimelines=null,dm.clearArray(this._markedForRemovalTimelines),this._markedForRemovalTimelines=null,this._timelinesByName.clear(),this._timelinesByName=null,this._objectClassToTimelineMap.clear(),this._objectClassToTimelineMap=null,this._timelinesCreatedByTemplate.clear(),this._timelinesCreatedByTemplate=null,dm.clearArray(this._destroyedWhileLoadingState),this._destroyedWhileLoadingState=null,this._runtime=null}AddRuntimeListeners(){const e=this._runtime.Dispatcher();e.addEventListener("pretick",this._tickFunc),e.addEventListener("tick2",this._tick2Func),e.addEventListener("beforelayoutchange",this._beforeLayoutChange),e.addEventListener("layoutchange",this._layoutChange),e.addEventListener("instancedestroy",this._instanceDestroy),e.addEventListener("beforeload",this._beforeLoad),e.addEventListener("afterload",this._afterLoad),e.addEventListener("afterlayoutstart",this._afterLayoutStart)}RemoveRuntimeListeners(){const e=this._runtime.Dispatcher();e.removeEventListener("pretick",this._tickFunc),e.removeEventListener("tick2",this._tick2Func),e.removeEventListener("beforelayoutchange",this._beforeLayoutChange),e.removeEventListener("layoutchange",this._layoutChange),e.removeEventListener("instancedestroy",this._instanceDestroy),e.removeEventListener("beforeload",this._beforeLoad),e.removeEventListener("afterload",this._afterLoad),e.removeEventListener("afterlayoutstart",this._afterLayoutStart)}Create(e){this._timelineDataManager.Add(e);const t=dm.TimelineState.CreateInitial(e,this);this.Add(t),this.SetTimelineObjectClassesToMap(t),this._timelinesCreatedByTemplate.set(t.GetName(),0)}CreateFromTemplate(e){const t=this.GetTimelineDataManager(),n=e.GetTemplateName(),s=t.Get(n),r=dm.TimelineState.CreateFromTemplate(`${n}:${this._timelinesCreatedByTemplate.get(n)}`,s,this);return this._IncreaseTemplateTimelinesCount(n),this.Add(r),r}_IncreaseTemplateTimelinesCount(e){this._timelinesCreatedByTemplate.set(e,this._timelinesCreatedByTemplate.get(e)+1)}_SetCreatedTemplateTimelinesCount(){for(const e of this._timelines){if(e.IsTemplate())continue;const t=e.GetTemplateName();this._IncreaseTemplateTimelinesCount(t)}}_ClearCreatedTemplateTimelinesCount(){for(const e of this._timelinesCreatedByTemplate.keys())this._timelinesCreatedByTemplate.set(e,0)}Add(e){this._timelines.push(e),this._timelinesByName.set(e.GetName().toLowerCase(),e)}Remove(e){e.Removed(),e.IsTemplate()||(dm.arrayFindRemove(this._timelines,e),dm.arrayFindRemove(this._scheduledTimelines,e),dm.arrayFindRemove(this._playingTimelines,e),dm.arrayFindRemove(this._markedForRemovalTimelines,e),this._timelinesByName.delete(e.GetName().toLowerCase()),this.RemoveTimelineFromObjectClassMap(e),e.IsReleased()||e.Release())}Trigger(e){this._runtime.Trigger(e,this._pluginInstance,null)}GetRuntime(){return this._runtime}GetTimelineDataManager(){return this._timelineDataManager}SetPluginInstance(e){this._pluginInstance=e}GetPluginInstance(){return this._pluginInstance}*GetTimelines(){for(const e of this._timelines)yield e}*GetPlayingTimelines(){for(const e of this._playingTimelines)yield e}SetTimelineObjectClassToMap(e,t){this._objectClassToTimelineMap.has(e)||this._objectClassToTimelineMap.set(e,new Set),this._objectClassToTimelineMap.get(e).add(t)}SetTimelineObjectClassesToMap(e){for(const t of e.GetObjectClasses())this.SetTimelineObjectClassToMap(t,e)}RemoveTimelineFromObjectClassMap(e){for(const[t,n]of this._objectClassToTimelineMap.entries())n.has(e)&&(n.delete(e),0===n.size&&this._objectClassToTimelineMap.delete(t))}GetTimelinesForObjectClass(e){if(this._objectClassToTimelineMap.has(e))return this._objectClassToTimelineMap.get(e)}GetTimelineOfTemplateForInstances(e,t){if(t)for(const n of this._timelines)if(t.every(e=>n.HasTrackInstance(e.instance,e.trackId))&&n.GetName().includes(e.GetName()))return n}GetTimelineByName(e){return this._timelinesByName.get(e.toLowerCase())||null}GetScheduledOrPlayingTimelineByName(e){for(const t of this._scheduledTimelines)if(t.GetName()===e)return t;for(const t of this._playingTimelines)if(t.GetName()===e)return t;return null}*GetTimelinesByName(e){if(cm.test(e)){let t;cm.lastIndex=0;const n=new Set;do{if(t=cm.exec(e),t){const e=t[1].split(",");for(const t of e)n.add(t)}}while(t);for(const e of n.values()){const t=this.GetTimelineByName(e);t&&(yield t)}n.clear()}else{const t=this.GetTimelineByName(e);t&&(yield t)}}*GetTimelinesByTags(e){for(const t of this._timelines)t.HasTags(e)&&(yield t)}AddScheduledTimeline(e){this._scheduledTimelines.includes(e)||this._scheduledTimelines.push(e),this._MaybeEnableRuntimeListeners()}RemovePlayingTimeline(e){dm.arrayFindRemove(this._playingTimelines,e),this._MaybeDisableRuntimeListeners()}ScheduleTimeline(e){this._playingTimelines.includes(e)?(e.SetPlaying(!0),e.SetScheduled(!1),e.SetMarkedForRemoval(!1)):(e.SetPlaying(!1),e.SetScheduled(!0),e.SetMarkedForRemoval(!1),this._scheduledTimelines.includes(e)||this._scheduledTimelines.push(e)),this._MaybeEnableRuntimeListeners()}DeScheduleTimeline(e){e.SetPlaying(!1),e.SetScheduled(!1),e.ResolvePlayPromise(),dm.arrayFindRemove(this._scheduledTimelines,e),this._MaybeDisableRuntimeListeners()}CompleteTimeline(e){e.SetPlaying(!1),e.SetScheduled(!1),this._playingTimelines.includes(e)&&(e.SetMarkedForRemoval(!0),this._markedForRemovalTimelines.push(e),dm.arrayFindRemove(this._playingTimelines,e)),this._scheduledTimelines.includes(e)&&e.SetMarkedForRemoval(!0)}CompleteTimelineBeforeChangeOfLayout(e){e.SetPlaying(!1),e.SetScheduled(!1),e.SetMarkedForRemoval(!1),e.SetPlaybackRate(1),dm.arrayFindRemove(this._playingTimelines,e)}CompleteTimelineAndResolve(e){this.CompleteTimeline(e),e.ResolvePlayPromise()}_OnTick(){const e=this.GetRuntime();if(e.IsLoadingState())return;if(!this._hasRuntimeListeners)return;if(this._changingLayout)return;let t=0;for(e.IsDebug()&&(t=performance.now()),this._isTickingTimelines=!0;this._scheduledTimelines.length;){const e=this._scheduledTimelines.pop();e.IsMarkedForRemoval()?(e.SetInitialStateForce(),this._markedForRemovalTimelines.push(e)):(e.SetInitialState(),this._playingTimelines.push(e)),0!==e.GetRenderChange()&&(this._renderChange=1)}const n=this._runtime._GetDtFast(),s=this._runtime.GetDt1(),r=this._runtime.GetTimeScale();for(let e=this._playingTimelines.length-1;e>=0;e--){const t=this._playingTimelines[e];t&&t.Tick(n,r,s)}this._isTickingTimelines=!1,e.IsDebug()&&globalThis.C3Debugger.AddTweensAndTimelinesTime(performance.now()-t),0!==this._renderChange&&e.UpdateRender()}_OnTick2(){const e=this.GetRuntime();if(e.IsLoadingState())return;if(!this._hasRuntimeListeners)return;if(this._changingLayout)return;let t,n=0;e.IsDebug()&&(n=performance.now());for(let e=0,n=this._markedForRemovalTimelines.length;e<n;e++){const n=this._markedForRemovalTimelines[e];t||(t=new Set),n.Removed(),this._MaybeExecuteTimelineFinishTriggers(n),t.add(n)}if(t){dm.arrayRemoveAllInSet(this._markedForRemovalTimelines,t),this._renderChange=0;for(let e=0,t=this._playingTimelines.length;e<t;e++)if(0!==this._playingTimelines[e].GetRenderChange()){this._renderChange=1;break}}this._MaybeDisableRuntimeListeners(),e.IsDebug()&&globalThis.C3Debugger.AddTweensAndTimelinesTime(performance.now()-n)}_MaybeExecuteTimelineFinishTriggers(e){e.IsReleased()||e.HasValidTracks()&&e.IsComplete()&&e.InitialStateSet()&&e.FinishTriggers()}_MaybeEnableRuntimeListeners(){this._hasRuntimeListeners||(this._hasRuntimeListeners=!0)}_MaybeDisableRuntimeListeners(){this._markedForRemovalTimelines.length||this._playingTimelines.length||this._scheduledTimelines.length||this._isTickingTimelines||(this._hasRuntimeListeners=!1)}_OnBeforeChangeLayout(){for(this._changingLayout=!0;this._scheduledTimelines.length;)this.DeScheduleTimeline(this._scheduledTimelines.pop());const e=new Set;for(const t of this._playingTimelines)t._OnBeforeChangeLayout()&&(t.Removed(),e.add(t));dm.arrayRemoveAllInSet(this._playingTimelines,e),e.clear();for(const t of this._markedForRemovalTimelines)t._OnBeforeChangeLayout()&&(t.Removed(),e.add(t));dm.arrayRemoveAllInSet(this._markedForRemovalTimelines,e),this._MaybeDisableRuntimeListeners();for(const e of this._timelines)e.CleanCaches()}_OnAfterChangeLayout(){this._changingLayout=!1}_OnInstanceDestroy(e){const t=e.GetObjectClass(),n=this.GetTimelinesForObjectClass(t);if(n)if(this._runtime.IsLoadingState())this._destroyedWhileLoadingState.push(e);else for(const e of n)e.IsTemplate()||(e.IsReleased()?this.Remove(e):e.HasValidTracks()||(this._MaybeExecuteTimelineFinishTriggers(e),this.Remove(e)))}_OnBeforeLoad(){for(const e of this._scheduledTimelines.map(e=>e))this._MaybeExecuteTimelineFinishTriggers(e),this.Remove(e);for(const e of this._playingTimelines.map(e=>e))this._MaybeExecuteTimelineFinishTriggers(e),this.Remove(e)}_OnAfterLoad(){for(const e of this._destroyedWhileLoadingState)this._OnInstanceDestroy(e);dm.clearArray(this._destroyedWhileLoadingState);for(const e of this._timelines)e._OnAfterLoad()}_OnAfterLayoutStart(){const e=this._runtime.GetLayoutManager().GetMainRunningLayout();if(e)for(const t of this._timelines){const n=t.GetStartOnLayout();n&&e.GetName()===n&&this.ScheduleTimeline(t)}}_SaveToJson(){return{timelinesJson:this._SaveTimelinesToJson(),scheduledTimelinesJson:this._SaveScheduledTimelinesToJson(),playingTimelinesJson:this._SavePlayingTimelinesToJson(),markedForRemovalTimelinesJson:this._SaveMarkedForRemovalTimelinesToJson(),hasRuntimeListeners:this._hasRuntimeListeners,changingLayout:this._changingLayout,isTickingTimelines:this._isTickingTimelines}}_LoadFromJson(e){e&&(this._ClearCreatedTemplateTimelinesCount(),this._LoadTimelinesFromJson(e.timelinesJson),this._LoadScheduledTimelinesFromJson(e.scheduledTimelinesJson),this._LoadPlayingTimelinesFromJson(e.playingTimelinesJson),this._LoadMarkedForRemovalTimelinesFromJson(e.markedForRemovalTimelinesJson),this._hasRuntimeListeners=!e.hasRuntimeListeners,this._changingLayout=!!e.changingLayout,this._isTickingTimelines=!!e.isTickingTimelines,this._SetCreatedTemplateTimelinesCount(),this._MaybeEnableRuntimeListeners(),this._MaybeDisableRuntimeListeners())}_SaveTimelinesToJson(){return this._timelines.map(e=>e._SaveToJson())}_LoadTimelinesFromJson(e){for(const t of e){let e=this.GetTimelineByName(t.name);if(e)e._LoadFromJson(t);else{const n=this._GetTemplateNameFromJson(t);if(!n)continue;const s=this.GetTimelineByName(n);e=this.CreateFromTemplate(s),e._LoadFromJson(t)}e.HasTracks()||this.Remove(e)}}_GetTemplateNameFromJson(e){const t=e.name.split(":");return t&&2===t.length?t[0]:null}_SaveScheduledTimelinesToJson(){return this._SaveTimelines(this._scheduledTimelines)}_LoadScheduledTimelinesFromJson(e){this._LoadTimelines(e,this._scheduledTimelines)}_SavePlayingTimelinesToJson(){return this._SaveTimelines(this._playingTimelines)}_LoadPlayingTimelinesFromJson(e){this._LoadTimelines(e,this._playingTimelines)}_SaveMarkedForRemovalTimelinesToJson(){return this._SaveTimelines(this._markedForRemovalTimelines)}_LoadMarkedForRemovalTimelinesFromJson(e){this._LoadTimelines(e,this._markedForRemovalTimelines)}_IsTimelineInJson(e,t){if(!t)return!1;for(const n of t)if(n===e.GetName())return!0;return!1}_SaveTimelines(e){return e.map(e=>e.GetName())}_LoadTimelines(e,t){const n=new Set;for(const s of t)this._IsTimelineInJson(s,e)||n.add(s);if(dm.arrayRemoveAllInSet(t,n),e){const n=e=>t=>t.GetName()===e;for(const s of e){const e=this.GetTimelineByName(s);e&&(t.find(n(s))||t.push(e))}}}}}{const um=self.C3,hm=100,_m=.01,Gm=25,pm=20,mm=5,gm=[0,0],fm=[0,0],Nm=[0,0],bm=[0,0,0,0,0],Sm=new Array(4),xm=[{x:0,y:0,t:0,distance:0},{x:0,y:0,t:0,distance:0},{x:0,y:0,t:0,distance:0}],Im={x:0,y:0,t:0,distance:0};um.TimelineInfo=class{constructor(e,t){this._initialized=!1,this._timeline=e,this._segments=[];let n=null;if(n=t?this._timeline.GetTrackById(t):um.first(this._timeline.GetTracks()),!n)return;const s=n.GetPropertyTrack("offsetX"),r=n.GetPropertyTrack("offsetY");if(!s||!r)return;this._xTrack=s,this._yTrack=r;const o=s.GetPropertyKeyframeDataItemArrayIncludingDisabled(),a=r.GetPropertyKeyframeDataItemArrayIncludingDisabled();for(let e=1,t=Math.min(o.length,a.length);e<t;++e){const t=o[e],n=(t.GetNext(),t.GetPrevious()),s=a[e],r=(s.GetNext(),s.GetPrevious());n&&"cubic-bezier"===n.GetPathMode()&&r&&"cubic-bezier"===r.GetPathMode()?this._segments.push(um.New(um.TimelineCubicBezierSegmentInfo,n,r,t,s,this._segments.length)):(n&&"line"===n.GetPathMode()&&r&&r.GetPathMode(),this._segments.push(um.New(um.TimelineLineSegmentInfo,t,s,this._segments.length)))}this._initialized=!0}Release(){for(const e of this._segments)e.Release();um.clearArray(this._segments),this._segments=null,this._timeline=null,this._xTrack=null,this._yTrack=null}WasInitialized(){return this._initialized}segments(){return this._segments}SetOrigin(e){const t="relative"===this._xTrack.GetResultMode()?e.GetX():0,n="relative"===this._yTrack.GetResultMode()?e.GetY():0;for(const e of this._segments)e.SetOrigin(t,n)}Project(e,t,n){let s=NaN,r=this._segments.length;for(let n=0;n<r;n++){const r=this._segments[n];if("cubic-bezier"===r.GetType()){const n=r.Project(e,t);(isNaN(s)||n[3]<s)&&(s=n[3],Nm[0]=n[2],Nm[1]=r.GetIndex())}}return Nm}ProjectWithOptions(e,t,n){const s=n.tRange;um.IsFiniteNumber(s[0])||(s[0]=0),um.IsFiniteNumber(s[1])||(s[1]=1);let r=NaN,o=this._segments.length;for(let n=0;n<o;n++){const o=this._segments[n];if("cubic-bezier"===o.GetType()){const n=o.ProjectWithRange(e,t,s);(isNaN(r)||n[3]<r)&&(r=n[3],Nm[0]=n[2],Nm[1]=o.GetIndex())}}return Nm}Tangent(e,t){return this._segments[t].Tangent(e)}TangentAngle(e,t){return this._segments[t].TangentAngle(e)}},um.TimelineCubicBezierSegmentInfo=class{constructor(e,t,n,s,r){this._index=r;const o=e.GetAddOn("cubic-bezier"),a=n.GetAddOn("cubic-bezier"),i=t.GetAddOn("cubic-bezier"),l=s.GetAddOn("cubic-bezier");this._aX=e.GetValueWithResultMode(),this._aY=t.GetValueWithResultMode(),this._bX=e.GetValueWithResultMode()+o.GetStartAnchor(),this._bY=t.GetValueWithResultMode()+i.GetStartAnchor(),this._cX=n.GetValueWithResultMode()+a.GetEndAnchor(),this._cY=s.GetValueWithResultMode()+l.GetEndAnchor(),this._dX=n.GetValueWithResultMode(),this._dY=s.GetValueWithResultMode(),this._aXO=0,this._aYO=0,this._bXO=0,this._bYO=0,this._cXO=0,this._cYO=0,this._dXO=0,this._dYO=0,this._d0x=0,this._d0y=0,this._d1x=0,this._d1y=0,this._d2x=0,this._d2y=0,this._x1Factor=0,this._x2Factor=0,this._x3Factor=0,this._y1Factor=0,this._y2Factor=0,this._y3Factor=0,this._lutIndex=NaN,this._initialized=!1,this._len=100,this._arcLengths=new Array(this._len+1),this._arcLengths[0]=0,this._length=0,this._lut=[],this._lutObjects=[];for(let e=0;e<100;e++)this._lutObjects.push({x:0,y:0,t:0,distance:0});this._CalculateLength()}Release(){um.clearArray(this._arcLengths),this._arcLengths=null,um.clearArray(this._lut),this._lut=null,um.clearArray(this._lutObjects),this._lutObjects=null}GetType(){return"cubic-bezier"}GetIndex(){return this._index}GetStepCount(){return Math.floor(this._length/25)}GetStepIncrement(){return 1/this.GetStepCount()}SetOrigin(e,t){this._originX=e,this._originY=t,this._arcLengths=new Array(this._len+1),this._arcLengths[0]=0,this._CalculateLength(),this._aXO=this._aX+this._originX,this._aYO=this._aY+this._originY,this._bXO=this._bX+this._originX,this._bYO=this._bY+this._originY,this._cXO=this._cX+this._originX,this._cYO=this._cY+this._originY,this._dXO=this._dX+this._originX,this._dYO=this._dY+this._originY,this._d0x=3*(this._bXO-this._aXO),this._d0y=3*(this._bYO-this._aYO),this._d1x=3*(this._cXO-this._bXO),this._d1y=3*(this._cYO-this._bYO),this._d2x=3*(this._dXO-this._cXO),this._d2y=3*(this._dYO-this._cYO),this._x1Factor=3*(this._bXO-this._aXO),this._x2Factor=3*(this._aXO+this._cXO-2*this._bXO),this._x3Factor=this._dXO-this._aXO+3*(this._bXO-this._cXO),this._y1Factor=3*(this._bYO-this._aYO),this._y2Factor=3*(this._aYO+this._cYO-2*this._bYO),this._y3Factor=this._dYO-this._aYO+3*(this._bYO-this._cYO)}Map(e){if(!this._initialized)return NaN;const t=this._Map(e);return fm[0]=this._X(t),fm[1]=this._Y(t),fm}Project(e,t){const n=this._GenerateLUT(100),s=this._FindClosestFromLUT(e,t,n),r=this._RefineProjection(e,t,n,s);return bm[0]=r.x,bm[1]=r.y,bm[2]=r.t,bm[3]=r.distance,bm}ProjectWithRange(e,t,n){const s=this._GenerateLUT(100),r=this._FindClosestFromLUTWithRange(e,t,s,n),o=this._RefineProjection(e,t,s,r);return bm[0]=o.x,bm[1]=o.y,bm[2]=o.t,bm[3]=o.distance,bm}Tangent(e){const t=1-e,n=t*t,s=2*t*e,r=e*e,o=n*this._d0x+s*this._d1x+r*this._d2x,a=n*this._d0y+s*this._d1y+r*this._d2y,i=um.hypot2DFast(o,a);return gm[0]=o/i,gm[1]=a/i,gm}TangentAngle(e){const t=1-e,n=t*t,s=2*t*e,r=e*e,o=n*this._d0x+s*this._d1x+r*this._d2x,a=n*this._d0y+s*this._d1y+r*this._d2y;return Math.atan2(a,o)}_Map(e){if(!this._initialized)return;let t=e*this._arcLengths[this._len],n=0,s=this._len,r=0;for(;n<s;)r=n+((s-n)/2|0),this._arcLengths[r]<t?n=r+1:s=r;this._arcLengths[r]>t&&r--;const o=this._arcLengths[r];return o===t?r/this._len:(r+(t-o)/(this._arcLengths[r+1]-o))/this._len}_X(e){return this._initialized?self.Ease.GetRuntimeEase("cubicbezier")(e,this._aX+this._originX,this._bX+this._originX,this._cX+this._originX,this._dX+this._originX):NaN}_Y(e){return this._initialized?self.Ease.GetRuntimeEase("cubicbezier")(e,this._aY+this._originY,this._bY+this._originY,this._cY+this._originY,this._dY+this._originY):NaN}_GenerateLUT(e){if(e=e||100,this._lut.length>=e)return this._lut;this._lut=new Array(e),e++;for(let t=0;t<e-1;t++){const n=t/(e-1),s=n**2,r=n**3,o=this._x1Factor*n,a=this._x2Factor*s,i=this._x3Factor*r,l=this._y1Factor*n,d=this._y2Factor*s,c=this._y3Factor*r,u=this._aXO+o+a+i,h=this._aYO+l+d+c;this._lutObjects[t].x=u,this._lutObjects[t].y=h,this._lutObjects[t].t=n,this._lutObjects[t].distance=0,this._lut[t]=this._lutObjects[t]}return this._lut}_FindClosestFromLUT(e,t,n,s=null,r=Number.MAX_SAFE_INTEGER){let o=0;if(isNaN(this._lutIndex))for(let s=0;s<100;s++){const a=n[s],i=a.x-e,l=a.y-t;a.distance=i*i+l*l,a.distance<r&&(r=a.distance,o=s)}else{for(let s=this._lutIndex;s<this._lutIndex+5&&!(s>=n.length);s++){const a=n[s],i=a.x-e,l=a.y-t;a.distance=i*i+l*l,a.distance<r&&(r=a.distance,o=s)}for(let s=this._lutIndex;s>this._lutIndex-5&&!(s<0);s--){const a=n[s],i=a.x-e,l=a.y-t;a.distance=i*i+l*l,a.distance<r&&(r=a.distance,o=s)}}return this._lutIndex=o,o}_FindClosestFromLUTWithRange(e,t,n,s,r=Number.MAX_SAFE_INTEGER){let o=0;if(isNaN(this._lutIndex))for(let a=0;a<100;a++){const i=n[a],l=i.x-e,d=i.y-t;i.distance=l*l+d*d,i.t>=s[0]&&i.t<=s[1]&&i.distance<r&&(r=i.distance,o=a)}else{for(let a=this._lutIndex;a<this._lutIndex+5&&!(a>=n.length);a++){const i=n[a],l=i.x-e,d=i.y-t;i.distance=l*l+d*d,i.t>=s[0]&&i.t<=s[1]&&i.distance<r&&(r=i.distance,o=a)}for(let a=this._lutIndex;a>this._lutIndex-5&&!(a<0);a--){const i=n[a],l=i.x-e,d=i.y-t;i.distance=l*l+d*d,i.t>=s[0]&&i.t<=s[1]&&i.distance<r&&(r=i.distance,o=a)}}return this._lutIndex=o,o}_RefineProjection(e,t,n,s){let r=n[s],o=1,a=Number.MAX_SAFE_INTEGER;e:do{const o=n.length;let i=0===s?0:s-1,l=s===o-1?o-1:s+1,d=n[i].t,c=(n[l].t-d)/4;if(c<.001)break;Sm[0]=n[i];for(let n=1;n<=2;n++){const o=d+n*c,i=o**2,l=o**3,u=this._x1Factor*o,h=this._x2Factor*i,_=this._x3Factor*l,G=this._y1Factor*o,p=this._y2Factor*i,m=this._y3Factor*l,g=this._aXO+u+h+_,f=this._aYO+G+p+m,N=g-e,b=f-t,S=N*N+b*b;if(S<a){a=S,s=n,Im.x=g,Im.y=f,Im.t=o,Im.distance=S,r=Im;break e}const x=xm[n-1];x.x=g,x.y=f,x.t=o,x.distance=S,Sm[n]=x}Sm[3]=n[l],n=Sm}while(o++<20);return r}_CalculateLength(){this._initialized=!0;let e=this._X(0),t=this._Y(0),n=0;for(let s=1;s<=this._len;s++){const r=this._X(.01*s),o=this._Y(.01*s),a=e-r,i=t-o;n+=um.hypot2DFast(a,i),this._arcLengths[s]=n,e=r,t=o}this._length=n}},um.TimelineLineSegmentInfo=class{constructor(e,t,n){this._index=n,this._targetX=e.GetValueWithResultMode(),this._targetY=t.GetValueWithResultMode(),this._originX=0,this._originY=0}Release(){}GetType(){return"line"}GetIndex(){return this._index}SetOrigin(e,t){this._originX=e,this._originY=t}GetX(){return this._targetX+this._originX}GetY(){return this._targetY+this._originY}}}{const ym=self.C3,Em=0,Tm=1;ym.TimelineState=class extends ym.DefendedBase{constructor(e,t,n){super(),this._runtime=n.GetRuntime(),this._timelineManager=n,this._timelineDataItem=t,this._name=e,this._tracks=[],this._tracksLength=0,this._beforeAndAfterTracks=null,this._beforeAndAfterTracksLength=0,this.CreateTrackStates(),this._playPromise=null,this._playResolve=null,this._playheadTime=0,this._overshoot=0,this._playbackRate=1,this._pingPongState=0,this._resumePingPongState=-1,this._currentRepeatCount=1,this._isPlaying=!1,this._isScheduled=!1,this._initialStateSet=!1,this._complete=!0,this._released=!1,this._markedForRemoval=!1,this._completedTick=-1,this._implicitPause=!1,this._isTemplate=!1,this._finishedTriggers=!1,this._firstTick=!1,this._lastDelta=NaN,this._tags=[""],this._stringTags="",this._tagsChanged=!1,this._renderChange=0,this._hasNestedContent=0,this._stoppedKeyframeDataItem=null,this._iTimelineState=null}static CreateInitial(e,t){const n=t.GetTimelineDataManager(),s=n.GetNameId(),r=n.Get(e[s]),o=ym.New(ym.TimelineState,e[s],r,t);return o.SetIsTemplate(!0),o}static CreateFromTemplate(e,t,n){return ym.New(ym.TimelineState,e,t,n)}Release(){if(this.IsReleased())return;const e=this._runtime.Dispatcher();this._timelineManager.DeScheduleTimeline(this),this._timelineManager.CompleteTimelineAndResolve(this);for(const e of this._tracks)e.Release();ym.clearArray(this._tracks),this._tracks=null,this._runtime=null,this._timelineManager=null,this._timelineDataItem=null,this._released=!0,this._playPromise=null,this._playResolve=null,this.FireReleaseEvent(e)}FireReleaseEvent(e){const t=ym.New(ym.Event,"timelinestatereleased");t.timelineState=this,e.dispatchEvent(t)}GetType(){return 0}CreateTrackStates(){for(const e of this._timelineDataItem.GetTrackData().trackDataItems())this._tracksLength=this._tracks.push(ym.TrackState.Create(this,e))}GetTimelineManager(){return this._timelineManager}GetRuntime(){return this._runtime}GetTracks(){return this._tracks}GetSimilarPropertyTracks(e,t,n,s){if(!this._hasNestedContent)return;let r;for(let o=0;o<this._tracks.length;o++){let a=this._tracks[o];if(e!==a.GetInstance())continue;const i=a.GetPropertyTrack(n);i&&t.constructor===i.GetSourceAdapter().constructor&&i.GetResultMode()===s.GetResultMode()&&(r||(r=[]),r.push(i))}return r}HasTracks(){return!!this._tracks.length}GetTrackById(e){for(const t of this._tracks)if(ym.equalsNoCase(t.GetId(),e))return t;return null}GetTrackByName(e){for(const t of this._tracks)if(!t.IsInstanceTrack()&&ym.equalsNoCase(t.GetName(),e))return t;return null}SetName(e){this._name=e}GetName(){return this._name}GetTimelineDataItem(){return this._timelineDataItem}GetTemplateName(){return this._timelineDataItem.GetName()}GetTotalTime(){return this._timelineDataItem.GetTotalTime()}SetTotalTime(e){this._timelineDataItem.SetTotalTime(e)}GetStep(){return this._timelineDataItem.GetStep()}SetStep(e){this._timelineDataItem.SetStep(e)}GetInterpolationMode(){return this._timelineDataItem.GetInterpolationMode()}SetInterpolationMode(e){this._timelineDataItem.SetInterpolationMode(e)}GetResultMode(){return this._timelineDataItem.GetResultMode()}SetResultMode(e){this._timelineDataItem.GetResultMode(e)}SetEase(e){for(const t of this.GetTracks())t.SetEase(e)}GetLoop(){return this._timelineDataItem.GetLoop()}SetLoop(e){return this._timelineDataItem.SetLoop(e)}GetPingPong(){return this._timelineDataItem.GetPingPong()}SetPingPong(e){return this._timelineDataItem.SetPingPong(e)}GetRepeatCount(){return this._timelineDataItem.GetRepeatCount()}SetRepeatCount(e){return this._timelineDataItem.SetRepeatCount(e)}SetPlaybackRate(e){return this._playbackRate=e}GetPlaybackRate(){return this._playbackRate}GetStartOnLayout(){return this._timelineDataItem.GetStartOnLayout()}GetTransformWithSceneGraph(){return this._timelineDataItem.GetTransformWithSceneGraph()}GetUseSystemTimescale(){return this._timelineDataItem.GetUseSystemTimescale()}GetPingPongState(){return this._pingPongState}IsForwardPlayBack(){return!this.IsPlaying()||this._playbackRate>0}GetPlayPromise(){return this._playPromise||(this._playPromise=new Promise(e=>{this._playResolve=e})),this._playPromise}ResolvePlayPromise(){this._playPromise&&(this._playResolve(),this._playPromise=null,this._playResolve=null)}SetTags(e){this._tags=ym.TimelineState._GetTagArray(e),this._tagsChanged=!0}GetTags(){return this._tags}GetStringTags(){return this._tagsChanged&&(this._stringTags=this._tags.join(" ")),this._tagsChanged=!1,this._stringTags}HasTags(e){if(!this._tags)return!1;if(!this._tags.length)return!1;const t=ym.TimelineState._GetTagArray(e);return!!t&&!!t.length&&t.every(ym.TimelineState._HasTag,this)}OnStarted(){ym.Plugins.Timeline&&this.constructor===ym.TimelineState&&(ym.Plugins.Timeline.Cnds.PushTriggerTimeline(this),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnTimelineStarted),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnTimelineStartedByName),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnTimelineStartedByTags),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnAnyTimelineStarted),ym.Plugins.Timeline.Cnds.PopTriggerTimeline())}OnCompleted(){this._completedTick=this._runtime.GetTickCount()}FinishTriggers(){this._finishedTriggers||(this._finishedTriggers=!0,ym.Plugins.Timeline&&this.constructor===ym.TimelineState&&(ym.Plugins.Timeline.Cnds.PushTriggerTimeline(this),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnTimelineFinished),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnTimelineFinishedByName),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnTimelineFinishedByTags),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnAnyTimelineFinished),ym.Plugins.Timeline.Cnds.PopTriggerTimeline()))}SetPlaying(e){this._isPlaying=e}IsCompletedTick(){return this._completedTick===this._runtime.GetTickCount()}IsPlaying(e=!1){return!!this.IsCompletedTick()||!(!this.IsScheduled()||e)||this._isPlaying}_IsPlaying(){return this.IsPlaying(!0)}IsPaused(){return this._IsPaused()}_IsPaused(){return!(this.IsReleased()||this.IsScheduled()||this._IsPlaying()||this.IsComplete())}SetScheduled(e){this._isScheduled=e}IsScheduled(){return this._isScheduled}SetComplete(e){this._complete=e;const t=this.GetLoop(),n=this.GetPingPong();if(t||n){if(t&&!n);else if(!t&&n){const e=this.GetTime();1===this._pingPongState&&(e<=0||e>=this.GetTotalTime())&&(this._complete=!0)}}else{const e=this.GetTime();(e<=0||e>=this.GetTotalTime())&&(this._complete=!0)}}IsComplete(){return this._complete}IsReleased(){return this._released}SetMarkedForRemoval(e){this._markedForRemoval=e}IsMarkedForRemoval(){return this._markedForRemoval}SetImplicitPause(e){this._implicitPause=e}IsImplicitPause(){return this._implicitPause}SetIsTemplate(e){this._isTemplate=!!e}IsTemplate(){return this._isTemplate}InitialStateSet(){return this._initialStateSet}GetTime(){return this._playheadTime}SetTime(e){const t=this.GetTime();this._SetTime(e),this.SetComplete(!1),this.IsComplete()||this.SetImplicitPause(!0),(this._IsPlaying()||this.IsScheduled()||!this._initialStateSet)&&(this._IsPlaying()||this.IsScheduled()||this._initialStateSet?this._IsPlaying()?this.Stop():this.IsScheduled()&&(this._timelineManager.DeScheduleTimeline(this),this.SetInitialStateFromSetTime()):this.SetInitialStateFromSetTime()),this._SetUpdateStateBefore(),this._Interpolate(this.GetTime(),!1,!0,!0,t),this._SetUpdateStateAfter(),this._renderChange&&this.GetRuntime().UpdateRender(),this._OnSetTime()}_SetTime(e){ym.IsFiniteNumber(e)||(e=this.GetTotalTime()),e<0?this._playheadTime=0:e>=this.GetTotalTime()?this._playheadTime=this.GetTotalTime():this._playheadTime=e}_SetTimeAndReset(e){ym.IsFiniteNumber(e)||(e=this.GetTotalTime()),e<0?this._playheadTime=0:e>=this.GetTotalTime()?this._playheadTime=this.GetTotalTime():this._playheadTime=e;for(const e of this._tracks)e.SetResetState()}_OnSetTime(){ym.Plugins.Timeline&&this.constructor===ym.TimelineState&&(ym.Plugins.Timeline.Cnds.PushTriggerTimeline(this),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnTimeSet),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnTimeSetByName),this._timelineManager.Trigger(ym.Plugins.Timeline.Cnds.OnTimeSetByTags),ym.Plugins.Timeline.Cnds.PopTriggerTimeline())}_CanResume(){if(this.GetLoop())return!0;if(this.GetPingPong()&&1===this._pingPongState){if(this.IsForwardPlayBack()){if(this.GetTime()>=this.GetTotalTime())return!1}else if(this.GetTime()<=0)return!1}else if(!this.GetLoop()&&!this.GetPingPong())if(this.IsForwardPlayBack()){if(this.GetTime()>=this.GetTotalTime())return!1}else if(this.GetTime()<=0)return!1;return!0}Resume(){this.IsReleased()||this._CanResume()&&this.Play(!0)}Play(e=!1){return!this.IsReleased()&&!this.IsScheduled()&&(this._IsPlaying()&&this.IsCompletedTick()?this._SchedulePlayingTimeline():!this._IsPlaying()&&!!(this.IsComplete()||e||this.IsImplicitPause())&&this._ScheduleStoppedTimeline())}_SchedulePlayingTimeline(){return this.SetImplicitPause(!1),this._timelineManager.RemovePlayingTimeline(this),this._timelineManager.ScheduleTimeline(this),this.GetPlayPromise(),!0}_ScheduleStoppedTimeline(){return this.SetImplicitPause(!1),this._timelineManager.ScheduleTimeline(this),this.GetPlayPromise(),!0}Stop(e=!1){this.IsReleased()||(this.SetComplete(e),this._timelineManager.CompleteTimeline(this),this.IsComplete()&&this.ResolvePlayPromise())}Reset(e=!0,t=!1){if(this.IsReleased())return;if(!this._IsPlaying()&&this.IsScheduled())return this._timelineManager.DeScheduleTimeline(this);if(this.IsComplete())return;this.Stop(!0),this.IsForwardPlayBack()?this._SetTime(0):this._SetTime(this.GetTotalTime());const n=this.GetTime();this._SetUpdateStateBefore(),t?this._InterpolateBeforeChangeLayout(n):this._Interpolate(n,!1,!1,!0),e&&this._OnSetTime(),this._SetUpdateStateAfter(),this._renderChange&&e&&this.GetRuntime().UpdateRender()}ResetBeforeChangeLayout(){this.Reset(!1,!0)}_InterpolateBeforeChangeLayout(e){this._Interpolate(e,!1,!1,!0,NaN,!1,!0)}_OnBeforeChangeLayout(){return!!this.IsReleased()||!(!this.GetRuntime().IsLoadingState()&&this.HasValidGlobalTracks())&&(this._timelineManager.CompleteTimelineBeforeChangeOfLayout(this),this.GetRuntime().IsLoadingState()||this.ResetBeforeChangeLayout(),!0)}SetInitialStateFromSetTime(){this.SetInitialState(!0)}SetInitialStateForce(){this.SetInitialState(!1,!0),this.SetPlaying(!1),this.SetScheduled(!1)}SetInitialState(e=!1,t=!1){if(!this.IsMarkedForRemoval()||t)if(e){this._finishedTriggers=!1,this._initialStateSet=!0,this._firstTick=!0,this._SetUpdateStateBefore();for(const e of this._tracks)e.SetInitialState();this._SetUpdateStateAfter()}else if(this.SetPlaying(!0),this.SetScheduled(!1),this.OnStarted(),this.IsComplete()){this._completedTick=-1,0!==this._pingPongState&&(this._playbackRate=Math.abs(this._playbackRate)),this._pingPongState=0,this._resumePingPongState=-1,this._currentRepeatCount=1,this._complete=!1,this._finishedTriggers=!1,this._initialStateSet=!0,this._firstTick=!0,this.IsForwardPlayBack()?this._SetTime(0):this._SetTime(this.GetTotalTime()),this._SetUpdateStateBefore();for(const e of this._tracks)e.SetInitialState();this._SetUpdateStateAfter()}else{-1!==this._resumePingPongState&&(this._pingPongState=this._resumePingPongState),this._firstTick=!0,this._finishedTriggers=!1,this._SetUpdateStateBefore();for(const e of this._tracks)e.SetResumeState();this._SetUpdateStateAfter()}}GetRenderChange(){return this._renderChange}_SetUpdateStateBefore(){this._hasNestedContent=0;for(const e of this._tracks)e.IsNested()&&(this._hasNestedContent=1)}_SetUpdateStateAfter(){this._renderChange=0;for(const e of this._tracks)e._SetUpdateState(),0===this._renderChange&&1===e.GetRenderChange()&&(this._renderChange=1),this._beforeAndAfterTracks||1!==e.GetNeedsBeforeAndAfter()||(this._beforeAndAfterTracks||(this._beforeAndAfterTracks=[]),this._beforeAndAfterTracksLength=this._beforeAndAfterTracks.push(e))}Tick(e,t,n){if(this.GetUseSystemTimescale()){if(0===e&&0===this._lastDelta)return;this._lastDelta=e,e=n}else{if(0===n&&0===this._lastDelta)return;this._lastDelta=n,e=n,t=1}const s=this._playheadTime+this._overshoot,r=s+e*t*this._playbackRate,o=this._timelineDataItem._totalTime;r<0?(this._playheadTime=0,this._overshoot=-r):r>=o?(this._playheadTime=o,this._overshoot=this._playheadTime-r):(this._playheadTime=r,this._overshoot=0);let a=!1,i=!1;const l=this.GetLoop(),d=this.GetPingPong();let c;l||d?l&&!d?this._playbackRate>0?this._playheadTime>=o&&(this._SetTimeAndReset(0),i=!0):this._playheadTime<=0&&(this._SetTimeAndReset(o),i=!0):!l&&d?this._playbackRate>0?this._playheadTime>=o&&(this._SetTime(o),this.SetPlaybackRate(-1*this.GetPlaybackRate()),i=!0,1===this._pingPongState?this._currentRepeatCount<this.GetRepeatCount()?(this._currentRepeatCount++,this._pingPongState=0):a=!0:0===this._pingPongState&&(this._pingPongState=1)):this._playheadTime<=0&&(this._SetTime(0),this.SetPlaybackRate(-1*this.GetPlaybackRate()),i=!0,1===this._pingPongState?this._currentRepeatCount<this.GetRepeatCount()?(this._currentRepeatCount++,this._pingPongState=0):a=!0:0===this._pingPongState&&(this._pingPongState=1)):l&&d&&(this._playbackRate>0?this._playheadTime>=o&&(this._SetTime(o),this.SetPlaybackRate(-1*this.GetPlaybackRate()),i=!0,this._pingPongState++,ym.wrap(this._pingPongState,0,2)):this._playheadTime<=0&&(this._SetTime(0),this.SetPlaybackRate(-1*this.GetPlaybackRate()),i=!0,this._pingPongState++,ym.wrap(this._pingPongState,0,2))):this._playbackRate>0?this._playheadTime>=o&&(this._currentRepeatCount<this.GetRepeatCount()?(this._currentRepeatCount++,this._SetTimeAndReset(0),i=!0):(this._SetTime(o),a=!0)):this._playheadTime<=0&&(this._currentRepeatCount<this.GetRepeatCount()?(this._currentRepeatCount++,this._SetTimeAndReset(o),i=!0):(this._SetTime(0),a=!0));const u=this._tracksLength;if(a){for(c=0;c<u;c++)this._tracks[c].SetEndState();return this.Stop(!0),void this.OnCompleted()}const h=this._beforeAndAfterTracksLength;for(c=0;c<h;c++)this._beforeAndAfterTracks[c].BeforeInterpolate();if(1===this._hasNestedContent)for(c=0;c<u;c++){const e=this._tracks[c],t=e.GetStartOffset();this._playheadTime-t<0&&s-t>0?(this._playheadTime=t<0?0:t>=o?o:t,e.Interpolate(t,!0,!1,i,this._firstTick,!1)):e.Interpolate(this._playheadTime,!0,!1,i,this._firstTick,!1)}else for(c=0;c<u;c++)this._tracks[c].Interpolate(this._playheadTime,!0,!1,i,this._firstTick,!1);if(!this.IsPlaying()&&this._stoppedKeyframeDataItem){const e=this._stoppedKeyframeDataItem.GetTime()+this._stoppedKeyframeDataItem.GetKeyframeData().GetTrackDataItem().GetStartOffset(),t=this._playheadTime-e;this._playheadTime-=t,0!==this._overshoot&&(this._overshoot-=t),this._stoppedKeyframeDataItem=null}for(c=0;c<h;c++)this._beforeAndAfterTracks[c].AfterInterpolate();this._firstTick&&(this._firstTick=!1)}SetStoppedOnKeyframe(e){this._stoppedKeyframeDataItem=e}GetStoppedOnKeyframe(){return this._stoppedKeyframeDataItem}_Interpolate(e,t=!1,n=!1,s=!1,r=NaN,o=!1,a=!1){for(const e of this._tracks)e.BeforeInterpolate();for(const o of this._tracks){let i=e;if("number"==typeof r&&!isNaN(r)){const e=this.GetTime()-o.GetStartOffset(),t=r-o.GetStartOffset();e<0&&t>0&&(i=o.GetStartOffset(),this._SetTime(i))}o.Interpolate(i,t,n,s,this._firstTick,a)}for(const e of this._tracks)e.AfterInterpolate();this._firstTick&&o&&(this._firstTick=!1)}AddTrack(){const e=this._timelineDataItem.GetTrackData().AddEmptyTrackDataItem(),t=ym.TrackState.Create(this,e);return this._tracksLength=this._tracks.push(t),t}Removed(){if(!this.IsReleased())for(const e of this._tracks)e.TimelineRemoved()}CleanCaches(){for(const e of this._tracks)e.CleanCaches()}ClearTrackInstances(){for(const e of this._tracks)e.ClearInstance()}SetTrackInstance(e,t,n){if(t){if("number"==typeof n&&n>=0){const e=this._tracks[n];if(!e)return;return e.SetInstance(t),void this._timelineManager.SetTimelineObjectClassToMap(t.GetObjectClass(),this)}for(const n of this._tracks)if(n.IsInstanceTrack()){if(e){if(n.GetId()!==e)continue;n.SetInstance(t),this._timelineManager.SetTimelineObjectClassToMap(t.GetObjectClass(),this);break}if(!n.HasInstance()){n.SetInstance(t),this._timelineManager.SetTimelineObjectClassToMap(t.GetObjectClass(),this);break}}}}HasTrackInstance(e,t){for(const n of this._tracks)if(n.IsInstanceTrack())if(t){if(t===n.GetId()&&e===n.GetInstance())return!0}else if(e===n.GetInstance())return!0;return!1}HasValidTracks(){return this._tracks.some(e=>!e.IsInstanceTrack()||e.CanInstanceBeValid())}HasValidGlobalTracks(){return this._tracks.some(e=>{if(e.IsInstanceTrack()){if(!e.CanInstanceBeValid())return!1;const t=e.GetObjectClass();return!!t&&t.IsGlobal()}return!1})}GetPropertyTrack(e){for(const t of this.GetTracks())for(const n of t.GetPropertyTracks())if(n.GetPropertyName()===e)return n}GetTrackFromInstance(e){for(const t of this._tracks)if(e===t.GetInstance())return t;return null}GetKeyframeWithTags(e){let t=e?e.split(" "):[];const n=new Set(t.map(e=>e.toLowerCase().trim()));t=[...n.values()];for(const e of this.GetTracks())for(const n of e.GetKeyframeDataItems())if(t.every(e=>n.HasTag(e)))return n}GetObjectClasses(){const e=[];for(const t of this.GetTracks())e.push(t.GetObjectClass());return e.filter(e=>e)}_OnAfterLoad(){for(const e of this.GetTracks())e._OnAfterLoad()}_SaveToJson(){return{tracksJson:this._SaveTracksToJson(),name:this._name,playheadTime:this.GetTime(),playbackRate:this._playbackRate,pingPongState:this._pingPongState,resumePingPongState:this._resumePingPongState,currentRepeatCount:this._currentRepeatCount,isPlaying:this._isPlaying,isScheduled:this._isScheduled,initialStateSet:this._initialStateSet,finishedTriggers:this._finishedTriggers,complete:this._complete,released:this._released,markedForRemoval:this._markedForRemoval,completedTick:this._completedTick,implicitPause:this._implicitPause,isTemplate:this._isTemplate,tags:this._tags.join(" "),stringTags:this._stringTags,tagsChanged:this._tagsChanged,firstTick:this._firstTick}}_LoadFromJson(e){e&&(this._LoadTracksFromJson(e.tracksJson),this._name=e.name,this._playheadTime=e.playheadTime,this._playbackRate=e.playbackRate,this._pingPongState=e.pingPongState,this._resumePingPongState=e.hasOwnProperty("resumePingPongState")?e.resumePingPongState:-1,this._currentRepeatCount=e.currentRepeatCount,this._isPlaying=!!e.isPlaying,this._isScheduled=!!e.isScheduled,this._initialStateSet=!!e.initialStateSet,this._finishedTriggers=!!e.hasOwnProperty("finishedTriggers")&&!!e.finishedTriggers,this._complete=!!e.complete,this._released=!!e.released,this._markedForRemoval=!!e.markedForRemoval,this._completedTick=e.completedTick,this._implicitPause=!!e.implicitPause,this._isTemplate=!!e.isTemplate,this._tags=e.tags.split(" "),this._stringTags=e.stringTags,this._tagsChanged=!!e.tagsChanged,this._firstTick=!!e.firstTick)}_SaveTracksToJson(){return this._tracks.map(e=>e._SaveToJson())}_LoadTracksFromJson(e){this.ClearTrackInstances(),e.forEach((e,t)=>{this._tracks[t]._LoadFromJson(e)}),this._tracks.filter(e=>e.CanInstanceBeValid())}static _HasTag(e){const t=this.GetTags();return""===e?1===t.length&&""===t[0]:t.map(e=>e.toLowerCase()).includes(e.toLowerCase())}static _GetTagArray(e){if(ym.IsArray(e))return e.slice(0);if(ym.IsString(e))return e.split(" ");throw new Error("invalid tags")}GetITimelineState(){return this._iTimelineState||(this._iTimelineState=ym.New(self.ITimelineState,this)),this._iTimelineState}}}{const Cm=self.C3,Mm=0,Vm=1,Bm=2;Cm.TrackState=class extends Cm.DefendedBase{constructor(e,t){super(),this._timeline=e,this._trackDataItem=t,this._trackData=t.GetTrackData(),this._instanceUid=NaN,this._objectClassIndex=NaN,this._instance=null,this._worldInfo=null,this._cleared=!1,this._isNested=t.GetStartOffset()>0,this._initialStateOfNestedSet=!1,this._endStateOfNestedSet=!1,this._instanceUidToLoad=NaN,this._lastKeyframeDataItem=null,this._keyframeDataItems=this._trackDataItem.GetKeyframeData().GetKeyframeDataItemArray(),this._propertyTracks=[],this.CreatePropertyTrackStates(),this._worldInfoChange=0,this._renderChange=0,this._needsBeforeAndAfter=0}static Create(e,t){return Cm.New(Cm.TrackState,e,t)}Release(){this._keyframeDataItems=null;for(const e of this._propertyTracks)e.Release();Cm.clearArray(this._propertyTracks),this._propertyTracks=null,this._timeline=null,this._instance=null,this._worldInfo=null,this._trackDataItem=null,this._lastKeyframeDataItem=null}CreatePropertyTrackStates(){for(const e of this._trackDataItem.GetPropertyTrackData().propertyTrackDataItems())this._propertyTracks.push(Cm.PropertyTrackState.Create(this,e))}TimelineRemoved(){for(const e of this._propertyTracks)e.TimelineRemoved()}CleanCaches(){for(const e of this._propertyTracks)e.CleanCaches();this._instance=null,this._worldInfo=null}GetTimeline(){return this._timeline}GetRuntime(){return this._timeline.GetRuntime()}GetKeyframeDataItems(){return this._keyframeDataItems||(this._keyframeDataItems=this._trackDataItem.GetKeyframeData().GetKeyframeDataItemArray()),this._keyframeDataItems}GetPropertyTracks(){return this._propertyTracks}GetPropertyTrack(e){for(let t=0;t<this._propertyTracks.length;t++){const n=this._propertyTracks[t];if(n.GetPropertyName()===e)return n}}MaybeGetInstance(){this._instance||this.GetInstance()}IsInstanceValid(){return!!this._instance&&!this._instance.IsDestroyed()}CanInstanceBeValid(){if(!this.IsInstanceTrack())return!1;const e=this.GetInstanceUID(),t=this.GetRuntime().GetInstanceByUID(e);return!!t&&!t.IsDestroyed()}GetObjectClass(){if(!this.IsInstanceTrack())return;const e=this.GetObjectClassIndex();return-1!==e?this.GetRuntime().GetObjectClassByIndex(e):void 0}GetTrackIndexInTimeline(){return this._timeline.GetTracks().indexOf(this)}ClearInstance(){this._instance=null,this._instanceUid=NaN,this._worldInfo=null,this._objectClassIndex=NaN,this._cleared=!0}HasInstance(){return!!this._instance}GetInstance(){if(this._cleared)return;if(this._instance&&this.IsInstanceValid())return this._instance;const e=this.GetInstanceUID();return this._instance=this.GetRuntime().GetInstanceByUID(e),this._instance}SetInstance(e){if(this._cleared=!1,this._instance!==e){this.CleanCaches(),this._instance=e,this._objectClassIndex=e.GetObjectClass().GetIndex(),this._instanceUid=e.GetUID(),this._worldInfo=e.GetWorldInfo();for(const t of this.propertyTrackItems()){const n=t.propertyTrack,s=t.sourceAdapter;switch(n.GetSourceAdapterId()){case"instance-variable":{s.GetEditorIndex();const n=e.GetObjectClass(),r=n.GetInstanceVariableIndexByName(t.name),o=n.GetInstanceVariableName(r),a=n.GetInstanceVariableType(r);o===t.name&&a===t.type&&s.UpdateInstanceVariableIndex(r);break}case"behavior":{const n=t.behaviorType,r=this.GetObjectClass(),o=e.GetObjectClass(),a=s.GetBehaviorType(o);if(n&&a){const e=n.GetName();r.GetBehaviorIndexByName(e),o.GetBehaviorIndexByName(e),s.GetEditorIndex(),s.UpdateBehaviorTypeSid(a.GetSID())}break}}}}}*propertyTrackItems(){for(const e of this._propertyTracks){const t=e.GetSourceAdapter(),n=this.GetObjectClass(),s={propertyTrack:e,sourceAdapter:t};switch(e.GetSourceAdapterId()){case"world-instance":s.property=e.GetPropertyName();break;case"instance-variable":{const e=t.GetEditorIndex();s.name=n.GetInstanceVariableName(e),s.type=n.GetInstanceVariableType(e);break}case"effect":{const e=n.GetEffectList(),r=t.GetEffectType(e);s.effectType=r;break}case"behavior":{const e=t.GetBehaviorType(n);s.behaviorType=e;break}case"plugin":s.plugin=n.GetPlugin()}yield s}}GetWorldInfo(){if(this._worldInfo&&this.IsInstanceValid())return this._worldInfo;const e=this.GetInstance();return e&&(this._worldInfo=e.GetWorldInfo()),this._worldInfo}GetTrackDataItem(){return this._trackDataItem}GetInstanceUID(){return isNaN(this._instanceUid)?this._trackDataItem.GetInstanceUID():this._instanceUid}SetInstanceUID(e){this._trackDataItem.SetInstanceUID(e)}GetInterpolationMode(){return this._trackDataItem.GetInterpolationMode()}SetInterpolationMode(e){this._trackDataItem.SetInterpolationMode(e)}GetResultMode(){return this._trackDataItem.GetResultMode()}GetId(){return this._trackDataItem.GetId()}GetStartOffset(){return this._trackDataItem.GetStartOffset()}GetLocalTotalTime(){return this._trackDataItem.GetLocalTotalTime()}SetLocalTotalTime(e){this._trackDataItem.SetLocalTotalTime(e)}SetResultMode(e){this._trackDataItem.SetResultMode(e)}SetEase(e){for(const t of this.GetKeyframeDataItems())t.SetEase(e);for(const t of this.GetPropertyTracks())t.SetEase(e)}GetEnable(){return this._trackDataItem.GetEnable()}SetEnable(e){this._trackDataItem.SetEnable(e)}GetObjectClassIndex(){return isNaN(this._objectClassIndex)?this._trackDataItem.GetObjectClassIndex():this._objectClassIndex}SetObjectClassIndex(e){this._trackDataItem.SetObjectClassIndex(e)}SetOriginalWidth(e){this._trackDataItem.SetOriginalWidth(e)}GetOriginalWidth(){const e=this.GetInstance();return e&&e.GetSdkInstance().IsOriginalSizeKnown()?e.GetSdkInstance().GetOriginalWidth():this._trackDataItem.GetOriginalWidth()}SetOriginalHeight(e){this._trackDataItem.SetOriginalHeight(e)}GetOriginalHeight(){const e=this.GetInstance();return e&&e.GetSdkInstance().IsOriginalSizeKnown()?e.GetSdkInstance().GetOriginalHeight():this._trackDataItem.GetOriginalHeight()}GetType(){return this._trackDataItem.GetType()}GetName(){return this._trackDataItem.GetName()}IsInstanceTrack(){return 0===this.GetType()}IsValueTrack(){return 1===this.GetType()}IsAudioTrack(){return 2===this.GetType()}GetWorldInfoChange(){return this._worldInfoChange}GetRenderChange(){return this._renderChange}GetNeedsBeforeAndAfter(){return this._needsBeforeAndAfter}IsNested(){return this._isNested}SetResetState(){for(const e of this._propertyTracks)e.SetResetState()}SetInitialState(){if(this.MaybeGetInstance(),!this.IsInstanceValid()&&this.IsInstanceTrack())return;const e=this.GetTimeline().IsForwardPlayBack(),t=e?0:this.GetLocalTotalTime();for(const e of this._propertyTracks)e.SetInitialState(t),0===this._worldInfoChange&&1===e.GetWorldInfoChange()&&(this._worldInfoChange=1),0===this._renderChange&&1===e.GetRenderChange()&&(this._renderChange=1);this._needsBeforeAndAfter=0,this._propertyTracks.some(e=>e.GetNeedsBeforeAndAfter())&&(this._needsBeforeAndAfter=1),this._lastKeyframeDataItem=e?this._GetLastKeyFrameBeforeTime(t):this._GetFirstKeyFrameAfterTime(t),this._initialStateOfNestedSet=!1,this._endStateOfNestedSet=!1,this.Interpolate(t),this.OnInitialKeyframeReached(this._lastKeyframeDataItem)}SetResumeState(){if(this.MaybeGetInstance(),!this.IsInstanceValid()&&this.IsInstanceTrack())return;const e=this._timeline.IsForwardPlayBack(),t=this._timeline.GetTime()-this.GetStartOffset();this._lastKeyframeDataItem=e?this._GetLastKeyFrameBeforeTime(t):this._GetFirstKeyFrameAfterTime(t);for(const e of this._propertyTracks)e.SetResumeState(t)}SetEndState(){if(!this.GetTimeline().IsComplete()&&(this.MaybeGetInstance(),(this.IsInstanceValid()||!this.IsInstanceTrack())&&!this._isNested)){const e=this._timeline.GetTime();e>=this.GetStartOffset()+this.GetLocalTotalTime()?this.Interpolate(this.GetLocalTotalTime(),!0,!1,!0,!1,!1,!0):e<=0&&this.Interpolate(0,!0,!1,!0,!1,!1,!0)}}_SetUpdateState(){for(let e=0,t=this._propertyTracks.length;e<t;e++){const t=this._propertyTracks[e];t._SetUpdateState(),0===this._worldInfoChange&&1===t.GetWorldInfoChange()&&(this._worldInfoChange=1),0===this._renderChange&&1===t.GetRenderChange()&&(this._renderChange=1)}}BeforeInterpolate(){const e=this._propertyTracks.length;for(let t=0;t<e;t++)this._propertyTracks[t].BeforeInterpolate()}Interpolate(e,t=!1,n=!1,s=!1,r=!1,o=!1,a=!1){this._instance||this.GetInstance();const i=this._instance&&!this._instance.IsDestroyed(),l=0===this._trackDataItem._type;if((i||!l)&&!(o&&l&&this.GetObjectClass().IsGlobal()||(e-=this.GetStartOffset())<0)){this.MaybeSetInitialStateOfNestedTrack(e,t),this.MaybeTriggerKeyframeReachedConditions(e,t,r),!this.GetTimeline().IsPlaying()&&this.GetTimeline().GetStoppedOnKeyframe()&&(e=this.GetTimeline().GetStoppedOnKeyframe().GetTime());for(let t=0,r=this._propertyTracks.length;t<r;t++)this._propertyTracks[t].Interpolate(e,n,s,a);this.MaybeSetEndStateOfNestedTrack(e,t),0!==this._worldInfoChange&&(this._worldInfo||(this._worldInfo=this._instance.GetWorldInfo()),this._worldInfo&&this._worldInfo.SetBboxChanged())}}AfterInterpolate(){const e=this._propertyTracks.length;for(let t=0;t<e;t++)this._propertyTracks[t].AfterInterpolate()}MaybeSetInitialStateOfNestedTrack(e,t){if(t&&this._isNested&&!this._initialStateOfNestedSet){if(this.GetTimeline().IsForwardPlayBack()){if(e<0)return}else if(e>this.GetLocalTotalTime())return;for(const e of this._propertyTracks)e.SetInitialState();this._initialStateOfNestedSet=!0}}MaybeSetEndStateOfNestedTrack(e,t){if(t&&this._isNested&&!this._endStateOfNestedSet)if(this.GetTimeline().IsForwardPlayBack()){if(e>=this.GetLocalTotalTime()){for(const e of this._propertyTracks)e.Interpolate(this.GetLocalTotalTime(),!1,!0);this._endStateOfNestedSet=!0}}else if(e<=0){for(const e of this._propertyTracks)e.Interpolate(0,!1,!0);this._endStateOfNestedSet=!0}}MaybeTriggerKeyframeReachedConditions(e,t,n){if(n)return;if(!t)return;if(!Cm.Plugins.Timeline)return;const s=this.GetTimeline();if(s.IsForwardPlayBack()){const t=this._lastKeyframeDataItem.GetNext(),n=this._lastKeyframeDataItem.GetTime(),r=t?t.GetTime():s.GetTotalTime();(e<=n||e>=r)&&(this._lastKeyframeDataItem=this._trackData.GetFirstKeyFrameDataItemLowerOrEqualThan(e,this._trackDataItem),t&&this.OnKeyframeReached(this._lastKeyframeDataItem))}else{if(!this._trackData.GetFirstKeyFrameDataItemHigherOrEqualThan(e,this._trackDataItem))return;this._lastKeyframeDataItem||(this._lastKeyframeDataItem=this._trackData.GetFirstKeyFrameDataItemHigherOrEqualThan(e,this._trackDataItem));const t=this._lastKeyframeDataItem.GetLast(),n=this._lastKeyframeDataItem.GetTime(),s=t?t.GetTime():0;(e>=n||e<=s)&&(this._lastKeyframeDataItem=this._trackData.GetFirstKeyFrameDataItemHigherOrEqualThan(e,this._trackDataItem),this._lastKeyframeDataItem&&this.OnKeyframeReached(this._lastKeyframeDataItem))}}_GetLastKeyFrameBeforeTime(e){return this._trackData.GetKeyFrameDataItemAtTime(e,this._trackDataItem)||this._trackData.GetFirstKeyFrameDataItemLowerOrEqualThan(e,this._trackDataItem)}_GetFirstKeyFrameAfterTime(e){return this._trackData.GetKeyFrameDataItemAtTime(e,this._trackDataItem)||this._trackData.GetFirstKeyFrameDataItemHigherOrEqualThan(e,this._trackDataItem)}OnKeyframeReached(e,t=!1){if(!Cm.Plugins.Timeline)return;const n=this.GetTimeline(),s=n.GetTimelineManager();Cm.Plugins.Timeline.Cnds.PushTriggerTimeline(n),Cm.Plugins.Timeline.Cnds.PushTriggerKeyframe(e),s.Trigger(Cm.Plugins.Timeline.Cnds.OnAnyKeyframeReached),s.Trigger(Cm.Plugins.Timeline.Cnds.OnKeyframeReached),n.IsPlaying()||t||n.SetStoppedOnKeyframe(e),Cm.Plugins.Timeline.Cnds.PopTriggerTimeline(n),Cm.Plugins.Timeline.Cnds.PopTriggerKeyframe(e)}OnInitialKeyframeReached(e){this.OnKeyframeReached(e,!0)}AddKeyframe(){return this._trackDataItem.GetKeyframeData().AddEmptyKeyframeDataItem()}AddPropertyTrack(){const e=this._trackDataItem.GetPropertyTrackData().AddEmptyPropertyTrackDataItem(),t=Cm.PropertyTrackState.Create(this,e);return this._propertyTracks.push(t),t}DeleteKeyframes(e){this._trackDataItem.GetKeyframeData().DeleteKeyframeDataItems(e)}DeletePropertyKeyframes(e){for(const t of this._propertyTracks)t.DeletePropertyKeyframes(e)}SaveState(){for(const e of this._propertyTracks)e.SaveState()}CompareInitialStateWithCurrent(){if(this.MaybeGetInstance(),this.IsInstanceValid()||!this.IsInstanceTrack())for(const e of this._propertyTracks)e.CompareInitialStateWithCurrent()}CompareSaveStateWithCurrent(){if(this.MaybeGetInstance(),!this.IsInstanceValid()&&this.IsInstanceTrack())return;let e=!1;for(const t of this._propertyTracks){const n=t.CompareSaveStateWithCurrent();!e&&n&&(e=!0)}if(e){const e=this.AddKeyframe();e.SetTime(this.GetTimeline().GetTime()),e.SetEase("noease"),e.SetEnable(!0),e.SetTags("")}}_OnAfterLoad(){isNaN(this._instanceUidToLoad)||this._LoadInstanceFromJson(this._instanceUidToLoad),this._instanceUidToLoad=NaN}_SaveToJson(){const e=this.GetInstance(),t=e?e.GetUID():this.GetInstanceUID();return{propertyTracksJson:this._SavePropertyTracksToJson(),lastKeyframeDataItemJson:this._SaveLastKeyframeDataItemToJson(),initialStateOfNestedSet:this._initialStateOfNestedSet,endStateOfNestedSet:this._endStateOfNestedSet,instanceUid:t,cleared:this._cleared}}_LoadFromJson(e){if(e){this._LoadPropertyTracksFromJson(e.propertyTracksJson),this._LoadLastKeyframeDataItemFromJson(e.lastKeyframeDataItemJson),this._instanceUidToLoad=e.instanceUid,this._initialStateOfNestedSet=!1,e.hasOwnProperty.initialStateOfNestedSet&&(this._initialStateOfNestedSet=e.initialStateOfNestedSet),this._endStateOfNestedSet=!1,e.hasOwnProperty.endStateOfNestedSet&&(this._endStateOfNestedSet=e.endStateOfNestedSet),this._cleared=!!e.hasOwnProperty("cleared")&&e.cleared;for(const e of this._propertyTracks)0===this._worldInfoChange&&1===e.GetWorldInfoChange()&&(this._worldInfoChange=1),0===this._renderChange&&1===e.GetRenderChange()&&(this._renderChange=1);this._needsBeforeAndAfter=0,this._propertyTracks.some(e=>e.GetNeedsBeforeAndAfter())&&(this._needsBeforeAndAfter=1)}}_SaveLastKeyframeDataItemToJson(){return this._trackDataItem.GetKeyframeData().GetKeyframeDataItemIndex(this._lastKeyframeDataItem)}_SavePropertyTracksToJson(){return this._propertyTracks.map(e=>e._SaveToJson())}_LoadPropertyTracksFromJson(e){e.forEach((e,t)=>{this._propertyTracks[t]._LoadFromJson(e)})}_LoadInstanceFromJson(e){if(!Cm.IsFiniteNumber(e))return;const t=this.GetRuntime().GetInstanceByUID(e);t&&this.GetTimeline().SetTrackInstance(this._trackDataItem.GetId(),t,this.GetTrackIndexInTimeline())}_LoadLastKeyframeDataItemFromJson(e){const t=this._trackDataItem.GetKeyframeData();this._lastKeyframeDataItem=t.GetKeyframeDataItemFromIndex(e)}}}{const Om=self.C3;Om.PropertyTrackState=class extends Om.DefendedBase{constructor(e,t){super(),this._track=e,this._propertyTrackDataItem=t,this._propertyTrackData=t.GetPropertyTrackData(),this._worldInfoChange=0,this._renderChange=0,this._needsBeforeAndAfter=0,this._sourceAdapter=this.GetSourceAdapter(),this._propertyKeyframeDataItems=this._propertyTrackDataItem.GetPropertyKeyframeData().GetPropertyKeyframeDataItemArray(),this._lastPropertyKeyframeDataItem=null,this._absoluteValueObject=null}static Create(e,t){return Om.New(Om.PropertyTrackState,e,t)}Release(){this._track=null,this._sourceAdapter&&(this._sourceAdapter.Release(),this._sourceAdapter=null),this._propertyKeyframeDataItems=null,this._propertyTrackDataItem=null,this._propertyTrackData=null}GetWorldInfoChange(){return this._worldInfoChange}GetRenderChange(){return this._renderChange}GetNeedsBeforeAndAfter(){return this._needsBeforeAndAfter}HasAbsoluteValueObject(){return!!this._absoluteValueObject}SetAbsoluteValueObject(e){this._absoluteValueObject=e}GetAbsoluteValueObject(){return this._absoluteValueObject}GetTrack(){return this._track}GetPropertyTrackDataItem(){return this._propertyTrackDataItem}GetPropertyTrackData(){return this._propertyTrackData}GetTimeline(){return this._track.GetTimeline()}GetRuntime(){return this._track.GetRuntime()}GetInstance(){return this._track.GetInstance()}GetSourceAdapter(){if(this._sourceAdapter)return this._sourceAdapter;let e;switch(this._propertyTrackDataItem.GetSourceAdapterId()){case"behavior":e=new Om.PropertyTrackState.BehaviorSourceAdapter(this);break;case"effect":e=new Om.PropertyTrackState.EffectSourceAdapter(this),this._renderChange=1;break;case"instance-variable":e=new Om.PropertyTrackState.InstanceVariableSourceAdapter(this);break;case"plugin":e=new Om.PropertyTrackState.PluginSourceAdapter(this),this._renderChange=1;break;case"world-instance":e=new Om.PropertyTrackState.PropertySourceAdapter(this),this._renderChange=1,this._worldInfoChange=1;break;case"value":e=new Om.PropertyTrackState.ValueSourceAdapter(this);break;case"audio":e=new Om.PropertyTrackState.AudioSourceAdapter(this)}return this._sourceAdapter=e,this._sourceAdapter}GetSourceAdapterId(){return this._propertyTrackDataItem.GetSourceAdapterId()}SetSourceAdapterId(e){this._propertyTrackDataItem.SetSourceAdapterId(e)}GetSourceAdapterArgs(){return this._propertyTrackDataItem.GetSourceAdapterArguments()}SetSourceAdapterArgs(e){this._propertyTrackDataItem.SetSourceAdapterArguments(e)}GetSourceAdapterValue(){return this.GetSourceAdapter().GetValue()}GetPropertyName(){return this._propertyTrackDataItem.GetProperty()}SetPropertyName(e){this._propertyTrackDataItem.SetProperty(e)}GetPropertyType(){return this._propertyTrackDataItem.GetType()}SetPropertyType(e){this._propertyTrackDataItem.SetType(e)}GetPropertyKeyframeType(){return this.GetPropertyTrackData().GetFirstPropertyKeyframeDataItem(this._propertyTrackDataItem).GetType()}GetMin(){return this._propertyTrackDataItem.GetMin()}SetMin(e){this._propertyTrackDataItem.SetMin(e)}GetMax(){return this._propertyTrackDataItem.GetMax()}SetMax(e){this._propertyTrackDataItem.SetMax(e)}GetEnable(){return this._propertyTrackDataItem.GetEnable()}SetEnable(e){this._propertyTrackDataItem.SetEnable(e)}GetInterpolationMode(){return this._propertyTrackDataItem.GetInterpolationMode()}SetInterpolationMode(e){this._propertyTrackDataItem.SetInterpolationMode(e)}GetResultMode(){return this._propertyTrackDataItem.GetResultMode()}SetResultMode(e){this._propertyTrackDataItem.SetResultMode(e)}SetEase(e){for(const t of this.GetPropertyKeyframeDataItems())t.SetEase(e)}CanHavePropertyKeyframes(){return this._propertyTrackDataItem.CanHavePropertyKeyframes()}GetPropertyKeyframeDataItems(){return this._propertyKeyframeDataItems||(this._propertyKeyframeDataItems=this._propertyTrackDataItem.GetPropertyKeyframeData().GetPropertyKeyframeDataItemArray()),this._propertyKeyframeDataItems}GetPropertyKeyframeDataItemArrayIncludingDisabled(){return this._propertyTrackDataItem.GetPropertyKeyframeData().GetPropertyKeyframeDataItemArrayIncludingDisabled()}GetPropertyKeyFrameDataItemAtTime(e){return this._propertyTrackData.GetPropertyKeyFrameDataItemAtTime(e,this._propertyTrackDataItem)}GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e){return this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem)}GetPropertyKeyframeDataItemPairForTime(e){let t,n=this._propertyTrackData.GetPropertyKeyFrameDataItemAtTime(e,this._propertyTrackDataItem);return n?t=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemHigherThan(e,this._propertyTrackDataItem):(n=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem),t=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemHigherOrEqualThan(e,this._propertyTrackDataItem)),{start:n,end:t}}*GetPropertyKeyframeValues(){for(const e of this.GetPropertyKeyframeDataItems())yield e.GetValueWithResultMode()}*GetPropertyKeyframeTimes(){for(const e of this.GetPropertyKeyframeDataItems())yield e.GetTime()}TimelineRemoved(){this.GetSourceAdapter().TimelineRemoved()}CleanCaches(){this.GetSourceAdapter().CleanCaches()}GetCurrentState(){return this.GetSourceAdapter().GetCurrentState()}SetResetState(){this.GetSourceAdapter().SetResetState()}SetInitialState(e){this.GetSourceAdapter().SetInitialState(),this._lastPropertyKeyframeDataItem=this._GetLastPropertyKeyFrameBeforeTime(e),this._SetUpdateState()}SetResumeState(e){this.GetSourceAdapter().SetResumeState(),this._lastPropertyKeyframeDataItem=this._GetLastPropertyKeyFrameBeforeTime(e)}_SetUpdateState(){const e=this.GetTrack();if(this._needsBeforeAndAfter=0,e.IsInstanceTrack()){const t=this.GetTimeline(),n=e.GetInstance(),s=this.GetSourceAdapter(),r=this.GetPropertyName();if(s.MayNeedBeforeAndAfterInterpolate()){const e=t.GetSimilarPropertyTracks(n,s,r,this);e&&e.length&&(this._needsBeforeAndAfter=1)}else this._needsBeforeAndAfter=0}}_GetLastPropertyKeyFrameBeforeTime(e){const t=this.GetTimeline();return this._propertyTrackData.GetPropertyKeyFrameDataItemAtTime(e,this._propertyTrackDataItem)||(t.IsForwardPlayBack()?this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem):this._propertyTrackData.GetFirstPropertyKeyFrameDataItemHigherOrEqualThan(e,this._propertyTrackDataItem))}BeforeInterpolate(){this._sourceAdapter.BeforeInterpolate()}Interpolate(e,t=!1,n=!1,s=!1){let r,o,a=!1;if(t)r=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem);else{if(this._lastPropertyKeyframeDataItem){const t=this.GetTimeline(),n=this._lastPropertyKeyframeDataItem.GetNext(),s=this._lastPropertyKeyframeDataItem.GetTime(),r=n?n.GetTime():t.GetTotalTime();(e<=s||e>=r)&&(this._lastPropertyKeyframeDataItem=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem),a=!0)}else this._lastPropertyKeyframeDataItem=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem),a=!0;r=this._lastPropertyKeyframeDataItem}r&&(o=r.GetNext()),this._sourceAdapter.Interpolate(e,r,o,t,n,s,a)}GetInterpolatedValue(e){if(this._lastPropertyKeyframeDataItem){const t=this.GetTimeline(),n=this._lastPropertyKeyframeDataItem.GetNext(),s=this._lastPropertyKeyframeDataItem.GetTime(),r=n?n.GetTime():t.GetTotalTime();(e<=s||e>=r)&&(this._lastPropertyKeyframeDataItem=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem))}else this._lastPropertyKeyframeDataItem=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem);const t=this._lastPropertyKeyframeDataItem,n=t.GetNext();return this._sourceAdapter.GetInterpolatedValue(e,t,n)}GetInterpolatedValueFast(e,t,n){return this._sourceAdapter.GetInterpolatedValue(e,t,n)}AfterInterpolate(){this._sourceAdapter.AfterInterpolate()}static GetStartPropertyKeyframeForTime(e,t){const n=t.GetPropertyTrackDataItem();return t._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,n)}static GetEndPropertyKeyframeForTime(e,t){const n=t.GetPropertyTrackDataItem();return t._propertyTrackData.GetFirstPropertyKeyFrameDataItemHigherOrEqualThan(e,n)}AddPropertyKeyframe(){const e=this._propertyTrackDataItem.GetPropertyKeyframeData().AddEmptyPropertyKeyframeDataItem();return this._lastPropertyKeyframeDataItem=null,e}DeletePropertyKeyframes(e){this._lastPropertyKeyframeDataItem=null,this._propertyTrackDataItem.GetPropertyKeyframeData().DeletePropertyKeyframeDataItems(e)}SaveState(){this.GetSourceAdapter().SaveState()}CompareInitialStateWithCurrent(){if(this.GetSourceAdapter().CompareInitialStateWithCurrent()){const e=this._propertyTrackData.GetFirstPropertyKeyframeDataItem(this._propertyTrackDataItem),t=this.GetSourceAdapter().GetCurrentState();e.SetAbsoluteValue(t)}}CompareSaveStateWithCurrent(){const e=this.GetSourceAdapter().CompareSaveStateWithCurrent();return e&&this.AddPropertyKeyframeAtCurrentTime(),this.GetSourceAdapter().ClearSaveState(),e}AddPropertyKeyframeAtCurrentTime(){const e=this.GetTimeline().GetTime(),t=this.GetSourceAdapter(),n=Om.PropertyTrackState.GetStartPropertyKeyframeForTime(e,this),s=this.AddPropertyKeyframe();s.SetType(n.GetType()),s.SetTime(e),s.SetEase(n.GetEase()),s.SetEnable(!0),s.SetValue(t.GetValueAtTime()),s.SetAbsoluteValue(t.GetCurrentState())}_SaveToJson(){return{sourceAdapterJson:this.GetSourceAdapter()._SaveToJson()}}_LoadFromJson(e){e&&this.GetSourceAdapter()._LoadFromJson(e.sourceAdapterJson)}}}{const vm=self.C3,Pm=vm.PropertyTrackState;Pm.PropertySourceAdapter=class{constructor(e){this._propertyTrack=e,this._propertyAdapter=null,this.GetPropertyAdapter()}Release(){this._propertyAdapter&&(this._propertyAdapter.Release(),this._propertyAdapter=null),this._propertyTrack=null}MayNeedBeforeAndAfterInterpolate(){return this._propertyAdapter.MayNeedBeforeAndAfterInterpolate()}GetPropertyTrack(){return this._propertyTrack}TimelineRemoved(){this._propertyAdapter&&this._propertyAdapter.TimelineRemoved()}CleanCaches(){this._propertyAdapter&&this._propertyAdapter.CleanCaches()}GetPropertyAdapter(){return this._propertyAdapter||(this._propertyAdapter=this._CreatePropertyAdapter()),this._propertyAdapter}GetEditorIndex(){}GetIndex(){return this.GetEditorIndex()}GetTarget(){}SetResetState(){this.GetPropertyAdapter().SetResetState()}SetInitialState(){this.GetPropertyAdapter().SetInitialState()}SetResumeState(){this.GetPropertyAdapter().SetResumeState()}BeforeInterpolate(){this._propertyAdapter.BeforeChangeProperty()}Interpolate(e,t,n,s,r,o,a){let i;switch(this._propertyTrack.GetPropertyKeyframeType()){case"numeric":i=Pm.NumericTypeAdapter.Interpolate(e,t,n,this._propertyTrack);break;case"angle":i=Pm.AngleTypeAdapter.Interpolate(e,t,n,this._propertyTrack);break;case"boolean":i=Pm.BooleanTypeAdapter.Interpolate(e,t,n,this._propertyTrack);break;case"color":i=Pm.ColorTypeAdapter.Interpolate(e,t,n,this._propertyTrack);break;case"text":i=Pm.TextTypeAdapter.Interpolate(e,t,n,this._propertyTrack)}this._propertyAdapter.ChangeProperty(e,i,t,n,s,r,o,a)}GetInterpolatedValue(e,t,n){switch(this._propertyTrack.GetPropertyKeyframeType()){case"numeric":return Pm.NumericTypeAdapter.Interpolate(e,t,n,this._propertyTrack);case"angle":return Pm.AngleTypeAdapter.Interpolate(e,t,n,this._propertyTrack);case"boolean":return Pm.BooleanTypeAdapter.Interpolate(e,t,n,this._propertyTrack);case"color":return Pm.ColorTypeAdapter.Interpolate(e,t,n,this._propertyTrack);case"text":return Pm.TextTypeAdapter.Interpolate(e,t,n,this._propertyTrack)}}AfterInterpolate(){this._propertyAdapter.AfterChangeProperty()}SaveState(){this.GetPropertyAdapter().SetSaveState()}ClearSaveState(){this.GetPropertyAdapter().ClearSaveState()}GetCurrentState(){return this.GetPropertyAdapter().GetCurrentState()}CompareInitialStateWithCurrent(){return this.GetPropertyAdapter().CompareInitialStateWithCurrent()}CompareSaveStateWithCurrent(){return this.GetPropertyAdapter().CompareSaveStateWithCurrent()}GetValueAtTime(){const e=this._propertyTrack,t=e.GetTrack().GetTimeline().GetTime(),n=Pm.GetStartPropertyKeyframeForTime(t,e),s=n.GetNext();switch(e.GetPropertyKeyframeType()){case"numeric":return Pm.NumericTypeAdapter.Interpolate(t,n,s,e);case"angle":return Pm.AngleTypeAdapter.Interpolate(t,n,s,e);case"boolean":return Pm.BooleanTypeAdapter.Interpolate(t,n,s,e);case"color":return Pm.ColorTypeAdapter.Interpolate(t,n,s,e);case"text":return Pm.TextTypeAdapter.Interpolate(t,n,s,e)}}_CreatePropertyAdapter(){const e=this._propertyTrack;switch(e.CanHavePropertyKeyframes()?e.GetPropertyKeyframeType():""){case"combo":case"boolean":case"text":case"string":return new Pm.PropertyInterpolationAdapter.NoInterpolationAdapter(this);case"numeric":case"number":case"angle":return"combo"===this._propertyTrack.GetPropertyType()?new Pm.PropertyInterpolationAdapter.NoInterpolationAdapter(this):new Pm.PropertyInterpolationAdapter.NumericInterpolationAdapter(this);case"color":case"offsetColor":return new Pm.PropertyInterpolationAdapter.ColorInterpolationAdapter(this);default:return new Pm.PropertyInterpolationAdapter.NumericInterpolationAdapter(this)}}_SaveToJson(){return{propertyAdapterJson:this.GetPropertyAdapter()._SaveToJson()}}_LoadFromJson(e){e&&this.GetPropertyAdapter()._LoadFromJson(e.propertyAdapterJson)}}}{const wm=self.C3,Am=0;class Dm extends wm.PropertyTrackState.PropertySourceAdapter{constructor(e){super(e),this._updatedIndex=NaN}GetEditorIndex(){return this._propertyTrack.GetPropertyTrackDataItem().GetSourceAdapterArguments()[0]}GetIndex(){return this._updatedIndex?this._updatedIndex:super.GetIndex()}GetTarget(){return this._propertyTrack.GetTrack().GetInstance()}UpdateInstanceVariableIndex(e){this._propertyTrack.GetPropertyTrackDataItem().GetSourceAdapterArguments()[0]!==e&&(this._updatedIndex=e)}Interpolate(e,t,n,s,r,o,a){this.GetPropertyAdapter().CanChange(t.GetValue())&&super.Interpolate(e,t,n,s,r,o,a)}GetInterpolatedValue(e,t,n){if(this.GetPropertyAdapter().CanChange(t.GetValue()))return super.GetInterpolatedValue(e,t,n)}_SaveToJson(){return Object.assign(super._SaveToJson(),{index:this._updatedIndex})}_LoadFromJson(e){e&&(super._LoadFromJson(e),this._updatedIndex=e.index)}}wm.PropertyTrackState.InstanceVariableSourceAdapter=Dm}{const Rm=self.C3,Fm=0,jm=1,km=2;class Lm extends Rm.PropertyTrackState.PropertySourceAdapter{constructor(e){super(e),this._sid=NaN}GetEditorIndex(){return this._propertyTrack.GetPropertyTrackDataItem().GetSourceAdapterArguments()[1]}GetTarget(){const e=this._propertyTrack.GetPropertyTrackDataItem(),t=this._propertyTrack.GetTrack(),n=this._sid?this._sid:e.GetSourceAdapterArguments()[0],s=t.GetInstance(),r=s.GetBehaviorIndexBySID(n);return s.GetBehaviorInstances()[r].GetSdkInstance()}GetBehaviorType(e){const t=this._propertyTrack.GetPropertyTrackDataItem().GetSourceAdapterArguments()[2];return e.GetBehaviorTypeByName(t)}UpdateBehaviorTypeSid(e){this._propertyTrack.GetPropertyTrackDataItem().GetSourceAdapterArguments()[0]!==e&&(this._sid=e)}Interpolate(e,t,n,s,r,o,a){const i=this._propertyTrack.GetTrack().GetInstance();this.GetBehaviorType(i.GetObjectClass())&&super.Interpolate(e,t,n,s,r,o,a)}GetInterpolatedValue(e,t,n){const s=this._propertyTrack.GetTrack().GetInstance();if(this.GetBehaviorType(s.GetObjectClass()))return super.GetInterpolatedValue(e,t,n)}_SaveToJson(){return Object.assign(super._SaveToJson(),{sid:this._sid})}_LoadFromJson(e){e&&(super._LoadFromJson(e),this._sid=e.sid)}}Rm.PropertyTrackState.BehaviorSourceAdapter=Lm}{const Wm=self.C3,Um=0,Hm=1;class zm extends Wm.PropertyTrackState.PropertySourceAdapter{constructor(e){super(e)}GetEditorIndex(){return this._propertyTrack.GetPropertyTrackDataItem().GetSourceAdapterArguments()[1]}GetTarget(){const e=this._propertyTrack.GetTrack().GetWorldInfo().GetInstanceEffectList(),t=e.GetEffectList(),n=this.GetEffectType(t).GetIndex();return e.IsEffectIndexActive(n)?e.GetEffectParametersForIndex(n):null}GetEffectType(e){const t=this._propertyTrack.GetPropertyTrackDataItem().GetSourceAdapterArguments()[0];return e.GetEffectTypeByName(t)}Interpolate(e,t,n,s,r,o,a){this._IsEffectActive()&&super.Interpolate(e,t,n,s,r,o,a)}GetInterpolatedValue(e,t,n){if(this._IsEffectActive())return super.GetInterpolatedValue(e,t,n)}_IsEffectActive(){const e=this._propertyTrack.GetTrack().GetWorldInfo().GetInstanceEffectList(),t=e.GetEffectList(),n=this.GetEffectType(t);if(!n)return;const s=n.GetIndex();return e.IsEffectIndexActive(s)}}Wm.PropertyTrackState.EffectSourceAdapter=zm}{const Ym=self.C3,Xm=0;class qm extends Ym.PropertyTrackState.PropertySourceAdapter{constructor(e){super(e)}GetEditorIndex(){return this._propertyTrack.GetPropertyTrackDataItem().GetSourceAdapterArguments()[0]}GetTarget(){return this._propertyTrack.GetTrack().GetInstance().GetSdkInstance()}Interpolate(e,t,n,s,r,o,a){const i=this._propertyTrack.GetTrack();i.GetObjectClass().GetPlugin()===i.GetInstance().GetObjectClass().GetPlugin()&&super.Interpolate(e,t,n,s,r,o,a)}GetInterpolatedValue(e,t,n){const s=this._propertyTrack.GetTrack();if(s.GetObjectClass().GetPlugin()===s.GetInstance().GetObjectClass().GetPlugin())return super.GetInterpolatedValue(e,t,n)}GetOptionalCallbacks(){const e=this._propertyTrack.GetTrack(),t=e.GetObjectClass().GetPlugin();if(Ym.Plugins.Sprite&&t instanceof Ym.Plugins.Sprite&&("initial-frame"===this._propertyTrack.GetPropertyName()||"initial-animation"===this._propertyTrack.GetPropertyName()))switch(this._propertyTrack.GetResultMode()){case"relative":return{onFrameChange:(t,n,s,r,o)=>{if(n!==r){const s=r/n,o=e.GetPropertyTrack("offsetWidth"),a=e.GetPropertyTrack("offsetScaleX");if(o||a){const i=o?.GetSourceAdapter()?.GetPropertyAdapter(),l=a?.GetSourceAdapter()?.GetPropertyAdapter();if(t.HasParent()&&t.GetTransformWithParentWidth())l&&l.SetOriginalSizeProperty(r),t.SetWidth(this.GetNewWidth(r,n,t,e,i,l));else{const n=r*((t._GetSceneGraphInfo()?._GetStartWidth()??this.GetInstanceOriginalWidth(t,e))/this.GetInstanceOriginalWidth(t,e));l&&l.SetOriginalSizeProperty(r);const o=i?.GetChangeAccumulatorProperty()??0,a=l?.GetChangeAccumulatorProperty()??0;t.SetWidth(n+(o+a*s))}}else t.SetWidth(t.GetWidth()*s)}if(s!==o){const n=o/s,r=e.GetPropertyTrack("offsetHeight"),a=e.GetPropertyTrack("offsetScaleY");if(r||a){const i=r?.GetSourceAdapter()?.GetPropertyAdapter(),l=a?.GetSourceAdapter()?.GetPropertyAdapter();if(t.HasParent()&&t.GetTransformWithParentHeight())l&&l.SetOriginalSizeProperty(o),t.SetHeight(this.GetNewHeight(o,s,t,e,i,l));else{const s=o*((t._GetSceneGraphInfo()?._GetStartHeight()??this.GetInstanceOriginalHeight(t,e))/this.GetInstanceOriginalHeight(t,e));l&&l.SetOriginalSizeProperty(o);const r=i?.GetChangeAccumulatorProperty()??0,a=l?.GetChangeAccumulatorProperty()??0;t.SetHeight(s+(r+a*n))}}else t.SetHeight(t.GetHeight()*n)}}};case"absolute":return null}}GetLastPropertyKeyframeValue(e,t,n,s=0){const r=t.GetTimeline().GetTrackFromInstance(e.GetInstance());if(!r)return s;const o=r.GetPropertyTrack(n);if(!o)return s;const a=o.GetPropertyTrackDataItem().GetPropertyKeyframeData();if(!a)return s;const i=a.GetLastPropertyKeyframeDataItem();return i?i.GetValue():s}GetInstanceOriginalWidth(e,t){const n=t.GetTimeline().GetTrackFromInstance(e.GetInstance());if(n)return n.GetOriginalWidth();const s=e.GetInstance().GetSdkInstance();return s.IsOriginalSizeKnown()?s.GetOriginalWidth():e._GetSceneGraphInfo()._GetStartWidth()}GetInstanceOriginalHeight(e,t){const n=t.GetTimeline().GetTrackFromInstance(e.GetInstance());if(n)return n.GetOriginalHeight();const s=e.GetInstance().GetSdkInstance();return s.IsOriginalSizeKnown()?s.GetOriginalHeight():e._GetSceneGraphInfo()._GetStartHeight()}GetNewWidth(e,t,n,s,r,o){const a=n._GetSceneGraphInfo()._GetStartWidth(),i=a/n.GetParent()._GetSceneGraphInfo()._GetStartWidth();let l=1;const d=o?.GetAbsoluteScaleXOffsetProperty()??0;if(0!==d){const e=a/this.GetInstanceOriginalWidth(n,s);l=(e+d)/(0===e?Number.EPSILON:e)}const c=a*(e/t);let u=r?.GetAbsoluteWidthOffsetProperty()??0;u+=c-a;const h=(a+u)/(0===a?Number.EPSILON:a);return n.GetParent().GetWidth()*i*l*h}GetNewHeight(e,t,n,s,r,o){const a=n._GetSceneGraphInfo()._GetStartHeight(),i=a/n.GetParent()._GetSceneGraphInfo()._GetStartHeight();let l=1;const d=o?.GetAbsoluteScaleYOffsetProperty()??0;if(0!==d){const e=a/this.GetInstanceOriginalHeight(n,s);l=(e+d)/(0===e?Number.EPSILON:e)}const c=a*(e/t);let u=r?.GetAbsoluteHeightOffsetProperty()??0;u+=c-a;const h=(a+u)/(0===a?Number.EPSILON:a);return n.GetParent().GetHeight()*i*l*h}}Ym.PropertyTrackState.PluginSourceAdapter=qm}{const Km=self.C3;class Jm extends Km.PropertyTrackState.PropertySourceAdapter{constructor(e){super(e),this._value=0,this._init=!1}MayNeedBeforeAndAfterInterpolate(){return!1}SetInitialState(){const e=this._propertyTrack.GetPropertyTrackData();let t=this._propertyTrack.GetPropertyTrackDataItem();t=e.GetFirstPropertyKeyframeDataItem(t),this._value=t.GetValueWithResultMode()}SetResumeState(){}GetValue(){return this._init||this._propertyTrack.Interpolate(0),this._value}Interpolate(e,t,n,s,r,o,a){this._value=Km.PropertyTrackState.NumericTypeAdapter.Interpolate(e,t,n,this._propertyTrack),this._init=!0}SaveState(){}ClearSaveState(){}GetCurrentState(){return this._value}CompareInitialStateWithCurrent(){return!1}CompareSaveStateWithCurrent(){return!1}_SaveToJson(){return{value:this._value,init:this._init}}_LoadFromJson(e){e&&(this._value=e.value,this._init=!e.hasOwnProperty("init")||e.init)}}Km.PropertyTrackState.ValueSourceAdapter=Jm}{const $m=self.C3,Zm=0,Qm=0,eg=1,tg=1,ng=2,sg=3;class rg extends $m.PropertyTrackState.PropertySourceAdapter{constructor(e){super(e),this._audioPlaybackStarted=!1,this._sdkInstance=null,this._actions=null,this._expressions=null,this._timeline=this._propertyTrack.GetTimeline(),this._track=this._propertyTrack.GetTrack(),this._sourceAdapterArgs=this._propertyTrack.GetSourceAdapterArgs(),this._fileArgs=this._sourceAdapterArgs[0],this._startOffsetTime=this._sourceAdapterArgs[1],this._sourceAdapterArgs[3]?this._audioTag=this._sourceAdapterArgs[3]:this._audioTag=Math.random().toString(36).slice(2),this._pauseTime=NaN,this._pauseVolume=NaN,this._volume=NaN,this._audioSource=null,this._Initialize()}Release(){super.Release(),this._sdkInstance=null,this._actions=null,this._expressions=null,this._timeline=null,this._track=null,this._sourceAdapterArgs=null,this._fileArgs=null,this._audioSource=null}_Initialize(){if(!self.C3.Plugins.Audio)return;const e=this._propertyTrack.GetRuntime().GetSingleGlobalObjectClassByCtor(self.C3.Plugins.Audio);e&&(this._sdkInstance=e.GetSingleGlobalInstance().GetSdkInstance()),this._actions=self.C3.Plugins.Audio.Acts,this._expressions=self.C3.Plugins.Audio.Exps}_MaybeSetAudioSource(){if(this._audioSource)return;const e=this._propertyTrack.GetTrack().GetPropertyTrack("audioSource");e&&(this._audioSource=e.GetSourceAdapter())}_GetPauseVolume(){const e=this._propertyTrack.GetTrack().GetPropertyTrack("volume");return e?e.GetSourceAdapter()._pauseVolume:this._pauseVolume}TimelineRemoved(){super.TimelineRemoved(),this._audioPlaybackStarted=!1,this._sdkInstance&&(this._expressions&&(this._pauseTime=this._expressions.PlaybackTime.call(this._sdkInstance,this._audioTag),this._pauseVolume=this._expressions.Volume.call(this._sdkInstance,this._audioTag)),this._actions&&this._actions.Stop.call(this._sdkInstance,this._audioTag))}GetAudioTag(){return this._audioTag}GetVolume(){return this._volume}SetVolume(e){this._volume=e}SetInitialState(){super.SetInitialState(),this._pauseTime=NaN,this._audioPlaybackStarted=!1}SetResumeState(){super.SetResumeState();const e=this._propertyTrack.GetTimeline().GetTime();switch(this._pauseTime=e-this._startOffsetTime,this._propertyTrack.GetPropertyName()){case"audioSource":break;case"volume":this._pauseVolume=this._propertyTrack.GetInterpolatedValue(e)}this._audioPlaybackStarted=!1}Interpolate(e,t,n,s,r,o,a){if(this._sdkInstance)switch(this._propertyTrack.GetPropertyName()){case"audioSource":{if(!this._timeline.IsForwardPlayBack())return;if(s)return void(this._actions&&this._actions.Stop.call(this._sdkInstance,this._audioTag));if(e<this._startOffsetTime)return void(this._audioPlaybackStarted=!1);const t=this._expressions.PlaybackRate.call(this._sdkInstance,this._audioTag),n=this._timeline.GetPlaybackRate();if(n!==t&&this._actions.SetPlaybackRate.call(this._sdkInstance,this._audioTag,n),this._audioPlaybackStarted)return;if(!this._propertyTrack.GetTimeline().IsPlaying())return;if(this._audioPlaybackStarted=!0,isNaN(this._pauseTime)){const t=self.performance.now(),n=e-this._startOffsetTime;if("suspended"===this._sdkInstance.GetAudioContextState())return void(this._audioPlaybackStarted=!1);const s=n+(self.performance.now()-t)/1e3;if(this._actions){let e=this.GetVolume();isNaN(e)?(this.SetVolume(0),e=0):this.SetVolume(e),this._actions.PlayFromTimeline.call(this._sdkInstance,this._fileArgs,e,this._audioTag,s)}}else{const e=this._pauseTime;this._pauseTime=NaN;const t=this._GetPauseVolume();if(this._pauseVolume=NaN,"suspended"===this._sdkInstance.GetAudioContextState())return void(this._audioPlaybackStarted=!1);this._actions&&(this.SetVolume(t),this._actions.PlayFromTimeline.call(this._sdkInstance,this._fileArgs,t,this._audioTag,e))}break}case"volume":this._MaybeSetAudioSource(),super.Interpolate(e,t,n,s,r,o,a)}}GetInterpolatedValue(e,t,n){if(this._sdkInstance)switch(this._propertyTrack.GetPropertyName()){case"audioSource":return;case"volume":return this._MaybeSetAudioSource(),super.GetInterpolatedValue(e,t,n)}}Getter(e,t){return this._audioSource?this._audioSource.GetVolume():0}Setter(e,t,n,s){this._audioSource&&this._audioSource.SetVolume(this.Getter()+t),this._actions&&this._audioSource&&this._actions.SetVolume.call(this._sdkInstance,this._audioSource.GetAudioTag(),this._audioSource.GetVolume())}AbsoluteSetter(e,t,n){this._audioSource&&this._audioSource.SetVolume(t),this._actions&&this._audioSource&&this._actions.SetVolume.call(this._sdkInstance,this._audioSource.GetAudioTag(),this._audioSource.GetVolume())}DoesRounding(){return!0}_SaveToJson(){return{audioPlaybackStarted:this._audioPlaybackStarted,audioTag:this._audioTag,pauseTime:this._pauseTime,pauseVolume:this._pauseVolume,volume:this._volume}}_LoadFromJson(e){e&&(this._audioPlaybackStarted=e.audioPlaybackStarted,this._audioTag=e.audioTag,this._pauseTime=e.pauseTime,this._pauseVolume=e.pauseVolume,this._volume=e.volume,this._Initialize())}}$m.PropertyTrackState.AudioSourceAdapter=rg}{const og=self.C3;og.PropertyTrackState.PropertyInterpolationAdapter=class{constructor(e){this._sourceAdapter=e,this._propertyTrack=e.GetPropertyTrack(),this._worldInfo=this._propertyTrack.GetTrack().GetWorldInfo(),this._property=this._propertyTrack.GetPropertyName(),this._firstAbsoluteUpdate=!1,this._saveState=null,this._target=null}Release(){this._sourceAdapter=null,this._propertyTrack=null,this._worldInfo=null,this._saveState=null,this._target=null}MayNeedBeforeAndAfterInterpolate(){return!1}TimelineRemoved(){}CleanCaches(){this._worldInfo=null,this._saveState=null,this._target=null}GetSourceAdapter(){return this._sourceAdapter}GetPropertyTrack(){return this._propertyTrack}GetWorldInfo(){return this._worldInfo||(this._worldInfo=this._propertyTrack.GetTrack().GetWorldInfo()),this._worldInfo}SetFirstAbsoluteUpdate(e){this._firstAbsoluteUpdate=!!e}GetFirstAbsoluteUpdate(){return this._firstAbsoluteUpdate}SetResetState(){}SetInitialState(){}SetResumeState(){}SetSaveState(){this._saveState=this.GetCurrentState()}ClearSaveState(){this._saveState=null}GetCurrentState(){}CompareInitialStateWithCurrent(){}CompareSaveStateWithCurrent(){}CanChange(e){return typeof this._Getter()==typeof e}BeforeChangeProperty(){}ChangeProperty(e,t,n,s,r,o,a,i){}AfterChangeProperty(){}_FirstKeyframeGetter(){return this._PickTimelinePlaybackMode(()=>{const e=this._propertyTrack.GetPropertyTrackDataItem();return this._propertyTrack.GetPropertyTrackData().GetFirstPropertyKeyframeDataItem(e)},()=>{const e=this._propertyTrack.GetPropertyTrackDataItem();return this._propertyTrack.GetPropertyTrackData().GetLastPropertyKeyframeDataItem(e)}).GetAbsoluteValue()}_CurrentKeyframeGetter(){const e=this._propertyTrack.GetTimeline().GetTime()-this._propertyTrack.GetTrack().GetStartOffset();return this._PickTimelinePlaybackMode(()=>{const t=this._propertyTrack.GetPropertyTrackDataItem();return this._propertyTrack.GetPropertyTrackData().GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,t)},()=>{const t=this._propertyTrack.GetPropertyTrackDataItem(),n=this._propertyTrack.GetPropertyTrackData();return n.GetFirstPropertyKeyFrameDataItemHigherOrEqualThan(e,t)||n.GetLastPropertyKeyframeDataItem(t)}).GetAbsoluteValue()}_PickTimelinePlaybackMode(e,t){return this._propertyTrack.GetTimeline().IsForwardPlayBack()?e():t()}_PickResultMode(e,t){return"relative"===this._propertyTrack.GetResultMode()?e():t()}_PickFirstAbsoluteUpdate(e,t){return this.GetFirstAbsoluteUpdate()?(this.SetFirstAbsoluteUpdate(!1),e()):t()}_GetAbsoluteInitialValue(e){}_GetIndex(){return this._sourceAdapter.GetIndex()}_GetTarget(){return this._target||(this._target=this._sourceAdapter.GetTarget()),this._target}_PickSource(e,t,n,s,r,o){switch(this._propertyTrack.GetSourceAdapterId()){case"behavior":return e();case"effect":return t();case"instance-variable":return n();case"plugin":return s();case"world-instance":return r();case"audio":return o()}}_SaveToJson(){return{firstAbsoluteUpdate:this._firstAbsoluteUpdate,saveState:this._saveState}}_LoadFromJson(e){e&&(this._firstAbsoluteUpdate=e.firstAbsoluteUpdate,this._saveState=e.saveState)}_GetPropertyKeyframeStubs(e,t=!1){const n=[];for(const s of e){const e=s.GetTrack().GetStartOffset();for(const r of s.GetPropertyKeyframeDataItems())t&&0===r.GetTime()?n.push({time:e+r.GetTime(),value:r.GetAbsoluteValue()}):t||n.push({time:e+r.GetTime(),value:r.GetAbsoluteValue()})}return n.sort((e,t)=>e.time-t.time)}_GetLastPropertyKeyframeStub(e,t,n){return this._GetPropertyKeyframeStubLowerThanPlayhead(t,n)}_GetPropertyKeyframeStubLowerThanPlayhead(e,t){for(let n=t.length-1;n>=0;n--)if(t[n].time<=e)return t[n];return null}}}{const ag=self.C3,ig=new Map,lg=[0,0,0];class dg extends ag.PropertyTrackState.PropertyInterpolationAdapter{constructor(e){super(e)}SetResetState(){}SetInitialState(){}SetResumeState(){}GetCurrentState(){const e=this._propertyTrack.GetSourceAdapterId(),t=this._GetTarget(),n=this._GetIndex();switch(e){case"behavior":case"plugin":return this._ToColorArray(t.GetPropertyValueByIndex(n));case"effect":return this._ToColorArray(t[n]);case"world-instance":return this._ToColorArray(this._Getter())}}CompareInitialStateWithCurrent(){const e=this._FirstKeyframeGetter();return!this._CompareColors(e,this._Getter())}CompareSaveStateWithCurrent(){return!ag.IsNullOrUndefined(this._saveState)&&!this._CompareColors(this._saveState,this._Getter())}_CompareColors(e,t){return e=this._GetColorFromArray(e),t=this._GetColorFromArray(t),e.equalsIgnoringAlpha(t)}_FirstKeyframeGetter(){const e=super._FirstKeyframeGetter();return this._GetColorFromArray(e)}_CurrentKeyframeGetter(){const e=super._CurrentKeyframeGetter();return this._GetColorFromArray(e)}_GetAbsoluteInitialValue(e){}_ToColorArray(e){return ag.IsInstanceOf(e,ag.Color)?e.toArray().slice(0,3):e.slice(0,3)}_GetColorFromArray(e){return ag.IsInstanceOf(e,ag.Color)?e:new ag.Color(e[0],e[1],e[2],1)}CanChange(e){return!0}MayNeedBeforeAndAfterInterpolate(){return!0}BeforeChangeProperty(){const e=this._propertyTrack.GetTimeline(),t=this._propertyTrack.GetInstance(),n=this._propertyTrack.GetSourceAdapter(),s=e.GetSimilarPropertyTracks(t,n,this._property,this._propertyTrack);if(s&&s.length>1){ig.has(t)||ig.set(t,new Map);const e=ig.get(t),n=this._propertyTrack.GetSourceAdapterId();e.has(n)||e.set(n,new Map);const s=e.get(n);s.has(this._property)||s.set(this._property,{used:!1,color:new ag.Color(0,0,0,1)})}}_GetTmpColor(e,t,n){const s=ig.get(e).get(t).get(n);return s.used=!0,s.color}ChangeProperty(e,t,n,s,r,o,a,i){const l=this._propertyTrack.GetTimeline(),d=this._propertyTrack.GetTrack(),c=this._propertyTrack.GetInstance(),u=this._propertyTrack.GetSourceAdapter(),h=this._propertyTrack.GetSourceAdapterId(),_=this._property,G=l.GetSimilarPropertyTracks(c,u,_,this._propertyTrack);if(G&&G.length>1){const e=this._GetPropertyKeyframeStubs(G,!0),n=this._GetLastPropertyKeyframeStub(l,l.GetTime(),e);if(n){const e=d.GetStartOffset(),s=n.time-e;if(0===s)this._GetTmpColor(c,h,this._property).addRgb(t[0],t[1],t[2]);else{if(s<0)return;const e=t[0],n=t[1],r=t[2],o=this._propertyTrack.Interpolate(s,!1,!0),a=ag.Color.DiffChannel(e,o[0]),i=ag.Color.DiffChannel(n,o[1]),l=ag.Color.DiffChannel(r,o[2]);this._GetTmpColor(c,h,this._property).addRgb(a,i,l)}}}else this._Setter(t[0],t[1],t[2])}AfterChangeProperty(){const e=this._propertyTrack.GetInstance();if(!ig.has(e))return;const t=ig.get(e),n=this._propertyTrack.GetSourceAdapterId();if(!t.has(n))return;const s=t.get(n);if(!s.has(this._property))return;const r=s.get(this._property),o=r.used,a=r.color;o&&this._Setter(a.getR(),a.getG(),a.getB()),0===s.size&&t.delete(n),0===t.size&&ig.delete(e)}_Getter(){const e=this._propertyTrack.GetSourceAdapterId(),t=this._GetTarget(),n=this._GetIndex();switch(e){case"behavior":case"plugin":return this._GetColorFromArray(t.GetPropertyValueByIndex(n));case"effect":return t[n].clone();case"world-instance":return this.GetWorldInfo().GetUnpremultipliedColor().clone()}}_Setter(e,t,n){const s=this._propertyTrack.GetSourceAdapterId(),r=this._GetTarget(),o=this._GetIndex();switch(s){case"behavior":case"plugin":lg[0]=e,lg[1]=t,lg[2]=n,r.SetPropertyValueByIndex(o,lg);break;case"effect":r[o].setRgb(e,t,n);break;case"world-instance":this.GetWorldInfo().SetUnpremultipliedColorRGB(e,t,n)}}_SaveToJson(){}_LoadFromJson(e){}}ag.PropertyTrackState.PropertyInterpolationAdapter.ColorInterpolationAdapter=dg}{const cg=self.C3,ug=cg.PropertyTrackState;class hg extends cg.PropertyTrackState.PropertyInterpolationAdapter{constructor(e){super(e)}SetResetState(){}SetInitialState(){}SetResumeState(){}GetCurrentState(){return this._Getter()}CompareInitialStateWithCurrent(){return this._FirstKeyframeGetter()!==this.GetCurrentState()}CompareSaveStateWithCurrent(){return!cg.IsNullOrUndefined(this._saveState)&&this._saveState!==this.GetCurrentState()}MayNeedBeforeAndAfterInterpolate(){return!1}ChangeProperty(e,t,n,s,r,o,a,i){const l=this._propertyTrack,d=l.GetTrack(),c=l.GetSourceAdapterId(),u=l.GetTimeline(),h=d.GetInstance(),_=l.GetSourceAdapter(),G=this._property,p=u.GetSimilarPropertyTracks(h,_,G,l);if(p&&p.length>1){const n=this._GetPropertyKeyframeStubs(p),s=e+d.GetStartOffset(),r=this._GetLastPropertyKeyframeStub(u,s,n);r&&(t=r.value)}switch(l.GetPropertyKeyframeType()){case"numeric":if(!ug.NumericTypeAdapter.WillChange(this._GetIndex(),this._GetTarget(),t,c))return;break;case"angle":if(!ug.AngleTypeAdapter.WillChange(this._GetIndex(),this._GetTarget(),t,c))return;break;case"boolean":if(!ug.BooleanTypeAdapter.WillChange(this._GetIndex(),this._GetTarget(),t,c))return;break;case"color":if(!ug.ColorTypeAdapter.WillChange(this._GetIndex(),this._GetTarget(),t,c))return;break;case"text":if(!ug.TextTypeAdapter.WillChange(this._GetIndex(),this._GetTarget(),t,c))return}this._Setter(t)}_Getter(){const e=this._propertyTrack.GetSourceAdapterId(),t=this._GetTarget(),n=this._GetIndex();switch(e){case"behavior":case"plugin":return t.GetPropertyValueByIndex(n);case"effect":return t[n];case"instance-variable":return t.GetInstanceVariableValue(n)}}_Setter(e){const t=this._propertyTrack.GetSourceAdapterId(),n=this._GetTarget(),s=this._GetIndex();switch(t){case"behavior":case"plugin":n.SetPropertyValueByIndex(s,e);break;case"effect":n[s]=e;break;case"instance-variable":n.SetInstanceVariableValue(s,e)}}}cg.PropertyTrackState.PropertyInterpolationAdapter.NoInterpolationAdapter=hg}{const _g=self.C3,Gg=_g.PropertyTrackState.PropertyInterpolationAdapter,pg=new Map,mg=(e,t,n,s,r,o=!1,a=null,i=null)=>{pg.set(e,{setter:t,absolute_setter:n,getter:s,round:r,fRound:o,init:a,reset:i})},gg=(e,t)=>{const n=t.GetTimeline().GetTrackFromInstance(e.GetInstance());if(n)return n.GetOriginalWidth();const s=e.GetInstance().GetSdkInstance();return s.IsOriginalSizeKnown()?s.GetOriginalWidth():e._GetSceneGraphInfo()._GetStartWidth()},fg=(e,t,n,s=0)=>{const r=t.GetTimeline().GetTrackFromInstance(e.GetInstance());if(!r)return s;const o=r.GetPropertyTrack(n);if(!o)return s;const a=o.GetPropertyTrackDataItem().GetPropertyKeyframeData();if(!a)return s;const i=a.GetLastPropertyKeyframeDataItem();return i?i.GetValue():s},Ng=e=>{const t=[];let n=e.GetParent();for(;n;)t.push(n),n=n.GetParent();return t.reverse(),t};mg("offsetX",(e,t,n,s)=>{"relative"===s._propertyTrack.GetResultMode()?e.OffsetX(t,n.GetTimeline().GetTransformWithSceneGraph()):e.OffsetX(t)},(e,t)=>e.SetX(t),e=>e.GetX(),!0),mg("offsetY",(e,t,n,s)=>{"relative"===s._propertyTrack.GetResultMode()?e.OffsetY(t,n.GetTimeline().GetTransformWithSceneGraph()):e.OffsetY(t)},(e,t)=>e.SetY(t),e=>e.GetY(),!0),mg("offsetWidth",(e,t,n,s,r=!1,o=!0)=>{if(0===t)return;const a="relative"===s._propertyTrack.GetResultMode(),i=1===s._typeAdapter.GetType();if((a||i)&&e.HasParent()&&e.GetTransformWithParentWidth()){if(isNaN(s._absoluteToFactor)){const t=Ng(e);let n;n=i?t[t.length-1].GetWidth():t[t.length-1]._GetSceneGraphInfo()._GetStartWidth(),s._absoluteToFactor=0===n?Number.EPSILON:n}if(r)return;s._absoluteWidthOffset+=t;const n=t/s._absoluteToFactor;e.OffsetWidth(n,o),s._changeAccumulator+=n}else e.OffsetWidth(t),s._changeAccumulator+=t},(e,t)=>e.SetWidth(t),e=>e.GetWidth(),!0,!1,null,e=>{e._changeAccumulator=0,e._absoluteWidthOffset=0}),mg("offsetHeight",(e,t,n,s,r=!1,o=!0)=>{if(0===t)return;const a="relative"===s._propertyTrack.GetResultMode(),i=1===s._typeAdapter.GetType();if((a||i)&&e.HasParent()&&e.GetTransformWithParentHeight()){if(isNaN(s._absoluteToFactor)){const t=Ng(e);let n;n=i?t[t.length-1].GetHeight():t[t.length-1]._GetSceneGraphInfo()._GetStartHeight(),s._absoluteToFactor=0===n?Number.EPSILON:n}if(r)return;s._absoluteHeightOffset+=t;const n=t/s._absoluteToFactor;e.OffsetHeight(n,o),s._changeAccumulator+=n}else e.OffsetHeight(t),s._changeAccumulator+=t},(e,t)=>e.SetHeight(t),e=>e.GetHeight(),!0,!1,null,e=>{e._changeAccumulator=0,e._absoluteHeightOffset=0}),mg("offsetAngle",(e,t,n,s,r)=>{e.OffsetAngle(t)},(e,t)=>e.SetAngle(t),e=>e.GetAngle(),!1,!0),mg("offsetOpacity",(e,t,n,s,r)=>{t/=s._opacityFactor?s._opacityFactor:1;const o=e.GetOpacity()+t;if(0===s._clampAccumulator)o>1?s._clampAccumulator+=o-1:o<0&&(s._clampAccumulator+=o),e.OffsetOpacity(t);else{const n=e.GetOpacity()+t;t>0&&s._clampAccumulator>0?n>1&&(s._clampAccumulator+=n-1):t>0&&s._clampAccumulator<0?(s._clampAccumulator+=t,s._clampAccumulator>0&&(e.OffsetOpacity(s._clampAccumulator),s._clampAccumulator=0)):t<0&&s._clampAccumulator>0?(s._clampAccumulator+=t,s._clampAccumulator<0&&(e.OffsetOpacity(s._clampAccumulator),s._clampAccumulator=0)):t<0&&s._clampAccumulator<0&&n<0&&(s._clampAccumulator+=n)}},(e,t)=>{e.SetOpacity(t)},e=>e.GetOpacity(),!1,!0,(e,t,n)=>{switch(e._clampAccumulator=0,e._propertyTrack.GetResultMode()){case"relative":{e._propertyTrack.GetPropertyTrackData();const t=e._propertyTrack.GetPropertyTrackDataItem().GetPropertyKeyframeData().GetPropertyKeyframeDataItemArray();let n=e.GetWorldInfo().GetOpacity(),s=n;for(const r of t){const t=r.GetTime();s=n+e._propertyTrack.GetInterpolatedValue(t),s=_g.clamp(s,0,1)}e._totalForewardOpacityDelta=n-s,e._totalForewardOpacityDelta=Math.round(100*(e._totalForewardOpacityDelta+Number.EPSILON))/100,s=n;for(let n=t.length-1;n>=0;n--){const r=t[n].GetTime();s-=e._propertyTrack.GetInterpolatedValue(r),s=_g.clamp(s,0,1)}e._totalBackwardOpacityDelta=s,e._totalBackwardOpacityDelta=Math.round(100*(e._totalBackwardOpacityDelta+Number.EPSILON))/100;break}}const s="relative"===e._propertyTrack.GetResultMode(),r=1===e._typeAdapter.GetType();if((s||r)&&t.HasParent()&&t.GetTransformWithParentOpacity()){const s=Ng(t);let r=s[0]._GetSceneGraphInfo().GetStartOpacity();r+=fg(s[0],n,"offsetOpacity");for(let e=1;e<s.length;e++)r+=fg(s[e],n,"offsetOpacity");e._opacityFactor=0===r?1:r}},e=>{switch(e._propertyTrack.GetResultMode()){case"relative":{e._clampAccumulator=0;const t=e.GetWorldInfo();let n=t.GetOpacity();n=Math.round(100*(n+Number.EPSILON))/100,e._propertyTrack.GetTimeline().IsForwardPlayBack()?(t.SetOpacity(n+e._totalForewardOpacityDelta),e._lastValue=0):(t.SetOpacity(n-e._totalBackwardOpacityDelta),e._lastValue=e.GetSourceAdapter().GetValueAtTime());break}}}),mg("offsetOriginX",(e,t)=>e.OffsetOriginX(t),(e,t)=>e.SetOriginX(t),e=>e.GetOriginX(),!1),mg("offsetOriginY",(e,t)=>e.OffsetOriginY(t),(e,t)=>e.SetOriginY(t),e=>e.GetOriginY(),!1),mg("offsetZElevation",(e,t)=>e.OffsetZElevation(t),(e,t)=>e.SetZElevation(t),e=>e.GetZElevation(),!0),mg("offsetScaleX",(e,t,n,s)=>{if(0===t)return;const r=e.GetWidth()<0?-1:1;if(s._absoluteScaleXOffset+=t,"relative"===s._propertyTrack.GetResultMode()&&e.HasParent()&&e.GetTransformWithParentWidth()){const o=fg(e,n,"offsetWidth"),a=isNaN(s._originalSize)?n.GetOriginalWidth():s._originalSize,i=(a+o/(e._GetSceneGraphInfo()._GetStartWidth()/a))*r*t;isNaN(s._absoluteToFactor)&&pg.get("offsetWidth").setter(e,1,n,s,!0);const l=i/s._absoluteToFactor;e.OffsetWidth(l,!0),s._changeAccumulator+=l}else{const o=(isNaN(s._originalSize)?n.GetOriginalWidth():s._originalSize)*r*t;e.OffsetWidth(o),s._changeAccumulator+=o}},(e,t,n)=>{e.SetWidth(n.GetOriginalWidth()*t)},(e,t)=>{const n=e.GetWidth()<0?-1:1;if(e.GetTransformWithParentWidth()){const s=e.GetParent(),r=t.GetTimeline().GetTrackFromInstance(s.GetInstance());let o=NaN;if(r)o=s.GetWidth()/r.GetOriginalWidth();else{const e=s.GetInstance().GetSdkInstance();o=e.IsOriginalSizeKnown()?s.GetWidth()/e.GetOriginalWidth():1}return e.GetWidth()*n/(t.GetOriginalWidth()*o)}return e.GetWidth()*n/t.GetOriginalWidth()},!1,!1,null,e=>{e._changeAccumulator=0,e._originalSize=NaN,e._absoluteScaleXOffset=0}),mg("offsetScaleY",(e,t,n,s)=>{if(0===t)return;const r=e.GetHeight()<0?-1:1;if(s._absoluteScaleYOffset+=t,"relative"===s._propertyTrack.GetResultMode()&&e.HasParent()&&e.GetTransformWithParentHeight()){const o=fg(e,n,"offsetHeight"),a=isNaN(s._originalSize)?n.GetOriginalHeight():s._originalSize,i=(a+o/(e._GetSceneGraphInfo()._GetStartHeight()/a))*r*t;isNaN(s._absoluteToFactor)&&pg.get("offsetHeight").setter(e,1,n,s,!0);const l=i/s._absoluteToFactor;e.OffsetHeight(l,!0),s._changeAccumulator+=l}else{const o=(isNaN(s._originalSize)?n.GetOriginalHeight():s._originalSize)*r*t;e.OffsetHeight(o),s._changeAccumulator+=o}},(e,t,n)=>{e.SetHeight(n.GetOriginalHeight()*t)},(e,t)=>{const n=e.GetHeight()<0?-1:1;if(e.GetTransformWithParentHeight()){const s=e.GetParent(),r=t.GetTimeline().GetTrackFromInstance(s.GetInstance());let o=NaN;if(r)o=s.GetHeight()/r.GetOriginalHeight();else{const e=s.GetInstance().GetSdkInstance();o=e.IsOriginalSizeKnown()?s.GetHeight()/e.GetOriginalHeight():1}return e.GetHeight()*n/(t.GetOriginalHeight()*o)}return e.GetHeight()*n/t.GetOriginalHeight()},!1,!1,null,e=>{e._changeAccumulator=0,e._originalSize=NaN,e._absoluteScaleYOffset=0});class bg extends _g.PropertyTrackState.PropertyInterpolationAdapter{constructor(e){super(e),this._lastValue=0,this._clampAccumulator=0,this._totalForewardOpacityDelta=0,this._totalBackwardOpacityDelta=0,this._opacityFactor=NaN,this._absoluteToFactor=NaN,this._changeAccumulator=0,this._originalSize=NaN,this._absoluteWidthOffset=0,this._absoluteScaleXOffset=0,this._absoluteHeightOffset=0,this._absoluteScaleYOffset=0,this._angleReflectMirrorOrFlip=void 0,this._angleReflectMirrorAndFlip=void 0,this._instance_getter=null,this._instance_setter=null,this._instance_absolute_setter=null,this._reset_action=null,this._init_action=null,this._source_adapter_getter=null,this._source_adapter_setter=null,this._source_adapter_absolute_setter=null,this._round=!1,this._fRound=!1,_g.IsInstanceOf(this._propertyTrack.GetTimeline(),_g.TweenState)?this._typeAdapter=new _g.PropertyTrackState.PropertyInterpolationAdapter.NumericInterpolationAdapterForTween(this):this._typeAdapter=new _g.PropertyTrackState.PropertyInterpolationAdapter.NumericInterpolationAdapterForTimeline(this);const t=this._propertyTrack.GetPropertyName();switch(this._propertyTrack.GetSourceAdapterId()){case"world-instance":{const e=pg.get(t);this._instance_getter=e.getter,this._instance_setter=e.setter,this._instance_absolute_setter=e.absolute_setter,this._round=e.round,this._fRound=e.fRound,this._init_action=e.init,this._reset_action=e.reset;break}case"audio":this._source_adapter_getter=e.Getter,this._source_adapter_setter=e.Setter,this._source_adapter_absolute_setter=e.AbsoluteSetter,this._round=!!e.DoesRounding(),this._fRound=!1}}Release(){this._typeAdapter=null,this._instance_getter=null,this._instance_setter=null,this._instance_absolute_setter=null,this._reset_action=null,this._init_action=null,this._source_adapter_getter=null,this._source_adapter_setter=null,this._source_adapter_absolute_setter=null,super.Release()}MayNeedBeforeAndAfterInterpolate(){return this._typeAdapter.MayNeedBeforeAndAfterInterpolate()}GetLastValue(){return this._lastValue}SetLastValue(e){this._lastValue=e}SetResetState(){this._reset_action&&this._reset_action(this)}SetInitialState(){const e=this._typeAdapter.SetInitialState();if("number"==typeof e&&(this._lastValue=e),this._init_action){const e=this.GetWorldInfo(),t=this._propertyTrack.GetTrack();this._init_action(this,e,t)}}SetResumeState(){const e=this._typeAdapter.SetResumeState();"number"==typeof e&&(this._lastValue=e)}GetCurrentState(){return this._Getter()}CompareInitialStateWithCurrent(){return this._FirstKeyframeGetter()!==this.GetCurrentState()}CompareSaveStateWithCurrent(){return!_g.IsNullOrUndefined(this._saveState)&&this._saveState!==this.GetCurrentState()}BeforeChangeProperty(){this._typeAdapter.BeforeChangeProperty()}ChangeProperty(e,t,n,s,r,o,a,i){return this._typeAdapter.ChangeProperty(e,t,n,s,r,o,a,i)}AfterChangeProperty(){this._typeAdapter.AfterChangeProperty()}_Getter(){const e=this._GetTarget(),t=this._GetIndex(),n=this.GetWorldInfo(),s=this._propertyTrack.GetTrack();switch(this._propertyTrack.GetSourceAdapterId()){case"behavior":case"plugin":return e.GetPropertyValueByIndex(t);case"effect":return e[t];case"instance-variable":return e.GetInstanceVariableValue(t);case"world-instance":return this._instance_getter(n,s);case"audio":return this._source_adapter_getter.call(this.GetSourceAdapter(),n,s)}}_Setter(e,t,n,s=!0){const r=this._GetTarget(),o=this._GetIndex(),a=this.GetWorldInfo(),i=this._propertyTrack.GetTrack();switch(this._propertyTrack.GetSourceAdapterId()){case"behavior":r.OffsetPropertyValueByIndex(o,e);break;case"effect":r[o]+=e;break;case"instance-variable":r.SetInstanceVariableOffset(o,e);break;case"plugin":r.OffsetPropertyValueByIndex(o,e,this.GetSourceAdapter().GetOptionalCallbacks());break;case"world-instance":this._instance_setter(a,e,i,this,!1,s);break;case"audio":this._source_adapter_setter.call(this.GetSourceAdapter(),a,e,i,this)}}_SetterAbsolute(e,t,n){let s=this._propertyTrack.GetInterpolationMode();if(s="default"===s?"continuous":s,"discrete"===s&&!t)return;if("discrete"===s&&n){const e=this._propertyTrack.GetTimeline().GetTime();if(!this._propertyTrack.GetPropertyKeyFrameDataItemAtTime(e))return}const r=this._GetTarget(),o=this._GetIndex(),a=this.GetWorldInfo(),i=this._propertyTrack.GetTrack();switch(this._propertyTrack.GetSourceAdapterId()){case"behavior":r.SetPropertyValueByIndex(o,e);break;case"effect":r[o]=e;break;case"instance-variable":r.SetInstanceVariableValue(o,e);break;case"plugin":r.SetPropertyValueByIndex(o,e,this.GetSourceAdapter().GetOptionalCallbacks());break;case"world-instance":this._instance_absolute_setter(a,e,i);break;case"audio":this._source_adapter_absolute_setter.call(this.GetSourceAdapter(),a,e,i)}}_MaybeEnsureValue(e,t,n,s,r,o,a,i){this._typeAdapter._MaybeEnsureValue(e,t,n,s,r,o,a,i)}_AddDelta(e,t,n,s,r){"angle"===this._propertyTrack.GetPropertyType()&&(e=_g.toDegrees(e));const o=(e.toString().split(".")[1]||"").length,a=this._Getter();let i;switch(i=0===o?this._round?Math.round(a):this._fRound?"angle"===this._propertyTrack.GetPropertyType()?_g.toRadians(Math.round(_g.toDegrees(a))):Number(_g.toFixed(a,2)):a:this._round?Number(_g.toFixed(a,o)):(this._fRound,a),this._Setter(i-a,t,n,!1),this._propertyTrack.GetPropertyName()){case"offsetWidth":case"offsetScaleX":{const e=this.GetWorldInfo(),t=e.GetWidth(),n=Number(_g.toFixed(t,2));e.OffsetWidth(n-t);break}case"offsetHeight":case"offsetScaleY":{const e=this.GetWorldInfo(),t=e.GetHeight(),n=Number(_g.toFixed(t,2));e.OffsetHeight(n-t);break}}}_SaveToJson(){return Object.assign(super._SaveToJson(),{v:this._lastValue,a:this._clampAccumulator,fod:this._totalForewardOpacityDelta,bod:this._totalBackwardOpacityDelta,of:this._opacityFactor,sf:this._absoluteToFactor,armorf:this._angleReflectMirrorOrFlip,armandf:this._angleReflectMirrorAndFlip,ca:this._changeAccumulator,os:this._originalSize,awo:this._absoluteWidthOffset,aho:this._absoluteHeightOffset,asxo:this._absoluteScaleXOffset,asyo:this._absoluteScaleYOffset})}_LoadFromJson(e){e&&(super._LoadFromJson(e),this._lastValue=e.v,this._clampAccumulator=e.a,this._totalForewardOpacityDelta=_g.IsFiniteNumber(e.fod)?e.fod:0,this._totalBackwardOpacityDelta=_g.IsFiniteNumber(e.bod)?e.bod:0,this._opacityFactor=_g.IsFiniteNumber(e.of)?e.of:NaN,this._absoluteToFactor=_g.IsFiniteNumber(e.sf)?e.sf:NaN,this._angleReflectMirrorOrFlip=_g.IsFiniteNumber(e.armorf)?e.armorf:void 0,this._angleReflectMirrorAndFlip=_g.IsFiniteNumber(e.armandf)?e.armandf:void 0,this._changeAccumulator=_g.IsFiniteNumber(e.ca)?e.ca:0,this._originalSize=_g.IsFiniteNumber(e.os)?e.os:NaN,this._absoluteWidthOffset=_g.IsFiniteNumber(e.awo)?e.awo:0,this._absoluteHeightOffset=_g.IsFiniteNumber(e.aho)?e.aho:0,this._absoluteScaleXOffset=_g.IsFiniteNumber(e.asxo)?e.asxo:0,this._absoluteScaleYOffset=_g.IsFiniteNumber(e.asyo)?e.asyo:0)}SetOriginalSizeProperty(e){this._originalSize=e}GetChangeAccumulatorProperty(){return this._changeAccumulator}GetAbsoluteWidthOffsetProperty(){return this._absoluteWidthOffset}GetAbsoluteHeightOffsetProperty(){return this._absoluteHeightOffset}GetAbsoluteScaleXOffsetProperty(){return this._absoluteScaleXOffset}GetAbsoluteScaleYOffsetProperty(){return this._absoluteScaleYOffset}}_g.PropertyTrackState.PropertyInterpolationAdapter.NumericInterpolationAdapter=bg}{const Sg=self.C3;class xg{constructor(e){this._used=!1,this._value=0,this._propertyKeyframeReached=!1,this._endState=!1,this._propertyTracks=e;for(let e=0,t=this._propertyTracks.length;e<t;e++)this._propertyTracks[e].SetAbsoluteValueObject(this)}GetPropertyTracks(){return this._propertyTracks}SetUsed(){this._used=!0}GetUsed(){return this._used}SetValue(e){this._value=e}GetValue(){return this._value}SetPropertyKeyframeReached(e){this._propertyKeyframeReached=e}GetPropertyKeyframeReached(){return this._propertyKeyframeReached}SetEndState(e){this._endState=e}GetEndState(){return this._endState}Reset(){this._used=!1,this._value=0,this._propertyKeyframeReached=!1,this._endState=!1}}class Ig{constructor(e){this._numericInterpolationAdapter=e}Release(){this._numericInterpolationAdapter=null}GetType(){return 0}SetInitialState(){const e=this._numericInterpolationAdapter;return this._numericInterpolationAdapter.GetPropertyTrack(),e._PickResultMode(()=>e._PickTimelinePlaybackMode(()=>0,()=>e.GetSourceAdapter().GetValueAtTime()),()=>{})}SetResumeState(){}MayNeedBeforeAndAfterInterpolate(){switch(this._numericInterpolationAdapter,this._numericInterpolationAdapter.GetPropertyTrack().GetResultMode()){case"relative":return!1;case"absolute":return!0}}BeforeChangeProperty(){this._numericInterpolationAdapter;const e=this._numericInterpolationAdapter.GetPropertyTrack(),t=e.GetPropertyName();switch(e.GetResultMode()){case"relative":break;case"absolute":if(e.HasAbsoluteValueObject())e.GetAbsoluteValueObject().Reset();else{const n=e.GetTimeline(),s=e.GetInstance(),r=e.GetSourceAdapter(),o=n.GetSimilarPropertyTracks(s,r,t,e);o&&o.length>1&&new xg(o)}}}ChangeProperty(e,t,n,s,r,o,a,i){const l=this._numericInterpolationAdapter,d=this._numericInterpolationAdapter.GetPropertyTrack();switch(d.GetResultMode()){case"relative":{const a=l.GetLastValue();l._Setter(t-a,n,s),o&&this._MaybeEnsureValue(e,n,s,r,a,t),l.SetLastValue(t);break}case"absolute":{const e=d.GetTimeline(),n=d.GetTrack();if(d.GetInstance(),d.GetSourceAdapter(),d.HasAbsoluteValueObject()){const s=d.GetAbsoluteValueObject(),r=s.GetPropertyTracks(),o=l._GetPropertyKeyframeStubs(r,!0),c=l._GetLastPropertyKeyframeStub(e,e.GetTime(),o);if(c){const e=n.GetStartOffset(),r=c.time-e;if(0===r)s.SetEndState(a),s.SetPropertyKeyframeReached(i),s.SetUsed(),s.SetValue(s.GetValue()+t);else{if(r<0)return;const e=d.GetInterpolatedValue(r);s.SetEndState(a),s.SetPropertyKeyframeReached(i),s.SetUsed(),s.SetValue(s.GetValue()+(t-e))}}}else l._SetterAbsolute(t,i,a);break}}}AfterChangeProperty(){const e=this._numericInterpolationAdapter,t=this._numericInterpolationAdapter.GetPropertyTrack();switch(t.GetResultMode()){case"relative":break;case"absolute":if(t.HasAbsoluteValueObject()){const n=t.GetAbsoluteValueObject();n.GetUsed()&&e._SetterAbsolute(n.GetValue(),n.GetPropertyKeyframeReached(),n.GetEndState())}}}_MaybeEnsureValue(e,t,n,s,r,o){const a=this._numericInterpolationAdapter;s||(t&&e===t.GetTime()?a._AddDelta(t.GetValueWithResultMode(),t,n):n&&e===n.GetTime()?a._AddDelta(n.GetValueWithResultMode(),t,n):o-r===0&&a._AddDelta(t.GetValueWithResultMode(),t,n))}}Sg.PropertyTrackState.PropertyInterpolationAdapter.NumericInterpolationAdapterForTimeline=Ig}{const yg=self.C3;class Eg{constructor(e){this._numericInterpolationAdapter=e}Release(){this._numericInterpolationAdapter=null}GetType(){return 1}SetInitialState(){const e=this._numericInterpolationAdapter;return e.SetFirstAbsoluteUpdate(!0),this._GetAbsoluteInitialValue(e._FirstKeyframeGetter())}SetResumeState(){const e=this._numericInterpolationAdapter;if(e._FirstKeyframeGetter()!==e._CurrentKeyframeGetter())return e.SetFirstAbsoluteUpdate(!0),this._GetAbsoluteInitialValue(e._CurrentKeyframeGetter())}MayNeedBeforeAndAfterInterpolate(){return!1}BeforeChangeProperty(){}ChangeProperty(e,t,n,s,r,o,a,i){const l=this._numericInterpolationAdapter,d=l.GetLastValue();switch(l.GetPropertyTrack().GetResultMode()){case"relative":l._Setter(t-d,n,s),o&&this._MaybeEnsureValue(e,n,s,r,d,t,!1,a);break;case"absolute":l.GetFirstAbsoluteUpdate()?(l.SetFirstAbsoluteUpdate(!1),l._Setter(d,n,s)):0===e&&0===l.GetPropertyTrack().GetTimeline().GetTotalTime()?l._SetterAbsolute(t,!0,!1):(l._Setter(t-d,n,s),o&&this._MaybeEnsureValue(e,n,s,r,d,t,this._ForceEndValue(),a))}l.SetLastValue(t)}AfterChangeProperty(){}_GetAbsoluteInitialValue(e){return e-this._numericInterpolationAdapter.GetCurrentState()}_ForceEndValue(){const e=this._numericInterpolationAdapter,t=e.GetWorldInfo().GetInstance(),n=e.GetPropertyTrack().GetRuntime().GetTimelineManager();let s=0;for(const e of n.GetPlayingTimelines())0===e.GetType()?e.HasTrackInstance(t)&&s++:1===e.GetType()&&e.GetInstance()===t&&s++;return s<=1}_MaybeEnsureValue(e,t,n,s,r,o,a,i){const l=this._numericInterpolationAdapter;s?t&&e===t.GetTime()?l._AddDelta(t.GetValueWithResultMode(),t,n,a,i):n&&e===n.GetTime()?l._AddDelta(n.GetValueWithResultMode(),t,n,a,i):n||l._AddDelta(t.GetValueWithResultMode(),t,n,a,i):t&&e===t.GetTime()?l._AddDelta(t.GetValueWithResultMode(),t,n,a,i):n&&e===n.GetTime()?l._AddDelta(n.GetValueWithResultMode(),t,n,a,i):o-r===0&&l._AddDelta(t.GetValueWithResultMode(),t,n,a,i)}}yg.PropertyTrackState.PropertyInterpolationAdapter.NumericInterpolationAdapterForTween=Eg}{const Tg=self.C3,Cg=self.Ease;Tg.PropertyTrackState.NumericTypeAdapter=class{constructor(){}static WillChange(e,t,n,s){let r;switch(s){case"behavior":case"plugin":r=t.GetPropertyValueByIndex(e);break;case"effect":r=t[e];break;case"instance-variable":r=t.GetInstanceVariableValue(e)}return r!==n}static Interpolate(e,t,n,s){if(!n){let e=s.GetPropertyTrackDataItem();return e=s.GetPropertyTrackData().GetLastPropertyKeyframeDataItem(e),e.GetValueWithResultMode()}let r=s.GetInterpolationMode();if("default"===r&&(r="continuous"),"combo"===s.GetPropertyType()&&(r="discrete"),"discrete"===r)return t.GetValueWithResultMode();if("continuous"===r||"step"===r){const o=s.GetTimeline().GetStep();if("step"===r&&0!==o){const t=1/o;e=Math.floor(e*t)/t}const a=t.GetValueWithResultMode(),i=n.GetValueWithResultMode(),l=t.GetAddOn("cubic-bezier"),d=n.GetAddOn("cubic-bezier"),c=l&&l.GetStartEnable()&&d&&d.GetEndEnable();if(!c&&a===i)return a;const u=t.GetTime(),h=n.GetTime();"step"===r&&0!==o&&(e=Tg.clamp(e,u,h));const _=Tg.normalize(e,u,h),G=t.GetEase();let p;if(c){const e=h-u;p=Cg.GetRuntimeEase(G)(e*_,0,1,e),p=Cg.GetRuntimeEase("cubicbezier")(p,a,a+l.GetStartAnchor(),i+d.GetEndAnchor(),i)}else p=Cg.GetRuntimeEase(G)((h-u)*_,a,i-a,h-u);return"integer"===s.GetPropertyType()?Math.floor(p):p}}}}{const Mg=self.C3;Mg.PropertyTrackState.AngleTypeAdapter=class{constructor(){}static WillChange(e,t,n,s){let r;switch(s){case"behavior":case"plugin":r=t.GetPropertyValueByIndex(e);break;case"effect":r=t[e];break;case"instance-variable":r=t.GetInstanceVariableValue(e)}return r!==n}static Interpolate(e,t,n,s){if(!n){let e=s.GetPropertyTrackDataItem();return e=s.GetPropertyTrackData().GetLastPropertyKeyframeDataItem(e),e.GetValueWithResultMode()}let r=s.GetInterpolationMode();if("default"===r&&(r="continuous"),"combo"===s.GetPropertyType()&&(r="discrete"),"discrete"===r)return t.GetValueWithResultMode();if("continuous"===r||"step"===r){const o=s.GetTimeline().GetStep();if("step"===r&&0!==o){const t=1/o;e=Math.floor(e*t)/t}const a=t.GetTime(),i=n.GetTime(),l=t.GetValueWithResultMode(),d=n.GetValueWithResultMode();"step"===r&&0!==o&&(e=Mg.clamp(e,a,i));const c=t.GetAddOn("angle");if(!c){if(l===d)return l;const n=Mg.normalize(e,a,i),s=self.Ease.GetRuntimeEase(t.GetEase());return Mg.angleLerp(l,d,s(n,0,1,1))}{const n=c.GetRevolutions();if(l===d&&0===n)return l;const s=Mg.normalize(e,a,i),r=self.Ease.GetRuntimeEase(t.GetEase())(s,0,1,1);switch(c.GetDirection()){case"closest":return Mg.angleLerp(l,d,r,n);case"clockwise":return Mg.angleLerpClockwise(l,d,r,n);case"anti-clockwise":return Mg.angleLerpAntiClockwise(l,d,r,n)}}}}}}{const Vg=self.C3;Vg.PropertyTrackState.BooleanTypeAdapter=class{constructor(){}static WillChange(e,t,n,s){let r;switch(s){case"behavior":case"plugin":r=t.GetPropertyValueByIndex(e);break;case"effect":r=t[e];break;case"instance-variable":r=t.GetInstanceVariableValue(e)}return!!r!=!!n}static Interpolate(e,t,n,s){if(!n){let e=s.GetPropertyTrackDataItem();return e=s.GetPropertyTrackData().GetLastPropertyKeyframeDataItem(e),e.GetValueWithResultMode()?1:0}return t.GetValueWithResultMode()?1:0}}}{const Bg=self.C3,Og=[0,0,0],vg=[0,0,0],Pg=[0,0,0];Bg.PropertyTrackState.ColorTypeAdapter=class{constructor(){}static WillChange(e,t,n,s){let r;switch(s){case"behavior":case"plugin":r=t.GetPropertyValueByIndex(e);break;case"effect":r=t[e];break;case"instance-variable":r=t.GetInstanceVariableValue(e)}return Array.isArray(n)?(Og[0]=n[0],Og[1]=n[1],Og[2]=n[2]):(Pg.parseCommaSeparatedRgb(n),Og[0]=Math.floor(255*Pg.getR()),Og[1]=Math.floor(255*Pg.getG()),Og[2]=Math.floor(255*Pg.getB())),Array.isArray(r)?(vg[0]=r[0],vg[1]=r[1],vg[2]=r[2]):(Pg.parseCommaSeparatedRgb(r),vg[0]=Math.floor(255*Pg.getR()),vg[1]=Math.floor(255*Pg.getG()),vg[2]=Math.floor(255*Pg.getB())),Og[0]!==vg[0]||Og[1]!==vg[1]||Og[2]!==vg[2]}static Interpolate(e,t,n,s){if(!n){let e=s.GetPropertyTrackDataItem();e=s.GetPropertyTrackData().GetLastPropertyKeyframeDataItem(e);const t=e.GetValueWithResultMode();return Og[0]=t[0],Og[1]=t[1],Og[2]=t[2],Og}let r=s.GetInterpolationMode();if("default"===r&&(r="continuous"),"discrete"===r){const e=t.GetValueWithResultMode();return Og[0]=e[0],Og[1]=e[1],Og[2]=e[2],Og}if("continuous"===r||"step"===r){const o=s.GetTimeline().GetStep();if("step"===r&&0!==o){const t=1/o;e=Math.floor(e*t)/t}const a=t.GetTime(),i=n.GetTime(),l=t.GetValueWithResultMode(),d=n.GetValueWithResultMode();"step"===r&&0!==o&&(e=Bg.clamp(e,a,i));const c=Bg.normalize(e,a,i),u=t.GetEase(),h=l[0],_=l[1],G=l[2],p=d[0],m=d[1],g=d[2],f=self.Ease.GetRuntimeEase(u),N=i-a,b=N*c;return Og[0]=h===p?h:f(b,h,p-h,N),Og[1]=_===m?_:f(b,_,m-_,N),Og[2]=G===g?G:f(b,G,g-G,N),Og}}}}{const wg=self.C3;wg.PropertyTrackState.TextTypeAdapter=class{constructor(){}static WillChange(e,t,n,s){let r;switch(s){case"behavior":case"plugin":r=t.GetPropertyValueByIndex(e);break;case"effect":r=t[e];break;case"instance-variable":r=t.GetInstanceVariableValue(e)}return r!==n}static Interpolate(e,t,n,s){if(!n){let e=s.GetPropertyTrackDataItem();return e=s.GetPropertyTrackData().GetLastPropertyKeyframeDataItem(e),e.GetValueWithResultMode()}return t.GetValueWithResultMode()}}}{const Ag=self.C3;Ag.TimelineDataManager=class{constructor(){this._timelineDataItems=new Map}Release(){for(const e of this._timelineDataItems.values())e.Release();this._timelineDataItems.clear(),this._timelineDataItems=null}Add(e){const t=new Ag.TimelineDataItem(e),n=t.GetName();this._timelineDataItems.set(n,t)}Get(e){return this._timelineDataItems.get(e)}GetNameId(){return 0}static _CreateDataItems(e,t,n,s){if(t)for(const r of t)Ag.TimelineDataManager._CreateDataItem("create",r,e,n,s)}static _CreateDataItemsIncludingDisabled(e,t,n,s){if(t)for(const r of t)Ag.TimelineDataManager._CreateDataItem("create-including-disabled",r,e,n,s)}static _LoadDataItemsFromJson(e,t,n,s){e.length?t.forEach((t,n)=>{e[n]._LoadFromJson(t)}):t.forEach(t=>{Ag.TimelineDataManager._CreateDataItem("load",t,e,n,s)})}static _CreateDataItem(e,t,n,s,r){let o;if("function"==typeof s)switch(e){case"load":o=new s(null,r);break;case"create":case"create-including-disabled":o=new s(t,r)}else if("object"==typeof s){const n=t[s.prop],a=s.map.get(n);switch(e){case"load":o=new a(null,r);break;case"create":case"create-including-disabled":o=new a(t,r)}}switch(e){case"load":o._LoadFromJson(t),n.push(o);break;case"create":if("function"==typeof o.GetEnable&&!o.GetEnable())return o.Release();n.push(o);break;case"create-including-disabled":n.push(o)}}}}{const Dg=self.C3,Rg=0,Fg=1,jg=2,kg=3,Lg=4,Wg=5,Ug=6,Hg=7,zg=8,Yg=9,Xg=10,qg=11;Dg.TimelineDataItem=class{constructor(e){this._name="",this._totalTime=NaN,this._step=0,this._interpolationMode="default",this._resultMode="default",this._loop=!1,this._pingPong=!1,this._repeatCount=1,this._trackData=null,this._startOnLayout="",this._transformWithSceneGraph=!1,this._useSystemTimescale=!0,e&&(this._name=e[0],this._totalTime=e[1],this._step=e[2],this._interpolationMode=e[3],this._resultMode=e[4],this._loop=!!e[6],this._pingPong=!!e[7],this._repeatCount=e[8],this._startOnLayout=e[9],this._transformWithSceneGraph=!!e[10],this._useSystemTimescale=!!e[11],this._trackData=new Dg.TrackData(e[5],this))}Release(){this._trackData.Release(),this._trackData=null}GetTrackData(){return this._trackData||(this._trackData=new Dg.TrackData(null,this)),this._trackData}GetName(){return this._name}SetName(e){this._name=e}GetTotalTime(){return this._totalTime}SetTotalTime(e){this._totalTime=e}GetStep(){return this._step}SetStep(e){this._step=e}GetInterpolationMode(){return this._interpolationMode}SetInterpolationMode(e){this._interpolationMode=e}GetResultMode(){return this._resultMode}SetResultMode(e){this._resultMode=e}GetLoop(){return this._loop}SetLoop(e){this._loop=e}GetPingPong(){return this._pingPong}SetPingPong(e){this._pingPong=e}GetRepeatCount(){return this._repeatCount}SetRepeatCount(e){this._repeatCount=e}GetStartOnLayout(){return this._startOnLayout}GetTransformWithSceneGraph(){return this._transformWithSceneGraph}GetUseSystemTimescale(){return this._useSystemTimescale}_SaveToJson(){return{trackDataJson:this._trackData._SaveToJson(),name:this._name,totalTime:this._totalTime,step:this._step,interpolationMode:this._interpolationMode,resultMode:this._resultMode,loop:this._loop,pingPong:this._pingPong,repeatCount:this._repeatCount,startOnLayout:this._startOnLayout,transformWithSceneGraph:!!this._transformWithSceneGraph,useSystemTimescale:this._useSystemTimescale}}_LoadFromJson(e){e&&(this.GetTrackData()._LoadFromJson(e.trackDataJson),this._name=e.name,this._totalTime=e.totalTime,this._step=e.step,this._interpolationMode=e.interpolationMode,this._resultMode=e.resultMode,this._loop=e.loop,this._pingPong=e.pingPong,this._repeatCount=e.repeatCount,this._startOnLayout=e.startOnLayout,this._transformWithSceneGraph=!!e.transformWithSceneGraph,this._useSystemTimescale=!!e.useSystemTimescale)}}}{const Kg=self.C3,Jg=0,$g=1,Zg=2,Qg=1,ef=2,tf=3,nf=4,sf=5,rf=6,of=7,af=0,lf=1,df=8,cf=0,uf=1,hf=9,_f=10;class Gf{constructor(e,t){this._trackData=t,this._instanceData=null,this._additionalInstanceData=null,this._instanceUid=NaN,this._objectClassIndex=NaN,this._interpolationMode="default",this._resultMode="default",this._enabled=!1,this._keyframeData=null,this._propertyTrackData=null,this._id="",this._nestedData=null,this._startOffset=0,this._localTotalTime=this._trackData.GetTimelineDataItem().GetTotalTime(),this._type=0,this._name="",e&&(e[0]&&(this._instanceData=e[0],this._instanceUid=e[0][2],this._objectClassIndex=e[0][1]),this._interpolationMode=e[1],this._resultMode=e[2],this._enabled=!!e[3],e[6]&&(this._id=e[6]),e[7]&&(this._nestedData=e[7],this._startOffset=e[7][0],this._localTotalTime=e[7][1]),e[8]&&(this._additionalInstanceData=e[8]),e[8]&&(this._additionalInstanceData=e[8]),e[9]&&(this._type=e[9]),e[10]&&(this._name=e[10]),this._keyframeData=new Kg.KeyframeData(e[4],this),this._propertyTrackData=new Kg.PropertyTrackData(e[5],this))}Release(){this._instanceData=null,this._trackData=null,this._keyframeData&&(this._keyframeData.Release(),this._keyframeData=null),this._propertyTrackData&&(this._propertyTrackData.Release(),this._propertyTrackData=null),this._nestedData=null}GetTrackData(){return this._trackData}GetKeyframeData(){return this._keyframeData||(this._keyframeData=new Kg.KeyframeData(null,this)),this._keyframeData}GetPropertyTrackData(){return this._propertyTrackData||(this._propertyTrackData=new Kg.PropertyTrackData(null,this)),this._propertyTrackData}GetInstanceData(){return this._instanceData}GetObjectClassIndex(){return this._objectClassIndex}SetObjectClassIndex(e){this._objectClassIndex=e}GetInstanceUID(){return this._instanceUid}SetInstanceUID(e){this._instanceUid=e}GetInterpolationMode(){return this._interpolationMode}SetInterpolationMode(e){this._interpolationMode=e}GetResultMode(){return this._resultMode}SetResultMode(e){this._resultMode=e}GetEnable(){return this._enabled}SetEnable(e){this._enabled=!!e}GetId(){return this._id}GetStartOffset(){return this._startOffset}GetLocalTotalTime(){return this._localTotalTime}SetLocalTotalTime(e){this._localTotalTime=e}GetOriginalWidth(){return this._additionalInstanceData[0]}SetOriginalWidth(e){this._additionalInstanceData||(this._additionalInstanceData=[]),this._additionalInstanceData[0]=e}GetOriginalHeight(){return this._additionalInstanceData||(this._additionalInstanceData=[]),this._additionalInstanceData[1]}SetOriginalHeight(e){this._additionalInstanceData||(this._additionalInstanceData=[]),this._additionalInstanceData[1]=e}GetType(){return this._type}GetName(){return this._name}_SaveToJson(){return{keyframeDataJson:this._keyframeData._SaveToJson(),propertyTrackDataJson:this._propertyTrackData._SaveToJson(),instanceData:this._instanceData,additionalInstanceData:this._additionalInstanceData,instanceUid:this._instanceUid,objectClassIndex:this._objectClassIndex,interpolationMode:this._interpolationMode,resultMode:this._resultMode,enabled:this._enabled,id:this._id,nestedData:this._nestedData,type:this._type,name:this._name}}_LoadFromJson(e){e&&(this._instanceData=e.instanceData,this._instanceUid=e.instanceUid,this._objectClassIndex=e.objectClassIndex,this._interpolationMode=e.interpolationMode,this._resultMode=e.resultMode,this._enabled=e.enabled,this._id=e.id,this._type=e.type?e.type:0,this._name=e.name?e.name:"",this._localTotalTime=this._trackData.GetTimelineDataItem().GetTotalTime(),e.nestedData&&(this._nestedData=e.nestedData,this._startOffset=this._nestedData[0],this._localTotalTime=this._nestedData[1]),e.additionalInstanceData&&(this._additionalInstanceData=e.additionalInstanceData),this.GetKeyframeData()._LoadFromJson(e.keyframeDataJson),this.GetPropertyTrackData()._LoadFromJson(e.propertyTrackDataJson))}}Kg.TrackData=class{constructor(e,t){this._timelineDataItem=t,this._trackDataItems=[],Kg.TimelineDataManager._CreateDataItems(this._trackDataItems,e,Gf,this)}Release(){this._timelineDataItem=null;for(const e of this._trackDataItems)e.Release();Kg.clearArray(this._trackDataItems),this._trackDataItems=null}GetTimelineDataItem(){return this._timelineDataItem}AddEmptyTrackDataItem(){const e=new Gf(null,this);return this._trackDataItems.push(e),e}GetFirstKeyframeDataItem(e){return e.GetKeyframeData().GetKeyframeDataItemArray()[0]}GetLastKeyframeDataItem(e){return e.GetKeyframeData().GetKeyframeDataItemArray().at(-1)}GetKeyFrameDataItemAtTime(e,t){const n=t.GetKeyframeData().GetKeyframeDataItemArray(),s=n.length;for(let t=0;t<s;t++){const s=n[t];if(s.GetTime()===e)return s}}GetFirstKeyFrameDataItemHigherThan(e,t){const n=t.GetKeyframeData().GetKeyframeDataItemArray(),s=n.length;for(let t=0;t<s;t++){const s=n[t];if(s.GetTime()>e)return s}}GetFirstKeyFrameDataItemHigherOrEqualThan(e,t){const n=t.GetKeyframeData().GetKeyframeDataItemArray(),s=n.length;for(let t=0;t<s;t++){const s=n[t];if(s.GetTime()>=e)return s}}GetFirstKeyFrameDataItemLowerOrEqualThan(e,t){const n=t.GetKeyframeData().GetKeyframeDataItemArray();for(let t=n.length-1;t>=0;t--){const s=n[t];if(s.GetTime()<=e)return s}}*trackDataItems(){for(const e of this._trackDataItems)yield e}_SaveToJson(){return{trackDataItemsJson:this._trackDataItems.map(e=>e._SaveToJson())}}_LoadFromJson(e){e&&Kg.TimelineDataManager._LoadDataItemsFromJson(this._trackDataItems,e.trackDataItemsJson,Gf,this)}}}{const pf=self.C3,mf=0,gf=0,ff=1,Nf=2,bf=3,Sf=4,xf=5,If=6,yf=7,Ef=8,Tf=9;class Cf{constructor(e,t){this._propertyTrackData=t,this._sourceAdapterId="",this._sourceAdapterArguments=null,this._property=null,this._type=null,this._min=NaN,this._max=NaN,this._interpolationMode="default",this._resultMode="default",this._enabled=!1,this._propertyKeyframeData=null,this._canHavePropertyKeyframes=!0,e&&(this._sourceAdapterId=e[0][0],this._sourceAdapterArguments=e[0].slice(1),this._property=e[1],this._type=e[2],this._min=e[3],this._max=e[4],this._interpolationMode=e[5],this._resultMode=e[6],this._enabled=!!e[7],this._propertyKeyframeData=new pf.PropertyKeyframeData(e[8],this),this._canHavePropertyKeyframes=e[9])}Release(){this._propertyKeyframeData.Release(),this._propertyKeyframeData=null,this._propertyTrackData=null,this._sourceAdapterArguments=null}GetPropertyTrackData(){return this._propertyTrackData}GetPropertyKeyframeData(){return this._propertyKeyframeData||(this._propertyKeyframeData=new pf.PropertyKeyframeData(null,this)),this._propertyKeyframeData}GetSourceAdapterId(){return this._sourceAdapterId}SetSourceAdapterId(e){this._sourceAdapterId=e}GetSourceAdapterArguments(){return this._sourceAdapterArguments}SetSourceAdapterArguments(e){this._sourceAdapterArguments=e}GetProperty(){return this._property}SetProperty(e){this._property=e}GetType(){return this._type}SetType(e){this._type=e}GetMin(){return this._min}SetMin(e){this._min=e}GetMax(){return this._max}SetMax(e){this._max=e}GetInterpolationMode(){return this._interpolationMode}SetInterpolationMode(e){this._interpolationMode=e}GetResultMode(){return this._resultMode}SetResultMode(e){this._resultMode=e}GetEnable(){return this._enabled}SetEnable(e){this._enabled=!!e}CanHavePropertyKeyframes(){return!!this._canHavePropertyKeyframes}_SaveToJson(){return{propertyKeyframeDataJson:this._propertyKeyframeData._SaveToJson(),sourceAdapterId:this._sourceAdapterId,sourceAdapterArguments:this._sourceAdapterArguments,property:this._property,type:this._type,min:this._min,max:this._max,interpolationMode:this._interpolationMode,resultMode:this._resultMode,enabled:this._enabled,canHavePropertyKeyframes:this._canHavePropertyKeyframes}}_LoadFromJson(e){e&&(this._sourceAdapterId=e.sourceAdapterId,this._sourceAdapterArguments=e.sourceAdapterArguments,this._property=e.property,this._type=e.type,this._min=e.min,this._max=e.max,this._interpolationMode=e.interpolationMode,this._resultMode=e.resultMode,this._enabled=e.enabled,this._canHavePropertyKeyframes=e.canHavePropertyKeyframes,this.GetPropertyKeyframeData()._LoadFromJson(e.propertyKeyframeDataJson))}}pf.PropertyTrackData=class{constructor(e,t){this._trackDataItem=t,this._propertyTrackDataItems=[],pf.TimelineDataManager._CreateDataItems(this._propertyTrackDataItems,e,Cf,this)}Release(){this._trackDataItem=null;for(const e of this._propertyTrackDataItems)e.Release();pf.clearArray(this._propertyTrackDataItems),this._propertyTrackDataItems=null}GetTrackDataItem(){return this._trackDataItem}AddEmptyPropertyTrackDataItem(){const e=new Cf(null,this);return this._propertyTrackDataItems.push(e),e}GetFirstPropertyKeyframeDataItem(e){return e.GetPropertyKeyframeData().GetPropertyKeyframeDataItemArray()[0]}GetLastPropertyKeyframeDataItem(e){return e.GetPropertyKeyframeData().GetPropertyKeyframeDataItemArray().at(-1)}GetPropertyKeyFrameDataItemAtTime(e,t){const n=t.GetPropertyKeyframeData().GetPropertyKeyframeDataItemArray(),s=n.length;for(let t=0;t<s;t++){const s=n[t];if(s.GetTime()===e)return s}}GetFirstPropertyKeyFrameDataItemHigherThan(e,t){const n=t.GetPropertyKeyframeData().GetPropertyKeyframeDataItemArray(),s=n.length;for(let t=0;t<s;t++){const s=n[t];if(s.GetTime()>e)return s}}GetFirstPropertyKeyFrameDataItemHigherOrEqualThan(e,t){const n=t.GetPropertyKeyframeData().GetPropertyKeyframeDataItemArray(),s=n.length;for(let t=0;t<s;t++){const s=n[t];if(s.GetTime()>=e)return s}}GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,t){const n=t.GetPropertyKeyframeData().GetPropertyKeyframeDataItemArray();for(let t=n.length-1;t>=0;t--){const s=n[t];if(s.GetTime()<=e)return s}}*propertyTrackDataItems(){for(const e of this._propertyTrackDataItems)yield e}_SaveToJson(){return{propertyTrackDataItemsJson:this._propertyTrackDataItems.map(e=>e._SaveToJson())}}_LoadFromJson(e){e&&pf.TimelineDataManager._LoadDataItemsFromJson(this._propertyTrackDataItems,e.propertyTrackDataItemsJson,Cf,this)}}}{const Mf=self.C3,Vf=0,Bf=1,Of=2,vf=3;class Pf{constructor(e,t){if(this._keyframeData=t,this._time=-1,this._ease="noease",this._enable=!1,this._tags=null,this._lowerTags=null,!e)return;this._time=e[0],this._ease=e[1],this._enable=!!e[2];const n=e[3];this._tags=n?n.split(" "):[],this._lowerTags=new Set(this._tags.map(e=>e.toLowerCase())),this._next=null,this._last=null}Release(){this._keyframeData=null,Mf.clearArray(this._tags),this._tags=null,this._lowerTags.clear(),this._lowerTags=null,this._next=null}GetKeyframeData(){return this._keyframeData}GetNext(){return this._next}SetNext(e){this._next=e}GetLast(){return this._last}SetLast(e){this._last=e}GetTime(){return this._time}SetTime(e){this._time=e,this._keyframeData._LinkKeyframeDataItems()}GetEase(){return this._ease}SetEase(e){this._ease=e}GetEnable(){return this._enable}SetEnable(e){this._enable=!!e}GetTags(){return this._tags}SetTags(e){this._tags=e?e.split(" "):[],this._lowerTags=new Set(this._tags.map(e=>e.toLowerCase()))}GetLowerTags(){return this._lowerTags}HasTag(e){return this._lowerTags.has(e.toLowerCase())}_SaveToJson(){return{time:this._time,ease:this._ease,enable:this._enable,tags:this._tags}}_LoadFromJson(e){e&&(this._time=e.time,this._ease=e.ease,this._enable=e.enable,this._tags=e.tags,this._lowerTags=new Set(this._tags.map(e=>e.toLowerCase())))}}Mf.KeyframeData=class{constructor(e,t){this._trackDataItem=t,this._keyframeDataItems=[],Mf.TimelineDataManager._CreateDataItems(this._keyframeDataItems,e,Pf,this),this._LinkKeyframeDataItems()}Release(){this._trackDataItem=null;for(const e of this._keyframeDataItems)e.Release();Mf.clearArray(this._keyframeDataItems),this._keyframeDataItems=null}_LinkKeyframeDataItems(){this._keyframeDataItems.sort((e,t)=>e.GetTime()-t.GetTime());for(let e=0;e<this._keyframeDataItems.length;e++){const t=this._keyframeDataItems[e];t.SetNext(this._keyframeDataItems[e+1]),t.SetLast(this._keyframeDataItems[e-1])}}GetTrackDataItem(){return this._trackDataItem}GetKeyframeDataItemCount(){return this._keyframeDataItems.length}GetKeyframeDataItemArray(){return this._keyframeDataItems}AddEmptyKeyframeDataItem(){const e=new Pf(null,this);return this._keyframeDataItems.push(e),this._LinkKeyframeDataItems(),e}DeleteKeyframeDataItems(e){for(const t of this._keyframeDataItems){if(!e(t))continue;const n=this._keyframeDataItems.indexOf(t);-1!==n&&(t.Release(),this._keyframeDataItems.splice(n,1))}this.SortKeyframeDataItems(),this._LinkKeyframeDataItems()}SortKeyframeDataItems(){this._keyframeDataItems.sort((e,t)=>e.GetTime()-t.GetTime())}GetKeyframeDataItemIndex(e){return this._keyframeDataItems.indexOf(e)}GetKeyframeDataItemFromIndex(e){return this._keyframeDataItems[e]}*keyframeDataItems(){for(const e of this._keyframeDataItems)yield e}*keyframeDataItemsReverse(){for(let e=this._keyframeDataItems.length-1;e>=0;e--)yield this._keyframeDataItems[e]}_SaveToJson(){return{keyframeDataItemsJson:this._keyframeDataItems.map(e=>e._SaveToJson())}}_LoadFromJson(e){e&&(Mf.TimelineDataManager._LoadDataItemsFromJson(this._keyframeDataItems,e.keyframeDataItemsJson,Pf,this),this._LinkKeyframeDataItems())}}}{const wf=self.C3,Af=0,Df=0,Rf=1,Ff=2,jf=1,kf=2,Lf=3,Wf=4,Uf=5;class Hf{constructor(e,t){this._propertyKeyframeData=t,this._value=null,this._aValue=null,this._type="",this._time=NaN,this._ease="noease",this._enable=!1,this._addonData=null,this._addonInstance=void 0,this._pathMode="line",e&&(this._value=e[0][0],this._aValue=e[0][1],this._type=e[0][2],this._time=e[1],this._ease=e[2],this._enable=!!e[3],this._pathMode=e[5],this._addonData=null,e[4]&&(this._addonData=new wf.AddonData(e[4],this)),this._next=null,this._prev=null)}Release(){this._propertyKeyframeData=null,this._addonData&&(this._addonData.Release(),this._addonData=null),this._next=null,this._prev=null}GetAddonData(){return this._addonData}SetNext(e){this._next=e}GetNext(){return this._next}SetPrevious(e){this._prev=e}GetPrevious(){return this._prev}GetValue(){return this._value}SetValue(e){"color"===this._type&&wf.IsFiniteNumber(e)?(this._value[0]=wf.GetRValue(e),this._value[1]=wf.GetGValue(e),this._value[2]=wf.GetBValue(e)):this._value=e}GetAbsoluteValue(){return this._aValue}SetAbsoluteValue(e){"color"===this._type&&wf.IsFiniteNumber(e)?(this._aValue[0]=wf.GetRValue(e),this._aValue[1]=wf.GetGValue(e),this._aValue[2]=wf.GetBValue(e)):this._aValue=e}GetValueWithResultMode(){const e=this._propertyKeyframeData.GetPropertyTrackDataItem().GetResultMode();return"relative"===e?this.GetValue():"absolute"===e?this.GetAbsoluteValue():void 0}GetType(){return this._type}SetType(e){this._type=e}GetTime(){return this._time}SetTime(e){this._time=e,this._propertyKeyframeData._LinkPropertyKeyframeDataItems()}GetEase(){return this._ease}SetEase(e){this._ease=e}GetEnable(){return this._enable}SetEnable(e){this._enable=!!e}GetPathMode(){return this._pathMode}GetAddOn(e){if(!this._addonData)return;if(this._addonInstance||null===this._addonInstance)return this._addonInstance;const t=this._addonData.GetAddDataItemArray();if(!t)return this._addonInstance=null,this._addonInstance;const n=t.length;for(let s=0;s<n;s++){const n=t[s];if(n.GetId()===e)return this._addonInstance=n,this._addonInstance}return this._addonInstance=null,this._addonInstance}_SaveToJson(){const e=this._addonData;return{addonDataJson:e?e._SaveToJson():e,value:this._value,aValue:this._aValue,type:this._type,time:this._time,ease:this._ease,enable:this._enable}}_LoadFromJson(e){e&&(e.addonDataJson&&this._addonData._SetFromJson(e.addonDataJson),this._value=e.value,this._aValue=e.aValue,this._type=e.type,this._time=e.time,this._ease=e.ease,this._enable=e.enable)}}wf.PropertyKeyframeData=class{constructor(e,t){this._propertyTrackDataItem=t,this._propertyKeyframeDataItems=[],this._propertyKeyframeDataItemsIncludingDisabled=[],wf.TimelineDataManager._CreateDataItems(this._propertyKeyframeDataItems,e,Hf,this),wf.TimelineDataManager._CreateDataItemsIncludingDisabled(this._propertyKeyframeDataItemsIncludingDisabled,e,Hf,this),this._LinkPropertyKeyframeDataItems()}Release(){this._propertyTrackDataItem=null;for(const e of this._propertyKeyframeDataItems)e.Release();wf.clearArray(this._propertyKeyframeDataItems),this._propertyKeyframeDataItems=null;for(const e of this._propertyKeyframeDataItemsIncludingDisabled)e.Release();wf.clearArray(this._propertyKeyframeDataItemsIncludingDisabled),this._propertyKeyframeDataItemsIncludingDisabled=null}_LinkPropertyKeyframeDataItems(){let e=this._propertyKeyframeDataItems;e.sort((e,t)=>e.GetTime()-t.GetTime());for(let t=0;t<e.length;t++){const n=e[t];t+1<e.length&&n.SetNext(e[t+1]),t-1>=0&&n.SetPrevious(e[t-1])}e=this._propertyKeyframeDataItemsIncludingDisabled,e.sort((e,t)=>e.GetTime()-t.GetTime());for(let t=0;t<e.length;t++){const n=e[t];t+1<e.length&&n.SetNext(e[t+1]),t-1>=0&&n.SetPrevious(e[t-1])}}AddEmptyPropertyKeyframeDataItem(){const e=new Hf(null,this);return this._propertyKeyframeDataItems.push(e),this._LinkPropertyKeyframeDataItems(),e}DeletePropertyKeyframeDataItems(e){for(const t of this._propertyKeyframeDataItems){if(!e(t))continue;const n=this._propertyKeyframeDataItems.indexOf(t);-1!==n&&(t.Release(),this._propertyKeyframeDataItems.splice(n,1))}this.SortPropertyKeyFrameDataItems(),this._LinkPropertyKeyframeDataItems()}SortPropertyKeyFrameDataItems(){this._propertyKeyframeDataItems.sort((e,t)=>e.GetTime()-t.GetTime())}GetPropertyTrackDataItem(){return this._propertyTrackDataItem}GetPropertyKeyframeDataItemCount(){return this._propertyKeyframeDataItems.length}GetLastPropertyKeyframeDataItem(){return this._propertyKeyframeDataItems[this._propertyKeyframeDataItems.length-1]}GetPropertyKeyframeDataItemArray(){return this._propertyKeyframeDataItems}GetPropertyKeyframeDataItemArrayIncludingDisabled(){return this._propertyKeyframeDataItemsIncludingDisabled}*propertyKeyframeDataItems(){for(const e of this._propertyKeyframeDataItems)yield e}*propertyKeyframeDataItemsReverse(){for(let e=this._propertyKeyframeDataItems.length-1;e>=0;e--)yield this._propertyKeyframeDataItems[e]}_SaveToJson(){const e=this._propertyKeyframeDataItems,t=this._propertyKeyframeDataItemsIncludingDisabled;return{propertyKeyframeDataItemsJson:e.map(e=>e._SaveToJson()),propertyKeyframeDataItemsIncludingDisabledJson:t.map(e=>e._SaveToJson())}}_LoadFromJson(e){e&&(wf.TimelineDataManager._LoadDataItemsFromJson(this._propertyKeyframeDataItems,e.propertyKeyframeDataItemsJson,Hf,this),wf.TimelineDataManager._LoadDataItemsFromJson(this._propertyKeyframeDataItemsIncludingDisabled,e.propertyKeyframeDataItemsIncludingDisabledJson,Hf,this),this._LinkPropertyKeyframeDataItems())}}}{const zf=self.C3,Yf=0,Xf=1;class qf{constructor(e,t){this._addonData=t,this._id=e[0],this._data=e[1]}Release(){this._addonData=null,this._data=null}GetAddonData(){return this._addonData}GetId(){return this._id}_SaveToJson(){return{id:this._id,data:this._data}}_LoadFromJson(e){e&&(this._id=e.id,this._data=e.data)}}const Kf=0,Jf=1,$f=2,Zf=3;class Qf extends qf{constructor(e,t){super(e,t),this._startAnchor=this._data[0],this._startEnable=!!this._data[1],this._endAnchor=this._data[2],this._endEnable=!!this._data[3]}Release(){super.Release()}GetStartAnchor(){return this._startAnchor}GetStartEnable(){return this._startEnable}GetEndAnchor(){return this._endAnchor}GetEndEnable(){return this._endEnable}_SaveToJson(){return Object.assign(super._SaveToJson(),{startAnchor:this._startAnchor,startEnable:!!this._startEnable,endAnchor:this._endAnchor,endEnable:!!this._endEnable})}_LoadFromJson(e){e&&(super._LoadFromJson(e),this._startAnchor=e.startAnchor,this._startEnable=!!e.startEnable,this._endAnchor=e.endAnchor,this._endEnable=!!e.endEnable)}}const eN=0,tN=1;class nN extends qf{constructor(e,t){super(e,t),this._direction=this._data[0],this._revolutions=this._data[1]}Release(){super.Release()}GetDirection(){return this._direction}GetRevolutions(){return this._revolutions}_SaveToJson(){return Object.assign(super._SaveToJson(),{direction:this._direction,revolutions:this._revolutions})}_LoadFromJson(e){e&&(super._LoadFromJson(e),this._direction=e.direction,this._revolutions=e.revolutions)}}zf.AddonData=class{constructor(e,t){this._propertyKeyframeDataItem=t,this._addonDataItems=[],zf.TimelineDataManager._CreateDataItems(this._addonDataItems,e,{prop:0,map:new Map([["cubic-bezier",Qf],["angle",nN]])},this)}Release(){this._propertyKeyframeDataItem=null;for(const e of this._addonDataItems)e.Release();zf.clearArray(this._addonDataItems),this._addonDataItems=null}GetPropertyKeyframeDataItem(){return this._propertyKeyframeDataItem}GetAddDataItemArray(){return this._addonDataItems}*addonDataItems(){for(const e of this._addonDataItems)yield e}_SaveToJson(){return{addonDataItemsJson:this._addonDataItems.map(e=>e._SaveToJson())}}_LoadFromJson(e){e&&zf.TimelineDataManager._LoadDataItemsFromJson(this._addonDataItems,e.addonDataItemsJson,{prop:"id",map:new Map([["cubic-bezier",Qf],["angle",nN]])},this)}}}{const sN=self.C3,rN="start-value",oN="current-state",aN=0,iN=1;let lN=0;sN.TweenState=class extends sN.TimelineState{constructor(e,t){super("tween-"+lN++,e,t),this._id="",this._destroyInstanceOnComplete=!1,this._initialValueMode="start-value",this._instance=null,this._on_completed_callbacks=null,this._on_started_callbacks=null,this._behInst=null,this._track=null,this._iTweenState=null}FireReleaseEvent(e){const t=sN.New(sN.Event,"tweenstatereleased");t.tweenState=this,e.dispatchEvent(t)}GetType(){return 1}CreateTrackStates(){for(const e of this._timelineDataItem.GetTrackData().trackDataItems())this._tracks.push(sN.TweenTrackState.Create(this,e));this._track=this._tracks[0]}AddTrack(){const e=this._timelineDataItem.GetTrackData().AddEmptyTrackDataItem(),t=sN.TweenTrackState.Create(this,e);return this._tracks.push(t),this._CacheTrack(),t}_CacheTrack(){this._track=this._tracks[0]}GetPropertyTrack(e){return this._track.GetPropertyTracks()[0]}SetPropertyType(e){this._propertyType=e}GetInstance(){const e=this.GetTracks();if(!e||!e.length)return;const t=e[0];if(this._track=t,!t)return;const n=t.GetInstance();return t.IsInstanceValid()?n:void 0}SetBehaviorInstance(e){this._behInst=e}AddStartedCallback(e){this._on_started_callbacks||(this._on_started_callbacks=[]),this._on_started_callbacks.push(e)}AddCompletedCallback(e){this._on_completed_callbacks||(this._on_completed_callbacks=[]),this._on_completed_callbacks.push(e)}RemoveStartedCallback(e){if(!this._on_started_callbacks)return;const t=this._on_started_callbacks.indexOf(e);-1!==t&&this._on_started_callbacks.splice(t,1)}RemoveCompletedCallback(e){if(!this._on_completed_callbacks)return;const t=this._on_completed_callbacks.indexOf(e);-1!==t&&this._on_completed_callbacks.splice(t,1)}SetStartValue(e,t){for(const n of this._tracks)for(const s of n._propertyTracks){if(s.GetPropertyName()!==t)continue;const n=s.GetPropertyTrackData(),r=s.GetPropertyTrackDataItem(),o=n.GetFirstPropertyKeyframeDataItem(r);o.SetValue(e),o.SetAbsoluteValue(e)}}_GetPropertyTrackState(e){for(const t of this._tracks)for(const n of t._propertyTracks)if(n.GetPropertyName()===e)return n}BeforeSetEndValues(e){let t=!1;for(const n of e){const e=this._GetPropertyTrackState(n);e&&(this.SetStartValue(e.GetCurrentState(),n),t=!0)}if(t){if(this.IsForwardPlayBack()){const e=this.GetTotalTime()-this.GetTime();this.SetTotalTime(e);for(const t of this._tracks)t.SetLocalTotalTime(e);this._SetTime(0)}else{const e=this.GetTime();this.SetTotalTime(e);for(const t of this._tracks)t.SetLocalTotalTime(e);this._SetTime(e)}this.SetInitialStateFromSetTime()}}SetEndValue(e,t){const n=this._GetPropertyTrackState(t);if(!n)return;const s=n.GetPropertyTrackData(),r=n.GetPropertyTrackDataItem(),o=s.GetLastPropertyKeyframeDataItem(r);o.SetTime(this.GetTotalTime()),o.SetValue(e),o.SetAbsoluteValue(e)}SetId(e){this._id=e}GetId(){return this._id}SetInitialValueMode(e){this._initialValueMode=e}GetInitialValueMode(){return this._initialValueMode}SetDestroyInstanceOnComplete(e){this._destroyInstanceOnComplete=e}GetDestroyInstanceOnComplete(){return this._destroyInstanceOnComplete}OnStarted(){if(this._on_started_callbacks)for(const e of this._on_started_callbacks)e(this);if(!this.IsComplete())for(const e of this._tracks)e.CompareSaveStateWithCurrent()}OnCompleted(){this._completedTick=this._runtime.GetTickCount()}FinishTriggers(){if(!this._finishedTriggers&&(this._finishedTriggers=!0,this._on_completed_callbacks))for(const e of this._on_completed_callbacks)e(this)}SetTime(e){this._DeleteIntermediateKeyframes(),super.SetTime(e)}_SetTimeAndReset(e){sN.IsFiniteNumber(e)||(e=this.GetTotalTime()),e<0?this._playheadTime=0:e>=this.GetTotalTime()?this._playheadTime=this.GetTotalTime():this._playheadTime=e,this._track.SetResetState()}SetInitialState(e){if(!this.InitialStateSet()&&"current-state"===this.GetInitialValueMode())for(const e of this._tracks)e.CompareInitialStateWithCurrent();super.SetInitialState(e)}Stop(e=!1){if(super.Stop(e),!this.IsComplete())for(const e of this._tracks)e.SaveState()}Reset(e=!0,t=!1){this._DeleteIntermediateKeyframes(),super.Reset(e,t)}_DeleteIntermediateKeyframes(){for(const e of this._tracks){const t=e=>{const t=e.GetTime(),n=this.GetTotalTime();return 0!==t&&t!==n};e.DeleteKeyframes(t),e.DeletePropertyKeyframes(t)}}_OnBeforeChangeLayout(){if(this.IsReleased())return!0;const e=this.GetInstance();return!(e&&e.GetObjectClass().IsGlobal()||(this._timelineManager.CompleteTimelineBeforeChangeOfLayout(this),this.ResetBeforeChangeLayout(),0))}Tick(e,t,n){if(this._instance||(this._instance=this.GetInstance()),!this._instance||this._instance.IsDestroyed())return this.Stop(!0),void this.OnCompleted();const s=this._instance.GetTimeScale();if(-1!==s&&(e=n*s),0===e&&0===this._lastDelta)return;this._lastDelta=e;const r=this._playheadTime+this._overshoot+e*this._playbackRate,o=this._timelineDataItem._totalTime;r<0?(this._playheadTime=0,this._overshoot=-r):r>=o?(this._playheadTime=o,this._overshoot=this._playheadTime-r):(this._playheadTime=r,this._overshoot=0);let a=!1,i=!1;const l=this.GetLoop(),d=this.GetPingPong();if(l||d?l&&!d?this._playbackRate>0?this._playheadTime>=o&&(this._SetTimeAndReset(0),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensLoop),i=!0):this._playheadTime<=0&&(this._SetTimeAndReset(o),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensLoop),i=!0):!l&&d?this._playbackRate>0?this._playheadTime>=o&&(this._SetTime(o),this.SetPlaybackRate(-1*this.GetPlaybackRate()),i=!0,1===this._pingPongState?this._currentRepeatCount<this.GetRepeatCount()?(this._currentRepeatCount++,this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong),this.IsPlaying()?this._pingPongState=0:this._resumePingPongState=0):(this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong),a=!0):0===this._pingPongState&&(this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong),this.IsPlaying()?this._pingPongState=1:this._resumePingPongState=1)):this._playheadTime<=0&&(this._SetTime(0),this.SetPlaybackRate(-1*this.GetPlaybackRate()),i=!0,1===this._pingPongState?this._currentRepeatCount<this.GetRepeatCount()?(this._currentRepeatCount++,this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong),this.IsPlaying()?this._pingPongState=0:this._resumePingPongState=0):(a=!0,this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong)):0===this._pingPongState&&(this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong),this.IsPlaying()?this._pingPongState=1:this._resumePingPongState=1)):l&&d&&(this._playbackRate>0?this._playheadTime>=o&&(this._SetTime(o),this.SetPlaybackRate(-1*this.GetPlaybackRate()),i=!0,0===this._pingPongState&&(this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong)),1===this._pingPongState&&(this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong)),this.IsPlaying()?(this._pingPongState++,this._pingPongState=sN.wrap(this._pingPongState,0,2)):(this._resumePingPongState=this._pingPongState+1,this._resumePingPongState=sN.wrap(this._resumePingPongState,0,2))):this._playheadTime<=0&&(this._SetTime(0),this.SetPlaybackRate(-1*this.GetPlaybackRate()),i=!0,0===this._pingPongState&&(this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong)),1===this._pingPongState&&(this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenPingPong),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensPingPong)),this.IsPlaying()?(this._pingPongState++,this._pingPongState=sN.wrap(this._pingPongState,0,2)):(this._resumePingPongState=this._pingPongState+1,this._resumePingPongState=sN.wrap(this._resumePingPongState,0,2)))):this._playbackRate>0?this._playheadTime>=o&&(this._currentRepeatCount<this.GetRepeatCount()?(this._currentRepeatCount++,this._SetTimeAndReset(0),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensLoop),i=!0):(this._SetTime(o),a=!0)):this._playheadTime<=0&&(this._currentRepeatCount<this.GetRepeatCount()?(this._currentRepeatCount++,this._SetTimeAndReset(o),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnAnyTweenLoop),this._TweenTrigger(sN.Behaviors.Tween.Cnds.OnTweensLoop),i=!0):(this._SetTime(0),a=!0)),!this.IsReleased()&&this.IsPlaying()){if(a)return this._track.SetEndState(),this.Stop(!0),void this.OnCompleted();this._track.Interpolate(this._playheadTime,!0,!1,i,this._firstTick,!1),this._firstTick&&(this._firstTick=!1)}}_TweenTrigger(e){const t=this.GetInstance();this._behInst.PushTriggerTween(this),this._runtime.Trigger(e,t,this._behInst.GetBehaviorType()),this._behInst.PopTriggerTween()}_SaveToJson(){const e=super._SaveToJson(),t=this.GetTimelineDataItem();return Object.assign(e,{tweenDataItemJson:t._SaveToJson(),id:this._id,destroyInstanceOnComplete:this._destroyInstanceOnComplete,initialValueMode:this._initialValueMode})}_LoadFromJson(e){e&&(this.GetTimelineDataItem()._LoadFromJson(e.tweenDataItemJson),super._LoadFromJson(e),this._id=e.id,this._destroyInstanceOnComplete=e.destroyInstanceOnComplete,this._initialValueMode=e.initialValueMode,this._CacheTrack())}static IsPlaying(e){return e.IsPlaying()}static IsPaused(e){return e.IsPaused()}static IsPing(e){return!!e.GetPingPong()&&0===e.GetPingPongState()}static IsPong(e){return!!e.GetPingPong()&&1===e.GetPingPongState()}static Build(e){const t=e.runtime.GetTimelineManager(),n=new sN.TimelineDataItem;if(e.json){n._LoadFromJson(e.json.tweenDataItemJson);const s=new sN.TweenState(n,t);return s._LoadFromJson(e.json),s}{const s=new sN.TweenState(n,t);sN.IsArray(e.propertyTracksConfig)||(e.propertyTracksConfig=[e.propertyTracksConfig]),s.SetId(e.id),s.SetTags(e.tags),s.SetInitialValueMode(e.initialValueMode),s.SetDestroyInstanceOnComplete(e.releaseOnComplete),s.SetLoop(e.loop),s.SetPingPong(e.pingPong),s.SetTotalTime(e.time),s.SetStep(0),s.SetInterpolationMode("default"),s.SetResultMode(e.propertyTracksConfig[0].resultMode),s.SetRepeatCount(e.repeatCount);const r=s.AddTrack();r.SetInstanceUID(e.instance.GetUID()),r.SetInterpolationMode("default"),r.SetResultMode(e.propertyTracksConfig[0].resultMode),r.SetEnable(!0),r.SetObjectClassIndex(e.instance.GetObjectClass().GetIndex());const o=e.instance.GetSdkInstance(),a=o.IsOriginalSizeKnown()?o.GetOriginalWidth():e.instance.GetWorldInfo().GetWidth(),i=o.IsOriginalSizeKnown()?o.GetOriginalHeight():e.instance.GetWorldInfo().GetHeight();r.SetOriginalWidth(a),r.SetOriginalHeight(i);const l=r.AddKeyframe();l.SetTime(0),l.SetEase("noease"),l.SetEnable(!0),l.SetTags("");const d=r.AddKeyframe();d.SetTime(e.time),d.SetEase("noease"),d.SetEnable(!0),d.SetTags("");for(const t of e.propertyTracksConfig){const n=r.AddPropertyTrack();n.SetSourceAdapterId(t.sourceId),n.SetSourceAdapterArgs(t.sourceArgs),n.SetPropertyName(t.property),n.SetPropertyType(t.type),n.SetMin(NaN),n.SetMax(NaN),n.SetInterpolationMode("default"),n.SetResultMode(t.resultMode),n.SetEnable(!0);const s=n.AddPropertyKeyframe();s.SetType(t.valueType),s.SetTime(0),s.SetEase(t.ease),s.SetEnable(!0),s.SetValue(t.startValue),s.SetAbsoluteValue(t.startValue);const o=n.AddPropertyKeyframe();o.SetType(t.valueType),o.SetTime(e.time),o.SetEase(t.ease),o.SetEnable(!0),o.SetValue(t.endValue),o.SetAbsoluteValue(t.endValue),n.GetSourceAdapter()}return s}}static SetInstanceUID(e,t){if(!isNaN(t))for(const n of e.GetTracks())n.SetInstanceUID(t)}static SetBehaviorInstance(e,t){e.SetBehaviorInstance(t)}GetITweenState(e,t){return this._iTweenState||(this._iTweenState=sN.New(self.ITweenState,this,e,t)),this._iTweenState}}}{const dN=self.C3;dN.TweenTrackState=class extends dN.TrackState{constructor(e,t){super(e,t),this._firstPropertyTrack=null,this._secondPropertyTrack=null}static Create(e,t){return dN.New(dN.TweenTrackState,e,t)}_CachePropertyTracks(){1===this._propertyTracks.length?this._firstPropertyTrack=this._propertyTracks[0]:(this._firstPropertyTrack=this._propertyTracks[0],this._secondPropertyTrack=this._propertyTracks[1])}CreatePropertyTrackStates(){for(const e of this._trackDataItem.GetPropertyTrackData().propertyTrackDataItems())this._propertyTracks.push(dN.TweenPropertyTrackState.Create(this,e));this._CachePropertyTracks()}AddPropertyTrack(){const e=this._trackDataItem.GetPropertyTrackData().AddEmptyPropertyTrackDataItem(),t=dN.TweenPropertyTrackState.Create(this,e);return this._propertyTracks.push(t),this._CachePropertyTracks(),t}SetInitialState(){if(this.MaybeGetInstance(),!this.IsInstanceValid()&&this.IsInstanceTrack())return;const e=this.GetTimeline().IsForwardPlayBack()?0:this.GetLocalTotalTime();for(const t of this._propertyTracks)t.SetInitialState(e),0===this._worldInfoChange&&1===t.GetWorldInfoChange()&&(this._worldInfoChange=1),0===this._renderChange&&1===t.GetRenderChange()&&(this._renderChange=1);this._needsBeforeAndAfter=0,this._propertyTracks.some(e=>e.GetNeedsBeforeAndAfter())&&(this._needsBeforeAndAfter=1),this._lastKeyframeDataItem=this._GetLastKeyFrameBeforeTime(e),this._initialStateOfNestedSet=!1,this._endStateOfNestedSet=!1,this.Interpolate(e)}BeforeInterpolate(){}Interpolate(e,t=!1,n=!1,s=!1,r=!1,o=!1,a=!1){if(this._instance||this.GetInstance(),this._instance)return!this._instance.IsDestroyed()&&(!o||!this.GetObjectClass().IsGlobal())&&(this._secondPropertyTrack?(this._firstPropertyTrack.Interpolate(e,n,s,a),this._secondPropertyTrack.Interpolate(e,n,s,a)):this._firstPropertyTrack.Interpolate(e,n,s,a),void(0!==this._firstPropertyTrack.GetWorldInfoChange()&&(this._worldInfo||(this._worldInfo=this._instance.GetWorldInfo()),this._worldInfo&&this._worldInfo.SetBboxChanged())))}AfterInterpolate(){}_LoadFromJson(e){super._LoadFromJson(e),this._CachePropertyTracks()}}}{const cN=self.C3;cN.TweenPropertyTrackState=class extends cN.PropertyTrackState{constructor(e,t){super(e,t),this._basic=!1}static Create(e,t){return cN.New(cN.TweenPropertyTrackState,e,t)}Interpolate(e,t=!1,n=!1,s=!1){let r,o;if(this._basic)r=this._propertyKeyframeDataItems[0],o=this._propertyKeyframeDataItems[1];else if(t)r=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem),o=r.GetNext();else{if(this._lastPropertyKeyframeDataItem){const t=this.GetTimeline(),n=this._lastPropertyKeyframeDataItem.GetNext(),s=this._lastPropertyKeyframeDataItem.GetTime(),r=n?n.GetTime():t.GetTotalTime();(e<=s||e>=r)&&(this._lastPropertyKeyframeDataItem=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem))}else this._lastPropertyKeyframeDataItem=this._propertyTrackData.GetFirstPropertyKeyFrameDataItemLowerOrEqualThan(e,this._propertyTrackDataItem);r=this._lastPropertyKeyframeDataItem,o=r.GetNext()}this._sourceAdapter.Interpolate(e,r,o,t,n,s)}AddPropertyKeyframe(){const e=this._propertyTrackDataItem.GetPropertyKeyframeData().AddEmptyPropertyKeyframeDataItem();return this._lastPropertyKeyframeDataItem=null,this._basic=this.GetPropertyKeyframeDataItems().length<=2,e}DeletePropertyKeyframes(e){this._lastPropertyKeyframeDataItem=null,this._propertyTrackDataItem.GetPropertyKeyframeData().DeletePropertyKeyframeDataItems(e),this._basic=this.GetPropertyKeyframeDataItems().length<=2}_SaveToJson(){return{sourceAdapterJson:this.GetSourceAdapter()._SaveToJson(),basic:this._basic}}_LoadFromJson(e){e&&(this.GetSourceAdapter()._LoadFromJson(e.sourceAdapterJson),this._basic=e.basic)}}}{const uN=self.C3,hN=self.Ease,_N=0,GN=1,pN=2;uN.Transition=class extends uN.DefendedBase{constructor(e,t=!0){super(),this._name=e[0],this._linear=e[2],this._transitionKeyframes=[];for(const t of e[1]){const e=uN.TransitionKeyframe.Create(this,t);this._transitionKeyframes.push(e)}for(let e=0;e<this._transitionKeyframes.length;e++){const t=this._transitionKeyframes[e],n=this._transitionKeyframes[e+1],s=this._transitionKeyframes[e-1];t.SetNext(n),t.SetPrevious(s)}this._precalculatedSamples=new Map,this._transitionKeyframeCache=new Map,this._PreCalcSamples(),t&&hN.AddCustomEase(this._name,(e,t,n,s)=>this.Interpolate(e,t,n,s),null,{transition:this})}static Create(e){return uN.New(uN.Transition,e)}Release(){for(const e of this._transitionKeyframes)e.Release();uN.clearArray(this._transitionKeyframes),this._transitionKeyframes=null,this._precalculatedSamples.clear(),this._precalculatedSamples=null,this._transitionKeyframeCache.clear(),this._transitionKeyframeCache=null}MakeLinear(e){this._linear=!!e}GetTransitionKeyFrameAt(e){const t=this._transitionKeyframeCache.get(e);if(t)return t;for(const t of this._transitionKeyframes)if(t.GetValueX()===e)return this._transitionKeyframeCache.set(e,t),t}GetFirstTransitionKeyFrameLowerOrEqualThan(e){for(let t=this._transitionKeyframes.length-1;t>=0;t--){const n=this._transitionKeyframes[t],s=n.GetValueX();if(s<=e){let t=n;if(s<e)return t;if(s===e){for(;t;){const e=t.GetPrevious();if(!e)break;if(e.GetValueX()!==t.GetValueX())break;t=e}return t}}}}Interpolate(e,t,n,s){let r=e/s;if(this._linear){const r=this.GetTransitionKeyFrameAt(0),o=this.GetTransitionKeyFrameAt(1),a=t+(t+n)*r.GetValueY(),i=(t+n)*o.GetValueY()-a;return 0===s?a+i:hN.NoEase(e,a,i,s)}0===s&&(r=1);let o=this.GetFirstTransitionKeyFrameLowerOrEqualThan(r),a=o.GetNext();if(!a){const e=o.GetPrevious(),t=o;o=e,a=t}const i=a.GetValueX()-o.GetValueX(),l=uN.mapToRange(r,o.GetValueX(),a.GetValueX(),0,i);if(o.IsSegmentLinear()||0===i){const e=t+(t+n)*o.GetValueY(),s=(t+n)*a.GetValueY()-e;return 0===i?1===l?e+s:e:hN.NoEase(l,e,s,i)}const d=o.GetValueX(),c=o.GetValueY(),u=o.GetValueX()+o.GetStartAnchorX(),h=o.GetValueY()+o.GetStartAnchorY(),_=a.GetValueX()+a.GetEndAnchorX(),G=a.GetValueY()+a.GetEndAnchorY(),p=a.GetValueX(),m=a.GetValueY();let g=hN.GetRuntimeEase("spline")(l,d,c,u,h,_,G,p,m,this._precalculatedSamples.get(o));return g+=o.GetValueY(),(1-g)*t+g*(t+n)}_PreCalcSamples(){this._precalculatedSamples.clear();for(let e=0;e<this._transitionKeyframes.length-1;e++){const t=this._transitionKeyframes[e];if(!t.GetStartEnable())continue;const n=t,s=this._transitionKeyframes[e+1];if(!s.GetEndEnable())continue;const r=n.GetValueX(),o=n.GetValueX()+n.GetStartAnchorX(),a=s.GetValueX()+s.GetEndAnchorX(),i=s.GetValueX();this._precalculatedSamples.set(n,hN.GetBezierSamples(r,o,a,i))}}}}{const mN=self.C3,gN=0,fN=1,NN=2,bN=3,SN=4,xN=5,IN=6,yN=7,EN=8;mN.TransitionKeyframe=class extends mN.DefendedBase{constructor(e,t){super(),this._transition=e,this._valueX=t[0],this._valueY=t[1],this._startAnchorX=t[2],this._startAnchorY=t[3],this._endAnchorX=t[4],this._endAnchorY=t[5],this._startEnable=t[6],this._endEnable=t[7],this._segmentMode=t[8],this._next=null,this._prev=null}Release(){this._transition=null}static Create(e,t){return mN.New(mN.TransitionKeyframe,e,t)}SetNext(e){this._next=e}GetNext(){return this._next}SetPrevious(e){this._prev=e}GetPrevious(){return this._prev}GetValueX(){return this._valueX}GetValueY(){return this._valueY}GetStartAnchorX(){return this._startAnchorX}GetStartAnchorY(){return this._startAnchorY}GetEndAnchorX(){return this._endAnchorX}GetEndAnchorY(){return this._endAnchorY}GetStartEnable(){return this._startEnable}GetEndEnable(){return this._endEnable}IsSegmentLinear(){return"linear"===this._segmentMode}IsSegmentCubic(){return"cubic"===this._segmentMode}}}{const TN=self.C3;TN.TransitionManager=class extends TN.DefendedBase{constructor(e){super(),this._runtime=e,this._transitions=[]}Release(){for(const e of this._transitions)e.Release();TN.clearArray(this._transitions),this._transitions=null}Create(e){this._transitions.push(TN.Transition.Create(e))}}}{const CN=self.C3;CN.TemplateManager=class extends CN.DefendedBase{constructor(e){super(),this._runtime=e,this._templateDataMap=null,this._instanceToTemplateNameMap=null,this._instanceDestroy=e=>this._OnInstanceDestroy(e.instance)}Release(){if(this.RemoveRuntimeListeners(),this._templateDataMap){for(const e of this._templateDataMap.values())e.clear();this._templateDataMap.clear()}this._templateDataMap=null,this._runtime=null}Create(e){if(this._templateDataMap||(this._templateDataMap=new Map),!e)return;const t=e[0][16][0],n=e[1];this._templateDataMap.has(n)||this._templateDataMap.set(n,new Map),this._templateDataMap.get(n).set(t,e)}AddRuntimeListeners(){const e=this._runtime.Dispatcher();e&&e.addEventListener("instancedestroy",this._instanceDestroy)}RemoveRuntimeListeners(){const e=this._runtime.Dispatcher();e&&e.removeEventListener("instancedestroy",this._instanceDestroy)}HasTemplates(){return!!this._templateDataMap&&0!==this._templateDataMap.size}GetTemplateData(e,t){let n=0;if(n=e instanceof CN.ObjectClass?e.GetIndex():e,!this._templateDataMap.has(n))return;const s=this._templateDataMap.get(n).get(t);return s?JSON.parse(JSON.stringify(s)):void 0}MapInstanceToTemplateName(e,t){this._instanceToTemplateNameMap||(this._instanceToTemplateNameMap=new WeakMap),this._instanceToTemplateNameMap.has(e)||this._instanceToTemplateNameMap.set(e,t)}GetInstanceTemplateName(e){if(!this._instanceToTemplateNameMap)return"";return this._instanceToTemplateNameMap.get(e)||""}_OnInstanceDestroy(e){this._instanceToTemplateNameMap&&this._instanceToTemplateNameMap.has(e)&&this._instanceToTemplateNameMap.delete(e)}}}{const MN=self.C3;MN.FlowchartManager=class{constructor(e){this._runtime=e,this._flowchartDataManager=new MN.FlowchartDataManager}Release(){this._flowchartDataManager.Release(),this._flowchartDataManager=null,this._runtime=null}GetRuntime(){return this._runtime}Create(e){this._flowchartDataManager.Add(e)}GetFlowchartDataItemByName(e){return this._flowchartDataManager.Get(e)}HasFlowcharts(){return this._flowchartDataManager.HasFlowcharts()}}}{const VN=self.C3;VN.FlowchartState=class{constructor(e,t,n,s,r,o,a){this._runtime=r.GetRuntime(),this._flowchartManager=r,this._flowchartName=e,this._startNodeTag=n,this._flowchartDataItem=s,this._tag=t,this._pluginInstance=o,this._pluginUID=a??o.GetInstance().GetUID(),this._SetStartFlowchartNode(),this._currentFlowchartNodeId=this._startFlowchartNode?.GetFlowchartId()??-1,this._previousFlowchartNodeIds=[],this._previousFlowchartState=null,this._previousFlowchartStateStartNodeId=NaN,this._referenceFlowchartStates=null,this._currentReferenceFlowchartState=null,this._rootFlowchartState=null,this._previousFlowchartStateTag="",this._referenceFlowchartStatesJson=null,this._currentReferenceFlowchartStateTag="",this._rootFlowchartStateTag="",this._triggerCount=0,this._markForRelease=!1,this._released=!1}Release(){this._released||(VN.clearArray(this._previousFlowchartNodeIds),this._previousFlowchartNodeIds=null,this._runtime=null,this._flowchartManager=null,this._flowchartDataItem=null,this._pluginInstance=null,this._previousFlowchartState=null,this._previousFlowchartStateStartNodeId=NaN,this._referenceFlowchartStates&&this._referenceFlowchartStates.clear(),this._referenceFlowchartStates=null,this._currentReferenceFlowchartState=null,this._rootFlowchartState=null,this._previousFlowchartStateTag="",this._referenceFlowchartStatesJson=null,this._currentReferenceFlowchartStateTag="",this._rootFlowchartStateTag="",this._released=!0)}WasReleased(){return this._released}GetFlowchartManager(){return this._flowchartManager}GetRuntime(){return this._runtime}GetName(){return this._flowchartName}GetFlowchartDataItem(){return this._flowchartDataItem}GetTag(){return this._tag}GetPluginInstance(){return this._pluginInstance||(this._pluginInstance=this._runtime.GetInstanceByUID(this._pluginUID).GetSdkInstance()),this._pluginInstance}GetCurrentNode(){return this.GetFlowchartElementById(this._currentFlowchartNodeId)}GetCurrentNodeTag(){const e=this.GetCurrentNode();return e?e.GetTag():""}GetCurrentNodeTags(){const e=this.GetCurrentNode();return e?e.GetTags():[]}CurrentNodeHasTags(e){const t=this.GetCurrentNodeTags();if(!t)return!1;if(!t.length)return!1;const n=VN.FlowchartState._GetTagArray(e);return!(!n||!n.length)&&n.every(VN.FlowchartState._HasTag,t)}CurrentNodeCompareTags(e,t){const n=this.GetCurrentNodeTags();if(!n)return!1;if(!n.length)return!1;const s=VN.FlowchartState._GetTagArray(e);return!(!s||!s.length)&&s.every(e=>VN.FlowchartState._CompareTag.call(n,e,t))}static _HasTag(e){const t=this;return""===e?1===t.length&&""===t[0]:t.map(e=>e.trim().toLowerCase()).includes(e.trim().toLowerCase())}static _GetTagArray(e){return e.trim().split(" ")}static _CompareTag(e,t){const n=this;return""===e?1===n.length&&""===n[0]:n.some(n=>VN.compare(n.trim(),t,e.trim()))}GetCurrentNodeParent(e){const t=this.GetCurrentNode();if(t){if(VN.IsFiniteNumber(e)){const n=t.GetParentFlowchartIds(),s=n?n[e]:void 0;if(VN.IsFiniteNumber(s))return this.GetFlowchartElementById(s)}if("string"==typeof e)for(const n of t.GetParentFlowchartIds()){const t=this.GetFlowchartElementById(n);if(t.HasTags(e))return this.GetFlowchartElementById(t.GetFlowchartId())}}}GetCurrentNodeParentTag(e){const t=this.GetCurrentNodeParent(e);return t?t.GetTag():""}GetCurrentNodeParentTags(e){const t=this.GetCurrentNodeParent(e);return t?t.GetTags():""}GetCurrentNodeParentIndex(e){const t=this.GetCurrentNode();if(!t)return-1;const n=t.GetParentFlowchartIds();if(!n)return-1;const s=this.GetCurrentNodeParent(e);return s?n.indexOf(s.GetFlowchartId()):-1}GetCurrentNodeParentCount(){const e=this.GetCurrentNode();if(!e)return 0;const t=e.GetParentFlowchartIds();return t?t.length:0}GetFlowchartElementById(e){return this._flowchartDataItem.GetFlowchartElementById(e)}Reset(){this._GetRootFlowchartState()._Reset(!0)}_Reset(e){if(this._GetReferenceFlowchartStates()){for(const[e,t]of this._GetReferenceFlowchartStates().entries())t._Reset(!1);this._GetReferenceFlowchartStates().clear()}if(this._referenceFlowchartStates=null,this._previousFlowchartState=null,this._previousFlowchartStateStartNode=null,this._currentReferenceFlowchartState=null,this._previousFlowchartStateTag="",this._referenceFlowchartStatesJson=null,this._currentReferenceFlowchartStateTag="",this._rootFlowchartStateTag="",this._previousFlowchartNodeIds=[],e){this._flowchartManager.SetCurrentFlowchartState(this);const e=this._startFlowchartNode.GetFlowchartId();e!==this._currentFlowchartNodeId&&this._GotoFlowchartNode(e)}else this._currentFlowchartNodeId=this._startFlowchartNode.GetFlowchartId()}GetCurrentNodeOutputCount(){const e=this._flowchartDataItem.GetFlowchartElementById(this._currentFlowchartNodeId);return e?e.GetFlowchartNodeOutputData().GetFlowchartNodeOutputDataItemCount():0}IsIndexOfDefaultOutput(e){return!(e<0)&&e===this.GetDefaultOutputIndex()}GetDefaultOutputIndex(){const e=this._flowchartDataItem.GetFlowchartElementById(this._currentFlowchartNodeId);if(!e)return-1;let t=e.GetFlowchartNodeOutputData().GetFlowchartNodeOutputDefault();return t?e.GetFlowchartNodeOutputData().GetFlowchartNodeOutputDataItems().indexOf(t):-1}GetCurrentNodeOutputNameAt(e){const t=this._GetFlowchartNodeOutputAt(e);return t?t.GetName():""}GetCurrentNodeOutputValueAt(e){let t;return VN.IsFiniteNumber(e)&&(t=this._GetFlowchartNodeOutputAt(e)),"string"==typeof e&&(t=this._GetFlowchartNodeOutputByName(e)),"number"!=typeof e&&"string"!=typeof e&&console.warn("[Flowcharts] unexpected argument type in GetCurrentNodeOutputValueAt expression"),t?t.GetValue():""}_MaybeByPassNodes(e,t){if(e.GetEnable())return e.GetFlowchartId();{const n=e.GetFlowchartNodeOutputData().GetFlowchartNodeOutputDefault();if(!n)return t.GetFlowchartId();const s=n.GetConnectedFlowchartNodeFlowchartId();if(!VN.IsFiniteNumber(s))return t.GetFlowchartId();const r=this.GetFlowchartElementById(s);return r?this._MaybeByPassNodes(r,t):t.GetFlowchartId()}}_MaybeByPassNodesInReferenceFlowchart(e,t){if(e.GetEnable()){if("reference"===e.GetType()){const t=e.GetReferenceFlowchartName(),n=e.GetReferenceFlowchartStartNodeTag(),s=this._flowchartManager.GetFlowchartDataItemByName(t);if(!s)return[-1,null];const r=s.GetFlowchartNodeByTags(n);return r?this._MaybeByPassNodesInReferenceFlowchart(r,s):this._MaybeByPassNodesInReferenceFlowchart(s.GetFlowchartStartNode(),s)}return[e.GetFlowchartId(),t]}{const n=e.GetFlowchartNodeOutputData().GetFlowchartNodeOutputDefault();if(!n)return[-1,null];const s=n.GetConnectedFlowchartNodeFlowchartId();if(!VN.IsFiniteNumber(s))return[-1,null];const r=t.GetFlowchartElementById(s);return r?this._MaybeByPassNodesInReferenceFlowchart(r,t):[-1,null]}}_ProcessAllByPasses(e,t){let n=this.GetFlowchartElementById(e);if(n){if(!n.GetEnable()){const t=this.GetFlowchartElementById(this._currentFlowchartNodeId);e=this._MaybeByPassNodes(n,t)}if(VN.IsFiniteNumber(e)&&e!==this._currentFlowchartNodeId)if(n=this.GetFlowchartElementById(e),"reference"===n.GetType()){const s=n.GetReferenceFlowchartName(),r=n.GetReferenceFlowchartStartNodeTag(),o=this._flowchartManager.GetFlowchartDataItemByName(s);let a=o.GetFlowchartNodeByTags(r);if(a){const n=this._MaybeByPassNodesInReferenceFlowchart(a,o);if(-1===n[0])return;t(this._currentFlowchartNodeId,e,n[1],n[0])}else t(this._currentFlowchartNodeId,e)}else t(this._currentFlowchartNodeId,e)}}GotoNextFlowchartNode(e){let t;if(VN.IsFiniteNumber(e)&&(t=this._GetFlowchartNodeOutputAt(e)),"string"==typeof e&&(t=this._GetFlowchartNodeOutputByName(e)),!t)return;let n=t.GetConnectedFlowchartNodeFlowchartId();VN.IsFiniteNumber(n)&&this._ProcessAllByPasses(n,(e,t,n,s)=>{this._previousFlowchartNodeIds.push(e),this._GotoFlowchartNode(t,n,s)})}GotoNextFlowchartNodeDefault(){const e=this._GetFlowchartNodeOutputDefault();if(!e)return;const t=e.GetConnectedFlowchartNodeFlowchartId();VN.IsFiniteNumber(t)&&this._ProcessAllByPasses(t,(e,t,n,s)=>{this._previousFlowchartNodeIds.push(e),this._GotoFlowchartNode(t,n,s)})}GotoAnyFlowchartNode(e){const t=this._flowchartDataItem.GetFlowchartNodeByTags(e);if(!t)return;const n=t.GetFlowchartId();VN.IsFiniteNumber(n)&&this._ProcessAllByPasses(n,(e,t,n,s)=>{this._previousFlowchartNodeIds.push(e),this._GotoFlowchartNode(t,n,s)})}GotoPreviousFlowchartNode(){const e=this._previousFlowchartNodeIds.pop();VN.IsFiniteNumber(e)?this._GotoFlowchartNode(e):this._GetPreviousFlowchartState()&&(this._flowchartManager.SetCurrentFlowchartState(this._GetPreviousFlowchartState(),!0,!1,!1),this._GetPreviousFlowchartState()._GotoFlowchartNode(this._GetPreviousFlowchartStateStartNodeId()),this._GetRootFlowchartState()._SetCurrentReferenceFlowchart(this._GetPreviousFlowchartState()))}GotoParentFlowchartNode(e){if(!this.GetCurrentNode())return;const t=this.GetCurrentNodeParent(e);if(t){if(!t.GetEnable())return;const e=t.GetFlowchartId();if(!VN.IsFiniteNumber(e))return;this._previousFlowchartNodeIds.push(this._currentFlowchartNodeId),this._GotoFlowchartNode(t.GetFlowchartId())}}HasOutput(e){if(VN.IsFiniteNumber(e))return!!this._flowchartDataItem.GetFlowchartElementById(this._currentFlowchartNodeId).GetFlowchartNodeOutputData().GetFlowchartNodeOutputDataItems()[e];if("string"==typeof e){const t=this._flowchartDataItem.GetFlowchartElementById(this._currentFlowchartNodeId).GetFlowchartNodeOutputData().GetFlowchartNodeOutputDataItems();for(let n=0;n<t.length;n++)if(t[n].GetName()===e)return!0;return!1}return!1}MarkForRelease(){this._markForRelease=!0}IsInTriggerState(){return this._triggerCount>0}PushIsTriggerState(){this._triggerCount++}PopIsTriggerState(){this._triggerCount--,0===this._triggerCount&&this._markForRelease&&this._flowchartManager.RemoveFlowchartState(this)}_GotoFlowchartNode(e,t,n){const s=this._currentFlowchartNodeId,r=this.GetPluginInstance().GetInstance();this.PushIsTriggerState(),this._flowchartManager.PushFlowchartState(this),this._runtime.Trigger(VN.Plugins.Flowchart.Cnds.OnBeforeAnyNodeChange,r),this._runtime.Trigger(VN.Plugins.Flowchart.Cnds.OnBeforeTaggedNodeChange,r),this._runtime.Trigger(VN.Plugins.Flowchart.Cnds.OnBeforeAnyNodeChangeInFlowchart,r),this._runtime.Trigger(VN.Plugins.Flowchart.Cnds.OnBeforeTaggedNodeChangeInFlowchart,r),this._currentFlowchartNodeId=e;let o=this.GetFlowchartElementById(this._currentFlowchartNodeId);if("dictionary"===o.GetType()&&(this._runtime.Trigger(VN.Plugins.Flowchart.Cnds.OnAnyNodeChange,r),this._runtime.Trigger(VN.Plugins.Flowchart.Cnds.OnTaggedNodeChange,r),this._runtime.Trigger(VN.Plugins.Flowchart.Cnds.OnAnyNodeChangeInFlowchart,r),this._runtime.Trigger(VN.Plugins.Flowchart.Cnds.OnTaggedNodeChangeInFlowchart,r)),this._flowchartManager.PopFlowchartState(),this.PopIsTriggerState(),!this.WasReleased()&&(o=this.GetFlowchartElementById(this._currentFlowchartNodeId),"reference"===o.GetType())){const e=t?t.GetName():o.GetReferenceFlowchartName();if(this._HasReferenceFlowchartState(o)){this._previousFlowchartNodeIds.pop();const e=this._GetReferenceFlowchartState(o);this._flowchartManager.SetCurrentFlowchartState(e,!0,!0,!1),e._SetPreviousFlowchart(this,s),this._GetRootFlowchartState()._SetCurrentReferenceFlowchart(e)}else{const t="number"==typeof n?n:o.GetReferenceFlowchartStartNodeTag();if(e){this._previousFlowchartNodeIds.pop();let n=o.GetReferenceFlowchartTag();if(n){let e=this._flowchartManager.GetFlowchartState(n);for(;e;)n=VN.IncrementNumberAtEndOf(n),e=this._flowchartManager.GetFlowchartState(n)}else{n=`${e}-ref`;let t=this._flowchartManager.GetFlowchartState(n);for(;t;)n=VN.IncrementNumberAtEndOf(n),t=this._flowchartManager.GetFlowchartState(n)}const r=this._flowchartManager.AddFlowchartState(e,t,n,this._pluginInstance,!0);r._SetPreviousFlowchart(this,s),this._SetReferenceFlowchartState(o,r);const a=this._GetRootFlowchartState();r._SetRootFlowchartState(a),a._SetCurrentReferenceFlowchart(r)}}}}_GetFlowchartNodeOutputDefault(){const e=this._flowchartDataItem.GetFlowchartElementById(this._currentFlowchartNodeId);return e?e.GetFlowchartNodeOutputData().GetFlowchartNodeOutputDefault():null}_GetFlowchartNodeOutputAt(e){const t=this._flowchartDataItem.GetFlowchartElementById(this._currentFlowchartNodeId);if(!t)return null;const n=t.GetFlowchartNodeOutputData().GetFlowchartNodeOutputDataItems();if(!n)return null;return n[e]||null}_GetFlowchartNodeOutputByName(e){const t=this._flowchartDataItem.GetFlowchartElementById(this._currentFlowchartNodeId);if(!t)return null;return t.GetFlowchartNodeOutputData().GetFlowchartNodeOutputDataItemByName(e)||null}_SetStartFlowchartNode(e){if("number"==typeof e){let t=this.GetFlowchartElementById(e);t||(t=this._flowchartDataItem.GetFlowchartStartNode()),this._startFlowchartNode=t}else if("number"==typeof this._startNodeTag){let e=this.GetFlowchartElementById(this._startNodeTag);e||(e=this._flowchartDataItem.GetFlowchartStartNode()),this._startFlowchartNode=e}else{let e=this._flowchartDataItem.GetFlowchartNodeByTags(this._startNodeTag);e||(e=this._flowchartDataItem.GetFlowchartStartNode()),this._startFlowchartNode=e}}_SaveToJson(){return this._markForRelease?null:{flowchartName:this._flowchartName,flowchartTag:this._tag,startNodeTag:this._startNodeTag,currentNodeId:this._currentFlowchartNodeId,previousNodeIds:this._previousFlowchartNodeIds,pluginUID:this._pluginInstance.GetInstance().GetUID(),reference:{previousFlowchartTag:this._GetPreviousFlowchartState()?this._GetPreviousFlowchartState().GetTag():"",previousStartNodeId:VN.IsFiniteNumber(this._GetPreviousFlowchartStateStartNodeId())?this._GetPreviousFlowchartStateStartNodeId():NaN,referencesJson:this._GetFlowchartReferencesJson(),currentReferenceFlowchartTag:this.GetCurrentReferenceFlowchart()?this.GetCurrentReferenceFlowchart().GetTag():"",rootFlowchartTag:this._GetRootFlowchartState()?this._GetRootFlowchartState().GetTag():""}}}_GetFlowchartReferencesJson(){if(!this._HasReferenceFlowchartStates())return null;const e=[];for(const[t,n]of this._GetReferenceFlowchartStates().entries())e.push({flowchartElementId:t.GetFlowchartId(),flowchartStateTag:n.GetTag()});return e.length?e:null}_LoadFromJson(e){if(e){if(this._flowchartName=e.flowchartName,this._tag=e.flowchartTag,this._startNodeTag=e.startNodeTag,this._currentFlowchartNodeId=e.currentNodeId,this._previousFlowchartNodeIds=e.previousNodeIds,this._pluginUID=e.pluginUID,e.hasOwnProperty("reference")){const t=e.reference;this._previousFlowchartStateTag=t.previousFlowchartTag,this._previousFlowchartStateStartNodeId=t.previousStartNodeId,this._referenceFlowchartStatesJson=t.referencesJson,this._currentReferenceFlowchartStateTag=t.currentReferenceFlowchartTag,this._rootFlowchartStateTag=t.rootFlowchartTag}this._SetStartFlowchartNode()}}_GetPreviousFlowchartState(){return"string"==typeof this._previousFlowchartStateTag&&this._previousFlowchartStateTag&&(this._previousFlowchartState=this._flowchartManager.GetFlowchartState(this._previousFlowchartStateTag),this._previousFlowchartStateTag=""),this._previousFlowchartState}_GetPreviousFlowchartStateStartNodeId(){return this._previousFlowchartStateStartNodeId}_SetPreviousFlowchart(e,t){this._previousFlowchartState=e,this._previousFlowchartStateStartNodeId=t}GetCurrentReferenceFlowchart(){return"string"==typeof this._currentReferenceFlowchartStateTag&&this._currentReferenceFlowchartStateTag&&(this._currentReferenceFlowchartState=this._flowchartManager.GetFlowchartState(this._currentReferenceFlowchartStateTag),this._currentReferenceFlowchartStateTag=""),this._currentReferenceFlowchartState}_SetCurrentReferenceFlowchart(e){this._currentReferenceFlowchartState=e,this._currentReferenceFlowchartState===this&&(this._currentReferenceFlowchartState=null)}_GetRootFlowchartState(){return"string"==typeof this._rootFlowchartStateTag&&this._rootFlowchartStateTag&&(this._rootFlowchartState=this._flowchartManager.GetFlowchartState(this._rootFlowchartStateTag),this._rootFlowchartStateTag=""),this._rootFlowchartState?this._rootFlowchartState:this}_SetRootFlowchartState(e){this._rootFlowchartState=e}_HasReferenceFlowchartStates(){return this._RebuildReferenceFlowchartStates(),!!this._referenceFlowchartStates}_HasReferenceFlowchartState(e){return this._RebuildReferenceFlowchartStates(),this._referenceFlowchartStates&&this._referenceFlowchartStates.has(e)}_RebuildReferenceFlowchartStates(){if(this._referenceFlowchartStatesJson){this._referenceFlowchartStates&&this._referenceFlowchartStates.clear(),this._referenceFlowchartStates||(this._referenceFlowchartStates=new Map);for(const e of this._referenceFlowchartStatesJson){const t=this._flowchartManager.GetFlowchartState(e.flowchartStateTag),n=t.GetFlowchartElementById(e.flowchartElementId);this._referenceFlowchartStates.set(n,t)}this._referenceFlowchartStatesJson=null}}_GetReferenceFlowchartStates(){return this._RebuildReferenceFlowchartStates(),this._referenceFlowchartStates}_GetReferenceFlowchartState(e){return this._RebuildReferenceFlowchartStates(),this._referenceFlowchartStates.get(e)}_SetReferenceFlowchartState(e,t){this._referenceFlowchartStates||(this._referenceFlowchartStates=new Map),this._referenceFlowchartStates.set(e,t)}}}{const BN=self.C3;BN.FlowchartStateManager=class{constructor(e){this._runtime=e,this._flowchartStates=new Map,this._currentFlowchartState=null,this._flowchartStateStack=[],this._on_after_load=()=>this._OnAfterLoad(),this._loadJson=null}Release(){BN.clearArray(this._flowchartStateStack),this._flowchartStateStack=null,this._flowchartStates.clear(),this._flowchartStates=null,this._currentFlowchartState=null,this._runtime=null,this._loadJson=null}GetRuntime(){return this._runtime}GetFlowchartDataItemByName(e){return this._runtime.GetFlowchartManager().GetFlowchartDataItemByName(e)}AddFlowchartState(e,t,n,s,r,o){const a=this._runtime.GetFlowchartManager().GetFlowchartDataItemByName(e);if(!a)return void console.warn(`[Flowcharts] no flowchart found with name '${e}'`);if(this._flowchartStates.has(n)){const e=this._flowchartStates.get(n);e&&this.RemoveFlowchartState(e)}const i=new BN.FlowchartState(e,n,t,a,this,s,o);return this._flowchartStates.set(n,i),r&&this.SetCurrentFlowchartState(i,!0),i}RemoveFlowchartState(e){if(e.MarkForRelease(),e.IsInTriggerState())return;const t=e.GetTag();this._flowchartStates.delete(t),e.Release(),this._currentFlowchartState===e&&(this._currentFlowchartState=null)}ResetFlowchartState(e){e.Reset()}GetFlowchartState(e){return this._flowchartStates.get(e)}PushFlowchartState(e){this._flowchartStateStack.push(e)}PopFlowchartState(){this._flowchartStateStack.pop()}SetCurrentFlowchartState(e,t=!1,n=!1,s=!0){if(s){const t=e.GetCurrentReferenceFlowchart();e=t||e}e!==this._currentFlowchartState&&(this._TriggerBeforeFlowchartChange(),this._TriggerAfterFlowchartChange(e,t,n))}GetCurrentFlowchartState(e){return"string"==typeof e?this.GetFlowchartState(e):this._flowchartStateStack.length?this._flowchartStateStack[this._flowchartStateStack.length-1]:this._currentFlowchartState}_TriggerBeforeFlowchartChange(){if(!this._currentFlowchartState)return;if(this._currentFlowchartState.WasReleased())return;const e=this._currentFlowchartState.GetPluginInstance().GetInstance();this._currentFlowchartState.PushIsTriggerState(),this.PushFlowchartState(this._currentFlowchartState),this._runtime.Trigger(BN.Plugins.Flowchart.Cnds.OnBeforeFlowchartChange,e),this.PopFlowchartState(),this._currentFlowchartState.PopIsTriggerState()}_TriggerAfterFlowchartChange(e,t=!1,n=!1){if(this._currentFlowchartState=e,!this._currentFlowchartState)return;if(this._currentFlowchartState.WasReleased())return;const s=this._currentFlowchartState.GetPluginInstance().GetInstance();this._currentFlowchartState.PushIsTriggerState(),this.PushFlowchartState(this._currentFlowchartState),this._runtime.Trigger(BN.Plugins.Flowchart.Cnds.OnFlowchartChange,s),!0!==n&&"number"!=typeof n||this._currentFlowchartState._SetStartFlowchartNode(n),t&&(this._runtime.Trigger(BN.Plugins.Flowchart.Cnds.OnAnyNodeChange,s),this._runtime.Trigger(BN.Plugins.Flowchart.Cnds.OnTaggedNodeChange,s),this._runtime.Trigger(BN.Plugins.Flowchart.Cnds.OnAnyNodeChangeInFlowchart,s),this._runtime.Trigger(BN.Plugins.Flowchart.Cnds.OnTaggedNodeChangeInFlowchart,s)),this.PopFlowchartState(),this._currentFlowchartState.PopIsTriggerState()}_SaveToJson(){return{flowchartJsonObjects:[...this._flowchartStates.values()].map(e=>e._SaveToJson()),currentFlowchartTag:this._currentFlowchartState?this._currentFlowchartState.GetTag():null}}_LoadFromJson(e){if(!e)return;this._loadJson=e;const t=new Map;for(const e of this._loadJson.flowchartJsonObjects){const n=e.flowchartTag;if(this._flowchartStates.has(n)){const s=this._flowchartStates.get(n);s._LoadFromJson(e),t.set(n,s)}else{const n=this.AddFlowchartState(e.flowchartName,e.startNodeTag,e.flowchartTag,null,!1,e.pluginUID);n._LoadFromJson(e),t.set(e.flowchartTag,n)}}for(const[e,n]of this._flowchartStates.entries())t.has(e)||n.Release();this._flowchartStates.clear(),this._flowchartStates=t,this._runtime.IsLoadingState()?this._runtime.Dispatcher().addEventListener("afterload",this._on_after_load):this._OnAfterLoad()}_OnAfterLoad(){this._runtime.Dispatcher().removeEventListener("afterload",this._on_after_load);const e=this._flowchartStates.get(this._loadJson.currentFlowchartTag);e&&this.SetCurrentFlowchartState(e,!0),this._loadJson=null}}}{const ON=self.C3;ON.FlowchartDataManager=class{constructor(){this._flowchartDataItems=new Map}Release(){for(const e of this._flowchartDataItems.values())e.Release();this._flowchartDataItems.clear(),this._flowchartDataItems=null}Add(e){const t=new ON.FlowchartDataItem(e),n=t.GetName();this._flowchartDataItems.set(n,t)}Get(e){return this._flowchartDataItems.get(e)}HasFlowcharts(){return!!this._flowchartDataItems.size}static CreateDataItems(e,t,n,s){if(t)for(const r of t){const t=new n(r,s);e.push(t)}}}}{const vN=self.C3,PN=0,wN=1;vN.FlowchartDataItem=class{constructor(e){this._name=e[0],this._flowchartNodeData=new vN.FlowchartNodeData(e[1],this)}Release(){this._flowchartNodeData.Release(),this._flowchartNodeData=null}GetFlowchartNodeData(){return this._flowchartNodeData}GetFlowchartElementById(e){return this._flowchartNodeData.GetFlowchartElementById(e)}GetFlowchartNodeByTags(e){return this._flowchartNodeData.GetFlowchartNodeByTags(e)}GetFlowchartStartNode(){return this._flowchartNodeData.GetFlowchartStartNode()}GetName(){return this._name}}}{const AN=self.C3,DN=0,RN=1,FN=2,jN=3,kN=4,LN=5,WN=6,UN=7,HN=8,zN=8,YN=9,XN=10,qN=11;class KN{constructor(e,t){this._flowchartNodeData=t,this._type=e[7],this._flowchartId=e[0],this._tag=e[1],this._tag?this._tags=this._tag.trim().split(" ").map(e=>e.trim()):this._tags=[],this._parentFlowchartIds=e[2],this._parentOutputFlowchartIds=null,this._childrenFlowchartIds=null,this._enable=!1,"dictionary"===this._type&&(this._parentOutputFlowchartIds=e[3],this._childrenFlowchartIds=e[4],this._enable=e[8]),this._isStart=e[6],this._referenceFlowchartName=null,this._referenceFlowchartStartNodeTag=null,this._referenceFlowchartTag=null,"reference"===this._type&&(this._referenceFlowchartName=e[8],this._referenceFlowchartStartNodeTag=e[9],this._referenceFlowchartTag=e[10],this._enable=e[11]),this._flowchartNodeOutputData=new AN.FlowchartNodeOutputData(e[5],this)}Release(){this._flowchartNodeData=null}GetFlowchartNodeData(){return this._flowchartNodeData}GetFlowchartNodeOutputData(){return this._flowchartNodeOutputData}GetFlowchartId(){return this._flowchartId}GetTag(){return this._tag}GetTags(){return this._tags}HasTags(e){if(!this._tags)return!1;if(!this._tags.length)return!1;const t=AN.FlowchartState._GetTagArray(e);return!(!t||!t.length)&&t.every(AN.FlowchartState._HasTag,this._tags)}GetIsStart(){return this._isStart}SetIsStart(e){this._isStart=!!e}CanBeStartNode(){if("dictionary"===this._type)return!0;if("reference"===this._type)return!1;throw new Error(`unexpected flowchart node type: ${this._type}`)}GetParentFlowchartIds(){return this._parentFlowchartIds}GetParentOutputFlowchartIds(){return this._parentOutputFlowchartIds}GetChildrenFlowchartIds(){return this._childrenFlowchartIds}GetType(){return this._type}GetEnable(){return this._enable}GetReferenceFlowchartName(){return this._referenceFlowchartName}GetReferenceFlowchartStartNodeTag(){return this._referenceFlowchartStartNodeTag}GetReferenceFlowchartTag(){return this._referenceFlowchartTag}}AN.FlowchartNodeData=class{constructor(e,t){this._flowchartDataItem=t,this._flowchartNodeItems=[],this._flowchartNodeItemsIdMap=new Map,this._flowchartNodeItemsTagMap=new Map,this._flowchartNodeStartItem=null,AN.FlowchartDataManager.CreateDataItems(this._flowchartNodeItems,e,KN,this);for(const e of this._flowchartNodeItems){const t=e.GetFlowchartId(),n=e.GetTag(),s=e.GetTags(),r=e.GetIsStart();if(this._flowchartNodeItemsIdMap.set(t,e),n)for(const t of s)this._flowchartNodeItemsTagMap.has(t)||this._flowchartNodeItemsTagMap.set(t,new Set),this._flowchartNodeItemsTagMap.get(t).add(e);r&&(this._flowchartNodeStartItem=e);const o=e.GetFlowchartNodeOutputData();for(const e of o.flowchartNodeOutputDataItems()){const t=e.GetFlowchartId();this._flowchartNodeItemsIdMap.set(t,e)}}this._flowchartNodeStartItem||this._SetStartNodeIfMissing()}Release(){this._flowchartDataItem=null;for(const e of this._flowchartNodeItems)e.Release();AN.clearArray(this._flowchartNodeItems),this._flowchartNodeItems=null}GetFlowchartDataItem(){return this._flowchartDataItem}GetFlowchartElementById(e){return this._flowchartNodeItemsIdMap.get(e)}GetFlowchartNodeByTags(e){if(!e||!e.length)return null;const t=[];for(const n of e.trim().split(" ")){let e=this._flowchartNodeItemsTagMap.get(n.trim())??new Set;if(0===e.size)return null;t.push(e)}return[...t.reduce((e,t)=>t.size<e.size?t:e)].filter(e=>t.every(t=>t.has(e)))[0]}GetFlowchartStartNode(){return this._flowchartNodeStartItem}*flowchartNodeDataItems(){for(const e of this._flowchartNodeItems)yield e}_SetStartNodeIfMissing(){let e=0;for(const t of this.flowchartNodeDataItems())t.GetIsStart()&&e++;if(0===e){for(const e of this.flowchartNodeDataItems())if(e.CanBeStartNode()&&!e.GetIsStart())return void e.SetIsStart(!0)}else{if(1===e)return;if(e>1){let e=!0;for(const t of this.flowchartNodeDataItems())t.CanBeStartNode()&&(t.GetIsStart()&&e?e=!1:t.GetIsStart()&&!e&&t.SetIsStart(!1))}}for(const e of this.flowchartNodeDataItems())if(e.CanBeStartNode()&&e.GetIsStart())return void(this._flowchartNodeStartItem=e)}}}{const JN=self.C3,$N=0,ZN=1,QN=2,eb=3,tb=4,nb=5;class sb{constructor(e,t){this._flowchartNodeOutputData=t,this._flowchartId=e[0],this._name=e[1],this._value=e[2],this._connectedFlowchartNodeFlowchartId=e[3],this._enable=e[4],this._default=e[5]}Release(){this._flowchartNodeOutputData=null}GetFlowchartNodeOutputData(){return this._flowchartNodeOutputData}GetFlowchartId(){return this._flowchartId}GetName(){return this._name}GetValue(){return this._value}GetConnectedFlowchartNodeFlowchartId(){return this._connectedFlowchartNodeFlowchartId}GetEnable(){return this._enable}GetDefault(){return this._default}}JN.FlowchartNodeOutputData=class{constructor(e,t){this._flowchartDataNodeItem=t,this._flowchartNodeOutputItems=[],this._flowchartNodeOutputItemsNameMap=new Map,JN.FlowchartDataManager.CreateDataItems(this._flowchartNodeOutputItems,e,sb,this),this._enabledFlowchartNodeOutputItems=this._flowchartNodeOutputItems.filter(e=>e.GetEnable());for(const e of this._enabledFlowchartNodeOutputItems)this._flowchartNodeOutputItemsNameMap.set(e.GetName(),e)}Release(){this._flowchartDataNodeItem=null;for(const e of this._flowchartNodeOutputItems)e.Release();JN.clearArray(this._flowchartNodeOutputItems),this._flowchartNodeOutputItems=null,JN.clearArray(this._enabledFlowchartNodeOutputItems),this._enabledFlowchartNodeOutputItems=null}GetFlowchartNodeDataItem(){return this._flowchartDataNodeItem}GetFlowchartNodeOutputDataItemCount(){return this._enabledFlowchartNodeOutputItems.length}GetFlowchartNodeOutputDataItems(){return this._enabledFlowchartNodeOutputItems}GetFlowchartNodeOutputDataItemByName(e){return this._flowchartNodeOutputItemsNameMap.get(e)}GetFlowchartNodeOutputDefault(){for(const e of this._enabledFlowchartNodeOutputItems)if(e.GetDefault())return e}*flowchartNodeOutputDataItems(){for(const e of this._enabledFlowchartNodeOutputItems)yield e}}}{const rb=self.C3;rb.SolStack=class extends rb.DefendedBase{constructor(e){super(),this._objectClass=e,this._stack=[],this._stack.push(rb.New(rb.Sol,this)),this._index=0,this._current=this._stack[0]}Release(){for(const e of this._stack)e.Release();rb.clearArray(this._stack),this._current=null,this._objectClass=null}GetObjectClass(){return this._objectClass}GetCurrentSol(){return this._current}GetOneBelowCurrentSol(){return this._stack[this._index-1]}Clear(){this.GetCurrentSol().Clear()}PushClean(){const e=this._stack,t=++this._index;if(t===e.length){const t=rb.New(rb.Sol,this);e.push(t),this._current=t}else{const n=e[t];n.Reset(),this._current=n}}PushCopy(){const e=this._stack,t=++this._index;t===e.length&&e.push(rb.New(rb.Sol,this));const n=e[t];n.Copy(e[t-1]),this._current=n}Pop(){this._current=this._stack[--this._index]}RemoveInstances(e){const t=this._stack;for(let n=0,s=t.length;n<s;++n)t[n].RemoveInstances(e)}}}{const ob=self.C3;ob.Sol=class extends ob.DefendedBase{constructor(e){super(),this._stack=e,this._objectClass=this._stack.GetObjectClass(),this._eventStack=this._objectClass.GetRuntime().GetEventStack(),this._selectAll=!0,this._instances=[],this._elseInstances=[]}Release(){this.ClearArrays(),this._stack=null,this._objectClass=null,this._eventStack=null}ClearArrays(){ob.clearArray(this._instances),ob.clearArray(this._elseInstances)}GetObjectClass(){return this._objectClass}IsSelectAll(){return this._selectAll}HasAnyInstances(){return this._selectAll?!!this._objectClass.GetInstanceCount():!!this._instances.length}GetInstances(){return this._selectAll?this._objectClass.GetInstances():this._instances}HasAnyElseInstances(){return!!this._elseInstances.length}GetElseInstances(){return this._elseInstances}GetExpressionInstances(){const e=this.GetInstances();return e.length?e:this._elseInstances}Reset(){this._selectAll=!0,ob.clearArray(this._elseInstances)}Clear(){this._selectAll=!0}Copy(e){e.IsSelectAll()?this.Reset():(this._selectAll=!1,ob.shallowAssignArray(this._instances,e._instances),ob.clearArray(this._elseInstances))}_PushInstance(e){this._instances.push(e)}_PushElseInstance(e){this._elseInstances.push(e)}_SetSelectAll(e){this._selectAll=!!e}_GetOwnInstances(){return this._instances}_GetOwnElseInstances(){return this._elseInstances}SetSinglePicked(e){this._selectAll=!1,ob.clearArray(this._instances),this._instances.push(e)}SetArrayPicked(e){this._selectAll=!1,ob.shallowAssignArray(this._instances,e)}SetSetPicked(e){this._selectAll=!1,ob.clearArray(this._instances);for(const t of e)this._instances.push(t)}AddElseInstances(e,t){for(const n of t)e.has(n)||this._elseInstances.push(n)}TransferElseInstancesToOwn(e){for(const t of e)this._instances.push(t);ob.arrayRemoveAllInSet(this._elseInstances,e)}ClearElseInstances(){ob.clearArray(this._elseInstances)}PickOne(e){if(e)if(this._eventStack.GetCurrentStackFrame().GetCurrentEvent().IsOrBlock()){this.IsSelectAll()&&(ob.clearArray(this._instances),ob.shallowAssignArray(this._elseInstances,e.GetObjectClass().GetInstances()),this._selectAll=!1);const t=this._elseInstances.indexOf(e);-1!==t&&(this._instances.push(this._elseInstances[t]),this._elseInstances.splice(t,1))}else this.SetSinglePicked(e)}RemoveInstances(e){ob.arrayRemoveAllInSet(this._instances,e),ob.arrayRemoveAllInSet(this._elseInstances,e)}}}{const ab=self.C3;ab.EventStack=class extends ab.DefendedBase{constructor(e){super(),this._eventSheetManager=e,this._runtime=this._eventSheetManager.GetRuntime(),this._stack=[],this._stack.push(ab.New(ab.EventStackFrame,this,null)),this._index=0,this._expFuncStack=[]}Release(){for(const e of this._stack)e.Release();ab.clearArray(this._stack),ab.clearArray(this._expFuncStack),this._eventSheetManager=null,this._runtime=null}GetEventSheetManager(){return this._eventSheetManager}GetRuntime(){return this._runtime}GetCurrentStackFrame(){return this._stack[this._index]}GetAllStackFrames(){return this._stack}GetCurrentStackFrameIndex(){return this._index}Push(e){const t=this._stack,n=++this._index;if(n===t.length){const n=ab.New(ab.EventStackFrame,this,e);return t.push(n),n}{const s=t[n];return s.Reset(e),s}}Pop(){--this._index}PushExpFunc(e){this._expFuncStack.push(e)}PopExpFunc(){this._expFuncStack.pop()}GetCurrentExpFuncStackFrame(){const e=this._expFuncStack;return 0===e.length?null:e.at(-1)}}}{const ib=self.C3;ib.EventStackFrame=class extends ib.DefendedBase{constructor(e,t){super(),this._stack=e,this._runtime=this._stack.GetRuntime(),this._currentEvent=t,this._cndIndex=0,this._actIndex=0,this._lastEventTrue=!1,this._elseBranchRan=!1,this._expressionObjectClass=null,this._functionReturnType=0,this._functionReturnValue=0,this._dynamicSolModifiers=null}Release(){this.Reset(null),this._stack=null,this._runtime=null}Reset(e){this._currentEvent=e,this._cndIndex=0,this._actIndex=0,this._lastEventTrue=!1,this._elseBranchRan=!1,this._dynamicSolModifiers=null}_Restore(e,t){this._currentEvent=e,this._cndIndex=0,this._actIndex=t}ResetQuick(){this._cndIndex=0,this._actIndex=0}GetCurrentEvent(){return this._currentEvent}SetCurrentEvent(e){this._currentEvent=e}GetConditionIndex(){return this._cndIndex}SetConditionIndex(e){this._cndIndex=e}GetActionIndex(){return this._actIndex}SetActionIndex(e){this._actIndex=e}SetLastEventTrue(e){this._lastEventTrue=!!e}GetLastEventTrue(){return this._lastEventTrue}SetElseBranchRan(e){this._elseBranchRan=!!e}GetElseBranchRan(){return this._elseBranchRan}SetExpressionObjectClass(e){this._expressionObjectClass=e}GetExpressionObjectClass(){return this._expressionObjectClass}InitCallFunctionExpression(e,t){this._functionReturnType=e,this._functionReturnValue=t}GetFunctionReturnType(){return this._functionReturnType}SetFunctionReturnValue(e){this._functionReturnValue=e}GetFunctionReturnValue(){return this._functionReturnValue}IsSolModifierAfterCnds(){const e=this._currentEvent;return!!e.IsSolWriterAfterCnds()||this._cndIndex<e.GetConditionCount()-1&&!!e.GetSolModifiers().length}SetDynamicSolModifiers(e){this._dynamicSolModifiers=e}GetDynamicSolModifiers(){return this._dynamicSolModifiers}}}{const lb=self.C3;lb.LocalVarStack=class extends lb.DefendedBase{constructor(e){super(),this._eventSheetManager=e,this._runtime=this._eventSheetManager.GetRuntime(),this._stack=[],this._index=-1,this._current=null,this._initialValues=[]}Release(){lb.clearArray(this._stack),this._eventSheetManager=null,this._runtime=null}_SetInitialValues(e){this._initialValues=e;const t=this._initialValues.slice(0);this._stack.push(t),this._index=0,this._current=t}GetEventSheetManager(){return this._eventSheetManager}GetRuntime(){return this._runtime}GetCurrent(){return this._current}Push(){const e=++this._index,t=this._stack;e===t.length?t.push(this._initialValues.slice(0)):lb.shallowAssignArray(t[e],this._initialValues),this._current=t[e]}Pop(){this._current=this._stack[--this._index]}}}{const db=self.C3;db.LoopStack=class extends db.DefendedBase{constructor(e){super(),this._eventSheetManager=e,this._runtime=this._eventSheetManager.GetRuntime(),this._stack=[],this._index=-1}Release(){db.clearArray(this._stack),this._eventSheetManager=null,this._runtime=null}GetEventSheetManager(){return this._eventSheetManager}GetRuntime(){return this._runtime}IsInLoop(){return this._index>=0}GetCurrent(){return this._stack[this._index]}Push(){if(++this._index,this._index===this._stack.length){const e=db.New(db.Loop,this);return this._stack.push(e),e}{const e=this._stack[this._index];return e.Reset(),e}}Pop(){--this._index}FindByName(e){const t=this._stack;for(let n=this._index;n>=0;--n){const s=t[n];if(s.GetName()===e)return s}return null}_GetStack(){return this._stack.slice(0,this._index+1)}}}{const cb=self.C3;cb.Loop=class extends cb.DefendedBase{constructor(e){super(),this._loopStack=e,this._name="",this._index=0,this._isStopped=!1,this._end=NaN}Reset(){this._name="",this._index=0,this._isStopped=!1,this._end=NaN}SetName(e){this._name=e}GetName(){return this._name}SetIndex(e){this._index=e}GetIndex(){return this._index}Stop(){this._isStopped=!0}IsStopped(){return this._isStopped}SetEnd(e){this._end=e}GetEnd(){return this._end}}}{const ub=self.C3;ub.ArrayStack=class extends ub.DefendedBase{constructor(){super(),this._stack=[],this._index=-1}Release(){ub.clearArray(this._stack)}GetCurrent(){return this._stack[this._index]}Push(){if(++this._index,this._index===this._stack.length){const e=[];return this._stack.push(e),e}return this._stack[this._index]}Pop(){--this._index}}}{let hb=function(e,t){return e.GetIndex()-t.GetIndex()},_b=function(e,t){for(let n=0,s=e.length;n<s;++n)if(e[n]!==t[n])return!1;return!0};SortSolArray=hb,IsSolArrayIdentical=_b;const Gb=self.C3,pb=self.assert;Gb.EventSheetManager=class extends Gb.DefendedBase{constructor(e){super(),this._runtime=e,this._allSheets=[],this._sheetsByName=new Map,this._allGroups=[],this._groupsByName=new Map,this._blocksBySid=new Map,this._cndsBySid=new Map,this._actsBySid=new Map,this._allUniqueSolModifiers=new Map,this._eventVarsBySid=new Map,this._nextLocalVarIndex=0,this._allGlobalVars=[],this._allLocalVars=[],this._localVarInitialValues=[],this._functionBlocksByName=new Map,this._customActionBlocksMap=new Map,this._eventStack=Gb.New(Gb.EventStack,this),this._localVarStack=Gb.New(Gb.LocalVarStack,this),this._loopStack=Gb.New(Gb.LoopStack,this),this._triggersToPostInit=[],this._queuedTriggers=[],this._queuedDebugTriggers=[],this._runningEventsDepth=0,this._executingTriggerDepth=0,this._blockFlushingDepth=0,this._scheduledWaits=[],this._asyncActionPromises=[],this._signalTags=[],this._signalPromises=new Map,this._instSignals=new Map,self.c3_callFunction=(e,t)=>this._InvokeFunctionFromJS(e,t)}Release(){this.ClearAllScheduledWaits(),this._eventStack.Release(),this._eventStack=null,this._localVarStack.Release(),this._localVarStack=null,Gb.clearArray(this._queuedTriggers),Gb.clearArray(this._queuedDebugTriggers),this._runtime=null,Gb.clearArray(this._allSheets),this._sheetsByName.clear()}Create(e){const t=Gb.New(Gb.EventSheet,this,e);this._allSheets.push(t),this._sheetsByName.set(t.GetName().toLowerCase(),t)}_AddTriggerToPostInit(e){this._triggersToPostInit.push(e)}_PostInit(){for(const e of this._customActionBlocksMap.values())e._CheckOverrideState();for(const e of this._functionBlocksByName.values())e._PostInit();for(const e of this._customActionBlocksMap.values())e._PostInit();for(const e of this._allSheets)e._PostInit();for(const e of this._allSheets)e._UpdateDeepIncludes();for(const e of this._triggersToPostInit)e._PostInit(!1);Gb.clearArray(this._triggersToPostInit),this._localVarStack._SetInitialValues(this._localVarInitialValues)}GetRuntime(){return this._runtime}GetEventSheetByName(e){return this._sheetsByName.get(e.toLowerCase())||null}_RegisterGroup(e){this._allGroups.push(e),this._groupsByName.set(e.GetGroupName(),e)}_RegisterEventBlock(e){this._blocksBySid.set(e.GetSID(),e)}_RegisterCondition(e){this._cndsBySid.set(e.GetSID(),e)}_RegisterAction(e){this._actsBySid.set(e.GetSID(),e)}_RegisterFunctionBlock(e){switch(e.GetFunctionType()){case 0:this._functionBlocksByName.set(e.GetFunctionName().toLowerCase(),e);break;case 1:this._customActionBlocksMap.set(e.GetFunctionName().toLowerCase(),e)}}_RegisterEventVariable(e){this._eventVarsBySid.set(e.GetSID(),e),e.IsGlobal()?this._allGlobalVars.push(e):this._allLocalVars.push(e)}_DeduplicateSolModifierList(e){e.length>=2&&e.sort(hb);let t=this._allUniqueSolModifiers.get(e.length);t||(t=[],this._allUniqueSolModifiers.set(e.length,t));for(let n=0,s=t.length;n<s;++n){const s=t[n];if(_b(e,s))return s}return t.push(e),e}_GetNextLocalVarIndex(e){return this._localVarInitialValues.push(e.GetInitialValue()),this._nextLocalVarIndex++}GetEventStack(){return this._eventStack}GetCurrentEventStackFrame(){return this.GetEventStack().GetCurrentStackFrame()}GetCurrentEvent(){return this.GetCurrentEventStackFrame().GetCurrentEvent()}GetCurrentCondition(){const e=this.GetCurrentEventStackFrame();return e.GetCurrentEvent().GetConditionAt(e.GetConditionIndex())}GetCurrentAction(){const e=this.GetCurrentEventStackFrame();return e.GetCurrentEvent().GetActionAt(e.GetActionIndex())}GetLocalVarStack(){return this._localVarStack}GetLoopStack(){return this._loopStack}GetAllLocalVariablesInScope(e){const t=[];for(e=e.GetScopeParent();e;)Gb.appendArray(t,e._GetAllLocalVariablesInScope()),e=e.GetScopeParent();return t}_GetLocalVariablesScriptInterface(e){const t={};for(const n of this.GetAllLocalVariablesInScope(e))t[n.GetJsPropName()]=n._GetScriptInterfaceDescriptor();return Object.create(Object.prototype,t)}GetEventVariableBySID(e){return this._eventVarsBySid.get(e)||null}GetEventBlockBySID(e){return this._blocksBySid.get(e)||null}GetConditionBySID(e){return this._cndsBySid.get(e)||null}GetActionBySID(e){return this._actsBySid.get(e)||null}GetFunctionBlockByName(e){return this._functionBlocksByName.get(e.toLowerCase())||null}GetCustomActionBlockByName(e,t){let n=this._customActionBlocksMap.get((e.GetName()+"."+t).toLowerCase());if(n)return n;if(!e.IsFamily())for(const s of e.GetFamilies())if(n=this._customActionBlocksMap.get((s.GetName()+"."+t).toLowerCase()),n)return n;return null}GetAllGlobalVariables(){return this._allGlobalVars}GetAllLocalVariables(){return this._allLocalVars}ResetAllGlobalsToInitialValue(e){for(const e of this._allGlobalVars)e.ResetToInitialValue();if(e)for(const e of this._allLocalVars)e.IsStatic()&&e.ResetToInitialValue()}GetEventGroupByName(e){return this._groupsByName.get(e.toLowerCase())||null}GetEventGroupBySID(e){const t=this._blocksBySid.get(e);return t&&t.IsGroup()?t:null}GetAllGroups(){return this._allGroups}ResetAllGroupsInitialActivation(){for(const e of this._allGroups)e.ResetInitialActivation()}_ResetAllHasRunFlags(){for(const e of this._allSheets)e._ResetHasRunFlag()}RunEvents(e){this._ResetAllHasRunFlags(),this._runningEventsDepth++;for(const t of e.runningLayouts()){const e=t.GetEventSheet();e&&(this._runtime.PushCurrentLayout(t),e.Run(),this._runtime.PopCurrentLayout())}this._runningEventsDepth--}async DebugRunEvents(e){this._ResetAllHasRunFlags(),this._runningEventsDepth++;for(const t of this._DebugRunEventsGen(e))await this._runtime.DebugBreak(t);this._runningEventsDepth--}*_DebugRunEventsGen(e){for(const t of e.runningLayouts()){const e=t.GetEventSheet();e&&(this._runtime.PushCurrentLayout(t),yield*e.DebugRun(),this._runtime.PopCurrentLayout())}}_Trigger(e,t,n,s){let r=!1;if(!e.GetMainRunningLayout())return this.QueueTrigger(t,n,s);this._executingTriggerDepth++;for(const o of e.runningLayouts()){const e=o.GetEventSheet();if(!e)continue;this._runtime.PushCurrentLayout(o);for(const o of e.deepIncludes()){const e=o._Trigger(t,n,s);r=r||e}const a=e._Trigger(t,n,s);r=r||a,this._runtime.PopCurrentLayout()}return this._executingTriggerDepth--,r}*_DebugTrigger(e,t,n,s){let r=!1;if(!e.GetMainRunningLayout())return this.QueueTrigger(t,n,s);this._executingTriggerDepth++;for(const o of e.runningLayouts()){const e=o.GetEventSheet();if(!e)continue;this._runtime.PushCurrentLayout(o);for(const o of e.deepIncludes()){const e=yield*o._DebugTrigger(t,n,s);r=r||e}const a=yield*e._DebugTrigger(t,n,s);r=r||a,this._runtime.PopCurrentLayout()}return this._executingTriggerDepth--,r}QueueTrigger(e,t,n){return this._queuedTriggers.push([e,t,n]),!1}QueueDebugTrigger(e,t,n){let s=null;const r=new Promise(e=>s=e);return this._queuedDebugTriggers.push([e,t,n,s]),r}*_RunQueuedDebugTriggersGen(){if(this._runtime.HitBreakpoint())throw new Error("should not be in breakpoint");const e=this._runtime.GetLayoutManager();for(;this._queuedDebugTriggers.length;){const[t,n,s,r]=this._queuedDebugTriggers.shift();r(yield*this._DebugTrigger(e,t,n,s))}}async RunQueuedDebugTriggersAsync(){for(const e of this._RunQueuedDebugTriggersGen())await this._runtime.DebugBreak(e)}_FastTrigger(e,t,n,s){let r=!1;const o=e.GetMainRunningLayout(),a=o.GetEventSheet();if(!a)return;this._executingTriggerDepth++,this._runtime.PushCurrentLayout(o);const i=a.deepIncludes();for(let e=0,o=i.length;e<o;++e){const o=i[e]._FastTrigger(t,n,s);r=r||o}const l=a._FastTrigger(t,n,s);return r=r||l,this._runtime.PopCurrentLayout(),this._executingTriggerDepth--,r}*_DebugFastTrigger(e,t,n,s){let r=!1;const o=e.GetMainRunningLayout(),a=o.GetEventSheet();if(!a)return;this._executingTriggerDepth++,this._runtime.PushCurrentLayout(o);const i=a.deepIncludes();for(let e=0,o=i.length;e<o;++e){const o=yield*i[e]._DebugFastTrigger(t,n,s);r=r||o}const l=yield*a._DebugFastTrigger(t,n,s);return r=r||l,this._runtime.PopCurrentLayout(),this._executingTriggerDepth--,r}GetTriggerDepth(){return this._executingTriggerDepth}IsInTrigger(){return this.GetTriggerDepth()>0}_IncTriggerDepth(){return++this._executingTriggerDepth}_DecTriggerDepth(){--this._executingTriggerDepth}IsRunningEvents(){return this._runningEventsDepth>0}IsInEventEngine(){return this.IsRunningEvents()||this.IsInTrigger()}_RunQueuedTriggers(e){for(const[t,n,s]of this._queuedTriggers)this._Trigger(e,t,n,s);Gb.clearArray(this._queuedTriggers)}BlockFlushingInstances(e){e?this._blockFlushingDepth++:this._blockFlushingDepth--}IsFlushingBlocked(){return this._blockFlushingDepth>0}ClearSol(e){for(let t=0,n=e.length;t<n;++t)e[t].GetSolStack().Clear()}PushCleanSol(e){for(let t=0,n=e.length;t<n;++t)e[t].GetSolStack().PushClean()}PushCopySol(e){for(let t=0,n=e.length;t<n;++t)e[t].GetSolStack().PushCopy()}PopSol(e){for(let t=0,n=e.length;t<n;++t)e[t].GetSolStack().Pop()}GetDynamicSolModifiersSet(e){const t=new Set,n=this._eventStack.GetAllStackFrames(),s=this._eventStack.GetCurrentStackFrameIndex();for(let r=0;r<=s;++r){const s=n[r].GetDynamicSolModifiers();if(s)for(const n of s)e&&e.has(n)||t.add(n)}return t}PushCleanSolDynamic(e){const t=new Set([...e]),n=this.GetDynamicSolModifiersSet(t);if(n.size>0){for(const e of n)e.GetSolStack().PushClean();return[...n]}return null}AddScheduledWait(){const e=Gb.New(Gb.ScheduledWait,this);return this._scheduledWaits.push(e),e}scheduledWaits(){return this._scheduledWaits}RunScheduledWaits(){if(!this._scheduledWaits.length)return;const e=this.GetCurrentEventStackFrame();let t=!1;this._runningEventsDepth++;for(let n=0,s=this._scheduledWaits.length;n<s;++n){const s=this._scheduledWaits[n];s._ShouldRun()&&s._Run(e),s.ShouldRelease()&&(t=!0)}t&&(this._FilterScheduledWaitsToRelease(),e.Reset(null)),this._runningEventsDepth--}async DebugRunScheduledWaits(){if(!this._scheduledWaits.length)return;const e=this.GetCurrentEventStackFrame();let t=!1;this._runningEventsDepth++;for(let n=0,s=this._scheduledWaits.length;n<s;++n){const s=this._scheduledWaits[n];s._ShouldRun()&&await s._DebugRun(e),s.ShouldRelease()&&(t=!0)}t&&(this._FilterScheduledWaitsToRelease(),e.Reset(null)),this._runningEventsDepth--}_FilterScheduledWaitsToRelease(){const e=Gb.arrayFilterOut(this._scheduledWaits,e=>e.ShouldRelease());for(const t of e)t.Release()}ClearAllScheduledWaits(){for(const e of this._scheduledWaits)e.Release();Gb.clearArray(this._scheduledWaits)}_OnInstancesReleased(e){for(const t of this._scheduledWaits)t.RemoveInstances(e);for(const t of e){const e=this._instSignals.get(t);if(this._instSignals.delete(t),e)for(const{resolve:t}of e.signalPromises.values())t(!0)}}AddAsyncActionPromise(e){this._asyncActionPromises.push({promise:e,triggerDepth:this.GetTriggerDepth()})}ClearAsyncActionPromises(){Gb.clearArray(this._asyncActionPromises)}GetPromiseForAllAsyncActions(){const e=this.GetTriggerDepth(),t=Promise.all(this._asyncActionPromises.filter(t=>t.triggerDepth===e).map(e=>e.promise));return this._asyncActionPromises=this._asyncActionPromises.filter(t=>t.triggerDepth<e),t}Signal(e){const t=e.toLowerCase();this._signalTags.push(t),this._runtime.Trigger(Gb.Plugins.System.Cnds.OnSignal,null),this._signalTags.pop();for(const e of this._runtime.GetEventSheetManager().scheduledWaits())e.IsSignal()&&e.GetSignalTag()===t&&e.SetSignalled();const n=this._signalPromises.get(t);n&&(n.resolve(),this._signalPromises.delete(t))}WaitForSignal(e){const t=e.toLowerCase(),n=this._signalPromises.get(t);if(n)return n.promise;{let e=null;const n=new Promise(t=>e=t);return this._signalPromises.set(t,{promise:n,resolve:e}),n}}GetCurrentSignalTag(){if(0===this._signalTags.length)throw new Error("not in a signal");return this._signalTags.at(-1)}_GetInstanceSignalState(e){let t=this._instSignals.get(e);return t||(t={signalTags:[],signalPromises:new Map},this._instSignals.set(e,t)),t}InstanceSignal(e,t){const n=this._GetInstanceSignalState(e),s=t.toLowerCase();n.signalTags.push(s),this._runtime.Trigger(e.GetPlugin().GetConstructor().Cnds.OnInstanceSignal,e),n.signalTags.pop();for(const t of this._runtime.GetEventSheetManager().scheduledWaits())t.IsInstanceSignals()&&t.GetSignalTag()===s&&t.SetInstanceSignalled(e);const r=n.signalPromises.get(s);r&&(r.resolve(!1),n.signalPromises.delete(s)),0===n.signalTags.length&&0===n.signalPromises.size&&this._instSignals.delete(e)}WaitForInstanceSignal(e,t){const n=this._GetInstanceSignalState(e),s=t.toLowerCase(),r=n.signalPromises.get(s);if(r)return r.promise;{let e=null;const t=new Promise(t=>e=t);return n.signalPromises.set(s,{promise:t,resolve:e}),t}}GetCurrentInstanceSignalTag(e){const t=this._GetInstanceSignalState(e);if(!t||0===t.signalTags.length)throw new Error("not in a signal");return t.signalTags.at(-1)}_SaveToJson(){return{groups:this._SaveGroupsToJson(),cnds:this._SaveCndsToJson(),acts:this._SaveActsToJson(),vars:this._SaveVarsToJson(),waits:this._SaveScheduledWaitsToJson()}}_LoadFromJson(e){this._LoadGroupsFromJson(e.groups),this._LoadCndsFromJson(e.cnds),this._LoadActsFromJson(e.acts),this._LoadVarsFromJson(e.vars),this._LoadScheduledWaitsFromJson(e.waits)}_SaveGroupsToJson(){const e={};for(const t of this.GetAllGroups())e[t.GetSID().toString()]=t.IsGroupActive();return e}_LoadGroupsFromJson(e){for(const[t,n]of Object.entries(e)){const e=parseInt(t,10),s=this.GetEventGroupBySID(e);s&&s.SetGroupActive(n)}}_SaveCndsToJson(){const e={};for(const[t,n]of this._cndsBySid){const s=n._SaveToJson();s&&(e[t.toString()]=s)}return e}_LoadCndsFromJson(e){const t=new Map;for(const[n,s]of Object.entries(e))t.set(parseInt(n,10),s);for(const[e,n]of this._cndsBySid)n._LoadFromJson(t.get(e)||null)}_SaveActsToJson(){const e={};for(const[t,n]of this._actsBySid){const s=n._SaveToJson();s&&(e[t.toString()]=s)}return e}_LoadActsFromJson(e){const t=new Map;for(const[n,s]of Object.entries(e))t.set(parseInt(n,10),s);for(const[e,n]of this._actsBySid)n._LoadFromJson(t.get(e)||null)}_SaveVarsToJson(){const e={};for(const[t,n]of this._eventVarsBySid)n.IsConstant()||!n.IsGlobal()&&!n.IsStatic()||(e[t.toString()]=n.GetValue());return e}_LoadVarsFromJson(e){for(const[t,n]of Object.entries(e)){const e=parseInt(t,10),s=this.GetEventVariableBySID(e);s&&s.SetValue(n)}}_SaveScheduledWaitsToJson(){return this._scheduledWaits.filter(e=>!e.IsPromise()).map(e=>e._SaveToJson())}_LoadScheduledWaitsFromJson(e){this.ClearAllScheduledWaits();for(const t of e){const e=Gb.ScheduledWait._CreateFromJson(this,t);e&&this._scheduledWaits.push(e)}}_GetPerfRecords(){return[...this._runtime.GetLayoutManager().runningLayouts()].map(e=>e.GetEventSheet()).filter(e=>e).map(e=>e._GetPerfRecord())}FindFirstFunctionBlockParent(e){for(;e;){const t=e.GetScopeParent();if(t instanceof Gb.FunctionBlock)return t;e=t}return null}_InvokeFunctionFromJS(e,t){Array.isArray(t)||(t=[]);const n=this.GetFunctionBlockByName(e.toLowerCase());if(!n)return null;if(!n.IsEnabled())return n.GetDefaultReturnValue();const s=n.GetFunctionParameters();if(t.length<s.length){t=t.slice(0);do{t.push(s[t.length].GetInitialValue())}while(t.length<s.length)}const r=n.GetEventBlock();return r.RunAsExpressionFunctionCall(r.GetSolModifiersIncludingParents(),!1,n.GetReturnType(),n.GetDefaultReturnValue(),...t)}}}{const mb=self.C3;mb.EventSheet=class extends mb.DefendedBase{constructor(e,t){super(),this._eventSheetManager=e,this._runtime=e.GetRuntime(),this._name=t[0],this._events=[],this._triggers=new Map,this._fastTriggers=new Map,this._eventsByDisplayNumber=new Map,this._hasRun=!1,this._shallowIncludes=[],this._deepIncludes=[],this._alreadyIncludedSheets=new Set;for(const e of t[1])this._CreateEvent(e,null,this._events);this._perfRecord=this._runtime.IsDebug()?{type:"sheet",name:this._name,totalTimeCounter:0,children:[]}:null}Release(){this._eventSheetManager=null,this._runtime=null}_CreateEvent(e,t,n){switch(e[0]){case 0:case 3:this._CreateEventBlock(e,t,n);break;case 1:this._CreateEventVariable(e,t,n);break;case 2:this._CreateInclude(e,t,n);break;case 4:this._CreateFunctionBlock(e,t);break;case 5:this._CreateScriptBlock(e,t,n);break;case 6:this._CreateCustomACEBlock(e,t);break;default:throw new Error("invalid event type")}}_CreateEventBlock(e,t,n){const s=mb.EventBlock.Create(this,t,e);if(s.IsOrBlock()){n.push(s);const e=s.GetConditions();for(let t=0,n=e.length;t<n;++t)e[t].IsTrigger()&&this._InitTrigger(s,t)}else s.IsTrigger()?this._InitTrigger(s,0):n.push(s)}_CreateFunctionBlock(e,t){const n=mb.FunctionBlock.CreateFunctionBlock(this,t,e);this._eventSheetManager._RegisterFunctionBlock(n)}_CreateCustomACEBlock(e,t){const n=mb.FunctionBlock.CreateCustomACEBlock(this,t,e);this._eventSheetManager._RegisterFunctionBlock(n)}_CreateEventVariable(e,t,n){const s=mb.EventVariable.Create(this,t,e);n.push(s)}_CreateInclude(e,t,n){const s=mb.EventInclude.Create(this,t,e);n.push(s)}_CreateScriptBlock(e,t,n){const s=mb.EventScript.Create(this,t,e);n.push(s)}_InitTrigger(e,t){e.IsOrBlock()||this._eventSheetManager._AddTriggerToPostInit(e);const n=e.GetConditionAt(t),s=n._GetFunc(),r=n.GetObjectClass();if(n.IsFastTrigger()){let o=this._fastTriggers.get(r);o||(o=new Map,this._fastTriggers.set(r,o));const a=n.GetFastTriggerValue().toLowerCase();let i=o.get(s);i||(i=new Map,o.set(s,i));let l=i.get(a);l||(l=[],i.set(a,l)),l.push([e,t])}else{let o=this._triggers.get(r);o||(o={methodMap:new Map,behaviors:new Map},this._triggers.set(r,o));const a=n.GetBehaviorType();let i;a?(i=o.behaviors.get(a),i||(i=new Map,o.behaviors.set(a,i))):i=o.methodMap;let l=i.get(s);l||(l=[],i.set(s,l)),l.push([e,t])}}_PostInit(){const e=this._events;for(let t=0,n=e.length;t<n;++t){const s=t<n-1&&e[t+1]instanceof mb.EventBlock&&e[t+1].IsElseBlock();e[t]._PostInit(s)}}_AddShallowInclude(e){this._shallowIncludes.push(e)}_UpdateDeepIncludes(){mb.clearArray(this._deepIncludes),this._AddDeepIncludes(this),this._alreadyIncludedSheets.clear()}_AddDeepIncludes(e){const t=e._deepIncludes,n=e._alreadyIncludedSheets;for(const s of this._shallowIncludes){const r=s.GetIncludeSheet();s.IsActive()&&e!==r&&!n.has(r)&&(n.add(r),r._AddDeepIncludes(e),t.push(r))}}deepIncludes(){return this._deepIncludes}GetEventSheetManager(){return this._eventSheetManager}GetRuntime(){return this._runtime}GetName(){return this._name}_RegisterEventByDisplayNumber(e,t){this._eventsByDisplayNumber.set(t,e)}_GetEventByDisplayNumber(e){return this._eventsByDisplayNumber.get(e)||null}_ResetHasRunFlag(){this._hasRun=!1}Run(){if(this._hasRun)return;const e=this._runtime,t=e.IsCPUProfiling(),n=t?performance.now():0;this._hasRun=!0;const s=this.GetEventSheetManager(),r=s.GetCurrentEventStackFrame();for(const t of this._events)t.Run(r),s.ClearSol(t.GetSolModifiers()),s.ClearAsyncActionPromises(),e.FlushPendingInstances();r.Reset(null),t&&(this._perfRecord.totalTimeCounter+=performance.now()-n)}*DebugRun(){if(this._hasRun)return;this._hasRun=!0;const e=this._runtime,t=this.GetEventSheetManager(),n=t.GetCurrentEventStackFrame();for(const s of this._events)yield*s.DebugRun(n),t.ClearSol(s.GetSolModifiers()),t.ClearAsyncActionPromises(),e.FlushPendingInstances();n.Reset(null)}_Trigger(e,t,n){if(!t)return this._TriggerForClass(e,t,null,null);{const s=t.GetObjectClass();let r=!1,o=this._TriggerForClass(e,t,s,n);r=r||o;for(const a of s.GetFamilies())o=this._TriggerForClass(e,t,a,n),r=r||o}}_TriggerForClass(e,t,n,s){const r=this._triggers.get(n);if(!r)return!1;const o=s?r.behaviors.get(s):r.methodMap;if(!o)return!1;const a=o.get(e);if(!a)return!1;let i=!1;for(const[e,n]of a){const s=this._ExecuteTrigger(t,e,n);i=i||s}return i}*_DebugTrigger(e,t,n){if(!t)return yield*this._DebugTriggerForClass(e,t,null,null);{const s=t.GetObjectClass();let r=!1,o=yield*this._DebugTriggerForClass(e,t,s,n);r=r||o;for(const a of s.GetFamilies())o=yield*this._DebugTriggerForClass(e,t,a,n),r=r||o}}*_DebugTriggerForClass(e,t,n,s){const r=this._triggers.get(n);if(!r)return!1;const o=s?r.behaviors.get(s):r.methodMap;if(!o)return!1;const a=o.get(e);if(!a)return!1;let i=!1;for(const[e,n]of a){let s;s=e.DebugCanRunFast()?this._ExecuteTrigger(t,e,n):yield*this._DebugExecuteTrigger(t,e,n),i=i||s}return i}_FastTrigger(e,t,n){const s=t.GetObjectClass(),r=this._fastTriggers.get(s);if(!r)return!1;const o=r.get(e);if(!o)return!1;const a=o.get(n);if(!a)return!1;let i=!1;for(let e=0,t=a.length;e<t;++e){const t=a[e],n=this._ExecuteTrigger(null,t[0],t[1]);i=i||n}return i}*_DebugFastTrigger(e,t,n){const s=t.GetObjectClass(),r=this._fastTriggers.get(s);if(!r)return!1;const o=r.get(e);if(!o)return!1;const a=o.get(n);if(!a)return!1;let i=!1;for(let e=0,t=a.length;e<t;++e){const t=a[e],n=t[0],s=t[1];let r;r=n.DebugCanRunFast()?this._ExecuteTrigger(null,n,s):yield*this._DebugExecuteTrigger(null,n,s),i=i||r}return i}_ExecuteTrigger(e,t,n){const s=this._runtime,r=this._eventSheetManager,o=r.GetCurrentEvent(),a=r.GetEventStack(),i=r.GetTriggerDepth();let l=!1;o&&r.PushCleanSol(o.GetSolModifiersIncludingParents()),r.PushCleanSol(t.GetSolModifiersIncludingParents());const d=i>1;d&&r.GetLocalVarStack().Push();const c=a.Push(t);e&&(t.GetConditions()[n].GetObjectClass().GetCurrentSol().SetSinglePicked(e),e.IsInContainer()&&e.SetSiblingsSinglePicked());let u=!0;if(t.GetParent()){const e=t.GetTriggerParents();for(let t=0,n=e.length;t<n;++t)if(!e[t].RunPreTrigger(c)){u=!1;break}}return u&&(t.IsOrBlock()?t.RunOrBlockTrigger(c,n):t.Run(c),l=c.GetLastEventTrue()),a.Pop(),d&&r.GetLocalVarStack().Pop(),r.PopSol(t.GetSolModifiersIncludingParents()),o&&r.PopSol(o.GetSolModifiersIncludingParents()),o||1!==i||(r.ClearAsyncActionPromises(),r.IsFlushingBlocked()||s.FlushPendingInstances()),l}*_DebugExecuteTrigger(e,t,n){const s=this._runtime,r=this._eventSheetManager,o=r.GetCurrentEvent(),a=r.GetEventStack(),i=r.GetTriggerDepth();let l=!1;o&&r.PushCleanSol(o.GetSolModifiersIncludingParents()),r.PushCleanSol(t.GetSolModifiersIncludingParents());const d=i>1;d&&r.GetLocalVarStack().Push();const c=a.Push(t);e&&(t.GetConditions()[n].GetObjectClass().GetCurrentSol().SetSinglePicked(e),e.IsInContainer()&&e.SetSiblingsSinglePicked());let u=!0;if(t.GetParent()){const e=t.GetTriggerParents();for(let t=0,n=e.length;t<n;++t)if(!(yield*e[t].DebugRunPreTrigger(c))){u=!1;break}}return u&&(t.IsOrBlock()?yield*t.DebugRunOrBlockTrigger(c,n):yield*t.DebugRun(c),l=c.GetLastEventTrue()),a.Pop(),d&&r.GetLocalVarStack().Pop(),r.PopSol(t.GetSolModifiersIncludingParents()),o&&r.PopSol(o.GetSolModifiersIncludingParents()),o||1!==i||(r.ClearAsyncActionPromises(),r.IsFlushingBlocked()||s.FlushPendingInstances()),l}_GetPerfRecord(){return this._perfRecord}}}{let gb=function(e,t){return!0};NoActions=gb;const fb=self.C3,Nb=[];function*bb(e,t){return!0}fb.EventBlock=class extends fb.DefendedBase{constructor(e,t,n){super(),this._eventSheet=e,this._runtime=e.GetRuntime(),this._parent=t,this._scopeParent=null,this._eventStack=this._runtime.GetEventSheetManager().GetEventStack(),this._solModifiers=[],this._solModifiersIncludingParents=[],this._hasGotSolModifiersIncludingParents=!1,this._isSolWriterAfterCnds=!1,this._isTopLevelGroup=!1,this._hasElseBlock=!1,this._isOrBlock=!!n[2],this._isElseBlock=!1,this._triggerParents=null,this._conditions=[],this._actions=[],this._subEvents=[],this._RunActions=gb,this._DebugRunActions=bb,this._isGroup=!1,this._isInitiallyActive=!1,this._groupName="",this._isGroupActive=!1,this._containedIncludes=null,this._perfRecord=null,this._sid=n[4],this._displayNumber=n[5],this._eventSheet._RegisterEventByDisplayNumber(this,this._displayNumber),this._debugData=this._runtime.IsDebug()?{isBreakpoint:n[3][0],isBreakable:n[3][1],canRunAllConditionsFast:!1,canRunAllActionsFast:!1,canRunAllSubEventsFast:!1,canRunSelfFast:!1}:null,this.GetEventSheetManager()._RegisterEventBlock(this),3===n[0]&&this._InitGroup(n[1]);let s=0;for(const e of n[6]){const t=fb.Condition.Create(this,e,s++);this._conditions.push(t),this._AddSolModifier(t.GetObjectClass())}s=0;for(const e of n[7]){const t=fb.Action.Create(this,e,s++);this._actions.push(t)}if(9===n.length){const e=n[8];for(const t of e)this._eventSheet._CreateEvent(t,this,this._subEvents)}this._conditions.length&&(this._isElseBlock=null===this._conditions[0].GetObjectClass()&&this._conditions[0]._GetFunc()===fb.Plugins.System.Cnds.Else),0===this._conditions.length&&(this._conditions=Nb),0===this._actions.length&&(this._actions=Nb),0===this._subEvents.length&&(this._subEvents=Nb)}static Create(e,t,n){return fb.New(fb.EventBlock,e,t,n)}_InitGroup(e){this._isGroup=!0,this._isInitiallyActive=!!e[0],this._isGroupActive=this._isInitiallyActive,this._groupName=e[1].toLowerCase(),this._containedIncludes=[],this.GetEventSheetManager()._RegisterGroup(this),this._runtime.IsDebug()&&(this._perfRecord={type:"group",name:e[1],totalTimeCounter:0,children:[]})}_AddContainedInclude(e){this._containedIncludes.push(e)}_AddContainerSolModifierToList(e,t){for(const n of e.GetContainer().objectTypes())t.includes(n)||t.push(n)}_AddSolModifierToList(e,t){if(e)if(t.includes(e)||t.push(e),e.IsFamily())for(const n of e.GetFamilyMembers())n.IsInContainer()&&this._AddContainerSolModifierToList(n,t);else e.IsInContainer()&&this._AddContainerSolModifierToList(e,t)}_AddSolModifier(e){this._AddSolModifierToList(e,this._solModifiers)}_AddParentSolModifier(e){this._AddSolModifierToList(e,this._solModifiersIncludingParents)}SetAllSolModifiers(){this._solModifiers=this._runtime.GetAllObjectClasses()}_PostInit(e){this._hasElseBlock=!!e,this._IdentifyTopLevelGroup(),this._IdentifyTriggerParents();for(const e of this._conditions)e._PostInit();if(this._actions.length>0){let e=!1;for(const t of this._actions)t._PostInit(),t.HasReturnType()&&(e=!0);e?(this._RunActions=this._RunActions_ReturnValue,this._DebugRunActions=this._DebugRunActions_ReturnValue):(this._RunActions=this._RunActions_Fast,this._DebugRunActions=this._DebugRunActions_Fast)}const t=this._subEvents;for(let e=0,n=t.length;e<n;++e){const s=e<n-1&&t[e+1]instanceof fb.EventBlock&&t[e+1].IsElseBlock();t[e]._PostInit(s)}this._debugData&&this._UpdateCanRunFast(),this._perfRecord&&this._GetPerfRecordParent()._GetPerfRecord().children.push(this._perfRecord)}_GetPerfRecord(){return this._perfRecord}_GetPerfRecordParent(){let e=this.GetParent();for(;e;){if(e.IsGroup())return e;e=e.GetParent()}return this._eventSheet}_UpdateCanRunFast(){const e=this._debugData;e.canRunAllConditionsFast=this._conditions.every(e=>e.DebugCanRunFast()),e.canRunAllActionsFast=this._actions.every(e=>e.DebugCanRunFast()),e.canRunAllSubEventsFast=this._subEvents.every(e=>e.DebugCanRunFast()),e.canRunSelfFast=e.canRunAllConditionsFast&&e.canRunAllActionsFast&&e.canRunAllSubEventsFast}_UpdateCanRunFastRecursive(){let e=this;do{e._UpdateCanRunFast(),e=e.GetParent()}while(e)}_IdentifyTopLevelGroup(){if(!this.IsGroup())return;let e=this.GetParent();for(this._isTopLevelGroup=!0;e;){if(!e.IsGroup()){this._isTopLevelGroup=!1;break}e=e.GetParent()}}_IdentifySolModifiersIncludingParents(){const e=this._runtime.GetAllObjectClasses();if(this._solModifiers===e)this._solModifiersIncludingParents=e;else{this._solModifiersIncludingParents=fb.cloneArray(this._solModifiers);let e=this.GetParent();for(;e;){for(const t of e._solModifiers)this._AddParentSolModifier(t);e=e.GetParent()}const t=this.GetEventSheetManager();this._solModifiers=t._DeduplicateSolModifierList(this._solModifiers),this._solModifiersIncludingParents=t._DeduplicateSolModifierList(this._solModifiersIncludingParents)}}_IdentifyTriggerParents(){if(!this.HasAnyTriggeredCondition())return;this._triggerParents=[];let e=this.GetParent();for(;e;)this._triggerParents.push(e),e=e.GetParent();this._triggerParents.reverse()}SetSolWriterAfterCnds(){this._isSolWriterAfterCnds=!0,this._parent&&this._parent.SetSolWriterAfterCnds()}IsSolWriterAfterCnds(){return this._isSolWriterAfterCnds}GetSolModifiers(){return this._solModifiers}GetSolModifiersIncludingParents(){return this._hasGotSolModifiersIncludingParents||(this._hasGotSolModifiersIncludingParents=!0,this._IdentifySolModifiersIncludingParents()),this._solModifiersIncludingParents}HasSolModifier(e){return this._solModifiers.includes(e)}GetTriggerParents(){return this._triggerParents}GetEventSheet(){return this._eventSheet}GetEventSheetManager(){return this._eventSheet.GetEventSheetManager()}GetRuntime(){return this._runtime}GetParent(){return this._parent}_SetScopeParent(e){this._scopeParent=e}GetScopeParent(){return this._scopeParent||this._parent}GetDisplayNumber(){return this._displayNumber}IsDebugBreakable(){return this._debugData&&this._debugData.isBreakable}IsDebugBreakpoint(){return this.IsDebugBreakable()&&this._debugData.isBreakpoint}_SetDebugBreakpoint(e){this._debugData.isBreakpoint=!!e,this._UpdateCanRunFastRecursive()}IsGroup(){return this._isGroup}IsTopLevelGroup(){return this._isTopLevelGroup}IsElseBlock(){return this._isElseBlock}HasElseBlock(){return this._hasElseBlock}GetGroupName(){return this._groupName}IsGroupActive(){return this._isGroupActive}ResetInitialActivation(){this.SetGroupActive(this._isInitiallyActive)}SetGroupActive(e){if(e=!!e,!this._isGroup)throw new Error("not a group");if(this._isGroupActive!==e){this._isGroupActive=e;for(const e of this._containedIncludes)e.UpdateActive();if(this._containedIncludes.length){const e=this._runtime.GetCurrentLayout().GetEventSheet();e&&e._UpdateDeepIncludes()}}}GetSID(){return this._sid}IsOrBlock(){return this._isOrBlock}IsTrigger(){return this._conditions.length&&this._conditions[0].IsTrigger()}IsForFunctionBlock(){return this._scopeParent&&this._scopeParent instanceof fb.FunctionBlock}HasAnyTriggeredCondition(){return this.IsForFunctionBlock()||this._conditions.some(e=>e.IsTrigger())}GetConditions(){return this._conditions}GetConditionCount(){return this._conditions.length}GetConditionAt(e){if((e=Math.floor(e))<0||e>=this._conditions.length)throw new RangeError("invalid condition index");return this._conditions[e]}GetConditionByDebugIndex(e){return this.GetConditionAt(e)}IsFirstConditionOfType(e){let t=e.GetIndex();if(0===t)return!0;--t;const n=e.IsSystemOrSingleGlobalCondition()?e.GetFirstObjectParameterObjectClass():e.GetObjectClass();for(;t>=0;--t){const e=this._conditions[t];if(n===e.GetObjectClass()||e.IsSystemOrSingleGlobalCondition()&&e.GetFirstObjectParameterObjectClass()===n)return!1}return!0}GetActions(){return this._actions}GetActionCount(){return this._actions.length}GetActionAt(e){if((e=Math.floor(e))<0||e>=this._actions.length)throw new RangeError("invalid action index");return this._actions[e]}GetActionByDebugIndex(e){e=Math.floor(e);const t=this._actions.find(t=>t.GetDebugIndex()===e);if(!t)throw new RangeError("invalid action debug index");return t}_HasActionIndex(e){return(e=Math.floor(e))>=0&&e<this._actions.length}GetSubEvents(){return this._subEvents}_GetAllLocalVariablesInScope(){return this._subEvents.filter(e=>e instanceof fb.EventVariable)}RunPreTrigger(e){e.SetCurrentEvent(this);const t=this._conditions;let n=0===t.length;for(let s=0,r=t.length;s<r;++s){const r=t[s];if(e.SetConditionIndex(s),r.IsLooping())throw new Error("trigger cannot be used as sub-event to a loop");if(r.Run())n=!0;else if(!this._isOrBlock)return!1}return!this._isOrBlock||n}RunOrBlockTrigger(e,t){e.SetCurrentEvent(this),e.SetConditionIndex(t),this._conditions[t].Run()&&(this._RunActions(e,0)&&this._RunSubEvents(e),e.SetLastEventTrue(!0))}*DebugRunPreTrigger(e){e.SetCurrentEvent(this);const t=this._conditions;let n=0===t.length;for(let s=0,r=t.length;s<r;++s){const r=t[s];if(e.SetConditionIndex(s),r.IsLooping())throw new Error("trigger cannot be used as sub-event to a loop");let o;if(o=r.DebugCanRunFast()?r.Run():yield*r.DebugRun(),o)n=!0;else if(!this._isOrBlock)return!1}return!this._isOrBlock||n}*DebugRunOrBlockTrigger(e,t){e.SetCurrentEvent(this),e.SetConditionIndex(t);const n=this._conditions[t];let s;if(s=n.DebugCanRunFast()?n.Run():yield*n.DebugRun(),s){let t;t=this.DebugCanRunActionsFast()?this._RunActions(e,0):yield*this._DebugRunActions(e,0),t&&(this.DebugCanRunSubEventsFast()?this._RunSubEvents():yield*this._DebugRunSubEvents()),e.SetLastEventTrue(!0)}}Run(e){e.SetCurrentEvent(this),this._isElseBlock||e.SetElseBranchRan(!1),this._isOrBlock?this._RunOrBlock(e):this._RunAndBlock(e)}*DebugRun(e){(this.IsDebugBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),e.SetCurrentEvent(this),this._isElseBlock||e.SetElseBranchRan(!1),this._isOrBlock?yield*this._DebugRunOrBlock(e):yield*this._DebugRunAndBlock(e)}_RunOrBlock(e){const t=this._conditions;let n=0===t.length;for(let s=0,r=t.length;s<r;++s){const r=t[s];if(r.IsTrigger())continue;e.SetConditionIndex(s);const o=r.Run();n=n||o}e.SetLastEventTrue(n),n&&(this._RunActions(e,0)&&this._RunSubEvents(e),this._hasElseBlock&&e.SetElseBranchRan(!0))}*_DebugRunOrBlock(e){const t=this._conditions;let n=0===t.length;for(let s=0,r=t.length;s<r;++s){const r=t[s];if(r.IsTrigger())continue;let o;e.SetConditionIndex(s),o=r.DebugCanRunFast()?r.Run():yield*r.DebugRun(),n=n||o}if(e.SetLastEventTrue(n),n){let t;t=this.DebugCanRunActionsFast()?this._RunActions(e,0):yield*this._DebugRunActions(e,0),t&&(this.DebugCanRunSubEventsFast()?this._RunSubEvents():yield*this._DebugRunSubEvents()),this._hasElseBlock&&e.SetElseBranchRan(!0)}}_RunAndBlock(e){const t=this._conditions;for(let n=0,s=t.length;n<s;++n){const s=t[n];if(e.SetConditionIndex(n),!s.Run())return void e.SetLastEventTrue(!1)}e.SetLastEventTrue(!0),this._RunActions(e,0)&&this._RunSubEvents(e),e.GetLastEventTrue()&&this._hasElseBlock&&e.SetElseBranchRan(!0)}*_DebugRunAndBlock(e){const t=this._conditions;for(let n=0,s=t.length;n<s;++n){const s=t[n];let r;if(e.SetConditionIndex(n),r=s.DebugCanRunFast()?s.Run():yield*s.DebugRun(),!r)return void e.SetLastEventTrue(!1)}let n;e.SetLastEventTrue(!0),n=this.DebugCanRunActionsFast()?this._RunActions(e,0):yield*this._DebugRunActions(e,0),n&&(this.DebugCanRunSubEventsFast()?this._RunSubEvents():yield*this._DebugRunSubEvents()),e.GetLastEventTrue()&&this._hasElseBlock&&e.SetElseBranchRan(!0)}_RunActions_Fast(e,t){const n=this._actions;for(let s=t,r=n.length;s<r;++s){const t=n[s];e.SetActionIndex(s),t.Run()}return!0}*_DebugRunActions_Fast(e,t){const n=this._actions;for(let s=t,r=n.length;s<r;++s){const t=n[s];e.SetActionIndex(s),t.DebugCanRunFast()?t.Run():yield*t.DebugRun()}return!0}_RunActions_ReturnValue(e,t){const n=this.GetEventSheetManager(),s=this._actions;for(let r=t,o=s.length;r<o;++r){const t=s[r];e.SetActionIndex(r);const o=t.Run();if(t.CanBailOut()&&!0===o)return!1;t.IsAsync()&&o instanceof Promise&&n.AddAsyncActionPromise(o)}return!0}*_DebugRunActions_ReturnValue(e,t){const n=this.GetEventSheetManager(),s=this._actions;for(let r=t,o=s.length;r<o;++r){const t=s[r];let o;if(e.SetActionIndex(r),o=t.DebugCanRunFast()?t.Run():yield*t.DebugRun(),t.CanBailOut()&&!0===o)return!1;t.IsAsync()&&o instanceof Promise&&n.AddAsyncActionPromise(o)}return!0}_ResumeActionsAndSubEvents(e){this._RunActions(e,e.GetActionIndex())&&this._RunSubEvents()}*_DebugResumeActionsAndSubEvents(e){(yield*this._DebugRunActions(e,e.GetActionIndex()))&&(yield*this._DebugRunSubEvents())}_RunSubEvents(){if(!this._subEvents.length)return;const e=this.IsGroup()&&this._runtime.IsCPUProfiling(),t=e?performance.now():0,n=this._eventStack,s=n.Push(this);this._isSolWriterAfterCnds?this._RunSubEvents_SolWriterAfterCnds(s):this._RunSubEvents_Fast(s),n.Pop(),e&&(this._perfRecord.totalTimeCounter+=performance.now()-t)}_RunSubEvents_SolWriterAfterCnds(e){const t=this._isGroup,n=this._isTopLevelGroup,s=this.GetEventSheetManager(),r=this._subEvents;for(let o=0,a=r.length,i=a-1;o<a;++o){const a=r[o],l=a.GetSolModifiers(),d=!n||!t&&o<i;d&&s.PushCopySol(l),a.Run(e),d?s.PopSol(l):s.ClearSol(l)}}_RunSubEvents_Fast(e){const t=this._subEvents;for(let n=0,s=t.length;n<s;++n)t[n].Run(e)}*_DebugRunSubEvents(){if(!this._subEvents.length)return;const e=this._eventStack,t=e.Push(this);this._isSolWriterAfterCnds?yield*this._DebugRunSubEvents_SolWriterAfterCnds(t):yield*this._DebugRunSubEvents_Fast(t),e.Pop()}*_DebugRunSubEvents_SolWriterAfterCnds(e){const t=this._isGroup,n=this._isTopLevelGroup,s=this.GetEventSheetManager(),r=this._subEvents;for(let o=0,a=r.length,i=a-1;o<a;++o){const a=r[o],l=a.GetSolModifiers(),d=!n||!t&&o<i;d&&s.PushCopySol(l),yield*a.DebugRun(e),d?s.PopSol(l):s.ClearSol(l)}}*_DebugRunSubEvents_Fast(e){const t=this._subEvents;for(let n=0,s=t.length;n<s;++n)yield*t[n].DebugRun(e)}Retrigger(e,t){t.ResetQuick();const n=this._conditions;if(!this.IsOrBlock())for(let s=e.GetConditionIndex()+1,r=n.length;s<r;++s){const e=n[s];if(t.SetConditionIndex(s),!e.Run())return!1}return this._RunActions(t,0)&&this._RunSubEvents(t),!0}*DebugRetrigger(e,t){t.ResetQuick();const n=this._conditions;if(!this.IsOrBlock())for(let s=e.GetConditionIndex()+1,r=n.length;s<r;++s){const e=n[s];let r;if(t.SetConditionIndex(s),r=e.DebugCanRunFast()?e.Run():yield*e.DebugRun(),!r)return!1}let s;return s=this.DebugCanRunActionsFast()?this._RunActions(t,0):yield*this._DebugRunActions(t,0),s&&(this.DebugCanRunSubEventsFast()?this._RunSubEvents():yield*this._DebugRunSubEvents()),!0}DebugCanRunFast(){return!this.IsDebugBreakpoint()&&!this._runtime.DebugBreakNext()&&this._debugData.canRunSelfFast}DebugCanRunActionsFast(){return!this._runtime.DebugBreakNext()&&this._debugData.canRunAllActionsFast}DebugCanRunSubEventsFast(){return!this._runtime.DebugBreakNext()&&this._debugData.canRunAllSubEventsFast}_CheckParentsOKToRun(e){if(this.GetParent()){const t=this.GetTriggerParents();for(let n=0,s=t.length;n<s;++n)if(!t[n].RunPreTrigger(e))return!1}return!0}*_DebugCheckParentsOKToRun(e){if(this.GetParent()){const t=this.GetTriggerParents();for(let n=0,s=t.length;n<s;++n)if(!(yield*t[n].DebugRunPreTrigger(e)))return!1}return!0}_EvaluateFunctionCallParameters(e,t,n){if(t.length>0)if(n){const n=t.map(e=>e.Get(0));e.GetLocalVarStack().Push(),this._scopeParent.SetFunctionParameters(n)}else this._scopeParent.EvaluateFunctionParameters(t);else n&&e.GetLocalVarStack().Push()}RunAsFunctionCall(e,t,n,s){let r,o;const a=e.length>0;let i=null;const l=this._runtime,d=this._eventStack,c=l.GetEventSheetManager(),u=this._scopeParent,h=u.IsAsync(),_=c._IncTriggerDepth()>1;if(this._EvaluateFunctionCallParameters(c,t,_),a&&(n?c.PushCopySol(e):c.PushCleanSol(e)),null!==s){if(s.copyFromObjectClass){const e=n?s.copyFromObjectClass.GetCurrentSol():s.copyFromObjectClass.GetSolStack().GetOneBelowCurrentSol(),t=s.copyToObjectClass.GetCurrentSol();t.SetArrayPicked(e.GetInstances()),t.ClearElseInstances(),n||s.copyToObjectClass.ApplySolToContainer()}else if(s.pickObjectClass){const e=s.pickObjectClass.GetCurrentSol();e.SetArrayPicked(s.pickInstances),e.ClearElseInstances()}s.pushCleanSolDynamic&&(i=c.PushCleanSolDynamic(e))}const G=d.Push(this);return n&&G.SetDynamicSolModifiers(e),this._CheckParentsOKToRun(G)&&(G.SetCurrentEvent(this),h&&([o,r]=u.StartAsyncFunctionCall()),this._RunAndBlock(G),h&&u.MaybeFinishAsyncFunctionCall(o)),d.Pop(),_&&c.GetLocalVarStack().Pop(),null!==i&&c.PopSol(i),a&&c.PopSol(e),c._DecTriggerDepth(),r}*DebugRunAsFunctionCall(e,t,n,s){let r,o;(this.IsDebugBreakpoint()||this._runtime.DebugBreakNext())&&(yield this);const a=e.length>0;let i=null;const l=this._runtime,d=this._eventStack,c=l.GetEventSheetManager(),u=this._scopeParent,h=u.IsAsync(),_=c._IncTriggerDepth()>1;if(this._EvaluateFunctionCallParameters(c,t,_),a&&(n?c.PushCopySol(e):c.PushCleanSol(e)),null!==s){if(s.copyFromObjectClass){const e=n?s.copyFromObjectClass.GetCurrentSol():s.copyFromObjectClass.GetSolStack().GetOneBelowCurrentSol(),t=s.copyToObjectClass.GetCurrentSol();t.SetArrayPicked(e.GetInstances()),t.ClearElseInstances(),n||s.copyToObjectClass.ApplySolToContainer()}else if(s.pickObjectClass){const e=s.pickObjectClass.GetCurrentSol();e.SetArrayPicked(s.pickInstances),e.ClearElseInstances()}s.pushCleanSolDynamic&&(i=c.PushCleanSolDynamic(e))}const G=d.Push(this);return n&&G.SetDynamicSolModifiers(e),(yield*this._DebugCheckParentsOKToRun(G))&&(G.SetCurrentEvent(this),h&&([o,r]=u.StartAsyncFunctionCall()),yield*this._DebugRunAndBlock(G),h&&u.MaybeFinishAsyncFunctionCall(o)),d.Pop(),_&&c.GetLocalVarStack().Pop(),null!==i&&c.PopSol(i),a&&c.PopSol(e),c._DecTriggerDepth(),r}RunAsMappedFunctionCall(e,t){const n=this.GetSolModifiersIncludingParents(),s=n.length>0,r=this._runtime,o=this._eventStack,a=r.GetEventSheetManager(),i=a._IncTriggerDepth()>1;i&&a.GetLocalVarStack().Push(),this._scopeParent.SetFunctionParameters(e),s&&(t?a.PushCopySol(n):a.PushCleanSol(n));const l=o.Push(this);this._CheckParentsOKToRun(l)&&(l.SetCurrentEvent(this),this._RunAndBlock(l)),o.Pop(),i&&a.GetLocalVarStack().Pop(),s&&a.PopSol(n),a._DecTriggerDepth()}*DebugRunAsMappedFunctionCall(e,t){(this.IsDebugBreakpoint()||this._runtime.DebugBreakNext())&&(yield this);const n=this.GetSolModifiersIncludingParents(),s=n.length>0,r=this._runtime,o=this._eventStack,a=r.GetEventSheetManager(),i=a._IncTriggerDepth()>1;i&&a.GetLocalVarStack().Push(),this._scopeParent.SetFunctionParameters(e),s&&(t?a.PushCopySol(n):a.PushCleanSol(n));const l=o.Push(this);(yield*this._DebugCheckParentsOKToRun(l))&&(l.SetCurrentEvent(this),yield*this._DebugRunAndBlock(l)),o.Pop(),i&&a.GetLocalVarStack().Pop(),s&&a.PopSol(n),a._DecTriggerDepth()}RunAsExpressionFunctionCall(e,t,n,s,...r){let o,a;const i=e.length>0,l=this._runtime,d=this._eventStack,c=l.GetEventSheetManager(),u=this._scopeParent,h=u.IsAsync(),_=c._IncTriggerDepth()>1;_&&c.GetLocalVarStack().Push(),r.length>0&&this._scopeParent.SetFunctionParameters(r),i&&(t?c.PushCopySol(e):c.PushCleanSol(e));const G=d.Push(this);return G.InitCallFunctionExpression(n,s),d.PushExpFunc(G),l.SetDebuggingEnabled(!1),this._CheckParentsOKToRun(G)&&(G.SetCurrentEvent(this),h&&([a,o]=u.StartAsyncFunctionCall()),this._RunAndBlock(G),h&&u.MaybeFinishAsyncFunctionCall(a)),l.SetDebuggingEnabled(!0),d.Pop(),d.PopExpFunc(),_&&c.GetLocalVarStack().Pop(),i&&c.PopSol(e),c._DecTriggerDepth(),o||G.GetFunctionReturnValue()}}}{const Sb=self.C3,xb=[];let Ib=!1;Sb.EventScript=class extends Sb.DefendedBase{constructor(e,t,n){super();const s=e.GetRuntime(),r=e.GetEventSheetManager();this._eventSheet=e,this._eventSheetManager=r,this._runtime=e.GetRuntime(),this._parent=t;const o=s.GetObjectReference(n[1]);this._func=o,this._displayNumber=n[2],this._eventSheet._RegisterEventByDisplayNumber(this,this._displayNumber),this._debugData=s.IsDebug()?{isBreakpoint:n[3][0],isBreakable:n[3][1]}:null}static Create(e,t,n){return Sb.New(Sb.EventScript,e,t,n)}_PostInit(){const e=this._func,t=this._runtime.GetEventSheetManager()._GetLocalVariablesScriptInterface(this);this._func=e.bind(null,this._runtime.GetIRuntime(),t)}GetParent(){return this._parent}GetScopeParent(){return this._parent}GetEventSheet(){return this._eventSheet}GetDisplayNumber(){return this._displayNumber}IsDebugBreakable(){return this._debugData&&this._debugData.isBreakable}IsDebugBreakpoint(){return this.IsDebugBreakable()&&this._debugData.isBreakpoint}_SetDebugBreakpoint(e){this._debugData.isBreakpoint=!!e}IsElseBlock(){return!1}GetSolModifiers(){return xb}GetSolModifiersIncludingParents(){return this._parent?this._parent.GetSolModifiersIncludingParents():xb}Run(e){e.SetCurrentEvent(this),this._eventSheetManager.AddAsyncActionPromise(this._RunUserScript())}async _RunUserScript(){try{await this._func()}catch(e){console.error(`Unhandled exception running script %c${this.GetEventSheet().GetName()}, event ${this.GetDisplayNumber()}:`,"font-size: 1.2em; font-weight: bold;",e),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),Ib||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Ib=!0)}}*DebugRun(e){e.SetCurrentEvent(this),(this.IsDebugBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this.Run(e)}DebugCanRunFast(){return!this.IsDebugBreakpoint()&&!this._runtime.DebugBreakNext()}static HadUserScriptException(){return Ib}static SetHadUserScriptException(){Ib=!0}}}{const yb=self.C3,Eb=self.assert;yb.FunctionBlock=class extends yb.DefendedBase{constructor(e,t,n){super(),this._eventSheet=e,this._runtime=e.GetRuntime(),this._parent=t,this._functionType=0,this._functionName="",this._returnType=0,this._functionParameters=[],this._isEnabled=!0,this._aceName="",this._objectClass=null,this._hasOverrides=!1,this._innerLocalVariables=[],this._isCopyPicked=!1,this._isAsync=!1,this._nextAsyncId=0,this._currentAsyncId=-1,this._asyncMap=new Map,this._eventBlock=yb.EventBlock.Create(e,t,n),this._eventBlock._SetScopeParent(this)}InitFunctionBlock(e){this._functionType=0,this._functionName=e[0],this._returnType=e[1],this._functionParameters=e[2].map(e=>yb.EventVariable.Create(this._eventSheet,this,e)),this._isEnabled=e[3],this._isAsync=e[4],this._isCopyPicked=e[5]}InitCustomACEBlock(e){this._functionType=1,this._aceName=e[1],this._objectClass=this._runtime.GetObjectClassByIndex(e[2]),this._eventBlock._AddSolModifier(this._objectClass),this._functionName=this._objectClass.GetName()+"."+this._aceName,this._returnType=e[3],this._functionParameters=e[4].map(e=>yb.EventVariable.Create(this._eventSheet,this,e)),this._isEnabled=e[5],this._isAsync=e[6],this._isCopyPicked=e[7],this._objectClass.AddCustomAction(this)}static CreateFunctionBlock(e,t,n){const s=yb.New(yb.FunctionBlock,e,t,n),r=n[1];return s.InitFunctionBlock(r),s}static CreateCustomACEBlock(e,t,n){const s=yb.New(yb.FunctionBlock,e,t,n),r=n[1];return s.InitCustomACEBlock(r),s}_CheckOverrideState(){if(this._objectClass&&this._objectClass.IsFamily())for(const e of this._objectClass.GetFamilyMembers())if(e.HasOwnCustomActionByName(this._aceName)){this._hasOverrides=!0;break}}_PostInit(){for(const e of this._functionParameters)e._PostInit();this._eventBlock._PostInit(!1)}GetFunctionType(){return this._functionType}_GetAllLocalVariablesInScope(){return this._functionParameters}GetFunctionParameters(){return this._functionParameters}GetFunctionParameterCount(){return this._functionParameters.length}_RegisterLocalVariable(e){this._innerLocalVariables.push(e)}_GetAllInnerLocalVariables(){return this._innerLocalVariables}EvaluateFunctionParameters(e){const t=this._functionParameters;for(let n=0,s=t.length;n<s;++n)t[n].SetValue(e[n].Get(0))}SetFunctionParameters(e){const t=this._functionParameters;for(let n=0,s=t.length;n<s;++n)t[n].SetValue(e[n])}CaptureFunctionParameters(){return this._functionParameters.map(e=>e.GetValue())}GetParent(){return this._parent}GetScopeParent(){return this._parent}GetFunctionName(){return this._functionName}GetACEName(){return this._aceName}HasCustomACEOverrides(){return this._hasOverrides}GetReturnType(){return this._returnType}GetObjectClass(){return this._objectClass}IsEnabled(){return this._isEnabled}GetDefaultReturnValue(){switch(this._returnType){case 0:return null;case 2:return"";default:return 0}}GetEventBlock(){return this._eventBlock}IsCopyPicked(){return this._isCopyPicked}IsAsync(){return this._isAsync}StartAsyncFunctionCall(){const e=this._nextAsyncId++;let t;this._currentAsyncId=e;const n=new Promise(e=>t=e);return this._asyncMap.set(e,{resolve:t,pauseCount:0}),[e,n]}MaybeFinishAsyncFunctionCall(e){const t=this._asyncMap.get(e);0===t.pauseCount&&(t.resolve(),this._asyncMap.delete(e)),this._currentAsyncId=-1}PauseCurrentAsyncFunction(){return this._asyncMap.get(this._currentAsyncId).pauseCount++,this._currentAsyncId}ResumeAsyncFunction(e){this._currentAsyncId=e,this._asyncMap.get(e).pauseCount--}RunAsFamilyCustomActionWithOverrides(e,t){const n=new Map,s=[];for(const e of this._objectClass.GetCurrentSol().GetInstances()){const t=e.GetObjectClass();if(t.HasOwnCustomActionByName(this._aceName)){const s=n.get(t);Array.isArray(s)?s.push(e):n.set(t,[e])}else s.push(e)}if(s.length>0&&this._eventBlock.RunAsFunctionCall(e,t,this._isCopyPicked,{pickObjectClass:this._objectClass,pickInstances:s}),n.size>0)for(const[s,r]of n){const n=s.GetOwnCustomActionByName(this._aceName).GetEventBlock(),o=[...new Set([...e,...n.GetSolModifiers()])];n.RunAsFunctionCall(o,t,this._isCopyPicked,{pickObjectClass:s,pickInstances:r})}}*DebugRunAsFamilyCustomActionWithOverrides(e,t){const n=new Map,s=[];for(const e of this._objectClass.GetCurrentSol().GetInstances()){const t=e.GetObjectClass();if(t.HasOwnCustomActionByName(this._aceName)){const s=n.get(t);Array.isArray(s)?s.push(e):n.set(t,[e])}else s.push(e)}if(s.length>0&&(yield*this._eventBlock.DebugRunAsFunctionCall(e,t,this._isCopyPicked,{pickObjectClass:this._objectClass,pickInstances:s})),n.size>0)for(const[s,r]of n){const n=s.GetOwnCustomActionByName(this._aceName).GetEventBlock(),o=[...new Set([...e,...n.GetSolModifiers()])];yield*n.DebugRunAsFunctionCall(o,t,this._isCopyPicked,{pickObjectClass:s,pickInstances:r})}}}}{const Tb=self.C3,Cb=[];Tb.EventVariable=class extends Tb.DefendedBase{constructor(e,t,n){super();const s=e.GetEventSheetManager();this._eventSheet=e,this._eventSheetManager=s,this._runtime=e.GetRuntime(),this._parent=t,this._localVarStack=s.GetLocalVarStack(),this._name=n[1],this._type=n[2],this._initialValue=n[3],this._isStatic=!!n[4],this._isConstant=!!n[5],this._isFunctionParameter=t instanceof Tb.FunctionBlock,this._sid=n[6],this._jsPropName=this._runtime.GetJsPropName(n[8]),this._scriptSetter=e=>this.SetValue(e),this._scriptGetter=()=>this.GetValue(),this._hasSingleValue=!this._parent||this._isStatic||this._isConstant,this._value=this._initialValue,this._localIndex=-1,this.IsBoolean()&&(this._value=this._value?1:0),!this.IsLocal()||this.IsStatic()||this.IsConstant()||(this._localIndex=s._GetNextLocalVarIndex(this)),s._RegisterEventVariable(this)}static Create(e,t,n){return Tb.New(Tb.EventVariable,e,t,n)}_PostInit(){if(this.IsLocal()&&!this.IsStatic()&&!this.IsConstant()&&!this.IsFunctionParameter()){const e=this._eventSheetManager.FindFirstFunctionBlockParent(this);e&&e._RegisterLocalVariable(this)}}GetName(){return this._name}GetJsPropName(){return this._jsPropName}GetParent(){return this._parent}GetScopeParent(){return this.GetParent()}IsGlobal(){return!this.GetParent()}IsLocal(){return!this.IsGlobal()}IsFunctionParameter(){return this._isFunctionParameter}IsStatic(){return this._isStatic}IsConstant(){return this._isConstant}IsNumber(){return 0===this._type}IsString(){return 1===this._type}IsBoolean(){return 2===this._type}IsElseBlock(){return!1}GetSID(){return this._sid}GetInitialValue(){return this._initialValue}GetSolModifiers(){return Cb}Run(e){!this.IsLocal()||this.IsStatic()||this.IsConstant()||this.SetValue(this.GetInitialValue())}DebugCanRunFast(){return!0}*DebugRun(e){this.Run(e)}SetValue(e){this.IsNumber()?"number"!=typeof e&&(e=parseFloat(e)):this.IsString()?"string"!=typeof e&&(e=e.toString()):this.IsBoolean()&&(e=e?1:0),this._hasSingleValue?this._value=e:this._localVarStack.GetCurrent()[this._localIndex]=e}GetValue(){return this._hasSingleValue?this._value:this._localVarStack.GetCurrent()[this._localIndex]}GetTypedValue(){let e=this.GetValue();return this.IsBoolean()&&(e=!!e),e}ResetToInitialValue(){this._value=this._initialValue}_GetScriptInterfaceDescriptor(){return{configurable:!1,enumerable:!0,get:this._scriptGetter,set:this._scriptSetter}}}}{const Mb=self.C3,Vb=self.assert,Bb=[];Mb.EventInclude=class extends Mb.DefendedBase{constructor(e,t,n){super();const s=e.GetEventSheetManager();this._eventSheet=e,this._eventSheetManager=s,this._runtime=e.GetRuntime(),this._parent=t,this._includeSheet=null,this._includeSheetName=n[1],this._isActive=!0}static Create(e,t,n){return Mb.New(Mb.EventInclude,e,t,n)}_PostInit(){this._includeSheet=this._eventSheetManager.GetEventSheetByName(this._includeSheetName),this._eventSheet._AddShallowInclude(this);let e=this.GetParent();for(;e;)e instanceof Mb.EventBlock&&e.IsGroup()&&e._AddContainedInclude(this),e=e.GetParent();this.UpdateActive(),this._runtime.IsDebug()&&this._eventSheet._GetPerfRecord().children.push(this._includeSheet._GetPerfRecord())}GetParent(){return this._parent}GetSolModifiers(){return Bb}GetIncludeSheet(){return this._includeSheet}Run(e){const t=!!this.GetParent(),n=this._runtime.GetAllObjectClasses();t&&this._eventSheetManager.PushCleanSol(n),this._includeSheet.Run(),t&&this._eventSheetManager.PopSol(n)}*DebugRun(e){const t=!!this.GetParent(),n=this._runtime.GetAllObjectClasses();t&&this._eventSheetManager.PushCleanSol(n),yield*this._includeSheet.DebugRun(),t&&this._eventSheetManager.PopSol(n)}DebugCanRunFast(){return!1}IsActive(){return this._isActive}UpdateActive(){let e=this.GetParent();for(;e;){if(e instanceof Mb.EventBlock&&e.IsGroup()&&!e.IsGroupActive())return void(this._isActive=!1);e=e.GetParent()}this._isActive=!0}}}{let Ob=function(e,t){return e>=t?e%t:e<0?(e<=-t&&(e%=t),e<0&&(e+=t),e):e};WrapIndex=Ob;const vb=self.C3,Pb=self.assert;vb.ExpNode=class extends vb.DefendedBase{constructor(e){super(),this._owner=e,this._runtime=e.GetRuntime()}_PostInit(){}static CreateNode(e,t){const n=t[0],s=[Fb,Db,Rb,jb,wb,Ab];return vb.New(s[n],e,t)}};class wb extends vb.ExpNode{constructor(e,t){super(e),this._systemPlugin=this._runtime.GetSystemPlugin(),this._func=this._runtime.GetObjectReference(t[1]),this._func!==vb.Plugins.System.Exps.random&&this._func!==vb.Plugins.System.Exps.choose||this._owner.SetVariesPerInstance()}GetBoundMethod(){return this._systemPlugin._GetBoundACEMethod(this._func,this._systemPlugin)}}class Ab extends vb.ExpNode{constructor(e,t){super(e),this._functionBlock=null,this._functionName=t[1],this._owner.SetVariesPerInstance()}_PostInit(){const e=this._runtime.GetEventSheetManager();this._functionBlock=e.GetFunctionBlockByName(this._functionName),this._functionName=null;const t=this._owner.GetEventBlock(),n=this._functionBlock.GetEventBlock();this._combinedSolModifiers=[...new Set([...t.GetSolModifiersIncludingParents(),...n.GetSolModifiersIncludingParents()])],this._combinedSolModifiers=e._DeduplicateSolModifierList(this._combinedSolModifiers)}GetBoundMethod(){const e=this._functionBlock;if(e.IsEnabled()){const t=e.GetEventBlock();return vb.EventBlock.prototype.RunAsExpressionFunctionCall.bind(t,this._combinedSolModifiers,e.IsCopyPicked(),e.GetReturnType(),e.GetDefaultReturnValue())}{const t=e.GetDefaultReturnValue();return()=>t}}}class Db extends vb.ExpNode{constructor(e,t){super(e),this._objectClass=this._runtime.GetObjectClassByIndex(t[1]),this._func=this._runtime.GetObjectReference(t[2]),this._returnsString=!!t[3],this._eventStack=this._runtime.GetEventSheetManager().GetEventStack(),this._owner._MaybeVaryFor(this._objectClass)}GetBoundMethod(){return this._objectClass.GetPlugin()._GetBoundACEMethod(this._func,this._objectClass.GetSingleGlobalInstance().GetSdkInstance())}ExpObject(...e){const t=this._objectClass,n=t.GetCurrentSol().GetExpressionInstances(),s=n.length;if(0===s)return this._returnsString?"":0;const r=Ob(this._owner.GetSolIndex(),s);return this._eventStack.GetCurrentStackFrame().SetExpressionObjectClass(t),this._func.apply(n[r].GetSdkInstance(),e)}ExpObject_InstExpr(e,...t){const n=this._objectClass,s=n.GetInstances(),r=s.length;if(0===r||"number"!=typeof e)return this._returnsString?"":0;const o=Ob(e,r);return this._eventStack.GetCurrentStackFrame().SetExpressionObjectClass(n),this._func.apply(s[o].GetSdkInstance(),t)}}class Rb extends vb.ExpNode{constructor(e,t){super(e),this._objectClass=this._runtime.GetObjectClassByIndex(t[1]),this._varIndex=t[3],this._returnsString=!!t[2],this._owner._MaybeVaryFor(this._objectClass)}ExpInstVar(){const e=this._objectClass.GetCurrentSol().GetExpressionInstances(),t=e.length;return 0===t?this._returnsString?"":0:e[Ob(this._owner.GetSolIndex(),t)]._GetInstanceVariableValueUnchecked(this._varIndex)}ExpInstVar_Family(){const e=this._objectClass,t=e.GetCurrentSol().GetExpressionInstances(),n=t.length;if(0===n)return this._returnsString?"":0;const s=t[Ob(this._owner.GetSolIndex(),n)],r=s.GetObjectClass().GetFamilyInstanceVariableOffset(e.GetFamilyIndex());return s._GetInstanceVariableValueUnchecked(this._varIndex+r)}ExpInstVar_InstExpr(e){const t=this._objectClass,n=t.GetInstances(),s=n.length;if(0===s||"number"!=typeof e)return this._returnsString?"":0;const r=n[Ob(e,s)];let o=0;return t.IsFamily()&&(o=r.GetObjectClass().GetFamilyInstanceVariableOffset(t.GetFamilyIndex())),r._GetInstanceVariableValueUnchecked(this._varIndex+o)}}class Fb extends vb.ExpNode{constructor(e,t){super(e),this._objectClass=this._runtime.GetObjectClassByIndex(t[1]),this._behaviorType=this._objectClass.GetBehaviorTypeByName(t[2]),this._behaviorIndex=this._objectClass.GetBehaviorIndexByName(t[2]),this._func=this._runtime.GetObjectReference(t[3]),this._returnsString=!!t[4],this._eventStack=this._runtime.GetEventSheetManager().GetEventStack(),this._owner._MaybeVaryFor(this._objectClass)}ExpBehavior(...e){const t=this._objectClass,n=t.GetCurrentSol().GetExpressionInstances(),s=n.length;if(0===s)return this._returnsString?"":0;const r=Ob(this._owner.GetSolIndex(),s);this._eventStack.GetCurrentStackFrame().SetExpressionObjectClass(t);const o=n[r];let a=0;return t.IsFamily()&&(a=o.GetObjectClass().GetFamilyBehaviorOffset(t.GetFamilyIndex())),this._func.apply(o.GetBehaviorInstances()[this._behaviorIndex+a].GetSdkInstance(),e)}ExpBehavior_InstExpr(e,...t){const n=this._objectClass,s=n.GetInstances(),r=s.length;if(0===r||"number"!=typeof e)return this._returnsString?"":0;const o=Ob(e,r);this._eventStack.GetCurrentStackFrame().SetExpressionObjectClass(n);const a=s[o];let i=0;return n.IsFamily()&&(i=a.GetObjectClass().GetFamilyBehaviorOffset(n.GetFamilyIndex())),this._func.apply(a.GetBehaviorInstances()[this._behaviorIndex+i].GetSdkInstance(),t)}}class jb extends vb.ExpNode{constructor(e,t){super(e),this._eventVar=null,this._eventVarSid=t[1]}_PostInit(){this._eventVar=this._runtime.GetEventSheetManager().GetEventVariableBySID(this._eventVarSid)}GetVar(){return this._eventVar}}}{let kb=function(e){const t=self.C3_ExpressionFuncs[e];if(!t)throw new Error("invalid expression number");return t};GetExpressionFunc=kb;const Lb=self.C3,Wb=self.assert;Lb.Parameter=class extends Lb.DefendedBase{constructor(e,t,n){super(),this._owner=e,this._index=n,this._type=t,this.Get=null,this._variesPerInstance=!1,this._isConstant=!1}static Create(e,t,n){const s=t[0],r=[Ub,Hb,$b,Yb,qb,zb,Kb,Ub,Yb,Yb,Zb,Qb,$b,tS,Hb,Jb,Xb,eS,nS,sS,rS,oS];return Lb.New(r[s],e,s,n,t)}_PostInit(){}SetVariesPerInstance(){this._variesPerInstance=!0}_MaybeVaryFor(e){this._variesPerInstance||e&&(e.GetPlugin().IsSingleGlobal()||(this._variesPerInstance=!0))}VariesPerInstance(){return this._variesPerInstance}GetIndex(){return this._index}GetRuntime(){return this._owner.GetRuntime()}GetEventBlock(){return this._owner.GetEventBlock()}IsConstant(){return this._isConstant}IsObjectParameter(){return 4===this._type}};class Ub extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._solIndex=0;const r=s[1];this._expressionNumber=r[0],this._numberedNodes=[],this._expressionFunc=null;for(let e=1,t=r.length;e<t;++e)this._numberedNodes.push(Lb.ExpNode.CreateNode(this,r[e]));this._numberedNodes.length?this.Get=this.GetExpression:(this.Get=kb(this._expressionNumber),this._isConstant=!0)}_GetNode(e){if(e<0||e>=this._numberedNodes.length)throw new RangeError("invalid numbered node");return this._numberedNodes[e]}_PostInit(){for(const e of this._numberedNodes)e._PostInit();const e=kb(this._expressionNumber);this._numberedNodes.length?this._expressionFunc=e(this):this._expressionFunc=e}GetSolIndex(){return this._solIndex}GetExpression(e){return this._solIndex=e,this._expressionFunc()}}class Hb extends Ub{constructor(e,t,n,s){super(e,t,n,s),this.Get=this.GetStringExpression,14===t&&(this.GetEventBlock().SetAllSolModifiers(),this._owner instanceof Lb.Action&&this.GetEventBlock().SetSolWriterAfterCnds())}GetStringExpression(e){this._solIndex=e;const t=this._expressionFunc();return"string"==typeof t?t:""}_GetFastTriggerValue(){return kb(this._expressionNumber)()}}class zb extends Ub{constructor(e,t,n,s){super(e,t,n,s),e.GetImplementationSdkVersion()>=2?this.Get=this.GetILayer:this.Get=this.GetLayer,this._isConstant=!1}GetLayer(e){this._solIndex=e;const t=this._expressionFunc();return this.GetRuntime().GetCurrentLayout().GetLayer(t)}GetILayer(e){const t=this.GetLayer(e);return t?t.GetILayer():null}}class Yb extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._combo=s[1],this.Get=this.GetCombo,this._isConstant=!0}GetCombo(){return this._combo}}class Xb extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._bool=s[1],this.Get=this.GetBoolean,this._isConstant=!0}GetBoolean(){return this._bool}}class qb extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._objectClass=this.GetRuntime().GetObjectClassByIndex(s[1]),e.GetImplementationSdkVersion()>=2?this.Get=this.GetIObjectClass:this.Get=this.GetObjectClass;const r=this.GetEventBlock();r._AddSolModifier(this._objectClass),this._owner instanceof Lb.Action?r.SetSolWriterAfterCnds():r.GetParent()&&r.GetParent().SetSolWriterAfterCnds(),this._isConstant=!0}GetObjectClass(){return this._objectClass}GetIObjectClass(){return this._objectClass?this._objectClass.GetIObjectClass():null}}class Kb extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._layout=this.GetRuntime().GetLayoutManager().GetLayoutByName(s[1]),e.GetImplementationSdkVersion()>=2?this.Get=this.GetILayout:this.Get=this.GetLayout,this._isConstant=!0}GetLayout(){return this._layout}GetILayout(){return this._layout?this._layout.GetILayout():null}}class Jb extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._timeline=this.GetRuntime().GetTimelineManager().GetTimelineByName(s[1]),e.GetImplementationSdkVersion()>=2?this.Get=this.GetITimelineState:this.Get=this.GetTimeline,this._isConstant=!0}GetTimeline(){return this._timeline}GetITimelineState(){return this._timeline?this._timeline.GetITimelineState():null}}class $b extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._fileInfo=s[1],this.Get=this.GetFile,this._isConstant=!0}GetFile(){return this._fileInfo}}class Zb extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._instVarIndex=s[1];const r=this._owner.GetObjectClass();this._owner instanceof Lb.Condition&&this._owner.IsStatic()?(this.Get=this.GetInstanceVariable,this._isConstant=!0):r&&r.IsFamily()?(this.Get=this.GetFamilyInstanceVariable,this.SetVariesPerInstance()):(this.Get=this.GetInstanceVariable,this._isConstant=!0)}GetInstanceVariable(){return this._instVarIndex}GetFamilyInstanceVariable(e){e=e||0;const t=this._owner.GetObjectClass(),n=t.GetCurrentSol(),s=n.GetInstances();let r=null;if(s.length)r=s[e%s.length].GetObjectClass();else if(n.HasAnyElseInstances()){const t=n.GetElseInstances();r=t[e%t.length].GetObjectClass()}else{if(!(t.GetInstanceCount()>0))return 0;{const n=t.GetInstances();r=n[e%n.length].GetObjectClass()}}return this._instVarIndex+r.GetFamilyInstanceVariableOffset(t.GetFamilyIndex())}}class Qb extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._eventVarSid=s[1],this._eventVar=null,e.GetImplementationSdkVersion()>=2?this.Get=this.GetIEventVariable:this.Get=this.GetEventVariable,this._isConstant=!0}_PostInit(){this._eventVar=this.GetRuntime().GetEventSheetManager().GetEventVariableBySID(this._eventVarSid)}GetEventVariable(){return this._eventVar}GetIEventVariable(){return null}}class eS extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._functionBlockName=s[1],this._functionBlock=null,e.GetImplementationSdkVersion()>=2?this.Get=this.GetIFunction:this.Get=this.GetFunction,this._isConstant=!0}_PostInit(){this._functionBlock=this.GetRuntime().GetEventSheetManager().GetFunctionBlockByName(this._functionBlockName),this._functionBlockName=null}GetFunction(){return this._functionBlock}GetIFunction(){return null}}class tS extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._subParams=[],this._variadicRet=[],this._isConstant=!0;for(let e=1,t=s.length;e<t;++e){const t=Lb.Parameter.Create(this._owner,s[e],0);this._subParams.push(t),this._variadicRet.push(0),t.IsConstant()||(this._isConstant=!1)}this.Get=this.GetVariadic}_PostInit(){for(const e of this._subParams)e._PostInit()}GetVariadic(){const e=this._subParams,t=this._variadicRet;for(let n=0,s=e.length;n<s;++n)t[n]=e[n].Get(0);return t}}class nS extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._easeIndex=s[1],this.Get=this.GetEase,this._isConstant=!0}GetEase(){return this._easeIndex}}class sS extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._brushIndex=s[1],this.Get=this.GetTilemapBrush,this._isConstant=!0}GetTilemapBrush(){return this._brushIndex}}class rS extends Ub{constructor(e,t,n,s){super(e,t,n,s),this.Get=this.GetTemplateName,this._isConstant=!1}GetTemplateName(){return this._expressionFunc()}}class oS extends Lb.Parameter{constructor(e,t,n,s){super(e,t,n),this._flowchartDataItem=this.GetRuntime().GetFlowchartManager().GetFlowchartDataItemByName(s[1]),this.Get=this.GetFlowchartName,this._isConstant=!0}GetFlowchartName(){return this._flowchartDataItem.GetName()}}}{let aS=function(e,t){for(let n=0,s=e.length;n<s;++n)t[n]=e[n].Get(0)};EvalParams=aS;const iS=self.C3,lS=self.assert,dS=[],cS=function(){};iS.Condition=class extends iS.DefendedBase{constructor(e,t,n){if(super(),this._eventBlock=e,this._runtime=e.GetRuntime(),this._index=n,this._func=this._runtime.GetObjectReference(t[1]),this._isTrigger=t[3]>0,this._isFastTrigger=2===t[3],this._isLooping=!!t[4],this._isInverted=!!t[5],this._isStatic=!!t[6],this._sid=t[7],this._isInOrBlock=this._eventBlock.IsOrBlock(),this._objectClass=null,this._behaviorType=null,this._behaviorIndex=-1,this._systemPlugin=null,this.Run=cS,this.DebugRun=cS,this._parameters=[],this._results=[],this._anyParamVariesPerInstance=!1,this._savedData=null,this._unsavedData=null,this._debugData=this._runtime.IsDebug()?{isBreakpoint:t[8][0],canDebug:t[8][1]}:null,-1===t[0]?this._systemPlugin=this._runtime.GetSystemPlugin():(this._objectClass=this._runtime.GetObjectClassByIndex(t[0]),t[2]&&(this._behaviorType=this._objectClass.GetBehaviorTypeByName(t[2]),this._behaviorIndex=this._objectClass.GetBehaviorIndexByName(t[2])),this._eventBlock.GetParent()&&this._eventBlock.GetParent().SetSolWriterAfterCnds()),10===t.length){let e=t[9];for(let t of e)this._parameters.push(iS.Parameter.Create(this,t,this._parameters.length)),this._results.push(0)}0===this._parameters.length&&(this._parameters=dS,this._results=dS),this._eventBlock.GetEventSheetManager()._RegisterCondition(this)}static Create(e,t,n){return iS.New(iS.Condition,e,t,n)}_PostInit(){for(const e of this._parameters)e._PostInit(),e.VariesPerInstance()&&(this._anyParamVariesPerInstance=!0);this._isFastTrigger?(this.Run=this._RunFastTrigger,this.DebugRun=this._DebugRunFastTrigger):this._systemPlugin?(this._SetSystemRunMethod(),this.DebugRun=this._DebugRunSystem):this._objectClass.GetPlugin().IsSingleGlobal()?(this._SetSingleGlobalRunMethod(),this.DebugRun=this._DebugRunSingleGlobal):this._isStatic?(this.Run=this._RunStatic,this.DebugRun=this._DebugRunStatic):(this.Run=this._RunObject,this.DebugRun=this._DebugRunObject)}_SetSystemRunMethod(){const e=this._systemPlugin,t=this._systemPlugin;this._SetRunMethodForBoundFunc(e,t,this._RunSystem)}_SetSingleGlobalRunMethod(){const e=this._objectClass.GetPlugin(),t=this._objectClass.GetSingleGlobalInstance().GetSdkInstance();this._SetRunMethodForBoundFunc(e,t,this._RunSingleGlobal)}_SetRunMethodForBoundFunc(e,t,n){const s=this._func,r=this._isInverted,o=this._parameters;if(0===o.length){const n=e._GetBoundACEMethod(s,t);this.Run=r?function(){return iS.xor(n(),r)}:n}else if(1===o.length){const n=o[0];if(!r&&n.IsConstant())this.Run=e._GetBoundACEMethod_1param(s,t,n.Get(0));else{const o=e._GetBoundACEMethod(s,t);this.Run=function(){return iS.xor(o(n.Get(0)),r)}}}else if(2===o.length){const n=o[0],a=o[1];if(!r&&n.IsConstant()&&a.IsConstant())this.Run=e._GetBoundACEMethod_2params(s,t,n.Get(0),a.Get(0));else{const o=e._GetBoundACEMethod(s,t);this.Run=function(){return iS.xor(o(n.Get(0),a.Get(0)),r)}}}else if(3===o.length){const n=o[0],a=o[1],i=o[2];if(!r&&n.IsConstant()&&a.IsConstant()&&i.IsConstant())this.Run=e._GetBoundACEMethod_3params(s,t,n.Get(0),a.Get(0),i.Get(0));else{const o=e._GetBoundACEMethod(s,t);this.Run=function(){return iS.xor(o(n.Get(0),a.Get(0),i.Get(0)),r)}}}else this.Run=n}GetSID(){return this._sid}_GetFunc(){return this._func}GetObjectClass(){return this._objectClass}GetBehaviorType(){return this._behaviorType}GetImplementationAddon(){return this._behaviorType?this._behaviorType.GetBehavior():this._objectClass?this._objectClass.GetPlugin():null}GetImplementationSdkVersion(){const e=this.GetImplementationAddon();return e?e.GetSdkVersion():1}GetEventBlock(){return this._eventBlock}GetRuntime(){return this._runtime}GetIndex(){return this._index}GetDebugIndex(){return this.GetIndex()}IsTrigger(){return this._isTrigger}IsFastTrigger(){return this._isFastTrigger}IsInverted(){return this._isInverted}IsLooping(){return this._isLooping}IsStatic(){return this._isStatic}IsBreakpoint(){return this._debugData.isBreakpoint}IsSystemCondition(){return!!this._systemPlugin}IsSystemOrSingleGlobalCondition(){return this.IsSystemCondition()||this._objectClass.GetPlugin().IsSingleGlobal()}GetFirstObjectParameterObjectClass(){for(const e of this._parameters)if(e.IsObjectParameter())return e.GetObjectClass();return null}_SetBreakpoint(e){this._debugData.isBreakpoint=!!e,this._eventBlock._UpdateCanRunFastRecursive()}_DebugReturnsGenerator(){return this._debugData.canDebug}DebugCanRunFast(){return!this.IsBreakpoint()&&!this._runtime.DebugBreakNext()&&!this._DebugReturnsGenerator()}GetSavedDataMap(){return this._savedData||(this._savedData=new Map),this._savedData}GetUnsavedDataMap(){return this._unsavedData||(this._unsavedData=new Map),this._unsavedData}_RunSystem(){const e=this._results;return aS(this._parameters,e),iS.xor(this._func.apply(this._systemPlugin,e),this._isInverted)}*_DebugRunSystem(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._results;aS(this._parameters,e);let t=this._func.apply(this._systemPlugin,e);return iS.IsIterator(t)&&(t=yield*t),iS.xor(t,this._isInverted)}return this.Run()}_RunSingleGlobal(){const e=this._results;aS(this._parameters,e);const t=this._objectClass.GetSingleGlobalInstance().GetSdkInstance();return iS.xor(this._func.apply(t,e),this._isInverted)}*_DebugRunSingleGlobal(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._results;aS(this._parameters,e);const t=this._objectClass.GetSingleGlobalInstance().GetSdkInstance();let n=this._func.apply(t,e);return iS.IsIterator(n)&&(n=yield*n),iS.xor(n,this._isInverted)}return this.Run()}_RunFastTrigger(){return!0}*_DebugRunFastTrigger(){return(this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),!0}_GetStaticConditionThis(){return this._behaviorType?this._behaviorType.GetBehavior().GetSdkVersion()>=2?this._behaviorType.GetIBehaviorType():this._behaviorType:this._objectClass.GetPlugin().GetSdkVersion()>=2?this._objectClass.GetIObjectClass():this._objectClass}_RunStatic(){const e=this._results;aS(this._parameters,e);const t=this._func.apply(this._GetStaticConditionThis(),e);return this._objectClass.ApplySolToContainer(),t}*_DebugRunStatic(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._results;aS(this._parameters,e);let t=this._func.apply(this._GetStaticConditionThis(),e);return iS.IsIterator(t)&&(t=yield*t),this._objectClass.ApplySolToContainer(),t}return this.Run()}_RunObject(){const e=this._parameters,t=this._results,n=this._objectClass.GetCurrentSol();for(let n=0,s=e.length;n<s;++n){const s=e[n];s.VariesPerInstance()||(t[n]=s.Get(0))}return n.IsSelectAll()?this._RunObject_FirstFilter(n):this._RunObject_NextFilter(n)}*_DebugRunObject(){return(this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._RunObject()}_EvaluateVaryingParameters(e){const t=this._parameters,n=this._results;for(let s=0,r=t.length;s<r;++s){const r=t[s];r.VariesPerInstance()&&(n[s]=r.Get(e))}}_RunObject_FirstFilter(e){const t=this._objectClass,n=t.IsFamily(),s=t.GetFamilyIndex(),r=this._behaviorIndex,o=r>=0,a=t.GetInstances(),i=this._anyParamVariesPerInstance,l=this._results,d=this._func,c=this._isInverted,u=this._isInOrBlock&&!this._isTrigger;e.ClearArrays();for(let t=0,h=a.length;t<h;++t){const h=a[t];let _;if(i&&this._EvaluateVaryingParameters(t),o){const e=n?h.GetObjectClass().GetFamilyBehaviorOffset(s):0;_=d.apply(h.GetBehaviorInstances()[r+e].GetSdkInstance(),l)}else _=d.apply(h.GetSdkInstance(),l);iS.xor(_,c)?e._PushInstance(h):u&&e._PushElseInstance(h)}return t.FinishCondition(!0),e._SetSelectAll(!1),t.ApplySolToContainer(),e.HasAnyInstances()}_RunObject_NextFilter(e){const t=this._objectClass,n=t.IsFamily(),s=t.GetFamilyIndex(),r=t.IsInContainer(),o=this._behaviorIndex,a=o>=0,i=this._anyParamVariesPerInstance,l=this._results,d=this._func,c=this._isInverted,u=this._isInOrBlock&&!this._isTrigger,h=e._GetOwnInstances(),_=e._GetOwnElseInstances(),G=u&&!this._eventBlock.IsFirstConditionOfType(this),p=G?_:h;let m=0,g=!1;for(let e=0,t=p.length;e<t;++e){const t=p[e];let f;if(i&&this._EvaluateVaryingParameters(e),a){const e=n?t.GetObjectClass().GetFamilyBehaviorOffset(s):0;f=d.apply(t.GetBehaviorInstances()[o+e].GetSdkInstance(),l)}else f=d.apply(t.GetSdkInstance(),l);iS.xor(f,c)?(g=!0,G?(h.push(t),r&&t._PushSiblingsToSolInstances()):(p[m]=t,r&&t._SetSiblingsToSolInstancesIndex(m),++m)):G?(p[m]=t,r&&t._SetSiblingsToSolElseInstancesIndex(m),++m):u&&(_.push(t),r&&t._PushSiblingsToSolElseInstances())}iS.truncateArray(p,m),r&&t._TruncateContainerSols(G,m);const f=g;return G&&!g&&(g=this._OrBlockCheckInstances(h)),t.FinishCondition(f||u),u?g:e.HasAnyInstances()}_OrBlockCheckInstances(e){const t=this._objectClass,n=t.IsFamily(),s=t.GetFamilyIndex(),r=this._anyParamVariesPerInstance,o=this._behaviorIndex,a=o>=0,i=this._results,l=this._func,d=this._isInverted;for(let t=0,c=e.length;t<c;++t){const c=e[t];let u;if(r&&this._EvaluateVaryingParameters(t),a){const e=n?c.GetObjectClass().GetFamilyBehaviorOffset(s):0;u=l.apply(c.GetBehaviorInstances()[o+e].GetSdkInstance(),i)}else u=l.apply(c.GetSdkInstance(),i);if(iS.xor(u,d))return!0}return!1}ReevaluateParameter(e,t){return this._parameters[e].Get(t)}GetFastTriggerValue(){const e=this._parameters;if(!e.length)throw new Error("no parameters");return e[0]._GetFastTriggerValue()}_SaveToJson(){if(!this._savedData||!this._savedData.size)return null;const e={};for(const[t,n]of this._savedData.entries()){let s=n;"collmemory"===t&&(s=[...n.entries()].map(e=>[e[0].GetUID(),e[1].GetUID(),e[2]])),e[t]=s}return{ex:e}}_LoadFromJson(e){if(this._savedData&&(this._savedData.clear(),this._savedData=null),!e)return;const t=this._runtime,n=e.ex;if(n){const e=this.GetSavedDataMap();e.clear();for(const[s,r]of Object.entries(n)){let n=r;"collmemory"===s&&(n=iS.New(iS.PairMap,r.map(e=>[t.GetInstanceByUID(e[0]),t.GetInstanceByUID(e[1]),e[2]]).filter(e=>e[0]&&e[1]))),e.set(s,n)}}}}}{let uS=function(e,t){for(let n=0,s=e.length;n<s;++n)t[n]=e[n].Get(0)};EvalParams=uS;const hS=self.C3,_S=self.assert,GS=[],pS=function(){},mS=function*(){},gS=1,fS=2,NS=4,bS=8,SS=16;hS.Action=class extends hS.DefendedBase{constructor(e,t,n){super(),this._eventBlock=e;const s=e.GetRuntime();this._runtime=s,this._index=n,this._sid=t.length>=4?t[3]:-1,this._actionType=t.length>=5?255&t[4]:0,this._flags=t.length>=5?t[4]>>8:0,this._func=null,this._objectClass=null,this._behaviorType=null,this._behaviorIndex=-1,this._systemPlugin=null,this._callFunctionName="",this._callCustomAceObjectClass=null,this._callEventBlock=null,this.Run=pS,this.DebugRun=pS,this._parameters=[],this._results=[],this._anyParamVariesPerInstance=!1,this._savedData=null,this._unsavedData=null;const r=-3===t[0],o=r?t[2]:t[5];if(this._debugData=s.IsDebug()||r?{isBreakpoint:o[0],canDebug:o[1],index:o[2]}:null,-1===t[0])this._systemPlugin=s.GetSystemPlugin(),this._func=s.GetObjectReference(t[1]);else if(-2===t[0])this._callFunctionName=t[1];else if(r){const e=s.GetObjectReference(t[1]);this._func=e,this.Run=this.RunUserScript,this.DebugRun=this.DebugRunUserScript,this._flags|=8}else this._objectClass=s.GetObjectClassByIndex(t[0]),4&this._flags?(this._callFunctionName=t[1],this._callCustomAceObjectClass=s.GetObjectClassByIndex(t[2])):(t[2]&&(this._behaviorType=this._objectClass.GetBehaviorTypeByName(t[2]),this._behaviorIndex=this._objectClass.GetBehaviorIndexByName(t[2])),this._func=s.GetObjectReference(t[1]));if(7===t.length){const e=t[6];for(const t of e)this._parameters.push(hS.Parameter.Create(this,t,this._parameters.length)),this._results.push(0)}0===this._parameters.length&&(this._parameters=GS,this._results=GS),this.CanPickAnyObjectClass()&&(this._eventBlock.SetAllSolModifiers(),this._eventBlock.SetSolWriterAfterCnds()),this._eventBlock.GetEventSheetManager()._RegisterAction(this)}static Create(e,t,n){return hS.New(hS.Action,e,t,n)}_PostInit(){for(const e of this._parameters)e._PostInit(),e.VariesPerInstance()&&(this._anyParamVariesPerInstance=!0);if(this._systemPlugin)this._SetSystemRunMethod(),this.DebugRun=this._DebugRunSystem;else if(this._callFunctionName)4&this._flags?this._SetCallCustomActionRunMethod():this._SetCallFunctionRunMethod(),this._callFunctionName="",this._callCustomAceObjectClass=null;else if(this.Run===this.RunUserScript){const e=this._func,t=this._runtime.GetEventSheetManager()._GetLocalVariablesScriptInterface(this._eventBlock);this._func=e.bind(null,this._runtime.GetIRuntime(),t)}else this._behaviorType?this.IsAsync()?(this.Run=this._RunBehavior_Async,this.DebugRun=this._DebugRunBehavior_Async):(this.Run=this._RunBehavior,this.DebugRun=this._DebugRunBehavior):this._objectClass.GetPlugin().IsSingleGlobal()?(this._SetSingleGlobalRunMethod(),this.DebugRun=this._DebugRunSingleGlobal):this.IsStatic()?(this.Run=this._RunObject_Static,this.DebugRun=this._DebugRunObject_Static):this.IsAsync()?(this.Run=this._RunObject_Async,this.DebugRun=this._DebugRunObject_Async):this.CallBeforeAfterHooks()?(this.Run=this._RunObject_BeforeAfterHooks,this.DebugRun=this._DebugRunObject_BeforeAfterHooks):this._parameters.length?this._parameters.every(e=>e.VariesPerInstance())?(this.Run=this._RunObject_AllParamsVary,this.DebugRun=this._DebugRunObject_AllParamsVary):this._anyParamVariesPerInstance?(this.Run=this._RunObject_SomeParamsVary,this.DebugRun=this._DebugRunObject_SomeParamsVary):this._parameters.every(e=>e.IsConstant())?(uS(this._parameters,this._results),this.Run=this._RunObject_ParamsConst,this.DebugRun=this._DebugRunObject_ParamsConst):(this.Run=this._RunObject_ParamsDontVary,this.DebugRun=this._DebugRunObject_ParamsDontVary):(this.Run=this._RunObject_ParamsConst,this.DebugRun=this._DebugRunObject_ParamsConst)}_SetSystemRunMethod(){const e=this._systemPlugin,t=this._systemPlugin;this._SetRunMethodForBoundFunc(e,t,this._RunSystem)}_SetSingleGlobalRunMethod(){const e=this._objectClass.GetPlugin(),t=this._objectClass.GetSingleGlobalInstance().GetSdkInstance();this._SetRunMethodForBoundFunc(e,t,this._RunSingleGlobal)}_SetCallFunctionRunMethod(){const e=this._eventBlock.GetEventSheetManager(),t=e.GetFunctionBlockByName(this._callFunctionName);if(t.IsEnabled()){const n=!!(2&this._flags);this._callEventBlock=t.GetEventBlock();let s=[...new Set([...this._eventBlock.GetSolModifiersIncludingParents(),...this._callEventBlock.GetSolModifiersIncludingParents()])];s=e._DeduplicateSolModifierList(s);const r=!t.IsCopyPicked()&&this._HasCopyPickedParent()?{pushCleanSolDynamic:!0}:null;if(this.Run=hS.EventBlock.prototype.RunAsFunctionCall.bind(this._callEventBlock,s,this._parameters,n,r),this._runtime.IsDebug()){const e=this;this.DebugRun=function*(){return(e.IsBreakpoint()||e._runtime.DebugBreakNext())&&(yield e),yield*e._callEventBlock.DebugRunAsFunctionCall(s,e._parameters,n,r)}}else this.DebugRun=mS}else this.Run=pS,this.DebugRun=mS}_SetCallCustomActionRunMethod(){const e=this._eventBlock.GetEventSheetManager(),t=e.GetCustomActionBlockByName(this._callCustomAceObjectClass,this._callFunctionName);if(t.IsEnabled()){const n=!!(2&this._flags);this._callEventBlock=t.GetEventBlock();let s=[...new Set([...this._eventBlock.GetSolModifiersIncludingParents(),...this._callEventBlock.GetSolModifiersIncludingParents(),this._objectClass,t.GetObjectClass()])];s=e._DeduplicateSolModifierList(s);const r=!this._objectClass.IsFamily()&&!t.GetObjectClass().IsFamily(),o=!this._objectClass.IsFamily()&&t.GetObjectClass().IsFamily(),a=this._objectClass.IsFamily();let i=null;if(!t.IsCopyPicked()&&this._HasCopyPickedParent()&&(i=i||{},i.pushCleanSolDynamic=!0),!o&&n||(i=i||{},i.copyFromObjectClass=this._objectClass,i.copyToObjectClass=t.GetObjectClass()),r||o||a&&!t.HasCustomACEOverrides()?this.Run=hS.EventBlock.prototype.RunAsFunctionCall.bind(this._callEventBlock,s,this._parameters,n,i):a&&(this.Run=hS.FunctionBlock.prototype.RunAsFamilyCustomActionWithOverrides.bind(t,s,this._parameters)),this._runtime.IsDebug()){const e=this;r||o||a&&!t.HasCustomACEOverrides()?this.DebugRun=function*(){return(e.IsBreakpoint()||e._runtime.DebugBreakNext())&&(yield e),yield*e._callEventBlock.DebugRunAsFunctionCall(s,e._parameters,n,i)}:a&&(this.DebugRun=function*(){return(e.IsBreakpoint()||e._runtime.DebugBreakNext())&&(yield e),yield*t.DebugRunAsFamilyCustomActionWithOverrides(s,e._parameters)})}else this.DebugRun=mS}else this.Run=pS,this.DebugRun=mS}_SetRunMethodForBoundFunc(e,t,n){const s=this._func,r=this._parameters;if(0===r.length)this.Run=e._GetBoundACEMethod(s,t);else if(1===r.length){const n=r[0];if(n.IsConstant())this.Run=e._GetBoundACEMethod_1param(s,t,n.Get(0));else{const r=e._GetBoundACEMethod(s,t);this.Run=function(){return r(n.Get(0))}}}else if(2===r.length){const n=r[0],o=r[1];if(n.IsConstant()&&o.IsConstant())this.Run=e._GetBoundACEMethod_2params(s,t,n.Get(0),o.Get(0));else{const r=e._GetBoundACEMethod(s,t);this.Run=function(){return r(n.Get(0),o.Get(0))}}}else if(3===r.length){const n=r[0],o=r[1],a=r[2];if(n.IsConstant()&&o.IsConstant()&&a.IsConstant())this.Run=e._GetBoundACEMethod_3params(s,t,n.Get(0),o.Get(0),a.Get(0));else{const r=e._GetBoundACEMethod(s,t);this.Run=function(){return r(n.Get(0),o.Get(0),a.Get(0))}}}else this.Run=n}GetSID(){return this._sid}IsAsync(){return!!(8&this._flags)}CanBailOut(){return!!(16&this._flags)}CallBeforeAfterHooks(){return 1===this._actionType}IsStatic(){return 2===this._actionType}CanPickAnyObjectClass(){return!!(1&this._flags)}HasReturnType(){return this.IsAsync()||this.CanBailOut()}GetObjectClass(){return this._objectClass}GetImplementationAddon(){return this._behaviorType?this._behaviorType.GetBehavior():this._objectClass?this._objectClass.GetPlugin():null}GetImplementationSdkVersion(){const e=this.GetImplementationAddon();return e?e.GetSdkVersion():1}GetEventBlock(){return this._eventBlock}_HasCopyPickedParent(){let e=this._eventBlock;do{if(e instanceof hS.FunctionBlock&&e.IsCopyPicked())return!0;e=e.GetScopeParent()}while(e);return!1}GetRuntime(){return this._runtime}GetIndex(){return this._index}GetDebugIndex(){return this._debugData.index}IsBreakpoint(){return this._debugData.isBreakpoint}_SetBreakpoint(e){this._debugData.isBreakpoint=!!e,this._eventBlock._UpdateCanRunFastRecursive()}_DebugReturnsGenerator(){return this._debugData.canDebug}DebugCanRunFast(){return!this.IsBreakpoint()&&!this._runtime.DebugBreakNext()&&!this._DebugReturnsGenerator()}GetSavedDataMap(){return this._savedData||(this._savedData=new Map),this._savedData}GetUnsavedDataMap(){return this._unsavedData||(this._unsavedData=new Map),this._unsavedData}_RunSystem(){const e=this._results;return uS(this._parameters,e),this._func.apply(this._systemPlugin,e)}*_DebugRunSystem(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._results;return uS(this._parameters,e),yield*this._func.apply(this._systemPlugin,e)}return this.Run()}_RunSingleGlobal(){const e=this._results;return uS(this._parameters,e),this._func.apply(this._objectClass.GetSingleGlobalInstance().GetSdkInstance(),e)}*_DebugRunSingleGlobal(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._results;return uS(this._parameters,e),yield*this._func.apply(this._objectClass.GetSingleGlobalInstance().GetSdkInstance(),e)}return this.Run()}_RunObject_ParamsConst(){const e=this._results,t=this._objectClass.GetCurrentSol().GetInstances();for(let n=0,s=t.length;n<s;++n)this._func.apply(t[n].GetSdkInstance(),e)}*_DebugRunObject_ParamsConst(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._results,t=this._objectClass.GetCurrentSol().GetInstances();for(let n=0,s=t.length;n<s;++n)yield*this._func.apply(t[n].GetSdkInstance(),e)}else this._RunObject_ParamsConst()}_RunObject_ParamsDontVary(){const e=this._results;uS(this._parameters,e);const t=this._objectClass.GetCurrentSol().GetInstances();for(let n=0,s=t.length;n<s;++n)this._func.apply(t[n].GetSdkInstance(),e)}*_DebugRunObject_ParamsDontVary(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._results;uS(this._parameters,e);const t=this._objectClass.GetCurrentSol().GetInstances();for(let n=0,s=t.length;n<s;++n)yield*this._func.apply(t[n].GetSdkInstance(),e)}else this._RunObject_ParamsDontVary()}_RunObject_AllParamsVary(){const e=this._parameters,t=this._results,n=this._func,s=this._objectClass.GetCurrentSol().GetInstances();for(let r=0,o=s.length;r<o;++r){const o=s[r];for(let n=0,s=e.length;n<s;++n)t[n]=e[n].Get(r);n.apply(o.GetSdkInstance(),t)}}*_DebugRunObject_AllParamsVary(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._parameters,t=this._results,n=this._func,s=this._objectClass.GetCurrentSol().GetInstances();for(let r=0,o=s.length;r<o;++r){const o=s[r];for(let n=0,s=e.length;n<s;++n)t[n]=e[n].Get(r);yield*n.apply(o.GetSdkInstance(),t)}}else this._RunObject_AllParamsVary()}_RunObject_SomeParamsVary(){const e=this._parameters,t=this._results,n=this._func,s=this._objectClass.GetCurrentSol().GetInstances();for(let n=0,s=e.length;n<s;++n){const s=e[n];s.VariesPerInstance()||(t[n]=s.Get(0))}for(let r=0,o=s.length;r<o;++r){const o=s[r];for(let n=0,s=e.length;n<s;++n){const s=e[n];s.VariesPerInstance()&&(t[n]=s.Get(r))}n.apply(o.GetSdkInstance(),t)}}*_DebugRunObject_SomeParamsVary(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._parameters,t=this._results,n=this._func,s=this._objectClass.GetCurrentSol().GetInstances();for(let n=0,s=e.length;n<s;++n){const s=e[n];s.VariesPerInstance()||(t[n]=s.Get(0))}for(let r=0,o=s.length;r<o;++r){const o=s[r];for(let n=0,s=e.length;n<s;++n){const s=e[n];s.VariesPerInstance()&&(t[n]=s.Get(r))}yield*n.apply(o.GetSdkInstance(),t)}}else this._RunObject_SomeParamsVary()}_RunObject_BeforeAfterHooks(){const e=this._parameters,t=this._results,n=this._func,s=this._objectClass,r=s.GetSdkType(),o=s.GetCurrentSol().GetInstances();r.BeforeRunAction(n);for(let s=0,r=o.length;s<r;++s){const r=o[s];for(let n=0,r=e.length;n<r;++n)t[n]=e[n].Get(s);n.apply(r.GetSdkInstance(),t)}r.AfterRunAction(n)}*_DebugRunObject_BeforeAfterHooks(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._parameters,t=this._results,n=this._func,s=this._objectClass,r=s.GetSdkType(),o=s.GetCurrentSol().GetInstances();r.BeforeRunAction(n);for(let s=0,r=o.length;s<r;++s){const r=o[s];for(let n=0,r=e.length;n<r;++n)t[n]=e[n].Get(s);yield*n.apply(r.GetSdkInstance(),t)}r.AfterRunAction(n)}else this._RunObject_BeforeAfterHooks()}_GetStaticActionThis(){return this._behaviorType?this._behaviorType.GetBehavior().GetSdkVersion()>=2?this._behaviorType.GetIBehaviorType():this._behaviorType:this._objectClass.GetPlugin().GetSdkVersion()>=2?this._objectClass.GetIObjectClass():this._objectClass}_RunObject_Static(){const e=this._results;return uS(this._parameters,e),this._func.apply(this._GetStaticActionThis(),e)}*_DebugRunObject_Static(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._results;uS(this._parameters,e);let t=this._func.apply(this._GetStaticActionThis(),e);return hS.IsIterator(t)&&(t=yield*t),t}return this._RunObject_Static()}_RunBehavior(){const e=this._objectClass,t=e.IsFamily(),n=e.GetFamilyIndex(),s=this._parameters,r=this._anyParamVariesPerInstance,o=this._results,a=this._func,i=this._behaviorIndex,l=e.GetCurrentSol().GetInstances();for(let e=0,t=s.length;e<t;++e){const t=s[e];t.VariesPerInstance()||(o[e]=t.Get(0))}for(let e=0,d=l.length;e<d;++e){const d=l[e];if(r)for(let t=0,n=s.length;t<n;++t){const n=s[t];n.VariesPerInstance()&&(o[t]=n.Get(e))}const c=t?d.GetObjectClass().GetFamilyBehaviorOffset(n):0;a.apply(d.GetBehaviorInstances()[i+c].GetSdkInstance(),o)}}*_DebugRunBehavior(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._objectClass,t=e.IsFamily(),n=e.GetFamilyIndex(),s=this._parameters,r=this._anyParamVariesPerInstance,o=this._results,a=this._func,i=this._behaviorIndex,l=e.GetCurrentSol().GetInstances();for(let e=0,t=s.length;e<t;++e){const t=s[e];t.VariesPerInstance()||(o[e]=t.Get(0))}for(let e=0,d=l.length;e<d;++e){const d=l[e];if(r)for(let t=0,n=s.length;t<n;++t){const n=s[t];n.VariesPerInstance()&&(o[t]=n.Get(e))}const c=t?d.GetObjectClass().GetFamilyBehaviorOffset(n):0;yield*a.apply(d.GetBehaviorInstances()[i+c].GetSdkInstance(),o)}}else this._RunBehavior()}_RunObject_Async(){const e=this._parameters,t=this._results,n=this._func,s=this._objectClass.GetCurrentSol().GetInstances(),r=[];for(let o=0,a=s.length;o<a;++o){const a=s[o];for(let n=0,s=e.length;n<s;++n)t[n]=e[n].Get(o);r.push(n.apply(a.GetSdkInstance(),t))}return Promise.all(r)}*_DebugRunObject_Async(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._parameters,t=this._results,n=this._func,s=this._objectClass.GetCurrentSol().GetInstances(),r=[];for(let o=0,a=s.length;o<a;++o){const a=s[o];for(let n=0,s=e.length;n<s;++n)t[n]=e[n].Get(o);r.push(yield*n.apply(a.GetSdkInstance(),t))}return Promise.all(r)}return this._RunObject_Async()}_RunBehavior_Async(){const e=this._objectClass,t=e.IsFamily(),n=e.GetFamilyIndex(),s=this._parameters,r=this._results,o=this._func,a=this._behaviorIndex,i=e.GetCurrentSol().GetInstances(),l=[];for(let e=0,d=i.length;e<d;++e){const d=i[e];for(let t=0,n=s.length;t<n;++t)r[t]=s[t].Get(e);const c=t?d.GetObjectClass().GetFamilyBehaviorOffset(n):0;l.push(o.apply(d.GetBehaviorInstances()[a+c].GetSdkInstance(),r))}return Promise.all(l)}*_DebugRunBehavior_Async(){if((this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this._DebugReturnsGenerator()){const e=this._objectClass,t=e.IsFamily(),n=e.GetFamilyIndex(),s=this._parameters,r=this._results,o=this._func,a=this._behaviorIndex,i=e.GetCurrentSol().GetInstances(),l=[];for(let e=0,d=i.length;e<d;++e){const d=i[e];for(let t=0,n=s.length;t<n;++t)r[t]=s[t].Get(e);const c=t?d.GetObjectClass().GetFamilyBehaviorOffset(n):0;l.push(yield*o.apply(d.GetBehaviorInstances()[a+c].GetSdkInstance(),r))}return Promise.all(l)}return this._RunBehavior_Async()}async RunUserScript(){try{await this._func()}catch(e){console.error(`Unhandled exception running script %c${this._eventBlock.GetEventSheet().GetName()}, event ${this._eventBlock.GetDisplayNumber()}, action ${this.GetDebugIndex()+1}:`,"font-size: 1.2em; font-weight: bold;",e),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),hS.EventScript.HadUserScriptException()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),hS.EventScript.SetHadUserScriptException())}}*DebugRunUserScript(){return(this.IsBreakpoint()||this._runtime.DebugBreakNext())&&(yield this),this.RunUserScript()}_SaveToJson(){return this._savedData&&this._savedData.size?{ex:hS.ToSuperJSON(this._savedData)}:null}_LoadFromJson(e){if(this._savedData&&(this._savedData.clear(),this._savedData=null),!e)return;const t=e.ex;t&&(this._savedData=hS.FromSuperJSON(t))}}}{let xS=function(e){return e instanceof US?WS._UnwrapScriptInterface(e):e.GetInstance()},IS=function(e){return xS(e).GetWorldInfo()},yS=function(e){return WS._UnwrapScriptInterface(e)},ES=function(e){return yS(e).GetWorldInfo()},TS=function(e){return e instanceof HS?WS._UnwrapScriptInterface(e):e},CS=function(e){return e instanceof zS?WS._UnwrapScriptInterface(e):e},MS=function(e,t,n,s){t.GetUID()<n.GetUID()?e.Set(t,n,s):e.Set(n,t,s)},VS=function(e,t,n){t.GetUID()<n.GetUID()?e.Delete(t,n):e.Delete(n,t)},BS=function(e,t){e.DeleteEither(t)},OS=function(e,t,n){return t.GetUID()<n.GetUID()?e.Get(t,n):e.Get(n,t)},vS=function(e,t,n,s){if(!t)return!1;const r=0!==n||0!==s,o=e.GetWorldInfo(),a=WS.GetCollisionEngine(),i=WS.GetCurrentCondition(),l=i.GetEventBlock().IsOrBlock(),d=i.GetObjectClass(),c=i.IsInverted(),u=t.GetCurrentSol(),h=d!==t;let _;JS=t,KS=h&&!c,$S=!1;let G=0,p=0,m=!1;u.IsSelectAll()?(YS.copy(o.GetBoundingBox()),YS.offset(n,s),a.GetCollisionCandidates(o.GetLayer(),t,YS,qS),_=qS):l?WS.IsCurrentConditionFirst()&&!u._GetOwnElseInstances().length&&u._GetOwnInstances().length?_=u._GetOwnInstances():(_=u._GetOwnElseInstances(),$S=!0):_=u._GetOwnInstances(),r&&(G=o.GetX(),p=o.GetY(),o.OffsetXY(n,s),o.SetBboxChanged());for(const t of _)if(a.TestOverlap(e,t)){if(m=!0,c)break;h&&ZS.add(t)}return r&&(o.SetXY(G,p),o.SetBboxChanged()),RS.clearArray(qS),m},PS=function(e){const t=WS.GetCurrentEvent().IsOrBlock(),n=JS.GetCurrentSol(),s=n._GetOwnInstances(),r=n._GetOwnElseInstances();n.IsSelectAll()?(n.SetSetPicked(ZS),t&&(RS.clearArray(r),n.AddElseInstances(ZS,JS.GetInstances()))):t?$S?n.TransferElseInstancesToOwn(ZS):(n.AddElseInstances(ZS,s),n.SetSetPicked(ZS)):n.SetSetPicked(ZS),JS.ApplySolToContainer()},wS=function(e,t){KS&&(t&&PS(e),ZS.clear(),JS=null,KS=!1)},AS=function(e,t){const n=WS.GetInstanceByUID(t);if(!n)return!1;const s=e.GetCurrentSol();if(!s.IsSelectAll()&&!s._GetOwnInstances().includes(n))return!1;if(e.IsFamily()){if(n.GetObjectClass().BelongsToFamily(e))return s.PickOne(n),e.ApplySolToContainer(),!0}else if(n.GetObjectClass()===e)return s.PickOne(n),e.ApplySolToContainer(),!0;return!1},DS=function(e,t){const n=e.GetCurrentSol();if(n.IsSelectAll()){n._SetSelectAll(!1),n.ClearArrays();const s=e.GetInstances();for(let e=0,r=s.length;e<r;++e){const r=s[e];r.GetUID()===t?n._PushElseInstance(r):n._PushInstance(r)}return e.ApplySolToContainer(),!!n._GetOwnInstances().length}{const s=n._GetOwnInstances();let r=0;for(let e=0,o=s.length;e<o;++e){const o=s[e];s[r]=o,o.GetUID()===t?n._PushElseInstance(o):++r}return RS.truncateArray(s,r),e.ApplySolToContainer(),!!s.length}};GetInst=xS,GetWorldInfo=IS,GetInst_SDKv2=yS,GetWorldInfo_SDKv2=ES,GetObjectClass=TS,GetLayer=CS,CollMemory_Add=MS,CollMemory_Remove=VS,CollMemory_RemoveInstance=BS,CollMemory_Get=OS,DoOverlapCondition=vS,FinishCollisionConditionPicking=PS,FinishCollisionCondition=wS,PickByUID_Normal=AS,PickByUID_Inverted=DS;const RS=self.C3,FS=new RS.Color,jS={},kS={},LS={};let WS=null;RS.CommonACES_SetRuntime=function(e){WS=e};const US=self.IInstance,HS=self.IObjectClass,zS=self.ILayer;kS.CompareX=function(e,t){return RS.compare(this.GetWorldInfo().GetX(),e,t)},LS.CompareX=function(e,t){return RS.compare(this.x,e,t)},kS.CompareY=function(e,t){return RS.compare(this.GetWorldInfo().GetY(),e,t)},LS.CompareY=function(e,t){return RS.compare(this.y,e,t)},kS.IsOnScreen=function(){return this.GetWorldInfo().IsInViewport2()},LS.IsOnScreen=function(){return this.isOnScreen()},jS.IsOutsideLayout=function(){const e=IS(this),t=e.GetLayout(),n=e.GetBoundingBox();return n.getRight()<0||n.getBottom()<0||n.getLeft()>t.GetWidth()||n.getTop()>t.GetHeight()},jS.PickDistance=function(e,t,n){const s=TS(this).GetCurrentSol(),r=s.GetInstances();if(!r.length)return!1;let o=r[0],a=o.GetWorldInfo(),i=o,l=RS.distanceSquared(a.GetX(),a.GetY(),t,n);for(let s=1,d=r.length;s<d;++s){o=r[s],a=o.GetWorldInfo();const d=RS.distanceSquared(a.GetX(),a.GetY(),t,n);(0===e&&d<l||1===e&&d>l)&&(l=d,i=o)}return s.PickOne(i),!0},kS.SetX=function(e){const t=this.GetWorldInfo();t.GetX()!==e&&(t.SetX(e),t.SetBboxChanged())},LS.SetX=function(e){this.x=+e},kS.SetY=function(e){const t=this.GetWorldInfo();t.GetY()!==e&&(t.SetY(e),t.SetBboxChanged())},LS.SetY=function(e){this.y=+e},kS.SetPos=function(e,t){const n=this.GetWorldInfo();n.EqualsXY(e,t)||(n.SetXY(e,t),n.SetBboxChanged())},LS.SetPos=function(e,t){this.setPosition(e,t)},jS.SetPosToObject=function(e,t){if(!(e=TS(e)))return;const n=xS(this),s=e.GetPairedInstance(n);if(!s)return;const[r,o]=s.GetImagePoint(t),a=n.GetWorldInfo();a.GetX()===r&&a.GetY()===o||(a.SetXY(r,o),a.SetBboxChanged())},jS.MoveForward=function(e){if(0===e)return;const t=IS(this);t.OffsetXY(t.GetCosAngle()*e,t.GetSinAngle()*e),t.SetBboxChanged()},kS.MoveAtAngle=function(e,t){if(0===t)return;const n=this.GetWorldInfo();e=RS.toRadians(e),n.OffsetXY(Math.cos(e)*t,Math.sin(e)*t),n.SetBboxChanged()},LS.MoveAtAngle=function(e,t){0!==t&&(e=RS.toRadians(e),this.offsetPosition(Math.cos(e)*t,Math.sin(e)*t))},kS.GetX=function(){return this.GetWorldInfo().GetX()},LS.GetX=function(){return this.x},kS.GetY=function(){return this.GetWorldInfo().GetY()},LS.GetY=function(){return this.y},jS.GetDt=function(){return WS.GetDt(xS(this))},kS.CompareWidth=function(e,t){return RS.compare(this.GetWorldInfo().GetWidth(),e,t)},LS.CompareWidth=function(e,t){return RS.compare(this.width,e,t)},kS.CompareHeight=function(e,t){return RS.compare(this.GetWorldInfo().GetHeight(),e,t)},LS.CompareHeight=function(e,t){return RS.compare(this.height,e,t)},kS.SetWidth=function(e){const t=this.GetWorldInfo();t.GetWidth()!==e&&(t.SetWidth(e),t.SetBboxChanged())},LS.SetWidth=function(e){this.width=e},kS.SetHeight=function(e){const t=this.GetWorldInfo();t.GetHeight()!==e&&(t.SetHeight(e),t.SetBboxChanged())},LS.SetHeight=function(e){this.height=e},kS.SetSize=function(e,t){const n=IS(this);n.GetWidth()===e&&n.GetHeight()===t||(n.SetSize(e,t),n.SetBboxChanged())},LS.SetSize=function(e,t){this.setSize(e,t)},kS.GetWidth=function(){return this.GetWorldInfo().GetWidth()},LS.GetWidth=function(){return this.width},kS.GetHeight=function(){return this.GetWorldInfo().GetHeight()},LS.GetHeight=function(){return this.height},jS.GetBboxLeft=function(){return IS(this).GetBoundingBox().getLeft()},jS.GetBboxTop=function(){return IS(this).GetBoundingBox().getTop()},jS.GetBboxRight=function(){return IS(this).GetBoundingBox().getRight()},jS.GetBboxBottom=function(){return IS(this).GetBoundingBox().getBottom()},jS.GetBboxMidX=function(){const e=IS(this).GetBoundingBox();return(e.getLeft()+e.getRight())/2},jS.GetBboxMidY=function(){const e=IS(this).GetBoundingBox();return(e.getTop()+e.getBottom())/2},jS.IsAngleWithin=function(e,t){return RS.angleDiff(IS(this).GetAngle(),RS.toRadians(t))<=RS.toRadians(e)},jS.IsAngleClockwiseFrom=function(e){return RS.angleClockwise(IS(this).GetAngle(),RS.toRadians(e))},jS.IsBetweenAngles=function(e,t){const n=RS.toRadians(e),s=RS.toRadians(t),r=IS(this).GetAngle();return RS.angleClockwise(s,n)?RS.angleClockwise(r,n)&&!RS.angleClockwise(r,s):!(!RS.angleClockwise(r,n)&&RS.angleClockwise(r,s))},kS.SetAngle=function(e){const t=this.GetWorldInfo(),n=RS.clampAngle(RS.toRadians(e));isNaN(n)||t.GetAngle()===n||(t.SetAngle(n),t.SetBboxChanged())},LS.SetAngle=function(e){this.angleDegrees=e},jS.RotateClockwise=function(e){if(isNaN(e)||0===e)return;const t=IS(this);t.SetAngle(t.GetAngle()+RS.toRadians(e)),t.SetBboxChanged()},jS.RotateCounterclockwise=function(e){if(isNaN(e)||0===e)return;const t=IS(this);t.SetAngle(t.GetAngle()-RS.toRadians(e)),t.SetBboxChanged()},jS.RotateTowardAngle=function(e,t){const n=IS(this),s=n.GetAngle(),r=RS.angleRotate(s,RS.toRadians(t),RS.toRadians(e));isNaN(r)||s===r||(n.SetAngle(r),n.SetBboxChanged())},jS.RotateTowardPosition=function(e,t,n){const s=IS(this),r=s.GetAngle(),o=t-s.GetX(),a=n-s.GetY(),i=Math.atan2(a,o),l=RS.angleRotate(r,i,RS.toRadians(e));isNaN(l)||r===l||(s.SetAngle(l),s.SetBboxChanged())},jS.SetTowardPosition=function(e,t){const n=IS(this),s=n.GetAngle(),r=e-n.GetX(),o=t-n.GetY(),a=Math.atan2(o,r);isNaN(a)||s===a||(n.SetAngle(a),n.SetBboxChanged())},kS.GetAngle=function(){return RS.toDegrees(this.GetWorldInfo().GetAngle())},LS.GetAngle=function(){return this.angleDegrees},jS.CompareOpacity=function(e,t){return RS.compare(RS.roundToDp(100*IS(this).GetOpacity(),6),e,t)},kS.IsVisible=function(){return this.GetWorldInfo().IsVisible()},LS.IsVisible=function(){return this.isVisible},jS.SetVisible=function(e){const t=IS(this);e=2===e?!t.IsVisible():0!==e,t.IsVisible()!==e&&(t.SetVisible(e),WS.UpdateRender())},jS.SetOpacity=function(e){const t=RS.clamp(e/100,0,1),n=IS(this);if(n.GetTransformWithParentOpacity()){if(n._GetSceneGraphInfo().GetOwnOpacity()===t)return}else if(n.GetOpacity()===t)return;n.SetOpacity(t),WS.UpdateRender()},jS.SetDefaultColor=function(e){FS.setFromRgbValue(e);const t=IS(this);t.GetUnpremultipliedColor().equalsIgnoringAlpha(FS)||(t.SetUnpremultipliedColor(FS),WS.UpdateRender())},jS.GetColor=function(){const e=IS(this).GetUnpremultipliedColor();return RS.PackRGBAEx(e.getR(),e.getG(),e.getB(),e.getA())},jS.GetOpacity=function(){return RS.roundToDp(100*IS(this).GetOpacity(),6)},jS.IsOnLayer=function(e){return!!(e=CS(e))&&IS(this).GetLayer()===e},jS.PickTopBottom=function(e){const t=TS(this).GetCurrentSol(),n=t.GetInstances();if(!n.length)return!1;let s=n[0];for(let t=1,r=n.length;t<r;++t){const r=n[t],o=r.GetWorldInfo(),a=s.GetWorldInfo(),i=o.GetLayer().GetIndex(),l=a.GetLayer().GetIndex();0===e?(i>l||i===l&&o.GetZIndex()>a.GetZIndex())&&(s=r):(i<l||i===l&&o.GetZIndex()<a.GetZIndex())&&(s=r)}return t.PickOne(s),!0},kS.CompareZElevation=function(e,t,n){const s=this.GetWorldInfo(),r=0===e?s.GetZElevation():s.GetTotalZElevation();return RS.compare(r,t,n)},LS.CompareZElevation=function(e,t,n){const s=0===e?this.zElevation:this.totalZElevation;return RS.compare(s,t,n)},kS.MoveToTop=function(){this.GetWorldInfo().ZOrderMoveToTop()},LS.MoveToTop=function(){this.moveToTop()},kS.MoveToBottom=function(){this.GetWorldInfo().ZOrderMoveToBottom()},LS.MoveToBottom=function(){this.moveToBottom()},jS.MoveToLayer=function(e){(e=CS(e))&&IS(this).ZOrderMoveToLayer(e)},jS.ZMoveToObject=function(e,t){const n=0===e;if(!(t=TS(t)))return;const s=xS(this),r=t.GetFirstPicked(s);r&&s.GetWorldInfo().ZOrderMoveAdjacentToInstance(r,n)},kS.SetZElevation=function(e){const t=this.GetWorldInfo();t.GetZElevation()!==e&&(t.SetZElevation(e),WS.UpdateRender())},LS.SetZElevation=function(e){this.zElevation=e},jS.LayerNumber=function(){return IS(this).GetLayer().GetIndex()},jS.LayerName=function(){return IS(this).GetLayer().GetName()},kS.ZIndex=function(){return this.GetWorldInfo().GetZIndex()},LS.ZIndex=function(){return this.zIndex},kS.ZElevation=function(){return this.GetWorldInfo().GetZElevation()},LS.ZElevation=function(){return this.zElevation},kS.TotalZElevation=function(){return this.GetWorldInfo().GetTotalZElevation()},LS.TotalZElevation=function(){return this.totalZElevation},jS.IsEffectEnabled=function(e){const t=xS(this),n=t.GetObjectClass().GetEffectList().GetEffectTypeByName(e);if(!n)return;const s=n.GetIndex();return t.GetWorldInfo().GetInstanceEffectList().IsEffectIndexActive(s)},jS.SetEffectEnabled=function(e,t){const n=xS(this),s=n.GetObjectClass().GetEffectList().GetEffectTypeByName(t);if(!s)return;const r=s.GetIndex(),o=1===e,a=n.GetWorldInfo().GetInstanceEffectList();a.IsEffectIndexActive(r)!==o&&(a.SetEffectIndexActive(r,o),a.UpdateActiveEffects(),WS.UpdateRender())},jS.SetEffectParam=function(e,t,n){const s=xS(this),r=s.GetObjectClass().GetEffectList().GetEffectTypeByName(e);if(!r)return;t=Math.floor(t);const o=r.GetShaderProgram().GetParameterType(t);if(!o)return;"color"===o?(FS.setFromRgbValue(n),n=FS):"percent"===o&&(n/=100);const a=r.GetIndex(),i=s.GetWorldInfo().GetInstanceEffectList();i.SetEffectParameter(a,t,n)&&i.IsEffectIndexActive(a)&&WS.UpdateRender()};const YS=RS.New(RS.Rect),XS=[],qS=[];let KS=!1,JS=null,$S=!1;const ZS=new Set;function*QS(e){if(!e)return!1;const t=this.GetRuntime(),n=t.GetCollisionEngine(),s=t.GetEventSheetManager(),r=s.GetEventStack(),o=s.GetCurrentCondition(),a=o.GetObjectClass(),i=o.GetSavedDataMap(),l=o.GetUnsavedDataMap(),d=r.GetCurrentStackFrame(),c=t.GetTickCount(),u=c-1,h=d.GetCurrentEvent(),_=r.Push(h);let G=i.get("collmemory");G||(G=RS.New(RS.PairMap),i.set("collmemory",G)),l.get("collisionCreatedDestroyCallback")||(l.set("collisionCreatedDestroyCallback",!0),t.Dispatcher().addEventListener("instancedestroy",e=>BS(G,e.instance)));const p=a.GetCurrentSol(),m=e.GetCurrentSol(),g=p.GetInstances();let f=null;for(let t=0;t<g.length;++t){const r=g[t];m.IsSelectAll()?(n.GetCollisionCandidates(r.GetWorldInfo().GetLayer(),e,r.GetWorldInfo().GetBoundingBox(),XS),f=XS,n.AddRegisteredCollisionCandidates(r,e,f)):f=m.GetInstances();for(let t=0;t<f.length;++t){const o=f[t];if(n.TestOverlap(r,o)||n.CheckRegisteredCollision(r,o)){const t=OS(G,r,o);let n=!1,i=-2;"number"==typeof t&&(n=!0,i=t);const l=!n||i<u;if(MS(G,r,o,c),l){const t=h.GetSolModifiers();s.PushCopySol(t);const n=a.GetCurrentSol(),i=e.GetCurrentSol();if(n._SetSelectAll(!1),i._SetSelectAll(!1),a===e){const e=n._GetOwnInstances();RS.clearArray(e),e.push(r),e.push(o),a.ApplySolToContainer()}else{const t=n._GetOwnInstances(),s=i._GetOwnInstances();RS.clearArray(t),RS.clearArray(s),t.push(r),s.push(o),a.ApplySolToContainer(),e.ApplySolToContainer()}yield*h.DebugRetrigger(d,_),s.PopSol(t)}}else VS(G,r,o)}RS.clearArray(XS)}return r.Pop(),!1}jS.OnCollision=function(e){const t=TS(this);e=TS(e);const n=t.GetRuntime();if(n.IsDebugging())return QS.call(t,e);if(!e)return!1;const s=n.GetCollisionEngine(),r=n.GetEventSheetManager(),o=r.GetEventStack(),a=r.GetCurrentCondition(),i=a.GetObjectClass(),l=a.GetSavedDataMap(),d=a.GetUnsavedDataMap(),c=o.GetCurrentStackFrame(),u=n.GetTickCount(),h=u-1,_=c.GetCurrentEvent(),G=o.Push(_);let p=l.get("collmemory");p||(p=RS.New(RS.PairMap),l.set("collmemory",p)),d.get("collisionCreatedDestroyCallback")||(d.set("collisionCreatedDestroyCallback",!0),n.Dispatcher().addEventListener("instancedestroy",e=>BS(p,e.instance)));const m=i.GetCurrentSol(),g=e.GetCurrentSol(),f=m.GetInstances();let N=null;for(let t=0;t<f.length;++t){const n=f[t];g.IsSelectAll()?(s.GetCollisionCandidates(n.GetWorldInfo().GetLayer(),e,n.GetWorldInfo().GetBoundingBox(),XS),N=XS,s.AddRegisteredCollisionCandidates(n,e,N)):N=g.GetInstances();for(let t=0;t<N.length;++t){const o=N[t];if(s.TestOverlap(n,o)||s.CheckRegisteredCollision(n,o)){const t=OS(p,n,o);let s=!1,a=-2;"number"==typeof t&&(s=!0,a=t);const l=!s||a<h;if(MS(p,n,o,u),l){const t=_.GetSolModifiers();r.PushCopySol(t);const s=i.GetCurrentSol(),a=e.GetCurrentSol();if(s._SetSelectAll(!1),a._SetSelectAll(!1),i===e){const e=s._GetOwnInstances();RS.clearArray(e),e.push(n),e.push(o),i.ApplySolToContainer()}else{const t=s._GetOwnInstances(),r=a._GetOwnInstances();RS.clearArray(t),RS.clearArray(r),t.push(n),r.push(o),i.ApplySolToContainer(),e.ApplySolToContainer()}_.Retrigger(c,G),r.PopSol(t)}}else VS(p,n,o)}RS.clearArray(XS)}return o.Pop(),!1},jS.IsOverlapping=function(e){return e=TS(e),vS(xS(this),e,0,0)},jS.IsOverlappingOffset=function(e,t,n){return e=TS(e),vS(xS(this),e,t,n)},jS.OnHierarchyReady=function(){return!0},jS.HasParent=function(){return IS(this).HasParent()},jS.HasChildren=function(){return IS(this).HasChildren()},jS.PickParent=function(e,t){const n=TS(this);e=TS(e);const s=n.GetRuntime(),r=this.GetCurrentSol().GetInstances();if(0===r.length)return!1;const o=e.GetCurrentSol();let a=o.GetInstances();if(o.IsSelectAll()){const t=[...s.instancesPendingCreateForObjectClass(e)];t.length>0&&(a=a.concat(t))}if(0===a.length)return!1;const i=o.IsSelectAll()?null:new Set(a),l=new Set;for(let n=0,s=r.length;n<s;++n){const s=r[n];if(1===t)for(const t of s.parents())t.BelongsToObjectClass(e)&&(null===i||i.has(t))&&l.add(t);else{let n;if(0===t){if(n=s.GetParent(),null===n)continue}else n=s.GetTopParent();n.BelongsToObjectClass(e)&&(null===i||i.has(n))&&l.add(n)}}return 0!==l.size&&(o.SetSetPicked(l),e.ApplySolToContainer(),!0)},jS.PickChildren=function(e,t){const n=TS(this);e=TS(e);const s=n.GetRuntime(),r=n.GetCurrentSol().GetInstances();if(0===r.length)return!1;const o=e.GetCurrentSol();let a=o.GetInstances();if(o.IsSelectAll()){const t=[...s.instancesPendingCreateForObjectClass(e)];t.length>0&&(a=a.concat(t))}if(0===a.length)return!1;const i=o.IsSelectAll()?null:new Set(a),l=new Set;for(let n=0,s=r.length;n<s;++n){const s=r[n];2!==t||s.HasChildren()||!s.BelongsToObjectClass(e)||null!==i&&!i.has(s)||l.add(s);for(const n of 0===t?s.children():s.allChildren())2===t&&n.HasChildren()||n.BelongsToObjectClass(e)&&(null===i||i.has(n))&&l.add(n)}return 0!==l.size&&(o.SetSetPicked(l),e.ApplySolToContainer(),!0)},jS.PickNthChild=function(e,t,n){const s=TS(this);e=TS(e);const r=s.GetRuntime(),o=s.GetCurrentSol().GetInstances();if(0===o.length)return!1;const a=e.GetCurrentSol();let i=a.GetInstances();if(a.IsSelectAll()){const t=[...r.instancesPendingCreateForObjectClass(e)];t.length>0&&(i=i.concat(t))}if(0===i.length)return!1;const l=a.IsSelectAll()?null:new Set(i),d=[];for(let s=0,r=o.length;s<r;++s){const r=o[s];if(0===t){const t=r.GetChildAt(n);null!==t&&t.BelongsToObjectClass(e)&&(null===l||l.has(t))&&d.push(t)}else if(1===t)for(const t of r.children())if(t.BelongsToObjectClass(e)){if(0===n){(null===l||l.has(t))&&d.push(t);break}--n}}return 0!==d.length&&(a.SetArrayPicked(d),e.ApplySolToContainer(),!0)},jS.CompareChildCount=function(e,t,n){const s=xS(this);switch(e){case 0:default:return RS.compare(s.GetChildCount(),t,n);case 1:return RS.compare(s.GetAllChildCount(),t,n)}},jS.AddChild=function(e,t,n,s,r,o,a,i,l,d){e=TS(e);const c=xS(this),u=WS.GetCurrentAction().GetObjectClass();for(const h of e.allCorrespondingInstances(c,u)){if(!h.GetPlugin().SupportsSceneGraph())return;c.AddChild(h,{transformX:t,transformY:n,transformWidth:s,transformHeight:r,transformAngle:o,transformOpacity:a,transformZElevation:i,transformVisibility:l,destroyWithParent:d})}},jS.RemoveChild=function(e){e=TS(e);const t=xS(this),n=WS.GetCurrentAction().GetObjectClass();for(const s of e.allCorrespondingInstances(t,n))t.RemoveChild(s)},jS.RemoveFromParent=function(){const e=xS(this);e.HasParent()&&e.GetParent().RemoveChild(e)},jS.ParentUID=function(){const e=xS(this).GetParent();return e?e.GetUID():-1},jS.ChildCount=function(){return xS(this).GetChildCount()},jS.AllChildCount=function(){return xS(this).GetAllChildCount()},jS.SetMeshSize=function(e,t){e=Math.floor(e),t=Math.floor(t);const n=IS(this);e<2||t<2||!isFinite(e)||!isFinite(t)?(n.ReleaseMesh(),n.SetBboxChanged()):n.CreateMesh(e,t)},jS.SetMeshPoint=function(e,t,n,s,r,o,a,i){const l=IS(this);l.SetMeshPoint(e,t,{mode:0===n?"absolute":"relative",x:s,y:r,zElevation:o,u:a,v:i})&&l.SetBboxChanged()},jS.MeshColumns=function(){const e=IS(this);return e.HasMesh()?e.GetSourceMesh().GetHSize():0},jS.MeshRows=function(){const e=IS(this);return e.HasMesh()?e.GetSourceMesh().GetVSize():0},jS.SetElementVisible=function(e){const t=IS(this);e=2===e?!t.IsVisible():0!==e,t.IsVisible()!==e&&t.SetVisible(e)},jS.SetElementCSSStyle=function(e,t){this instanceof self.IInstance?this.setElementCSSStyle(e,t):this.SetElementCSSStyle(e,t)},jS.SetElementAttribute=function(e,t){this instanceof self.IInstance?this.setElementAttribute(e,""+t):this.SetElementAttribute(e,""+t)},jS.RemoveElementAttribute=function(e){this instanceof self.IInstance?this.removeElementAttribute(e):this.RemoveElementAttribute(e)},jS.SetElementFocus=function(){this instanceof self.IInstance?this.focusElement():this.FocusElement()},jS.SetElementBlur=function(){this instanceof self.IInstance?this.blurElement():this.BlurElement()},jS.IsElementFocused=function(){return this instanceof self.IInstance?this.isElementFocused():this.IsElementFocused()},jS.SetElementEnabled=function(e){this instanceof self.IInstance?this._setEnabled(0!==e):this._SetEnabled(0!==e)},jS.IsElementEnabled=function(){return this instanceof self.IInstance?this._isEnabled():this._IsEnabled()},kS.CompareInstanceVar=function(e,t,n){return RS.compare(this.GetInstance().GetInstanceVariableValue(e),t,n)},LS.CompareInstanceVar=function(e,t,n){return RS.compare(yS(this).GetInstanceVariableValue(e),t,n)},kS.IsBoolInstanceVarSet=function(e){return!!this.GetInstance().GetInstanceVariableValue(e)},LS.IsBoolInstanceVarSet=function(e){return!!yS(this).GetInstanceVariableValue(e)},jS.PickInstVarHiLow=function(e,t){const n=TS(this),s=n.GetCurrentSol(),r=s.GetInstances();if(!r.length)return!1;const o=n.IsFamily();let a=null,i=0;for(let s=0,l=r.length;s<l;++s){const l=r[s],d=o?l.GetObjectClass().GetFamilyInstanceVariableOffset(n.GetFamilyIndex()):0,c=l.GetInstanceVariableValue(d+t);(null===a||0===e&&c<i||1===e&&c>i)&&(i=c,a=l)}return s.PickOne(a),!0},jS.PickByUID=function(e){const t=TS(this);return t.GetRuntime().GetCurrentCondition().IsInverted()?DS(t,e):AS(t,e)},jS.HasTags=function(e){const t=new Set(RS.splitStringAndNormalize(e)),n=xS(this).GetTagsSet();return t.isSubsetOf(n)},jS.Tags=function(){return xS(this).GetTagsString()},jS.TagsCount=function(){return xS(this).GetTagsSet().size},jS.TagAt=function(e){return xS(this).GetTagAt(e)},jS.ChangeTags=function(e,t){const n=RS.splitStringAndNormalize(t);if(0===n.length)return;const s=xS(this),r=new Set(s.GetTagsSet());if(0===e)for(const e of n)r.add(e);else if(1===e)for(const e of n)r.delete(e);s.SetTagsSet(r)},jS.Destroy=function(){WS.DestroyInstance(xS(this))},jS.OnCreated=function(){return!0},jS.OnDestroyed=function(){return!0},kS.SetInstanceVar=function(e,t){this.GetInstance().SetInstanceVariableValue(e,t)},LS.SetInstanceVar=function(e,t){yS(this).SetInstanceVariableValue(e,t)},kS.AddInstanceVar=function(e,t){const n=this.GetInstance(),s=n.GetInstanceVariableValue(e);"number"==typeof s&&"number"!=typeof t?t=parseFloat(t):"string"==typeof s&&"string"!=typeof t&&(t=t.toString()),n.SetInstanceVariableValue(e,s+t)},LS.AddInstanceVar=function(e,t){const n=yS(this),s=n.GetInstanceVariableValue(e);"number"==typeof s&&"number"!=typeof t?t=parseFloat(t):"string"==typeof s&&"string"!=typeof t&&(t=t.toString()),n.SetInstanceVariableValue(e,s+t)},kS.SubInstanceVar=function(e,t){const n=this.GetInstance(),s=n.GetInstanceVariableValue(e);"number"==typeof s&&("number"!=typeof t&&(t=parseFloat(t)),n.SetInstanceVariableValue(e,s-t))},LS.SubInstanceVar=function(e,t){const n=yS(this),s=n.GetInstanceVariableValue(e);"number"==typeof s&&("number"!=typeof t&&(t=parseFloat(t)),n.SetInstanceVariableValue(e,s-t))},kS.SetBoolInstanceVar=function(e,t){this.GetInstance().SetInstanceVariableValue(e,t?1:0)},LS.SetBoolInstanceVar=function(e,t){yS(this).SetInstanceVariableValue(e,t?1:0)},kS.ToggleBoolInstanceVar=function(e){const t=this.GetInstance();t.SetInstanceVariableValue(e,0===t.GetInstanceVariableValue(e)?1:0)},LS.ToggleBoolInstanceVar=function(e){const t=yS(this);t.SetInstanceVariableValue(e,0===t.GetInstanceVariableValue(e)?1:0)},jS.LoadFromJsonString=function(e){let t;try{t=JSON.parse(e)}catch(e){return void console.error("Failed to load from JSON string: ",e)}const n=xS(this),s="state";WS.ClearIntancesNeedingAfterLoad(),n._OnBeforeLoad(s),n.LoadFromJson(t,s),WS.DoAfterLoad(s,{setFromJson:!0})},jS.AsJSON=function(){return JSON.stringify(xS(this).SaveToJson("state"))},jS.ObjectTypeName=function(){return xS(this).GetObjectClass().GetName()},jS.Count=function(){const e=WS.GetCurrentEventStackFrame().GetExpressionObjectClass();let t=e.GetInstanceCount();for(const n of WS.instancesPendingCreateForObjectClass(e))++t;return t},jS.PickedCount=function(){return WS.GetCurrentEventStackFrame().GetExpressionObjectClass().GetCurrentSol().GetInstances().length},kS.GetIID=function(){return this.GetInstance().GetIID()},LS.GetIID=function(){return yS(this).GetIID()},kS.GetUID=function(){return this.GetInstance().GetUID()},LS.GetUID=function(){return yS(this).GetUID()},jS.OnInstanceSignal=function(e){const t=xS(this);return e.toLowerCase()===WS.GetEventSheetManager().GetCurrentInstanceSignalTag(t)},jS.InstanceSignal=function(e){const t=xS(this);WS.GetEventSheetManager().InstanceSignal(t,e)},jS.InstanceWaitForSignal=function(e){const t=TS(this);return WS.GetEventSheetManager().AddScheduledWait().InitInstanceSignals(t.GetCurrentSol().GetInstances(),e),!0},jS.TemplateName=function(){return xS(this).GetTemplateName()},RS.AddCommonACEs=function(e,t,n){const s=e[1],r=e[3],o=e[4],a=e[5],i=e[6],l=e[7],d=e[8],c=e[10],u=e[11],h=e[12],_=e[13],G=e[14],p=e[15],m=e[16],g=t.Cnds,f=t.Acts,N=t.Exps,b=Object.assign({},jS,n>=2?LS:kS);r&&(g.CompareX=b.CompareX,g.CompareY=b.CompareY,g.IsOnScreen=b.IsOnScreen,g.IsOutsideLayout=b.IsOutsideLayout,g.PickDistance=b.PickDistance,f.SetX=b.SetX,f.SetY=b.SetY,f.SetPos=b.SetPos,f.SetPosToObject=b.SetPosToObject,f.MoveForward=b.MoveForward,f.MoveAtAngle=b.MoveAtAngle,N.X=b.GetX,N.Y=b.GetY,N.dt=b.GetDt),o&&(g.CompareWidth=b.CompareWidth,g.CompareHeight=b.CompareHeight,f.SetWidth=b.SetWidth,f.SetHeight=b.SetHeight,f.SetSize=b.SetSize,N.Width=b.GetWidth,N.Height=b.GetHeight,N.BBoxLeft=b.GetBboxLeft,N.BBoxTop=b.GetBboxTop,N.BBoxRight=b.GetBboxRight,N.BBoxBottom=b.GetBboxBottom,N.BBoxMidX=b.GetBboxMidX,N.BBoxMidY=b.GetBboxMidY),a&&(g.AngleWithin=b.IsAngleWithin,g.IsClockwiseFrom=b.IsAngleClockwiseFrom,g.IsBetweenAngles=b.IsBetweenAngles,f.SetAngle=b.SetAngle,f.RotateClockwise=b.RotateClockwise,f.RotateCounterclockwise=b.RotateCounterclockwise,f.RotateTowardAngle=b.RotateTowardAngle,f.RotateTowardPosition=b.RotateTowardPosition,f.SetTowardPosition=b.SetTowardPosition,N.Angle=b.GetAngle),i&&(g.IsVisible=b.IsVisible,g.CompareOpacity=b.CompareOpacity,f.SetVisible=b.SetVisible,f.SetOpacity=b.SetOpacity,f.SetDefaultColor=b.SetDefaultColor,N.Opacity=b.GetOpacity,N.ColorValue=b.GetColor),l&&(g.IsOnLayer=b.IsOnLayer,g.PickTopBottom=b.PickTopBottom,g.CompareZElevation=b.CompareZElevation,f.MoveToTop=b.MoveToTop,f.MoveToBottom=b.MoveToBottom,f.MoveToLayer=b.MoveToLayer,f.ZMoveToObject=b.ZMoveToObject,f.SetZElevation=b.SetZElevation,N.LayerNumber=b.LayerNumber,N.LayerName=b.LayerName,N.ZIndex=b.ZIndex,N.ZElevation=b.ZElevation,N.TotalZElevation=b.TotalZElevation),d&&(g.IsEffectEnabled=b.IsEffectEnabled,f.SetEffectEnabled=b.SetEffectEnabled,f.SetEffectParam=b.SetEffectParam),_&&(g.OnHierarchyReady=b.OnHierarchyReady,g.HasParent=b.HasParent,g.HasChildren=b.HasChildren,g.PickParent=b.PickParent,g.PickChildren=b.PickChildren,g.PickNthChild=b.PickNthChild,g.CompareChildCount=b.CompareChildCount,f.AddChild=b.AddChild,f.RemoveChild=b.RemoveChild,f.RemoveFromParent=b.RemoveFromParent,N.ParentUID=b.ParentUID,N.ChildCount=b.ChildCount,N.AllChildCount=b.AllChildCount),G&&(f.SetMeshSize=b.SetMeshSize,f.SetMeshPoint=b.SetMeshPoint,N.MeshColumns=b.MeshColumns,N.MeshRows=b.MeshRows),c&&(g.IsVisible=b.IsVisible,f.SetVisible=b.SetElementVisible,f.SetCSSStyle=b.SetElementCSSStyle,f.SetElemAttribute=b.SetElementAttribute,f.RemoveElemAttribute=b.RemoveElementAttribute),u&&(g.IsFocused=b.IsElementFocused,f.SetFocus=b.SetElementFocus,f.SetBlur=b.SetElementBlur),h&&(g.IsEnabled=b.IsElementEnabled,f.SetEnabled=b.SetElementEnabled),p&&(g.OnCollision=b.OnCollision,g.IsOverlapping=b.IsOverlapping,g.IsOverlappingOffset=b.IsOverlappingOffset,t.FinishCollisionCondition=wS),s||(g.CompareInstanceVar=b.CompareInstanceVar,g.IsBoolInstanceVarSet=b.IsBoolInstanceVarSet,g.PickInstVarHiLow=b.PickInstVarHiLow,g.PickByUID=b.PickByUID,g.HasTags=b.HasTags,f.SetInstanceVar=b.SetInstanceVar,f.AddInstanceVar=b.AddInstanceVar,f.SubInstanceVar=b.SubInstanceVar,f.SetBoolInstanceVar=b.SetBoolInstanceVar,f.ToggleBoolInstanceVar=b.ToggleBoolInstanceVar,f.ChangeTags=b.ChangeTags,g.OnCreated=b.OnCreated,g.OnDestroyed=b.OnDestroyed,f.Destroy=b.Destroy,f.LoadFromJsonString||(f.LoadFromJsonString=b.LoadFromJsonString),N.AsJSON||(N.AsJSON=b.AsJSON),N.Count=b.Count,N.PickedCount=b.PickedCount,N.IID=b.GetIID,N.UID=b.GetUID,N.ObjectTypeName=b.ObjectTypeName,N.Tags=b.Tags,N.TagsCount=b.TagsCount,N.TagAt=b.TagAt,g.OnInstanceSignal=b.OnInstanceSignal,f.InstanceSignal=b.InstanceSignal,f.InstanceWaitForSignal=b.InstanceWaitForSignal),m&&(N.TemplateName=b.TemplateName)}}{const ex=self.C3;ex.ScheduledWait=class extends ex.DefendedBase{constructor(e){super(),this._eventSheetManager=e,this._type="",this._time=-1,this._signalTag="",this._isSignalled=!1,this._event=null,this._actIndex=0,this._solModifiers=[],this._dynamicSolModifiers=null,this._sols=new Map,this._pendingInstances=null,this._callingFunctionBlock=null,this._asyncId=-1,this._functionParameters=null,this._functionInnerLocalVars=null,this._shouldRelease=!1}Release(){this._type="",this._time=-1,this._signalTag="",this._event=null,this._callingFunctionBlock=null,this._functionParameters=null,this._functionInnerLocalVars=null,this._asyncId=-1,ex.clearArray(this._solModifiers),this._dynamicSolModifiers&&(this._dynamicSolModifiers.clear(),this._dynamicSolModifiers=null);for(const e of this._sols.values())e.Release();this._sols.clear(),this._pendingInstances=null}_Init(){const e=this._eventSheetManager,t=e.GetRuntime().GetAllObjectClasses(),n=e.GetCurrentEventStackFrame();this._event=n.GetCurrentEvent(),this._actIndex=n.GetActionIndex()+1;const s=e.FindFirstFunctionBlockParent(this._event);s&&(this._callingFunctionBlock=s,this._functionParameters=s.CaptureFunctionParameters(),this._functionInnerLocalVars=s._GetAllInnerLocalVariables().map(e=>e.GetValue()),s.IsAsync()&&(this._asyncId=s.PauseCurrentAsyncFunction()));for(const e of t){const t=e.GetCurrentSol();t.IsSelectAll()&&!this._event.HasSolModifier(e)||(this._solModifiers.push(e),this._sols.set(e,ex.New(ex.SolState,t)))}const r=e.GetDynamicSolModifiersSet();this._dynamicSolModifiers=r.size>0?r:null}InitTimer(e){this._type="timer",this._Init(),this._time=this._eventSheetManager.GetRuntime().GetGameTime()+e}InitWallTimer(e){this._type="walltimer",this._Init(),this._time=this._eventSheetManager.GetRuntime().GetWallTime()+e}InitSignal(e){this._type="signal",this._Init(),this._signalTag=e.toLowerCase()}InitInstanceSignals(e,t){this._type="instance-signals",this._Init(),this._signalTag=t.toLowerCase(),this._pendingInstances=new Set(e)}InitPromise(e){this._type="promise",this._Init(),e.then(()=>this.SetSignalled()).catch(e=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",e),this.SetSignalled()})}IsTimer(){return"timer"===this._type}IsWallTimer(){return"walltimer"===this._type}IsSignal(){return"signal"===this._type}IsInstanceSignals(){return"instance-signals"===this._type}IsPromise(){return"promise"===this._type}GetSignalTag(){return this._signalTag}IsSignalled(){return this._isSignalled}SetSignalled(){this._isSignalled=!0}SetInstanceSignalled(e){this._pendingInstances.delete(e),0===this._pendingInstances.size&&this.SetSignalled()}_ShouldRun(){return this.IsTimer()?this._time<=this._eventSheetManager.GetRuntime().GetGameTime():this.IsWallTimer()?this._time<=this._eventSheetManager.GetRuntime().GetWallTime():this.IsSignalled()}_RestoreState(e){e._Restore(this._event,this._actIndex);for(const[e,t]of this._sols.entries()){const n=e.GetCurrentSol();t._Restore(n)}this._dynamicSolModifiers&&e.SetDynamicSolModifiers([...this._dynamicSolModifiers]);const t=this._callingFunctionBlock;t&&(t.SetFunctionParameters(this._functionParameters),t._GetAllInnerLocalVariables().map((e,t)=>e.SetValue(this._functionInnerLocalVars[t])),t.IsAsync()&&t.ResumeAsyncFunction(this._asyncId))}_Run(e){this._RestoreState(e),this._event._ResumeActionsAndSubEvents(e),this._callingFunctionBlock&&this._callingFunctionBlock.IsAsync()&&this._callingFunctionBlock.MaybeFinishAsyncFunctionCall(this._asyncId),this._eventSheetManager.ClearSol(this._solModifiers),this._shouldRelease=!0}async _DebugRun(e){this._RestoreState(e);for(const t of this._event._DebugResumeActionsAndSubEvents(e))await this._eventSheetManager.GetRuntime().DebugBreak(t);this._callingFunctionBlock&&this._callingFunctionBlock.IsAsync()&&this._callingFunctionBlock.MaybeFinishAsyncFunctionCall(this._asyncId),this._eventSheetManager.ClearSol(this._solModifiers),this._shouldRelease=!0}ShouldRelease(){return this._shouldRelease}RemoveInstances(e){for(const t of this._sols.values())t.RemoveInstances(e);if("instance-signals"===this._type){for(const t of e)this._pendingInstances.delete(t);0===this._pendingInstances.size&&this.SetSignalled()}}_SaveToJson(){const e={},t={wt:this._type,t:this._time,st:this._signalTag,s:this._isSignalled,ev:this._event.GetSID(),sm:this._solModifiers.map(e=>e.GetSID()),dsm:this._dynamicSolModifiers?[...this._dynamicSolModifiers].map(e=>e.GetSID()):null,sols:e};this._event._HasActionIndex(this._actIndex)&&(t.act=this._event.GetActionAt(this._actIndex).GetSID());for(const[t,n]of this._sols)e[t.GetSID().toString()]=n._SaveToJson();return"instance-signals"===this._type&&(t.pi=[...this._pendingInstances].map(e=>e.GetUID())),t}static _CreateFromJson(e,t){const n=e.GetRuntime(),s=e.GetEventBlockBySID(t.ev);if(!s)return null;let r=0;if(t.hasOwnProperty("act")){const n=e.GetActionBySID(t.act);if(!n)return null;r=n.GetIndex()}const o=ex.New(ex.ScheduledWait,e);o._time=t.t,t.hasOwnProperty("wt")?o._type=t.wt:o._type=-1===o._time?"signal":"timer",o._signalTag=t.st,o._isSignalled=t.s,o._event=s,o._actIndex=r;for(const e of t.sm){const t=n.GetObjectClassBySID(e);t&&o._solModifiers.push(t)}if(Array.isArray(t.dsm))for(const e of t.dsm){const t=n.GetObjectClassBySID(e);t&&(o._dynamicSolModifiers||(o._dynamicSolModifiers=new Set),o._dynamicSolModifiers.add(t))}for(const[s,r]of Object.entries(t.sols)){const t=parseInt(s,10),a=n.GetObjectClassBySID(t);if(!a)continue;const i=ex.New(ex.SolState,null);i._LoadFromJson(e,r),o._sols.set(a,i)}if("instance-signals"===o._type){o._pendingInstances=new Set;for(const e of t.pi){const t=n.GetInstanceByUID(e);t&&o._pendingInstances.add(t)}}return o}}}{const tx=self.C3;tx.SolState=class extends tx.DefendedBase{constructor(e){super(),this._objectClass=null,this._isSelectAll=!0,this._instances=[],e&&(this._objectClass=e.GetObjectClass(),this._isSelectAll=e.IsSelectAll(),tx.shallowAssignArray(this._instances,e._GetOwnInstances()))}Release(){this._objectClass=null,tx.clearArray(this._instances)}_Restore(e){e._SetSelectAll(this._isSelectAll),tx.shallowAssignArray(e._GetOwnInstances(),this._instances)}RemoveInstances(e){tx.arrayRemoveAllInSet(this._instances,e)}_SaveToJson(){return{sa:this._isSelectAll,insts:this._instances.map(e=>e.GetUID())}}_LoadFromJson(e,t){const n=e.GetRuntime();this._isSelectAll=!!t.sa,tx.clearArray(this._instances);for(const e of t.insts){const t=n.GetInstanceByUID(e);t&&this._instances.push(t)}}}}{let nx=function(e,t){let n=e.get(t);return n||(n=new Map,e.set(t,n)),n};GetNextParamMap=nx;const sx=self.C3;sx.SDKPluginBase=class extends sx.DefendedBase{constructor(e){super(),this._runtime=e.runtime,this._id=e.id,this._name=e.name??"",this._isSingleGlobal=!!e.isSingleGlobal,this._isWorldType=!!e.isWorld,this._isRotatable=!!e.isRotatable,this._mustPredraw=!!e.mustPredraw,this._hasEffects=!!e.hasEffects,this._supportsSceneGraph=!!e.supportsSceneGraph,this._supportsMesh=!!e.supportsMesh,this._isHTMLElementType=!!e.isHTMLElementType,this._is3d=!!e.is3d,this._sdkVersion=e.sdkVersion,this._singleGlobalObjectClass=null,this._boundACEMethodCache=new Map,this._boundACEMethodCache_1param=new Map,this._boundACEMethodCache_2params=new Map,this._boundACEMethodCache_3params=new Map,this._scriptInterfaceClass=e.scriptInterfaceClass,this._iPlugin=null}Release(){this._runtime=null}GetRuntime(){return this._runtime}GetID(){return this._id}GetName(){return this._name}OnCreate(){}GetConstructor(){return this.GetSdkVersion()>=2?this._iPlugin.constructor:this.constructor}GetSdkVersion(){return this._sdkVersion}GetScriptInterfaceClass(e=!1){let t=this._scriptInterfaceClass;return e&&"function"!=typeof t&&this.GetSdkVersion()>=2&&(t=globalThis.ISDKPluginBase),t}IsSingleGlobal(){return this._isSingleGlobal}IsWorldType(){return this._isWorldType}IsHTMLElementType(){return this._isHTMLElementType}Is3D(){return this._is3d}IsRotatable(){return this._isRotatable}MustPreDraw(){return this._mustPredraw}HasEffects(){return this._hasEffects}SupportsSceneGraph(){return this._supportsSceneGraph}SupportsMesh(){return this._supportsMesh}_GetBoundACEMethod(e,t){if(!t)throw new Error("missing 'this' binding");let n=this._boundACEMethodCache.get(e);return n||(n=e.bind(t),this._boundACEMethodCache.set(e,n),n)}_GetBoundACEMethod_1param(e,t,n){if(!t)throw new Error("missing 'this' binding");const s=nx(this._boundACEMethodCache_1param,e);let r=s.get(n);return r||(r=e.bind(t,n),s.set(n,r),r)}_GetBoundACEMethod_2params(e,t,n,s){if(!t)throw new Error("missing 'this' binding");const r=nx(this._boundACEMethodCache_2params,e),o=nx(r,n);let a=o.get(s);return a||(a=e.bind(t,n,s),o.set(s,a),a)}_GetBoundACEMethod_3params(e,t,n,s,r){if(!t)throw new Error("missing 'this' binding");const o=nx(this._boundACEMethodCache_3params,e),a=nx(o,n),i=nx(a,s);let l=i.get(r);return l||(l=e.bind(t,n,s,r),i.set(r,l),l)}_SetSingleGlobalObjectClass(e){if(!this.IsSingleGlobal())throw new Error("must be single-global plugin");this._singleGlobalObjectClass=e}GetSingleGlobalObjectClass(){if(!this.IsSingleGlobal())throw new Error("must be single-global plugin");return this._singleGlobalObjectClass}GetSingleGlobalInstance(){if(!this.IsSingleGlobal())throw new Error("must be single-global plugin");return this._singleGlobalObjectClass.GetSingleGlobalInstance()}_InitScriptInterface(){const e=this.GetSdkVersion();sx.AddonManager._PushInitObject(this,e);const t=this.GetScriptInterfaceClass(!0);if(t){if(this._iPlugin=new t,!(this._iPlugin instanceof self.IPlugin))throw new TypeError("plugin class must derive from IPlugin")}else this._iPlugin=new self.IPlugin;sx.AddonManager._PopInitObject(e)}GetIPlugin(){return this._iPlugin}}}{const rx=self.C3;rx.SDKDOMPluginBase=class extends rx.SDKPluginBase{constructor(e,t){super(e),this._domComponentId=t,this._nextElementId=0,this._instMap=new Map,this.AddElementMessageHandler("elem-focused",e=>e._OnElemFocused()),this.AddElementMessageHandler("elem-blurred",e=>{e&&e._OnElemBlurred()})}Release(){super.Release()}_AddElement(e){const t=this._nextElementId++;return this._instMap.set(t,e),t}_RemoveElement(e){this._instMap.delete(e)}AddElementMessageHandler(e,t){this._runtime.AddDOMComponentMessageHandler(this._domComponentId,e,e=>{const n=this._instMap.get(e.elementId);t(n,e)})}}}{const ox=self.C3;ox.SDKTypeBase=class extends ox.DefendedBase{constructor(e){super(),this._objectClass=e,this._runtime=e.GetRuntime(),this._plugin=e.GetPlugin()}Release(){this._objectClass=null,this._runtime=null,this._plugin=null}GetObjectClass(){return this._objectClass}GetRuntime(){return this._runtime}GetPlugin(){return this._plugin}GetImageInfo(){return this._objectClass.GetImageInfo()}OnCreate(){}FinishCondition(e){}BeforeRunAction(e){}AfterRunAction(e){}LoadTextures(e){}ReleaseTextures(){}OnDynamicTextureLoadComplete(){}PreloadTexturesWithInstances(e){}LoadTilemapData(){}GetScriptInterfaceClass(){return null}DispatchScriptEvent(e,t,n){const s=ox.New(ox.Event,e,t);s.objectClass=this,n&&Object.assign(s,n),this.GetObjectClass().DispatchUserScriptEvent(s)}}}{const ax=self.C3;ax.SDKInstanceBase=class extends ax.DefendedBase{constructor(e,t){super(),this._inst=e,this._domComponentId=t,this._wrapperComponentId=null,this._runtime=e.GetRuntime(),this._objectClass=this._inst.GetObjectClass(),this._sdkType=this._objectClass.GetSdkType(),this._tickFunc=null,this._tick2Func=null,this._isTicking=!1,this._isTicking2=!1,this._disposables=null,this._wasReleased=!1}Release(){this._wasReleased=!0,this._StopTicking(),this._StopTicking2(),this._tickFunc=null,this._tick2Func=null,this._disposables&&(this._disposables.Release(),this._disposables=null),this._inst=null,this._runtime=null,this._objectClass=null,this._sdkType=null}WasReleased(){return this._wasReleased}GetInstance(){return this._inst}GetRuntime(){return this._runtime}GetObjectClass(){return this._objectClass}GetPlugin(){return this._sdkType.GetPlugin()}GetSdkType(){return this._sdkType}GetScriptInterface(){return this._inst.GetInterfaceClass()}Trigger(e){return this._runtime.Trigger(e,this._inst,null)}DebugTrigger(e){return this._runtime.DebugTrigger(e,this._inst,null)}TriggerAsync(e){return this._runtime.TriggerAsync(e,this._inst,null)}FastTrigger(e,t){return this._runtime.FastTrigger(e,this._inst,t)}DebugFastTrigger(e,t){return this._runtime.DebugFastTrigger(e,this._inst,t)}ScheduleTriggers(e){return this._runtime.ScheduleTriggers(e)}AddDOMMessageHandler(e,t){this._runtime.AddDOMComponentMessageHandler(this._domComponentId,e,t)}AddDOMMessageHandlers(e){for(const[t,n]of e)this.AddDOMMessageHandler(t,n)}PostToDOM(e,t){this._runtime.PostComponentMessageToDOM(this._domComponentId,e,t)}PostToDOMAsync(e,t){return this._runtime.PostComponentMessageToDOMAsync(this._domComponentId,e,t)}_PostToDOMMaybeSync(e,t){if(!this._runtime.IsInWorker())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this._domComponentId,handler:e,data:t,responseId:null});this.PostToDOM(e,t)}SetWrapperExtensionComponentId(e){if(!e)throw new Error("cannot set empty component id");this._wrapperComponentId=e}IsWrapperExtensionAvailable(){if(!this._wrapperComponentId)throw new Error("wrapper extension component id not set");return this._runtime.HasWrapperComponentId(this._wrapperComponentId)}AddWrapperExtensionMessageHandler(e,t){if(!this._wrapperComponentId)throw new Error("wrapper extension component id not set");this._runtime.AddWrapperExtensionMessageHandler(this._wrapperComponentId,e,t)}AddWrapperExtensionMessageHandlers(e){for(const[t,n]of e)this.AddWrapperExtensionMessageHandler(t,n)}SendWrapperExtensionMessage(e,t){if(!this._wrapperComponentId)throw new Error("wrapper extension component id not set");this._runtime.SendWrapperExtensionMessage(this._wrapperComponentId,e,t)}SendWrapperExtensionMessageAsync(e,t){if(!this._wrapperComponentId)throw new Error("wrapper extension component id not set");return this._runtime.SendWrapperExtensionMessageAsync(this._wrapperComponentId,e,t)}Tick(){}Tick2(){}_StartTicking(){if(!this._isTicking){if(!this._tickFunc)if(this._runtime.IsDebug()){const e=globalThis.C3Debugger,t=this.GetPlugin();this._tickFunc=()=>{const n=performance.now();this.Tick(),e.AddIndividualPluginTickTime(t,performance.now()-n)}}else this._tickFunc=()=>this.Tick();this._runtime.Dispatcher().addEventListener("tick",this._tickFunc),this._isTicking=!0}}_StopTicking(){this._isTicking&&(this._runtime.Dispatcher().removeEventListener("tick",this._tickFunc),this._isTicking=!1)}IsTicking(){return this._isTicking}_StartTicking2(){if(!this._isTicking2){if(!this._tick2Func)if(this._runtime.IsDebug()){const e=globalThis.C3Debugger,t=this.GetPlugin();this._tick2Func=()=>{const n=performance.now();this.Tick2(),e.AddIndividualPluginTickTime(t,performance.now()-n)}}else this._tick2Func=()=>this.Tick2();this._runtime.Dispatcher().addEventListener("tick2",this._tick2Func),this._isTicking2=!0}}_StopTicking2(){this._isTicking2&&(this._runtime.Dispatcher().removeEventListener("tick2",this._tick2Func),this._isTicking2=!1)}IsTicking2(){return this._isTicking2}GetDebuggerProperties(){return[]}SaveToJson(){return null}LoadFromJson(e){}GetPropertyValueByIndex(e){}SetPropertyValueByIndex(e,t){}OffsetPropertyValueByIndex(e,t,n){if(0===t)return;const s=this.GetPropertyValueByIndex(e);if("number"!=typeof s)throw new Error("expected number");this.SetPropertyValueByIndex(e,s+t,n)}SetPropertyColorOffsetValueByIndex(e,t,n,s){}CallAction(e,...t){e.call(this,...t)}CallExpression(e,...t){return e.call(this,...t)}GetScriptInterfaceClass(){return null}DispatchScriptEvent(e,t,n){if(!this._inst.HasScriptInterface())return;const s=this.GetScriptInterface(),r=ax.New(ax.Event,e,t);r.instance=s,n&&Object.assign(r,n),s.dispatchEvent(r)}MustPreDraw(){return!1}}}{const ix=self.C3;ix.SDKWorldInstanceBase=class extends ix.SDKInstanceBase{constructor(e,t){super(e,t),this._worldInfo=e.GetWorldInfo(),this._renderercontextlost_handler=null,this._renderercontextrestored_handler=null}Release(){if(this._renderercontextlost_handler){const e=this._runtime.Dispatcher();e.removeEventListener("renderercontextlost",this._renderercontextlost_handler),e.removeEventListener("renderercontextrestored",this._renderercontextrestored_handler),this._renderercontextlost_handler=null,this._renderercontextrestored_handler=null}this._worldInfo=null,super.Release()}HandleWebGLContextLoss(){this.HandleRendererContextLoss()}OnWebGLContextLost(){}OnWebGLContextRestored(){}HandleRendererContextLoss(){if(this._renderercontextlost_handler)return;this._renderercontextlost_handler=()=>this.OnRendererContextLost(),this._renderercontextrestored_handler=()=>this.OnRendererContextRestored();const e=this._runtime.Dispatcher();e.addEventListener("renderercontextlost",this._renderercontextlost_handler),e.addEventListener("renderercontextrestored",this._renderercontextrestored_handler)}OnRendererContextLost(){this.OnWebGLContextLost()}OnRendererContextRestored(){this.OnWebGLContextRestored()}GetWorldInfo(){return this._worldInfo}IsOriginalSizeKnown(){return!1}GetOriginalWidth(){if(!this.IsOriginalSizeKnown())throw new Error("original size not known");const e=this.GetCurrentImageInfo();if(e)return e.GetWidth()}GetOriginalHeight(){if(!this.IsOriginalSizeKnown())throw new Error("original size not known");const e=this.GetCurrentImageInfo();if(e)return e.GetHeight()}GetCurrentImageInfo(){return null}GetCurrentSurfaceSize(){const e=this.GetCurrentImageInfo();if(e){const t=e.GetTexture();if(t)return[t.GetWidth(),t.GetHeight()]}return[100,100]}GetCurrentTexRect(){const e=this.GetCurrentImageInfo();return e?e.GetTexRect():null}GetCurrentTexQuad(){const e=this.GetCurrentImageInfo();return e?e.GetTexQuad():null}IsCurrentTexRotated(){const e=this.GetCurrentImageInfo();return!!e&&e.IsRotated()}GetImagePoint(e){const t=this._inst.GetWorldInfo();return[t.GetX(),t.GetY(),t.GetTotalZElevation()]}LoadTilemapData(e,t,n){}TestPointOverlapTile(e,t){}RendersToOwnZPlane(){return!0}}}{const lx=self.C3,dx=lx.New(lx.Rect);lx.SDKDOMInstanceBase=class extends lx.SDKWorldInstanceBase{constructor(e,t){super(e,t),this._elementId=this.GetPlugin()._AddElement(this),this._isElementShowing=!0,this._elemHasFocus=!1,this._autoFontSize=!1,this._autoFontSizeOffset=-.2,this._lastRect=lx.New(lx.Rect,0,0,-1,-1);const n=this._runtime.GetCanvasManager();this._lastWindowWidth=n.GetLastWidth(),this._lastWindowHeight=n.GetLastHeight(),this._lastHTMLIndex=-1,this._lastHTMLZIndex=-1,this._isPendingUpdateState=!1,this._StartTicking()}Release(){this.GetPlugin()._RemoveElement(this._elementId),this.PostToDOMElement("destroy"),this._elementId=-1,super.Release()}_GetElementInDOMMode(){if(this._runtime.IsInWorker())throw new Error("not valid in worker mode");return this._PostToDOMElementMaybeSync("get-element")}PostToDOMElement(e,t){t||(t={}),t.elementId=this._elementId,this.PostToDOM(e,t)}_PostToDOMElementMaybeSync(e,t){return t||(t={}),t.elementId=this._elementId,this._PostToDOMMaybeSync(e,t)}PostToDOMElementAsync(e,t){return t||(t={}),t.elementId=this._elementId,this.PostToDOMAsync(e,t)}CreateElement(e){e||(e={});const t=this.GetWorldInfo();e.elementId=this._elementId,e.isVisible=t.IsVisible(),e.htmlIndex=t.GetLayer().GetHTMLIndex(),e.htmlZIndex=t.GetHTMLZIndex(),Object.assign(e,this.GetElementState()),this._isElementShowing=!!e.isVisible,this._PostToDOMMaybeSync("create",e),this._UpdatePosition(!0)}SetElementVisible(e){e=!!e,this._isElementShowing!==e&&(this._isElementShowing=e,this.PostToDOMElement("set-visible",{isVisible:e}))}Tick(){this._UpdatePosition(!1)}_ShouldPreserveElement(){const e=this._runtime.GetCanvasManager().GetFullscreenMode();return"Android"===lx.Platform.OS&&("scale-inner"===e||"scale-outer"===e||"crop"===e)}_UpdatePosition(e){if(this.GetInstance().IsDestroyed())return;const t=this.GetWorldInfo(),n=t.GetLayer(),s=t.GetBoundingBox();let[r,o]=n.LayerToCanvasCss(s.getLeft(),s.getTop()),[a,i]=n.LayerToCanvasCss(s.getRight(),s.getBottom());const l=this._runtime.GetCanvasManager(),d=l.GetCssWidth(),c=l.GetCssHeight();if(!t.IsVisible()||!n.IsVisible())return void this.SetElementVisible(!1);if(!this._ShouldPreserveElement()&&(a<=0||i<=0||r>=d||o>=c))return void this.SetElementVisible(!1);dx.set(r,o,a,i);const u=l.GetLastWidth(),h=l.GetLastHeight(),_=n.GetHTMLIndex(),G=t.GetHTMLZIndex();if(!e&&dx.equals(this._lastRect)&&this._lastWindowWidth===u&&this._lastWindowHeight===h&&this._lastHTMLIndex===_&&this._lastHTMLZIndex===G)return void this.SetElementVisible(!0);this._lastRect.copy(dx),this._lastWindowWidth=u,this._lastWindowHeight=h,this._lastHTMLIndex=_,this._lastHTMLZIndex=G,this.SetElementVisible(!0);let p=null;this._autoFontSize&&(p=n.GetDisplayScale()+this._autoFontSizeOffset),this._PostToDOMElementMaybeSync("update-position",{left:Math.round(this._lastRect.getLeft()),top:Math.round(this._lastRect.getTop()),width:Math.round(this._lastRect.width()),height:Math.round(this._lastRect.height()),htmlIndex:_,htmlZIndex:G,fontSize:p})}FocusElement(){this._PostToDOMElementMaybeSync("focus",{focus:!0})}BlurElement(){this._PostToDOMElementMaybeSync("focus",{focus:!1})}_OnElemFocused(){this._elemHasFocus=!0}_OnElemBlurred(){this._elemHasFocus=!1}IsElementFocused(){return this._elemHasFocus}SetElementCSSStyle(e,t){this.PostToDOMElement("set-css-style",{prop:lx.CSSToCamelCase(e),val:t})}SetElementAttribute(e,t){this.PostToDOMElement("set-attribute",{name:e,val:t})}RemoveElementAttribute(e){this.PostToDOMElement("remove-attribute",{name:e})}UpdateElementState(){this._isPendingUpdateState||(this._isPendingUpdateState=!0,Promise.resolve().then(()=>{this._isPendingUpdateState=!1,this.PostToDOMElement("update-state",this.GetElementState())}))}GetElementState(){}GetElementId(){return this._elementId}}}{const cx=self.C3,ux=self.IBehavior;cx.SDKBehaviorBase=class extends cx.DefendedBase{constructor(e){super(),this._runtime=e.runtime,this._id=e.id,this._name=e.name??"",this._myObjectClasses=cx.New(cx.ArraySet),this._myInstances=cx.New(cx.ArraySet),this._sdkVersion=e.sdkVersion,this._scriptInterfaceClass=e.scriptInterfaceClass,this._iBehavior=null}Release(){this._myInstances.Release(),this._myObjectClasses.Release(),this._runtime=null}GetRuntime(){return this._runtime}GetID(){return this._id}GetName(){return this._name}OnCreate(){}GetSdkVersion(){return this._sdkVersion}GetScriptInterfaceClass(e=!1){let t=this._scriptInterfaceClass;return e&&"function"!=typeof t&&this.GetSdkVersion()>=2&&(t=globalThis.ISDKBehaviorBase),t}_AddObjectClass(e){this._myObjectClasses.Add(e)}GetObjectClasses(){return this._myObjectClasses.GetArray()}_AddInstance(e){this._myInstances.Add(e)}_RemoveInstance(e){this._myInstances.Delete(e)}GetInstances(){return this._myInstances.GetArray()}_InitScriptInterface(){const e=this.GetSdkVersion();cx.AddonManager._PushInitObject(this,e);const t=this.GetScriptInterfaceClass(!0);if(t){if(this._iBehavior=new t,!(this._iBehavior instanceof ux))throw new TypeError("behavior class must derive from IBehavior")}else this._iBehavior=new ux;cx.AddonManager._PopInitObject(e)}GetIBehavior(){return this._iBehavior}}}{const hx=self.C3;hx.SDKBehaviorTypeBase=class extends hx.DefendedBase{constructor(e){super(),this._runtime=e.GetRuntime(),this._behaviorType=e,this._objectClass=e.GetObjectClass(),this._behavior=e.GetBehavior(),this._behavior._AddObjectClass(this._objectClass)}Release(){this._runtime=null,this._behaviorType=null,this._objectClass=null,this._behavior=null}OnCreate(){}GetBehaviorType(){return this._behaviorType}GetObjectClass(){return this._objectClass}GetRuntime(){return this._runtime}GetBehavior(){return this._behavior}}}{const _x=self.C3;_x.SDKBehaviorInstanceBase=class extends _x.DefendedBase{constructor(e,t){super(),this._behInst=e,this._domComponentId=t,this._inst=e.GetObjectInstance(),this._runtime=e.GetRuntime(),this._behaviorType=e.GetBehaviorType(),this._sdkType=this._behaviorType.GetSdkType(),this._isTicking=!1,this._isTicking2=!1,this._isPostTicking=!1,this._disposables=null}Release(){this._StopTicking(),this._StopTicking2(),this._StopPostTicking(),this._disposables&&(this._disposables.Release(),this._disposables=null),this._behInst=null,this._inst=null,this._runtime=null,this._behaviorType=null,this._sdkType=null}GetBehavior(){return this._behaviorType.GetBehavior()}GetBehaviorInstance(){return this._behInst}GetObjectInstance(){return this._inst}GetObjectClass(){return this._inst.GetObjectClass()}GetWorldInfo(){return this._inst.GetWorldInfo()}GetRuntime(){return this._runtime}GetBehaviorType(){return this._behaviorType}GetSdkType(){return this._sdkType}GetScriptInterface(){return this._behInst.GetScriptInterface()}Trigger(e){return this._runtime.Trigger(e,this._inst,this._behaviorType)}DebugTrigger(e){return this._runtime.DebugTrigger(e,this._inst,this._behaviorType)}TriggerAsync(e){return this._runtime.TriggerAsync(e,this._inst,this._behaviorType)}PostCreate(){}Tick(){}Tick2(){}PostTick(){}_StartTicking(){this._isTicking||(this._runtime._AddBehInstToTick(this),this._isTicking=!0)}_StopTicking(){this._isTicking&&(this._runtime._RemoveBehInstToTick(this),this._isTicking=!1)}IsTicking(){return this._isTicking}_StartTicking2(){this._isTicking2||(this._runtime._AddBehInstToTick2(this),this._isTicking2=!0)}_StopTicking2(){this._isTicking2&&(this._runtime._RemoveBehInstToTick2(this),this._isTicking2=!1)}IsTicking2(){return this._isTicking2}_StartPostTicking(){this._isPostTicking||(this._runtime._AddBehInstToPostTick(this),this._isPostTicking=!0)}_StopPostTicking(){this._isPostTicking&&(this._runtime._RemoveBehInstToPostTick(this),this._isPostTicking=!1)}IsPostTicking(){return this._isPostTicking}GetDebuggerProperties(){return[]}AddDOMMessageHandler(e,t){this._runtime.AddDOMComponentMessageHandler(this._domComponentId,e,t)}OnSpriteFrameChanged(e,t){}SaveToJson(){return null}LoadFromJson(e){}GetPropertyValueByIndex(e){}SetPropertyValueByIndex(e,t){}OffsetPropertyValueByIndex(e,t){if(0===t)return;const n=this.GetPropertyValueByIndex(e);if("number"!=typeof n)throw new Error("expected number");this.SetPropertyValueByIndex(e,n+t)}SetPropertyColorOffsetValueByIndex(e,t,n,s){}CallAction(e,...t){e.call(this,...t)}CallExpression(e,...t){return e.call(this,...t)}GetScriptInterfaceClass(){return null}DispatchScriptEvent(e,t,n){if(!this._behInst.HasScriptInterface())return;const s=this.GetScriptInterface(),r=_x.New(_x.Event,e,t);r.behaviorInstance=s,r.instance=s.instance,n&&Object.assign(r,n),s.dispatchEvent(r)}}}{let Gx=function(e){if(e!==mx)throw new Error("invalid internal API token")};ValidateInternalAPIToken=Gx;const px=self.C3;px.Plugins={},px.Behaviors={};const mx=px._GetInternalAPIToken();let gx=[],fx=[],Nx=[],bx=null,Sx=null,xx=null,Ix=null;const yx=new Map,Ex=new Map;px.AddonManager=class extends px.DefendedBase{constructor(e,t){super(),this._runtime=e,this._allPlugins=[],this._systemPlugin=null,this._allBehaviors=[],this._delayCreateBehaviors=new Map,this._solidBehavior=null,this._jumpthruBehavior=null,this._wrapperComponentIds=new Set(t)}CreatePlugin(e){const t=e[19],n=this._runtime.GetObjectReference(e[0]);if(!n)throw new Error("missing plugin");px.AddCommonACEs(e,n,t);const s=t>=2?px.SDKPluginBase:n,r=px.New(s,{runtime:this._runtime,isSingleGlobal:e[1],isWorld:e[2],isRotatable:e[5],hasEffects:e[8],mustPredraw:e[9],supportsSceneGraph:e[13],supportsMesh:e[14],isHTMLElementType:e[17],is3d:e[18],sdkVersion:t,id:e[20],name:e[21],scriptInterfaceClass:t>=2?n:null});r.OnCreate(),this._allPlugins.push(r),yx.set(n,r)}CreateSystemPlugin(){this._systemPlugin=px.New(px.Plugins.System,{runtime:this._runtime,isSingleGlobal:!0}),this._systemPlugin.OnCreate()}CreateBehavior(e){const t=e[1],n=e[2],s=e[3],r=this._runtime.GetObjectReference(e[0]);if(!r)throw new Error("missing behavior");this._delayCreateBehaviors.set(r,()=>{const e=t>=2?px.SDKBehaviorBase:r,o=px.New(e,{runtime:this._runtime,id:n,name:s,sdkVersion:t,scriptInterfaceClass:t>=2?r:null});o.OnCreate(),this._allBehaviors.push(o),Ex.set(r,o),!this._solidBehavior&&px.Behaviors.solid&&o instanceof px.Behaviors.solid?this._solidBehavior=o:!this._jumpthruBehavior&&px.Behaviors.jumpthru&&o instanceof px.Behaviors.jumpthru&&(this._jumpthruBehavior=o),o._InitScriptInterface()})}_DelayCreateBehavior(e){const t=this._delayCreateBehaviors.get(e);t&&(t(),this._delayCreateBehaviors.delete(e))}static _PushInitObject(e,t=1){if(px.AddonManager._PushInitObject!==bx)throw new Error("invalid method");1===t&&gx.push(e),fx.push(e)}static _PopInitObject(e=1){if(px.AddonManager._PopInitObject!==Sx)throw new Error("invalid method");1===e&&gx.pop(),fx.pop()}static _GetInitObject(){if(px.AddonManager._GetInitObject!==xx)throw new Error("invalid method");if(0===gx.length)throw new Error("no init object set");return gx.at(-1)}static _GetInitObject2(e){if(px.AddonManager._GetInitObject2!==Ix)throw new Error("invalid method");if(Gx(e),0===fx.length)throw new Error("no init object set");return fx.at(-1)}static _PushInitProperties(e){Nx.push(e)}static _PopInitProperties(){Nx.pop()}static _GetInitProperties(){if(0===Nx.length)throw new Error("no init properties set");return Nx.at(-1)}_InitAddonScriptInterfaces(){for(const e of this._allPlugins)e._InitScriptInterface()}static GetPluginByConstructorFunction(e){return yx.get(e)||null}static GetBehaviorByConstructorFunction(e){return Ex.get(e)||null}GetSystemPlugin(){return this._systemPlugin}GetSolidBehavior(){return this._solidBehavior}GetJumpthruBehavior(){return this._jumpthruBehavior}HasWrapperComponentId(e){return this._wrapperComponentIds.has(e)}},bx=px.AddonManager._PushInitObject,Sx=px.AddonManager._PopInitObject,xx=px.AddonManager._GetInitObject,Ix=px.AddonManager._GetInitObject2}{const Tx=self.C3,Cx=new Set;Tx.ImageInfo=class extends Tx.DefendedBase{constructor(){super(),this._generation=0,this._url="",this._size=0,this._offsetX=0,this._offsetY=0,this._width=0,this._height=0,this._isRotated=!1,this._hasMetaData=!1,this._imageAsset=null,this._textureState="",this._rcTex=Tx.New(Tx.Rect),this._quadTex=Tx.New(Tx.Quad),this._blobUrl="",this._iImageInfo=new self.IImageInfo(this),Cx.add(this)}Release(){this.ReleaseTexture(),this._imageAsset&&0===this._imageAsset.GetRefCount()&&this._imageAsset.Release(),this._imageAsset=null,Cx.delete(this),this.ReleaseBlobURL()}static OnRendererContextLost(){for(const e of Cx)e._textureState="",e._rcTex.set(0,0,0,0),e._quadTex.setFromRect(e._rcTex)}LoadData(e){this._url=e[0],this._size=e[1],this._offsetX=e[2],this._offsetY=e[3],this._width=e[4],this._height=e[5],this._isRotated=e[6],this._hasMetaData=!0}LoadDynamicAsset(e,t,n){if(n=!!n,this._imageAsset)throw new Error("already loaded asset");this._url=t;const s={isTiled:n};return Tx.IsAbsoluteURL(t)&&(s.loadPolicy="remote"),this.LoadAsset(e,s),this._imageAsset.Load()}LoadDynamicBlobAsset(e,t){if(this._imageAsset)throw new Error("already loaded asset");this._url="",this._size=t.size,this._imageAsset=Tx.New(Tx.ImageAsset,e.GetAssetManager(),{blob:t,size:this._size,loadPolicy:"local"})}ReplaceWith(e){if(e===this)throw new Error("cannot replace with self");this._generation++,this.ReleaseTexture(),this._url=e._url,this._size=e._size,this._offsetX=e._offsetX,this._offsetY=e._offsetY,this._width=e._width,this._height=e._height,this._isRotated=e._isRotated,this._hasMetaData=e._hasMetaData,this._imageAsset=e._imageAsset,this._textureState=e._textureState,this._rcTex=e._rcTex,this._quadTex=e._quadTex,this.ReleaseBlobURL()}GetURL(){return this._url}GetSize(){return this._size}GetOffsetX(){return this._offsetX}GetOffsetY(){return this._offsetY}IsRotated(){return this._isRotated}GetWidth(){return this._width}GetHeight(){return this._height}GetSheetWidth(){return this._imageAsset.GetWidth()}GetSheetHeight(){return this._imageAsset.GetHeight()}LoadAsset(e,t){if(this._imageAsset)throw new Error("already got asset");t=Object.assign({},t,{url:this.GetURL(),size:this.GetSize()}),this._imageAsset=e.LoadImage(t)}IsLoaded(){return this._imageAsset&&this._imageAsset.IsLoaded()}async LoadStaticTexture(e,t){if(!this._imageAsset)throw new Error("no asset");if(this._textureState)throw new Error("already loaded texture");const n=this._generation;this._textureState="loading";const s=await this._imageAsset.LoadStaticTexture(e,t);if(this._generation!==n)return null;if(!s)return this._textureState="",null;this._textureState="loaded",this._hasMetaData||(this._width=s.GetWidth(),this._height=s.GetHeight(),this._hasMetaData=!0);const r=this._isRotated?this._height:this._width,o=this._isRotated?this._width:this._height;return this._rcTex.set(this._offsetX,this._offsetY,this._offsetX+r,this._offsetY+o),this._rcTex.divide(s.GetWidth(),s.GetHeight()),this._quadTex.setFromRect(this._rcTex),this._isRotated&&this._quadTex.rotatePointsAnticlockwise(),s}ReleaseTexture(){this._textureState&&(this._imageAsset&&this._imageAsset.ReleaseTexture(),this._textureState="",this._rcTex.set(0,0,0,0),this._quadTex.setFromRect(this._rcTex))}GetTexture(){return this._imageAsset&&"loaded"===this._textureState?this._imageAsset.GetTexture():null}GetTexRect(){return this._rcTex}GetTexQuad(){return this._quadTex}GetIImageInfo(){return this._iImageInfo}GetImageAsset(){return this._imageAsset}async ExtractImageToCanvas(e){e||(e=await this._imageAsset.LoadToDrawable());const t=Tx.CreateCanvas(this._width,this._height),n=t.getContext("2d");return this._isRotated?(n.rotate(Math.PI/-2),n.translate(-this._height,0),n.drawImage(e,this._offsetX,this._offsetY,this._height,this._width,0,0,this._height,this._width)):n.drawImage(e,this._offsetX,this._offsetY,this._width,this._height,0,0,this._width,this._height),t}async ExtractImageToBlobURL(e){if(this._blobUrl)return this._blobUrl;const t=await this.ExtractImageToCanvas(e),n=await Tx.CanvasToBlob(t);return this._blobUrl=URL.createObjectURL(n),this._blobUrl}ReleaseBlobURL(){this._blobUrl&&(URL.revokeObjectURL(this._blobUrl),this._blobUrl="")}}}{const Mx=self.C3;Mx.AnimationInfo=class extends Mx.DefendedBase{constructor(e){super(),this._name=e[0],this._speed=e[1],this._isLooping=!!e[2],this._repeatCount=e[3],this._repeatTo=e[4],this._isPingPong=!!e[5],this._sid=e[6],this._frames=e[7].map(e=>Mx.New(Mx.AnimationFrameInfo,e)),this._iAnimation=new self.IAnimation(this)}static CreateDynamic(e,t){const n=Mx.New(Mx.AnimationInfo,[t,0,!1,0,0,!1,Math.floor(1e15*Math.random()),[]]);return n._frames.push(Mx.AnimationFrameInfo.CreateDynamic(e)),n}Release(){for(const e of this._frames)e.Release();Mx.clearArray(this._frames)}LoadAllAssets(e){for(const t of this._frames)t.GetImageInfo().LoadAsset(e)}LoadAllTextures(e,t){return Promise.all(this._frames.map(n=>n.GetImageInfo().LoadStaticTexture(e,t)))}ReleaseAllTextures(){for(const e of this._frames)e.GetImageInfo().ReleaseTexture()}GetName(){return this._name}GetSID(){return this._sid}GetFrameCount(){return this._frames.length}GetFrames(){return this._frames}GetFrameAt(e){if((e=Math.floor(e))<0||e>=this._frames.length)throw new RangeError("invalid frame");return this._frames[e]}InsertFrameAt(e,t){(t=Math.floor(t))<0?this._frames.unshift(e):t>=this._frames.length?this._frames.push(e):this._frames.splice(t,0,e)}RemoveFrameAt(e){if((e=Math.floor(e))<0||e>=this._frames.length)throw new RangeError("invalid frame");this._frames[e].Release(),this._frames.splice(e,1)}GetFrameIndexByTag(e){for(let t=0,n=this._frames.length;t<n;++t)if(Mx.equalsNoCase(this._frames[t].GetTag(),e))return t;return-1}FrameTagOrIndexToIndex(e){if("string"==typeof e){const t=this.GetFrameIndexByTag(e);if(-1===t)throw new Error(`cannot find animation frame with tag ${e}`);return t}return e}GetSpeed(){return this._speed}IsLooping(){return this._isLooping}GetRepeatCount(){return this._repeatCount}GetRepeatTo(){return this._repeatTo}IsPingPong(){return this._isPingPong}GetIAnimation(){return this._iAnimation}}}{const Vx=self.C3,Bx=(()=>{const e=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),t=new Uint8Array(e.length);for(let n=0,s=e.length;n<s;++n)t[n]=e.charCodeAt(n);return new Blob([t],{type:"image/png"})})();Vx.AnimationFrameInfo=class extends Vx.DefendedBase{constructor(e){super(),this._imageInfo=Vx.New(Vx.ImageInfo),this._imageInfo.LoadData(e),this._duration=e[7],this._origin=Vx.New(Vx.Vector2,e[8],e[9]),this._imagePoints=e[10].map(e=>Vx.New(Vx.ImagePoint,this,e)),this._imagePointsByName=new Map;for(const e of this._imagePoints)this._imagePointsByName.set(e.GetName().toLowerCase(),e);this._collisionPoly=null;const t=e[11];t.length>=6&&(this._collisionPoly=Vx.New(Vx.CollisionPoly,t)),this._tag=e[12]?e[12]:"",this._iAnimationFrame=new self.IAnimationFrame(this)}static CreateDynamic(e){const t=Vx.New(Vx.AnimationFrameInfo,["",0,0,0,100,100,!1,1,0,0,[],[],""]);return t._imageInfo.LoadDynamicBlobAsset(e,Bx),t}Release(){this._collisionPoly&&(this._collisionPoly.Release(),this._collisionPoly=null),this._imageInfo.Release(),this._imageInfo=null}GetImageInfo(){return this._imageInfo}GetDuration(){return this._duration}GetOriginX(){return this._origin.getX()}GetOriginY(){return this._origin.getY()}GetCollisionPoly(){return this._collisionPoly}GetImagePointByName(e){return this._imagePointsByName.get(e.toLowerCase())||null}GetImagePointByIndex(e){return(e=Math.floor(e))<0||e>=this._imagePoints.length?null:this._imagePoints[e]}GetImagePointCount(){return this._imagePoints.length}GetTag(){return this._tag}GetIAnimationFrame(){return this._iAnimationFrame}}}{const Ox=self.C3;Ox.ImagePoint=class extends Ox.DefendedBase{constructor(e,t){super(),this._afi=e,this._name=t[0],this._pos=Ox.New(Ox.Vector2,t[1],t[2])}Release(){}GetName(){return this._name}GetX(){return this._pos.getX()}GetY(){return this._pos.getY()}GetVec2(){return this._pos}}}{const vx=globalThis.C3,Px=globalThis.C3Debugger,wx=globalThis.IObjectClass,Ax=globalThis.IObjectType,Dx=globalThis.IFamily,Rx=globalThis.assert;vx.ObjectClass=class extends vx.DefendedBase{constructor(e,t,n){super();const s=e.GetObjectReference(n[1]);this._runtime=e,this._plugin=vx.AddonManager.GetPluginByConstructorFunction(s),this._sdkType=null,this._instSdkCtor=s.Instance,this._index=t,this._sid=n[11],this._name=n[0],this._jsPropName=this._runtime.GetJsPropName(n[14]),this._isGlobal=!!n[9],this._isFamily=!!n[2],this._isOnLoaderLayout=!!n[10],this._instVars=n[3].map(t=>({sid:t[0],type:t[1],name:t[2],jsPropName:e.GetJsPropName(t[3])})),this._behaviorsCount=n[4],this._effectsCount=n[5],this._isWorldType=this._plugin.IsWorldType(),this._dispatcher=vx.New(vx.Event.Dispatcher),this._effectList=null;const[r,o]=e.GetCollisionEngine().GetCollisionCellSize();if(this._collisionGrid=vx.New(vx.SparseGrid,r,o),this._anyCollisionCellChanged=!0,this._familyMembers=null,this._familyMembersSet=null,this._familyIndex=-1,this._families=null,this._familiesSet=null,this._familyInstVarMap=null,this._familyBehaviorMap=null,this._familyEffectMap=null,this._isInContainer=!1,this._container=null,this._behaviorTypes=n[8].map(e=>vx.BehaviorType.Create(this,e)),this._behaviorTypesIncludingInherited=[],this._behaviorsByName=new Map,this._behaviorNameToIndex=new Map,this._usedBehaviorCtors=new Set,this._customActionMap=new Map,this._solStack=vx.New(vx.SolStack,this),this._defaultInstanceData=null,this._defaultLayerIndex=0,this._isContained=!1,this._container=null,this._imageInfo=null,this._animations=null,this._animationsByName=null,this._animationsBySid=null,this._textureRefCount=0,this._savedData=new Map,this._unsavedData=new Map,this._instances=[],this._worldInfosByLayer=new Map,this._iidsStale=!0,this._plugin.HasEffects()&&(this._effectList=vx.New(vx.EffectList,this,n[12])),n[6]&&(this._imageInfo=vx.New(vx.ImageInfo),this._imageInfo.LoadData(n[6])),n[7]){this._animations=n[7].map(e=>vx.New(vx.AnimationInfo,e)),this._animationsByName=new Map,this._animationsBySid=new Map;for(const e of this._animations)this._animationsByName.set(e.GetName().toLowerCase(),e),this._animationsBySid.set(e.GetSID(),e)}this._isFamily?(this._familyMembers=[],this._familyMembersSet=new Set,this._familyIndex=this._runtime._GetNextFamilyIndex()):(this._families=[],this._familiesSet=new Set,this._familyInstVarMap=[],this._familyBehaviorMap=[],this._familyEffectMap=[]);const a=this._plugin.GetSdkVersion();if(a<2&&(this._sdkType=vx.New(s.Type,this,n[15]),!(this._sdkType instanceof vx.SDKTypeBase)))throw new Error("v1 sdk type must derive from SDKTypeBase");let i;if(this._iObjectClass=null,this._instanceUserScriptClass=null,this._userScriptDispatcher=vx.New(vx.Event.Dispatcher),vx.AddonManager._PushInitObject(this,a),a>=2?(i=s.Type,i||(i=globalThis.ISDKObjectTypeBase)):i=this._sdkType.GetScriptInterfaceClass(),i&&!this._isFamily){if(this._iObjectClass=new i(a<2?this:null),a<2&&!(this._iObjectClass instanceof Ax))throw new TypeError("script interface class must derive from IObjectType");if(a>=2&&!(this._iObjectClass instanceof globalThis.ISDKObjectTypeBase))throw new TypeError("script interface class must derive from ISDKObjectTypeBase")}else{const e=this._isFamily?Dx:Ax;this._iObjectClass=new e}if(vx.AddonManager._PopInitObject(a),n[13]){const e=n[13];if(e){const t=e[0],n=e[1],s=e[2];this._sdkType.LoadTilemapData(t,n,s)}}this._runtime.UsesLoaderLayout()&&!this._isFamily&&!this._isOnLoaderLayout&&this._isWorldType||this.OnCreate(),this._plugin.IsSingleGlobal()&&(this._plugin._SetSingleGlobalObjectClass(this),this._CreateSingleGlobalInstance(n)),this._loadInstancesJson=null}static Create(e,t,n){return vx.New(vx.ObjectClass,e,t,n)}Release(){if(this._dispatcher.Release(),this._dispatcher=null,this._imageInfo&&(this._imageInfo.Release(),this._imageInfo=null),this._animations){for(const e of this._animations)e.Release();vx.clearArray(this._animations),this._animationsByName.clear(),this._animationsBySid.clear()}this._loadInstancesJson=null,this._solStack.Release(),this._solStack=null,this._savedData.clear(),this._unsavedData.clear(),this._container=null,this._runtime=null}_LoadFamily(e){for(let t=1,n=e.length;t<n;++t){const n=this._runtime.GetObjectClassByIndex(e[t]);this._familyMembers.push(n),this._familyMembersSet.add(n),n._families.push(this),n._familiesSet.add(this)}}_SetContainer(e){this._isInContainer=!0,this._container=e}IsInContainer(){return this._isInContainer}GetContainer(){return this._container}_OnAfterCreate(){let e=0;if(!this._isFamily)for(const t of this._families)for(const n of t.GetBehaviorTypes()){const t=n.GetName().toLowerCase();this._behaviorsByName.set(t,n),this._behaviorNameToIndex.set(t,e),this._behaviorTypesIncludingInherited.push(n),++e}for(const t of this.GetBehaviorTypes()){const n=t.GetName().toLowerCase();this._behaviorsByName.set(n,t),this._behaviorNameToIndex.set(n,e),this._behaviorTypesIncludingInherited.push(t),++e}for(const e of this._behaviorTypesIncludingInherited)this._usedBehaviorCtors.add(e.GetBehavior().constructor);if(!this._isFamily&&this._families.length){const e=this._runtime.GetFamilyCount();vx.extendArray(this._familyInstVarMap,e,0),vx.extendArray(this._familyBehaviorMap,e,0),vx.extendArray(this._familyEffectMap,e,0);const t=[];let n=0,s=0,r=0;for(const e of this._families){const o=e.GetFamilyIndex();this._familyInstVarMap[o]=n,n+=e.GetInstanceVariablesCount(),this._familyBehaviorMap[o]=s,s+=e.GetBehaviorTypesCount(),this._familyEffectMap[o]=r,r+=e.GetEffectTypesCount();const a=e.GetEffectList();if(a&&this._effectList)for(const e of a.GetAllEffectTypes())t.push(e.Clone(this._effectList))}this._effectList&&this._effectList.PrependEffectTypes(t)}}_CreateSingleGlobalInstance(e){const t=vx.IsFiniteNumber(e[17])?e[17]:this._runtime._GetNewUID(),n=vx.New(vx.Instance,{runtime:this._runtime,objectType:this,uid:t});n._CreateSdkInstance(e[16],[]),this._runtime._MapInstanceByUID(t,n),this._instances.push(n)}GetSdkType(){return this._sdkType}IsOnLoaderLayout(){return this._isOnLoaderLayout}Dispatcher(){return this._dispatcher}OnCreate(){this._isFamily||(this._sdkType?this._sdkType.OnCreate():this._iObjectClass._onCreate())}HasLoadedTextures(){return this._textureRefCount>0}async LoadTextures(e){this._isFamily||(this._textureRefCount++,1===this._textureRefCount&&(this._sdkType?await this._sdkType.LoadTextures(e):await this._iObjectClass._loadTextures(this._runtime.GetCanvasManager().GetIRenderer())))}ReleaseTextures(){if(!this._isFamily){if(this._textureRefCount--,this._textureRefCount<0)throw new Error("released textures too many times");0===this._textureRefCount&&(this._sdkType?this._sdkType.ReleaseTextures():this._iObjectClass._releaseTextures(this._runtime.GetCanvasManager().GetIRenderer()))}}OnDynamicTextureLoadComplete(){if(this._isFamily)throw new Error("not applicable to family");this._sdkType?this._sdkType.OnDynamicTextureLoadComplete():this._iObjectClass._onDynamicTextureLoadComplete()}async PreloadTexturesWithInstances(e){this._isFamily||(this._sdkType?await this._sdkType.PreloadTexturesWithInstances(e):await this._iObjectClass._preloadTexturesWithInstances(this._runtime.GetCanvasManager().GetIRenderer()))}GetRuntime(){return this._runtime}GetPlugin(){return this._plugin}GetInstanceSdkCtor(){return this._instSdkCtor}GetName(){return this._name}GetJsPropName(){return this._jsPropName}GetIndex(){return this._index}GetSID(){return this._sid}IsFamily(){return this._isFamily}IsGlobal(){return this._isGlobal}IsWorldType(){return this._isWorldType}GetFamilyIndex(){return this._familyIndex}GetBehaviorTypes(){return this._behaviorTypes}GetBehaviorTypesCount(){return this._behaviorsCount}UsesBehaviorByCtor(e){return e&&this._usedBehaviorCtors.has(e)}GetInstanceVariablesCount(){return this._instVars.length}GetInstanceVariableSIDs(){return this._instVars.map(e=>e.sid)}GetInstanceVariableIndexBySID(e){return this._instVars.findIndex(t=>t.sid===e)}GetInstanceVariableIndexByName(e){return this._instVars.findIndex(t=>t.name===e)}_GetAllInstanceVariableNames(){return this._instVars.map(e=>e.name)}_GetAllInstanceVariableJsPropNames(){return this._instVars.map(e=>e.jsPropName)}GetInstanceVariableType(e){if((e=Math.floor(e))<0||e>=this._instVars.length)throw new RangeError("invalid instance variable index");return this._instVars[e].type}GetInstanceVariableName(e){if((e=Math.floor(e))<0||e>=this._instVars.length)throw new RangeError("invalid instance variable index");return this._instVars[e].name}GetEffectTypesCount(){return this._effectsCount}GetBehaviorTypesIncludingInherited(){return this._behaviorTypesIncludingInherited}GetBehaviorTypeByName(e){return this._behaviorsByName.get(e.toLowerCase())||null}GetBehaviorIndexByName(e){const t=this._behaviorNameToIndex.get(e.toLowerCase());return void 0===t?-1:t}GetEffectList(){return this._effectList}HasEffects(){return this._plugin.HasEffects()}UsesEffects(){return this._effectList&&this._effectList.HasAnyEffectType()}GetSolStack(){return this._solStack}GetCurrentSol(){return this._solStack.GetCurrentSol()}GetImageInfo(){return this._imageInfo}SetDefaultInstanceData(e){this._defaultInstanceData=e}GetDefaultInstanceData(){return this._defaultInstanceData}_SetDefaultLayerIndex(e){this._defaultLayerIndex=e}GetDefaultLayerIndex(){return this._defaultLayerIndex}GetAnimations(){return this._animations}GetAnimationCount(){return this._animations.length}GetFamilies(){return this._families}BelongsToFamily(e){return this._familiesSet.has(e)}GetFamilyMembers(){return this._familyMembers}FamilyHasMember(e){return this._familyMembersSet.has(e)}GetFamilyBehaviorOffset(e){return this._familyBehaviorMap[e]}GetFamilyInstanceVariableOffset(e){return this._familyInstVarMap[e]}AddCustomAction(e){this._customActionMap.set(e.GetACEName().toLowerCase(),e)}HasOwnCustomActionByName(e){return!!this.GetOwnCustomActionByName(e)}GetOwnCustomActionByName(e){const t=this._customActionMap.get(e.toLowerCase());return t&&t.IsEnabled()?t:null}GetAllAnimations(){return this._animations}GetAnimationByName(e){if(!this._animations)throw new Error("no animations");return this._animationsByName.get(e.toLowerCase())||null}GetAnimationBySID(e){if(!this._animations)throw new Error("no animations");return this._animationsBySid.get(e)||null}AddAnimation(e){if(this.GetAnimationByName(e))throw new Error(`animation name '${e}' already exists`);const t=vx.AnimationInfo.CreateDynamic(this.GetRuntime(),e);return this._animations.push(t),this._animationsByName.set(t.GetName().toLowerCase(),t),this._animationsBySid.set(t.GetSID(),t),t}RemoveAnimation(e){const t=this.GetAnimationByName(e);if(!t)throw new Error(`animation name '${e}' does not exist`);if(1===this._animations.length)throw new Error("cannot remove last animation");const n=this._animations.indexOf(t);this._animations.splice(n,1),this._animationsByName.delete(t.GetName().toLowerCase()),this._animationsBySid.delete(t.GetSID()),t.Release()}GetFirstAnimation(){if(!this._animations)throw new Error("no animations");return this._animations[0]}GetFirstAnimationFrame(){return this.GetFirstAnimation().GetFrameAt(0)}GetDefaultInstanceSize(){if(this._animations){const e=this.GetFirstAnimationFrame().GetImageInfo();return[e.GetWidth(),e.GetHeight()]}return this._imageInfo?[this._imageInfo.GetWidth(),this._imageInfo.GetHeight()]:[100,100]}GetSingleGlobalInstance(){if(!this._plugin.IsSingleGlobal())throw new Error("not a single-global plugin");return this._instances[0]}GetInstances(){return this._instances}*instances(){yield*this._instances}*instancesIncludingPendingCreate(){yield*this._instances,yield*this._runtime.instancesPendingCreateForObjectClass(this)}GetInstanceCount(){return this._instances.length}_AddInstance(e){this._instances.push(e)}_SetIIDsStale(){this._iidsStale=!0}_UpdateIIDs(){if(!this._iidsStale||this._isFamily)return;const e=this._instances;let t=0;for(let n=e.length;t<n;++t)e[t]._SetIID(t);const n=this._runtime._GetInstancesPendingCreate();for(const e of n)e.GetObjectClass()===this&&e._SetIID(t++);this._iidsStale=!1}GetInstanceByIID(e){const t=this._instances;if(e<t.length)return t[e];e-=t.length;const n=this._runtime._GetInstancesPendingCreate();for(const t of n)if(t.GetObjectClass()===this){if(0===e)return t;--e}return null}GetFirstPicked(e){if(e&&e.IsInContainer()&&e.GetObjectClass()!==this)for(const t of e.siblings())if(t.GetObjectClass()===this)return t;const t=this.GetCurrentSol().GetInstances();return t.length?t[0]:null}GetPairedInstance(e){const t=this.GetCurrentSol().GetInstances();return t.length>0?t[e.GetIID()%t.length]:null}*allCorrespondingInstances(e,t){const n=this.GetCurrentSol().GetInstances(),s=n.length,r=t.GetCurrentSol(),o=t.GetCurrentSol().GetInstances(),a=o.length;let i=e.GetIID();!t.IsFamily()&&r.IsSelectAll()||(i=o.indexOf(e));const l=Math.ceil(s/a),d=s%a;let c=0,u=0;0===d||i<d?(c=i*l,u=l):(c=d*l+(i-d)*(l-1),u=l-1);for(let e=c,t=c+u;e<t;++e)yield n[e]}FinishCondition(e){this._sdkType?.FinishCondition(e)}ApplySolToContainer(){if(!this._isInContainer||this._isFamily)return;this._UpdateIIDs();const e=this.GetCurrentSol(),t=e._GetOwnInstances(),n=e.IsSelectAll(),s=this._runtime.GetCurrentEventStackFrame(),r=s&&s.GetCurrentEvent()&&s.GetCurrentEvent().IsOrBlock();for(const s of this._container.objectTypes()){if(s===this)continue;s._UpdateIIDs();const o=s.GetCurrentSol();if(o._SetSelectAll(n),!n){const n=o._GetOwnInstances();vx.clearArray(n);for(const e of t)n.push(s.GetInstanceByIID(e.GetIID()));if(r){const t=e._GetOwnElseInstances(),n=o._GetOwnElseInstances();vx.clearArray(n);for(const e of t)n.push(s.GetInstanceByIID(e.GetIID()))}}}}_TruncateContainerSols(e,t){for(const n of this.GetContainer().objectTypes()){const s=n.GetCurrentSol();e?vx.truncateArray(s._GetOwnElseInstances(),t):vx.truncateArray(s._GetOwnInstances(),t)}}_GetCollisionCellGrid(){return this._collisionGrid}_SetAnyCollisionCellChanged(e){this._anyCollisionCellChanged=!!e}_UpdateAllCollisionCells(){if(this._anyCollisionCellChanged&&this._isWorldType){for(const e of this._instances)e.GetWorldInfo()._UpdateCollisionCell();for(const e of this._runtime._GetInstancesPendingCreate())e.GetObjectClass()===this&&e.GetWorldInfo()._UpdateCollisionCell();this._anyCollisionCellChanged=!1}}_OnWorldInstanceLayerChanged(e,t,n){if(t){const n=this._worldInfosByLayer.get(t);n&&(n.delete(e),0===n.size&&this._worldInfosByLayer.delete(t))}if(n){let t=this._worldInfosByLayer.get(n);t||(t=new Set,this._worldInfosByLayer.set(n,t)),t.add(e)}}*layersHasInstancesOn(){if(this.IsFamily()){const e=new Set;for(const t of this._familyMembers)for(const n of t.layersHasInstancesOn())e.add(n);yield*e.values()}else for(const e of this._worldInfosByLayer.keys())e.WasReleased()||(yield e)}GetSavedDataMap(){return this._savedData||(this._savedData=new Map),this._savedData}GetUnsavedDataMap(){return this._unsavedData||(this._unsavedData=new Map),this._unsavedData}HasSolidBehavior(){return this.UsesBehaviorByCtor(vx.Behaviors.solid)}HasJumpthruBehavior(){return this.UsesBehaviorByCtor(vx.Behaviors.jumpthru)}HasNoSaveBehavior(){return this.UsesBehaviorByCtor(vx.Behaviors.NoSave)}HasPersistBehavior(){return this.UsesBehaviorByCtor(vx.Behaviors.Persist)}_SaveToJson(){const e={instances:this._instances.map(e=>e.SaveToJson())};return this._savedData&&this._savedData.size&&(e.ex=vx.ToSuperJSON(this._savedData)),e}_LoadFromJson(e,t){this._savedData&&(this._savedData.clear(),this._savedData=null);const n=e.ex;n&&(this._savedData=vx.FromSuperJSON(n));const s=this._instances,r=e.instances;for(let e=0,t=Math.min(s.length,r.length);e<t;++e)s[e].LoadFromJson(r[e]);for(let e=r.length,t=s.length;e<t;++e)this._runtime.DestroyInstance(s[e]);for(let e=s.length,n=r.length;e<n;++e){const n=r[e];let s=null;if(this.IsWorldType()&&(s=this._runtime.GetMainRunningLayout().GetLayerBySID(n.w.l),!s))continue;const o=this._runtime.CreateInstanceFromData(this._defaultInstanceData||this,s,!1,0,0,!0);o.LoadFromJson(n),t&&t.add(o)}this._loadInstancesJson=r,this._SetIIDsStale()}_GetLoadInstancesJson(){return this._loadInstancesJson}_ClearLoadInstancesJson(){this._loadInstancesJson=null}_SetupSceneGraphConnectionsOnChangeOfLayout(){for(let e=0,t=this._instances;e<t;++e)this._instances[e]._SetupSceneGraphConnectionsOnChangeOfLayout()}GetIObjectClass(){return this._iObjectClass}UserScriptDispatcher(){return this._userScriptDispatcher}_GetUserScriptInstanceClass(){return this._instanceUserScriptClass}_SetUserScriptInstanceClass(e){this._instanceUserScriptClass=e}DispatchUserScriptEvent(e){const t=this._runtime,n=t.IsDebug()&&!t.GetEventSheetManager().IsInEventEngine();n&&Px.StartMeasuringScriptTime(),this._userScriptDispatcher.dispatchEvent(e),n&&Px.AddScriptTime()}}}{const Fx=self.C3;Fx.Container=class extends Fx.DefendedBase{constructor(e,t){super(),this._runtime=e,this._objectTypes=t;for(const e of this._objectTypes)e._SetContainer(this)}Release(){this._runtime=null}GetRuntime(){return this._runtime}GetObjectTypes(){return this._objectTypes}objectTypes(){return this._objectTypes}HasAnyWorldType(){return this._objectTypes.some(e=>e.IsWorldType())}}}{const jx=self.C3,kx=self.C3Debugger,Lx=self.IInstance,Wx=jx.AddonManager,Ux=[];let Hx=0;const zx=new WeakMap,Yx=new WeakMap,Xx=1,qx=2,Kx=4,Jx=8,$x=16,Zx=32,Qx=64;jx.Instance=class extends jx.DefendedBase{constructor(e){if(jx.AddonManager!==Wx)throw new Error("invalid addon manager");super(),this._runtime=e.runtime,this._objectType=e.objectType,this._worldInfo=null,this._sdkInst=null,this._iScriptInterface=null,this._iid=0,this._uid=e.uid,this._puid=Hx++,this._flags=0,this._tagsSet=null;const t=jx.splitStringAndNormalize(e.tags);t.length>0&&(this._tagsSet=new Set(t)),this._instVarValues=Ux,this._behaviorInstances=Ux;const n=this._objectType.GetBehaviorTypesIncludingInherited();n.length>0&&(this._behaviorInstances=n.map((e,t)=>jx.New(jx.BehaviorInstance,{runtime:this._runtime,behaviorType:e,instance:this,index:t}))),this._siblings=this._objectType.IsInContainer()?[]:null,this._timeScale=-1,this._dispatcher=null;const s=this.GetPlugin();if(s.MustPreDraw()&&(this._flags|=4),s.IsWorldType())if(this._worldInfo=jx.New(jx.WorldInfo,this,e.layer),e.worldData)this._worldInfo.Init(e.worldData);else{this._worldInfo.InitNoData();const[e,t]=this._objectType.GetDefaultInstanceSize();this._worldInfo.SetSize(e,t),this.GetObjectClass().UsesEffects()&&this._worldInfo.GetInstanceEffectList().LoadDefaultEffectParameters()}e.instVarData?this._LoadInstanceVariableData(e.instVarData):this._LoadDefaultInstanceVariables()}Release(){if(this._iScriptInterface&&(this._iScriptInterface._release(),this._iScriptInterface=null),this._behaviorInstances.length>0){for(const e of this._behaviorInstances)e.Release();jx.clearArray(this._behaviorInstances)}this._sdkInst&&(this._sdkInst.Release(),this._sdkInst=null);const e=zx.get(this);e&&(e.clear(),zx.delete(this));const t=Yx.get(this);t&&(t.clear(),Yx.delete(this)),this._siblings&&jx.clearArray(this._siblings),this._dispatcher&&(this._dispatcher.Release(),this._dispatcher=null),this._tagsSet&&this._tagsSet.clear(),this._tagsSet=null,this._runtime=null,this._objectType=null,this._instVarValues.length>0&&jx.clearArray(this._instVarValues),this._worldInfo&&(this._worldInfo.Release(),this._worldInfo=null)}_LoadInstanceVariableData(e){e.length>0&&(this._instVarValues=[],jx.shallowAssignArray(this._instVarValues,e))}_LoadDefaultInstanceVariables(){const e=this._objectType.GetInstanceVariablesCount();if(0===e)return;this._instVarValues=[];const t=[0,0,""];for(let n=0;n<e;++n)this._instVarValues.push(t[this._objectType.GetInstanceVariableType(n)])}_CreateSdkInstance(e,t){if(this._sdkInst)throw new Error("already got sdk instance");for(let e=0,n=this._behaviorInstances.length;e<n;++e)this._behaviorInstances[e]._CreateSdkInstance(t?t[e]:null);if(this.GetPlugin().GetSdkVersion()<2){if(this._sdkInst=jx.New(this._objectType.GetInstanceSdkCtor(),this,e),!(this._sdkInst instanceof jx.SDKInstanceBase))throw new Error("sdk type must derive from SDKInstanceBase");!this.GetPlugin().IsWorldType()&&this._objectType._GetUserScriptInstanceClass()&&this.GetInterfaceClass()}else{const t=this.GetPlugin().GetScriptInterfaceClass();this._InitUserScriptInterface(t.Instance,e)}}GetSdkInstance(){return this._sdkInst??this._iScriptInterface}GetWorldInfo(){return this._worldInfo}GetRuntime(){return this._runtime}GetTimeScale(){return this._timeScale}GetActiveTimeScale(){const e=this._timeScale;return-1===e?this.GetRuntime().GetTimeScale():e}SetTimeScale(e){((e=+e)<0||!isFinite(e))&&(e=0),this._timeScale=e,this.GetObjectClass().UsesEffects()&&this._runtime._SetTrackingInstanceTime(this,!0)}RestoreTimeScale(){this._timeScale=-1,this.GetObjectClass().UsesEffects()&&this._runtime._SetTrackingInstanceTime(this,!1)}GetInstanceGameTime(){return this._runtime._GetInstanceGameTime(this)}Dispatcher(){return this._dispatcher||(this._dispatcher=jx.New(jx.Event.Dispatcher)),this._dispatcher}Draw(e){this._sdkInst?this._sdkInst.Draw(e):this._iScriptInterface._draw(this._runtime.GetCanvasManager().GetIRenderer())}OnCreate(e){this._sdkInst.OnCreate(e)}_SetHasTilemap(){this._flags|=2}HasTilemap(){return!!(2&this._flags)}_MarkDestroyed(){this._flags|=1}IsDestroyed(){return!!(1&this._flags)}MustPreDraw(){return!!(4&this._flags)||(this._sdkInst?this._sdkInst.MustPreDraw():this._iScriptInterface._mustPreDraw())}SetMustMitigateZFighting(){this._flags|=32}MustMitigateZFighting(){return!!(32&this._flags)}_IsSolidEnabled(){return!!(8&this._flags)}_SetSolidEnabled(e){e?this._flags|=8:this._flags&=-9}_IsJumpthruEnabled(){return!!(16&this._flags)}_SetJumpthruEnabled(e){e?this._flags|=16:this._flags&=-17}_IsDrawingWithEffects(){return!!(64&this._flags)}_SetIsDrawingWithEffects(e){e?this._flags|=64:this._flags&=-65}SetFlag(e,t){e<<=16,t?this._flags|=e:this._flags&=~e}GetFlag(e){return!!(this._flags&e<<16)}GetCurrentImageInfo(){return this._sdkInst?this._sdkInst.GetCurrentImageInfo():null}GetCurrentSurfaceSize(){return this._sdkInst?this._sdkInst.GetCurrentSurfaceSize():null}GetCurrentTexRect(){return this._sdkInst?this._sdkInst.GetCurrentTexRect():null}GetCurrentTexQuad(){return this._sdkInst?this._sdkInst.GetCurrentTexQuad():null}IsCurrentTexRotated(){return!!this._sdkInst&&this._sdkInst.IsCurrentTexRotated()}GetImagePoint(e){return this._sdkInst?this._sdkInst.GetImagePoint(e):[this._iScriptInterface.x,this._iScriptInterface.y,this._iScriptInterface.totalZElevation]}GetObjectClass(){return this._objectType}RendersToOwnZPlane(){return this._sdkInst?this._sdkInst.RendersToOwnZPlane():this._iScriptInterface._rendersToOwnZPlane()}BelongsToObjectClass(e){return e.IsFamily()?e.FamilyHasMember(this.GetObjectClass()):this.GetObjectClass()===e}CollectInstancesToPick(e,t,n){const s=(t,n)=>{const s=n||t.GetObjectClass(),r=e.get(s);r?r.add(t):e.set(s,new Set([t]))};if(s(this,t),this.IsInContainer())for(const e of this.siblings())s(e);if(n)for(const e of this.allChildren())s(e)}VerifySupportsSceneGraph(){if(!this.GetPlugin().SupportsSceneGraph())throw new Error("object does not support scene graph")}HasParent(){return null!==this.GetParent()}GetParent(){const e=this.GetWorldInfo();if(!e)return null;const t=e.GetParent();return t?t.GetInstance():null}GetTopParent(){const e=this.GetWorldInfo();if(!e)return null;const t=e.GetTopParent();return t?t.GetInstance():null}*parents(){const e=this.GetWorldInfo();if(e)for(const t of e.parents())yield t.GetInstance()}HasChild(e){if(!e)return!1;for(const t of this.children())if(t===e)return!0;return!1}HasChildren(){const e=this.GetWorldInfo();return!!e&&e.HasChildren()}GetChildrenOfObjectClass(e){const t=this.GetWorldInfo();if(!t)return[];const n=e.GetName();return t.GetChildren().map(e=>e.GetInstance()).filter(e=>e.GetObjectClass().GetName()===n)}GetChildren(){const e=this.GetWorldInfo();return e?e.GetChildren().map(e=>e.GetInstance()):[]}*children(){const e=this.GetWorldInfo();if(e)for(const t of e.children())yield t.GetInstance()}*allChildren(){const e=this.GetWorldInfo();if(e)for(const t of e.allChildren())yield t.GetInstance()}GetChildCount(){const e=this.GetWorldInfo();return e?e.GetChildCount():0}GetParentCount(){return[...this.parents()].length}GetAllChildCount(){const e=this.GetWorldInfo();return e?e.GetAllChildCount():0}GetChildAt(e){const t=this.GetWorldInfo();if(!t)return null;const n=t.GetChildAt(e);return n?n.GetInstance():null}GetIndexInParent(){const e=this.GetWorldInfo();if(!e)return NaN;const t=e.GetParent();return t?t.GetChildIndex(e):NaN}HasChildWithUID(e){for(const t of this.GetWorldInfo().GetChildren())if(t.GetInstance().GetUID()===e)return!0;return!1}AddChild(e,t){this.VerifySupportsSceneGraph(),e.VerifySupportsSceneGraph(),this.GetWorldInfo().AddChild(e.GetWorldInfo(),t||{})}RemoveChild(e){const t=this.GetWorldInfo();t&&t.RemoveChild(e.GetWorldInfo())}GetDestroyWithParent(){const e=this.GetWorldInfo();return!!e&&e.GetDestroyWithParent()}SetupInitialSceneGraphConnections(){const e=this.GetWorldInfo();if(!e)return;const t=e.GetSceneGraphChildrenExportData();if(t)for(const e of t){const t=this._runtime.GetInstanceByUID(e[2]);if(t){const n=e[3];this.AddChild(t,{transformX:!!(1&n),transformY:!!(n>>1&1),transformWidth:!!(n>>2&1),transformHeight:!!(n>>3&1),transformAngle:!!(n>>4&1),destroyWithParent:!!(n>>5&1),transformZElevation:!!(n>>6&1),transformOpacity:!!(n>>7&1),transformVisibility:!!(n>>8&1)})}}}SetupPersistedSceneGraphConnections(e,t){const n=e.get(this);if(n)for(const e of n.sceneGraphJson.children){const n=t.get(e.index);if(!n)continue;const s=e.flags;this.AddChild(n,{transformX:!!(1&s),transformY:!!(s>>1&1),transformWidth:!!(s>>2&1),transformHeight:!!(s>>3&1),transformAngle:!!(s>>4&1),destroyWithParent:!!(s>>5&1),transformZElevation:!!(s>>6&1),transformOpacity:!!(s>>7&1),transformVisibility:!!(s>>8&1)})}}GetTemplateName(){const e=this._runtime.GetTemplateManager();return e?e.GetInstanceTemplateName(this):""}IsInContainer(){return null!==this._siblings}_ClearSiblings(){jx.clearArray(this._siblings)}_AddSibling(e){this._siblings.push(e)}GetSiblings(){return this._siblings}HasSibling(e){return!!this.GetSibling(e)}GetSibling(e){const t=this.siblings();if(null===t||0===t.length)return!1;for(const n of t)if(n.GetObjectClass()===e)return n;return null}siblings(){return this._siblings}SetSiblingsSinglePicked(){for(const e of this.siblings())e.GetObjectClass().GetCurrentSol().SetSinglePicked(e)}_PushSiblingsToSolInstances(){for(const e of this.siblings())e.GetObjectClass().GetCurrentSol()._PushInstance(e)}_SetSiblingsToSolInstancesIndex(e){for(const t of this.siblings())t.GetObjectClass().GetCurrentSol()._GetOwnInstances()[e]=t}_PushSiblingsToSolElseInstances(){for(const e of this.siblings())e.GetObjectClass().GetCurrentSol()._PushElseInstance(e)}_SetSiblingsToSolElseInstancesIndex(e){for(const t of this.siblings())t.GetObjectClass().GetCurrentSol()._GetOwnElseInstances()[e]=t}GetPlugin(){return this._objectType.GetPlugin()}_SetIID(e){this._iid=e}GetIID(){return this._objectType._UpdateIIDs(),this._iid}GetUID(){return this._uid}SetUID(e){this._uid=e}GetPUID(){return this._puid}_SetTagsSetFromJson(e){e?this.SetTagsSet(new Set(e)):this._tagsSet=null}SetTagsSet(e){if(0===e.size)this._tagsSet=null;else{this._tagsSet?this._tagsSet.clear():this._tagsSet=new Set;for(const t of e)this._tagsSet.add(t)}}GetTagsSet(){return this._tagsSet??new Set}GetTagsString(){return Array.from(this.GetTagsSet()).join(" ")}GetTagAt(e){e=Math.floor(e);for(const t of this.GetTagsSet()){if(0===e)return t;--e}return""}GetBehaviorInstances(){return this._behaviorInstances}GetBehaviorInstanceFromCtor(e){if(!e)return null;for(const t of this._behaviorInstances)if(t.GetBehavior()instanceof e)return t;return null}GetBehaviorSdkInstanceFromCtor(e){if(!e)return null;const t=this.GetBehaviorInstanceFromCtor(e);return t?t.GetSdkInstance():null}GetBehaviorIndexBySID(e){const t=this._behaviorInstances;for(let n=0,s=t.length;n<s;++n)if(t[n].GetBehaviorType().GetSID()===e)return n;return-1}GetAllInstanceVariableValues(){return this._instVarValues}_GetAllInstanceVariableNames(){return this._objectType._GetAllInstanceVariableNames()}GetInstanceVariableCount(){return this._instVarValues.length}GetInstanceVariableValue(e){e|=0;const t=this._instVarValues;if(e<0||e>=t.length)throw new RangeError("invalid instance variable");return t[e]}_GetInstanceVariableValueUnchecked(e){return this._instVarValues[e]}_GetInstanceVariableTypedValue(e){const t=this._instVarValues[e];return 0===this._objectType.GetInstanceVariableType(e)?!!t:t}SetInstanceVariableValue(e,t){e|=0;const n=this._instVarValues;if(e<0||e>=n.length)throw new RangeError("invalid instance variable");switch(this._objectType.GetInstanceVariableType(e)){case 0:n[e]=t?1:0;break;case 1:n[e]="number"==typeof t?t:parseFloat(t);break;case 2:n[e]="string"==typeof t?t:t.toString();break;default:throw new Error("unknown instance variable type")}}SetInstanceVariableOffset(e,t){if(0===t)return;e|=0;const n=this._instVarValues;if(e<0||e>=n.length)throw new RangeError("invalid instance variable");const s=n[e];if("number"!=typeof s)throw"boolean"==typeof s?new Error("can not set offset of boolean variable"):"string"==typeof s?new Error("can not set offset of string variable"):new Error("unknown instance variable type");n[e]+="number"==typeof t?t:parseFloat(t)}GetSavedDataMap(){let e=zx.get(this);return e||(e=new Map,zx.set(this,e),e)}GetUnsavedDataMap(){let e=Yx.get(this);return e||(e=new Map,Yx.set(this,e),e)}_HasAnyCreateDestroyHandler(e){const t=this.GetObjectClass();if(t.UserScriptDispatcher().HasAnyHandlerFor(e))return!0;for(const n of t.GetFamilies())if(n.UserScriptDispatcher().HasAnyHandlerFor(e))return!0;return!!this._runtime.UserScriptDispatcher().HasAnyHandlerFor(e)}_TriggerOnCreatedOnSelfAndRelated(e=void 0){const t=e??new Set;if(t.has(this))return;t.add(this);const n=this.GetWorldInfo();if(n&&n.HasChildren())for(const e of this.allChildren())if(t.add(e),e.IsInContainer())for(const n of e.siblings())t.add(n);if(this.IsInContainer())for(const e of this.siblings())e._TriggerOnCreatedOnSelfAndRelated(t);if(!e){for(const e of t.values())e._TriggerOnCreated();this._OnHierarchyReady()}}_OnCreatedCommon(){this._objectType._GetUserScriptInstanceClass()&&this.GetInterfaceClass();for(const e of this._behaviorInstances)e.PostCreate()}_OnCreatedForLoadingSavegame(){this._OnCreatedCommon()}_TriggerOnCreated(){if(this._OnCreatedCommon(),this._HasAnyCreateDestroyHandler("instancecreate")){const e=this.GetObjectClass(),t=new jx.Event("instancecreate");t.instance=this.GetInterfaceClass(),e.DispatchUserScriptEvent(t);for(const n of e.GetFamilies())n.DispatchUserScriptEvent(t);this._runtime.DispatchUserScriptEvent(t)}this._runtime.Trigger(this.GetPlugin().GetConstructor().Cnds.OnCreated,this,null)}_OnHierarchyReady(){if(this.GetPlugin().SupportsSceneGraph()){if(this.DispatchUserScriptEvent(new jx.Event("hierarchyready")),this._HasAnyCreateDestroyHandler("hierarchyready")){const e=this.GetObjectClass(),t=new jx.Event("hierarchyready");t.instance=this.GetInterfaceClass(),e.DispatchUserScriptEvent(t);for(const n of e.GetFamilies())n.DispatchUserScriptEvent(t);this._runtime.DispatchUserScriptEvent(t)}this._runtime.Trigger(this.GetPlugin().GetConstructor().Cnds.OnHierarchyReady,this,null)}}_TriggerOnDestroyed(){this._runtime.Trigger(this.GetPlugin().GetConstructor().Cnds.OnDestroyed,this,null)}_FireDestroyedScriptEvents(e){if(this._iScriptInterface){const t=new jx.Event("destroy");t.isEndingLayout=e,this.DispatchUserScriptEvent(t)}if(!this._HasAnyCreateDestroyHandler("instancedestroy"))return;const t=this.GetObjectClass(),n=new jx.Event("instancedestroy");n.instance=this.GetInterfaceClass(),n.isEndingLayout=e,t.DispatchUserScriptEvent(n);for(const e of t.GetFamilies())e.DispatchUserScriptEvent(n);this._runtime.DispatchUserScriptEvent(n)}_GetDebuggerProperties(){return this._sdkInst?this._sdkInst.GetDebuggerProperties():this._iScriptInterface._getDebuggerProperties()}SaveToJson(e="full",t=null){const n={};"full"===e?n.uid=this.GetUID():n.c3=!0;const s=this.GetTagsSet();if(s.size>0&&(n.tags=Array.from(s)),"visual-state"!==e){const t=zx.get(this);if(t&&t.size&&(n.ex=jx.ToSuperJSON(t)),-1!==this.GetTimeScale()&&(n.mts=this.GetTimeScale()),this._objectType.GetInstanceVariablesCount()>0){const e={},t=this._objectType.GetInstanceVariableSIDs();for(let n=0,s=this._instVarValues.length;n<s;++n)e[t[n].toString()]=this._instVarValues[n];n.ivs=e}if(this._behaviorInstances.length){const t={};for(const n of this._behaviorInstances){const s=n.SaveToJson(e);s&&(t[n.GetBehaviorType().GetSID().toString()]=s)}n.behs=t}}this._worldInfo&&(n.w=this._worldInfo._SaveToJson(e,t));const r=this._sdkInst?this._sdkInst.SaveToJson():this._iScriptInterface._saveToJson();return r&&(n.data=r),n}_OnBeforeLoad(e="full",t=null){this._worldInfo&&this._worldInfo._OnBeforeLoad(e)}_OnAfterLoad(e,t="full",n=null){this._worldInfo&&this._worldInfo._OnAfterLoad(e,t,n)}_OnAfterLoad2(e,t="full",n=null){this._worldInfo&&this._worldInfo._OnAfterLoad2(e,t,n)}_SetupSceneGraphConnectionsOnChangeOfLayout(){this.GetPlugin().IsWorldType()&&this._worldInfo._SetupSceneGraphConnectionsOnChangeOfLayout()}LoadFromJson(e,t="full",n=null){if("full"===t)this._uid=e.uid;else if(!e.c3)return;if(this._SetTagsSetFromJson(e.tags),"visual-state"!==t){let t=zx.get(this);t&&(t.clear(),zx.delete(this));const n=e.ex;n&&(t=jx.FromSuperJSON(n),zx.set(this,t)),this._timeScale=e.hasOwnProperty("mts")?e.mts:-1;const s=e.ivs;if(s)for(const[e,t]of Object.entries(s)){const n=parseInt(e,10),s=this._objectType.GetInstanceVariableIndexBySID(n);if(s<0||s>=this._instVarValues.length)continue;let r=t;null===r&&(r=NaN),this._instVarValues[s]=r}}if(this.GetPlugin().IsWorldType()){const s=e.w;if(s){const e=s.l;if(this._worldInfo.GetLayer().GetSID()!==e){const n=this._worldInfo.GetLayer(),s=n.GetLayout().GetLayerBySID(e);s?(this._worldInfo._SetLayer(s),n._RemoveInstance(this,!0),s._AddInstance(this,!0),s.SetZIndicesChanged(this),this._worldInfo.SetBboxChanged()):"full"===t&&this._runtime.DestroyInstance(this)}this._worldInfo._LoadFromJson(s,t,n)}}if("visual-state"!==t){const n=e.behs;if(n)for(const[e,s]of Object.entries(n)){const n=parseInt(e,10),r=this.GetBehaviorIndexBySID(n);r<0||r>=this._behaviorInstances.length||this._behaviorInstances[r].LoadFromJson(s,t)}}const s=e.data;s&&(this._sdkInst?this._sdkInst.LoadFromJson(s,t):this._iScriptInterface._loadFromJson(s))}MoveToLayerWithSID(e){if(this._worldInfo.GetLayer().GetSID()===e)return;const t=this._worldInfo.GetLayer(),n=t.GetLayout().GetLayerBySID(e);n&&(this._worldInfo._SetLayer(n),t._RemoveInstance(this,!0),n._AddInstance(this,!0),n.SetZIndicesChanged(this),this._worldInfo.SetBboxChanged())}GetInterfaceClass(){return this._iScriptInterface||this._InitUserScriptInterface()}HasScriptInterface(){return!!this._iScriptInterface}_InitUserScriptInterface(e,t){const n=this._worldInfo?e?self.ISDKWorldInstanceBase:self.IWorldInstance:e?self.ISDKInstanceBase:self.IInstance,s=e||this._sdkInst.GetScriptInterfaceClass(),r=this._objectType._GetUserScriptInstanceClass(),o=r||s||n,a=this.GetPlugin().GetSdkVersion();if(jx.AddonManager._PushInitObject(this,a),jx.AddonManager._PushInitProperties(t),this._iScriptInterface=new o,jx.AddonManager._PopInitProperties(),jx.AddonManager._PopInitObject(a),s&&!(this._iScriptInterface instanceof n))throw new TypeError(`script interface class '${s.name}' does not extend the right base class '${n.name}'`);if(r){const e=s||n;if(!(this._iScriptInterface instanceof e))throw new TypeError(`setInstanceClass(): class '${r.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`)}return this._iScriptInterface}_GetInstVarsScriptDescriptor(e){if(0===this._instVarValues.length)return;const t={},n=this._objectType._GetAllInstanceVariableJsPropNames();for(let e=0,s=n.length;e<s;++e)t[n[e]]={configurable:!1,enumerable:!0,get:jx.Instance.prototype._GetInstanceVariableTypedValue.bind(this,e),set:jx.Instance.prototype.SetInstanceVariableValue.bind(this,e)};const s=Object.create(Object.prototype,t);e.instVars={value:s,writable:!1}}_GetBehaviorsScriptDescriptor(e){const t=this._behaviorInstances;if(0===t.length)return;const n={};for(const e of t)n[e.GetBehaviorType().GetJsPropName()]={value:e.GetScriptInterface(),writable:!1};const s=Object.create(Object.prototype,n);e.behaviors={value:s,writable:!1}}DispatchUserScriptEvent(e){if(!this.HasScriptInterface())return;const t=this.GetInterfaceClass();e.instance=t;const n=this._runtime,s=n.IsDebug()&&!n.GetEventSheetManager().IsInEventEngine();s&&kx.StartMeasuringScriptTime(),t.dispatchEvent(e),s&&kx.AddScriptTime()}}}{const eI=self.C3,tI=new Map;eI.SceneGraphInfo=class extends eI.DefendedBase{constructor(e){super(),this._owner=e,this._parent=null,this._children=[],this._startWidth=e.GetWidth(),this._startHeight=e.GetHeight(),this._startScaleX=1,this._startScaleY=1,this._parentStartAngle=0,this._ownOpacity=1,this._startOpacity=e.GetOpacity(),this._tmpSceneGraphChildren=null,this._tmpSceneGraphChildrenIndexes=null,this._indexInParent=NaN,this._originalSizeKnown=!1,this._originalWidth=NaN,this._originalHeight=NaN,this._on_instance_create=t=>{if(t.instance!==this._parent.GetInstance())return;e.GetRuntime().Dispatcher().removeEventListener("instancecreate",this._on_instance_create);const n=this._parent.GetInstance().GetSdkInstance();this._originalSizeKnown=!!n.IsOriginalSizeKnown(),this._originalWidth=this._originalSizeKnown?n.GetOriginalWidth():NaN,this._originalHeight=this._originalSizeKnown?n.GetOriginalHeight():NaN}}Release(){this._parent=null,this._tmpSceneGraphChildren=null,this._tmpSceneGraphChildrenIndexes=null,this._indexInParent=NaN,this._originalSizeKnown=!1,this._originalWidth=NaN,this._originalHeight=NaN,eI.clearArray(this._children)}SetParent(e){if(this._ownOpacity=this._owner.GetOpacity(),this._startOpacity=this._ownOpacity,this._parent=e,this._parentStartAngle=e?e.GetAngle():0,this._parent){const e=this._owner.GetRuntime();if(this._parent.GetInstance().GetPlugin().GetSdkVersion()<2){const t=this._parent.GetInstance().GetSdkInstance();t?(this._originalSizeKnown=!!t.IsOriginalSizeKnown(),this._originalWidth=this._originalSizeKnown?t.GetOriginalWidth():NaN,this._originalHeight=this._originalSizeKnown?t.GetOriginalHeight():NaN):this._parent.GetInstance().IsDestroyed()||e.Dispatcher().addEventListener("instancecreate",this._on_instance_create)}else this._originalSizeKnown=!1,this._originalWidth=NaN,this._originalHeight=NaN}else this._originalSizeKnown=!1,this._originalWidth=NaN,this._originalHeight=NaN}GetParent(){return this._parent}HasChildren(){return this._children.length>0}GetChildren(){return this._children}_MaybeSortChildren(){this.HasChildren()&&1!==this._children.length&&(this._tmpSceneGraphChildrenIndexes?this._children.sort((e,t)=>{const n=this._tmpSceneGraphChildrenIndexes.get(e.GetInstance()),s=this._tmpSceneGraphChildrenIndexes.get(t.GetInstance());return eI.IsFiniteNumber(n)&&eI.IsFiniteNumber(s)?n-s:0}):this._children.sort((e,t)=>{const n=e._GetSceneGraphInfo()._GetIndexInParent(),s=t._GetSceneGraphInfo()._GetIndexInParent();return eI.IsFiniteNumber(n)&&eI.IsFiniteNumber(s)?n-s:0}))}_GetIndexInParent(){return this._indexInParent}GetStartScaleX(){return this._startScaleX}SetStartScaleX(e){this._startScaleX=e}GetStartScaleY(){return this._startScaleY}SetStartScaleY(e){this._startScaleY=e}GetStartOpacity(){return this._startOpacity}GetOwnOpacity(){return this._ownOpacity}SetOwnOpacity(e){this._ownOpacity=e}_GetStartWidth(){return 0===this._startWidth?Number.EPSILON:this._startWidth}_GetStartHeight(){return 0===this._startHeight?Number.EPSILON:this._startHeight}GetParentScaleX(){if(this._owner.GetTransformWithParentWidth()){const e=this._parent;let t=e.GetWidth(),n=e._GetSceneGraphInfo()._GetStartWidth();return 0===t&&(t=Number.EPSILON),n===Number.EPSILON&&t===Number.EPSILON?1:n===Number.EPSILON&&t!==Number.EPSILON&&this._originalSizeKnown?1+t/this._originalWidth:t/n}return 1}GetParentScaleY(){if(this._owner.GetTransformWithParentHeight()){const e=this._parent;let t=e.GetHeight(),n=e._GetSceneGraphInfo()._GetStartHeight();return 0===t&&(t=Number.EPSILON),n===Number.EPSILON&&t===Number.EPSILON?1:n===Number.EPSILON&&t!==Number.EPSILON&&this._originalSizeKnown?1+t/this._originalHeight:t/n}return 1}GetParentStartAngle(){return 0}_SaveToJsonProperties(){return{sw:this._startWidth,sh:this._startHeight,sx:this._startScaleX,sy:this._startScaleY,psa:this._parentStartAngle,oo:this._ownOpacity,so:this._startOpacity,pi:this._owner.GetInstance().GetIndexInParent()}}_SaveToJson(e,t=null){const n=this._SaveToJsonProperties();return t&&t.selfOnly?Object.assign(n,{p:null,c:[]}):Object.assign(n,{p:this._GetParentJson(e),c:this._GetChildrenJson(e)})}_GetFlagsString(e){let t="";return e.GetTransformWithParentX()&&(t+="x"),e.GetTransformWithParentY()&&(t+="y"),e.GetTransformWithParentWidth()&&(t+="w"),e.GetTransformWithParentHeight()&&(t+="h"),e.GetTransformWithParentAngle()&&(t+="a"),e.GetTransformWithParentZElevation()&&(t+="z"),e.GetDestroyWithParent()&&(t+="d"),e.GetTransformWithParentOpacity()&&(t+="o"),e.GetTransformWithParentVisibility()&&(t+="v"),t}_GetParentJson(e){return this._parent?!this._parent.GetInstance()||this._parent.GetInstance().IsDestroyed()?null:this._GetInstanceJson(this._parent,this._owner,e):null}_GetChildrenJson(e){return this._children.map(t=>this._GetInstanceJson(t,t,e)).filter(e=>e)}_GetInstanceJson(e,t,n){const s=e.GetInstance();if(s&&s.IsDestroyed())return null;const r={};return r.uid=s.GetUID(),r.f=this._GetFlagsString(t),r.offsets=t._SaveSceneGraphPropertiesToJson(),r.data=eI.SceneGraphInfo.GetSceneGraphInstanceDataFromInstance(s),r.oci=s.GetObjectClass().GetIndex(),"state"===n?(r.inst=s.SaveToJson("full",{selfOnly:!0}),r.instIndex=NaN):(r.instIndex=s.GetObjectClass().GetInstances().indexOf(s),r.inst=null),r}_LoadFromJson(e){this._startWidth=e.sw,this._startHeight=e.sh,this._startScaleX=e.sx,this._startScaleY=e.sy,this._parentStartAngle=e.psa,this._ownOpacity=e.oo,this._startOpacity=e.so,this._indexInParent=eI.IsFiniteNumber(e.pi)?e.pi:NaN}_SetTmpSceneGraphChildren(e,t,n,s){if(!e&&!t)if(s?.setFromJson){if(this._tmpSceneGraphChildren)for(const e of this._tmpSceneGraphChildren)e.IsDestroyed()||e.HasParent()||e.GetRuntime().DestroyInstance(e)}else if(this._tmpSceneGraphChildren)for(const e of this._tmpSceneGraphChildren)if(n.c&&n.c.length){if(!n.c.some(t=>t.uid===e.GetUID()))continue;e.IsDestroyed()||e.HasParent()||e.GetRuntime().DestroyInstance(e)}this._tmpSceneGraphChildren=e,this._tmpSceneGraphChildrenIndexes=t}_GetInstanceByUID(e){const t=this._owner.GetRuntime();return tI.has(e)?tI.get(e):t.GetInstanceByUID(e)}_OnAfterLoad(e,t){const n=this._owner,s=n.GetRuntime(),r=t?.processedWorldInfo??new Set;if(e.p&&!this._parent){const o=e.p.uid,a=this._GetInstanceByUID(o);if(a){const o=a.GetWorldInfo();a.HasChild(n.GetInstance())?this._parent=o:(a.HasChildWithUID(n.GetInstance().GetUID())?(s.DestroyInstance(n.GetInstance()),s._RemoveInstanceFromUIDMap(n.GetInstance().GetUID()),tI.delete(n.GetInstance().GetUID())):a.AddChild(n.GetInstance(),this._GetFlagsObj(e.p.f)),r.has(n)||(n._LoadSceneGraphPropertiesFromJson(e.p.offsets),this._LoadInstancePropertiesFromJson(a,e.p,t),this._UpdateUIDInstanceMap(a,a.GetUID(),n.GetRuntime(),t)),r.add(n),a.GetWorldInfo()._GetSceneGraphInfo()._MaybeSortChildren())}else if(eI.IsFiniteNumber(e.p.oci)){const r=s.CreateInstance(s.GetObjectClassByIndex(e.p.oci),n.GetLayer(),0,0,!0);if(r){const o=this._GetInstanceData(e.p,s);o&&r.LoadFromJson(o);const a=r.GetWorldInfo(),i=!!t?.setFromJson;a.GetLayer().SortAndAddInstancesByZIndex(r,!1,i),r.AddChild(n.GetInstance(),this._GetFlagsObj(e.p.f)),tI.set(r.GetUID(),r),this._UpdateUIDInstanceMap(r,r.GetUID(),s,t),r.GetWorldInfo()._GetSceneGraphInfo()._MaybeSortChildren()}}}const o=[];for(const t of e.c){const e=t.uid,n=this._GetInstanceByUID(e);n&&o.push(n)}let a=0;for(const i of e.c){const l=i.uid,d=this._GetInstanceByUID(l);if(d){if(this._tmpSceneGraphChildren){if(this._tmpSceneGraphChildren.includes(d)){const s=d;if(s.GetObjectClass()!==d.GetObjectClass()){a++;continue}if(s.IsDestroyed()){a++;continue}const i=e.c[a];if(!t?.setFromJson&&this._HasAllChildrenOfType(s,o,n)){if(n.GetInstance().GetChildAt(a)){const o=s.GetObjectClass().GetIndex(),l=i.oci,d=n.GetInstance().GetChildAt(a).GetObjectClass().GetIndex();if(o!==l||l!==d){this._RefreshAllChildren(e.c,n,r,t);break}this._UpdateInstance(a,i,n,r,t)}else this._UpdateInstance(a,i,n,r,t);a++;continue}if(s.HasParent()&&s.GetParent()!==n.GetInstance()){const e=this._CreateNewChildInstance(i,t);this._AddAndSetChildInstance(e,i,r,t),a++;continue}this._AddAndSetChildInstance(s.GetWorldInfo(),i,r,t,!0),a++;continue}if(this._tmpSceneGraphChildren[a]){const s=this._tmpSceneGraphChildren[a];if(s.GetObjectClass()!==d.GetObjectClass()){a++;continue}if(s.IsDestroyed()){a++;continue}const i=e.c[a];if(!t?.setFromJson&&this._HasAllChildrenOfType(s,o,n)){if(n.GetInstance().GetChildAt(a)){const o=s.GetObjectClass().GetIndex(),l=i.oci,d=n.GetInstance().GetChildAt(a).GetObjectClass().GetIndex();if(o!==l||l!==d){this._RefreshAllChildren(e.c,n,r,t);break}this._UpdateInstance(a,i,n,r,t)}else this._UpdateInstance(a,i,n,r,t);a++;continue}if(s.HasParent()&&s.GetParent()!==n.GetInstance()){const e=this._CreateNewChildInstance(i,t);this._AddAndSetChildInstance(e,i,r,t),a++;continue}this._AddAndSetChildInstance(s.GetWorldInfo(),i,r,t,!0),a++;continue}}const s=d.GetObjectClass();if(this._GetInstancesOfObjectClassCount(o,s)===n.GetInstance().GetChildrenOfObjectClass(s).length){for(const e of n.GetInstance().GetChildren()){if(e.GetObjectClass()!==s)continue;const n=e.GetWorldInfo();if(n&&!r.has(n)){r.add(n),n._LoadSceneGraphPropertiesFromJson(i.offsets),this._LoadInstancePropertiesFromJson(e,i,t);break}}a++;continue}if(d.HasParent()&&d.GetParent()!==n.GetInstance()){const e=this._CreateNewChildInstance(i,t);this._AddAndSetChildInstance(e,i,r,t),a++;continue}this._AddAndSetChildInstance(d.GetWorldInfo(),i,r,t)}else if(this._tmpSceneGraphChildren&&this._tmpSceneGraphChildren[a]){const l=this._tmpSceneGraphChildren[a],d=s.GetObjectClassByIndex(this._GetObjectClassIndex(i));if(l.GetObjectClass()!==d){a++;continue}if(l.IsDestroyed()){a++;continue}const c=e.c[a];if(!t?.setFromJson&&this._HasAllChildrenOfType(l,o,n)){if(n.GetInstance().GetChildAt(a)){const s=l.GetObjectClass().GetIndex(),o=c.oci,i=n.GetInstance().GetChildAt(a).GetObjectClass().GetIndex();if(s!==o||o!==i){this._RefreshAllChildren(e.c,n,r,t);break}this._UpdateInstance(a,c,n,r,t)}else this._UpdateInstance(a,c,n,r,t);a++;continue}if(l.HasParent()&&l.GetParent()!==n.GetInstance()){const e=this._CreateNewChildInstance(c,t);this._AddAndSetChildInstance(e,c,r,t),a++;continue}this._AddAndSetChildInstance(l.GetWorldInfo(),c,r,t)}else{const e=this._CreateNewChildInstance(i,t);this._AddAndSetChildInstance(e,i,r,t)}a++}}_RefreshAllChildren(e,t,n,s){const r=t.GetRuntime();for(const e of t.GetInstance().children())e&&!e.IsDestroyed()&&(r.DestroyInstance(e),r._RemoveInstanceFromUIDMap(e.GetUID()),tI.delete(e.GetUID()));this._tmpSceneGraphChildren&&(this._tmpSceneGraphChildren=[]),this._tmpSceneGraphChildrenIndexes&&(this._tmpSceneGraphChildrenIndexes=new WeakMap),Object.assign({},s,{assignZIndex:!1});for(const t of e){const e=this._CreateNewChildInstance(t,s);this._AddAndSetChildInstance(e,t,n,s),this._tmpSceneGraphChildren.push(e.GetInstance()),this._tmpSceneGraphChildrenIndexes.set(e.GetInstance(),this._tmpSceneGraphChildren.length-1)}t._GetSceneGraphInfo()._MaybeSortChildren()}_HasAllChildrenOfType(e,t,n){const s=e.GetObjectClass();return this._GetInstancesOfObjectClassCount(t,s)===n.GetInstance().GetChildrenOfObjectClass(s).length}_UpdateInstance(e,t,n,s,r){const o=n.GetInstance().GetChildAt(e);if(!o)return;const a=o.GetWorldInfo();a&&(s.has(a)||(a._LoadSceneGraphPropertiesFromJson(t.offsets),this._LoadInstancePropertiesFromJson(o,t,r)),s.add(a))}_GetFlagsObj(e){const t={};return t.transformX=e.includes("x"),t.transformY=e.includes("y"),t.transformWidth=e.includes("w"),t.transformHeight=e.includes("h"),t.transformAngle=e.includes("a"),t.transformZElevation=e.includes("z"),t.destroyWithParent=e.includes("d"),t.transformOpacity=e.includes("o"),t.transformVisibility=e.includes("v"),t}_GetObjectClassIndex(e){return eI.IsFiniteNumber(e.oci)?e.oci:e[1]}_CreateNewChildInstance(e,t){if(!eI.IsFiniteNumber(e.oci))return;const n=this._owner,s=n.GetRuntime();let r;const o=!t.hasOwnProperty("createHierarchy")||t.createHierarchy;if(r=e.data?s.CreateInstanceFromData(e.data,n.GetLayer(),!1,0,0,!1,o):s.CreateInstance(s.GetObjectClassByIndex(e.oci),n.GetLayer(),0,0,o),!r)return;const a=this._GetInstanceData(e,s);a&&r.LoadFromJson(a);const i=r.GetWorldInfo(),l=!!t?.setFromJson;return i.GetLayer().SortAndAddInstancesByZIndex(r,!0,l),i}_UpdateUIDInstanceMap(e,t,n,s){if(this._GetInstanceByUID(t)&&!s?.setFromJson){const s=this._GetInstanceByUID(t);s!==e&&n.DestroyInstance(s)}n._RemoveInstanceFromUIDMap(t),n._MapInstanceByUID(t,e)}_AddAndSetChildInstance(e,t,n,s,r=!0){const o=this._owner,a=o.AddChild(e,this._GetFlagsObj(t.f));a&&r?(n.has(e)||(e._LoadSceneGraphPropertiesFromJson(t.offsets),this._LoadInstancePropertiesFromJson(e.GetInstance(),t,s)),n.add(e)):a&&(tI.set(e.GetInstance().GetUID(),e.GetInstance()),this._UpdateUIDInstanceMap(e.GetInstance(),t.uid,o.GetRuntime(),s)),this._MaybeSortChildren()}_LoadInstancePropertiesFromJson(e,t,n){let s=this._GetInstanceData(t,this._owner.GetRuntime());if(!s)return;const r=!n.hasOwnProperty("clearChildren")||n.clearChildren,o=!n.hasOwnProperty("assignZIndex")||n.assignZIndex,a=e.GetRuntime();if(tI.set(e.GetUID(),e),s=JSON.parse(JSON.stringify(s)),r&&e.GetUID()!==s.uid){for(const t of e.children())t&&!t.IsDestroyed()&&(a.DestroyInstance(t),a._RemoveInstanceFromUIDMap(t.GetUID()),tI.delete(t.GetUID()));if(s.w?.sgi&&s.w.sgi.c?.length)for(const t of s.w.sgi.c){const s=Object.assign({},n,{clearChildren:!1,createHierarchy:!1}),r=this._CreateNewChildInstance(t,s);tI.set(r.GetInstance().GetUID(),r.GetInstance()),e.AddChild(r.GetInstance(),this._GetFlagsObj(t.f)),r._LoadSceneGraphPropertiesFromJson(t.offsets),this._LoadInstancePropertiesFromJson(r.GetInstance(),t,s)}}const i=s.w?.zi,l=s.w?.l;s.w=null,e.LoadFromJson(s),n?.setFromJson||(eI.IsFiniteNumber(i)&&o&&e.GetWorldInfo()._SetZIndex(i),eI.IsFiniteNumber(l)&&e.MoveToLayerWithSID(l)),this._UpdateUIDInstanceMap(e,s.uid,a,n)}_GetInstancesOfObjectClassCount(e,t){return e.filter(e=>e.GetObjectClass().GetName()===t.GetName()).length}_GetInstanceData(e,t){if(eI.IsFiniteNumber(e.instIndex)){const n=t.GetObjectClassByIndex(e.oci)._GetLoadInstancesJson();return n?n[e.instIndex]:null}return eI.IsString(e.inst)?JSON.parse(e.inst):e.inst?e.inst:void 0}static GetSceneGraphInstanceDataFromInstance(e){let t=e.GetWorldInfo().GetLayer().GetInitialInstanceData(e.GetUID());if(!t)return null;t=JSON.parse(JSON.stringify(t));const n=[];for(const t of[...e.GetChildren()]){const e=t.GetWorldInfo();n.push([e.GetLayout().GetSID(),e.GetLayer().GetIndex(),t.GetUID(),eI.SceneGraphInfo._GetFlagsNumber(e),t.GetObjectClass().IsInContainer()?1:0,e.GetZIndex(),eI.SceneGraphInfo.GetSceneGraphInstanceDataFromInstance(t)])}return eI.IsArray(t[0][14])?t[0][14][1]=n:(t[0][14]=[],t[0][14][0]=eI.SceneGraphInfo._GetDefaultFlagsNumber(),t[0][14][1]=n,t[0][14][2]=e.GetWorldInfo().GetZIndex()),t}static _GetFlagsNumber(e){let t=0;return t|=Number(e.GetTransformWithParentVisibility())<<8,t|=Number(e.GetTransformWithParentOpacity())<<7,t|=Number(e.GetTransformWithParentZElevation())<<6,t|=Number(e.GetDestroyWithParent())<<5,t|=Number(e.GetTransformWithParentAngle())<<4,t|=Number(e.GetTransformWithParentHeight())<<3,t|=Number(e.GetTransformWithParentWidth())<<2,t|=Number(e.GetTransformWithParentY())<<1,t|=0|Number(e.GetTransformWithParentX()),t}static _GetDefaultFlagsNumber(e){let t=0;return t|=256,t|=128,t|=64,t|=32,t|=16,t|=8,t|=4,t|=2,t|=1,511}static ClearUpdatedInstances(){tI.clear()}}}{const nI=self.C3,sI=self.glMatrix,rI=sI.vec3,oI=sI.vec4,aI=nI.New(nI.Rect),iI=nI.New(nI.Quad),lI=nI.New(nI.Event,"bboxchange",!1),dI=nI.New(nI.Color,0,0,0,0),cI=nI.New(nI.CollisionPoly),uI=nI.New(nI.Color,1,1,1,1),hI=nI.New(nI.Rect,0,0,-1,-1),_I=nI.New(nI.Rect,0,0,-1,-1),GI=new Set(["absolute","relative"]),pI=[];let mI=!0;const gI=1,fI=2,NI=4,bI=8,SI=16,xI=32,II=64,yI=128,EI=256,TI=512,CI=1024,MI=2048,VI=4096,BI=8192,OI=16384,vI=32768,PI=1<<22,wI=1<<23,AI=12647936,DI=65536,RI=1<<17,FI=1<<18,jI=1<<19,kI=1<<20,LI=1<<21,WI=1<<24,UI=26,HI=31<<26,zI=new WeakMap,YI=new WeakMap;nI.WorldInfo=class extends nI.DefendedBase{constructor(e,t){super(),this._inst=e,this._objectClass=e.GetObjectClass(),this._runtime=e.GetRuntime(),this._layer=t,this._objectClass._OnWorldInstanceLayerChanged(this,null,t),this._zIndex=-1,this._htmlZIndex=-1,this._flags=196635,this._objectClass.GetPlugin().IsRotatable()&&(this._flags|=128),this._x=NaN,this._y=NaN,this._zElevation=NaN,this._w=NaN,this._h=NaN,this._depth=NaN,this._a=NaN,this._sinA=NaN,this._cosA=NaN,this._ox=NaN,this._oy=NaN,this._boundingBox=nI.New(nI.Rect),this._boundingQuad=nI.New(nI.Quad),this._collisionCells=_I,this._renderCells=hI,this._sourceCollisionPoly=null,this._transformedPolyInfo=null,this._solidFilterTags=null,this._color=uI,this._colorPremultiplied=uI,this._stateGroup=null,this._instanceEffectList=null,this._inst.GetObjectClass().UsesEffects()&&(this._instanceEffectList=nI.New(nI.InstanceEffectList,this._inst,this)),this._sceneGraphInfo=null,this._tmpSceneGraphChildren=null,this._tmpSceneGraphChildrenIndexes=null,this._tmpHierarchyPosition=-1,this._meshInfo=null}_MarkDestroyed(){this._flags|=256}Release(){if(this._objectClass._OnWorldInstanceLayerChanged(this,this._layer,null),this._stateGroup&&(this._runtime.GetRenderer().ReleaseStateGroup(this._stateGroup),this._stateGroup=null),this._sourceCollisionPoly=null,this._transformedPolyInfo&&(this._transformedPolyInfo.poly.Release(),this._transformedPolyInfo=null),this._solidFilterTags&&(this._solidFilterTags.clear(),this._solidFilterTags=null),this.ReleaseMesh(),this._instanceEffectList&&this._instanceEffectList.Release(),this.HasParent()&&this.GetParent().RemoveChild(this),this.HasChildren()){const e=[...this.GetChildren()];for(const t of e)this.RemoveChild(t)}this._ReleaseSceneGraphInfo(),this._ReleaseTmpSceneGraphInfo(),zI.delete(this),YI.delete(this),this._inst=null,this._objectClass=null,this._runtime=null,this._layer=null}Init(e){if(mI=!1,this.SetXY(e[0],e[1]),this.SetZElevation(e[2]),this.SetSize(e[3],e[4]),this._depth=0,this.IsRotatable()?this.SetAngle(e[6]):this._a=0,dI.setFromJSON(e[7]),this._SetColor(dI),this.SetOriginX(e[8]),this.SetOriginY(e[9]),this.SetBlendMode(e[10]),this._instanceEffectList&&this._instanceEffectList._LoadEffectParameters(e[12]),e[14]&&zI.set(this,{childrenData:e[14][1],zIndexData:e[14][2]}),e[15]){const t=e[15];this.CreateMesh(t[0],t[1]);const n=this.GetSourceMesh(),s=t[2];for(let e=0,t=s.length;e<t;++e){const t=s[e];for(let s=0,r=t.length;s<r;++s){const r=t[s],o=n.GetMeshPointAt(s,e);o.SetX(r[0]),o.SetY(r[1]),o.SetZElevation(r[2]),o.SetU(r[3]),o.SetV(r[4])}}}if(e[16]){const t=e[16][0],n=e[16][1],s=!!n,r=!s,o=this._runtime.GetTemplateManager();s&&o&&o.MapInstanceToTemplateName(this.GetInstance(),n),r&&o&&o.MapInstanceToTemplateName(this.GetInstance(),t)}mI=!0,this._UpdateRendererStateGroup()}InitNoData(){this._x=0,this._y=0,this._zElevation=0,this._w=0,this._h=0,this._depth=0,this._a=0,this._sinA=0,this._cosA=1,this._ox=0,this._oy=0,this._UpdateRendererStateGroup()}GetRuntime(){return this._runtime}GetObjectClass(){return this._objectClass}GetInstance(){return this._inst}_GetParentOffsetAngle(){return this.GetTransformWithParentAngle()?this._MaybeReflectAngleForMirrorFlip(this.GetParent()._GetAngleNoReflect()-this._sceneGraphInfo.GetParentStartAngle()):0}SetX(e){if(e=+e,this.GetTransformWithParentX()){const t=this._sceneGraphInfo,n=e-this.GetX(),s=-this._GetParentOffsetAngle();0===s?this._x+=n/t.GetParentScaleX():(this._x+=Math.cos(s)*n/t.GetParentScaleX(),this.GetTransformWithParentY()&&(this._y+=Math.sin(s)*n/t.GetParentScaleY()))}else this._x=e}OffsetX(e,t=!1){e=+e,t?this._x+=e:this.GetTransformWithParentX()?this.SetX(this.GetX()+e):this._x+=e}GetX(){if(this.GetTransformWithParentX()){let e=this._x;const t=this._sceneGraphInfo,n=this.GetParent(),s=this._GetParentOffsetAngle();return 0===s?e*=t.GetParentScaleX():(e=e*t.GetParentScaleX()*Math.cos(s),this.GetTransformWithParentY()&&(e-=this._y*t.GetParentScaleY()*Math.sin(s))),n.GetX()+e}return this._x}SetY(e){if(e=+e,this.GetTransformWithParentY()){const t=this._sceneGraphInfo,n=e-this.GetY(),s=-this._GetParentOffsetAngle();0===s?this._y+=n/t.GetParentScaleY():(this.GetTransformWithParentX()&&(this._x-=Math.sin(s)*n/t.GetParentScaleX()),this._y+=Math.cos(s)*n/t.GetParentScaleY())}else this._y=e}OffsetY(e,t=!1){e=+e,t?this._y+=e:this.GetTransformWithParentY()?this.SetY(this.GetY()+e):this._y+=e}GetY(){if(this.GetTransformWithParentY()){let e=this._y;const t=this._sceneGraphInfo,n=this.GetParent(),s=this._GetParentOffsetAngle();return 0===s?e*=t.GetParentScaleY():(e=e*t.GetParentScaleY()*Math.cos(s),this.GetTransformWithParentX()&&(e+=this._x*t.GetParentScaleX()*Math.sin(s))),n.GetY()+e}return this._y}SetXY(e,t){if(e=+e,t=+t,this.GetTransformWithParentXOrY()){const n=this.GetTransformWithParentX(),s=this.GetTransformWithParentY(),r=this._sceneGraphInfo,o=e-this.GetX(),a=t-this.GetY(),i=-this._GetParentOffsetAngle();if(0===i)n?this._x+=o/r.GetParentScaleX():this._x=e,s?this._y+=a/r.GetParentScaleY():this._y=t;else{const l=Math.sin(i),d=Math.cos(i);n?this._x+=s?(d*o-l*a)/r.GetParentScaleX():d*o/r.GetParentScaleX():this._x=e,s?this._y+=n?(l*o+d*a)/r.GetParentScaleY():d*a/r.GetParentScaleY():this._y=t}}else this._x=e,this._y=t}GetXY(){return[this.GetX(),this.GetY()]}OffsetXY(e,t){e=+e,t=+t,this.GetTransformWithParentXOrY()?this.SetXY(this.GetX()+e,this.GetY()+t):(this._x+=e,this._y+=t)}EqualsXY(e,t){return this.GetX()===e&&this.GetY()===t}SetZElevation(e){if(e=+e,this.GetTransformWithParentZElevation()&&(e-=this.GetParent().GetZElevation()),this._zElevation===e)return;this._zElevation=e,this._UpdateZElevation();const t=this.GetLayer();0!==this._zElevation&&t._SetAnyInstanceZElevated(),t.SetZIndicesChanged(this)}_UpdateZElevation(){if(this._UpdateRendererStateGroup(),this.HasChildren()){const e=this.GetChildren();for(let t=0,n=e.length;t<n;t++){const n=e[t];n.GetTransformWithParentZElevation()&&n._UpdateZElevation()}}}OffsetZElevation(e){this.SetZElevation(this.GetZElevation()+e)}GetZElevation(){return this.GetTransformWithParentZElevation()?this.GetParent().GetZElevation()+this._zElevation:this._zElevation}GetTotalZElevation(){return this.GetLayer().GetZElevation()+this.GetZElevation()}IsOriginalSizeKnown(){return this.GetInstance().GetPlugin().GetSdkVersion()<2&&this.GetInstance().GetSdkInstance().IsOriginalSizeKnown()}SetWidth(e){if(e=+e,this.GetTransformWithParentWidth()){const t=this.GetWidth();0===t?this._w=Number.EPSILON:this._w*=e/t}else this._w=e;this._MarkSinCosAngleChanged()}OffsetWidth(e,t){e=+e,t?this._w+=e:this.GetTransformWithParentWidth()?this.SetWidth(this.GetWidth()+e):this._w+=e,this._MarkSinCosAngleChanged()}GetWidth(){if(this.GetTransformWithParentWidth()){const e=this.GetParent(),t=e.GetWidth();return e._GetSceneGraphInfo()._GetStartWidth()===Number.EPSILON?(this._GetSceneGraphInfo()._GetStartWidth()+t)*this._w:t*this._w}return this._w}SetHeight(e){if(e=+e,this.GetTransformWithParentHeight()){const t=this.GetHeight();0===t?this._h=Number.EPSILON:this._h*=e/t}else this._h=e;this._MarkSinCosAngleChanged()}OffsetHeight(e,t){e=+e,t?this._h+=e:this.GetTransformWithParentHeight()?this.SetHeight(this.GetHeight()+e):this._h+=e,this._MarkSinCosAngleChanged()}GetHeight(){if(this.GetTransformWithParentHeight()){const e=this.GetParent(),t=e.GetHeight();return e._GetSceneGraphInfo()._GetStartHeight()===Number.EPSILON?(this._GetSceneGraphInfo()._GetStartHeight()+t)*this._h:t*this._h}return this._h}SetSize(e,t){if(e=+e,t=+t,this.GetTransformWithParentWidth()){const t=this.GetWidth();0===t?this._w=Number.EPSILON:this._w*=e/t}else this._w=e;if(this.GetTransformWithParentHeight()){const e=this.GetHeight();0===e?this._h=Number.EPSILON:this._h*=t/e}else this._h=t;this._MarkSinCosAngleChanged()}GetSize(){return[this.GetWidth(),this.GetHeight()]}GetDepth(){return this._depth}SetDepth(e){if(e<0)throw new RangeError("invalid depth");this._depth=e}GetSceneGraphScale(){if(this.HasParent()){const e=this._sceneGraphInfo;return Math.min(e.GetParentScaleX(),e.GetParentScaleY())}return 1}IsRotatable(){return!!(128&this._flags)}SetAngle(e){e=+e,this.IsRotatable()&&(this.GetTransformWithParentAngle()&&(e-=this.GetParent().GetAngle()),e=nI.clampAngle(e),this._a!==e&&(this._a=e,this._MarkSinCosAngleChanged()))}OffsetAngle(e){0!==(e=+e)&&this.IsRotatable()&&(this._a=nI.clampAngle(this._a+e),this._MarkSinCosAngleChanged())}_MarkSinCosAngleChanged(){if(this._flags|=262144,this.HasChildren()){const e=this.GetChildren();for(let t=0,n=e.length;t<n;t++)e[t]._MarkSinCosAngleChanged()}}GetAngle(){return this.GetTransformWithParentAngle()&&this.IsRotatable()?this._MaybeReflectAngleForMirrorFlip(nI.clampAngle(this.GetParent()._GetAngleNoReflect()+this._a)):this._a}_GetAngleNoReflect(){return this.GetTransformWithParentAngle()&&this.IsRotatable()?nI.clampAngle(this.GetParent()._GetAngleNoReflect()+this._a):this._a}_MaybeReflectAngleForMirrorFlip(e){return this.GetTransformWithParentWidth()&&this.GetTopParent().GetWidth()<0&&(e=nI.clampAngle(nI.angleReflect(e,this.GetTopParent().GetAngle()+Math.PI))),this.GetTransformWithParentHeight()&&this.GetTopParent().GetHeight()<0&&(e=nI.angleReflect(e,this.GetTopParent().GetAngle())),e}_NeedsReflectAngleForMirrorOrFlip(){const e=this.GetParent();return!!(this.GetTransformWithParentWidth()&&e.GetWidth()<0)||!!(this.GetTransformWithParentHeight()&&e.GetHeight()<0)}_NeedsReflectAngleForMirrorAndFlip(){const e=this.GetParent();return!!(this.GetTransformWithParentWidth()&&e.GetWidth()<0&&this.GetTransformWithParentHeight()&&e.GetHeight()<0)}_MaybeUpdateSinCosAngle(){const e=this._flags;if(!(262144&e))return;const t=this.GetAngle();this._sinA=Math.sin(t),this._cosA=Math.cos(t),this._flags=-262145&e}GetSinAngle(){return this._MaybeUpdateSinCosAngle(),this._sinA}GetCosAngle(){return this._MaybeUpdateSinCosAngle(),this._cosA}SetOriginX(e){this._ox=+e}OffsetOriginX(e){this._ox+=+e}GetOriginX(){return this._ox}SetOriginY(e){this._oy=+e}OffsetOriginY(e){this._oy+=+e}GetOriginY(){return this._oy}_SetColor(e){this._color.equals(e)||(this._color===uI?(this._color=nI.New(nI.Color,e),this._colorPremultiplied=nI.New(nI.Color,e),this._colorPremultiplied.premultiply()):e.equalsRgba(1,1,1,1)?(this._color=uI,this._colorPremultiplied=uI):(this._color.set(e),this._colorPremultiplied.set(e),this._colorPremultiplied.premultiply()),this._UpdateRendererStateGroup())}SetOpacity(e){if(e=nI.clamp(+e,0,1),this.GetTransformWithParentOpacity()){if(this._GetSceneGraphInfo().GetOwnOpacity()===e)return;this._GetSceneGraphInfo().SetOwnOpacity(e),e=this.GetOpacity()}else if(this._color.a===e)return;this._SetColorWithOpacity(e)}_SetOpacityOfChildren(){if(!this.HasChildren())return;const e=this.GetChildren();for(let t=0,n=e.length;t<n;t++){const n=e[t];n._SetColorWithOpacity(n.GetOpacity())}}_SetColorWithOpacity(e){dI.copyRgb(this._color),dI.a=e,this._SetColor(dI),this._SetOpacityOfChildren()}OffsetOpacity(e){this.GetTransformWithParentOpacity()?this.SetOpacity(this._GetSceneGraphInfo().GetOwnOpacity()+e):this.SetOpacity(this.GetOpacity()+e)}GetOpacity(){return this.GetTransformWithParentOpacity()?this.GetParent().GetOpacity()*this._GetSceneGraphInfo().GetOwnOpacity():this._color.a}SetUnpremultipliedColor(e){this._color.equalsIgnoringAlpha(e)||(dI.copyRgb(e),dI.a=this.GetOpacity(),this._SetColor(dI))}SetUnpremultipliedColorRGB(e,t,n){dI.setRgb(e,t,n),this.SetUnpremultipliedColor(dI)}OffsetUnpremultipliedColorRGB(e,t,n){0===e&&0===t&&0===n||(dI.copyRgb(this._color),dI.r+=e,dI.g+=t,dI.b+=n,this.SetUnpremultipliedColor(dI))}GetUnpremultipliedColor(){return this._color}GetPremultipliedColor(){return this._colorPremultiplied}GetDestroyWithParent(){return!!(512&this._flags)}SetDestroyWithParent(e){this._SetFlag(512,e)}GetTransformWithParentX(){return!!(1024&this._flags)}SetTransformWithParentX(e){this._SetFlag(1024,e)}GetTransformWithParentY(){return!!(2048&this._flags)}GetTransformWithParentXOrY(){return!!(3072&this._flags)}SetTransformWithParentY(e){this._SetFlag(2048,e)}GetTransformWithParentWidth(){return!!(4096&this._flags)}SetTransformWithParentWidth(e){this._SetFlag(4096,e)}GetTransformWithParentHeight(){return!!(8192&this._flags)}SetTransformWithParentHeight(e){this._SetFlag(8192,e)}GetTransformWithParentAngle(){return!!(16384&this._flags)}SetTransformWithParentAngle(e){this._SetFlag(16384,e)}GetTransformWithParentZElevation(){return!!(32768&this._flags)}SetTransformWithParentZElevation(e){this._SetFlag(32768,e)}GetTransformWithParentOpacity(){return!!(4194304&this._flags)}SetTransformWithParentOpacity(e){this._SetFlag(4194304,e)}GetTransformWithParentVisibility(){return!!(8388608&this._flags)}SetTransformWithParentVisibility(e){this._SetFlag(8388608,e)}_ClearAllSceneGraphFlags(){this._flags&=-12647937}AddChild(e,t){if(e===this)return!1;if(e.HasParent())return!1;if(this._HasChildRecursive(e))return!1;if(this._HasAnyParent(e))return!1;const n=e.GetX(),s=e.GetY(),r=e.GetWidth(),o=e.GetHeight(),a=e.GetAngle(),i=e.GetZElevation(),l=e.GetOpacity();e._SetParent(this),e.SetTransformWithParentX(t.transformX),e.SetTransformWithParentY(t.transformY),e.SetTransformWithParentWidth(t.transformWidth),e.SetTransformWithParentHeight(t.transformHeight),e.SetTransformWithParentAngle(t.transformAngle),e.SetTransformWithParentZElevation(t.transformZElevation),e.SetTransformWithParentOpacity(t.transformOpacity),e.SetTransformWithParentVisibility(t.transformVisibility),e.SetDestroyWithParent(t.destroyWithParent);const d=n-this.GetX(),c=s-this.GetY(),u=-this.GetAngle(),h=Math.cos(u),_=Math.sin(u);if(t.transformX&&(t.transformAngle?e._x=d*h-c*_:e._x=d,t.transformWidth)){const t=this.GetWidth()/this._sceneGraphInfo._GetStartWidth();0!==t&&(e._x/=t)}if(t.transformY&&(t.transformAngle?e._y=d*_+c*h:e._y=c,t.transformHeight)){const t=this.GetHeight()/this._sceneGraphInfo._GetStartHeight();0!==t&&(e._y/=t)}if(t.transformWidth){const t=this.GetWidth();0===t||t===Number.EPSILON?(e._w=1,e._sceneGraphInfo.SetStartScaleX(1)):(e._w=r/this.GetWidth(),e._sceneGraphInfo.SetStartScaleX(e._w))}if(t.transformHeight){const t=this.GetHeight();0===t||t===Number.EPSILON?(e._h=1,e._sceneGraphInfo.SetStartScaleY(1)):(e._h=o/this.GetHeight(),e._sceneGraphInfo.SetStartScaleY(e._h))}return t.transformAngle&&(e._a=a-this.GetAngle()),t.transformZElevation&&(e._zElevation=i-this.GetZElevation()),t.transformOpacity&&e._sceneGraphInfo.SetOwnOpacity(l),t.transformVisibility&&e.SetVisible(this.IsVisible()),this._AddChildToSceneGraphInfo(e),this.SetBboxChanged(),this._SetOpacityOfChildren(),!0}RemoveChild(e){if(e.GetParent()!==this)return;const t=e.GetX(),n=e.GetY(),s=e.GetWidth(),r=e.GetHeight(),o=e.GetAngle(),a=e.GetZElevation(),i=e.GetOpacity();e._SetParent(null),e._ClearAllSceneGraphFlags(),e.SetXY(t,n),e.SetSize(s,r),e.SetAngle(o),e.SetZElevation(a),e.SetOpacity(i),this._RemoveChildFromSceneGraphInfo(e),this.SetBboxChanged()}GetTmpHierarchyPosition(){return this._tmpHierarchyPosition}_ResetAllSceneGraphState(){this._BuildTmpSceneGraphData();const e=[...this.children()];for(const t of e)this.RemoveChild(t);const t=this.GetParent();t&&t.RemoveChild(this),this._ClearAllSceneGraphFlags()}_BuildTmpSceneGraphData(){if(this._SetTmpHierarchyPosition(),!this._tmpSceneGraphChildren){const e=[...this.children()];e.length&&(this._tmpSceneGraphChildren=[],this._tmpSceneGraphChildrenIndexes=new WeakMap);let t=0;for(const n of e){const e=n.GetInstance();this._tmpSceneGraphChildren.push(e),this._tmpSceneGraphChildrenIndexes.set(e,t),t++}}const e=this.GetParent();e&&e._BuildTmpSceneGraphData()}_SetTmpHierarchyPosition(){if(-1!==this._tmpHierarchyPosition)return;const e=[...this.parents()];this._tmpHierarchyPosition=e.length;for(const t of e)t._SetTmpHierarchyPosition();const t=[...this.children()];for(const e of t)e._SetTmpHierarchyPosition()}_ReleaseTmpSceneGraphInfo(){this._tmpSceneGraphChildren&&(this._tmpSceneGraphChildren.length=0),this._tmpSceneGraphChildren=null,this._tmpSceneGraphChildrenIndexes=null;const e=this.GetParent();e&&e._ReleaseTmpSceneGraphInfo(),this._tmpHierarchyPosition=-1}HasParent(){return null!==this.GetParent()}GetParent(){const e=this._sceneGraphInfo;return null!==e?e.GetParent():null}GetTopParent(){let e=this;for(;e.HasParent();)e=e.GetParent();return e}*parents(){let e=this.GetParent();for(;e;)yield e,e=e.GetParent()}HasChild(e){return this.GetChildren().includes(e)}HasChildren(){const e=this._sceneGraphInfo;return null!==e&&e.HasChildren()}GetChildren(){const e=this._sceneGraphInfo;return null!==e?e.GetChildren():pI}children(){return this.GetChildren()}*allChildren(){for(const e of this.children())yield e,yield*e.allChildren()}GetChildCount(){return this.GetChildren().length}GetAllChildCount(){return[...this.allChildren()].length}GetChildAt(e){const t=this.GetChildren();return(e=Math.floor(+e))<0||e>=t.length?null:t[e]}GetChildIndex(e){if(!e)return NaN;const t=this.GetChildren();if(!t)return NaN;for(let n=0;n<t.length;n++)if(e===t[n])return n;return NaN}_CreateSceneGraphInfo(e){this._sceneGraphInfo||(this._sceneGraphInfo=nI.New(nI.SceneGraphInfo,this)),e&&this._sceneGraphInfo.SetParent(e)}_GetSceneGraphInfo(){return this._sceneGraphInfo}_ReleaseSceneGraphInfo(){this._sceneGraphInfo&&(this._sceneGraphInfo.Release(),this._sceneGraphInfo=null)}_SetParent(e){e?(e._CreateSceneGraphInfo(null),this._CreateSceneGraphInfo(e)):(this._sceneGraphInfo&&this._sceneGraphInfo.SetParent(null),this.HasChildren()||this._ReleaseSceneGraphInfo())}_HasAnyParent(e){if(!this.HasParent())return!1;const t=this.GetParent();return t===e||t._HasAnyParent(e)}_HasChildRecursive(e){if(this.HasChild(e))return!0;for(const t of this.GetChildren())if(t._HasChildRecursive(e))return!0;return!1}_AddChildToSceneGraphInfo(e){this._sceneGraphInfo.GetChildren().push(e)}_RemoveChildFromSceneGraphInfo(e){const t=this._sceneGraphInfo.GetChildren(),n=t.indexOf(e);-1!==n&&t.splice(n,1),0!==t.length||this.HasParent()||this._ReleaseSceneGraphInfo(),e.HasChildren()||e._ReleaseSceneGraphInfo()}GetSceneGraphChildrenExportData(){const e=zI.get(this);return e?e.childrenData:null}GetSceneGraphZIndexExportData(){const e=zI.get(this);return e?e.zIndexData:NaN}GetSceneGraphZIndex(){const e=YI.get(this);return nI.IsFiniteNumber(e)?e:NaN}SetSceneGraphZIndex(e){YI.set(this,e)}SetUsePointsShaderProgram(){this._SetFlag(524288,!0),this._UpdateRendererStateGroup()}_UpdateRendererStateGroup(){if(!mI)return;const e=this._runtime.GetRenderer();let t;this._stateGroup&&e.ReleaseStateGroup(this._stateGroup),t=524288&this._flags?e.GetPointsRenderingProgram()||"<point>":e.GetTextureFillShaderProgram()||"<default>",this._stateGroup=e.AcquireStateGroup(t,this.GetBlendMode(),this._colorPremultiplied,this.GetZElevation(),this.IsBackFaceCulling()?1:0,0)}GetRendererStateGroup(){return this._stateGroup}HasDefaultColor(){return this._color===uI}SetBlendMode(e){if((e|=0)<0||e>31)throw new RangeError("invalid blend mode");this.GetBlendMode()!==e&&(this._flags=-2080374785&this._flags|e<<26,this._UpdateRendererStateGroup())}GetBlendMode(){return(2080374784&this._flags)>>26}_SetLayer(e,t){const n=t&&this._layer!==e;n&&this._RemoveFromRenderCells(),this._objectClass._OnWorldInstanceLayerChanged(this,this._layer,e),this._layer=e,n&&this._UpdateRenderCell(),0!==this.GetZElevation()&&this._layer._SetAnyInstanceZElevated()}GetLayer(){return this._layer}GetLayout(){return this.GetLayer().GetLayout()}_SetZIndex(e){this._zIndex=0|e}GetZIndex(){return this._layer._UpdateZIndices(),this._zIndex}_SetHTMLZIndex(e){this._htmlZIndex=0|e}GetHTMLZIndex(){return this._layer._UpdateHTMLZIndices(),this._htmlZIndex}_GetLastCachedZIndex(){return this._zIndex}_SetFlag(e,t){t?this._flags|=e:this._flags&=~e}IsVisible(){return!!(1&this._flags)}SetVisible(e){if(this._SetFlag(1,e),this.HasChildren())for(const t of this.GetChildren())t.GetTransformWithParentVisibility()&&t.SetVisible(e)}IsCollisionEnabled(){return!!(8&this._flags)}SetCollisionEnabled(e){e=!!e,this.IsCollisionEnabled()!==e&&(this._SetFlag(8,e),e?this.SetBboxChanged():this._RemoveFromCollisionCells())}SetSolidCollisionFilter(e,t){if(this._SetFlag(32,e),this._solidFilterTags&&this._solidFilterTags.clear(),t.trim()){this._solidFilterTags||(this._solidFilterTags=new Set);for(const e of t.split(" "))e&&this._solidFilterTags.add(e.toLowerCase())}else this._solidFilterTags=null}IsSolidCollisionAllowed(e){const t=!!(32&this._flags),n=this._solidFilterTags;if(!e||!n)return!t;for(const s of n)if(e.has(s))return t;return!t}SetBboxChanged(){if(this._flags|=65554,this._objectClass._SetAnyCollisionCellChanged(!0),this._runtime.UpdateRender(),this._layer.UsesRenderCells()&&(this.CalculateBbox(this._boundingBox,this._boundingQuad,!0),this._flags&=-3,this._UpdateRenderCell()),4&this._flags&&this._inst.Dispatcher().dispatchEvent(lI),null!==this._sceneGraphInfo){const e=this._sceneGraphInfo.GetChildren();for(let t=0,n=e.length;t<n;++t)e[t].SetBboxChanged()}}CalculateBbox(e,t,n){const s=this.GetX(),r=this.GetY(),o=this.GetWidth(),a=this.GetHeight(),i=this.GetAngle();e.setWH(s-this._ox*o,r-this._oy*a,o,a),n&&this.HasMesh()&&this._ExpandBboxForMesh(e),0===i?t.setFromRect(e):(e.offset(-s,-r),t.setFromRotatedRectPrecalc(e,this.GetSinAngle(),this.GetCosAngle()),t.offset(s,r),t.getBoundingBox(e)),e.normalize()}_UpdateBbox(){const e=this._flags;2&e&&(this.CalculateBbox(this._boundingBox,this._boundingQuad,!0),this._flags=-3&e)}GetBoundingBox(){return this._UpdateBbox(),this._boundingBox}GetBoundingQuad(){return this._UpdateBbox(),this._boundingQuad}PixelRoundQuad(e){const t=this.GetX(),n=this.GetY(),s=Math.round(t)-t,r=Math.round(n)-n;return 0===s&&0===r?e:(iI.copy(e),iI.offset(s,r),iI)}OverwriteBoundingBox(e){this._boundingBox.copy(e),this._boundingQuad.setFromRect(this._boundingBox),this._flags&=-3,this._UpdateCollisionCell(),this._UpdateRenderCell()}SetBboxChangeEventEnabled(e){this._SetFlag(4,e)}IsBboxChangeEventEnabled(){return!!(4&this._flags)}IsInViewport(e,t,n){return t&&0!==this.GetDepth()?this.IsInViewport3D(this.GetLayer()._GetViewFrustum()):0===this.GetZElevation()||n?e.intersectsRect(this.GetBoundingBox()):this._IsInViewport_ZElevated()}_IsInViewport_ZElevated(){const e=this.GetLayer(),t=this.GetTotalZElevation();return!(t>=e.Get2DCameraZ())&&(e.GetViewportForZ(t,aI),aI.intersectsRect(this.GetBoundingBox()))}IsInViewport3D(e){const t=this.GetBoundingBox(),n=t.getLeft(),s=t.getRight(),r=t.getTop(),o=t.getBottom(),a=this.GetTotalZElevation(),i=a+this.GetDepth();return e.ContainsAABB(n,r,a,s,o,i)}IsInViewport2(){const e=this.GetLayer();if(e.Has3DCamera())return this.IsInViewport3D(e._GetViewFrustum());{const t=e.GetLayout();return this.IsInViewport(e.GetViewport(),t.HasVanishingPointOutsideViewport(),t.IsOrthographicProjection())}}_SetDrawBackFaceOnly(e){this._SetFlag(1048576,e)}_SetDrawNonBackFacesOnly(e){this._SetFlag(2097152,e)}IsDrawBackFaceOnly(){return!!(1048576&this._flags)}IsDrawNonBackFacesOnly(){return!!(2097152&this._flags)}SetBackFaceCulling(e){(e=!!e)!==this.IsBackFaceCulling()&&(this._SetFlag(16777216,e),this._UpdateRendererStateGroup())}IsBackFaceCulling(){return!!(16777216&this._flags)}SetSourceCollisionPoly(e){this._sourceCollisionPoly=e,this._DiscardTransformedCollisionPoly(),this.HasMesh()&&(this._meshInfo.meshPoly=null)}GetSourceCollisionPoly(){return this._sourceCollisionPoly}HasOwnCollisionPoly(){return null!==this._sourceCollisionPoly||this.HasMesh()}GetTransformedCollisionPoly(){return this._GetCustomTransformedCollisionPolyPrecalc(this.GetWidth(),this.GetHeight(),this.GetAngle(),this.GetSinAngle(),this.GetCosAngle())}GetCustomTransformedCollisionPoly(e,t,n){let s=0,r=1;return 0!==n&&(s=Math.sin(n),r=Math.cos(n)),this._GetCustomTransformedCollisionPolyPrecalc(e,t,n,s,r)}_GetCustomTransformedCollisionPolyPrecalc(e,t,n,s,r){let o=this._transformedPolyInfo;null===o&&(o={poly:nI.New(nI.CollisionPoly),width:NaN,height:NaN,angle:NaN},this._transformedPolyInfo=o);const a=o.poly;if(o.width===e&&o.height===t&&o.angle===n)return a;const i=this._sourceCollisionPoly;if(this.HasMesh()){const n=this.GetOriginX(),o=this.GetOriginY(),l=this.GetSourceMesh();let d=this._meshInfo.meshPoly;d||(i?(cI.copy(i),cI.offset(n,o)):cI.setDefaultPoints(),d=l.InsertPolyMeshVertices(cI),this._meshInfo.meshPoly=d),l.TransformCollisionPoly(d,a),a.offset(-n,-o),a.transformPrecalc(e,t,s,r)}else i?(a.copy(i),a.transformPrecalc(e,t,s,r)):a.setFromQuad(this.GetBoundingQuad(),-this.GetX(),-this.GetY());return o.width=e,o.height=t,o.angle=n,a}_DiscardTransformedCollisionPoly(){this.SetPhysicsBodyChanged(!0);const e=this._transformedPolyInfo;null!==e&&(e.width=NaN)}CreateMesh(e,t){if(e=Math.floor(e),t=Math.floor(t),!this.GetInstance().GetPlugin().SupportsMesh())throw new Error("object does not support mesh");this.ReleaseMesh(),this._meshInfo={sourceMesh:nI.New(nI.Gfx.Mesh,e,t),transformedMesh:nI.New(nI.Gfx.Mesh,e,t),meshPoly:null}}HasMesh(){return null!==this._meshInfo}GetSourceMesh(){if(!this.HasMesh())throw new Error("no mesh");return this._meshInfo.sourceMesh}GetTransformedMesh(){if(!this.HasMesh())throw new Error("no mesh");return this._meshInfo.transformedMesh}SetMeshChanged(e){this._SetFlag(65536,e)}IsMeshChanged(){return!!(65536&this._flags)}SetPhysicsBodyChanged(e){this._SetFlag(131072,e)}IsPhysicsBodyChanged(){return!!(131072&this._flags)}_ExpandBboxForMesh(e){const t=this._meshInfo.sourceMesh,n=Math.min(t.GetMinX(),0),s=Math.min(t.GetMinY(),0),r=Math.max(t.GetMaxX(),1),o=Math.max(t.GetMaxY(),1),a=e.width(),i=e.height();e.offsetLeft(n*a),e.offsetTop(s*i),e.offsetRight((r-1)*a),e.offsetBottom((o-1)*i),this._depth=t.GetMaxZ()}ReleaseMesh(){this._meshInfo&&(this._meshInfo.sourceMesh.Release(),this._meshInfo.transformedMesh.Release(),this._meshInfo=null,this._DiscardTransformedCollisionPoly())}SetMeshPoint(e,t,n){e=Math.floor(e),t=Math.floor(t);const s=n.mode||"absolute";if(!GI.has(s))throw new Error("invalid mode");const r="relative"===s;let o=n.x,a=n.y;const i=n.zElevation;let l="number"==typeof n.u?n.u:r?0:-1,d="number"==typeof n.v?n.v:r?0:-1;if(!this.HasMesh())return!1;const c=this.GetSourceMesh(),u=c.GetMeshPointAt(e,t);if(null===u)return!1;let h=!1;return"number"==typeof i&&u.GetZElevation()!==i&&(u.SetZElevation(i),h=!0),r&&(o+=e/(c.GetHSize()-1),a+=t/(c.GetVSize()-1)),-1!==l||r?(r&&(l+=e/(c.GetHSize()-1)),l=nI.clamp(l,0,1)):l=u.GetU(),-1!==d||r?(r&&(d+=t/(c.GetVSize()-1)),d=nI.clamp(d,0,1)):d=u.GetV(),u.GetX()===o&&u.GetY()===a&&u.GetU()===l&&u.GetV()===d?h:(u.SetX(o),u.SetY(a),u.SetU(l),u.SetV(d),this._DiscardTransformedCollisionPoly(),!0)}HasTilemap(){return this._inst.HasTilemap()}ContainsPoint(e,t){return!!this.GetBoundingBox().containsPoint(e,t)&&!!this.GetBoundingQuad().containsPoint(e,t)&&(this.HasTilemap()?this._inst.GetSdkInstance().TestPointOverlapTile(e,t):!this.HasOwnCollisionPoly()||this.GetTransformedCollisionPoly().containsPoint(e-this.GetX(),t-this.GetY()))}_IsCollisionCellChanged(){return!!(16&this._flags)}_UpdateCollisionCell(){if(!this._IsCollisionCellChanged()||!this.IsCollisionEnabled()||256&this._flags)return;const e=this.GetBoundingBox(),t=this._objectClass._GetCollisionCellGrid(),n=this._collisionCells;if(aI.set(t.XToCell(e.getLeft()),t.YToCell(e.getTop()),t.XToCell(e.getRight()),t.YToCell(e.getBottom())),n.equals(aI))return;const s=this._inst;n===_I?(t.Update(s,null,aI),this._collisionCells=nI.New(nI.Rect,aI)):(t.Update(s,n,aI),n.copy(aI)),this._flags&=-17}_SetCollisionCellChanged(){this._flags|=16}_RemoveFromCollisionCells(){const e=this._collisionCells;e!==_I&&(this._objectClass._GetCollisionCellGrid().Update(this._inst,e,null),this._collisionCells=_I)}_UpdateRenderCell(){const e=this.GetLayer();if(!e.UsesRenderCells()||256&this._flags)return;const t=e.GetRenderGrid(),n=this.GetBoundingBox(),s=this._renderCells;if(aI.set(t.XToCell(n.getLeft()),t.YToCell(n.getTop()),t.XToCell(n.getRight()),t.YToCell(n.getBottom())),s.equals(aI))return;const r=this._inst;s===hI?(t.Update(r,null,aI),this._renderCells=nI.New(nI.Rect,aI)):(t.Update(r,s,aI),s.copy(aI)),e.SetRenderListStale()}_RemoveFromRenderCells(){const e=this._renderCells;e!==hI&&(this.GetLayer().GetRenderGrid().Update(this._inst,e,null),this._renderCells=hI)}GetRenderCellRange(){return this._renderCells}ZOrderMoveToTop(){const e=this._inst,t=this._layer,n=t._GetInstances();n.length&&n.at(-1)===e||(t._RemoveInstance(e,!1),t._AddInstance(e,!1),this._runtime.UpdateRender())}ZOrderMoveToBottom(){const e=this._inst,t=this._layer,n=t._GetInstances();n.length&&n[0]===e||(t._RemoveInstance(e,!1),t._PrependInstance(e,!1),this._runtime.UpdateRender())}ZOrderMoveToLayer(e){const t=this._inst,n=this._layer;if(n.GetLayout()!==e.GetLayout())throw new Error("layer from different layout");e!==n&&(n._RemoveInstance(t,!0),this._SetLayer(e),e._AddInstance(t,!0),this._runtime.UpdateRender())}ZOrderMoveAdjacentToInstance(e,t){const n=this._inst;let s=!1;const r=this._layer;if(e.GetUID()===n.GetUID())return;const o=e.GetWorldInfo();if(!o)throw new Error("expected world instance");const a=o.GetLayer();r.GetIndex()!==a.GetIndex()&&(r._RemoveInstance(n,!0),this._SetLayer(a),a._AddInstance(n,!0),s=!0);const i=a.MoveInstanceAdjacent(n,e,!!t);(s||i)&&this._runtime.UpdateRender()}GetInstanceEffectList(){return this._instanceEffectList}_SetHasAnyActiveEffect(e){this._SetFlag(64,e)}HasAnyActiveEffect(){return!!(64&this._flags)}_SaveToJson(e,t=null){const n={x:this.GetX(),y:this.GetY(),w:this.GetWidth(),h:this.GetHeight(),l:this.GetLayer().GetSID(),zi:this.GetZIndex()};0!==this.GetZElevation()&&(n.ze=this.GetZElevation()),0!==this.GetAngle()&&(n.a=this._GetAngleNoReflect()),this.HasDefaultColor()||(n.c=this._color.toJSON()),.5!==this.GetOriginX()&&(n.oX=this.GetOriginX()),.5!==this.GetOriginY()&&(n.oY=this.GetOriginY()),0!==this.GetBlendMode()&&(n.bm=this.GetBlendMode()),this.IsVisible()||(n.v=this.IsVisible()),this.IsCollisionEnabled()||(n.ce=this.IsCollisionEnabled()),this.IsBboxChangeEventEnabled()&&(n.be=this.IsBboxChangeEventEnabled()),this._instanceEffectList&&(n.fx=this._instanceEffectList._SaveToJson());const s=!!(32&this._flags);return s&&(n.sfi=s),this._solidFilterTags&&(n.sft=[...this._solidFilterTags].join(" ")),this._sceneGraphInfo&&"visual-state"!==e&&(n.sgi=this._sceneGraphInfo._SaveToJson(e,t),zI.has(this)&&(n.sgcd=zI.get(this).childrenData,n.sgzid=zI.get(this).zIndexData)),this.HasMesh()&&(n.mesh=this.GetSourceMesh().SaveToJson()),n}_SaveSceneGraphPropertiesToJson(){return{x:this._x,y:this._y,z:this._zElevation,w:this._w,h:this._h,a:this._a,sgi:this._GetSceneGraphInfo()?this._GetSceneGraphInfo()._SaveToJsonProperties():null}}_LoadSceneGraphPropertiesFromJson(e){e&&(this._x=e.x,this._y=e.y,this._zElevation=e.z,this._w=e.w,this._h=e.h,this._a=e.a,e.sgi&&this._GetSceneGraphInfo()&&this._GetSceneGraphInfo()._LoadFromJson(e.sgi),this._MarkSinCosAngleChanged(),this.SetBboxChanged())}_SetupSceneGraphConnectionsOnChangeOfLayout(){this._ReleaseTmpSceneGraphInfo(),this._ResetAllSceneGraphState(),this._CreateSceneGraphInfo(null),this._sceneGraphInfo&&this._sceneGraphInfo._SetTmpSceneGraphChildren(this._tmpSceneGraphChildren,this._tmpSceneGraphChildrenIndexes)}_OnBeforeLoad(e){"visual-state"!==e&&this._ResetAllSceneGraphState()}_OnAfterLoad(e,t="full",n=null){if(e.hasOwnProperty("sgi")&&"visual-state"!==t){if(256&this._flags)return;this._sceneGraphInfo._OnAfterLoad(e.sgi,n)}}_OnAfterLoad2(e,t="full",n=null){if("visual-state"!==t)if(256&this._flags)this._ReleaseTmpSceneGraphInfo();else{if(e.hasOwnProperty("sgi"))this._sceneGraphInfo._SetTmpSceneGraphChildren(null,null,e.sgi,n);else if(n?.setFromJson&&this._tmpSceneGraphChildren)for(const e of this._tmpSceneGraphChildren)e.IsDestroyed()||this._runtime.DestroyInstance(e);this._ReleaseTmpSceneGraphInfo(),this.SetBboxChanged()}}_LoadFromJson(e,t,n=null){if(mI=!1,this.SetX(e.x),this.SetY(e.y),this.SetWidth(e.w),this.SetHeight(e.h),this._SetZIndex(e.zi),this.SetZElevation(e.hasOwnProperty("ze")?e.ze:0),this.SetAngle(e.hasOwnProperty("a")?e.a:0),e.hasOwnProperty("c")?dI.setFromJSON(e.c):e.hasOwnProperty("o")?(dI.copyRgb(this._color),dI.a=e.o):dI.setRgba(1,1,1,1),this._SetColor(dI),this.SetOriginX(e.hasOwnProperty("oX")?e.oX:.5),this.SetOriginY(e.hasOwnProperty("oY")?e.oY:.5),this.SetBlendMode(e.hasOwnProperty("bm")?e.bm:0),this.SetVisible(!e.hasOwnProperty("v")||e.v),this.SetCollisionEnabled(!e.hasOwnProperty("ce")||e.ce),this.SetBboxChangeEventEnabled(!!e.hasOwnProperty("be")&&e.be),this.SetSolidCollisionFilter(!!e.hasOwnProperty("sfi")&&e.sfi,e.hasOwnProperty("sft")?e.sft:""),this._instanceEffectList&&e.hasOwnProperty("fx")&&this._instanceEffectList._LoadFromJson(e.fx),e.hasOwnProperty("sgi")&&"visual-state"!==t){this._CreateSceneGraphInfo(null);const t=this._sceneGraphInfo,n=e.sgi;t._LoadFromJson(n),t._SetTmpSceneGraphChildren(this._tmpSceneGraphChildren,this._tmpSceneGraphChildrenIndexes),this._SetSceneGraphExportData(e.sgcd,e.sgzid)}if(e.hasOwnProperty("mesh")){const t=e.mesh;this.CreateMesh(t.cols,t.rows),this.GetSourceMesh().LoadFromJson(t)}else this.ReleaseMesh();this.SetBboxChanged(),mI=!0,this._UpdateRendererStateGroup(),"visual-state"!==t&&this._runtime.AddInstanceNeedingAfterLoad(this.GetInstance(),e)}_SetSceneGraphExportData(e,t){e&&nI.IsFiniteNumber(t)&&zI.set(this,{childrenData:e,zIndexData:t})}}}{const XI=self.C3;XI.BehaviorType=class extends XI.DefendedBase{constructor(e,t){super();const n=e.GetRuntime(),s=n.GetObjectReference(t[1]);n.GetAddonManager()._DelayCreateBehavior(s),this._runtime=n,this._objectClass=e,this._behavior=XI.AddonManager.GetBehaviorByConstructorFunction(s),this._sdkType=null,this._iBehaviorType=null,this._instSdkCtor=s.Instance,this._sid=t[2],this._name=t[0],this._jsPropName=this._runtime.GetJsPropName(t[3]);const r=this._behavior.GetSdkVersion();if(r<2&&(this._sdkType=XI.New(s.Type,this),!(this._sdkType instanceof XI.SDKBehaviorTypeBase)))throw new Error("v1 sdk type must derive from SDKBehaviorBase");if(XI.AddonManager._PushInitObject(this,r),r>=2){const e=s.Type??globalThis.ISDKBehaviorTypeBase;if(this._iBehaviorType=new e,!(this._iBehaviorType instanceof globalThis.ISDKBehaviorTypeBase))throw new Error("script interface class must derive from ISDKBehaviorTypeBase")}else this._iBehaviorType=new globalThis.IBehaviorType;XI.AddonManager._PopInitObject(r),this.OnCreate()}static Create(e,t){return XI.New(XI.BehaviorType,e,t)}Release(){this._runtime=null,this._behavior=null,this._sdkType&&(this._sdkType.Release(),this._sdkType=null),this._instSdkCtor=null}GetSdkType(){return this._sdkType}OnCreate(){this._sdkType?this._sdkType.OnCreate():this._iBehaviorType&&this._iBehaviorType._onCreate()}GetRuntime(){return this._runtime}GetObjectClass(){return this._objectClass}GetBehavior(){return this._behavior}GetInstanceSdkCtor(){return this._instSdkCtor}GetName(){return this._name}GetSID(){return this._sid}GetIBehaviorType(){return this._iBehaviorType}GetJsPropName(){return this._jsPropName}}}{const qI=self.C3,KI=self.IBehaviorInstance;qI.BehaviorInstance=class extends qI.DefendedBase{constructor(e){super(),this._runtime=e.runtime,this._behaviorType=e.behaviorType,this._behavior=this._behaviorType.GetBehavior(),this._inst=e.instance,this._index=e.index,this._sdkInst=null,this._iScriptInterface=null,this._behavior._AddInstance(this._inst)}Release(){this._iScriptInterface&&(this._iScriptInterface._release(),this._iScriptInterface=null),this._behavior._RemoveInstance(this._inst),this._sdkInst&&(this._sdkInst.Release(),this._sdkInst=null),this._runtime=null,this._behaviorType=null,this._behavior=null,this._inst=null}_CreateSdkInstance(e){if(this._sdkInst)throw new Error("already got sdk instance");if(this.GetBehavior().GetSdkVersion()<2){if(this._sdkInst=qI.New(this._behaviorType.GetInstanceSdkCtor(),this,e),!(this._sdkInst instanceof qI.SDKBehaviorInstanceBase))throw new Error("v1 sdk type must derive from SDKBehaviorInstanceBase")}else{const t=this.GetBehavior().GetScriptInterfaceClass();this._InitScriptInterface(t.Instance,e)}}GetSdkInstance(){return this._sdkInst??this._iScriptInterface}GetObjectInstance(){return this._inst}GetRuntime(){return this._runtime}GetBehaviorType(){return this._behaviorType}GetBehavior(){return this._behavior}_GetIndex(){return this._index}PostCreate(){this._sdkInst?this._sdkInst.PostCreate():this._iScriptInterface._postCreate()}OnSpriteFrameChanged(e,t){this._sdkInst&&this._sdkInst.OnSpriteFrameChanged(e,t)}_GetDebuggerProperties(){return this._sdkInst?this._sdkInst.GetDebuggerProperties():this._iScriptInterface._getDebuggerProperties()}SaveToJson(e="full"){return this._sdkInst?this._sdkInst.SaveToJson(e):this._iScriptInterface._saveToJson(e)}LoadFromJson(e,t="full"){if(this._sdkInst)return this._sdkInst.LoadFromJson(e,t);this._iScriptInterface._loadFromJson(e,t)}static SortByTickSequence(e,t,n){const s=globalThis.ISDKBehaviorInstanceBase;let r,o;r=t instanceof s?e._UnwrapScriptInterface(t):t.GetBehaviorInstance(),o=n instanceof s?e._UnwrapScriptInterface(n):n.GetBehaviorInstance();const a=r.GetObjectInstance(),i=o.GetObjectInstance(),l=a.GetObjectClass().GetIndex(),d=i.GetObjectClass().GetIndex();if(l!==d)return l-d;const c=a.GetPUID(),u=i.GetPUID();return c!==u?c-u:r._GetIndex()-o._GetIndex()}_InitScriptInterface(e,t){const n=KI,s=e??this._sdkInst.GetScriptInterfaceClass(),r=s||n,o=this.GetBehavior().GetSdkVersion();if(qI.AddonManager._PushInitObject(this,o),qI.AddonManager._PushInitProperties(t),this._iScriptInterface=new r,qI.AddonManager._PopInitProperties(),qI.AddonManager._PopInitObject(o),s&&!(this._iScriptInterface instanceof n))throw new TypeError(`script interface class '${s.name}' does not extend the right base class '${n.name}'`);return this._iScriptInterface}GetScriptInterface(){return this._iScriptInterface||this._InitScriptInterface()}HasScriptInterface(){return!!this._iScriptInterface}}}{const JI=self.C3;JI.EffectList=class extends JI.DefendedBase{constructor(e,t){super(),this._owner=e,this._allEffectTypes=[],this._activeEffectTypes=[],this._effectTypesByName=new Map,this._effectParams=[],this._effectParamBuffers=[],this._allInstanceEffectLists=new Set,this._preservesOpaqueness=!0;for(const e of t){const t=JI.New(JI.EffectType,this,e,this._allEffectTypes.length);this._allEffectTypes.push(t),this._effectTypesByName.set(t.GetName().toLowerCase(),t),e.length>=3&&this._effectParams.push(this._LoadSingleEffectParameters(t,e[2]))}this.GetRuntime()._AddEffectList(this)}Release(){this.GetRuntime()._RemoveEffectList(this);for(const e of this._effectParamBuffers)e.Release();JI.clearArray(this._effectParamBuffers),JI.clearArray(this._allEffectTypes),JI.clearArray(this._activeEffectTypes),this._effectTypesByName.clear(),JI.clearArray(this._effectParams),this._owner=null}_AddInstanceEffectList(e){this._allInstanceEffectLists.add(e)}_RemoveInstanceEffectList(e){this._allInstanceEffectLists.delete(e)}_InitRenderer(e){e.IsWebGPU()&&(this._effectParamBuffers=this._allEffectTypes.map(e=>{const t=e.GetShaderProgram();return t.GetCustomParametersByteSize()>0?JI.New(JI.Gfx.WebGPUEffectCustomParamsBuffer,t):null}),this._UpdateAllEffectParamBuffers());for(const t of this._allInstanceEffectLists)t._InitRenderer(e)}PrependEffectTypes(e){if(e.length){this._allEffectTypes=e.concat(this._allEffectTypes);for(const t of e)this._effectTypesByName.set(t.GetName().toLowerCase(),t);for(let e=0,t=this._allEffectTypes.length;e<t;++e)this._allEffectTypes[e]._SetIndex(e)}}_LoadSingleEffectParameters(e,t){e.SetActive(t[0]);const n=t.slice(1);for(let e=0,t=n.length;e<t;++e){const t=n[e];if(Array.isArray(t)){const s=JI.New(JI.Color);s.setFromJSON(t),n[e]=s}}return n}GetOwner(){return this._owner}GetRuntime(){return this._owner.GetRuntime()}UpdateActiveEffects(){JI.clearArray(this._activeEffectTypes);let e=!0;for(const t of this._allEffectTypes)t.IsActive()&&(this._activeEffectTypes.push(t),t.GetShaderProgram().PreservesOpaqueness()||(e=!1));this._preservesOpaqueness=e}GetAllEffectTypes(){return this._allEffectTypes}HasAnyEffectType(){return this._allEffectTypes.length>0}GetEffectTypeByName(e){return this._effectTypesByName.get(e.toLowerCase())||null}GetEffectTypeByIndex(e){if((e=Math.floor(+e))<0||e>=this._allEffectTypes.length)throw new RangeError("invalid effect type index");return this._allEffectTypes[e]}IsEffectIndexActive(e){return this.GetEffectTypeByIndex(e).IsActive()}SetEffectIndexActive(e,t){this.GetEffectTypeByIndex(e).SetActive(t)}GetActiveEffectTypes(){return this._activeEffectTypes}HasAnyActiveEffect(){return this._activeEffectTypes.length>0}PreservesOpaqueness(){return this._preservesOpaqueness}GetEffectParametersForIndex(e){return this._effectParams[e]}_GetEffectChainShaderParametersForIndex(e){return e<this._effectParamBuffers.length?this._effectParamBuffers[e]:this._effectParams[e]}GetEffectParameter(e,t){if(e<0||e>=this._effectParams.length)return null;const n=this._effectParams[e];return t<0||t>=n.length?null:n[t]}SetEffectParameter(e,t,n){if(e<0||e>=this._effectParams.length)return!1;const s=this._effectParams[e];if(t<0||t>=s.length)return!1;const r=s[t];if(r instanceof JI.Color){if(r.equalsIgnoringAlpha(n))return!1;r.copyRgb(n)}else{if(r===n)return!1;s[t]=n}return e<this._effectParamBuffers.length&&this._effectParamBuffers[e].SetParameterValue(t,n),!0}_UpdateAllEffectParamBuffers(){const e=this._effectParams,t=this._effectParamBuffers;for(let n=0,s=Math.min(e.length,t.length);n<s;++n){const s=t[n],r=e[n];for(let e=0,t=r.length;e<t;++e)s.SetParameterValue(e,r[e])}}static SaveFxParamToJson(e){return e&&e instanceof JI.Color?{t:"color",v:e.toJSON()}:e}static LoadFxParamFromJson(e){if(null===e)return NaN;if("object"==typeof e){if("color"===e.t){const t=JI.New(JI.Color);return t.setFromJSON(e.v),t}throw new Error("invalid effect parameter type")}return e}static SaveFxParamsToJson(e){return e.map(JI.EffectList.SaveFxParamToJson)}static LoadFxParamsFromJson(e){return e.map(JI.EffectList.LoadFxParamFromJson)}SaveToJson(){return this._allEffectTypes.map(e=>({name:e.GetName(),active:e.IsActive(),params:JI.EffectList.SaveFxParamsToJson(this._effectParams[e.GetIndex()])}))}LoadFromJson(e){for(const t of e){const e=this.GetEffectTypeByName(t.name);e&&(e.SetActive(t.active),this._effectParams[e.GetIndex()]=JI.EffectList.LoadFxParamsFromJson(t.params))}this.UpdateActiveEffects(),this._UpdateAllEffectParamBuffers()}}}{const $I=self.C3;$I.EffectType=class extends $I.DefendedBase{constructor(e,t,n){super(),this._effectList=e,this._id=t[0],this._name=t[1],this._index=n,this._shaderProgram=null,this._isActive=!0}Release(){this._effectList=null,this._shaderProgram=null}Clone(e){const t=$I.New($I.EffectType,e,[this._id,this._name],-1);return t._shaderProgram=this._shaderProgram,t._isActive=this._isActive,t}_InitRenderer(e){const t=e.GetShaderProgramByName(this._id);if(!t)throw new Error("failed to find shader program '"+this._id+"'");this._shaderProgram=t}GetEffectList(){return this._effectList}GetName(){return this._name}_SetIndex(e){this._index=e}GetIndex(){return this._index}GetOwner(){return this._effectList.GetOwner()}GetRuntime(){return this._effectList.GetRuntime()}SetActive(e){this._isActive=!!e}IsActive(){return this._isActive}GetShaderProgram(){return this._shaderProgram}GetDefaultParameterValues(){const e=[];for(let t=0,n=this._shaderProgram.GetParameterCount();t<n;++t){const n=this._shaderProgram.GetParameterType(t);if("float"===n||"percent"===n)e.push(0);else{if("color"!==n)throw new TypeError("unknown effect parameter type");e.push($I.New($I.Color,1,1,1,1))}}return e}}}{const ZI=self.C3;ZI.InstanceEffectList=class extends ZI.DefendedBase{constructor(e,t){super(),this._inst=e,this._wi=t,this._effectList=e.GetObjectClass().GetEffectList(),this._needsRebuildSteps=!0,this._wasDefaultColor=!0,this._was3D=!1,this._wasRotatedOrNegativeSize=!1,this._wasTexRotated=!1,this._wasMustPreDraw=!1,this._effectChain=ZI.New(ZI.Gfx.EffectChain,e.GetRuntime().GetCanvasManager().GetEffectChainManager(),{drawContent:(e,t)=>{const n=t.GetContentObject(),s=n.GetWorldInfo();e.SetColor(s.GetPremultipliedColor()),e.SetCurrentZ(s.GetTotalZElevation()),n.Draw(e),e.SetCurrentZ(0)},getSourceTextureInfo:e=>{const t=e.GetCurrentTexRect(),[n,s]=e.GetCurrentSurfaceSize();return{srcTexRect:t,srcWidth:n,srcHeight:s}},getShaderParameters:e=>this._GetEffectChainShaderParametersForIndex(e)}),this._activeEffectFlags=[],this._activeEffectTypes=[],this._preservesOpaqueness=!0,this._effectParams=[],this._effectParamBuffers=[],this._InitRenderer(e.GetRuntime().GetRenderer());for(let e=0,t=this._effectList.GetAllEffectTypes().length;e<t;++e)this._activeEffectFlags.push(!0);this.UpdateActiveEffects(),this._effectList._AddInstanceEffectList(this)}Release(){this._effectList._RemoveInstanceEffectList(this);for(const e of this._effectParamBuffers)e&&e.Release();ZI.clearArray(this._effectParamBuffers),this._effectChain.Release(),this._effectChain=null,ZI.clearArray(this._activeEffectFlags),ZI.clearArray(this._activeEffectTypes),ZI.clearArray(this._effectParams),this._inst=null,this._effectList=null}_InitRenderer(e){e.IsWebGPU()&&(this._effectParamBuffers=this._effectList.GetAllEffectTypes().map(e=>{const t=e.GetShaderProgram();return t.GetCustomParametersByteSize()>0?ZI.New(ZI.Gfx.WebGPUEffectCustomParamsBuffer,t):null}))}_LoadEffectParameters(e){let t=0;for(const n of e)this._effectParams.push(this._LoadSingleEffectParameters(t,n)),++t;this._UpdateAllEffectParamBuffers(),this.UpdateActiveEffects()}_LoadSingleEffectParameters(e,t){this._activeEffectFlags[e]=t[0];const n=t.slice(1);for(let e=0,t=n.length;e<t;++e){const t=n[e];if(Array.isArray(t)){const s=ZI.New(ZI.Color);s.setFromJSON(t),n[e]=s}}return n}LoadDefaultEffectParameters(){for(const e of this._effectList.GetAllEffectTypes())this._effectParams.push(e.GetDefaultParameterValues());this._UpdateAllEffectParamBuffers()}GetOwner(){return this._owner}GetEffectList(){return this._effectList}GetEffectChain(){return this._MaybeRebuildEffectChainSteps(),this._effectChain}GetRuntime(){return this._inst.GetRuntime()}UpdateActiveEffects(){ZI.clearArray(this._activeEffectTypes);const e=this._wi,t=this._effectList.GetAllEffectTypes(),n=this._activeEffectTypes,s=this._activeEffectFlags;let r=!0;for(let e=0,o=t.length;e<o;++e)if(s[e]){const s=t[e];n.push(s),s.GetShaderProgram().PreservesOpaqueness()||(r=!1)}this._preservesOpaqueness=r,e._SetHasAnyActiveEffect(!!n.length),this._needsRebuildSteps=!0}_MaybeRebuildEffectChainSteps(){const e=this._inst,t=this._wi,n=t.HasDefaultColor(),s=e.GetPlugin().Is3D(),r=0!==t.GetAngle()||0!==t.GetLayer().GetAngle()||t.GetWidth()<0||t.GetHeight()<0,o=e.IsCurrentTexRotated(),a=e.MustPreDraw();(this._needsRebuildSteps||n!==this._wasDefaultColor||s!==this._was3D||r!==this._wasRotatedOrNegativeSize||o!==this._wasTexRotated||a!==this._wasMustPreDraw||this._effectChain.NeedsRebuild())&&(this._effectChain.BuildSteps(this._activeEffectTypes.map(e=>e.GetShaderProgram()),{indexMap:this._activeEffectTypes.map(e=>e.GetIndex()),forcePreDraw:!n||a,is3D:s,isSourceTextureRotated:o,isRotatedOrNegativeSizeInstance:r}),this._needsRebuildSteps=!1,this._wasDefaultColor=n,this._was3D=s,this._wasRotatedOrNegativeSize=r,this._wasTexRotated=o,this._wasMustPreDraw=a)}GetActiveEffectTypes(){return this._activeEffectTypes}GetEffectParametersForIndex(e){return this._effectParams[e]}_GetEffectChainShaderParametersForIndex(e){return e<this._effectParamBuffers.length?this._effectParamBuffers[e]:this._effectParams[e]}GetEffectParameter(e,t){if(e<0||e>=this._effectParams.length)return null;const n=this._effectParams[e];return t<0||t>=n.length?null:n[t]}SetEffectParameter(e,t,n){if(e<0||e>=this._effectParams.length)return!1;const s=this._effectParams[e];if(t<0||t>=s.length)return!1;const r=s[t];if(r instanceof ZI.Color){if(r.equalsIgnoringAlpha(n))return!1;r.copyRgb(n)}else{if(r===n)return!1;s[t]=n}return e<this._effectParamBuffers.length&&this._effectParamBuffers[e].SetParameterValue(t,n),!0}_UpdateAllEffectParamBuffers(){const e=this._effectParams,t=this._effectParamBuffers;for(let n=0,s=t.length;n<s;++n){const s=t[n],r=e[n];for(let e=0,t=r.length;e<t;++e)s.SetParameterValue(e,r[e])}}PreservesOpaqueness(){return this._preservesOpaqueness}HasAnyActiveBackgroundBlendingEffect(){return this._activeEffectTypes.some(e=>e.GetShaderProgram().BlendsBackground())}IsEffectIndexActive(e){return this._activeEffectFlags[e]}SetEffectIndexActive(e,t){this._activeEffectFlags[e]=!!t}GetAllEffectTypes(){return this._effectList.GetAllEffectTypes()}_SaveToJson(){return this._effectList.GetAllEffectTypes().map(e=>({name:e.GetName(),active:this._activeEffectFlags[e.GetIndex()],params:ZI.EffectList.SaveFxParamsToJson(this._effectParams[e.GetIndex()])}))}_LoadFromJson(e){for(const t of e){const e=this._effectList.GetEffectTypeByName(t.name);e&&(this._activeEffectFlags[e.GetIndex()]=t.active,this._effectParams[e.GetIndex()]=ZI.EffectList.LoadFxParamsFromJson(t.params))}this.UpdateActiveEffects(),this._UpdateAllEffectParamBuffers()}}}{const QI=self.C3,ey=[],ty=[],ny=[],sy=QI.New(QI.CollisionPoly),ry=QI.New(QI.CollisionPoly),oy=QI.New(QI.Quad),ay=QI.New(QI.Rect),iy=QI.New(QI.Rect);let ly=null,dy=null,cy=null;QI.CollisionEngine=class extends QI.DefendedBase{constructor(e){super(),this._runtime=e,this._collisionCellWidth=0,this._collisionCellHeight=0,this._registeredCollisions=[],this._collisionCheckCount=0,this._collisionCheckSec=0,this._polyCheckCount=0,this._polyCheckSec=0,this._iCollisionEngine=new self.ICollisionEngine(this)}Release(){this._runtime=null}GetRuntime(){return this._runtime}GetICollisionEngine(){return this._iCollisionEngine}_Update1sStats(){this._collisionCheckSec=this._collisionCheckCount,this._collisionCheckCount=0,this._polyCheckSec=this._polyCheckCount,this._polyCheckCount=0}Get1secCollisionChecks(){return this._collisionCheckSec}Get1secPolyChecks(){return this._polyCheckSec}RegisterCollision(e,t){const n=e.GetWorldInfo(),s=t.GetWorldInfo();n&&s&&n.IsCollisionEnabled()&&s.IsCollisionEnabled()&&this._registeredCollisions.push([e,t])}AddRegisteredCollisionCandidates(e,t,n){for(const[s,r]of this._registeredCollisions){let o=null;if(e===s)o=r;else{if(e!==r)continue;o=s}o.BelongsToObjectClass(t)&&(n.includes(o)||n.push(o))}}CheckRegisteredCollision(e,t){if(!this._registeredCollisions.length)return!1;for(const[n,s]of this._registeredCollisions)if(e===n&&t===s||e===s&&t===n)return!0;return!1}ClearRegisteredCollisions(){QI.clearArray(this._registeredCollisions)}TestOverlap(e,t){if(!e||!t||e===t)return!1;const n=e.GetWorldInfo(),s=t.GetWorldInfo();if(!n.IsCollisionEnabled()||!s.IsCollisionEnabled())return!1;this._collisionCheckCount++;const r=n.GetLayer(),o=s.GetLayer();return r.IsTransformCompatibleWith(o)?this._TestOverlap_SameLayers(n,s):this._TestOverlap_DifferentLayers(n,s)}_TestOverlap_SameLayers(e,t){if(!e.GetBoundingBox().intersectsRect(t.GetBoundingBox()))return!1;if(this._polyCheckCount++,!e.GetBoundingQuad().intersectsQuad(t.GetBoundingQuad()))return!1;if(e.HasTilemap()&&t.HasTilemap())return!1;if(e.HasTilemap())return this.TestTilemapOverlap(e,t);if(t.HasTilemap())return this.TestTilemapOverlap(t,e);if(!e.HasOwnCollisionPoly()&&!t.HasOwnCollisionPoly())return!0;const n=e.GetTransformedCollisionPoly(),s=t.GetTransformedCollisionPoly();return n.intersectsPoly(s,t.GetX()-e.GetX(),t.GetY()-e.GetY())}_TestOverlap_DifferentLayers(e,t){const n=e.HasTilemap(),s=t.HasTilemap();if(n&&!s)return this.TestTilemapOverlapDifferentLayers(e,t);if(s&&!n)return this.TestTilemapOverlapDifferentLayers(t,e);if(s||n)return!1;{const n=e.GetLayer(),s=t.GetLayer();sy.copy(e.GetTransformedCollisionPoly()),ry.copy(t.GetTransformedCollisionPoly());const r=sy.pointsArr();for(let t=0,s=r.length;t<s;t+=2){const s=t+1,o=r[t],a=r[s],[i,l]=n.LayerToCanvasCss(o+e.GetX(),a+e.GetY());r[t]=i,r[s]=l}const o=ry.pointsArr();for(let e=0,n=o.length;e<n;e+=2){const n=e+1,r=o[e],a=o[n],[i,l]=s.LayerToCanvasCss(r+t.GetX(),a+t.GetY());o[e]=i,o[n]=l}return sy.setBboxChanged(),ry.setBboxChanged(),this._polyCheckCount++,sy.intersectsPoly(ry,0,0)}}TestTilemapOverlapDifferentLayers(e,t){const n=e.GetLayer(),s=t.GetLayer();ly||(ly=QI.New(QI.CollisionPoly)),dy||(dy=QI.New(QI.Rect)),cy||(cy=QI.New(QI.Quad));const r=t.GetX(),o=t.GetY(),[a,i]=s.LayerToCanvasCss(r,o),[l,d]=n.CanvasCssToLayer(a,i),c=l-r,u=d-o;if(dy.copy(t.GetBoundingBox()),dy.offset(c,u),!e.GetBoundingBox().intersectsRect(dy))return!1;if(cy.copy(t.GetBoundingQuad()),cy.offset(c,u),this._polyCheckCount++,!e.GetBoundingQuad().intersectsQuad(cy))return!1;ly.copy(t.GetTransformedCollisionPoly());const h=ly.pointsArr();for(let e=0,t=h.length;e<t;e+=2){const t=e+1;h[e]+=c,h[t]+=u}return ly.setBboxChanged(),this.TestTilemapOverlap(e,t,l,d,ly,dy,cy)}TestTilemapOverlap(e,t,n,s,r,o,a){const i=void 0!==o?o:t.GetBoundingBox(),l=e.GetX(),d=e.GetY(),c=e.GetInstance().GetSdkInstance(),u=void 0!==n?n:t.GetX(),h=void 0!==s?s:t.GetY(),_=t.HasOwnCollisionPoly(),G=void 0!==a?a:t.GetBoundingQuad(),p=ty;c.GetCollisionRectCandidates(i,p);for(let e=0,n=p.length;e<n;++e){const n=p[e],s=n.GetRect();if(this._collisionCheckCount++,i.intersectsRectOffset(s,l,d)&&(oy.setFromRect(s),oy.offset(l,d),oy.intersectsQuad(G)))if(_){const e=void 0!==r?r:t.GetTransformedCollisionPoly();let o=u,a=h;void 0!==r&&(o=t.GetX(),a=t.GetY());const i=n.GetPoly();if(i){if(this._polyCheckCount++,i.intersectsPoly(e,o-(l+s.getLeft()),a-(d+s.getTop())))return QI.clearArray(p),!0}else if(sy.setFromQuad(oy,0,0),sy.intersectsPoly(e,o,a))return QI.clearArray(p),!0}else{const e=n.GetPoly();if(!e)return QI.clearArray(p),!0;if(sy.setFromQuad(G,0,0),e.intersectsPoly(sy,-(l+s.getLeft()),-(d+s.getTop())))return QI.clearArray(p),!0}}return QI.clearArray(p),!1}TestAndSelectCanvasPointOverlap(e,t,n){const s=e.GetCurrentSol(),r=this._runtime.GetCurrentEvent();if(!r)throw new Error("cannot call outside event");const o=r.IsOrBlock(),a=new QI.LayerStateCache;if(s.IsSelectAll()){n||(s._SetSelectAll(!1),QI.clearArray(s._GetOwnInstances())),o&&QI.clearArray(s._GetOwnElseInstances());for(const r of e.GetInstances()){const e=r.GetWorldInfo(),i=e.GetLayer();let l=!1;if(a.IsInteractive(i)&&e.IsInViewport2()&&(l=t.some(([t,n])=>{const[s,r]=a.CanvasCssToLayer(i,t,n,e.GetTotalZElevation());return e.ContainsPoint(s,r)})),l){if(n)return!1;s._PushInstance(r)}else o&&s._PushElseInstance(r)}}else{let e,i=!1;o&&!r.IsFirstConditionOfType(this._runtime.GetCurrentCondition())?this._runtime.IsCurrentConditionFirst()&&!s._GetOwnElseInstances().length&&s._GetOwnInstances().length?e=s._GetOwnInstances():(e=s._GetOwnElseInstances(),i=!0):e=s._GetOwnInstances();let l=0;for(let r=0,d=e.length;r<d;++r){const d=e[r],c=d.GetWorldInfo(),u=c.GetLayer();let h=!1;if(a.IsInteractive(u)&&c.IsInViewport2()&&(h=t.some(([e,t])=>{const[n,s]=a.CanvasCssToLayer(u,e,t,c.GetTotalZElevation());return c.ContainsPoint(n,s)})),h){if(n)return!1;i?s._PushInstance(d):e[l++]=d}else i?e[l++]=d:o&&s._PushElseInstance(d)}n||(e.length=l)}return e.ApplySolToContainer(),a.Release(),!!n||s.HasAnyInstances()}_ObjectClassCanUseCollisionCells(e,t){if(!e)return!0;for(const n of t.layersHasInstancesOn())if(!e.IsTransformCompatibleWith(n))return!1;return!0}GetCollisionCandidates(e,t,n,s){if(t.IsFamily())for(const r of t.GetFamilyMembers())this._ObjectClassCanUseCollisionCells(e,r)?(r._UpdateAllCollisionCells(),r._GetCollisionCellGrid().QueryRange(n,s)):QI.appendArray(s,r.GetInstances());else this._ObjectClassCanUseCollisionCells(e,t)?(t._UpdateAllCollisionCells(),t._GetCollisionCellGrid().QueryRange(n,s)):QI.appendArray(s,t.GetInstances())}GetObjectClassesCollisionCandidates(e,t,n,s){for(const r of t)this.GetCollisionCandidates(e,r,n,s)}GetSolidCollisionCandidates(e,t,n){const s=this._runtime.GetSolidBehavior();s&&this.GetObjectClassesCollisionCandidates(e,s.GetObjectClasses(),t,n)}GetJumpthruCollisionCandidates(e,t,n){const s=this._runtime.GetJumpthruBehavior();s&&this.GetObjectClassesCollisionCandidates(e,s.GetObjectClasses(),t,n)}IsSolidCollisionAllowed(e,t){return e._IsSolidEnabled()&&(!t||t.GetWorldInfo().IsSolidCollisionAllowed(e.GetSavedDataMap().get("solidTags")))}TestOverlapSolid(e){const t=e.GetWorldInfo();this.GetSolidCollisionCandidates(t.GetLayer(),t.GetBoundingBox(),ey);for(const t of ey)if(this.IsSolidCollisionAllowed(t,e)&&this.TestOverlap(e,t))return QI.clearArray(ey),t;return QI.clearArray(ey),null}TestRectOverlapSolid(e,t){this.GetSolidCollisionCandidates(null,e,ey);for(const n of ey)if(this.IsSolidCollisionAllowed(n,t)&&this.TestRectOverlap(e,n))return QI.clearArray(ey),n;return QI.clearArray(ey),null}TestOverlapJumpthru(e,t){let n=null;t&&(n=ny,QI.clearArray(n));const s=e.GetWorldInfo();this.GetJumpthruCollisionCandidates(s.GetLayer(),s.GetBoundingBox(),ey);for(const s of ey)if(s._IsJumpthruEnabled()&&this.TestOverlap(e,s)){if(!t)return QI.clearArray(ey),s;n.push(s)}return QI.clearArray(ey),n}PushOut(e,t,n,s,r){s=s||50;const o=e.GetWorldInfo(),a=o.GetX(),i=o.GetY();for(let l=0;l<s;++l)if(o.SetXY(a+t*l,i+n*l),o.SetBboxChanged(),!this.TestOverlap(e,r))return!0;return o.SetXY(a,i),o.SetBboxChanged(),!1}PushOutSolid(e,t,n,s,r,o){s=s||50;const a=e.GetWorldInfo(),i=a.GetX(),l=a.GetY();let d=null,c=null;for(let u=0;u<s;++u)if(a.SetXY(i+t*u,l+n*u),a.SetBboxChanged(),!this.TestOverlap(e,d))if(d=this.TestOverlapSolid(e),d)c=d;else if(r&&(d=o?this.TestOverlap(e,o)?o:null:this.TestOverlapJumpthru(e),d&&(c=d)),!d)return c&&this.PushInFractional(e,t,n,c,16,!0),!0;return a.SetXY(i,l),a.SetBboxChanged(),!1}PushOutSolidAxis(e,t,n,s){s=s||50;const r=e.GetWorldInfo(),o=r.GetX(),a=r.GetY();let i=null,l=null;for(let d=0;d<s;++d)for(let s=0;s<2;++s){const c=2*s-1;if(r.SetXY(o+t*d*c,a+n*d*c),r.SetBboxChanged(),!this.TestOverlap(e,i)){if(i=this.TestOverlapSolid(e),!i)return l&&this.PushInFractional(e,t*c,n*c,l,16,!0),!0;l=i}}return r.SetXY(o,a),r.SetBboxChanged(),!1}PushInFractional(e,t,n,s,r,o){let a=2,i=!1,l=!1;const d=e.GetWorldInfo();let c=d.GetX(),u=d.GetY();for(;a<=r;){const r=1/a;a*=2,d.OffsetXY(t*r*(i?1:-1),n*r*(i?1:-1)),d.SetBboxChanged(),this.TestOverlap(e,s)||o&&this.TestOverlapSolid(e)?(i=!0,l=!0):(i=!1,l=!1,c=d.GetX(),u=d.GetY())}l&&(d.SetXY(c,u),d.SetBboxChanged())}PushOutSolidNearest(e,t=100){let n=0;const s=e.GetWorldInfo(),r=s.GetX(),o=s.GetY();let a=0,i=this.TestOverlapSolid(e);if(!i)return!0;for(;n<=t;){let t=0,l=0;switch(a){case 0:t=0,l=-1,n++;break;case 1:t=1,l=-1;break;case 2:t=1,l=0;break;case 3:t=1,l=1;break;case 4:t=0,l=1;break;case 5:t=-1,l=1;break;case 6:t=-1,l=0;break;case 7:t=-1,l=-1}if(a=(a+1)%8,s.SetXY(Math.floor(r+t*n),Math.floor(o+l*n)),s.SetBboxChanged(),!this.TestOverlap(e,i)&&(i=this.TestOverlapSolid(e),!i))return!0}return s.SetXY(r,o),s.SetBboxChanged(),!1}CalculateBounceAngle(e,t,n,s){const r=e.GetWorldInfo(),o=r.GetX(),a=r.GetY(),i=Math.max(10,QI.distanceTo(t,n,o,a)),l=QI.angleTo(t,n,o,a),d=s||this.TestOverlapSolid(e);if(!d)return QI.clampAngle(l+Math.PI);let c=d,u=0,h=0;const _=QI.toRadians(5);let G;for(G=1;G<36;++G){const o=l-G*_;if(r.SetXY(t+Math.cos(o)*i,n+Math.sin(o)*i),r.SetBboxChanged(),!this.TestOverlap(e,c)&&(c=s?null:this.TestOverlapSolid(e),!c)){u=o;break}}for(36===G&&(u=QI.clampAngle(l+Math.PI)),c=d,G=1;G<36;++G){const o=l+G*_;if(r.SetXY(t+Math.cos(o)*i,n+Math.sin(o)*i),r.SetBboxChanged(),!this.TestOverlap(e,c)&&(c=s?null:this.TestOverlapSolid(e),!c)){h=o;break}}if(36===G&&(h=QI.clampAngle(l+Math.PI)),r.SetXY(o,a),r.SetBboxChanged(),h===u)return h;const p=QI.angleDiff(h,u)/2;let m;m=QI.angleClockwise(h,u)?QI.clampAngle(u+p+Math.PI):QI.clampAngle(h+p);const g=Math.cos(l),f=Math.sin(l),N=Math.cos(m),b=Math.sin(m),S=g*N+f*b,x=g-2*S*N,I=f-2*S*b;return QI.angleTo(0,0,x,I)}TestSegmentOverlap(e,t,n,s,r){if(!r)return!1;const o=r.GetWorldInfo();return!!o.IsCollisionEnabled()&&(this._collisionCheckCount++,ay.set(Math.min(e,n),Math.min(t,s),Math.max(e,n),Math.max(t,s)),!!o.GetBoundingBox().intersectsRect(ay)&&(r.HasTilemap()?this._TestSegmentOverlapTilemap(e,t,n,s,r,o):(this._polyCheckCount++,!!o.GetBoundingQuad().intersectsSegment(e,t,n,s)&&(!o.HasOwnCollisionPoly()||o.GetTransformedCollisionPoly().intersectsSegment(o.GetX(),o.GetY(),e,t,n,s)))))}_TestSegmentOverlapTilemap(e,t,n,s,r,o){const a=o.GetX(),i=o.GetY(),l=r.GetSdkInstance(),d=ty;iy.set(e,t,n,s),iy.normalize(),l.GetCollisionRectCandidates(iy,d);for(let r=0,o=d.length;r<o;++r){const o=d[r],l=o.GetRect();if(this._collisionCheckCount++,ay.intersectsRectOffset(l,a,i)&&(oy.setFromRect(l),oy.offset(a,i),oy.intersectsSegment(e,t,n,s))){const r=o.GetPoly();if(!r)return QI.clearArray(d),!0;if(this._polyCheckCount++,r.intersectsSegment(a+l.getLeft(),i+l.getTop(),e,t,n,s))return QI.clearArray(d),!0}}return QI.clearArray(d),!1}TestRectOverlap(e,t){if(!t)return!1;const n=t.GetWorldInfo();if(!n.IsCollisionEnabled())return!1;if(this._collisionCheckCount++,!n.GetBoundingBox().intersectsRect(e))return!1;if(t.HasTilemap())return this._TestRectOverlapTilemap(e,t,n);if(this._polyCheckCount++,oy.setFromRect(e),!n.GetBoundingQuad().intersectsQuad(oy))return!1;if(!n.HasOwnCollisionPoly())return!0;const s=sy;s.setFromRect(e,n.GetX(),n.GetY());const r=n.GetTransformedCollisionPoly();return s.intersectsPoly(r,0,0)}_TestRectOverlapTilemap(e,t,n){const s=n.GetX(),r=n.GetY(),o=t.GetSdkInstance(),a=ty;o.GetCollisionRectCandidates(e,a);for(let t=0,n=a.length;t<n;++t){const n=a[t],o=n.GetRect();if(this._collisionCheckCount++,e.intersectsRectOffset(o,s,r)){const t=n.GetPoly();if(!t)return QI.clearArray(a),!0;if(this._polyCheckCount++,sy.setFromRect(e,0,0),t.intersectsPoly(sy,-(s+o.getLeft()),-(r+o.getTop())))return QI.clearArray(a),!0}}return QI.clearArray(a),!1}TestRayIntersectsInstance(e,t){if(!e)return;const n=e.GetWorldInfo();n.IsCollisionEnabled()&&(this._collisionCheckCount++,n.GetBoundingBox().intersectsRect(t.rect)&&(e.HasTilemap()?this._TestRayIntersectsTilemap(e,n,t):(this._polyCheckCount++,n.HasOwnCollisionPoly()?t.TestInstancePoly(e,n.GetX(),n.GetY(),n.GetTransformedCollisionPoly()):t.TestInstanceQuad(e,n.GetBoundingQuad()))))}_TestRayIntersectsTilemap(e,t,n){const s=t.GetX(),r=t.GetY(),o=ty;e.GetSdkInstance().GetCollisionRectCandidates(n.rect,o);for(let a=0,i=o.length;a<i;a++){const i=o[a],l=i.GetRect();if(this._collisionCheckCount++,n.rect.intersectsRectOffset(l,s,r)){const o=i.GetPoly();this._polyCheckCount++,o?n.TestInstancePoly(e,s+l.getLeft(),r+l.getTop(),o):n.TestInstanceRect(e,t.GetX(),t.GetY(),l)}}QI.clearArray(o)}SetCollisionCellSize(e,t){if(e===this._collisionCellWidth&&t===this._collisionCellHeight)return;this._collisionCellWidth=e,this._collisionCellHeight=t;const n=this._runtime.GetAllObjectClasses();for(const s of n)if(s.IsWorldType()){for(const e of s.instancesIncludingPendingCreate())e.GetWorldInfo()._RemoveFromCollisionCells();s._GetCollisionCellGrid().SetCellSize(e,t),s._SetAnyCollisionCellChanged();for(const e of s.instancesIncludingPendingCreate()){const t=e.GetWorldInfo();t._SetCollisionCellChanged(),t._UpdateCollisionCell()}}}GetCollisionCellSize(){return[this._collisionCellWidth,this._collisionCellHeight]}_InitCollisionCellSize(e,t){this._collisionCellWidth=e,this._collisionCellHeight=t}}}{const uy=self.C3;uy.SparseGrid=class extends uy.DefendedBase{constructor(e,t){super(),this._cellWidth=e,this._cellHeight=t,this._cells=uy.New(uy.PairMap)}Release(){this._cells.Release(),this._cells=null}SetCellSize(e,t){if(!this._cells.IsEmpty())throw new Error("grid not empty");this._cellWidth=e,this._cellHeight=t}GetCell(e,t,n){let s=this._cells.Get(e,t);return s||(n?(s=uy.New(uy.GridCell,this,e,t),this._cells.Set(e,t,s),s):null)}XToCell(e){const t=Math.floor(e/this._cellWidth);return isFinite(t)?t:0}YToCell(e){const t=Math.floor(e/this._cellHeight);return isFinite(t)?t:0}Update(e,t,n){if(t)for(let s=t.getLeft(),r=t.getRight();s<=r;++s)for(let r=t.getTop(),o=t.getBottom();r<=o;++r){if(n&&n.containsPoint(s,r))continue;const t=this.GetCell(s,r,!1);t&&(t.Remove(e),t.IsEmpty()&&this._cells.Delete(s,r))}if(n)for(let s=n.getLeft(),r=n.getRight();s<=r;++s)for(let r=n.getTop(),o=n.getBottom();r<=o;++r)t&&t.containsPoint(s,r)||this.GetCell(s,r,!0).Insert(e)}QueryRange(e,t){let n=this.XToCell(e.getLeft());const s=this.YToCell(e.getTop()),r=this.XToCell(e.getRight()),o=this.YToCell(e.getBottom());if(isFinite(r)&&isFinite(o))for(;n<=r;++n)for(let e=s;e<=o;++e){const s=this.GetCell(n,e,!1);s&&s.Dump(t)}}}}{const hy=self.C3;hy.GridCell=class extends hy.DefendedBase{constructor(e,t,n){super(),this._grid=e,this._x=t,this._y=n,this._instances=hy.New(hy.ArraySet)}Release(){this._instances.Release(),this._instances=null,this._grid=null}IsEmpty(){return this._instances.IsEmpty()}Insert(e){this._instances.Add(e)}Remove(e){this._instances.Delete(e)}Dump(e){hy.appendArray(e,this._instances.GetArray())}}}{const _y=self.C3,Gy=1e-6,py=2;_y.Ray=class{constructor(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.dx=0,this.dy=0,this.rect=new _y.Rect,this.hitFraction=2,this.hitUid=null,this.hitNormal=0,this.hitNormalDx=0,this.hitNormalDy=0,this.hitX=0,this.hitY=0,this.distance=0,this.normalX=1,this.normalY=0,this.reflectionX=1,this.reflectionY=0}DidCollide(){return this.hitFraction<1.000001}Reset(){this.hitFraction=2}Set(e,t,n,s){return this.x1=e,this.y1=t,this.x2=n,this.y2=s,this.dx=n-e,this.dy=s-t,this.rect.set(e,t,n,s),this.rect.normalize(),this.hitFraction=2,this.hitUid=null,this.hitNormal=0,this.hitNormalDx=0,this.hitNormalDy=0,this.hitX=0,this.hitY=0,this.distance=0,this.normalX=1,this.normalY=0,this.reflectionX=1,this.reflectionY=0,this}Complete(){if(!1===this.DidCollide())return;const e=this.dx*this.hitFraction,t=this.dy*this.hitFraction,n=_y.hypot2DFast(e,t),s=e/n,r=t/n;this.distance=n-Gy,this.hitX=this.x1+s*this.distance,this.hitY=this.y1+r*this.distance,this.hitNormal=Math.atan2(this.hitNormalDy,this.hitNormalDx)+Math.PI/2,this.normalX=Math.cos(this.hitNormal),this.normalY=Math.sin(this.hitNormal);const o=s*this.normalX+r*this.normalY;if(this.reflectionX=s-2*this.normalX*o,this.reflectionY=r-2*this.normalY*o,o>0){const e=Math.PI;this.hitNormal=_y.clampAngle(this.hitNormal+e),this.normalX=-this.normalX,this.normalY=-this.normalY}}TestInstanceSegment(e,t,n,s,r){const o=_y.rayIntersect(this.x1,this.y1,this.x2,this.y2,t,n,s,r);o>=0&&o<this.hitFraction&&(this.hitFraction=o,this.hitUid=e.GetUID(),this.hitNormalDx=t-s,this.hitNormalDy=n-r)}TestInstanceRect(e,t,n,s){const r=t+s.getLeft(),o=t+s.getRight(),a=n+s.getTop(),i=n+s.getBottom();this.TestInstanceSegment(e,r,a,o,a),this.TestInstanceSegment(e,o,a,o,i),this.TestInstanceSegment(e,o,i,r,i),this.TestInstanceSegment(e,r,i,r,a)}TestInstanceQuad(e,t){const n=t.getTlx(),s=t.getTly(),r=t.getTrx(),o=t.getTry(),a=t.getBrx(),i=t.getBry(),l=t.getBlx(),d=t.getBly();this.TestInstanceSegment(e,n,s,r,o),this.TestInstanceSegment(e,r,o,a,i),this.TestInstanceSegment(e,a,i,l,d),this.TestInstanceSegment(e,l,d,n,s)}TestInstancePoly(e,t,n,s){const r=s.pointsArr();for(let s=0,o=r.length;s<o;s+=2){const a=(s+2)%o,i=r[s]+t,l=r[s+1]+n,d=r[a]+t,c=r[a+1]+n;this.TestInstanceSegment(e,i,l,d,c)}}}}{const my=self.C3;my.LayerStateCache=class{constructor(){this._layerCache=new Map}Release(){for(const e of this._layerCache.values())e.layerPts.Clear();this._layerCache.clear()}_GetLayerCache(e){let t=this._layerCache.get(e);return void 0===t&&(t={isInteractive:null,layerPts:new my.PairMap},this._layerCache.set(e,t)),t}IsInteractive(e){const t=this._GetLayerCache(e);return null===t.isInteractive&&(t.isInteractive=e.IsSelfAndParentsInteractive()),t.isInteractive}CanvasCssToLayer(e,t,n,s){if(0!==s)return e.CanvasCssToLayer(t,n,s);const r=this._GetLayerCache(e);let o=r.layerPts.Get(t,n);return void 0===o&&(o=e.CanvasCssToLayer(t,n,s),r.layerPts.Set(t,n,o)),o}}}{const gy=self.C3,fy=new Set(["off","crop","scale-inner","scale-outer","letterbox-scale","letterbox-integer-scale"]),Ny=new Set(["high","low"]),by=self.glMatrix,Sy=by.mat4,xy=by.vec3,Iy=Sy.create(),yy=300,Ey=200,Ty=120,Cy=8,My=gy.New(gy.Quad),Vy=gy.New(gy.Rect),By=3e3,Oy=200,vy=300;gy.CanvasManager=class extends gy.DefendedBase{constructor(e){super(),this._runtime=e,this._canvasLayers=[],this._isWebGPUEnabled=!1,this._webglRenderer=null,this._webgpuRenderer=null,this._iRenderer=null,this._gpuPreference="high-performance",this._isLimitedToWebGL1=!1,this._multitexturingMode="auto",this._windowInnerWidth=0,this._windowInnerHeight=0,this._cssDisplayMode="",this._canvasCssWidth=0,this._canvasCssHeight=0,this._canvasDeviceWidth=0,this._canvasDeviceHeight=0,this._canvasCssOffsetX=0,this._canvasCssOffsetY=0,this._zAxisScale="normalized",this._initFieldOfView=0,this._zNear=1,this._zFar=1e4,this._enableMipmaps=!0,this._textureAnisotropy=0,this._drawWidth=0,this._drawHeight=0,this._fullscreenMode="letterbox-scale",this._documentFullscreenMode="letterbox-scale",this._deviceTransformOffX=0,this._deviceTransformOffY=0,this._defaultProjectionMatrix=Sy.create(),this._wantFullscreenScalingQuality="high",this._fullscreenScalingQuality=this._wantFullscreenScalingQuality,this._isDocumentFullscreen=!1,this._availableAdditionalRenderTargets=[],this._usedAdditionalRenderTargets=new Set,this._shaderData=self.C3_Shaders,this._effectChainManager=gy.New(gy.Gfx.EffectChainManager,{getDrawSize:()=>[this.GetDrawWidth(),this.GetDrawHeight()],getRenderTarget:()=>this.GetEffectCompositorRenderTarget(),releaseRenderTarget:e=>this.ReleaseEffectCompositorRenderTarget(e),getTime:()=>this.GetRuntime().GetGameTime(),redraw:()=>this.GetRuntime().UpdateRender()}),this._gpuTimeStartFrame=0,this._gpuTimeEndFrame=0,this._gpuLastUtilisation=NaN,this._gpuFrameTimingsBuffer=null,this._layersGpuProfile=new Map,this._gpuCurUtilisation=NaN,this._webgpuFrameTimings=new Map,this._snapshotFormat="",this._snapshotQuality=1,this._snapshotArea=gy.New(gy.Rect),this._snapshotUrl="",this._snapshotPromise=null,this._snapshotResolve=null,this._isPastingToDrawingCanvas=0,this._loaderStartTime=0,this._rafId=-1,this._loadingProgress=0,this._loadingprogress_handler=e=>this._loadingProgress=e.progress,this._percentText=null,this._splashTextures={logo:null,powered:null,website:null},this._splashFrameNumber=0,this._splashFadeInFinishTime=0,this._splashFadeOutStartTime=0,this._splashState="fade-in",this._splashDoneResolve=null,this._splashDonePromise=new Promise(e=>this._splashDoneResolve=e)}_SetGPUPowerPreference(e){this._gpuPreference=e}_SetWebGPUEnabled(e){this._isWebGPUEnabled=!!e}_SetZAxisScale(e){this._zAxisScale=e}GetZAxisScale(){return this._zAxisScale}_SetInitFieldOfView(e){this._initFieldOfView=e}_SetZDistances(e,t){this._zNear=e,this._zFar=t}_SetLimitedToWebGL1(e){this._isLimitedToWebGL1=!!e}_SetMultitexturingMode(e){this._multitexturingMode=e}async CreateCanvas(e){let t=e.canvas;this._canvasLayers.push({canvas:t,ctx:null}),this._runtime.AddDOMComponentMessageHandler("runtime","window-resize",e=>this._OnWindowResize(e)),this._runtime.AddDOMComponentMessageHandler("runtime","fullscreenchange",e=>this._OnFullscreenChange(e)),this._runtime.AddDOMComponentMessageHandler("runtime","fullscreenerror",e=>this._OnFullscreenError(e)),t.addEventListener("webglcontextlost",e=>this._OnWebGLContextLost(e)),t.addEventListener("webglcontextrestored",e=>this._OnWebGLContextRestored(e)),this._isDocumentFullscreen=!!e.isFullscreen,this._cssDisplayMode=e.cssDisplayMode;const n=navigator.gpu&&this._isWebGPUEnabled;let s=!1;if(n)try{await this._InitWebGPUContext(!0)}catch(e){this._MaybeLogRendererError("WebGPU",e),this._webgpuRenderer=null}if(!this.GetRenderer())try{await this._InitWebGLContext(!0)}catch(e){this._MaybeLogRendererError("WebGL",e),this._webglRenderer=null}if(this.GetRenderer()||(s=!0),!this.GetRenderer()&&n)try{await this._InitWebGPUContext(!1)}catch(e){this._MaybeLogRendererError("WebGPU",e),this._webgpuRenderer=null}if(!this.GetRenderer())try{await this._InitWebGLContext(!1)}catch(e){this._MaybeLogRendererError("WebGL",e),this._webglRenderer=null}const r=this.GetRenderer();if(!r)throw new Error("failed to acquire a renderer - check WebGL or WebGPU is supported");r.SetHasMajorPerformanceCaveat(s),this._webgpuRenderer&&(this._webgpuRenderer.ondevicelost=()=>this._OnWebGPUDeviceLost(),this._webgpuRenderer.ondevicerestored=()=>this._OnWebGPUDeviceRestored()),"normalized"===this._zAxisScale?r.SetZAxisScaleNormalized():(r.SetZAxisScaleRegular(),r.SetFovY(this._initFieldOfView)),this.SetSize(e.windowInnerWidth,e.windowInnerHeight,!0),await this._InitRenderer()}_MaybeLogRendererError(e,t){t&&"string"==typeof t.message&&t.message.startsWith("renderer-unavailable")||console.error(`Error creating ${e} renderer: `,t)}async _InitWebGPUContext(e){const t={nearZ:this._zNear,farZ:this._zFar};let n=!0;"no"===this._multitexturingMode?n=!1:"auto"===this._multitexturingMode&&(n=gy.Platform.IsDesktop);const s={powerPreference:this._gpuPreference,depth:this._runtime.Uses3DFeatures(),failIfMajorPerformanceCaveat:e,usesBackgroundBlending:this._runtime.UsesAnyBackgroundBlending(),canSampleBackbuffer:this._runtime.UsesAnyCrossSampling(),canSampleDepth:this._runtime.UsesAnyDepthSampling(),isMultiTexturingAllowed:n};this._webgpuRenderer=gy.New(gy.Gfx.WebGPURenderer,t),await this._webgpuRenderer.Create(this._canvasLayers[0].canvas,s)}async _InitWebGLContext(e){const t={alpha:!0,powerPreference:this._gpuPreference,enableGpuProfiling:"xbox-uwp-webview2"!==this._runtime.GetExportType(),depth:this._runtime.Uses3DFeatures(),canSampleDepth:this._runtime.UsesAnyDepthSampling(),failIfMajorPerformanceCaveat:e,nearZ:this._zNear,farZ:this._zFar};this._isLimitedToWebGL1&&(t.maxWebGLVersion=1),this._webglRenderer=gy.New(gy.Gfx.WebGLRenderer,this._canvasLayers[0].canvas,t),await this._webglRenderer.InitState()}async _InitWebGPU(){if(this._shaderData){const e=[];for(const[t,n]of Object.entries(this._shaderData)){n.src=n.wgsl;const s=gy.Gfx.WebGPUShaderProgram.GetDefaultVertexShaderSource(this._webgpuRenderer.IsColorDataF16());e.push(this._webgpuRenderer.CreateShaderProgram(Object.assign({vertexSrc:s,name:t},n)))}await Promise.all(e)}}async _InitWebGL(){if(this._shaderData){const e=[];for(const[t,n]of Object.entries(this._shaderData)){let s;if(n.glslWebGL2&&this._webglRenderer.GetWebGLVersionNumber()>=2)n.src=n.glslWebGL2,s=gy.Gfx.WebGLShaderProgram.GetDefaultVertexShaderSource_WebGL2();else{if(!n.glsl)throw new Error(`shader '${t}' does not support WebGL 1`);n.src=n.glsl,s=gy.Gfx.WebGLShaderProgram.GetDefaultVertexShaderSource()}e.push(this._webglRenderer.CreateShaderProgram(Object.assign({vertexSrc:s,name:t},n)))}await Promise.all(e),this._webglRenderer.ResetLastProgram(),this._webglRenderer.SetTextureFillMode()}this._webglRenderer.SupportsGPUProfiling()&&(this._gpuFrameTimingsBuffer=gy.New(gy.Gfx.WebGLQueryResultBuffer,this._webglRenderer))}async _InitRenderer(){this._webgpuRenderer?await this._InitWebGPU():this._webglRenderer&&await this._InitWebGL();const e=this.GetRenderer();e.SetMipmapsEnabled(this._enableMipmaps),e.SupportsGPUProfiling()&&(this._gpuLastUtilisation=0);for(const t of this._runtime._GetAllEffectLists()){for(const n of t.GetAllEffectTypes())n._InitRenderer(e);t._InitRenderer(e),t.UpdateActiveEffects()}this._iRenderer=new self.IRenderer(this._runtime,e)}Release(){this._runtime=null,this._webglRenderer=null,this._canvasLayers.length=0}IsInWorker(){return this._runtime.IsInWorker()}_OnWindowResize(e){const t=this._runtime;if(t.IsExportToVideo())return;const n=e.devicePixelRatio;this.IsInWorker()&&(self.devicePixelRatio=n),t._SetDevicePixelRatio(n),this._isDocumentFullscreen=!!e.isFullscreen,this._cssDisplayMode=e.cssDisplayMode,this.SetSize(e.innerWidth,e.innerHeight),t.UpdateRender();const s=new gy.Event("window-resize");s.data=e,t.Dispatcher().dispatchEventAndWaitAsyncSequential(s);const r=new gy.Event("resize");r.cssWidth=this.GetCssWidth(),r.cssHeight=this.GetCssHeight(),r.deviceWidth=this.GetDeviceWidth(),r.deviceHeight=this.GetDeviceHeight(),t.DispatchUserScriptEvent(r),this._runtime.GetCurrentLayout()?.BoundScrolling(),t.IsDebug()&&(t.HitBreakpoint()||self.C3Debugger.IsDebuggerPaused())&&t.Render()}_OnFullscreenChange(e){this._isDocumentFullscreen=!!e.isFullscreen,this.SetSize(e.innerWidth,e.innerHeight,!0),this._runtime.UpdateRender()}_OnFullscreenError(e){this._isDocumentFullscreen=!!e.isFullscreen,this.SetSize(e.innerWidth,e.innerHeight,!0),this._runtime.UpdateRender()}SetSize(e,t,n=!1){if(e=Math.floor(e),t=Math.floor(t),e<=0||t<=0)throw new Error("invalid size");if(this._windowInnerWidth===e&&this._windowInnerHeight===t&&!n)return;this._windowInnerWidth=e,this._windowInnerHeight=t;const s=this.GetCurrentFullscreenMode();"letterbox-scale"===s?this._CalculateLetterboxScale(e,t):"letterbox-integer-scale"===s?this._CalculateLetterboxIntegerScale(e,t):"off"===s?this._CalculateFixedSizeCanvas(e,t):this._CalculateFullsizeCanvas(e,t),this._UpdateFullscreenScalingQuality(s);for(const{canvas:e}of this._canvasLayers)e.width=this._canvasDeviceWidth,e.height=this._canvasDeviceHeight;this._runtime.PostComponentMessageToDOM("canvas","update-size",{marginLeft:this._canvasCssOffsetX,marginTop:this._canvasCssOffsetY,styleWidth:this._canvasCssWidth,styleHeight:this._canvasCssHeight,displayScale:this.GetDisplayScale()});const r=this.GetRenderer();r.SetSize(this._canvasDeviceWidth,this._canvasDeviceHeight,!0);for(const e of this._availableAdditionalRenderTargets)r.DeleteRenderTarget(e);gy.clearArray(this._availableAdditionalRenderTargets),this.UpdateDefaultProjectionMatrix();const o=this._runtime.GetLayoutManager();o.SetAllLayerProjectionChanged(),o.SetAllLayerMVChanged()}UpdateDefaultProjectionMatrix(){this.GetRenderer().CalculatePerspectiveMatrix(this._defaultProjectionMatrix,this.GetDrawWidth()/this.GetDrawHeight())}GetDefaultProjectionMatrix(){return this._defaultProjectionMatrix}_CalculateLetterboxScale(e,t){const n=this._runtime.GetDevicePixelRatio(),s=this._runtime.GetOriginalViewportWidth(),r=this._runtime.GetOriginalViewportHeight(),o=s/r;if(e/t>o){const n=t*o;this._canvasCssWidth=Math.round(n),this._canvasCssHeight=t,this._canvasCssOffsetX=Math.floor((e-this._canvasCssWidth)/2),this._canvasCssOffsetY=0}else{const n=e/o;this._canvasCssWidth=e,this._canvasCssHeight=Math.round(n),this._canvasCssOffsetX=0,this._canvasCssOffsetY=Math.floor((t-this._canvasCssHeight)/2)}this._canvasDeviceWidth=Math.round(this._canvasCssWidth*n),this._canvasDeviceHeight=Math.round(this._canvasCssHeight*n),this._runtime.SetViewportSize(s,r)}_CalculateLetterboxIntegerScale(e,t){const n=this._runtime.GetDevicePixelRatio();1!==n&&(e+=1,t+=1);const s=this._runtime.GetOriginalViewportWidth(),r=this._runtime.GetOriginalViewportHeight(),o=s/r;let a;a=e/t>o?t*o*n/s:e/o*n/r,a>1?a=Math.floor(a):a<1&&(a=1/Math.ceil(1/a)),this._canvasDeviceWidth=Math.round(s*a),this._canvasDeviceHeight=Math.round(r*a),this._canvasCssWidth=this._canvasDeviceWidth/n,this._canvasCssHeight=this._canvasDeviceHeight/n,this._canvasCssOffsetX=Math.max(Math.floor((e-this._canvasCssWidth)/2),0),this._canvasCssOffsetY=Math.max(Math.floor((t-this._canvasCssHeight)/2),0),this._runtime.SetViewportSize(s,r)}_CalculateFullsizeCanvas(e,t){const n=this._runtime.GetDevicePixelRatio();this._canvasCssWidth=e,this._canvasCssHeight=t,this._canvasDeviceWidth=Math.round(this._canvasCssWidth*n),this._canvasDeviceHeight=Math.round(this._canvasCssHeight*n),this._canvasCssOffsetX=0,this._canvasCssOffsetY=0;const s=this.GetDisplayScale();this._runtime.SetViewportSize(this._canvasCssWidth/s,this._canvasCssHeight/s)}_CalculateFixedSizeCanvas(e,t){const n=this._runtime.GetDevicePixelRatio();this._canvasCssWidth=this._runtime.GetViewportWidth(),this._canvasCssHeight=this._runtime.GetViewportHeight(),this._canvasDeviceWidth=Math.round(this._canvasCssWidth*n),this._canvasDeviceHeight=Math.round(this._canvasCssHeight*n),this.IsDocumentFullscreen()?(this._canvasCssOffsetX=Math.floor((e-this._canvasCssWidth)/2),this._canvasCssOffsetY=Math.floor((t-this._canvasCssHeight)/2)):(this._canvasCssOffsetX=0,this._canvasCssOffsetY=0),this._runtime.SetViewportSize(this._runtime.GetViewportWidth(),this._runtime.GetViewportHeight())}_UpdateFullscreenScalingQuality(e){if("high"===this._wantFullscreenScalingQuality)this._drawWidth=this._canvasDeviceWidth,this._drawHeight=this._canvasDeviceHeight,this._fullscreenScalingQuality="high";else{let t,n;if("off"===this.GetCurrentFullscreenMode()?(t=this._runtime.GetViewportWidth(),n=this._runtime.GetViewportHeight()):(t=this._runtime.GetOriginalViewportWidth(),n=this._runtime.GetOriginalViewportHeight()),this._canvasDeviceWidth<t||this._canvasDeviceHeight<n)this._drawWidth=this._canvasDeviceWidth,this._drawHeight=this._canvasDeviceHeight,this._fullscreenScalingQuality="high";else if(this._drawWidth=t,this._drawHeight=n,this._fullscreenScalingQuality="low","scale-inner"===e){const e=t/n,s=this._windowInnerWidth/this._windowInnerHeight;s<e?this._drawWidth=this._drawHeight*s:s>e&&(this._drawHeight=this._drawWidth/s)}else if("scale-outer"===e){const e=t/n,s=this._windowInnerWidth/this._windowInnerHeight;s>e?this._drawWidth=this._drawHeight*s:s<e&&(this._drawHeight=this._drawWidth/s)}}}GetRuntime(){return this._runtime}GetMainCanvas(){return this._canvasLayers[0].canvas}GetEffectChainManager(){return this._effectChainManager}IsDocumentFullscreen(){return this._isDocumentFullscreen}GetCssDisplayMode(){return this._cssDisplayMode}SetFullscreenMode(e){if(!fy.has(e))throw new Error("invalid fullscreen mode");this._fullscreenMode=e;const t=this._runtime.GetLayoutManager();t.SetAllLayerProjectionChanged(),t.SetAllLayerMVChanged()}GetFullscreenMode(){return this._fullscreenMode}SetDocumentFullscreenMode(e){if(!fy.has(e))throw new Error("invalid fullscreen mode");this._documentFullscreenMode=e;const t=this._runtime.GetLayoutManager();t.SetAllLayerProjectionChanged(),t.SetAllLayerMVChanged()}GetDocumentFullscreenMode(){return this._documentFullscreenMode}GetCurrentFullscreenMode(){return this.IsDocumentFullscreen()?this.GetDocumentFullscreenMode():this.GetFullscreenMode()}SetFullscreenScalingQuality(e){if(!Ny.has(e))throw new Error("invalid fullscreen scaling quality");this._wantFullscreenScalingQuality=e,this._runtime.GetLayoutManager().SetAllLayerProjectionChanged()}GetSetFullscreenScalingQuality(){return this._wantFullscreenScalingQuality}GetCurrentFullscreenScalingQuality(){return this._fullscreenScalingQuality}static _FullscreenModeNumberToString(e){switch(e){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw new Error("invalid fullscreen mode")}}GetLastWidth(){return this._windowInnerWidth}GetLastHeight(){return this._windowInnerHeight}GetDrawWidth(){return this._drawWidth}GetDrawHeight(){return this._drawHeight}SetMipmapsEnabled(e){this._enableMipmaps=!!e}_SetTextureAnisotropy(e){this._textureAnisotropy=e}GetTextureAnisotropy(){return this._textureAnisotropy}IsRendererContextLost(){return this.GetRenderer().IsContextLost()}_OnWebGLContextLost(e){console.log("[Construct] WebGL context lost"),e.preventDefault(),this._availableAdditionalRenderTargets=[],this._usedAdditionalRenderTargets.clear(),this._effectChainManager.OnContextLost(),this._webglRenderer.OnContextLost(),this._runtime._OnRendererContextLost()}_OnWebGPUDeviceLost(){console.log("[Construct] WebGPU device lost"),this._availableAdditionalRenderTargets=[],this._usedAdditionalRenderTargets.clear(),this._effectChainManager.OnContextLost(),this._runtime._OnRendererContextLost()}async _OnWebGLContextRestored(e){await this._webglRenderer.OnContextRestored(),await this._InitRenderer(),await this._runtime._OnRendererContextRestored(),console.log("[Construct] WebGL context restored")}async _OnWebGPUDeviceRestored(){await this._InitRenderer(),await this._runtime._OnRendererContextRestored(),console.log("[Construct] WebGPU device restored")}GetWebGLRenderer(){return this._webglRenderer}GetWebGPURenderer(){return this._webgpuRenderer}GetRenderer(){return this._webgpuRenderer||this._webglRenderer}GetIRenderer(){return this._iRenderer}GetRendererString(){let e="";return e=this._runtime.GetWebGPURenderer()?"webgpu":"webgl"+this._runtime.GetWebGLRenderer().GetWebGLVersionNumber(),this._runtime.GetRenderer().HasMajorPerformanceCaveat()&&(e+="-software"),e}GetRendererDetailString(){return this._runtime.GetWebGPURenderer()?this._runtime.GetWebGPURenderer().GetAdapterInfoString():this._runtime.GetWebGLRenderer().GetUnmaskedRenderer()}GetRenderScale(){return"low"===this._fullscreenScalingQuality?1/this._runtime.GetDevicePixelRatio():this.GetDisplayScale()}GetDisplayScale(){const e=this.GetCurrentFullscreenMode();if("off"===e||"crop"===e)return 1;const t=this._runtime.GetOriginalViewportWidth(),n=this._runtime.GetOriginalViewportHeight(),s=t/n,r=this._canvasDeviceWidth/this._canvasDeviceHeight;return"scale-inner"!==e&&r>s||"scale-inner"===e&&r<s?this._canvasCssHeight/n:this._canvasCssWidth/t}GetEffectLayerScaleParam(){return"low"===this.GetCurrentFullscreenScalingQuality()?1:this.GetDisplayScale()}GetEffectDevicePixelRatioParam(){return"low"===this.GetCurrentFullscreenScalingQuality()?1:this._runtime.GetDevicePixelRatio()}SetDeviceTransformOffset(e,t){this._deviceTransformOffX=e,this._deviceTransformOffY=t}SetDeviceTransform(e,t,n,s=!0){t=t||this._drawWidth,n=n||this._drawHeight;const r=t/2+this._deviceTransformOffX,o=n/2+this._deviceTransformOffY;if(s){let s=this.GetDefaultProjectionMatrix();t===this._drawWidth&&n===this._drawHeight||(e.CalculatePerspectiveMatrix(Iy,t/n),s=Iy),e.SetProjectionMatrix(s)}const a=e.CalculateLookAtModelView2(r,o,e.GetDefaultCameraZ(n),r,o,0,n);e.SetModelViewMatrix(a)}SetCssTransform(e,t=!0){const n=this.GetCssWidth(),s=this.GetCssHeight(),r=n/2,o=s/2;t&&e.SetProjectionMatrix(this.GetDefaultProjectionMatrix());const a=e.CalculateLookAtModelView2(r,o,e.GetDefaultCameraZ(s),r,o,0,s);e.SetModelViewMatrix(a)}GetDeviceWidth(){return this._canvasDeviceWidth}GetDeviceHeight(){return this._canvasDeviceHeight}GetCssWidth(){return this._canvasCssWidth}GetCssHeight(){return this._canvasCssHeight}GetCanvasClientX(){return this._canvasCssOffsetX}GetCanvasClientY(){return this._canvasCssOffsetY}GetHTMLLayerCount(){return this._canvasLayers.length}_CanUseImageBitmapRenderingContext(){return"undefined"!=typeof OffscreenCanvas&&this.GetMainCanvas()instanceof OffscreenCanvas&&("Chromium"!==gy.Platform.BrowserEngine||gy.Platform.BrowserVersionNumber>=124)}async SetHTMLLayerCount(e,t=!1){if(e<1)throw new Error("invalid HTML layer count");if(this._canvasLayers.length===e)return;const n={count:e,layersDomState:this._runtime.GetLayoutManager().GetMainRunningLayout()._GetRootLayers().filter(e=>e.IsHTMLElementsLayer()).map(e=>e._GetHTMLLayerDOMState()),immediate:t,marginLeft:this._canvasCssOffsetX,marginTop:this._canvasCssOffsetY,styleWidth:this._canvasCssWidth,styleHeight:this._canvasCssHeight};let s;if(s=this.IsInWorker()?await this._runtime.PostComponentMessageToDOMAsync("canvas","set-html-layer-count",n):self.c3_runtimeInterface._OnSetHTMLLayerCount(n),e<this._canvasLayers.length)this._canvasLayers.length=e;else for(const e of s.addedCanvases){e.width=this._canvasDeviceWidth,e.height=this._canvasDeviceHeight;const t=this._CanUseImageBitmapRenderingContext()?"bitmaprenderer":"2d",n=e.getContext(t);if(!n)throw new Error(`failed to acquire '${t}' canvas context`);this._canvasLayers.push({canvas:e,ctx:n})}this._runtime.UpdateRender()}BlitMainCanvasToHTMLLayerCanvas(e){if(e>=this._canvasLayers.length)return;const t=this.GetMainCanvas(),n=this._canvasLayers[e].ctx;this._CanUseImageBitmapRenderingContext()?n.transferFromImageBitmap(t.transferToImageBitmap()):(n.globalCompositeOperation="copy",n.drawImage(t,0,0))}GetAdditionalRenderTarget(e){e.depth=this._runtime.Uses3DFeatures();const t=this._availableAdditionalRenderTargets,n=t.findIndex(t=>t.IsCompatibleWithOptions(e));let s;return-1!==n?(s=t[n],t.splice(n,1)):s=this.GetRenderer().CreateRenderTarget(e),this._usedAdditionalRenderTargets.add(s),s}ReleaseAdditionalRenderTarget(e){if(!this._usedAdditionalRenderTargets.has(e))throw new Error("render target not in use");this._usedAdditionalRenderTargets.delete(e),this._availableAdditionalRenderTargets.push(e)}GetEffectCompositorRenderTarget(){const e={sampling:this._runtime.GetSampling()};return"low"===this.GetCurrentFullscreenScalingQuality()&&(e.width=this.GetDrawWidth(),e.height=this.GetDrawHeight()),this.GetAdditionalRenderTarget(e)}ReleaseEffectCompositorRenderTarget(e){this.ReleaseAdditionalRenderTarget(e)}*activeLayersGpuProfiles(){for(const e of this._runtime.GetLayoutManager().runningLayouts())for(const t of e.GetLayers()){const e=this._layersGpuProfile.get(t);e&&(yield e)}}GetLayerTimingsBuffer(e){if(!this.GetRenderer().SupportsGPUProfiling())return null;let t=this._layersGpuProfile.get(e);return t||(t={layer:e,name:e.GetName(),timingsBuffer:gy.New(gy.Gfx.WebGLQueryResultBuffer,this._webglRenderer),curUtilisation:0,lastTotalUtilisation:0,lastSelfUtilisation:0},this._layersGpuProfile.set(e,t)),t.timingsBuffer}_Update1sFrameRange(){const e=this.GetRenderer();if(e.SupportsGPUProfiling()&&0===this._gpuTimeEndFrame){this._gpuTimeEndFrame=e.GetFrameNumber(),this._gpuCurUtilisation=NaN;for(const e of this.activeLayersGpuProfiles())e.curUtilisation=NaN}}_UpdateTick(){this._webglRenderer&&this._webglRenderer.SupportsGPUProfiling()&&this._UpdateTick_WebGL(),this._webgpuRenderer&&this._webgpuRenderer.SupportsGPUProfiling()&&this._UpdateTick_WebGPU()}_UpdateTick_WebGL(){if(isNaN(this._gpuCurUtilisation)&&(this._gpuCurUtilisation=this._gpuFrameTimingsBuffer.GetFrameRangeResultSum(this._gpuTimeStartFrame,this._gpuTimeEndFrame),!isNaN(this._gpuCurUtilisation))){if(this._runtime.IsDebug())for(const e of this.activeLayersGpuProfiles())if(e.curUtilisation=e.timingsBuffer.GetFrameRangeResultSum(this._gpuTimeStartFrame,this._gpuTimeEndFrame),isNaN(e.curUtilisation))return;if(this._gpuFrameTimingsBuffer.DeleteAllBeforeFrameNumber(this._gpuTimeEndFrame),this._gpuLastUtilisation=Math.min(this._gpuCurUtilisation,1),this._runtime.IsDebug()){const e=new Map;for(const t of this.activeLayersGpuProfiles())t.timingsBuffer.DeleteAllBeforeFrameNumber(this._gpuTimeEndFrame),t.lastTotalUtilisation=Math.min(t.curUtilisation,1),e.set(t.layer,t.lastTotalUtilisation);for(const t of this.activeLayersGpuProfiles()){const n=t.layer,s=(e.get(n)||0)-n.GetSubLayers().reduce((t,n)=>t+(e.get(n)||0),0);t.lastSelfUtilisation=gy.clamp(s,0,1)}const t=this._runtime.GetMainRunningLayout(),n=this._gpuLastUtilisation-t._GetRootLayers().reduce((t,n)=>t+(e.get(n)||0),0);self.C3Debugger.UpdateGPUProfile(gy.clamp(n,0,1),this._gpuLastUtilisation,[...this.activeLayersGpuProfiles()])}this._gpuTimeStartFrame=this._gpuTimeEndFrame,this._gpuTimeEndFrame=0}}GetGPUFrameTimingsBuffer(){return this._gpuFrameTimingsBuffer}_UpdateTick_WebGPU(){if(0===this._gpuTimeEndFrame)return;for(let e=this._gpuTimeStartFrame;e<this._gpuTimeEndFrame;++e){const t=this._webgpuFrameTimings.get(e);if(t&&!t.HasResult())return}const e=this._runtime.GetMainRunningLayout(),t=gy.MakeFilledArray(e.GetLayerCount()+1,0);let n=0;for(let e=this._gpuTimeStartFrame;e<this._gpuTimeEndFrame;++e){const s=this._webgpuFrameTimings.get(e);if(!s)continue;const r=s.GetResult();let o=BigInt(0),a=BigInt(0);const i=BigInt(0);for(let e=0,n=Math.min(t.length,r.length/2);e<n;++e){const n=r[2*e],s=r[2*e+1];n!==i&&(o===i||n<o)&&(o=n),s>a&&(a=s);const l=Number(s-n)/1e9;t[e]+=l}n+=Number(a-o)/1e9}if(this._gpuLastUtilisation=gy.clamp(n,0,1),this._runtime.IsDebug()){const n=e.GetLayers(),s=new Map;for(let e=0,r=Math.min(n.length,t.length-1);e<r;++e){const r=t[e+1];s.set(n[e],r)}const r=[],o=new Map;for(const[e,t]of s){const n=[...e.selfAndAllSubLayers()].reduce((e,t)=>e+(s.get(t)||0),0);o.set(e,n),r.push({name:e.GetName(),lastSelfUtilisation:gy.clamp(t,0,1),lastTotalUtilisation:gy.clamp(n,0,1)})}const a=this._gpuLastUtilisation-e._GetRootLayers().reduce((e,t)=>e+(o.get(t)||0),0);self.C3Debugger.UpdateGPUProfile(gy.clamp(a,0,1),this._gpuLastUtilisation,r)}for(let e=this._gpuTimeStartFrame;e<this._gpuTimeEndFrame;++e)this._webgpuFrameTimings.delete(e);this._gpuTimeStartFrame=this._gpuTimeEndFrame,this._gpuTimeEndFrame=0}_AddWebGPUFrameTiming(e){this._webgpuFrameTimings.set(this._webgpuRenderer.GetFrameNumber(),e)}GetGPUUtilisation(){return this._gpuLastUtilisation}SnapshotCanvas(e,t,n,s,r,o){return this._snapshotFormat=e,this._snapshotQuality=t,this._snapshotArea.setWH(n,s,r,o),this._snapshotPromise||(this._snapshotPromise=new Promise(e=>{this._snapshotResolve=e})),this._snapshotPromise}_MaybeTakeSnapshot(){if(!this._snapshotFormat)return;let e=this.GetMainCanvas();const t=this._snapshotArea,n=gy.clamp(Math.floor(t.getLeft()),0,e.width),s=gy.clamp(Math.floor(t.getTop()),0,e.height);let r=t.width();r=0===r?e.width-n:gy.clamp(Math.floor(r),0,e.width-n);let o=t.height();if(o=0===o?e.height-s:gy.clamp(Math.floor(o),0,e.height-s),(0!==n||0!==s||r!==e.width||o!==e.height)&&r>0&&o>0){const t=gy.CreateCanvas(r,o);t.getContext("2d").drawImage(e,n,s,r,o,0,0,r,o),e=t}gy.CanvasToBlob(e,this._snapshotFormat,this._snapshotQuality).then(e=>{this._snapshotUrl&&URL.revokeObjectURL(this._snapshotUrl),this._snapshotUrl=URL.createObjectURL(e),this._snapshotPromise=null,this._snapshotResolve(e)}),this._snapshotFormat="",this._snapshotQuality=1}GetCanvasSnapshotUrl(){return this._snapshotUrl}SetIsPastingToDrawingCanvas(e){e?this._isPastingToDrawingCanvas++:this._isPastingToDrawingCanvas--}IsPastingToDrawingCanvas(){return this._isPastingToDrawingCanvas>0}InitLoadingScreen(e){const t=this.GetRenderer();if(2===e)this._percentText=gy.New(gy.Gfx.RendererText,this.GetRenderer()),this._percentText.SetFontName("Arial"),this._percentText.SetFontSize(16),this._percentText.SetHorizontalAlignment("center"),this._percentText.SetVerticalAlignment("center"),this._percentText.SetSize(300,200);else if(0===e){const e=this._runtime.GetLoadingLogoAsset();e&&e.LoadStaticTexture(t).catch(e=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",e))}else 4===e&&(this._LoadSvgSplashImage("splash-images/splash-logo.svg").then(e=>{"done"===this._splashState?t.DeleteTexture(e):this._splashTextures.logo=e}).catch(e=>console.warn("Failed to load splash image: ",e)),this._LoadBitmapSplashImage("splash-images/splash-poweredby-512.png").then(e=>{"done"===this._splashState?t.DeleteTexture(e):this._splashTextures.powered=e}).catch(e=>console.warn("Failed to load splash image: ",e)),this._LoadBitmapSplashImage("splash-images/splash-website-512.png").then(e=>{"done"===this._splashState?t.DeleteTexture(e):this._splashTextures.website=e}).catch(e=>console.warn("Failed to load splash image: ",e)))}async _LoadSvgSplashImage(e){e=new URL(e,this._runtime.GetRuntimeBaseURL()).toString();const t=await gy.FetchBlob(e),n=await this._runtime.RasterSvgImage(t,2048,2048);return await this.GetRenderer().CreateStaticTextureAsync(n,{mipMapQuality:"high"})}async _LoadBitmapSplashImage(e){e=new URL(e,this._runtime.GetRuntimeBaseURL()).toString();const t=await gy.FetchBlob(e);return await this.GetRenderer().CreateStaticTextureAsync(t,{mipMapQuality:"high"})}HideCordovaSplashScreen(){this._runtime.PostComponentMessageToDOM("runtime","hide-cordova-splash")}StartLoadingScreen(){this._loaderStartTime=Date.now(),this._runtime.Dispatcher().addEventListener("loadingprogress",this._loadingprogress_handler),this._rafId=requestAnimationFrame(()=>this._DrawLoadingScreen()),3!==this._runtime.GetLoaderStyle()&&this.HideCordovaSplashScreen()}async EndLoadingScreen(){const e=this.GetRenderer();this._loadingProgress=1;const t=this._runtime.GetLoaderStyle();4===t&&await this._splashDonePromise,this._splashDoneResolve=null,this._splashDonePromise=null,-1!==this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=-1),this._runtime.Dispatcher().removeEventListener("loadingprogress",this._loadingprogress_handler),this._loadingprogress_handler=null,this._percentText&&(this._percentText.Release(),this._percentText=null),this._runtime.ReleaseLoadingLogoAsset(),e.Start(),this._splashTextures.logo&&(e.DeleteTexture(this._splashTextures.logo),this._splashTextures.logo=null),this._splashTextures.powered&&(e.DeleteTexture(this._splashTextures.powered),this._splashTextures.powered=null),this._splashTextures.website&&(e.DeleteTexture(this._splashTextures.website),this._splashTextures.website=null),e.ClearRgba(0,0,0,0),e.Finish(),this._splashState="done",this._gpuTimeStartFrame=e.GetFrameNumber(),3===t&&this.HideCordovaSplashScreen()}_DrawLoadingScreen(){if(-1===this._rafId)return;const e=this.GetRenderer();e.Start(),this._rafId=-1;const t=this._runtime.GetAssetManager().HasHadErrorLoading(),n=this._runtime.GetLoaderStyle();if(3!==n&&(this.SetCssTransform(e),e.ClearRgba(0,0,0,0),e.ResetColor(),e.SetTextureFillMode(),e.SetTexture(null)),0===n)this._DrawProgressBarAndLogoLoadingScreen(t);else if(1===n)this._DrawProgressBarLoadingScreen(t,120,0);else if(2===n)this._DrawPercentTextLoadingScreen(t);else if(3===n)gy.noop();else{if(4!==n)throw new Error("invalid loader style");this._DrawSplashLoadingScreen(t)}e.Finish(),this._rafId=requestAnimationFrame(()=>this._DrawLoadingScreen())}_DrawPercentTextLoadingScreen(e){e?this._percentText.SetColorRgb(1,0,0):this._percentText.SetColorRgb(.6,.6,.6),this._percentText.SetText(Math.round(100*this._loadingProgress)+"%");const t=this._canvasCssWidth/2,n=this._canvasCssHeight/2;My.setRect(t-150,n-100,t+150,n+100);const s=this.GetRenderer();s.SetTexture(this._percentText.GetTexture()),s.Quad3(My,this._percentText.GetTexRect())}_DrawProgressBarLoadingScreen(e,t,n){const s=this.GetRenderer();s.SetColorFillMode(),e?s.SetColorRgba(1,0,0,1):s.SetColorRgba(.118,.565,1,1);const r=this._canvasCssWidth/2,o=this._canvasCssHeight/2,a=t/2;Vy.setWH(r-a,o-4+n,Math.floor(t*this._loadingProgress),8),s.Rect(Vy),Vy.setWH(r-a,o-4+n,t,8),Vy.offset(-.5,-.5),Vy.inflate(.5,.5),s.SetColorRgba(0,0,0,1),s.LineRect2(Vy),Vy.inflate(1,1),s.SetColorRgba(1,1,1,1),s.LineRect2(Vy)}_DrawProgressBarAndLogoLoadingScreen(e){const t=this.GetRenderer(),n=this._runtime.GetLoadingLogoAsset();if(!n)return void this._DrawProgressBarLoadingScreen(e,120,0);const s=n.GetTexture();if(!s)return void this._DrawProgressBarLoadingScreen(e,120,0);const r=s.GetWidth(),o=s.GetHeight(),a=this._canvasCssWidth/2,i=this._canvasCssHeight/2,l=r/2,d=o/2;My.setRect(a-l,i-d,a+l,i+d),t.SetTexture(s),t.Quad(My),this._DrawProgressBarLoadingScreen(e,r,d+16)}_DrawSplashLoadingScreen(e){const t=this.GetRenderer(),n=this._splashTextures.logo,s=this._splashTextures.powered,r=this._splashTextures.website,o=Date.now();0===this._splashFrameNumber&&(this._loaderStartTime=o);const a=this._runtime.IsPreview()||this._runtime.IsFBInstantAvailable()&&!this._runtime.IsCordova(),i=a?0:200,l=a?0:3e3;let d=1;"fade-in"===this._splashState?d=Math.min((o-this._loaderStartTime)/300,1):"fade-out"===this._splashState&&(d=Math.max(1-(o-this._splashFadeOutStartTime)/300,0)),t.SetColorFillMode(),t.SetColorRgba(.231*d,.251*d,.271*d,d),Vy.set(0,0,this._canvasCssWidth,this._canvasCssHeight),t.Rect(Vy);const c=Math.ceil(this._canvasCssWidth),u=Math.ceil(this._canvasCssHeight);let h,_;this._canvasCssHeight>256?(t.SetColorRgba(.302*d,.334*d,.365*d,d),h=c,_=Math.max(.005*u,2),Vy.setWH(0,.8*u-_/2,h,_),t.Rect(Vy),e?t.SetColorRgba(d,0,0,d):t.SetColorRgba(.161*d,.953*d,.816*d,d),h=c*this._loadingProgress,Vy.setWH(.5*c-h/2,.8*u-_/2,h,_),t.Rect(Vy),t.SetColorRgba(d,d,d,d),t.SetTextureFillMode(),s&&(h=1.5*gy.clamp(.22*u,105,.6*c),_=h/8,Vy.setWH(.5*c-h/2,.2*u-_/2,h,_),t.SetTexture(s),t.Rect(Vy)),n&&(h=Math.min(.395*u,.95*c),_=h,Vy.setWH(.5*c-h/2,.485*u-_/2,h,_),t.SetTexture(n),t.Rect(Vy)),r&&(h=1.5*gy.clamp(.22*u,105,.6*c),_=h/8,Vy.setWH(.5*c-h/2,.868*u-_/2,h,_),t.SetTexture(r),t.Rect(Vy))):(t.SetColorRgba(.302*d,.334*d,.365*d,d),h=c,_=Math.max(.005*u,2),Vy.setWH(0,.85*u-_/2,h,_),t.Rect(Vy),e?t.SetColorRgba(d,0,0,d):t.SetColorRgba(.161*d,.953*d,.816*d,d),h=c*this._loadingProgress,Vy.setWH(.5*c-h/2,.85*u-_/2,h,_),t.Rect(Vy),t.SetColorRgba(d,d,d,d),t.SetTextureFillMode(),n&&(h=.55*u,_=h,Vy.setWH(.5*c-h/2,.45*u-_/2,h,_),t.SetTexture(n),t.Rect(Vy))),this._splashFrameNumber++,"fade-in"===this._splashState&&o-this._loaderStartTime>=300&&this._splashFrameNumber>=2&&(this._splashState="wait",this._splashFadeInFinishTime=o),"wait"===this._splashState&&o-this._splashFadeInFinishTime>=l&&this._loadingProgress>=1&&(this._splashState="fade-out",this._splashFadeOutStartTime=o),("fade-out"===this._splashState&&o-this._splashFadeOutStartTime>=300+i||a&&this._loadingProgress>=1&&o-this._loaderStartTime<500)&&this._splashDoneResolve()}}}{const Py=self.C3,wy=self.C3Debugger,Ay=self.assert,Dy=self.ISDKBehaviorInstanceBase,Ry={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""};let Fy=!0;Py.Runtime=class extends Py.DefendedBase{constructor(e){e=Object.assign({},Ry,e),super(),this._messagePort=e.messagePort,this._runtimeBaseUrl=e.runtimeBaseUrl,this._previewUrl=e.previewUrl,this._isHeadless=!!e.headless,this._hasDom=!!e.hasDom,this._isInWorker=!!e.isInWorker,Fy=e.ife,this._useAudio=!!e.useAudio,this._exportType=e.exportType,this._isNWjs=e.isNWjs,this._isiOSCordova=!!e.isiOSCordova,this._isiOSWebView=!!e.isiOSWebView,this._isWindowsWebView2=!!e.isWindowsWebView2,this._isAnyWebView2Wrapper=!!e.isAnyWebView2Wrapper,this._isFBInstantAvailable=!!e.isFBInstantAvailable,this._isDebug=!("preview"!==this._exportType||!e.isDebug),this._breakpointsEnabled=this._isDebug,this._isDebugging=this._isDebug,this._debuggingDisabled=0,this._additionalLoadPromises=[],this._additionalCreatePromises=[],this._isUsingCreatePromises=!1,this._projectName="",this._projectVersion="",this._projectUniqueId="",this._appId="",this._exportTimestamp=0,this._originalViewportWidth=0,this._originalViewportHeight=0,this._devicePixelRatio=self.devicePixelRatio,this._parallaxXorigin=0,this._parallaxYorigin=0,this._viewportWidth=0,this._viewportHeight=0,this._loaderStyle=0,this._usesLoaderLayout=!1,this._isLoading=!0,this._usesAnyBackgroundBlending=!1,this._usesAnyCrossSampling=!1,this._usesAnyDepthSampling=!1,this._loadingLogoAsset=null,this._assetManager=Py.New(Py.AssetManager,this,e),this._layoutManager=Py.New(Py.LayoutManager,this),this._eventSheetManager=Py.New(Py.EventSheetManager,this),this._addonManager=Py.New(Py.AddonManager,this,e.wrapperComponentIds),this._collisionEngine=Py.New(Py.CollisionEngine,this),this._timelineManager=Py.New(Py.TimelineManager,this),this._transitionManager=Py.New(Py.TransitionManager,this),this._templateManager=Py.New(Py.TemplateManager,this),this._flowchartManager=Py.New(Py.FlowchartManager,this),this._textIconManager=Py.New(Py.TextIconManager,{getIconSetMeta:e=>this._GetTextIconSetMeta(e),getIconSetContent:e=>this._GetTextIconSetContent(e)}),this._iconChangeHandlers=new Map,this._allObjectClasses=[],this._objectClassesByName=new Map,this._objectClassesBySid=new Map,this._familyCount=0,this._allContainers=[],this._allEffectLists=new Set,this._currentLayoutStack=[],this._instancesPendingCreate=[],this._instancesPendingDestroy=new Map,this._hasPendingInstances=!1,this._isFlushingPendingInstances=!1,this._objectCount=0,this._nextUid=0,this._instancesByUid=new Map,this._instancesPendingRelease=new Set,this._instancesPendingReleaseAffectedObjectClasses=new Set,this._objectReferenceTable=[],this._jsPropNameTable=[],this._canvasManager=null,this._uses3dFeatures=!1,this._framerateMode="vsync",this._sampling="trilinear",this._isPixelRoundingEnabled=!1,this._needRender=!0,this._pauseOnBlur=!1,this._isPausedOnBlur=!1,this._exportToVideo=null,this._tickCallbacks={normal:e=>{this._rafId=-1,this._ruafId=-1,this.Tick(e)},tickOnly:e=>{this._ruafId=-1,this.Tick(e,!1,"skip-render")},renderOnly:()=>{this._rafId=-1,this.Render()}},this._rafId=-1,this._ruafId=-1,this._tickCount=0,this._tickCountNoSave=0,this._hasStarted=!1,this._isInTick=!1,this._hasStartedTicking=!1,this._isLayoutFirstTick=!0,this._isAutoSuspendEnabled=!0,this._isPageVisibilitySuspended=!1,this._suspendCount=0,this._scheduleTriggersThrottle=new Py.PromiseThrottle(1),this._randomNumberCallback=()=>Math.random(),this._startTime=0,this._lastTickTime=0,this._dtRaw=0,this._dt1=0,this._dt=0,this._timeScale=1,this._maxDt=1/30,this._minDt=0,this._gameTime=Py.New(Py.KahanSum),this._gameTimeRaw=Py.New(Py.KahanSum),this._wallTime=Py.New(Py.KahanSum),this._instanceTimes=new Map,this._fpsFrameCount=-1,this._fpsLastTime=0,this._fps=0,this._tpsTickCount=-1,this._tps=0,this._mainThreadTimeCounter=0,this._mainThreadTime=0,this._isLoadingState=!1,this._saveToSlotName="",this._saveToJsonString=!1,this._loadFromSlotName="",this._loadFromJson=null,this._lastSaveJson="",this._projectStorage=null,this._savegamesStorage=null,this._dispatcher=Py.New(Py.Event.Dispatcher),this._domEventHandlers=new Map,this._pendingResponsePromises=new Map,this._nextDomResponseId=0,this._didRequestDeviceOrientationEvent=!1,this._didRequestDeviceMotionEvent=!1,this._isReadyToHandleEvents=!1,this._waitingToHandleEvents=[],this._eventObjects={pretick:Py.New(Py.Event,"pretick",!1),tick:Py.New(Py.Event,"tick",!1),tick2:Py.New(Py.Event,"tick2",!1),instancecreate:Py.New(Py.Event,"instancecreate",!1),instancedestroy:Py.New(Py.Event,"instancedestroy",!1),beforelayoutchange:Py.New(Py.Event,"beforelayoutchange",!1),layoutchange:Py.New(Py.Event,"layoutchange",!1)},this._eventObjects.instancecreate.instance=null,this._eventObjects.instancedestroy.instance=null,this._userScriptDispatcher=Py.New(Py.Event.Dispatcher),this._userScriptEventObjects=null;const t=(e,t)=>Py.BehaviorInstance.SortByTickSequence(this,e,t);this._behInstsToTick=Py.New(Py.RedBlackSet,t),this._behInstsToPostTick=Py.New(Py.RedBlackSet,t),this._behInstsToTick2=Py.New(Py.RedBlackSet,t),this._jobScheduler=Py.New(Py.JobSchedulerRuntime,this,e.jobScheduler),e.canvas&&(this._canvasManager=Py.New(Py.CanvasManager,this)),this._messagePort.onmessage=e=>this._OnMessageFromDOM(e.data),this.AddDOMComponentMessageHandler("runtime","visibilitychange",e=>this._OnVisibilityChange(e)),this.AddDOMComponentMessageHandler("runtime","wrapper-extension-message",e=>this._OnWrapperExtensionMessage(e)),this.AddDOMComponentMessageHandler("runtime","get-remote-preview-status-info",()=>this._GetRemotePreviewStatusInfo()),this.AddDOMComponentMessageHandler("runtime","js-invoke-function",e=>this._InvokeFunctionFromJS(e)),this.AddDOMComponentMessageHandler("runtime","go-to-last-error-script",self.goToLastErrorScript),this.AddDOMComponentMessageHandler("runtime","offline-audio-render-completed",e=>this._OnOfflineAudioRenderCompleted(e)),this._dispatcher.addEventListener("window-blur",e=>this._OnWindowBlur(e)),this._dispatcher.addEventListener("window-focus",()=>this._OnWindowFocus()),this._timelineManager.AddRuntimeListeners(),this._templateManager.AddRuntimeListeners(),this._iRuntime=null,this._interfaceMap=new WeakMap,this._commonScriptInterfaces={keyboard:null,mouse:null,touch:null,timelineController:null},this._instancesNeedingAfterLoadMap=new WeakMap,this._instancesNeedingAfterLoadArray=[]}static Create(e){return Py.New(Py.Runtime,e)}Release(){Py.clearArray(this._allObjectClasses),this._objectClassesByName.clear(),this._objectClassesBySid.clear(),this._layoutManager.Release(),this._layoutManager=null,this._eventSheetManager.Release(),this._eventSheetManager=null,this._addonManager.Release(),this._addonManager=null,this._assetManager.Release(),this._assetManager=null,this._collisionEngine.Release(),this._collisionEngine=null,this._timelineManager.Release(),this._timelineManager=null,this._transitionManager.Release(),this._transitionManager=null,this._templateManager.Release(),this._templateManager=null,this._flowchartManager.Release(),this._flowchartManager=null,this._textIconManager.Release(),this._textIconManager=null,this._canvasManager&&(this._canvasManager.Release(),this._canvasManager=null),this._dispatcher.Release(),this._dispatcher=null,this._tickEvent=null}_OnMessageFromDOM(e){const t=e.type;if("event"===t)this._OnEventFromDOM(e);else{if("result"!==t)throw new Error(`unknown message '${t}'`);this._OnResultFromDOM(e)}}_OnEventFromDOM(e){if(!this._isReadyToHandleEvents)return void this._waitingToHandleEvents.push(e);const t=e.component,n=e.handler,s=e.data,r=e.dispatchOpts,o=!(!r||!r.dispatchRuntimeEvent),a=!(!r||!r.dispatchUserScriptEvent),i=e.responseId;if("runtime"===t){if(o){const e=new Py.Event(n);e.data=s,this._dispatcher.dispatchEventAndWaitAsyncSequential(e)}if(a){const e=new Py.Event(n,!0);for(const[t,n]of Object.entries(s))e[t]=n;this.DispatchUserScriptEvent(e)}}const l=this._domEventHandlers.get(t);if(!l)return void(o||a||console.warn(`[Runtime] No DOM event handlers for component '${t}'`));const d=l.get(n);if(!d)return void(o||a||console.warn(`[Runtime] No DOM handler '${n}' for component '${t}'`));let c=null;try{c=d(s)}catch(e){return console.error(`Exception in '${t}' handler '${n}':`,e),void(null!==i&&this._PostResultToDOM(i,!1,""+e))}null!==i&&(c&&c.then?c.then(e=>this._PostResultToDOM(i,!0,e)).catch(e=>{console.error(`Rejection from '${t}' handler '${n}':`,e),this._PostResultToDOM(i,!1,""+e)}):this._PostResultToDOM(i,!0,c))}_PostResultToDOM(e,t,n){this._messagePort.postMessage({type:"result",responseId:e,isOk:t,result:n})}_OnResultFromDOM(e){const t=e.responseId,n=e.isOk,s=e.result,r=this._pendingResponsePromises.get(t);n?r.resolve(s):r.reject(s),this._pendingResponsePromises.delete(t)}AddDOMComponentMessageHandler(e,t,n){let s=this._domEventHandlers.get(e);if(s||(s=new Map,this._domEventHandlers.set(e,s)),s.has(t))throw new Error(`[Runtime] Component '${e}' already has handler '${t}'`);s.set(t,n)}PostComponentMessageToDOM(e,t,n,s){this._messagePort.postMessage({type:"event",component:e,handler:t,data:n,responseId:null},s)}PostComponentMessageToDOMAsync(e,t,n,s){const r=this._nextDomResponseId++,o=new Promise((e,t)=>{this._pendingResponsePromises.set(r,{resolve:e,reject:t})});return this._messagePort.postMessage({type:"event",component:e,handler:t,data:n,responseId:r},s),o}SendWrapperExtensionMessage(e,t,n,s=-1){this.PostComponentMessageToDOM("runtime","send-wrapper-extension-message",{componentId:e,messageId:t,params:n,asyncId:s})}SendWrapperExtensionMessageAsync(e,t,n){const s=this._nextDomResponseId++,r=new Promise((e,t)=>{this._pendingResponsePromises.set(s,{resolve:e,reject:t})});return this.SendWrapperExtensionMessage(e,t,n,s),r}_OnWrapperExtensionMessage(e){if(-1!==e.asyncId){const t=e.asyncId;this._pendingResponsePromises.get(t).resolve(e.params),this._pendingResponsePromises.delete(t)}else this._OnEventFromDOM({component:"wrapper-extension:"+e.componentId,handler:e.messageId,data:e.params,responseId:null})}AddWrapperExtensionMessageHandler(e,t,n){this.AddDOMComponentMessageHandler("wrapper-extension:"+e,t,n)}HasWrapperComponentId(e){return this._addonManager.HasWrapperComponentId(e)}PostToDebugger(e){if(!this.IsDebug())throw new Error("not in debug mode");this.PostComponentMessageToDOM("runtime","post-to-debugger",e)}async Init(e){Py.CommonACES_SetRuntime(this),this.IsDebug()?await wy.Init(this):self.C3Debugger&&self.C3Debugger.InitPreview(this);const t=await this._assetManager.FetchJson("data.json");if(await this._LoadDataJson(t),await this._InitialiseCanvas(e),this.IsPreview()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net","font-weight: bold"),this.GetWebGLRenderer()){const e=this.GetWebGLRenderer();console.info(`[C3 runtime] Hosted in ${this.IsInWorker()?"worker":"DOM"}, rendering with WebGL ${e.GetWebGLVersionNumber()} [${e.GetUnmaskedRenderer()}]`)}else this.GetWebGPURenderer()&&console.info(`[C3 runtime] Hosted in ${this.IsInWorker()?"worker":"DOM"}, rendering with WebGPU [${this.GetWebGPURenderer().GetAdapterInfoString()}]`);this.GetRenderer().HasMajorPerformanceCaveat()&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance."),this._isReadyToHandleEvents=!0;for(const e of this._waitingToHandleEvents)this._OnEventFromDOM(e);Py.clearArray(this._waitingToHandleEvents),this._canvasManager&&this._canvasManager.StartLoadingScreen();for(const t of e.runOnStartupFunctions)this._additionalLoadPromises.push(this._RunOnStartupFunction(t));if(await Promise.all([this._assetManager.WaitForAllToLoad(),...this._additionalLoadPromises]),Py.clearArray(this._additionalLoadPromises),!this._assetManager.HasHadErrorLoading())return this._canvasManager&&await this._canvasManager.EndLoadingScreen(),await this._dispatcher.dispatchEventAndWaitAsync(new Py.Event("beforeruntimestart")),await this.Start(),this._messagePort.postMessage({type:"runtime-ready"}),this;this._canvasManager&&this._canvasManager.HideCordovaSplashScreen()}async _RunOnStartupFunction(e){try{await e(this._iRuntime)}catch(e){console.error("[C3 runtime] Error in runOnStartup function: ",e)}}async _LoadDataJson(e){const t=e.project;this._projectName=t[0],this._projectVersion=t[16],this._projectUniqueId=t[31],this._appId=t[38],this._exportTimestamp=t[36];const n=t[39]||"loading-logo.png";this._isPixelRoundingEnabled=!!t[9],this._originalViewportWidth=this._viewportWidth=t[10],this._originalViewportHeight=this._viewportHeight=t[11],this._collisionEngine._InitCollisionCellSize(this._originalViewportWidth,this._originalViewportHeight),this._parallaxXorigin=this._originalViewportWidth/2,this._parallaxYorigin=this._originalViewportHeight/2,this._framerateMode=t[37],this._uses3dFeatures=!!t[40],this._sampling=t[14],this._usesAnyBackgroundBlending=t[15],this._usesAnyCrossSampling=t[42],this._usesAnyDepthSampling=t[17],this._usesLoaderLayout=!!t[18],this._loaderStyle=t[19],this._nextUid=t[21],this._pauseOnBlur=t[22];const s=this._assetManager;if(s._SetFileStructure(t[45]),s._SetAudioFiles(t[7],t[25]),s._SetMediaSubfolder(t[8]),s._SetFontsSubfolder(t[32]),s._SetIconsSubfolder(t[28]),s._SetWebFonts(t[29]),0===this._loaderStyle){let e="";e="flat"===s.GetFileStructure()?s.GetIconsSubfolder()+n:n,e&&(this._loadingLogoAsset=s.LoadImage({url:e}))}this._canvasManager&&(this._canvasManager.SetFullscreenMode(Py.CanvasManager._FullscreenModeNumberToString(t[12])),this._canvasManager.SetFullscreenScalingQuality(t[23]?"high":"low"),this._canvasManager.SetMipmapsEnabled(0!==t[24]),this._canvasManager._SetGPUPowerPreference(t[34]),this._canvasManager._SetTextureAnisotropy(t[41]),this._canvasManager._SetWebGPUEnabled(t[13]),this._canvasManager._SetZAxisScale(t[30]),this._canvasManager._SetZDistances(t[46],t[47]),this._canvasManager._SetInitFieldOfView(t[26]),this._canvasManager._SetLimitedToWebGL1(t[48]),this._canvasManager._SetMultitexturingMode(t[50]));const r=t[43];r&&await this._LoadExportToVideoData(r),this._InitScriptInterfaces(),this._addonManager.CreateSystemPlugin(),this._objectReferenceTable=self.C3_GetObjectRefTable();const o=t[2];for(const e of o[1])this._addonManager.CreateBehavior(e);for(const e of o[0])this._addonManager.CreatePlugin(e);this._objectReferenceTable=self.C3_GetObjectRefTable(),this._LoadJsPropNameTable(),this._addonManager._InitAddonScriptInterfaces();for(const e of t[3]){const t=Py.ObjectClass.Create(this,this._allObjectClasses.length,e);this._allObjectClasses.push(t),this._objectClassesByName.set(t.GetName().toLowerCase(),t),this._objectClassesBySid.set(t.GetSID(),t)}for(const e of t[4])this._allObjectClasses[e[0]]._LoadFamily(e);for(const e of t[27]){const t=e.map(e=>this._allObjectClasses[e]);this._allContainers.push(Py.New(Py.Container,this,t))}this._InitObjectsScriptInterface();for(const e of this._allObjectClasses)e._OnAfterCreate();for(const e of t[5])this._layoutManager.Create(e);const a=t[1];if(a){const e=this._layoutManager.GetLayoutByName(a);e&&this._layoutManager.SetFirstLayout(e)}for(const e of t[35])this._transitionManager.Create(e);for(const e of t[33])this._timelineManager.Create(e);for(const e of t[44])this._templateManager.Create(e);this._templateManager.HasTemplates()||(this._templateManager.Release(),this._templateManager=null);for(const e of t[49])this._flowchartManager.Create(e);this._flowchartManager.HasFlowcharts()||(this._flowchartManager.Release(),this._flowchartManager=null);for(const e of t[6])this._eventSheetManager.Create(e);this._eventSheetManager._PostInit(),this._InitGlobalVariableScriptInterface(),Py.clearArray(this._objectReferenceTable),this.FlushPendingInstances();let i="any";const l=t[20];1===l?i="portrait":2===l&&(i="landscape"),this.PostComponentMessageToDOM("runtime","set-target-orientation",{targetOrientation:i})}async _LoadExportToVideoData(e){const t=e.format;"image-sequence"===t?this._exportToVideo=new self.C3ExportToImageSequence(this,e):"image-sequence-gif"===t?this._exportToVideo=new self.C3ExportToGIF(this,e):"webm"===t?this._exportToVideo=new self.C3ExportToWebMVideo(this,e):"mp4"===t&&(this._exportToVideo=new self.C3ExportToMP4Video(this,e)),this._framerateMode="unlimited-frame",this._canvasManager.SetFullscreenMode("off"),this._devicePixelRatio=1,self.devicePixelRatio=1,await this.PostComponentMessageToDOMAsync("runtime","set-exporting-to-video",{message:this._exportToVideo.GetExportingMessageForPercent(0),duration:this._exportToVideo.GetDuration()})}GetLoaderStyle(){return this._loaderStyle}IsExportToVideo(){return null!==this._exportToVideo}GetExportVideoDuration(){return this._exportToVideo.GetDuration()}GetExportVideoFramerate(){return this._exportToVideo.GetFramerate()}_InitExportToVideo(){return this._exportToVideo.Init({width:this._canvasManager.GetDeviceWidth(),height:this._canvasManager.GetDeviceHeight()})}_ExportToVideoAddFrame(){const e=this._tickCount/this.GetExportVideoFramerate();return this._exportToVideo.AddFrame(this._canvasManager.GetMainCanvas(),e)}_ExportToVideoAddKeyframe(){this._exportToVideo&&this._exportToVideo.AddKeyframe()}_OnOfflineAudioRenderCompleted(e){this._exportToVideo.OnOfflineAudioRenderCompleted(e)}_ExportToVideoFinish(){return this._exportToVideo.Finish()}IsFBInstantAvailable(){return this._isFBInstantAvailable}IsLoading(){return this._isLoading}AddLoadPromise(e){this._additionalLoadPromises.push(e)}SetUsingCreatePromises(e){this._isUsingCreatePromises=!!e}AddCreatePromise(e){this._isUsingCreatePromises&&this._additionalCreatePromises.push(e)}GetCreatePromises(){return this._additionalCreatePromises}_GetNextFamilyIndex(){return this._familyCount++}GetFamilyCount(){return this._familyCount}_AddEffectList(e){this._allEffectLists.add(e)}_RemoveEffectList(e){this._allEffectLists.delete(e)}_GetAllEffectLists(){return this._allEffectLists}async _InitialiseCanvas(e){this._canvasManager&&(await this._canvasManager.CreateCanvas(e),this._canvasManager.InitLoadingScreen(this._loaderStyle))}async Start(){this._hasStarted=!0,this._startTime=Date.now();let e=null;const t=new Promise(t=>e=t);if(this._usesLoaderLayout){for(const e of this._allObjectClasses)e.IsFamily()||e.IsOnLoaderLayout()||!e.IsWorldType()||e.OnCreate();(async()=>{await this._assetManager.WaitForAllToLoad(),await t,this._isLoading=!1,this._OnLoadFinished()})()}else this._isLoading=!1;this._assetManager.SetInitialLoadFinished(),this.IsDebug()&&wy.RuntimeInit(Fy);for(const e of this._layoutManager.GetAllLayouts())e._CreateGlobalNonWorlds();this.IsExportToVideo()&&await this._InitExportToVideo();const n=this._layoutManager.GetFirstLayout();await n._Load(null,this.GetRenderer()),await n._StartRunning(!0),this._fpsLastTime=performance.now(),e(),this._usesLoaderLayout||this._OnLoadFinished(),(await this.PostComponentMessageToDOMAsync("runtime","before-start-ticking")).isSuspended&&!this.IsExportToVideo()?(this._suspendCount++,this._isPageVisibilitySuspended=!0):this.Tick()}_OnLoadFinished(){this.Trigger(Py.Plugins.System.Cnds.OnLoadFinished,null,null),this.PostComponentMessageToDOM("runtime","register-sw")}GetObjectReference(e){e=Math.floor(e);const t=this._objectReferenceTable;if(e<0||e>=t.length)throw new Error("invalid object reference");return t[e]}_LoadJsPropNameTable(){for(const e of self.C3_JsPropNameTable){const t=Py.first(Object.keys(e));this._jsPropNameTable.push(t)}}GetJsPropName(e){e=Math.floor(e);const t=this._jsPropNameTable;if(e<0||e>=t.length)throw new Error("invalid prop reference");return t[e]}HasDOM(){return this._hasDom}IsHeadless(){return this._isHeadless}IsInWorker(){return this._isInWorker}GetRuntimeBaseURL(){return this._runtimeBaseUrl}GetPreviewURL(){return this._previewUrl}GetEventSheetManager(){return this._eventSheetManager}GetEventStack(){return this._eventSheetManager.GetEventStack()}GetCurrentEventStackFrame(){return this._eventSheetManager.GetCurrentEventStackFrame()}GetCurrentEvent(){return this._eventSheetManager.GetCurrentEvent()}GetCurrentCondition(){return this._eventSheetManager.GetCurrentCondition()}IsCurrentConditionFirst(){return 0===this.GetCurrentEventStackFrame().GetConditionIndex()}GetCurrentAction(){return this._eventSheetManager.GetCurrentAction()}GetAddonManager(){return this._addonManager}GetSystemPlugin(){return this._addonManager.GetSystemPlugin()}GetObjectClassByIndex(e){if((e=Math.floor(e))<0||e>=this._allObjectClasses.length)throw new RangeError("invalid index");return this._allObjectClasses[e]}GetObjectClassByName(e){return this._objectClassesByName.get(e.toLowerCase())||null}GetObjectClassBySID(e){return this._objectClassesBySid.get(e)||null}GetSingleGlobalObjectClassByCtor(e){const t=Py.AddonManager.GetPluginByConstructorFunction(e);return t?t.GetSingleGlobalObjectClass():null}GetAllObjectClasses(){return this._allObjectClasses}*allInstances(){for(const e of this._allObjectClasses)e.IsFamily()||(yield*e.instances())}Dispatcher(){return this._dispatcher}UserScriptDispatcher(){return this._userScriptDispatcher}DispatchUserScriptEvent(e){e.runtime=this.GetIRuntime();const t=this.IsDebug()&&!this._eventSheetManager.IsInEventEngine();t&&wy.StartMeasuringScriptTime(),this._userScriptDispatcher.dispatchEvent(e),t&&wy.AddScriptTime()}DispatchUserScriptEventAsyncWait(e){return e.runtime=this.GetIRuntime(),this._userScriptDispatcher.dispatchEventAndWaitAsync(e)}GetOriginalViewportWidth(){return this._originalViewportWidth}GetOriginalViewportHeight(){return this._originalViewportHeight}SetOriginalViewportSize(e,t){if(this._originalViewportWidth===e&&this._originalViewportHeight===t)return;this._originalViewportWidth=e,this._originalViewportHeight=t;const n=this.GetLayoutManager();n.SetAllLayerProjectionChanged(),n.SetAllLayerMVChanged()}GetViewportWidth(){return this._viewportWidth}GetViewportHeight(){return this._viewportHeight}SetViewportSize(e,t){if(this._viewportWidth===e&&this._viewportHeight===t)return;this._viewportWidth=e,this._viewportHeight=t;const n=this.GetLayoutManager();n.SetAllLayerProjectionChanged(),n.SetAllLayerMVChanged()}_SetDevicePixelRatio(e){this.IsExportToVideo()||(this._devicePixelRatio=e)}GetDevicePixelRatio(){return this._devicePixelRatio}GetParallaxXOrigin(){return this._parallaxXorigin}GetParallaxYOrigin(){return this._parallaxYorigin}GetCanvasManager(){return this._canvasManager}GetDrawWidth(){return this._canvasManager?this._canvasManager.GetDrawWidth():this._viewportWidth}GetDrawHeight(){return this._canvasManager?this._canvasManager.GetDrawHeight():this._viewportHeight}GetRenderScale(){return this._canvasManager?this._canvasManager.GetRenderScale():1}GetDisplayScale(){return this._canvasManager?this._canvasManager.GetDisplayScale():1}GetEffectLayerScaleParam(){return this._canvasManager?this._canvasManager.GetEffectLayerScaleParam():1}GetEffectDevicePixelRatioParam(){return this._canvasManager?this._canvasManager.GetEffectDevicePixelRatioParam():1}GetCanvasClientX(){return this._canvasManager?this._canvasManager.GetCanvasClientX():0}GetCanvasClientY(){return this._canvasManager?this._canvasManager.GetCanvasClientY():0}GetCanvasCssWidth(){return this._canvasManager?this._canvasManager.GetCssWidth():0}GetCanvasCssHeight(){return this._canvasManager?this._canvasManager.GetCssHeight():0}GetFullscreenMode(){return this._canvasManager?this._canvasManager.GetFullscreenMode():"off"}GetAdditionalRenderTarget(e){return this._canvasManager?this._canvasManager.GetAdditionalRenderTarget(e):null}ReleaseAdditionalRenderTarget(e){this._canvasManager&&this._canvasManager.ReleaseAdditionalRenderTarget(e)}UsesAnyBackgroundBlending(){return this._usesAnyBackgroundBlending}UsesAnyCrossSampling(){return this._usesAnyCrossSampling}UsesAnyDepthSampling(){return this._usesAnyDepthSampling}GetGPUUtilisation(){return this._canvasManager?this._canvasManager.GetGPUUtilisation():NaN}IsLinearSampling(){return"nearest"!==this.GetSampling()}GetFramerateMode(){return this._framerateMode}_SetFramerateMode(e){this._framerateMode!==e&&(this._framerateMode=e,-1===this._rafId&&-1===this._ruafId||(this._CancelAnimationFrame(),this._RequestAnimationFrame()))}GetSampling(){return this._sampling}UsesLoaderLayout(){return this._usesLoaderLayout}GetLoadingLogoAsset(){return this._loadingLogoAsset}ReleaseLoadingLogoAsset(){this._loadingLogoAsset&&(this._loadingLogoAsset.ReleaseTexture(),this._loadingLogoAsset.Release(),this._loadingLogoAsset=null)}GetLayoutManager(){return this._layoutManager}GetMainRunningLayout(){return this._layoutManager.GetMainRunningLayout()}GetTimelineManager(){return this._timelineManager}GetTransitionManager(){return this._transitionManager}GetTemplateManager(){return this._templateManager}GetFlowchartManager(){return this._flowchartManager}GetAssetManager(){return this._assetManager}LoadImage(e){return this._assetManager.LoadImage(e)}CreateInstance(e,t,n,s,r,o){if(o&&this._templateManager){if(e instanceof Py.ObjectClass&&e.IsFamily()){const a=e.GetFamilyMembers(),i=Math.floor(this.Random()*a.length);return this.CreateInstance(a[i],t,n,s,r,o)}const a=this._templateManager.GetTemplateData(e,o);if(a){const e=this.CreateInstanceFromData(a,t,!1,n,s,!1,r,void 0,r);return this._templateManager.MapInstanceToTemplateName(e,o),e}}return this.CreateInstanceFromData(e,t,!1,n,s,!1,r,void 0,r)}CreateInstanceFromData(e,t,n,s,r,o,a,i,l){let d=null,c=null;if(e instanceof Py.ObjectClass){if(c=e,c.IsFamily()){const e=c.GetFamilyMembers();c=e[Math.floor(this.Random()*e.length)]}d=c.GetDefaultInstanceData()}else d=e,c=this.GetObjectClassByIndex(d[1]);const u=c.GetPlugin().IsWorldType();if(this._isLoading&&u&&!c.IsOnLoaderLayout())return null;const h=t;let _;u||(t=null),_=n&&!o&&d&&!this._instancesByUid.has(d[2])?d[2]:this._nextUid++;const G=d?d[0]:null,p=Py.New(Py.Instance,{runtime:this,objectType:c,layer:t,worldData:G,instVarData:d?d[3]:null,uid:_,tags:d?d[6]:null});this._instancesByUid.set(_,p);let m=null;if(u&&(m=p.GetWorldInfo(),void 0!==s&&void 0!==r&&(m.SetX(s),m.SetY(r)),c._SetAnyCollisionCellChanged(!0)),t&&(l||t._AddInstance(p,!0),t.GetLayout().MaybeLoadTexturesFor(c)),this._objectCount++,c.IsInContainer()&&!n&&!o){const e=new Set;for(const t of c.GetContainer().objectTypes()){if(t===c)continue;const n=this._MaybeGetChildInstanceForObjectTypeData(t,m,e);if(n){const e=this.CreateInstanceFromData(n,h,!1,m?m.GetX():s,m?m.GetY():r,!0,!1,void 0,l);p._AddSibling(e)}else{const e=this.CreateInstanceFromData(t,h,!1,m?m.GetX():s,m?m.GetY():r,!0,!1,void 0,l);p._AddSibling(e)}}for(const e of p.siblings()){e._AddSibling(p);for(const t of p.siblings())e!==t&&e._AddSibling(t)}}if(u&&!n&&a&&this._CreateChildInstancesFromData(p,G,m,t,s,r,l),c.IsInContainer()&&!n&&!o&&a)for(const e of p.siblings()){const n=e.GetWorldInfo();if(!n)continue;const s=e.GetPlugin(),r=e.GetObjectClass().GetDefaultInstanceData()[0];s.IsWorldType()?this._CreateChildInstancesFromData(e,r,n,t,n.GetX(),n.GetY(),l):this._CreateChildInstancesFromData(e,r,n,t,void 0,void 0,l)}if(!o&&a){void 0===s&&(s=G[0]),void 0===r&&(r=G[1]);const e=m.GetTopParent(),t=s-m.GetX()+e.GetX(),n=r-m.GetY()+e.GetY();e.SetXY(t,n)}c._SetIIDsStale();const g=d?Py.cloneArray(d[5]):null,f=d?d[4].map(e=>Py.cloneArray(e)):null,N=u&&G&&G[13];if(N&&p._SetHasTilemap(),p._CreateSdkInstance(g,f),N){const e=G[13];p.GetSdkInstance().LoadTilemapData(e[2],e[0],e[1])}this._instancesPendingCreate.push(p),this._hasPendingInstances=!0,this.IsDebug()&&wy.InstanceCreated(p);const b=this._eventObjects.instancecreate;return b.instance=p,this._dispatcher.dispatchEvent(b),p}_GetInstanceData(e){const t=e[0],n=e[1],s=e[2],r=e[6];return r||this._layoutManager.GetLayoutBySID(t).GetLayer(n).GetInitialInstanceData(s)}_MaybeGetChildInstanceForObjectTypeData(e,t,n){const s=t?.GetSceneGraphChildrenExportData()??[];for(const t of s){const s=this._GetInstanceData(t),r=!!t[4],o=this.GetObjectClassByIndex(s[1]);if(!n.has(s)&&e===o&&r)return n.add(s),s}}_CreateChildInstancesFromData(e,t,n,s,r,o,a){const i=n.GetSceneGraphZIndexExportData(),l=n.GetSceneGraphChildrenExportData();if(e.GetWorldInfo().SetSceneGraphZIndex(i),!l)return;void 0===r&&(r=t[0]),void 0===o&&(o=t[1]);const d=new Set,c=t[0],u=t[1];for(const t of l){const n=t[0],i=t[1],l=t[2],h=t[3],_=!!t[4],G=t[5],p=t[6];let m;m=p||this._layoutManager.GetLayoutBySID(n).GetLayer(i).GetInitialInstanceData(l);const g=this.GetObjectClassByIndex(m[1]),f=e.HasSibling(g),N=d.has(g);if(f&&!N&&_){const t=e.GetSibling(g);t.GetWorldInfo().Init(m[0]);const n=r+m[0][0]-c,s=o+m[0][1]-u;t.GetWorldInfo().SetXY(n,s),t.GetWorldInfo().SetSceneGraphZIndex(G),e.AddChild(t,{transformX:!!(1&h),transformY:!!(h>>1&1),transformWidth:!!(h>>2&1),transformHeight:!!(h>>3&1),transformAngle:!!(h>>4&1),destroyWithParent:!!(h>>5&1),transformZElevation:!!(h>>6&1),transformOpacity:!!(h>>7&1),transformVisibility:!!(h>>8&1)}),d.add(g)}else{const t=r+m[0][0]-c,n=o+m[0][1]-u,i=this.CreateInstanceFromData(m,s,!1,t,n,!1,!0,e,a);i.GetWorldInfo().SetSceneGraphZIndex(G),e.AddChild(i,{transformX:!!(1&h),transformY:!!(h>>1&1),transformWidth:!!(h>>2&1),transformHeight:!!(h>>3&1),transformAngle:!!(h>>4&1),destroyWithParent:!!(h>>5&1),transformZElevation:!!(h>>6&1),transformOpacity:!!(h>>7&1),transformVisibility:!!(h>>8&1)})}}}DestroyInstance(e){if(this._instancesPendingRelease.has(e))return;const t=e.GetObjectClass();let n=this._instancesPendingDestroy.get(t);if(n){if(n.has(e))return;n.add(e)}else n=new Set,n.add(e),this._instancesPendingDestroy.set(t,n);if(this.IsDebug()&&wy.InstanceDestroyed(e),e._MarkDestroyed(),this._hasPendingInstances=!0,e.IsInContainer())for(const t of e.siblings())this.DestroyInstance(t);for(const t of e.children())t.GetDestroyWithParent()&&this.DestroyInstance(t);if(!this._layoutManager.IsEndingLayout()&&!this._isLoadingState){const t=this.GetEventSheetManager();t.BlockFlushingInstances(!0),e._TriggerOnDestroyed(),t.BlockFlushingInstances(!1)}e._FireDestroyedScriptEvents(this._layoutManager.IsEndingLayout())}FlushPendingInstances(){this._hasPendingInstances&&(this._isFlushingPendingInstances=!0,this._FlushInstancesPendingCreate(),this._FlushInstancesPendingDestroy(),this._isFlushingPendingInstances=!1,this._hasPendingInstances=!1,this.UpdateRender())}_FlushInstancesPendingCreate(){for(const e of this._instancesPendingCreate){const t=e.GetObjectClass();t._AddInstance(e);for(const n of t.GetFamilies())n._AddInstance(e),n._SetIIDsStale()}Py.clearArray(this._instancesPendingCreate)}_FlushInstancesPendingDestroy(){this._dispatcher.SetDelayRemoveEventsEnabled(!0);for(const[e,t]of this._instancesPendingDestroy.entries())this._FlushInstancesPendingDestroyForObjectClass(e,t),t.clear();this._instancesPendingDestroy.clear(),this._dispatcher.SetDelayRemoveEventsEnabled(!1)}_FlushInstancesPendingDestroyForObjectClass(e,t){for(const e of t){const t=this._eventObjects.instancedestroy;t.instance=e,this._dispatcher.dispatchEvent(t),this._instancesByUid.delete(e.GetUID()),this._instanceTimes.delete(e);const n=e.GetWorldInfo();n&&(n._RemoveFromCollisionCells(),n._RemoveFromRenderCells(),n._MarkDestroyed()),this._instancesPendingRelease.add(e),this._objectCount--}Py.arrayRemoveAllInSet(e.GetInstances(),t),e._SetIIDsStale(),this._instancesPendingReleaseAffectedObjectClasses.add(e);for(const n of e.GetFamilies())Py.arrayRemoveAllInSet(n.GetInstances(),t),n._SetIIDsStale(),this._instancesPendingReleaseAffectedObjectClasses.add(n);if(e.GetPlugin().IsWorldType()){const e=new Set([...t].map(e=>e.GetWorldInfo().GetLayer()));for(const n of e)n._RemoveAllInstancesInSet(t)}}_GetInstancesPendingCreate(){return this._instancesPendingCreate}*instancesPendingCreateForObjectClass(e){for(const t of this._GetInstancesPendingCreate())e.IsFamily()?t.GetObjectClass().BelongsToFamily(e)&&(yield t):t.GetObjectClass()===e&&(yield t)}_GetNewUID(){return this._nextUid++}_MapInstanceByUID(e,t){this._instancesByUid.set(e,t)}_SetAutoSuspendEnabled(e){e=!!e,this._isAutoSuspendEnabled!==e&&(this._isAutoSuspendEnabled=!!e,this._isAutoSuspendEnabled&&this._isPageVisibilitySuspended&&(this.SetSuspended(!1),this._isPageVisibilitySuspended=!1))}_IsAutoSuspendEnabled(){return this._isAutoSuspendEnabled}_OnRendererContextLost(){this._dispatcher.dispatchEvent(Py.New(Py.Event,"renderercontextlost")),this.SetSuspended(!0);for(const e of this._allObjectClasses)!e.IsFamily()&&e.HasLoadedTextures()&&e.ReleaseTextures();const e=this.GetMainRunningLayout();e&&e._OnRendererContextLost(),Py.ImageInfo.OnRendererContextLost(),Py.ImageAsset.OnRendererContextLost()}async _OnRendererContextRestored(){await this.GetMainRunningLayout()._Load(null,this.GetRenderer()),this._dispatcher.dispatchEvent(Py.New(Py.Event,"renderercontextrestored")),this.SetSuspended(!1),this.UpdateRender()}_OnVisibilityChange(e){if(!this._isAutoSuspendEnabled)return;const t=e.hidden;this.SetSuspended(t),this._isPageVisibilitySuspended=t,t||this.UpdateRender()}_OnWindowBlur(e){this.IsPreview()&&this._pauseOnBlur&&!Py.Platform.IsMobile&&(e.data.parentHasFocus||(this.SetSuspended(!0),this._isPausedOnBlur=!0))}_OnWindowFocus(){this._isPausedOnBlur&&(this.SetSuspended(!1),this._isPausedOnBlur=!1)}_RequestAnimationFrame(){const e=this._tickCallbacks;"vsync"===this._framerateMode?-1===this._rafId&&(this._rafId=self.requestAnimationFrame(e.normal)):"unlimited-tick"===this._framerateMode?(-1===this._ruafId&&(this._ruafId=Py.RequestUnlimitedAnimationFrame(e.tickOnly)),-1===this._rafId&&(this._rafId=self.requestAnimationFrame(e.renderOnly))):-1===this._ruafId&&(this._ruafId=Py.RequestUnlimitedAnimationFrame(e.normal))}_CancelAnimationFrame(){-1!==this._rafId&&(self.cancelAnimationFrame(this._rafId),this._rafId=-1),-1!==this._ruafId&&(Py.CancelUnlimitedAnimationFrame(this._ruafId),this._ruafId=-1)}IsSuspended(){return this._suspendCount>0}SetSuspended(e){if(this.IsExportToVideo())return;const t=this.IsSuspended();this._suspendCount+=e?1:-1,this._suspendCount<0&&(this._suspendCount=0);const n=this.IsSuspended();if(!t&&n)console.log("[Construct] Suspending"),this._CancelAnimationFrame(),this._dispatcher.dispatchEvent(Py.New(Py.Event,"suspend")),this.DispatchUserScriptEvent(Py.New(Py.Event,"suspend")),this.Trigger(Py.Plugins.System.Cnds.OnSuspend,null,null);else if(t&&!n){console.log("[Construct] Resuming");const e=performance.now();this._lastTickTime=e,this._fpsLastTime=e,this._fpsFrameCount=0,this._fps=0,this._tpsTickCount=0,this._tps=0,this._mainThreadTime=0,this._mainThreadTimeCounter=0,this._dispatcher.dispatchEvent(Py.New(Py.Event,"resume")),this.DispatchUserScriptEvent(Py.New(Py.Event,"resume")),this.Trigger(Py.Plugins.System.Cnds.OnResume,null,null),this.HitBreakpoint()||this.Tick(e)}}_AddBehInstToTick(e){this._behInstsToTick.Add(e)}_AddBehInstToPostTick(e){this._behInstsToPostTick.Add(e)}_AddBehInstToTick2(e){this._behInstsToTick2.Add(e)}_RemoveBehInstToTick(e){this._behInstsToTick.Remove(e)}_RemoveBehInstToPostTick(e){this._behInstsToPostTick.Remove(e)}_RemoveBehInstToTick2(e){this._behInstsToTick2.Remove(e)}_CallBehaviorTickMethod(e,t){const n=t?performance.now():0;let s;return e instanceof Dy?(s=e._tick(),t&&wy.AddIndividualBehaviorTickTime(e.behavior,performance.now()-n)):(s=e.Tick(),t&&wy.AddIndividualBehaviorTickTime(e.GetBehavior(),performance.now()-n)),s}_BehaviorTick(){const e=this.IsDebug();this._behInstsToTick.SetQueueingEnabled(!0);for(const t of this._behInstsToTick)this._CallBehaviorTickMethod(t,e);this._behInstsToTick.SetQueueingEnabled(!1)}_CallBehaviorPostTickMethod(e,t){const n=t?performance.now():0;let s;return e instanceof Dy?(s=e._postTick(),t&&wy.AddIndividualBehaviorTickTime(e.behavior,performance.now()-n)):(s=e.PostTick(),t&&wy.AddIndividualBehaviorTickTime(e.GetBehavior(),performance.now()-n)),s}_BehaviorPostTick(){const e=this.IsDebug();this._behInstsToPostTick.SetQueueingEnabled(!0);for(const t of this._behInstsToPostTick)this._CallBehaviorPostTickMethod(t,e);this._behInstsToPostTick.SetQueueingEnabled(!1)}_CallBehaviorTick2Method(e,t){const n=t?performance.now():0;let s;return e instanceof Dy?(s=e._tick2(),t&&wy.AddIndividualBehaviorTickTime(e.behavior,performance.now()-n)):(s=e.Tick2(),t&&wy.AddIndividualBehaviorTickTime(e.GetBehavior(),performance.now()-n)),s}_BehaviorTick2(){const e=this.IsDebug();this._behInstsToTick2.SetQueueingEnabled(!0);for(const t of this._behInstsToTick2)this._CallBehaviorTick2Method(t,e);this._behInstsToTick2.SetQueueingEnabled(!1)}*_DebugBehaviorTick(){const e=this.IsDebug();this._behInstsToTick.SetQueueingEnabled(!0);for(const t of this._behInstsToTick){const n=this._CallBehaviorTickMethod(t,e);Py.IsIterator(n)&&(yield*n)}this._behInstsToTick.SetQueueingEnabled(!1)}*_DebugBehaviorPostTick(){const e=this.IsDebug();this._behInstsToPostTick.SetQueueingEnabled(!0);for(const t of this._behInstsToPostTick){const n=this._CallBehaviorPostTickMethod(t,e);Py.IsIterator(n)&&(yield*n)}this._behInstsToPostTick.SetQueueingEnabled(!1)}*_DebugBehaviorTick2(){const e=this.IsDebug();this._behInstsToTick2.SetQueueingEnabled(!0);for(const t of this._behInstsToTick2){const n=this._CallBehaviorTick2Method(t,e);Py.IsIterator(n)&&(yield*n)}this._behInstsToTick2.SetQueueingEnabled(!1)}async Tick(e,t,n){this._hasStartedTicking=!0;const s="background-wake"===n,r="background-wake"!==n&&"skip-render"!==n,o=this.GetLayoutManager(),a=this.GetCanvasManager();if(!this._hasStarted||this.IsSuspended()&&!t&&!s)return;const i=performance.now();this._isInTick=!0,this._MeasureDt(e||0),this._tpsTickCount++,this._ReleasePendingInstances();const l=this.Step_BeforePreTick();this.IsDebugging()&&await l;const d=this._dispatcher.dispatchEventAndWait_AsyncOptional(this._eventObjects.pretick);d instanceof Promise&&await d,this.DispatchUserScriptEvent(this._userScriptEventObjects.pretick);const c=this.Step_AfterPreTick();this.IsDebugging()&&await c,this._NeedsHandleSaveOrLoad()&&await this._HandleSaveOrLoad(),o.IsPendingChangeMainLayout()&&await this._MaybeChangeLayout();const u=this.Step_RunEventsEtc();this.IsDebugging()&&await u;const h=o.GetMainRunningLayout(),_=h._GetPendingSetHTMLLayerCount();let G=!1;if(-1!==_&&(h._ResetPendingHTMLLayerCount(),a.GetHTMLLayerCount()!==_)){const e=this.GetCanvasManager().SetHTMLLayerCount(_);this.IsInWorker()&&(G=!0,await e)}this.PostComponentMessageToDOM("canvas","update-html-layer-dom-state",{layersDomState:h._GetRootLayers().filter(e=>e.IsHTMLElementsLayer()).map(e=>e._GetHTMLLayerDOMState())}),r&&this.Render(),G&&this.PostComponentMessageToDOM("canvas","cleanup-html-layers"),this.IsExportToVideo()&&(await this._ExportToVideoAddFrame(),this.GetGameTime()>=this.GetExportVideoDuration())?this._ExportToVideoFinish():(this.IsSuspended()||s||this._RequestAnimationFrame(),this._tickCount++,this._tickCountNoSave++,this._isInTick=!1,this._mainThreadTimeCounter+=performance.now()-i)}async Step_BeforePreTick(){const e=this._eventSheetManager,t=this.IsDebug();this.FlushPendingInstances(),e.BlockFlushingInstances(!0),this.PushCurrentLayout(this.GetMainRunningLayout()),t&&wy.StartMeasuringTime(),this.IsDebugging()?await e.DebugRunScheduledWaits():e.RunScheduledWaits(),t&&wy.AddEventsTime(),this.PopCurrentLayout(),e.BlockFlushingInstances(!1),this.FlushPendingInstances(),e.BlockFlushingInstances(!0)}async Step_AfterPreTick(){const e=this._eventSheetManager,t=this.IsDebug(),n=this.IsDebugging(),s=this._dispatcher,r=this._eventObjects,o=this._userScriptEventObjects;t&&wy.StartMeasuringTime(),n?await this.DebugIterateAndBreak(this._DebugBehaviorTick()):this._BehaviorTick(),n?await this.DebugIterateAndBreak(this._DebugBehaviorPostTick()):this._BehaviorPostTick(),t&&wy.AddBehaviorTotalTickTime(),t&&wy.StartMeasuringTime(),n?await this.DebugFireGeneratorEventAndBreak(r.tick):s.dispatchEvent(r.tick),t&&wy.AddPluginTotalTickTime(),e.BlockFlushingInstances(!1),this.DispatchUserScriptEvent(o.tick)}async Step_RunEventsEtc(){const e=this._eventSheetManager,t=this._dispatcher,n=this._eventObjects,s=this._userScriptEventObjects,r=this.IsDebug(),o=this.IsDebugging();r&&wy.StartMeasuringTime(),o?await e.DebugRunEvents(this._layoutManager):e.RunEvents(this._layoutManager),r&&wy.AddEventsTime(),this._collisionEngine.ClearRegisteredCollisions(),this._ReleasePendingInstances(),this._isLayoutFirstTick=!1,e.BlockFlushingInstances(!0),r&&wy.StartMeasuringTime(),o?await this.DebugIterateAndBreak(this._DebugBehaviorTick2()):this._BehaviorTick2(),r&&wy.AddBehaviorTotalTickTime(),r&&wy.StartMeasuringTime(),o?await this.DebugFireGeneratorEventAndBreak(n.tick2):t.dispatchEvent(n.tick2),r&&wy.AddPluginTotalTickTime(),e.BlockFlushingInstances(!1),this.DispatchUserScriptEvent(s.tick2),o&&await e.RunQueuedDebugTriggersAsync(),this.FlushPendingInstances(),this._ReleasePendingInstances()}_ReleasePendingInstances(){if(0===this._instancesPendingRelease.size)return;const e=this._dispatcher;e.SetDelayRemoveEventsEnabled(!0);for(const e of this._instancesPendingReleaseAffectedObjectClasses)e.GetSolStack().RemoveInstances(this._instancesPendingRelease);this._instancesPendingReleaseAffectedObjectClasses.clear(),this._eventSheetManager._OnInstancesReleased(this._instancesPendingRelease);for(const e of this._instancesPendingRelease)e.Release();this._instancesPendingRelease.clear(),e.SetDelayRemoveEventsEnabled(!1)}async _MaybeChangeLayout(){const e=this.GetLayoutManager();let t=0;for(;e.IsPendingChangeMainLayout()&&t++<10;)await this._DoChangeLayout(e.GetPendingChangeMainLayout())}_MeasureDt(e){let t=0;this.IsExportToVideo()?(t=1/this.GetExportVideoFramerate(),this._dtRaw=t,this._dt1=t):0!==this._lastTickTime&&(t=Math.max(e-this._lastTickTime,0)/1e3,t>.5&&(t=0),this._dtRaw=t,this._dt1=Py.clamp(t,this._minDt,this._maxDt)),this._lastTickTime=e,this._dt=this._dt1*this._timeScale,this._gameTime.Add(this._dt),this._gameTimeRaw.Add(t*this._timeScale),this._wallTime.Add(this._dt1);for(const[e,t]of this._instanceTimes)t.Add(this._dt1*e.GetTimeScale());this._canvasManager&&this._canvasManager._UpdateTick(),e-this._fpsLastTime>=1e3&&(this._fpsLastTime+=1e3,e-this._fpsLastTime>=1e3&&(this._fpsLastTime=e),this._fps=this._fpsFrameCount,this._fpsFrameCount=0,this._tps=this._tpsTickCount,this._tpsTickCount=0,this._mainThreadTime=Math.min(this._mainThreadTimeCounter/1e3,1),this._mainThreadTimeCounter=0,this._canvasManager&&this._canvasManager._Update1sFrameRange(),this._collisionEngine._Update1sStats(),this.IsDebug()&&wy.Update1sPerfStats())}_SetTrackingInstanceTime(e,t){if(t){if(!this._instanceTimes.has(e)){const t=Py.New(Py.KahanSum);t.Copy(this._gameTime),this._instanceTimes.set(e,t)}}else this._instanceTimes.delete(e)}_GetInstanceGameTime(e){const t=this._instanceTimes.get(e);return t?t.Get():this.GetGameTime()}async _DoChangeLayout(e){const t=this._dispatcher,n=this.GetLayoutManager().GetMainRunningLayout();await n._StopRunning(),n._Unload(e,this.GetRenderer()),n===e&&this._eventSheetManager.ClearAllScheduledWaits(),this._collisionEngine.ClearRegisteredCollisions(),this._ReleasePendingInstances(),t.dispatchEvent(this._eventObjects.beforelayoutchange),Py.Asyncify.SetHighThroughputMode(!0),await e._Load(n,this.GetRenderer()),Py.Asyncify.SetHighThroughputMode(!1),await e._StartRunning(!1),t.dispatchEvent(this._eventObjects.layoutchange),this.UpdateRender(),this._isLayoutFirstTick=!0,this.FlushPendingInstances(),this._ExportToVideoAddKeyframe()}UpdateRender(){this._needRender=!0}GetWebGLRenderer(){return this._canvasManager?this._canvasManager.GetWebGLRenderer():null}GetWebGPURenderer(){return this._canvasManager?this._canvasManager.GetWebGPURenderer():null}GetRenderer(){return this._canvasManager?this._canvasManager.GetRenderer():null}Render(){const e=this._canvasManager;if(!e||e.IsRendererContextLost())return;const t=this.GetRenderer(),n=t.SupportsGPUProfiling(),s=n&&t.IsWebGL(),r=n&&t.IsWebGPU();if(s&&t.CheckForQueryResults(),!this._needRender&&!this.IsExportToVideo())return void t.IncrementFrameNumber();const o=this._layoutManager.GetMainRunningLayout();this._fpsFrameCount++,t.Start();const a=this.IsDebug();a&&wy.StartMeasuringTime(),this._needRender=!1;let i=null;s&&(i=e.GetGPUFrameTimingsBuffer().AddTimeElapsedQuery(),t.StartQuery(i));let l=null;r&&(l=t.StartFrameTiming(2*(1+o.GetLayerCount())),t.StartMeasuringRenderPassTime(0,1)),this.Uses3DFeatures()&&"low"===e.GetCurrentFullscreenScalingQuality()?t.SetFixedSizeDepthBuffer(e.GetDrawWidth(),e.GetDrawHeight()):t.SetAutoSizeDepthBuffer(),this._Render(this.GetRenderer(),o),i&&t.EndQuery(i),r&&(t.StopMeasuringRenderPassTime(),this._canvasManager._AddWebGPUFrameTiming(l)),t.Finish(),a&&(wy.AddDrawCallsTime(),wy.UpdateInspectHighlight()),e&&e._MaybeTakeSnapshot()}_NeedsHTMLLayerCompositing(e){return"low"===this.GetCanvasManager().GetCurrentFullscreenScalingQuality()||e.IsWebGL()&&(this.UsesAnyBackgroundBlending()||this.Uses3DFeatures())}_Render(e,t){e.SetTextureFillMode(),e.SetAlphaBlend(),e.ResetCullState(),e.SetColorRgba(1,1,1,1),e.SetRenderTarget(null),e.SetTexture(null),e.SetDepthEnabled(this.Uses3DFeatures()),this._NeedsHTMLLayerCompositing(e)&&t._MaybeStartDrawToOwnTexture(e);const n=t.GetHTMLLayerCount();for(let s=1;s<n;++s)t.DrawForHTMLLayerIndex(e,s),e.IsWebGPU()&&e.Restart();this._NeedsHTMLLayerCompositing(e)||t._MaybeStartDrawToOwnTexture(e),t.DrawMain(e)}Trigger(e,t,n){if(!this._hasStarted)return!1;const s=!this._isInTick&&!this._eventSheetManager.IsInTrigger();let r=0;s&&(r=performance.now());const o=this.IsDebug();o&&this.SetDebuggingEnabled(!1);const a=this._eventSheetManager._Trigger(this._layoutManager,e,t,n);if(s){const e=performance.now()-r;this._mainThreadTimeCounter+=e,o&&wy.AddTriggersTime(e)}return o&&this.SetDebuggingEnabled(!0),a}DebugTrigger(e,t,n){if(!this.IsDebugging())return this.Trigger(e,t,n);if(this.HitBreakpoint())throw new Error("called DebugTrigger() while stopped on breakpoint");if(!this._isInTick&&!this._eventSheetManager.IsInTrigger())throw new Error("called DebugTrigger() outside of event code - use TriggerAsync() instead");return this._eventSheetManager._DebugTrigger(this._layoutManager,e,t,n)}async TriggerAsync(e,t,n){if(!this.IsDebugging())return this.Trigger(e,t,n);if(!this._hasStarted)return!1;if(this.HitBreakpoint())return this._eventSheetManager.QueueDebugTrigger(e,t,n);if(!this.GetMainRunningLayout())return this._eventSheetManager.QueueTrigger(e,t,n);const s=performance.now(),r=this._eventSheetManager._DebugTrigger(this._layoutManager,e,t,n);let o=r.next();for(;!o.done;)await this.DebugBreak(o.value),o=r.next();return this.IsSuspended()||this._eventSheetManager.IsInTrigger()||(await this._eventSheetManager.RunQueuedDebugTriggersAsync(),this._hasStartedTicking&&!this._isInTick&&this._RequestAnimationFrame()),this._mainThreadTimeCounter+=performance.now()-s,o.value}FastTrigger(e,t,n){const s=this.IsDebug();s&&this.SetDebuggingEnabled(!1);const r=this._eventSheetManager._FastTrigger(this._layoutManager,e,t,n);return s&&this.SetDebuggingEnabled(!0),r}DebugFastTrigger(e,t,n){return this._eventSheetManager._DebugFastTrigger(this._layoutManager,e,t,n)}ScheduleTriggers(e){return this._scheduleTriggersThrottle.Add(e)}PushCurrentLayout(e){this._currentLayoutStack.push(e)}PopCurrentLayout(){if(!this._currentLayoutStack.length)throw new Error("layout stack empty");this._currentLayoutStack.pop()}GetCurrentLayout(){return this._currentLayoutStack.length?this._currentLayoutStack.at(-1):this.GetMainRunningLayout()}GetDt(e){return e&&-1!==e.GetTimeScale()?this._dt1*e.GetTimeScale():this._dt}_GetDtFast(){return this._dt}GetDt1(){return this._dt1}GetDtRaw(){return this._dtRaw}GetTimeScale(){return this._timeScale}SetTimeScale(e){(isNaN(e)||e<0)&&(e=0),this._timeScale=e}SetMinDt(e){this._minDt=Math.max(e,0)}GetMinDt(){return this._minDt}SetMaxDt(e){this._maxDt=Math.max(e,0)}GetMaxDt(){return this._maxDt}GetFramesPerSecond(){return this._fps}GetTicksPerSecond(){return this._tps}GetMainThreadTime(){return this._mainThreadTime}GetStartTime(){return this._startTime}GetGameTime(){return this._gameTime.Get()}GetGameTimeRaw(){return this._gameTimeRaw.Get()}GetWallTime(){return this._wallTime.Get()}GetTickCount(){return this._tickCount}GetTickCountNoSave(){return this._tickCountNoSave}GetObjectCount(){return this._objectCount}GetProjectName(){return this._projectName}GetProjectVersion(){return this._projectVersion}GetProjectUniqueId(){return this._projectUniqueId}GetAppId(){return this._appId}GetExportTimestamp(){return this._exportTimestamp}GetInstanceByUID(e){if(this._isLoadingState)throw new Error("cannot call while loading state - wait until afterload event");return this._instancesByUid.get(e)||null}_RemoveInstanceFromUIDMap(e){if(this._isLoadingState)throw new Error("cannot call while loading state - wait until afterload event");this._instancesByUid.delete(e)}_RefreshUidMap(){this._instancesByUid.clear();for(const e of this._allObjectClasses)if(!e.IsFamily())for(const t of e.GetInstances())this._instancesByUid.set(t.GetUID(),t)}IsPreview(){return"preview"===this._exportType}IsDebug(){return this._isDebug}GetExportType(){return this._exportType}IsNWjs(){return"nwjs"===this.GetExportType()||this._isNWjs}IsCordova(){return"cordova"===this._exportType}IsAndroidWebView(){return"Android"===Py.Platform.OS&&("cordova"===this._exportType||"playable-ad-single-file"===this._exportType||"playable-ad-zip"===this._exportType||"instant-games"===this._exportType)}IsiOSCordova(){return this._isiOSCordova}IsiOSWebView(){return this._isiOSWebView}IsWindowsWebView2(){return this._isWindowsWebView2}IsAnyWebView2Wrapper(){return this._isAnyWebView2Wrapper}GetCollisionEngine(){return this._collisionEngine}GetSolidBehavior(){return this._addonManager.GetSolidBehavior()}GetJumpthruBehavior(){return this._addonManager.GetJumpthruBehavior()}Uses3DFeatures(){return this._uses3dFeatures}GetZScaleFactor(){return this.GetRenderer().GetZAxisScaleFactor(this.GetViewportHeight())}GetDefaultCameraZ(e){return this.GetRenderer().GetDefaultCameraZ(e||this.GetViewportHeight())}IsLayoutFirstTick(){return this._isLayoutFirstTick}SetPixelRoundingEnabled(e){e=!!e,this._isPixelRoundingEnabled!==e&&(this._isPixelRoundingEnabled=e,this.GetLayoutManager().SetAllLayerMVChanged(),this.UpdateRender())}IsPixelRoundingEnabled(){return this._isPixelRoundingEnabled}GetTextIconSet(e){if(!this._iconChangeHandlers.has(e)){const t=()=>this.DeleteTextIconSet(e);this._iconChangeHandlers.set(e,t),e.Dispatcher().addEventListener("animationframeimagechange",t)}const t=this._textIconManager.GetIconSet(e);return t.HasLoaded()||t.LoadContent().then(()=>this.UpdateRender()),t}DeleteTextIconSet(e){this._textIconManager.DeleteIconSet(e)}_GetTextIconSetMeta(e){const t=[];for(const n of e.GetAnimations())for(const e of n.GetFrames()){const n=e.GetImageInfo();t.push({source:e,width:n.GetWidth(),height:n.GetHeight(),tag:e.GetTag()})}return{icons:t}}async _GetTextIconSetContent(e){const t=Py.New(Py.PromiseThrottle),n=[],s=new Map;for(const r of e.GetAnimations())for(const e of r.GetFrames()){const r=e.GetImageInfo().GetImageAsset();s.has(r)||(s.set(r,null),n.push(t.Add(async()=>{const e=await r.LoadToDrawable();s.set(r,e)})))}await Promise.all(n);const r=[];for(const n of e.GetAnimations())for(const e of n.GetFrames())r.push(t.Add(async()=>{const t=e.GetImageInfo(),n=s.get(t.GetImageAsset()),r=await t.ExtractImageToCanvas(n);return{drawable:await createImageBitmap(r)}}));const o=await Promise.all(r);for(const e of s.values())e instanceof ImageBitmap&&e.close&&e.close();return{icons:o}}SaveToSlot(e){this._saveToSlotName=e,this._saveToJsonString=!1}SaveToJsonString(){this._saveToSlotName="",this._saveToJsonString=!0}LoadFromSlot(e){this._loadFromSlotName=e}LoadFromJsonString(e){this._loadFromJson=e}GetLastSaveJsonString(){return this._lastSaveJson}_NeedsHandleSaveOrLoad(){return!!(this._saveToSlotName||this._saveToJsonString||this._loadFromSlotName||null!==this._loadFromJson)}async _HandleSaveOrLoad(){if(this._saveToSlotName&&(this.FlushPendingInstances(),await this._DoSaveToSlot(this._saveToSlotName),this._ClearSaveOrLoad()),this._loadFromSlotName&&(await this._DoLoadFromSlot(this._loadFromSlotName),this._ClearSaveOrLoad(),this.IsDebug()&&wy.StepIfPausedInDebugger()),this._saveToJsonString){const e=await this._SaveToJsonString();this._lastSaveJson=e,await this.TriggerAsync(Py.Plugins.System.Cnds.OnSaveComplete,null),this._lastSaveJson="",this._ClearSaveOrLoad()}if(null!==this._loadFromJson){this.FlushPendingInstances();try{await this._DoLoadFromJsonString(this._loadFromJson),this._lastSaveJson=this._loadFromJson,await this.TriggerAsync(Py.Plugins.System.Cnds.OnLoadComplete,null),this._lastSaveJson=""}catch(e){console.error("[Construct] Failed to load state from JSON string: ",e),await this.TriggerAsync(Py.Plugins.System.Cnds.OnLoadFailed,null)}this._ClearSaveOrLoad()}}_ClearSaveOrLoad(){this._saveToSlotName="",this._saveToJsonString=!1,this._loadFromSlotName="",this._loadFromJson=null}_GetProjectStorage(){return this._projectStorage||(this._projectStorage=localforage.createInstance({name:"c3-localstorage-"+this.GetProjectUniqueId(),description:this.GetProjectName()})),this._projectStorage}_GetSavegamesStorage(){return this._savegamesStorage||(this._savegamesStorage=localforage.createInstance({name:"c3-savegames-"+this.GetProjectUniqueId(),description:this.GetProjectName()})),this._savegamesStorage}async _DoSaveToSlot(e){const t=await this._SaveToJsonString();try{await this._GetSavegamesStorage().setItem(e,t),console.log("[Construct] Saved state to storage ("+t.length+" chars)"),this._lastSaveJson=t,await this.TriggerAsync(Py.Plugins.System.Cnds.OnSaveComplete,null),this._lastSaveJson=""}catch(e){console.error("[Construct] Failed to save state to storage: ",e),await this.TriggerAsync(Py.Plugins.System.Cnds.OnSaveFailed,null)}}async _DoLoadFromSlot(e){try{const t=await this._GetSavegamesStorage().getItem(e);if(!t)throw new Error("empty slot");console.log("[Construct] Loaded state from storage ("+t.length+" chars)"),await this._DoLoadFromJsonString(t),this._lastSaveJson=t,await this.TriggerAsync(Py.Plugins.System.Cnds.OnLoadComplete,null),this._lastSaveJson=""}catch(e){console.error("[Construct] Failed to load state from storage: ",e),await this.TriggerAsync(Py.Plugins.System.Cnds.OnLoadFailed,null)}}async _SaveToJsonString(){const e={c3save:!0,version:1,rt:{time:this.GetGameTime(),timeRaw:this.GetGameTimeRaw(),walltime:this.GetWallTime(),timescale:this.GetTimeScale(),tickcount:this.GetTickCount(),next_uid:this._nextUid,running_layout:this.GetMainRunningLayout().GetSID(),start_time_offset:Date.now()-this._startTime},types:{},layouts:{},events:this._eventSheetManager._SaveToJson(),timelines:this._timelineManager._SaveToJson(),user_script_data:null};for(const t of this._allObjectClasses)t.IsFamily()||t.HasNoSaveBehavior()||(e.types[t.GetSID().toString()]=t._SaveToJson());for(const t of this._layoutManager.GetAllLayouts())e.layouts[t.GetSID().toString()]=t._SaveToJson();const t=this._CreateUserScriptEvent("save");return t.saveData=null,await this.DispatchUserScriptEventAsyncWait(t),e.user_script_data=t.saveData,JSON.stringify(e)}IsLoadingState(){return this._isLoadingState}async _DoLoadFromJsonString(e){const t=this.GetLayoutManager(),n=JSON.parse(e);if(n.c2save)throw new Error("C2 saves are incompatible with C3 runtime");if(!n.c3save)throw new Error("not valid C3 save data");if(n.version>1)throw new Error("C3 save data from future version");this.ClearIntancesNeedingAfterLoad(),this._dispatcher.dispatchEvent(Py.New(Py.Event,"beforeload"));for(const e of this.allInstances())e.GetObjectClass().HasNoSaveBehavior()||e._OnBeforeLoad();const s=n.rt;this._gameTime.Set(s.time),s.hasOwnProperty("timeRaw")&&this._gameTimeRaw.Set(s.timeRaw),this._wallTime.Set(s.walltime),this._timeScale=s.timescale,this._tickCount=s.tickcount,this._startTime=Date.now()-s.start_time_offset;const r=s.running_layout;this._isLoadingState=!0;let o=!1;if(r!==this.GetMainRunningLayout().GetSID()){const e=t.GetLayoutBySID(r);if(!e)return;await this._DoChangeLayout(e),o=!0}for(const[e,s]of Object.entries(n.layouts)){const n=parseInt(e,10),r=t.GetLayoutBySID(n);r&&r._LoadFromJson(s)}const a=new Set;for(const[e,t]of Object.entries(n.types)){const n=parseInt(e,10),s=this.GetObjectClassBySID(n);!s||s.IsFamily()||s.HasNoSaveBehavior()||s._LoadFromJson(t,a)}for(const e of this._layoutManager.GetAllLayouts())for(const t of e.allLayers())t._LoadFromJsonAfterInstances();if(this.FlushPendingInstances(),this._RefreshUidMap(),this._isLoadingState=!1,o){for(const e of this.allInstances())e.SetupInitialSceneGraphConnections();for(const[e,t]of Object.entries(n.types)){const n=parseInt(e,10),s=this.GetObjectClassBySID(n);!s||s.IsFamily()||s.HasNoSaveBehavior()||s._SetupSceneGraphConnectionsOnChangeOfLayout(t)}}this._nextUid=s.next_uid,this._eventSheetManager._LoadFromJson(n.events);for(const e of this._allObjectClasses)if(!e.IsFamily()&&e.IsInContainer())for(const t of e.GetInstances()){const n=t.GetIID();t._ClearSiblings();for(const s of e.GetContainer().objectTypes()){if(s===e)continue;const r=s.GetInstances();if(n<0||n>=r.length)throw new Error("missing sibling instance");t._AddSibling(r[n])}}this._timelineManager._LoadFromJson(n.timelines),t.SetAllLayerProjectionChanged(),t.SetAllLayerMVChanged();for(const e of a)e._OnCreatedForLoadingSavegame();this.DoAfterLoad(),this._dispatcher.dispatchEvent(Py.New(Py.Event,"afterload")),this.DispatchUserScriptEvent(this._CreateUserScriptEvent("afterload"));for(const[e,t]of Object.entries(n.types)){const t=parseInt(e,10),n=this.GetObjectClassBySID(t);n&&n._ClearLoadInstancesJson()}const i=this._CreateUserScriptEvent("load");i.saveData=n.user_script_data,await this.DispatchUserScriptEventAsyncWait(i),this.UpdateRender()}SortOnTmpHierarchyPosition(e,t){return t.GetWorldInfo().GetTmpHierarchyPosition()-e.GetWorldInfo().GetTmpHierarchyPosition()}AddInstanceNeedingAfterLoad(e,t){e.GetWorldInfo()&&(this._instancesNeedingAfterLoadMap.has(e)||(this._instancesNeedingAfterLoadMap.set(e,t),this._instancesNeedingAfterLoadArray.push(e)))}ClearIntancesNeedingAfterLoad(){this._instancesNeedingAfterLoadMap=new WeakMap,Py.clearArray(this._instancesNeedingAfterLoadArray),Py.SceneGraphInfo.ClearUpdatedInstances()}DoAfterLoad(e="full",t=null){this._instancesNeedingAfterLoadArray.sort(this.SortOnTmpHierarchyPosition),t||(t={}),t.processedWorldInfo=new Set;const n=this._instancesNeedingAfterLoadArray.length;for(const n of this._instancesNeedingAfterLoadArray)n._OnAfterLoad(this._instancesNeedingAfterLoadMap.get(n),e,t);for(const n of this._instancesNeedingAfterLoadArray)n._OnAfterLoad2(this._instancesNeedingAfterLoadMap.get(n),e,t);if(this.ClearIntancesNeedingAfterLoad(),n){this.FlushPendingInstances(),this._RefreshUidMap();for(const e of this._layoutManager.GetAllLayouts())for(const t of e.allLayers())t._SortInstancesByLastCachedZIndex(),t.SetZIndicesChanged()}}async AddJobWorkerScripts(e){const t=await Promise.all(e.map(async e=>{if(this.IsCordova()&&this._assetManager.IsFileProtocol()||"playable-ad-single-file"===this.GetExportType()){const t=await this._assetManager.FetchBlob(e);return URL.createObjectURL(t)}return new URL(e,location.href).toString()}));this._jobScheduler.ImportScriptsToJobWorkers(t)}AddJobWorkerBlob(e,t){this._jobScheduler.SendBlobToJobWorkers(e,t)}AddJobWorkerBuffer(e,t){this._jobScheduler.SendBufferToJobWorkers(e,t)}AddJob(e,t,n,s){return this._jobScheduler.AddJob(e,t,n,null,null,s)}BroadcastJob(e,t,n,s){return this._jobScheduler.BroadcastJob(e,t,n,s)}GetMaxNumJobWorkers(){return this._jobScheduler.GetMaxNumWorkers()}InvokeDownload(e,t){this.PostComponentMessageToDOM("runtime","invoke-download",{url:e,filename:t})}async RasterSvgImage(e,t,n,s,r,o){if(s=s||t,r=r||n,this.IsInWorker())return(await this.PostComponentMessageToDOMAsync("runtime","raster-svg-image",{blob:e,imageWidth:t,imageHeight:n,surfaceWidth:s,surfaceHeight:r,imageBitmapOpts:o})).imageBitmap;{const a=await self.C3_RasterSvgImageBlob(e,t,n,s,r);return o?await self.createImageBitmap(a,o):a}}async GetSvgImageSize(e){return this.IsInWorker()?await this.PostComponentMessageToDOMAsync("runtime","get-svg-image-size",{blob:e}):await self.C3_GetSvgImageSize(e)}RequestDeviceOrientationEvent(){this._didRequestDeviceOrientationEvent||(this._didRequestDeviceOrientationEvent=!0,this.PostComponentMessageToDOM("runtime","enable-device-orientation"))}RequestDeviceMotionEvent(){this._didRequestDeviceMotionEvent||(this._didRequestDeviceMotionEvent=!0,this.PostComponentMessageToDOM("runtime","enable-device-motion"))}Random(){return this._randomNumberCallback()}SetRandomNumberGeneratorCallback(e){this._randomNumberCallback=e}_GetRemotePreviewStatusInfo(){const e=this.GetRenderer();return{fps:this.GetFramesPerSecond(),tps:this.GetTicksPerSecond(),cpu:this.GetMainThreadTime(),gpu:this.GetGPUUtilisation(),layout:this.GetMainRunningLayout()?this.GetMainRunningLayout().GetName():"",renderer:e.IsWebGL()?e.GetUnmaskedRenderer():e.GetAdapterInfoString()}}HitBreakpoint(){return!!this.IsDebug()&&wy.HitBreakpoint()}DebugBreak(e){return this.IsDebugging()?wy.DebugBreak(e):Promise.resolve()}DebugBreakNext(){return!!this.IsDebugging()&&wy.BreakNext()}SetDebugBreakpointsEnabled(e){this._breakpointsEnabled=!!e,this._UpdateDebuggingFlag()}AreDebugBreakpointsEnabled(){return this._breakpointsEnabled}IsDebugging(){return this._isDebugging}SetDebuggingEnabled(e){e?this._debuggingDisabled--:this._debuggingDisabled++,this._UpdateDebuggingFlag()}_UpdateDebuggingFlag(){this._isDebugging=this.IsDebug()&&this._breakpointsEnabled&&0===this._debuggingDisabled}IsCPUProfiling(){return this.IsDebug()&&wy.IsCPUProfiling()}IsGPUProfiling(){return this.IsDebug()&&this.GetRenderer().SupportsGPUProfiling()&&wy.IsGPUProfiling()}async DebugIterateAndBreak(e){if(e)for(const t of e)await this.DebugBreak(t)}DebugFireGeneratorEventAndBreak(e){return this.DebugIterateAndBreak(this._dispatcher.dispatchGeneratorEvent(e))}_InvokeFunctionFromJS(e){return this._eventSheetManager._InvokeFunctionFromJS(e.name,e.params)}_GetHTMLLayerWrapElement(e){if(this.IsInWorker())throw new Error("not supported in worker mode");return self.c3_runtimeInterface._GetHTMLWrapElement(e)}GetIRuntime(){return this._iRuntime}_CreateUserScriptEvent(e){const t=Py.New(Py.Event,e,!1);return t.runtime=this._iRuntime,t}_InitScriptInterfaces(){this._iRuntime=new self.IRuntime(this),this._userScriptEventObjects={pretick:this._CreateUserScriptEvent("pretick"),tick:this._CreateUserScriptEvent("tick"),tick2:this._CreateUserScriptEvent("tick2")}}_InitObjectsScriptInterface(){const e={};for(const t of this._allObjectClasses)e[t.GetJsPropName()]={value:t.GetIObjectClass(),enumerable:!0,writable:!1};this._iRuntime._InitObjects(e)}_InitGlobalVariableScriptInterface(){const e={};for(const t of this.GetEventSheetManager().GetAllGlobalVariables())e[t.GetJsPropName()]=t._GetScriptInterfaceDescriptor();this._iRuntime._InitGlobalVars(e)}_GetCommonScriptInterfaces(){return this._commonScriptInterfaces}_MapScriptInterface(e,t){this._interfaceMap.set(e,t)}_UnwrapScriptInterface(e){return this._interfaceMap.get(e)}_UnwrapIObjectClass(e){if(!(e instanceof self.IObjectClass))throw new TypeError("expected IObjectClass");const t=this._UnwrapScriptInterface(e);if(!(t&&t instanceof Py.ObjectClass))throw new Error("invalid IObjectClass");return t}_UnwrapIInstance(e){if(!(e instanceof self.IInstance))throw new TypeError("expected IInstance");const t=this._UnwrapScriptInterface(e);if(!(t&&t instanceof Py.Instance))throw new Error("invalid IInstance");return t}_UnwrapIWorldInstance(e){if(!(e instanceof self.IWorldInstance))throw new TypeError("expected IWorldInstance");const t=this._UnwrapScriptInterface(e);if(!(t&&t instanceof Py.Instance))throw new Error("invalid IInstance");return t}},self.C3_CreateRuntime=Py.Runtime.Create,self.C3_InitRuntime=(e,t)=>e.Init(t)}{const jy=self.C3;jy.JobSchedulerRuntime=class extends jy.DefendedBase{constructor(e,t){super(),this._runtime=e,this._jobPromises=new Map,this._nextJobId=0,this._inputPort=t.inputPort,t.outputPort.onmessage=e=>this._OnJobWorkerMessage(e),this._maxNumWorkers=t.maxNumWorkers,this._jobWorkerCount=1,this._isCreatingWorker=!1,this._hadErrorCreatingWorker=!1}GetMaxNumWorkers(){return this._maxNumWorkers}ImportScriptsToJobWorkers(e){this._inputPort.postMessage({type:"_import_scripts",scripts:e})}SendBlobToJobWorkers(e,t){this._inputPort.postMessage({type:"_send_blob",blob:e,id:t})}SendBufferToJobWorkers(e,t){this._inputPort.postMessage({type:"_send_buffer",buffer:e,id:t},[e])}AddJob(e,t,n,s,r,o){if(n||(n=[]),"number"==typeof o&&(o=Math.floor(o))<=0)throw new Error("invalid maxWorkerNum");const a=this._nextJobId++,i={type:e,isBroadcast:!1,maxWorkerNum:o,jobId:a,params:t,transferables:n},l=new Promise((e,t)=>{this._jobPromises.set(a,{resolve:e,progress:s,reject:t,cancelled:!1,maxWorkerNum:o})});return r&&r.SetAction(()=>this._CancelJob(a)),this._inputPort.postMessage(i,n),this._MaybeCreateExtraWorker(),l}BroadcastJob(e,t,n,s){if(n||(n=[]),"number"==typeof s&&(s=Math.floor(s))<=0)throw new Error("invalid maxWorkerNum");const r={type:e,isBroadcast:!0,maxWorkerNum:s,jobId:this._nextJobId++,params:t,transferables:n};this._inputPort.postMessage(r,n)}_CancelJob(e){const t=this._jobPromises.get(e);t&&(t.cancelled=!0,t.resolve=null,t.progress=null,t.reject=null,this._inputPort.postMessage({type:"_cancel",jobId:e}))}_OnJobWorkerMessage(e){const t=e.data,n=t.type,s=t.jobId;switch(n){case"result":this._OnJobResult(s,t.result);break;case"progress":this._OnJobProgress(s,t.progress);break;case"error":this._OnJobError(s,t.error);break;case"ready":this._OnJobWorkerReady();break;default:throw new Error(`unknown message from worker '${n}'`)}}_OnJobResult(e,t){const n=this._jobPromises.get(e);if(!n)throw new Error("invalid job ID");n.cancelled||n.resolve(t),this._jobPromises.delete(e)}_OnJobProgress(e,t){const n=this._jobPromises.get(e);if(!n)throw new Error("invalid job ID");!n.cancelled&&n.progress&&n.progress(t)}_OnJobError(e,t){const n=this._jobPromises.get(e);if(!n)throw new Error("invalid job ID");n.cancelled||n.reject(t),this._jobPromises.delete(e)}_OnJobWorkerReady(){this._isCreatingWorker&&(this._isCreatingWorker=!1,this._jobWorkerCount++,this._jobWorkerCount<this._maxNumWorkers?this._MaybeCreateExtraWorker():this._inputPort.postMessage({type:"_no_more_workers"}))}_GetWorkerCountNeededForPendingJobs(){let e=0;const t=[...this._jobPromises.values()].sort((e,t)=>(e.maxWorkerNum||1/0)-(t.maxWorkerNum||1/0));for(const n of t)e<(n.maxWorkerNum||1/0)&&e++;return e}async _MaybeCreateExtraWorker(){if(!(this._jobWorkerCount>=this._maxNumWorkers||this._isCreatingWorker||this._hadErrorCreatingWorker||this._GetWorkerCountNeededForPendingJobs()<=this._jobWorkerCount))try{this._isCreatingWorker=!0,(await this._runtime.PostComponentMessageToDOMAsync("runtime","create-job-worker")).outputPort.onmessage=e=>this._OnJobWorkerMessage(e)}catch(e){this._hadErrorCreatingWorker=!0,this._isCreatingWorker=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${this._jobWorkerCount} so far)`,e)}}}}self.C3_Shaders={},self.C3_Shaders.grayscale={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float intensity;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float gray = front.r * 0.299 + front.g * 0.587 + front.b * 0.114;\ngl_FragColor = mix(front, vec4(gray, gray, gray, front.a), intensity);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar gray : f32 = c3_grayscale(front.rgb);\nvar output : FragmentOutput;\noutput.color = mix(front, vec4<f32>(gray, gray, gray, front.a), shaderParams.intensity);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["intensity",0,"percent"]]},self.C3_Shaders.replacesolidcolor={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp vec3 sourceColor;\nuniform lowp vec3 destColor;\nuniform lowp float tolerance;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nlowp float diff = length(front.rgb - sourceColor);\nif (diff <= tolerance)\n{\nfront.rgb = destColor;\n}\nfront.rgb *= a;\ngl_FragColor = front;\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nsourceColor : vec3<f32>,\ndestColor : vec3<f32>,\ntolerance : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar rgb : vec3<f32> = front.rgb;\nvar diff : f32 = length(rgb - shaderParams.sourceColor);\nif (diff <= shaderParams.tolerance)\n{\nrgb = shaderParams.destColor;\n}\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb * front.a, front.a);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["sourceColor",0,"color"],["destColor",0,"color"],["tolerance",0,"percent"]]},self.C3_Shaders.setcolor={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp vec3 setColor;\nvoid main(void)\n{\nlowp float a = texture2D(samplerFront, vTex).a;\ngl_FragColor = vec4(setColor.r * a, setColor.g * a, setColor.b * a, a);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nsetColor : vec3<f32>\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar a : f32 = textureSample(textureFront, samplerFront, input.fragUV).a;\nvar output : FragmentOutput;\noutput.color = vec4<f32>(shaderParams.setColor * a, a);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["setColor",0,"color"]]},self.C3_Shaders.inverse={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float intensity;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec3 inverse = vec3(front.a - front.rgb);\ngl_FragColor = vec4(mix(front.rgb, inverse, intensity), front.a);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar inverse : vec3<f32> = vec3<f32>(front.a) - front.rgb;\nvar output : FragmentOutput;\noutput.color = vec4<f32>(mix(front.rgb, inverse, shaderParams.intensity), front.a);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["intensity",0,"percent"]]},self.C3_Shaders.scanlines={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float lineHeight;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump float factor = 1.0 + (floor(mod(vTex.y, pixelSize.y * lineHeight * 2.0) / (pixelSize.y * lineHeight)) / 3.0);\nfront.rgb /= factor;\ngl_FragColor = front;\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nlineHeight : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar pixelSizeY : f32 = c3_getPixelSize(textureFront).y;\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar factor : f32 = 1.0 + (floor(c3_mod(input.fragUV.y, pixelSizeY * shaderParams.lineHeight * 2.0) / (pixelSizeY * shaderParams.lineHeight)) / 3.0);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(front.rgb / factor, front.a);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["lineHeight",0,"float"]]},self.C3_Shaders.brightness={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float brightness;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= front.a;\nfront.rgb += (brightness - 1.0);\nfront.rgb *= a;\ngl_FragColor = front;\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nbrightness : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar output : FragmentOutput;\noutput.color = vec4<f32>((front.rgb + (shaderParams.brightness - 1.0)) * front.a, front.a);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["brightness",0,"percent"]]},self.C3_Shaders.noise={glsl:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform highmedp float seconds;\nuniform lowp float intensity;\nuniform lowp float noiseColor;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nhighmedp float seconds_mod = mod(seconds, 10.0);\nmediump vec3 noise = vec3(fract(sin(dot(vTex.xy, vec2(12.9898,78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.yx, vec2(12.9898,-78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.xy, vec2(-12.9898,-78.233)) + seconds_mod) * 43758.5453));\nnoise = mix(vec3(noise.r), noise, noiseColor);\nfront.rgb += (noise * intensity) - (intensity / 2.0);\nfront.rgb *= a;\ngl_FragColor = front;\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nintensity : f32,\nnoiseColor : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar seconds_mod : f32 = c3Params.seconds % 10.0;\nvar noise : vec3<f32> = vec3<f32>(\nfract(sin(dot(input.fragUV.xy, vec2<f32>(12.9898,78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(input.fragUV.yx, vec2<f32>(12.9898,-78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(input.fragUV.xy, vec2<f32>(-12.9898,-78.233)) + seconds_mod) * 43758.5453));\nnoise = mix(vec3<f32>(noise.r), noise, shaderParams.noiseColor);\nvar output : FragmentOutput;\noutput.color = vec4<f32>((front.rgb + ((noise * shaderParams.intensity) - (shaderParams.intensity / 2.0))) * front.a, front.a);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!0,parameters:[["intensity",0,"percent"],["noiseColor",0,"percent"]]},self.C3_Shaders.pixellate={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcOriginStart;\nuniform mediump vec2 srcOriginEnd;\nuniform mediump vec2 pixelSize;\nuniform mediump float tilesize;\nvoid main(void)\n{\nmediump vec2 tile = pixelSize * tilesize;\nmediump vec2 halftile = tile / 2.0;\nmediump vec2 tex = floor(vTex / tile) * tile + halftile;\ntex = clamp(tex, min(srcOriginStart, srcOriginEnd), max(srcOriginStart, srcOriginEnd));\ngl_FragColor = texture2D(samplerFront, tex);\n}",glslWebGL2:"#version 300 es\nin mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nout lowp vec4 outColor;\nuniform mediump vec2 srcOriginStart;\nuniform mediump vec2 srcOriginEnd;\nuniform mediump vec2 pixelSize;\nuniform mediump float tilesize;\nvoid main(void)\n{\nmediump vec2 tile = pixelSize * tilesize;\nmediump vec2 halftile = tile / 2.0;\nmediump vec2 tex = floor(vTex / tile) * tile + halftile;\ntex = clamp(tex, min(srcOriginStart, srcOriginEnd), max(srcOriginStart, srcOriginEnd));\noutColor = textureGrad(samplerFront, tex, dFdx(vTex), dFdy(vTex));\n}",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\ntilesize : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar tile : vec2<f32> = vec2<f32>(shaderParams.tilesize) / vec2<f32>(textureDimensions(textureFront));\nvar halftile : vec2<f32> = tile / 2.0;\nvar tex : vec2<f32> = floor(input.fragUV / tile) * tile + halftile;\ntex = c3_clampToSrcOrigin(tex);\nvar output : FragmentOutput;\noutput.color = textureSampleGrad(textureFront, samplerFront, tex, dpdx(input.fragUV), dpdy(input.fragUV));\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!1,supports3dDirectRendering:!1,animated:!1,parameters:[["tilesize",0,"float"]]},self.C3_Shaders.hsladjust={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3((huerotate > 0.5 ? huerotate - 1.0 : huerotate), 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nhuerotate : f32,\nsatadjust : f32,\nlumadjust : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar huerotate : f32 = shaderParams.huerotate;\nif (huerotate > 0.5)\n{\nhuerotate = huerotate - 1.0;\n}\nvar rgb : vec3<f32> = c3_RGBtoHSL(front.rgb) + vec3<f32>(huerotate, 0.0, (shaderParams.lumadjust - 1.0) * front.a);\nrgb.y = rgb.y * shaderParams.satadjust;\nrgb = c3_HSLtoRGB(rgb);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb, front.a);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["huerotate",0,"percent"],["satadjust",0,"percent"],["lumadjust",0,"percent"]]},self.C3_Shaders.warpobject={glsl:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump vec2 srcOriginStart;\nuniform mediump vec2 srcOriginEnd;\nuniform highmedp float seconds;\nuniform mediump vec2 pixelSize;\nuniform mediump float devicePixelRatio;\nuniform mediump float layerScale;\nuniform mediump float freqX;\nuniform mediump float freqY;\nuniform mediump float ampX;\nuniform mediump float ampY;\nuniform mediump float speedX;\nuniform mediump float speedY;\nvoid main(void)\n{\nmediump float _2pi = 2.0 * 3.14159265359;\nmediump vec2 srcOriginSize = srcOriginEnd - srcOriginStart;\nmediump vec2 n = ((vTex - srcOriginStart) / srcOriginSize);\nmediump vec2 p = vTex;\np.x += cos(n.y * _2pi * freqY + seconds * speedY * _2pi) * ampY * pixelSize.x * devicePixelRatio * layerScale;\np.y += sin(n.x * _2pi * freqX + seconds * speedX * _2pi) * ampX * pixelSize.y * devicePixelRatio * layerScale;\np = clamp(p, min(srcStart, srcEnd), max(srcStart, srcEnd));\ngl_FragColor = texture2D(samplerFront, p);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nfreqX : f32,\nfreqY : f32,\nampX : f32,\nampY : f32,\nspeedX : f32,\nspeedY : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\nconst pi2 : f32 = 6.283185307179586;\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar pixelSize : vec2<f32> = c3_getPixelSize(textureFront);\nvar n : vec2<f32> = c3_srcOriginToNorm(input.fragUV);\nvar p : vec2<f32> = input.fragUV + vec2<f32>(\ncos(n.y * pi2 * shaderParams.freqY + c3Params.seconds * shaderParams.speedY * pi2) * shaderParams.ampY * pixelSize.x * c3Params.devicePixelRatio * c3Params.layerScale,\nsin(n.x * pi2 * shaderParams.freqX + c3Params.seconds * shaderParams.speedX * pi2) * shaderParams.ampX * pixelSize.y * c3Params.devicePixelRatio * c3Params.layerScale\n);\np = c3_clampToSrc(p);\nvar output : FragmentOutput;\noutput.color = textureSample(textureFront, samplerFront, p);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:30,extendBoxVertical:30,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!1,supports3dDirectRendering:!1,animated:!0,parameters:[["freqX",0,"float"],["freqY",0,"float"],["ampX",0,"float"],["ampY",0,"float"],["speedX",0,"float"],["speedY",0,"float"]]},self.C3_Shaders.tint={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp vec3 tintColor;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\ngl_FragColor = front * vec4(tintColor.r, tintColor.g, tintColor.b, 1.0);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\ntintColor : vec3<f32>\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput {\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar output : FragmentOutput;\noutput.color = front * vec4<f32>(shaderParams.tintColor, 1.0);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["tintColor",0,"color"]]},self.C3_Shaders.warpobjectmask={glsl:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump vec2 srcOriginStart;\nuniform mediump vec2 srcOriginEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nuniform highmedp float seconds;\nuniform mediump vec2 pixelSize;\nuniform mediump float devicePixelRatio;\nuniform mediump float layerScale;\nuniform mediump float freqX;\nuniform mediump float freqY;\nuniform mediump float ampX;\nuniform mediump float ampY;\nuniform mediump float speedX;\nuniform mediump float speedY;\nvoid main(void)\n{\nmediump float _2pi = 2.0 * 3.14159265359;\nlowp float fronta = texture2D(samplerFront, vTex).a;\nmediump vec2 srcSize = srcEnd - srcStart;\nmediump vec2 tex = ((vTex - srcStart) / srcSize);\nmediump vec2 srcOriginSize = srcOriginEnd - srcOriginStart;\nmediump vec2 n = ((vTex - srcOriginStart) / srcOriginSize);\nmediump vec2 p = mix(destStart, destEnd, tex);\np.x += cos(n.y * _2pi * freqY + seconds * speedY * _2pi) * ampY * pixelSize.x * devicePixelRatio * layerScale * fronta;\np.y += sin(n.x * _2pi * freqX + seconds * speedX * _2pi) * ampX * pixelSize.y * devicePixelRatio * layerScale * fronta;\np = clamp(p, min(destStart, destEnd), max(destStart, destEnd));\ngl_FragColor = texture2D(samplerBack, p);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\nstruct ShaderParams {\nfreqX : f32,\nfreqY : f32,\nampX : f32,\nampY : f32,\nspeedX : f32,\nspeedY : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\nconst pi2 : f32 = 6.283185307179586;\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar pixelSize : vec2<f32> = c3_getPixelSize(textureFront);\nvar fronta : f32 = textureSample(textureFront, samplerFront, input.fragUV).a;\nvar n : vec2<f32> = c3_srcOriginToNorm(input.fragUV);\nvar p : vec2<f32> = c3_getBackUV(input.fragPos.xy, textureBack) + vec2<f32>(\ncos(n.y * pi2 * shaderParams.freqY + c3Params.seconds * shaderParams.speedY * pi2) * shaderParams.ampY * pixelSize.x * c3Params.devicePixelRatio * c3Params.layerScale * fronta,\nsin(n.x * pi2 * shaderParams.freqX + c3Params.seconds * shaderParams.speedX * pi2) * shaderParams.ampX * pixelSize.y * c3Params.devicePixelRatio * c3Params.layerScale * fronta\n);\np = c3_clampToDest(p);\nvar output : FragmentOutput;\noutput.color = textureSample(textureBack, samplerBack, p);\nreturn output;\n}",blendsBackground:!0,usesDepth:!1,extendBoxHorizontal:30,extendBoxVertical:30,crossSampling:!0,mustPreDraw:!1,preservesOpaqueness:!1,supports3dDirectRendering:!1,animated:!0,parameters:[["freqX",0,"float"],["freqY",0,"float"],["ampX",0,"float"],["ampY",0,"float"],["speedX",0,"float"],["speedY",0,"float"]]},self.C3_Shaders.gamma={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float gamma;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\ngl_FragColor = vec4(pow(front.rgb, vec3(gamma)), front.a);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\ngamma : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(pow(front.rgb, vec3<f32>(shaderParams.gamma)), front.a);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["gamma",0,"float"]]},self.C3_Shaders.vignette={glsl:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump float vignetteStart;\nuniform mediump float vignetteEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp float d = distance(tex, vec2(0.5, 0.5));\nfront.rgb *= smoothstep(vignetteEnd, vignetteStart, d);\nfront.rgb *= a;\ngl_FragColor = front;\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nvignetteStart : f32,\nvignetteEnd : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\nconst center : vec2<f32> = vec2<f32>(0.5);\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar rgb : vec3<f32> = front.rgb;\nvar tex : vec2<f32> = c3_srcToNorm(input.fragUV);\nvar d : f32 = distance(tex, center);\nrgb = rgb * smoothstep(shaderParams.vignetteEnd, shaderParams.vignetteStart, d);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb * front.a, front.a);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!0,supports3dDirectRendering:!1,animated:!1,parameters:[["vignetteStart",0,"percent"],["vignetteEnd",0,"percent"]]},self.C3_Shaders.blurhorizontal={glsl:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelWidth = pixelSize.x;\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, sum, intensity);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar pixelWidth : f32 = c3_getPixelSize(textureFront).x;\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar sum : vec4<f32> =\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 7.5, 0.0)) * 0.06 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 5.5, 0.0)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 3.5, 0.0)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 1.5, 0.0)) * 0.16 +\nfront * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 1.5, 0.0)) * 0.16 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 3.5, 0.0)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 5.5, 0.0)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 7.5, 0.0)) * 0.06;\nvar output : FragmentOutput;\noutput.color = mix(front, sum, shaderParams.intensity);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:8,extendBoxVertical:0,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!1,supports3dDirectRendering:!1,animated:!1,parameters:[["intensity",0,"percent"]]},self.C3_Shaders.blurvertical={glsl:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelHeight = pixelSize.y;\nmediump float halfPixelHeight = pixelHeight / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 1.0 + halfPixelHeight)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 3.0 + halfPixelHeight)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 5.0 + halfPixelHeight)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(0.0, pixelHeight * 7.0 + halfPixelHeight)) * 0.06;\ngl_FragColor = mix(front, sum, intensity);\n}",glslWebGL2:"",wgsl:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar pixelHeight : f32 = c3_getPixelSize(textureFront).y;\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar sum : vec4<f32> =\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(0.0, pixelHeight * 7.5)) * 0.06 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(0.0, pixelHeight * 5.5)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(0.0, pixelHeight * 3.5)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(0.0, pixelHeight * 1.5)) * 0.16 +\nfront * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(0.0, pixelHeight * 1.5)) * 0.16 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(0.0, pixelHeight * 3.5)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(0.0, pixelHeight * 5.5)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(0.0, pixelHeight * 7.5)) * 0.06;\nvar output : FragmentOutput;\noutput.color = mix(front, sum, shaderParams.intensity);\nreturn output;\n}",blendsBackground:!1,usesDepth:!1,extendBoxHorizontal:0,extendBoxVertical:8,crossSampling:!1,mustPreDraw:!1,preservesOpaqueness:!1,supports3dDirectRendering:!1,animated:!1,parameters:[["intensity",0,"percent"]]};{let ky=function(e,t){const n=e[1],s=t[1];if("number"==typeof n&&"number"==typeof s)return n-s;{const e=""+n,t=""+s;return e<t?-1:e>t?1:0}};ForEachOrdered_SortInstances=ky;const Ly=self.C3;let Wy=null,Uy="",Hy="",zy=[],Yy="",Xy="",qy="";const Ky=Ly.New(Ly.ArrayStack);Ly.Plugins.System=class extends Ly.SDKPluginBase{constructor(e){super(e),this._loopStack=this._runtime.GetEventSheetManager().GetLoopStack(),this._eventStack=this._runtime.GetEventSheetManager().GetEventStack(),this._imagesLoadingTotal=0,this._imagesLoadingComplete=0,this._functionMaps=new Map}Release(){super.Release()}UpdateRender(){this._runtime.UpdateRender()}Trigger(e){this._runtime.Trigger(e,null,null)}GetRegex(e,t){return Wy&&e===Uy&&t===Hy||(Wy=new RegExp(e,t),Uy=e,Hy=t),Wy.lastIndex=0,Wy}GetRegexMatches(e,t,n){if(e===Yy&&t===Xy&&n===qy)return zy;const s=this.GetRegex(t,n);return zy=e.match(s),Yy=e,Xy=t,qy=n,zy}async _LoadTexturesForObjectClasses(e,t){if(!t.length)return;this._imagesLoadingTotal+=t.length;const n=[];for(const s of t)n.push(e.MaybeLoadTexturesFor(s));await Ly.PromiseAllWithProgress(n,()=>{this._imagesLoadingComplete++}),this._imagesLoadingComplete++,this._imagesLoadingComplete===this._imagesLoadingTotal&&(this._imagesLoadingComplete=0,this._imagesLoadingTotal=0,this._runtime.Trigger(Ly.Plugins.System.Cnds.OnImageLoadingComplete,null,null))}GetImageLoadingProgress(){return 0===this._imagesLoadingTotal?1:this._imagesLoadingComplete/this._imagesLoadingTotal}_UnloadTexturesForObjectClasses(e,t){for(const n of t)0===n.GetInstanceCount()&&e.MaybeUnloadTexturesFor(n)}_GetForEachStack(){return Ky}_Repeat(e){const t=this._runtime.GetEventSheetManager(),n=t.GetEventStack(),s=n.GetCurrentStackFrame(),r=s.GetCurrentEvent(),o=r.GetSolModifiers(),a=s.IsSolModifierAfterCnds(),i=n.Push(r),l=t.GetLoopStack(),d=l.Push();if(d.SetEnd(e),a)for(let n=0;n<e&&!d.IsStopped();++n)t.PushCopySol(o),d.SetIndex(n),r.Retrigger(s,i),t.PopSol(o);else for(let t=0;t<e&&!d.IsStopped();++t)d.SetIndex(t),r.Retrigger(s,i);return n.Pop(),l.Pop(),!1}*_DebugRepeat(e){const t=this._runtime.GetEventSheetManager(),n=t.GetEventStack(),s=n.GetCurrentStackFrame(),r=s.GetCurrentEvent(),o=r.GetSolModifiers(),a=s.IsSolModifierAfterCnds(),i=n.Push(r),l=t.GetLoopStack(),d=l.Push();if(d.SetEnd(e),a)for(let n=0;n<e&&!d.IsStopped();++n)t.PushCopySol(o),d.SetIndex(n),yield*r.DebugRetrigger(s,i),t.PopSol(o);else for(let t=0;t<e&&!d.IsStopped();++t)d.SetIndex(t),yield*r.DebugRetrigger(s,i);return n.Pop(),l.Pop(),!1}_While(){const e=this._runtime.GetEventSheetManager(),t=e.GetEventStack(),n=t.GetCurrentStackFrame(),s=n.GetCurrentEvent(),r=s.GetSolModifiers(),o=n.IsSolModifierAfterCnds(),a=t.Push(s),i=e.GetLoopStack(),l=i.Push();if(o)for(let t=0;!l.IsStopped();++t)e.PushCopySol(r),l.SetIndex(t),s.Retrigger(n,a)||l.Stop(),e.PopSol(r);else for(let e=0;!l.IsStopped();++e)l.SetIndex(e),s.Retrigger(n,a)||l.Stop();return t.Pop(),i.Pop(),!1}*_DebugWhile(){const e=this._runtime.GetEventSheetManager(),t=e.GetEventStack(),n=t.GetCurrentStackFrame(),s=n.GetCurrentEvent(),r=s.GetSolModifiers(),o=n.IsSolModifierAfterCnds(),a=t.Push(s),i=e.GetLoopStack(),l=i.Push();if(o)for(let t=0;!l.IsStopped();++t)e.PushCopySol(r),l.SetIndex(t),(yield*s.DebugRetrigger(n,a))||l.Stop(),e.PopSol(r);else for(let e=0;!l.IsStopped();++e)l.SetIndex(e),(yield*s.DebugRetrigger(n,a))||l.Stop();return t.Pop(),i.Pop(),!1}_For(e,t,n){const s=this._runtime.GetEventSheetManager(),r=s.GetEventStack(),o=r.GetCurrentStackFrame(),a=o.GetCurrentEvent(),i=a.GetSolModifiers(),l=o.IsSolModifierAfterCnds(),d=r.Push(a),c=s.GetLoopStack(),u=c.Push();if(u.SetName(e),u.SetEnd(n),n<t)if(l)for(let e=t;e>=n&&!u.IsStopped();--e)s.PushCopySol(i),u.SetIndex(e),a.Retrigger(o,d),s.PopSol(i);else for(let e=t;e>=n&&!u.IsStopped();--e)u.SetIndex(e),a.Retrigger(o,d);else if(l)for(let e=t;e<=n&&!u.IsStopped();++e)s.PushCopySol(i),u.SetIndex(e),a.Retrigger(o,d),s.PopSol(i);else for(let e=t;e<=n&&!u.IsStopped();++e)u.SetIndex(e),a.Retrigger(o,d);return r.Pop(),c.Pop(),!1}*_DebugFor(e,t,n){const s=this._runtime.GetEventSheetManager(),r=s.GetEventStack(),o=r.GetCurrentStackFrame(),a=o.GetCurrentEvent(),i=a.GetSolModifiers(),l=o.IsSolModifierAfterCnds(),d=r.Push(a),c=s.GetLoopStack(),u=c.Push();if(u.SetName(e),u.SetEnd(n),n<t)if(l)for(let e=t;e>=n&&!u.IsStopped();--e)s.PushCopySol(i),u.SetIndex(e),yield*a.DebugRetrigger(o,d),s.PopSol(i);else for(let e=t;e>=n&&!u.IsStopped();--e)u.SetIndex(e),yield*a.DebugRetrigger(o,d);else if(l)for(let e=t;e<=n&&!u.IsStopped();++e)s.PushCopySol(i),u.SetIndex(e),yield*a.DebugRetrigger(o,d),s.PopSol(i);else for(let e=t;e<=n&&!u.IsStopped();++e)u.SetIndex(e),yield*a.DebugRetrigger(o,d);return r.Pop(),c.Pop(),!1}_ForEach(e){const t=e.GetCurrentSol(),n=t.GetInstances();if(0===n.length)return!1;const s=this._runtime.GetEventSheetManager(),r=s.GetEventStack(),o=r.GetCurrentStackFrame(),a=o.GetCurrentEvent(),i=a.GetSolModifiers(),l=o.IsSolModifierAfterCnds(),d=r.Push(a),c=s.GetLoopStack(),u=c.Push(),h=e.IsInContainer(),_=Ky.Push();if(Ly.shallowAssignArray(_,n),u.SetEnd(_.length),l)for(let t=0,n=_.length;t<n&&!u.IsStopped();++t){s.PushCopySol(i);const n=_[t];e.GetCurrentSol().SetSinglePicked(n),h&&n.SetSiblingsSinglePicked(),u.SetIndex(t),a.Retrigger(o,d),s.PopSol(i)}else{t._SetSelectAll(!1);const e=t._GetOwnInstances();Ly.clearArray(e),e.push(null);for(let t=0,n=_.length;t<n&&!u.IsStopped();++t){const n=_[t];e[0]=n,h&&n.SetSiblingsSinglePicked(),u.SetIndex(t),a.Retrigger(o,d)}}return r.Pop(),c.Pop(),Ly.clearArray(_),Ky.Pop(),!1}*_DebugForEach(e){const t=e.GetCurrentSol(),n=t.GetInstances();if(0===n.length)return!1;const s=this._runtime.GetEventSheetManager(),r=s.GetEventStack(),o=r.GetCurrentStackFrame(),a=o.GetCurrentEvent(),i=a.GetSolModifiers(),l=o.IsSolModifierAfterCnds(),d=r.Push(a),c=s.GetLoopStack(),u=c.Push(),h=e.IsInContainer(),_=Ky.Push();if(Ly.shallowAssignArray(_,n),u.SetEnd(_.length),l)for(let t=0,n=_.length;t<n&&!u.IsStopped();++t){s.PushCopySol(i);const n=_[t];e.GetCurrentSol().SetSinglePicked(n),h&&n.SetSiblingsSinglePicked(),u.SetIndex(t),yield*a.DebugRetrigger(o,d),s.PopSol(i)}else{t._SetSelectAll(!1);const e=t._GetOwnInstances();Ly.clearArray(e),e.push(null);for(let t=0,n=_.length;t<n&&!u.IsStopped();++t){const n=_[t];e[0]=n,h&&n.SetSiblingsSinglePicked(),u.SetIndex(t),yield*a.DebugRetrigger(o,d)}}return r.Pop(),c.Pop(),Ly.clearArray(_),Ky.Pop(),!1}_ForEachOrdered(e,t){const n=e.GetCurrentSol(),s=n.GetInstances();if(0===s.length)return!1;const r=this._runtime.GetEventSheetManager(),o=r.GetEventStack(),a=r.GetCurrentCondition(),i=o.GetCurrentStackFrame(),l=i.GetCurrentEvent(),d=l.GetSolModifiers(),c=i.IsSolModifierAfterCnds(),u=o.Push(l),h=r.GetLoopStack(),_=h.Push(),G=e.IsInContainer(),p=Ky.Push();Ly.clearArray(p),_.SetEnd(s.length);for(let e=0,t=s.length;e<t;++e)p.push([s[e],a.ReevaluateParameter(1,e)]);if(p.sort(ky),1===t&&p.reverse(),c)for(let t=0,n=p.length;t<n&&!_.IsStopped();++t){r.PushCopySol(d);const n=p[t][0];e.GetCurrentSol().SetSinglePicked(n),G&&n.SetSiblingsSinglePicked(),_.SetIndex(t),l.Retrigger(i,u),r.PopSol(d)}else{n._SetSelectAll(!1);const e=n._GetOwnInstances();Ly.clearArray(e),e.push(null);for(let t=0,n=p.length;t<n&&!_.IsStopped();++t){const n=p[t][0];e[0]=n,G&&n.SetSiblingsSinglePicked(),_.SetIndex(t),l.Retrigger(i,u)}}return o.Pop(),h.Pop(),Ly.clearArray(p),Ky.Pop(),!1}*_DebugForEachOrdered(e,t){const n=e.GetCurrentSol(),s=n.GetInstances();if(0===s.length)return!1;const r=this._runtime.GetEventSheetManager(),o=r.GetEventStack(),a=r.GetCurrentCondition(),i=o.GetCurrentStackFrame(),l=i.GetCurrentEvent(),d=l.GetSolModifiers(),c=i.IsSolModifierAfterCnds(),u=o.Push(l),h=r.GetLoopStack(),_=h.Push(),G=e.IsInContainer(),p=Ky.Push();Ly.clearArray(p),_.SetEnd(s.length);for(let e=0,t=s.length;e<t;++e)p.push([s[e],a.ReevaluateParameter(1,e)]);if(p.sort(ky),1===t&&p.reverse(),c)for(let t=0,n=p.length;t<n&&!_.IsStopped();++t){r.PushCopySol(d);const n=p[t][0];e.GetCurrentSol().SetSinglePicked(n),G&&n.SetSiblingsSinglePicked(),_.SetIndex(t),yield*l.DebugRetrigger(i,u),r.PopSol(d)}else{n._SetSelectAll(!1);const e=n._GetOwnInstances();Ly.clearArray(e),e.push(null);for(let t=0,n=p.length;t<n&&!_.IsStopped();++t){const n=p[t][0];e[0]=n,G&&n.SetSiblingsSinglePicked(),_.SetIndex(t),yield*l.DebugRetrigger(i,u)}}return o.Pop(),h.Pop(),Ly.clearArray(p),Ky.Pop(),!1}_GetFunctionMap(e,t){let n=this._functionMaps.get(e);return n||(t?(n={defaultFunc:null,strMap:new Map},this._functionMaps.set(e,n),n):null)}_DoCallMappedFunction(e,t,n,s,r){t.GetEventBlock().RunAsMappedFunctionCall(n,t.IsCopyPicked()),s&&e.PopSol(r)}*_DebugDoCallMappedFunction(e,t,n,s,r){yield*t.GetEventBlock().DebugRunAsMappedFunctionCall(n,t.IsCopyPicked()),s&&e.PopSol(r)}}}{const Jy=self.C3;Jy.Plugins.System.Type=class extends Jy.DefendedBase{constructor(e){super(),this._objectClass=e,this._runtime=e.GetRuntime(),this._plugin=e.GetPlugin()}OnCreate(){}Release(){this._objectClass=null,this._runtime=null,this._plugin=null}}}{const $y=self.C3;$y.Plugins.System.Instance=class extends $y.DefendedBase{constructor(e,t){super(),this._inst=e,this._objectClass=this._inst.GetObjectClass(),this._sdkType=this._objectClass.GetSdkType(),this._runtime=this._inst.GetRuntime()}Release(){this._inst=null,this._objectClass=null,this._sdkType=null,this._runtime=null}}}{const Zy=self.C3,Qy=[];Zy.Plugins.System.Cnds={EveryTick:()=>!0,OnLayoutStart:()=>!0,OnLayoutEnd:()=>!0,OnSuspend:()=>!0,OnResume:()=>!0,IsSuspended(){return this._runtime.IsSuspended()},Else(){const e=this._runtime.GetCurrentEventStackFrame();return!e.GetElseBranchRan()&&!e.GetLastEventTrue()},TriggerOnce(){const e=this._runtime.GetCurrentCondition().GetSavedDataMap();let t=e.get("TriggerOnce_lastTick");void 0===t&&(t=-1,e.set("TriggerOnce_lastTick",-1));const n=this._runtime.GetTickCount();return e.set("TriggerOnce_lastTick",n),this._runtime.IsLayoutFirstTick()||t!==n-1},Every(e){const t=this._runtime.GetCurrentCondition().GetSavedDataMap(),n=t.get("Every_lastTime")||0,s=this._runtime.GetGameTime();t.has("Every_seconds")||t.set("Every_seconds",e);const r=t.get("Every_seconds");return s>=n+r?(t.set("Every_lastTime",n+r),s>=t.get("Every_lastTime")+.04&&t.set("Every_lastTime",s),t.set("Every_seconds",e),!0):(s<n-.1&&t.set("Every_lastTime",s),!1)},IsGroupActive(e){const t=this._runtime.GetEventSheetManager().GetEventGroupByName(e);return t&&t.IsGroupActive()},IsPreview(){return this._runtime.IsPreview()},IsMobile:()=>Zy.Platform.IsMobile,OnLoadFinished:()=>!0,OnCanvasSnapshot:()=>!0,EffectsSupported:()=>!0,OnSaveComplete:()=>!0,OnSaveFailed:()=>!0,OnLoadComplete:()=>!0,OnLoadFailed:()=>!0,ObjectUIDExists(e){return!!this._runtime.GetInstanceByUID(e)},IsOnPlatform(e){switch(e){case 0:return"browser"===Zy.Platform.Context;case 1:return"iOS"===Zy.Platform.OS;case 2:return"Android"===Zy.Platform.OS;case 8:return"cordova"===Zy.Platform.Context;case 9:return"scirra-arcade"===this._runtime.GetExportType();case 10:return"nwjs"===Zy.Platform.Context;case 13:return"windows-uwp"===this._runtime.GetExportType();default:return!1}},RegexTest(e,t,n){return this.GetRegex(t,n).test(e)},Compare:(e,t,n)=>Zy.compare(e,t,n),CompareBetween:(e,t,n)=>e>=t&&e<=n,CompareVar:(e,t,n)=>Zy.compare(e.GetValue(),t,n),CompareBoolVar:e=>!!e.GetValue(),CompareTime(e,t){const n=this._runtime.GetGameTime();if(0===e){const e=this._runtime.GetCurrentCondition().GetSavedDataMap();return!e.get("CompareTime_executed")&&n>=t&&(e.set("CompareTime_executed",!0),!0)}return Zy.compare(n,e,t)},IsNaN:e=>isNaN(e),AngleWithin:(e,t,n)=>Zy.angleDiff(Zy.toRadians(e),Zy.toRadians(n))<=Zy.toRadians(t),IsClockwiseFrom:(e,t)=>Zy.angleClockwise(Zy.toRadians(e),Zy.toRadians(t)),IsBetweenAngles(e,t,n){let s=Zy.toRadians(e),r=Zy.toRadians(t),o=Zy.toRadians(n);return Zy.angleClockwise(o,r)?Zy.angleClockwise(s,r)&&!Zy.angleClockwise(s,o):!(!Zy.angleClockwise(s,r)&&Zy.angleClockwise(s,o))},IsValueType:(e,t)=>"number"==typeof e?0===t:1===t,EvaluateExpression:e=>!!e,OnSignal(e){return e.toLowerCase()===this._runtime.GetEventSheetManager().GetCurrentSignalTag()},PickByComparison(e,t,n,s){if(!e)return!1;const r=this._GetForEachStack(),o=r.Push(),a=e.GetCurrentSol();Zy.shallowAssignArray(o,a.GetInstances()),a.IsSelectAll()&&Zy.clearArray(a._GetOwnElseInstances());const i=this._runtime.GetCurrentCondition();let l=0;for(let e=0,r=o.length;e<r;++e){const r=o[e];o[l]=r,t=i.ReevaluateParameter(1,e),s=i.ReevaluateParameter(3,e),Zy.compare(t,n,s)?++l:a._PushElseInstance(r)}Zy.truncateArray(o,l),a.SetArrayPicked(o);const d=!!o.length;return Zy.clearArray(o),r.Pop(),e.ApplySolToContainer(),d},PickByEvaluate(e,t){if(!e)return!1;const n=this._GetForEachStack(),s=n.Push(),r=e.GetCurrentSol();Zy.shallowAssignArray(s,r.GetInstances()),r.IsSelectAll()&&Zy.clearArray(r._GetOwnElseInstances());const o=this._runtime.GetCurrentCondition();let a=0;for(let e=0,t=s.length;e<t;++e){const t=s[e];s[a]=t,o.ReevaluateParameter(1,e)?++a:r._PushElseInstance(t)}Zy.truncateArray(s,a),r.SetArrayPicked(s);const i=!!s.length;return Zy.clearArray(s),n.Pop(),e.ApplySolToContainer(),i},PickByHighestLowestValue(e,t,n){if(!e)return!1;const s=e.GetCurrentSol(),r=s.GetInstances();if(0===r.length)return!1;const o=this._runtime.GetCurrentCondition();let a=null,i=0;for(let e=0,s=r.length;e<s;++e){const s=r[e];n=o.ReevaluateParameter(2,e),(null===a||0===t&&n<i||1===t&&n>i)&&(i=n,a=s)}return s.PickOne(a),e.ApplySolToContainer(),!0},PickNth(e,t){if(!e)return!1;const n=e.GetCurrentSol(),s=n.GetInstances();if((t=Math.floor(t))>=s.length)return!1;const r=s[t];return n.PickOne(r),e.ApplySolToContainer(),!0},PickRandom(e){if(!e)return!1;const t=e.GetCurrentSol(),n=t.GetInstances(),s=Math.floor(this._runtime.Random()*n.length);if(s>=n.length)return!1;const r=n[s];return t.PickOne(r),e.ApplySolToContainer(),!0},PickAll:e=>!!e&&(!!e.GetInstanceCount()&&(e.GetCurrentSol()._SetSelectAll(!0),e.ApplySolToContainer(),!0)),PickOverlappingPoint(e,t,n){if(!e)return!1;const s=e.GetCurrentSol(),r=s.GetInstances(),o=this._runtime.GetCurrentEvent().IsOrBlock(),a=this._runtime.GetCurrentCondition().IsInverted();s.IsSelectAll()?(Zy.shallowAssignArray(Qy,r),s.ClearArrays(),s._SetSelectAll(!1)):o?(Zy.shallowAssignArray(Qy,s._GetOwnElseInstances()),Zy.clearArray(s._GetOwnElseInstances())):(Zy.shallowAssignArray(Qy,s._GetOwnInstances()),Zy.clearArray(s._GetOwnInstances()));for(let e=0,r=Qy.length;e<r;++e){const r=Qy[e];Zy.xor(r.GetWorldInfo().ContainsPoint(t,n),a)?s._PushInstance(r):s._PushElseInstance(r)}return e.ApplySolToContainer(),Zy.xor(!!s._GetOwnInstances().length,a)},PickLastCreated(e){if(!e)return!1;const t=e.IsFamily();let n=null;const s=this._runtime._GetInstancesPendingCreate();for(let r=s.length-1;r>=0;--r){const o=s[r];if(t){if(o.GetObjectClass().BelongsToFamily(e)){n=o;break}}else if(o.GetObjectClass()===e){n=o;break}}if(!n){const t=e.GetInstances();t.length&&(n=t.at(-1))}return!!n&&(e.GetCurrentSol().PickOne(n),e.ApplySolToContainer(),!0)},Repeat(e){return this._runtime.IsDebugging()?this._DebugRepeat(e):this._Repeat(e)},While(){return this._runtime.IsDebugging()?this._DebugWhile():this._While()},For(e,t,n){return this._runtime.IsDebugging()?this._DebugFor(e,t,n):this._For(e,t,n)},ForEach(e){return this._runtime.IsDebugging()?this._DebugForEach(e):this._ForEach(e)},ForEachOrdered(e,t,n){return this._runtime.IsDebugging()?this._DebugForEachOrdered(e,n):this._ForEachOrdered(e,n)},LayerVisible:e=>!!e&&e.IsVisible(),LayerInteractive:e=>!!e&&e.IsSelfAndParentsInteractive(),LayerIsHTML:e=>!!e&&e.IsHTMLElementsLayer(),LayerEmpty:e=>!!e&&!e.GetInstanceCount(),LayerCmpOpacity:(e,t,n)=>!!e&&Zy.compare(100*e.GetOpacity(),t,n),LayerNameExists(e){const t=this._runtime.GetMainRunningLayout();return!!t&&t.HasLayerByName(e)},OnImageLoadingComplete:()=>!0,IsLoadingImages(){return this._imagesLoadingTotal>0},TemplateExists(e,t){const n=this._runtime.GetTemplateManager();return!!n&&!!t&&!!n.GetTemplateData(e,t)}}}{let eE=function(e,t){const n=e[0]-t[0];return 0!==n?n:e[1]-t[1]},tE=function(e,t){return e[1]-t[1]};SortZOrderList=eE,SortInstancesByValue=tE;const nE=self.C3,sE=[],rE=[],oE=nE.New(nE.Rect),aE=nE.New(nE.Color),iE=[];nE.Plugins.System.Acts={SetVar(e,t){e.SetValue(t)},AddVar(e,t){e.IsNumber()&&"number"!=typeof t&&(t=parseFloat(t)),e.SetValue(e.GetValue()+t)},SubVar(e,t){e.IsNumber()&&e.SetValue(e.GetValue()-t)},SetBoolVar(e,t){e.SetValue(!!t)},ToggleBoolVar(e){e.SetValue(!e.GetValue())},ResetEventVar(e){e.SetValue(e.GetInitialValue())},ResetGlobals(e){this._runtime.GetEventSheetManager().ResetAllGlobalsToInitialValue(e)},CreateObject(e,t,n,s,r,o){if(!e||!t)return;const a=this._runtime.CreateInstance(e,t,n,s,r,o);if(!a)return;r&&t.SortAndAddInstancesByZIndex(a);const i=this._runtime.GetEventSheetManager();i.BlockFlushingInstances(!0),a._TriggerOnCreatedOnSelfAndRelated(),i.BlockFlushingInstances(!1);const l=new Map;a.CollectInstancesToPick(l,e,r);for(const[e,t]of l)e.GetCurrentSol().SetSetPicked(t)},CreateObjectByName(e,t,n,s,r,o){if(!e||!t)return;const a=this._runtime.GetObjectClassByName(e);a&&nE.Plugins.System.Acts.CreateObject.call(this,a,t,n,s,r,o)},RecreateInitialObjects(e,t,n,s,r,o,a,i,l,d,c){if(!e)return;const u=this._runtime.GetCurrentLayout();let h=u;if(o){const e=this._runtime.GetLayoutManager().GetLayoutByName(o);if(!e)return;h=e}let _=null;if(("number"!=typeof a||a>=0)&&(_=h.GetLayer(a),!_))return;let G=null;if(("number"!=typeof i||i>=0)&&(G=u.GetLayer(i),!G))return;oE.set(t,n,s,r);const p=h.RecreateInitialObjects(e,oE,_,G,l,d,c);e.GetCurrentSol().SetArrayPicked(p),e.ApplySolToContainer()},StopLoop(){const e=this._loopStack;e.IsInLoop()&&e.GetCurrent().Stop()},SetGroupActive(e,t){const n=this._runtime.GetEventSheetManager().GetEventGroupByName(e);n&&(0===t?n.SetGroupActive(!1):1===t?n.SetGroupActive(!0):n.SetGroupActive(!n.IsGroupActive()))},SetTimescale(e){this._runtime.SetTimeScale(e)},SetObjectTimescale(e,t){if(t<0&&(t=0),!e)return;const n=e.GetCurrentSol().GetInstances();for(const e of n)e.SetTimeScale(t)},RestoreObjectTimescale(e){if(!e)return;const t=e.GetCurrentSol().GetInstances();for(const e of t)e.RestoreTimeScale()},Wait(e,t){if(e<0)return;const n=this._runtime.GetEventSheetManager().AddScheduledWait();return t?n.InitTimer(e):n.InitWallTimer(e),!0},WaitForSignal(e){return this._runtime.GetEventSheetManager().AddScheduledWait().InitSignal(e),!0},WaitForPreviousActions(){const e=this._runtime.GetEventSheetManager();return e.AddScheduledWait().InitPromise(e.GetPromiseForAllAsyncActions()),!0},Signal(e){this._runtime.GetEventSheetManager().Signal(e)},async SnapshotCanvas(e,t,n,s,r,o){const a=this._runtime.GetCanvasManager();a&&(this.UpdateRender(),await a.SnapshotCanvas(0===e?"image/png":"image/jpeg",t/100,n,s,r,o),await this._runtime.TriggerAsync(nE.Plugins.System.Cnds.OnCanvasSnapshot,null))},SetCanvasSize(e,t){if(e<=0||t<=0)return;this._runtime.SetViewportSize(e,t),this._runtime.GetCurrentLayout().BoundScrolling();const n=this._runtime.GetCanvasManager();n&&("off"===n.GetCurrentFullscreenMode()||this._runtime.SetOriginalViewportSize(e,t),n.SetSize(n.GetLastWidth(),n.GetLastHeight(),!0),this._runtime.UpdateRender())},SetFullscreenQuality(e){const t=this._runtime.GetCanvasManager();t&&"off"!==t.GetCurrentFullscreenMode()&&(t.SetFullscreenScalingQuality(0!==e?"high":"low"),t.SetSize(t.GetLastWidth(),t.GetLastHeight(),!0))},SaveState(e){this._runtime.SaveToSlot(e)},SaveStateJSON(){this._runtime.SaveToJsonString()},LoadState(e){this._runtime.LoadFromSlot(e)},LoadStateJSON(e){this._runtime.LoadFromJsonString(e)},SetHalfFramerateMode(e){},ResetPersisted(){for(const e of this._runtime.GetLayoutManager().GetAllLayouts())e.ResetPersistData()},SetPixelRounding(e){this._runtime.SetPixelRoundingEnabled(0!==e)},SetFramerateMinMax(e,t){this._runtime.SetMaxDt(1/e),this._runtime.SetMinDt(1/t)},SetDeltaTimeMinMax(e,t){this._runtime.SetMinDt(e),this._runtime.SetMaxDt(t)},SetFramerateMode(e){this._runtime._SetFramerateMode(["vsync","unlimited-tick","unlimited-frame"][e])},SortZOrderByInstVar(e,t){if(!e)return;const n=e.GetCurrentSol().GetInstances(),s=sE,r=rE,o=this._runtime.GetCurrentLayout(),a=e.IsFamily(),i=e.GetFamilyIndex();for(let e=0,o=n.length;e<o;++e){const o=n[e],l=o.GetWorldInfo();if(!l)continue;let d;d=a?o.GetInstanceVariableValue(t+o.GetObjectClass().GetFamilyInstanceVariableOffset(i)):o.GetInstanceVariableValue(t),s.push([l.GetLayer().GetIndex(),l.GetZIndex()]),r.push([o,d])}if(!s.length)return;s.sort(eE),r.sort(tE);let l=!1;for(let e=0,t=s.length;e<t;++e){const t=r[e][0],n=o.GetLayerByIndex(s[e][0]),a=s[e][1],i=n._GetInstances();i[a]!==t&&(i[a]=t,t.GetWorldInfo()._SetLayer(n,!0),n.SetZIndicesChanged(t),l=!0)}l&&this._runtime.UpdateRender(),nE.clearArray(sE),nE.clearArray(rE)},SetCollisionCellSize(e,t){e=Math.floor(e),t=Math.floor(t),e<=0||t<=0||!Number.isFinite(e)||!Number.isFinite(t)||this._runtime.GetCollisionEngine().SetCollisionCellSize(e,t)},GoToLayout(e){if(this._runtime.IsLoading())return;const t=this._runtime.GetLayoutManager();t.IsPendingChangeMainLayout()||t.ChangeMainLayout(e)},GoToLayoutByName(e){if(this._runtime.IsLoading())return;const t=this._runtime.GetLayoutManager();if(t.IsPendingChangeMainLayout())return;const n=t.GetLayoutByName(e);n&&t.ChangeMainLayout(n)},NextPrevLayout(e){if(this._runtime.IsLoading())return;const t=this._runtime.GetLayoutManager();if(t.IsPendingChangeMainLayout())return;const n=t.GetAllLayouts(),s=n.indexOf(t.GetMainRunningLayout());if(e&&0===s)return;if(!e&&s===n.length-1)return;const r=n[s+(e?-1:1)];t.ChangeMainLayout(r)},RestartLayout(){if(this._runtime.IsLoading())return;const e=this._runtime.GetLayoutManager();e.IsPendingChangeMainLayout()||(e.ChangeMainLayout(e.GetMainRunningLayout()),this._runtime.GetEventSheetManager().ResetAllGroupsInitialActivation())},SetLayerVisible(e,t){e&&e.SetVisible(t)},SetLayerInteractive(e,t){e&&e.SetInteractive(t)},SetLayerHTML(e,t){e&&e.SetIsHTMLElementsLayer(t)},SetLayerOpacity(e,t){e&&e.SetOpacity(t/100)},SetLayerScale(e,t){e&&e.SetOwnScale(t)},SetLayerScaleRate(e,t){e&&e.SetScaleRate(t)},SetLayerAngle(e,t){e&&e.SetAngle(nE.toRadians(+t))},SetLayerScroll(e,t,n){e&&(e.SetOwnScrollPositionEnabled(!0),e.SetScrollX(t),e.SetScrollY(n))},RestoreLayerScroll(e){e&&e.SetOwnScrollPositionEnabled(!1)},SetLayerParallax(e,t,n){e&&e.SetParallax(t/100,n/100)},SetLayerZElevation(e,t){e&&e.SetZElevation(+t)},SetLayerRenderingMode(e,t){e&&e.SetRenderAs3D(1===t)},SetLayerBackground(e,t){if(!e)return;aE.setFromRgbValue(t),aE.clamp();const n=e.GetBackgroundColor();n.equalsIgnoringAlpha(aE)||(n.copyRgb(aE),this.UpdateRender())},SetLayerTransparent(e,t){e&&e.SetTransparent(t)},SetLayerBlendMode(e,t){e&&e.SetBlendMode(t)},SetLayerEffectEnabled(e,t,n){if(!e)return;const s=e.GetEffectList().GetEffectTypeByName(n);if(!s)return;const r=1===t;s.IsActive()!==r&&(s.SetActive(r),e.UpdateActiveEffects(),this._runtime.UpdateRender())},SetLayerEffectParam(e,t,n,s){if(!e)return;const r=e.GetEffectList(),o=r.GetEffectTypeByName(t);if(!o)return;n=Math.floor(n);const a=o.GetShaderProgram().GetParameterType(n);a&&("color"===a?(aE.setFromRgbValue(s),s=aE):"percent"===a&&(s/=100),r.SetEffectParameter(o.GetIndex(),n,s)&&o.IsActive()&&this._runtime.UpdateRender())},SetLayerForceOwnTexture(e,t){e&&e.SetForceOwnTexture(t)},SetLayoutScale(e){this._runtime.GetCurrentLayout().SetScale(+e)},SetLayoutAngle(e){this._runtime.GetCurrentLayout().SetAngle(nE.toRadians(+e))},SetLayoutEffectEnabled(e,t){const n=this._runtime.GetCurrentLayout(),s=n.GetEffectList().GetEffectTypeByName(t);if(!s)return;const r=1===e;s.IsActive()!==r&&(s.SetActive(r),n.UpdateActiveEffects(),this._runtime.UpdateRender())},SetLayoutEffectParam(e,t,n){const s=this._runtime.GetCurrentLayout().GetEffectList(),r=s.GetEffectTypeByName(e);if(!r)return;t=Math.floor(t);const o=r.GetShaderProgram().GetParameterType(t);o&&("color"===o?(aE.setFromRgbValue(n),n=aE):"percent"===o&&(n/=100),s.SetEffectParameter(r.GetIndex(),t,n)&&r.IsActive()&&this._runtime.UpdateRender())},SetLayoutVanishingPoint(e,t){this._runtime.GetCurrentLayout().SetVanishingPointXY(e/100,t/100)},SetLayoutProjection(e){const t=this._runtime.GetCurrentLayout();0===e?t.SetPerspectiveProjection():t.SetOrthographicProjection()},ScrollX(e){this._runtime.GetCurrentLayout().SetScrollX(e)},ScrollY(e){this._runtime.GetCurrentLayout().SetScrollY(e)},Scroll(e,t){const n=this._runtime.GetCurrentLayout();n.SetScrollX(e),n.SetScrollY(t)},ScrollToObject(e){if(!e)return;const t=e.GetFirstPicked();if(!t)return;const n=t.GetWorldInfo();if(!n)return;const s=this._runtime.GetCurrentLayout();s.SetScrollX(n.GetX()),s.SetScrollY(n.GetY())},AddLayer(e,t,n){const s=this._runtime.GetCurrentLayout();try{s.AddLayer(e,t,n)}catch(e){console.warn("[Construct] Cannot add layer: ",e)}},MoveLayer(e,t,n){if(!e)return;const s=this._runtime.GetCurrentLayout();try{s.MoveLayer(e,t,n)}catch(e){console.warn("[Construct] Cannot move layer: ",e)}},RemoveLayer(e){e&&this._runtime.GetCurrentLayout().RemoveLayer(e)},RemoveAllDynamicLayers(){this._runtime.GetCurrentLayout().RemoveAllDynamicLayers()},async LoadObjectTextures(e){const t=this._runtime.GetMainRunningLayout();if(!t||!e||this._runtime.IsLoading())return;const n=e.IsFamily()?e.GetFamilyMembers():[e];await this._LoadTexturesForObjectClasses(t,n)},async LoadObjectTexturesByName(e){await nE.Plugins.System.Acts.LoadObjectTextures.call(this,this._runtime.GetObjectClassByName(e))},UnloadObjectTextures(e){const t=this._runtime.GetMainRunningLayout();if(!t||!e)return;const n=e.IsFamily()?e.GetFamilyMembers():[e];this._UnloadTexturesForObjectClasses(t,n)},UnloadObjectTexturesByName(e){nE.Plugins.System.Acts.UnloadObjectTextures.call(this,this._runtime.GetObjectClassByName(e))},UnloadUnusedTextures(){const e=this._runtime.GetMainRunningLayout();if(!e)return;const t=e._GetTextureLoadedObjectTypes();this._UnloadTexturesForObjectClasses(e,t)},async LoadLayoutTextures(e){const t=this._runtime.GetMainRunningLayout();e&&t&&!this._runtime.IsLoading()&&await this._LoadTexturesForObjectClasses(t,e._GetInitialObjectClasses())},async LoadLayoutTexturesByName(e){const t=this._runtime.GetMainRunningLayout(),n=this._runtime.GetLayoutManager().GetLayoutByName(e);n&&t&&!this._runtime.IsLoading()&&await this._LoadTexturesForObjectClasses(t,n._GetInitialObjectClasses())},SetFunctionReturnValue(e){const t=this._eventStack.GetCurrentExpFuncStackFrame();if(t)switch(t.GetFunctionReturnType()){case 1:"number"==typeof e&&t.SetFunctionReturnValue(e);break;case 2:"string"==typeof e&&t.SetFunctionReturnValue(e);break;case 3:t.SetFunctionReturnValue(e)}},MapFunction(e,t,n){const s=this._GetFunctionMap(e.toLowerCase(),!0),r=s.strMap,o=t.toLowerCase();r.has(o)&&console.warn(`[Construct] Function map '${e}' string '${t}' already in map; overwriting entry`);const a=nE.first(r.values())||s.defaultFunc;a&&0!==a.GetReturnType()!=(0!==n.GetReturnType())?console.error(`[Construct] Function map '${e}' string '${t}' function return type not compatible with other functions in the map; entry ignored`):r.set(o,n)},MapFunctionDefault(e,t){const n=this._GetFunctionMap(e.toLowerCase(),!0);n.defaultFunc&&console.warn(`[Construct] Function map '${e}' already has a default; overwriting entry`);const s=nE.first(n.strMap.values())||n.defaultFunc;s&&0!==s.GetReturnType()!=(0!==t.GetReturnType())?console.error(`[Construct] Function map '${e}' default: function return type not compatible with other functions in the map; entry ignored`):n.defaultFunc=t},CallMappedFunction(e,t,n){const s=this._runtime,r=s.IsDebugging()?iE:null;n=Math.floor(n);const o=this._GetFunctionMap(e.toLowerCase(),!1);if(!o)return console.warn(`[Construct] Call mapped function: map name '${e}' not found; call ignored`),r;let a=o.strMap.get(t.toLowerCase());if(!a){if(!o.defaultFunc)return console.warn(`[Construct] Call mapped function: no function associated with map '${e}' string '${t}'; call ignored (consider setting a default)`),r;a=o.defaultFunc,n=0}if(!a.IsEnabled())return r;if(0!==a.GetReturnType())return console.warn(`[Construct] Call mapped function: map '${e}' string '${t}' has a return type so cannot be called`),r;const i=s.GetEventSheetManager(),l=i.GetCurrentEvent(),d=l.GetSolModifiersIncludingParents(),c=d.length>0;c&&(a.IsCopyPicked()?i.PushCopySol(d):i.PushCleanSol(d));const u=[],h=i.FindFirstFunctionBlockParent(l);if(h){const e=h.GetFunctionParameters();for(let t=n,s=e.length;t<s;++t)u.push(e[t].GetValue())}const _=a.GetFunctionParameters();for(let e=u.length,t=_.length;e<t;++e)u.push(_[e].GetInitialValue());return s.IsDebugging()?this._DebugDoCallMappedFunction(i,a,u,c,d):this._DoCallMappedFunction(i,a,u,c,d)}}}{const lE=self.C3;lE.Plugins.System.Exps={int:function(e){return"string"==typeof e&&(e=parseInt(e,10),isNaN(e)&&(e=0)),Math.floor(e)},float:function(e){return"string"==typeof e&&(e=parseFloat(e),isNaN(e)&&(e=0)),e},str:e=>e.toString(),len:e=>"string"==typeof e?e.length:0,random(e,t){return void 0===t?this._runtime.Random()*e:this._runtime.Random()*(t-e)+e},choose(...e){return e[Math.floor(this._runtime.Random()*e.length)]},chooseindex:(e,...t)=>("number"!=typeof e&&(e=0),t[e=lE.clamp(Math.floor(e),0,t.length-1)]),pi:()=>Math.PI,infinity:()=>1/0,sqrt:e=>Math.sqrt(e),abs:e=>Math.abs(e),round:e=>Math.round(e),roundtodp(e,t){t=Math.max(Math.floor(t),0);const n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n},floor:e=>Math.floor(e),ceil:e=>Math.ceil(e),sign:e=>Math.sign(e),sin:e=>Math.sin(lE.toRadians(e)),cos:e=>Math.cos(lE.toRadians(e)),tan:e=>Math.tan(lE.toRadians(e)),asin:e=>lE.toDegrees(Math.asin(e)),acos:e=>lE.toDegrees(Math.acos(e)),atan:e=>lE.toDegrees(Math.atan(e)),exp:e=>Math.exp(e),ln:e=>Math.log(e),log10:e=>Math.log10(e),max(...e){let t=e[0];"number"!=typeof t&&(t=0);for(let n=1,s=e.length;n<s;++n){let s=e[n];"number"==typeof s&&t<s&&(t=s)}return t},min(...e){let t=e[0];"number"!=typeof t&&(t=0);for(let n=1,s=e.length;n<s;++n){let s=e[n];"number"==typeof s&&t>s&&(t=s)}return t},clamp:(e,t,n)=>lE.clamp(e,t,n),distance:(e,t,n,s)=>lE.distanceTo(e,t,n,s),angle:(e,t,n,s)=>lE.toDegrees(lE.angleTo(e,t,n,s)),lerp:(e,t,n)=>lE.lerp(e,t,n),unlerp:(e,t,n)=>lE.unlerp(e,t,n),qarp:(e,t,n,s)=>lE.qarp(e,t,n,s),cubic:(e,t,n,s,r)=>lE.cubic(e,t,n,s,r),cosp:(e,t,n)=>lE.cosp(e,t,n),anglediff:(e,t)=>lE.toDegrees(lE.angleDiff(lE.toRadians(e),lE.toRadians(t))),anglelerp:(e,t,n)=>lE.toDegrees(lE.angleLerp(lE.toRadians(e),lE.toRadians(t),n)),anglerotate:(e,t,n)=>lE.toDegrees(lE.angleRotate(lE.toRadians(e),lE.toRadians(t),lE.toRadians(n))),setbit:(e,t,n)=>(e|=0)&~(1<<(t|=0))|(n=0!==n?1:0)<<t,togglebit:(e,t)=>(e|=0)^1<<t,getbit:(e,t)=>(e|=0)&1<<(t|=0)?1:0,newline:()=>"\n",uppercase:e=>"string"==typeof e?e.toUpperCase():"",lowercase:e=>"string"==typeof e?e.toLowerCase():"",left:(e,t)=>"string"==typeof e?e.substr(0,t):"",mid:(e,t,n)=>"string"!=typeof e?"":n<0?e.substr(t):e.substr(t,n),right:(e,t)=>"string"==typeof e?e.substr(Math.max(e.length-t,0)):"",trim:e=>"string"==typeof e?e.trim():"",tokenat(e,t,n){if("string"!=typeof e||"string"!=typeof n)return"";let s=e.split(n);return(t=Math.floor(t))<0||t>=s.length?"":s[t]},tokencount:(e,t)=>"string"==typeof e&&"string"==typeof t&&e.length?e.split(t).length:0,find:(e,t)=>"string"==typeof e&&"string"==typeof t?e.search(new RegExp(lE.EscapeRegex(t),"i")):-1,findcase:(e,t)=>"string"==typeof e&&"string"==typeof t?e.search(new RegExp(lE.EscapeRegex(t),"")):-1,replace:(e,t,n)=>"string"==typeof e&&"string"==typeof t&&"string"==typeof n?e.replace(new RegExp(lE.EscapeRegex(t),"gi"),n):"string"==typeof e?e:"",stringsub(e,...t){let n=e;for(let e=0,s=t.length;e<s;++e)n=n.replaceAll(`{${e}}`,t[e].toString());return n},regexsearch(e,t,n){const s=this.GetRegex(t,n);return e?e.search(s):-1},regexreplace(e,t,n,s){const r=this.GetRegex(t,n);return e?e.replace(r,s):""},regexmatchcount(e,t,n){const s=this.GetRegexMatches(e.toString(),t,n);return s?s.length:0},regexmatchat(e,t,n,s){s=Math.floor(s);const r=this.GetRegexMatches(e.toString(),t,n);return!r||s<0||s>=r.length?"":r[s]},zeropad(e,t){let n=e<0?"-":"";e<0&&(e=-e);const s=t-e.toString().length;return n+="0".repeat(Math.max(s,0)),n+e.toString()},urlencode:e=>encodeURIComponent(e),urldecode:e=>decodeURIComponent(e),dt(){return this._runtime._GetDtFast()},wallclockdt(){return this._runtime.GetDt1()},timescale(){return this._runtime.GetTimeScale()},wallclocktime(){return(Date.now()-this._runtime.GetStartTime())/1e3},unixtime:()=>Date.now(),time(){return this._runtime.GetGameTime()},tickcount(){return this._runtime.GetTickCount()},objectcount(){return this._runtime.GetObjectCount()},fps(){return this._runtime.GetFramesPerSecond()},cpuutilisation(){return this._runtime.GetMainThreadTime()},gpuutilisation(){return this._runtime.GetGPUUtilisation()},windowwidth(){return this._runtime.GetCanvasManager().GetDeviceWidth()},windowheight(){return this._runtime.GetCanvasManager().GetDeviceHeight()},originalwindowwidth(){return this._runtime.GetOriginalViewportWidth()},originalwindowheight(){return this._runtime.GetOriginalViewportHeight()},originalviewportwidth(){return this._runtime.GetOriginalViewportWidth()},originalviewportheight(){return this._runtime.GetOriginalViewportHeight()},scrollx(){return this._runtime.GetCurrentLayout().GetScrollX()},scrolly(){return this._runtime.GetCurrentLayout().GetScrollY()},layoutname(){return this._runtime.GetCurrentLayout().GetName()},layoutscale(){return this._runtime.GetCurrentLayout().GetScale()},layoutangle(){return lE.toDegrees(this._runtime.GetCurrentLayout().GetAngle())},layoutwidth(){return this._runtime.GetCurrentLayout().GetWidth()},layoutheight(){return this._runtime.GetCurrentLayout().GetHeight()},vanishingpointx(){return 100*this._runtime.GetCurrentLayout().GetVanishingPointX()},vanishingpointy(){return 100*this._runtime.GetCurrentLayout().GetVanishingPointY()},viewportleft(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetViewport3D().getLeft():0},viewporttop(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetViewport3D().getTop():0},viewportright(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetViewport3D().getRight():0},viewportbottom(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetViewport3D().getBottom():0},viewportwidth(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetViewport3D().width():0},viewportheight(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetViewport3D().height():0},viewportmidx(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);if(t){const e=t.GetViewport3D();return(e.getLeft()+e.getRight())/2}return 0},viewportmidy(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);if(t){const e=t.GetViewport3D();return(e.getTop()+e.getBottom())/2}return 0},canvastolayerx(e,t,n){const s=this._runtime.GetCurrentLayout().GetLayer(e);return s?s.CanvasCssToLayer(t,n)[0]:0},canvastolayery(e,t,n){const s=this._runtime.GetCurrentLayout().GetLayer(e);return s?s.CanvasCssToLayer(t,n)[1]:0},layertocanvasx(e,t,n){const s=this._runtime.GetCurrentLayout().GetLayer(e);return s?s.LayerToCanvasCss(t,n)[0]:0},layertocanvasy(e,t,n){const s=this._runtime.GetCurrentLayout().GetLayer(e);return s?s.LayerToCanvasCss(t,n)[1]:0},layertolayerx(e,t,n,s){const r=this._runtime.GetCurrentLayout(),o=r.GetLayer(e),a=r.GetLayer(t);if(!o||!a||o===a)return n;const[i,l]=o.LayerToCanvasCss(n,s);return a.CanvasCssToLayer(i,l)[0]},layertolayery(e,t,n,s){const r=this._runtime.GetCurrentLayout(),o=r.GetLayer(e),a=r.GetLayer(t);if(!o||!a||o===a)return s;const[i,l]=o.LayerToCanvasCss(n,s);return a.CanvasCssToLayer(i,l)[1]},layerscale(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetOwnScale():0},layerangle(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?lE.toDegrees(t.GetOwnAngle()):0},layeropacity(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?100*t.GetOpacity():0},layerscalerate(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetScaleRate():0},layerscrollx(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetScrollX():0},layerscrolly(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetScrollY():0},layerparallaxx(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?100*t.GetParallaxX():0},layerparallaxy(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?100*t.GetParallaxY():0},layerzelevation(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetZElevation():0},layerindex(e){const t=this._runtime.GetCurrentLayout().GetLayer(e);return t?t.GetIndex():-1},canvassnapshot(){const e=this._runtime.GetCanvasManager();return e?e.GetCanvasSnapshotUrl():""},loopindex(e){const t=this._loopStack;if(!t.IsInLoop())return 0;if(e){const n=t.FindByName(e);return n?n.GetIndex():0}return t.GetCurrent().GetIndex()},savestatejson(){return this._runtime.GetLastSaveJsonString()},callmapped(e,t,...n){const s=this._GetFunctionMap(e.toLowerCase(),!1);if(!s)return console.warn(`[Construct] Call mapped function: map name '${e}' not found; returning 0`),0;let r=s.strMap.get(t.toLowerCase());if(!r){if(!s.defaultFunc)return console.warn(`[Construct] Call mapped function: no function associated with map '${e}' string '${t}'; returning 0 (consider setting a default)`),0;r=s.defaultFunc}const o=r.GetReturnType(),a=r.GetDefaultReturnValue();if(0===o)return console.warn(`[Construct] Call mapped function: map '${e}' string '${t}' has no return type so cannot be called from an expression; returning 0`),0;if(!r.IsEnabled())return a;const i=this._runtime.GetEventSheetManager(),l=i.GetCurrentEvent().GetSolModifiersIncludingParents(),d=l.length>0;d&&(r.IsCopyPicked()?i.PushCopySol(l):i.PushCleanSol(l));const c=r.GetFunctionParameters();for(let e=n.length,t=c.length;e<t;++e)n.push(c[e].GetInitialValue());const u=r.GetEventBlock(),h=u.RunAsExpressionFunctionCall(u.GetSolModifiersIncludingParents(),r.IsCopyPicked(),o,a,...n);return d&&i.PopSol(l),h},loadingprogress(){return this._runtime.GetAssetManager().GetLoadProgress()},imageloadingprogress(){return this.GetImageLoadingProgress()},renderer(){return this._runtime.GetWebGPURenderer()?"webgpu":"webgl"},rendererdetail(){return this._runtime.GetWebGPURenderer()?this._runtime.GetWebGPURenderer().GetAdapterInfoString():this._runtime.GetWebGLRenderer().GetUnmaskedRenderer()},imagememoryusage(){let e=this._runtime.GetRenderer().GetEstimatedTextureMemoryUsage();return Math.round(100*e/1048576)/100},rgb:(e,t,n)=>lE.PackRGB(e,t,n),rgbex:(e,t,n)=>lE.PackRGBEx(e/100,t/100,n/100),rgba:(e,t,n,s)=>lE.PackRGBAEx(e/100,t/100,n/100,s/100),rgbex255:(e,t,n)=>lE.PackRGBEx(e/255,t/255,n/255),rgba255:(e,t,n,s)=>lE.PackRGBAEx(e/255,t/255,n/255,s/255),projectname(){return this._runtime.GetProjectName()},projectversion(){return this._runtime.GetProjectVersion()},projectid(){return this._runtime.GetAppId()},projectuniqueid(){return this._runtime.GetProjectUniqueId()},currenteventsheetname(){return this._runtime.GetCurrentEvent().GetEventSheet().GetName()},currenteventnumber(){return this._runtime.GetCurrentEvent().GetDisplayNumber()}}}{const dE=self.C3;dE.Plugins.Browser=class extends dE.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const cE=self.C3;cE.Plugins.Browser.Type=class extends cE.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const uE=self.C3,hE="browser";uE.Plugins.Browser.Instance=class extends uE.SDKInstanceBase{constructor(e,t){super(e,hE),this._initLocationStr="",this._isOnline=!1,this._referrer="",this._docTitle="",this._isCookieEnabled=!1,this._screenWidth=0,this._screenHeight=0,this._windowOuterWidth=0,this._windowOuterHeight=0,this._windowHasFocus=!1,this._isConstructArcade=!1,this._cssStyleMap=new Map,this._isInstallAvailable=!1,this._installResult="",this._isWarnOnCloseEnabled=!1,this.AddDOMMessageHandlers([["online-state",e=>this._OnOnlineStateChanged(e)],["backbutton",()=>this._OnBackButton()],["sw-message",e=>this._OnSWMessage(e)],["hashchange",e=>this._OnHashChange(e)],["install-available",()=>this._OnInstallAvailable()],["app-installed",e=>this._OnAppInstalled(e)]]);const n=this.GetRuntime().Dispatcher();this._disposables=new uE.CompositeDisposable(uE.Disposable.From(n,"afterfirstlayoutstart",()=>this._OnAfterFirstLayoutStart()),uE.Disposable.From(n,"window-resize",()=>this._OnWindowResize()),uE.Disposable.From(n,"window-focus",()=>this._OnWindowFocus()),uE.Disposable.From(n,"window-blur",()=>this._OnWindowBlur()),uE.Disposable.From(n,"suspend",()=>this._OnSuspend()),uE.Disposable.From(n,"resume",()=>this._OnResume())),this._runtime.AddLoadPromise(this.PostToDOMAsync("get-initial-state",{exportType:this._runtime.GetExportType()}).then(e=>{this._initLocationStr=e.location,this._isOnline=e.isOnline,this._referrer=e.referrer,this._docTitle=e.title,this._isCookieEnabled=e.isCookieEnabled,this._screenWidth=e.screenWidth,this._screenHeight=e.screenHeight,this._windowOuterWidth=e.windowOuterWidth,this._windowOuterHeight=e.windowOuterHeight,this._windowHasFocus=e.windowHasFocus,this._isConstructArcade=e.isConstructArcade}))}Release(){super.Release()}_OnAfterFirstLayoutStart(){this.PostToDOM("ready-for-sw-messages")}async _OnOnlineStateChanged(e){const t=!!e.isOnline;this._isOnline!==t&&(this._isOnline=t,this._isOnline?await this.TriggerAsync(uE.Plugins.Browser.Cnds.OnOnline):await this.TriggerAsync(uE.Plugins.Browser.Cnds.OnOffline))}async _OnWindowResize(){await this.TriggerAsync(uE.Plugins.Browser.Cnds.OnResize)}async _OnWindowFocus(){this._windowHasFocus=!0,await this.TriggerAsync(uE.Plugins.Browser.Cnds.OnWindowFocus)}async _OnWindowBlur(){this._windowHasFocus=!1,await this.TriggerAsync(uE.Plugins.Browser.Cnds.OnWindowBlur)}_OnSuspend(){this.Trigger(uE.Plugins.Browser.Cnds.OnPageHidden)}_OnResume(){this.Trigger(uE.Plugins.Browser.Cnds.OnPageVisible)}async _OnBackButton(){await this.TriggerAsync(uE.Plugins.Browser.Cnds.OnBackButton)}_OnSWMessage(e){const t=e.type;"downloading-update"===t?this.Trigger(uE.Plugins.Browser.Cnds.OnUpdateFound):"update-ready"===t||"update-pending"===t?this.Trigger(uE.Plugins.Browser.Cnds.OnUpdateReady):"offline-ready"===t&&this.Trigger(uE.Plugins.Browser.Cnds.OnOfflineReady)}_OnHashChange(e){this._initLocationStr=e.location,this.Trigger(uE.Plugins.Browser.Cnds.OnHashChange)}_OnInstallAvailable(){this._isInstallAvailable=!0,this.Trigger(uE.Plugins.Browser.Cnds.OnInstallAvailable)}_OnAppInstalled(e){this._isInstallAvailable=!1,this.Trigger(uE.Plugins.Browser.Cnds.OnAppInstalled)}_IsWarnOnCloseEnabled(){return this._isWarnOnCloseEnabled}_SetWarnOnCloseEnabled(e){e=!!e,this._isWarnOnCloseEnabled!==e&&(this._isWarnOnCloseEnabled=e,this.PostToDOM("set-warn-on-close",{enabled:e}))}GetDebuggerProperties(){const e="plugins.browser.debugger";return[{title:"plugins.browser.name",properties:[{name:e+".user-agent",value:navigator.userAgent},{name:e+".is-online",value:this._isOnline},{name:e+".is-fullscreen",value:this._runtime.GetCanvasManager().IsDocumentFullscreen()}]}]}}}{const _E=self.C3;_E.Plugins.Browser.Cnds={IsOnline(){return this._isOnline},OnOnline:()=>!0,OnOffline:()=>!0,OnResize:()=>!0,OnWindowFocus:()=>!0,OnWindowBlur:()=>!0,WindowHasFocus(){return this._windowHasFocus},CookiesEnabled(){return this._isCookieEnabled},IsFullscreen(){return this._runtime.GetCanvasManager().IsDocumentFullscreen()},OnBackButton:()=>!0,IsPortraitLandscape(e){return(this._runtime.GetCanvasManager().GetLastWidth()<=this._runtime.GetCanvasManager().GetLastHeight()?0:1)===e},OnUpdateFound:()=>!0,OnUpdateReady:()=>!0,OnOfflineReady:()=>!0,OnHashChange:()=>!0,OnInstallAvailable:()=>!0,IsInstallAvailable(){return this._isInstallAvailable},OnInstallResult(e){switch(e){case 0:return"accepted"===this._installResult;case 1:return"dismissed"===this._installResult;case 2:return"error"===this._installResult;case 3:return!0;default:return!1}},OnAppInstalled:()=>!0,CompareDisplayMode(e){const t=this._runtime.GetCanvasManager().GetCssDisplayMode();switch(e){case 0:return"browser"===t;case 1:return"minimal-ui"===t;case 2:return"standalone"===t;case 3:return"fullscreen"===t;default:return!1}},IsWarnOnCloseEnabled(){return this._IsWarnOnCloseEnabled()},PageVisible(){return!this._runtime.IsSuspended()},OnPageHidden:()=>!0,OnPageVisible:()=>!0,HasJava:()=>!1,IsDownloadingUpdate:()=>!1,OnMenuButton:()=>!1,OnSearchButton:()=>!1,IsMetered:()=>!1,IsCharging:()=>!0,SupportsFullscreen:()=>!0}}{const C3=self.C3,ORIENTATIONS=["portrait","landscape","portrait-primary","portrait-secondary","landscape-primary","landscape-secondary"];C3.Plugins.Browser.Acts={Alert(e){this.PostToDOM("alert",{message:e.toString()})},Close(){this._isConstructArcade||(this._runtime.IsDebug()?self.C3Debugger.CloseWindow():this.PostToDOM("close"))},Focus(){this.PostToDOM("set-focus",{isFocus:!0})},Blur(){this.PostToDOM("set-focus",{isFocus:!1})},GoBack(){this._isConstructArcade||this.PostToDOM("navigate",{type:"back"})},GoForward(){this._isConstructArcade||this.PostToDOM("navigate",{type:"forward"})},GoHome(){},Reload(){this._isConstructArcade||(this._runtime.IsDebug()?this._runtime.PostToDebugger({type:"reload"}):this.PostToDOM("navigate",{type:"reload"}))},GoToURL(e,t){this._PostToDOMMaybeSync("navigate",{type:"url",url:e,target:t,exportType:this._runtime.GetExportType()})},GoToURLWindow(e,t){this._PostToDOMMaybeSync("navigate",{type:"new-window",url:e,tag:t,exportType:this._runtime.GetExportType()})},RequestFullScreen(e,t){e>=2&&(e+=1),6===e&&(e=2),1===e&&(e=0);const n=C3.CanvasManager._FullscreenModeNumberToString(e);this._runtime.GetCanvasManager().SetDocumentFullscreenMode(n),this._PostToDOMMaybeSync("request-fullscreen",{navUI:t})},CancelFullScreen(){this._PostToDOMMaybeSync("exit-fullscreen")},Vibrate(e){const t=e.split(",");for(let e=0,n=t.length;e<n;++e)t[e]=parseInt(t[e],10);this._PostToDOMMaybeSync("vibrate",{pattern:t})},async InvokeDownload(e,t){if(!e||!t)return;const n=await this._runtime.GetAssetManager().GetProjectFileUrl(e);this._runtime.InvokeDownload(n,t)},InvokeDownloadString(e,t,n){if(!n)return;const s=`data:${t},${encodeURIComponent(e)}`;this._runtime.InvokeDownload(s,n)},ConsoleLog(e,t){t=t.toString(),0===e?console.log(t):1===e?console.warn(t):2===e&&console.error(t)},ConsoleGroup(e){console.group(e)},ConsoleGroupEnd(){console.groupEnd()},ExecJs(jsStr){try{eval(jsStr)}catch(e){console.error("Error executing JavaScript: ",e)}},LockOrientation(e){if((e=Math.floor(e))<0||e>=ORIENTATIONS.length)return;const t=ORIENTATIONS[e];this._PostToDOMMaybeSync("lock-orientation",{orientation:t})},UnlockOrientation(){this._PostToDOMMaybeSync("unlock-orientation")},LoadStyleSheet(e){this._runtime.GetAssetManager().LoadStyleSheet(e)},async SetDocumentCSSStyle(e,t,n,s){await this.PostToDOMAsync("set-document-css-style",{prop:C3.CSSToCamelCase(e),value:t,selector:n,"is-all":0!==s})},async GetDocumentCSSStyle(e,t,n){const s=await this.PostToDOMAsync("get-document-css-style",{prop:e,selector:t});s.isOk&&this._cssStyleMap.set(n.toLowerCase(),s.result.trim())},SetHash(e){this.PostToDOM("set-hash",{hash:e})},SetWindowSize(e,t){this.PostToDOM("set-window-size",{windowWidth:e,windowHeight:t})},SetWindowPosition(e,t){this.PostToDOM("set-window-position",{windowX:e,windowY:t})},async RequestInstall(){const e=await this.PostToDOMAsync("request-install");this._installResult=e.result,this.Trigger(C3.Plugins.Browser.Cnds.OnInstallResult)},SetWarnOnClose(e){this._SetWarnOnCloseEnabled(e)}}}{const C3=self.C3;C3.Plugins.Browser.Exps={URL(){return this._runtime.IsInWorker()?this._initLocationStr:location.toString()},Protocol(){return this._runtime.IsInWorker()?new URL(this._initLocationStr).protocol:location.protocol},Domain(){return this._runtime.IsInWorker()?new URL(this._initLocationStr).hostname:location.hostname},Port(){return this._runtime.IsInWorker()?new URL(this._initLocationStr).port:location.port},PathName(){return this._runtime.IsInWorker()?new URL(this._initLocationStr).pathname:location.pathname},Hash(){return this._runtime.IsInWorker()?new URL(this._initLocationStr).hash:location.hash},QueryString(){return this._runtime.IsInWorker()?new URL(this._initLocationStr).search:location.search},QueryParam(e){const t=this._runtime.IsInWorker()?new URL(this._initLocationStr).search:location.search,n=RegExp("[?&]"+e+"=([^&]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):""},Referrer(){return this._referrer},Title(){return this._docTitle},Language:()=>navigator.language,Platform:()=>navigator.platform,UserAgent:()=>navigator.userAgent,ExecJS(jsStr){let result=0;try{result=eval(jsStr)}catch(e){console.error("Error executing JavaScript: ",e)}return"number"==typeof result||"string"==typeof result?result:"boolean"==typeof result&&result?1:0},CSSStyleValue(e){return this._cssStyleMap.get(e)||""},Name:()=>navigator.appName,Version:()=>navigator.appVersion,Product:()=>navigator.product,Vendor:()=>navigator.vendor,BatteryLevel:()=>1,BatteryTimeLeft:()=>1/0,Bandwidth(){const e=navigator.connection;return e&&(e.downlink||e.downlinkMax||e.bandwidth)||1/0},ConnectionType(){const e=navigator.connection;return e&&e.type||"unknown"},DevicePixelRatio:()=>self.devicePixelRatio,ScreenWidth(){return this._screenWidth},ScreenHeight(){return this._screenHeight},WindowInnerWidth(){return this._runtime.GetCanvasManager().GetLastWidth()},WindowInnerHeight(){return this._runtime.GetCanvasManager().GetLastHeight()},WindowOuterWidth(){return this._windowOuterWidth},WindowOuterHeight(){return this._windowOuterWidth},DisplayMode(){return this._runtime.GetCanvasManager().GetCssDisplayMode()},InstallResult(){return this._installResult}}}{const GE=self.C3;GE.Plugins.Touch=class extends GE.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{let pE=function(){return fE.GetSingleGlobalInstance().GetSdkInstance()};GetTouchSdkInstance=pE;const mE=self.C3,gE=self.C3X;mE.Plugins.Touch.Type=class extends mE.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}GetScriptInterfaceClass(){return self.ITouchObjectType}};let fE=null;self.ITouchObjectType=class extends self.IObjectType{constructor(e){super(e),fE=e,e.GetRuntime()._GetCommonScriptInterfaces().touch=this}requestPermission(e){gE.RequireString(e);const t=pE();if("orientation"===e)return t._RequestPermission(0);if("motion"===e)return t._RequestPermission(1);throw new Error("invalid type")}}}{const NE=self.C3,bE="touch";NE.Plugins.Touch.Instance=class extends NE.SDKInstanceBase{constructor(e,t){super(e,bE),this._touches=new Map,this._useMouseInput=!1,this._isMouseDown=!1,this._orientCompassHeading=0,this._orientAlpha=0,this._orientBeta=0,this._orientGamma=0,this._accX=0,this._accY=0,this._accZ=0,this._accWithGX=0,this._accWithGY=0,this._accWithGZ=0,this._triggerIndex=0,this._triggerId=0,this._triggerPermission=0,this._curTouchX=0,this._curTouchY=0,this._getTouchIndex=0,this._triggerType=0,this._permissionPromises=[],t&&(this._useMouseInput=t[0]),this.AddDOMMessageHandler("permission-result",e=>this._OnPermissionResult(e));const n=this.GetRuntime().Dispatcher();this._disposables=new NE.CompositeDisposable(NE.Disposable.From(n,"pointerdown",e=>this._OnPointerDown(e.data)),NE.Disposable.From(n,"pointermove",e=>this._OnPointerMove(e.data)),NE.Disposable.From(n,"pointerup",e=>this._OnPointerUp(e.data,!1)),NE.Disposable.From(n,"pointercancel",e=>this._OnPointerUp(e.data,!0)),NE.Disposable.From(n,"deviceorientation",e=>this._OnDeviceOrientation(e.data)),NE.Disposable.From(n,"deviceorientationabsolute",e=>this._OnDeviceOrientationAbsolute(e.data)),NE.Disposable.From(n,"devicemotion",e=>this._OnDeviceMotion(e.data)),NE.Disposable.From(n,"tick2",e=>this._OnTick2()))}Release(){this._touches.clear(),super.Release()}_OnPointerDown(e){if("mouse"===e.pointerType){if(!this._useMouseInput)return;this._isMouseDown=!0}const t=e.pointerId;if(this._touches.has(t))return;const n=e.pageX-this._runtime.GetCanvasClientX(),s=e.pageY-this._runtime.GetCanvasClientY(),r=performance.now(),o=this._touches.size;this._triggerIndex=o,this._triggerId=t;const a=NE.New(NE.Plugins.Touch.TouchInfo);a.Init(r,n,s,t,o),this._touches.set(t,a),this.Trigger(NE.Plugins.Touch.Cnds.OnNthTouchStart),this.Trigger(NE.Plugins.Touch.Cnds.OnTouchStart),this._curTouchX=n,this._curTouchY=s,this._triggerType=0,this.Trigger(NE.Plugins.Touch.Cnds.OnTouchObject)}_OnPointerMove(e){if("mouse"===e.pointerType&&!this._isMouseDown)return;const t=this._touches.get(e.pointerId);if(!t)return;const n=performance.now();if(n-t.GetTime()<2)return;const s=e.pageX-this._runtime.GetCanvasClientX(),r=e.pageY-this._runtime.GetCanvasClientY();t.Update(n,s,r,e.width,e.height,e.pressure)}_OnPointerUp(e,t){if("mouse"===e.pointerType){if(!this._isMouseDown)return;this._isMouseDown=!1}const n=performance.now(),s=e.pointerId,r=this._touches.get(s);if(r){if(this._triggerIndex=r.GetStartIndex(),this._triggerId=r.GetId(),!t){const t=e.pageX-this._runtime.GetCanvasClientX(),n=e.pageY-this._runtime.GetCanvasClientY();this._curTouchX=t,this._curTouchY=n,this._triggerType=1,this.Trigger(NE.Plugins.Touch.Cnds.OnTouchObject)}if(this.Trigger(NE.Plugins.Touch.Cnds.OnNthTouchEnd),this.Trigger(NE.Plugins.Touch.Cnds.OnTouchEnd),!t){const e=r.ShouldTriggerTap(n);"single-tap"===e?(this.Trigger(NE.Plugins.Touch.Cnds.OnTapGesture),this._curTouchX=r.GetX(),this._curTouchY=r.GetY(),this.Trigger(NE.Plugins.Touch.Cnds.OnTapGestureObject)):"double-tap"===e&&(this.Trigger(NE.Plugins.Touch.Cnds.OnDoubleTapGesture),this._curTouchX=r.GetX(),this._curTouchY=r.GetY(),this.Trigger(NE.Plugins.Touch.Cnds.OnDoubleTapGestureObject))}r.Release(),this._touches.delete(s)}}_RequestPermission(e){return this._PostToDOMMaybeSync("request-permission",{type:e}),new Promise((t,n)=>{this._permissionPromises.push({type:e,resolve:t,reject:n})})}_OnPermissionResult(e){const t=e.result,n=e.type;this._triggerPermission=n;const s=this._permissionPromises.filter(e=>e.type===n);for(const e of s)e.resolve(t?"granted":"denied");this._permissionPromises=this._permissionPromises.filter(e=>e.type!==n),t?(this.Trigger(NE.Plugins.Touch.Cnds.OnPermissionGranted),0===n?this._runtime.RequestDeviceOrientationEvent():this._runtime.RequestDeviceMotionEvent()):this.Trigger(NE.Plugins.Touch.Cnds.OnPermissionDenied)}_OnDeviceOrientation(e){"number"==typeof e.webkitCompassHeading?this._orientCompassHeading=e.webkitCompassHeading:e.absolute&&(this._orientCompassHeading=e.alpha),this._orientAlpha=e.alpha,this._orientBeta=e.beta,this._orientGamma=e.gamma}_OnDeviceOrientationAbsolute(e){this._orientCompassHeading=e.alpha}_OnDeviceMotion(e){const t=e.acceleration;t&&(this._accX=t.x,this._accY=t.y,this._accZ=t.z);const n=e.accelerationIncludingGravity;n&&(this._accWithGX=n.x,this._accWithGY=n.y,this._accWithGZ=n.z)}_OnTick2(){const e=performance.now();let t=0;for(const n of this._touches.values())n.GetTime()<=e-50&&n._SetLastTime(e),n.ShouldTriggerHold(e)&&(this._triggerIndex=n.GetStartIndex(),this._triggerId=n.GetId(),this._getTouchIndex=t,this.Trigger(NE.Plugins.Touch.Cnds.OnHoldGesture),this._curTouchX=n.GetX(),this._curTouchY=n.GetY(),this.Trigger(NE.Plugins.Touch.Cnds.OnHoldGestureObject),this._getTouchIndex=0),++t}_GetTouchByIndex(e){e=Math.floor(e);for(const t of this._touches.values()){if(0===e)return t;--e}return null}_IsClientPosOnCanvas(e,t){return e>=0&&t>=0&&e<this._runtime.GetCanvasCssWidth()&&t<this._runtime.GetCanvasCssHeight()}GetDebuggerProperties(){return[{title:"plugins.touch.debugger.touches",properties:[...this._touches.values()].map(e=>({name:"$"+e.GetId(),value:e.GetX()+", "+e.GetY()}))}]}}}{const SE=self.C3;SE.Plugins.Touch.Cnds={OnTouchStart:()=>!0,OnTouchEnd:()=>!0,IsInTouch(){return this._touches.size>0},OnTouchObject(e,t){return!!e&&t===this._triggerType&&!!this._IsClientPosOnCanvas(this._curTouchX,this._curTouchY)&&this._runtime.GetCollisionEngine().TestAndSelectCanvasPointOverlap(e,[[this._curTouchX,this._curTouchY]],!1)},IsTouchingObject(e){if(!e)return!1;const t=this._runtime.GetCurrentCondition().IsInverted(),n=[...this._touches.values()].filter(e=>this._IsClientPosOnCanvas(e.GetX(),e.GetY())).map(e=>[e.GetX(),e.GetY()]);return SE.xor(this._runtime.GetCollisionEngine().TestAndSelectCanvasPointOverlap(e,n,t),t)},CompareTouchSpeed(e,t,n){const s=this._GetTouchByIndex(e);return!!s&&SE.compare(s.GetSpeed(),t,n)},OrientationSupported:()=>!0,MotionSupported:()=>!0,CompareOrientation(e,t,n){this._runtime.RequestDeviceOrientationEvent();let s=0;return s=0===e?this._orientAlpha:1===e?this._orientBeta:this._orientGamma,SE.compare(s,t,n)},CompareAcceleration(e,t,n){this._runtime.RequestDeviceMotionEvent();let s=0;return s=0===e?this._accWithGX:1===e?this._accWithGY:2===e?this._accWithGZ:3===e?this._accX:4===e?this._accY:this._accZ,SE.compare(s,t,n)},OnNthTouchStart(e){return(e=Math.floor(e))===this._triggerIndex},OnNthTouchEnd(e){return(e=Math.floor(e))===this._triggerIndex},HasNthTouch(e){return e=Math.floor(e),this._touches.size>=e+1},OnHoldGesture:()=>!0,OnTapGesture:()=>!0,OnDoubleTapGesture:()=>!0,OnHoldGestureObject(e){return!!e&&!!this._IsClientPosOnCanvas(this._curTouchX,this._curTouchY)&&this._runtime.GetCollisionEngine().TestAndSelectCanvasPointOverlap(e,[[this._curTouchX,this._curTouchY]],!1)},OnTapGestureObject(e){return!!e&&!!this._IsClientPosOnCanvas(this._curTouchX,this._curTouchY)&&this._runtime.GetCollisionEngine().TestAndSelectCanvasPointOverlap(e,[[this._curTouchX,this._curTouchY]],!1)},OnDoubleTapGestureObject(e){return!!e&&!!this._IsClientPosOnCanvas(this._curTouchX,this._curTouchY)&&this._runtime.GetCollisionEngine().TestAndSelectCanvasPointOverlap(e,[[this._curTouchX,this._curTouchY]],!1)},OnPermissionGranted(e){return this._triggerPermission===e},OnPermissionDenied(e){return this._triggerPermission===e}}}self.C3.Plugins.Touch.Acts={RequestPermission(e){this._RequestPermission(e)}};{const xE=self.C3;xE.Plugins.Touch.Exps={TouchCount(){return this._touches.size},X(e){const t=this._GetTouchByIndex(this._getTouchIndex);return t?t.GetPositionForLayer(this._runtime.GetCurrentLayout(),e,!0):0},Y(e){const t=this._GetTouchByIndex(this._getTouchIndex);return t?t.GetPositionForLayer(this._runtime.GetCurrentLayout(),e,!1):0},XAt(e,t){const n=this._GetTouchByIndex(e);return n?n.GetPositionForLayer(this._runtime.GetCurrentLayout(),t,!0):0},YAt(e,t){const n=this._GetTouchByIndex(e);return n?n.GetPositionForLayer(this._runtime.GetCurrentLayout(),t,!1):0},XForID(e,t){const n=this._touches.get(e);return n?n.GetPositionForLayer(this._runtime.GetCurrentLayout(),t,!0):0},YForID(e,t){const n=this._touches.get(e);return n?n.GetPositionForLayer(this._runtime.GetCurrentLayout(),t,!1):0},AbsoluteX(){const e=this._GetTouchByIndex(0);return e?e.GetX():0},AbsoluteY(){const e=this._GetTouchByIndex(0);return e?e.GetY():0},AbsoluteXAt(e){const t=this._GetTouchByIndex(e);return t?t.GetX():0},AbsoluteYAt(e){const t=this._GetTouchByIndex(e);return t?t.GetY():0},AbsoluteXForID(e){const t=this._touches.get(e);return t?t.GetX():0},AbsoluteYForID(e){const t=this._touches.get(e);return t?t.GetY():0},SpeedAt(e){const t=this._GetTouchByIndex(e);return t?t.GetSpeed():0},SpeedForID(e){const t=this._touches.get(e);return t?t.GetSpeed():0},AngleAt(e){const t=this._GetTouchByIndex(e);return t?xE.toDegrees(t.GetAngle()):0},AngleForID(e){const t=this._touches.get(e);return t?xE.toDegrees(t.GetAngle()):0},CompassHeading(){return this._runtime.RequestDeviceOrientationEvent(),this._orientCompassHeading},Alpha(){return this._runtime.RequestDeviceOrientationEvent(),this._orientAlpha},Beta(){return this._runtime.RequestDeviceOrientationEvent(),this._orientBeta},Gamma(){return this._runtime.RequestDeviceOrientationEvent(),this._orientGamma},AccelerationXWithG(){return this._runtime.RequestDeviceMotionEvent(),this._accWithGX},AccelerationYWithG(){return this._runtime.RequestDeviceMotionEvent(),this._accWithGY},AccelerationZWithG(){return this._runtime.RequestDeviceMotionEvent(),this._accWithGZ},AccelerationX(){return this._runtime.RequestDeviceMotionEvent(),this._accX},AccelerationY(){return this._runtime.RequestDeviceMotionEvent(),this._accY},AccelerationZ(){return this._runtime.RequestDeviceMotionEvent(),this._accZ},TouchIndex(){return this._triggerIndex},TouchID(){return this._triggerId},WidthForID(e){const t=this._touches.get(e);return t?t.GetWidth():0},HeightForID(e){const t=this._touches.get(e);return t?t.GetHeight():0},PressureForID(e){const t=this._touches.get(e);return t?t.GetPressure():0}}}{const IE=self.C3,yE=15,EE=500,TE=333,CE=25;let ME=-1e3,VE=-1e3,BE=-1e4;IE.Plugins.Touch.TouchInfo=class extends IE.DefendedBase{constructor(){super(),this._pointerId=0,this._startIndex=0,this._startTime=0,this._time=0,this._lastTime=0,this._startX=0,this._startY=0,this._x=0,this._y=0,this._lastX=0,this._lastY=0,this._width=0,this._height=0,this._pressure=0,this._hasTriggeredHold=!1,this._isTooFarForHold=!1}Release(){}Init(e,t,n,s,r){this._pointerId=s,this._startIndex=r,this._time=e,this._lastTime=e,this._startTime=e,this._startX=t,this._startY=n,this._x=t,this._y=n,this._lastX=t,this._lastY=n}Update(e,t,n,s,r,o){this._lastTime=this._time,this._time=e,this._lastX=this._x,this._lastY=this._y,this._x=t,this._y=n,this._width=s,this._height=r,this._pressure=o,!this._isTooFarForHold&&IE.distanceTo(this._startX,this._startY,this._x,this._y)>=15&&(this._isTooFarForHold=!0)}GetId(){return this._pointerId}GetStartIndex(){return this._startIndex}GetTime(){return this._time}_SetLastTime(e){this._lastTime=e}GetX(){return this._x}GetY(){return this._y}GetSpeed(){const e=IE.distanceTo(this._x,this._y,this._lastX,this._lastY),t=(this._time-this._lastTime)/1e3;return t>0?e/t:0}GetAngle(){return IE.angleTo(this._lastX,this._lastY,this._x,this._y)}GetWidth(){return this._width}GetHeight(){return this._height}GetPressure(){return this._pressure}ShouldTriggerHold(e){return!this._hasTriggeredHold&&e-this._startTime>=500&&!this._isTooFarForHold&&IE.distanceTo(this._startX,this._startY,this._x,this._y)<15&&(this._hasTriggeredHold=!0,!0)}ShouldTriggerTap(e){return this._hasTriggeredHold?"":e-this._startTime<=333&&!this._isTooFarForHold&&IE.distanceTo(this._startX,this._startY,this._x,this._y)<15?e-BE<=666&&IE.distanceTo(ME,VE,this._x,this._y)<25?(ME=-1e3,VE=-1e3,BE=-1e4,"double-tap"):(ME=this._x,VE=this._y,BE=e,"single-tap"):""}GetPositionForLayer(e,t,n){if(void 0===t)return e.GetLayerByIndex(0).CanvasCssToLayer_DefaultTransform(this._x,this._y)[n?0:1];{const s=e.GetLayer(t);return s?s.CanvasCssToLayer(this._x,this._y)[n?0:1]:0}}}}{const OE=self.C3;OE.Plugins.Mouse=class extends OE.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{let vE=function(){return AE.GetSingleGlobalInstance().GetSdkInstance()};GetMouseSdkInstance=vE;const PE=self.C3,wE=self.C3X;PE.Plugins.Mouse.Type=class extends PE.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}GetScriptInterfaceClass(){return self.IMouseObjectType}};let AE=null;self.IMouseObjectType=class extends self.IObjectType{constructor(e){super(e),AE=e,e.GetRuntime()._GetCommonScriptInterfaces().mouse=this}getMouseX(e){return vE().GetMousePositionForLayer(e)[0]}getMouseY(e){return vE().GetMousePositionForLayer(e)[1]}getMousePosition(e){return vE().GetMousePositionForLayer(e)}isMouseButtonDown(e){return vE().IsMouseButtonDown(e)}setCursorStyle(e){wE.RequireString(e),vE().SetCursorStyle(e)}setCursorObjectClass(e){const t=vE(),n=t.GetRuntime()._UnwrapIObjectClass(e);t.SetCursorObjectClass(n)}}}{const DE=self.C3,RE="mouse";let FE=null;DE.Plugins.Mouse.Instance=class extends DE.SDKInstanceBase{constructor(e,t){super(e,RE),this._buttonMap=[!1,!1,!1,!1,!1],this._mouseXcanvas=0,this._mouseYcanvas=0,this._triggerButton=0,this._triggerType=0,this._triggerDir=0,this._wheelDeltaX=0,this._wheelDeltaY=0,this._wheelDeltaZ=0,this._hasPointerLock=!1,this._movementX=0,this._movementY=0,this.AddDOMMessageHandlers([["pointer-lock-change",e=>this._OnPointerLockChange(e)],["pointer-lock-error",e=>this._OnPointerLockError(e)]]);const n=this.GetRuntime().Dispatcher();this._disposables=new DE.CompositeDisposable(DE.Disposable.From(n,"pointermove",e=>this._OnPointerMove(e.data)),DE.Disposable.From(n,"pointerdown",e=>this._OnPointerDown(e.data)),DE.Disposable.From(n,"pointerup",e=>this._OnPointerUp(e.data)),DE.Disposable.From(n,"dblclick",e=>this._OnDoubleClick(e.data)),DE.Disposable.From(n,"wheel",e=>this._OnMouseWheel(e.data)),DE.Disposable.From(n,"window-blur",()=>this._OnWindowBlur()))}Release(){super.Release()}_OnPointerDown(e){"mouse"===e.pointerType&&(this._mouseXcanvas=e.pageX-this._runtime.GetCanvasClientX(),this._mouseYcanvas=e.pageY-this._runtime.GetCanvasClientY(),this._CheckButtonChanges(e.lastButtons,e.buttons))}_OnPointerMove(e){this._movementX=e.movementX,this._movementY=e.movementY,this.Trigger(DE.Plugins.Mouse.Cnds.OnMovement),this._movementX=0,this._movementY=0,"mouse"===e.pointerType&&(this._mouseXcanvas=e.pageX-this._runtime.GetCanvasClientX(),this._mouseYcanvas=e.pageY-this._runtime.GetCanvasClientY(),this._CheckButtonChanges(e.lastButtons,e.buttons))}_OnPointerUp(e){"mouse"===e.pointerType&&this._CheckButtonChanges(e.lastButtons,e.buttons)}_CheckButtonChanges(e,t){this._CheckButtonChange(e,t,1,0),this._CheckButtonChange(e,t,4,1),this._CheckButtonChange(e,t,2,2),this._CheckButtonChange(e,t,8,3),this._CheckButtonChange(e,t,16,4)}_CheckButtonChange(e,t,n,s){!(e&n)&&t&n?this._OnMouseDown(s):e&n&&!(t&n)&&this._OnMouseUp(s)}_OnMouseDown(e){this._buttonMap[e]=!0,this.Trigger(DE.Plugins.Mouse.Cnds.OnAnyClick),this._triggerButton=e,this._triggerType=0,this.Trigger(DE.Plugins.Mouse.Cnds.OnClick),this.Trigger(DE.Plugins.Mouse.Cnds.OnObjectClicked)}_OnMouseUp(e){this._buttonMap[e]&&(this._buttonMap[e]=!1,this._triggerButton=e,this.Trigger(DE.Plugins.Mouse.Cnds.OnRelease))}_OnDoubleClick(e){this._triggerButton=e.button,this._triggerType=1,this.Trigger(DE.Plugins.Mouse.Cnds.OnClick),this.Trigger(DE.Plugins.Mouse.Cnds.OnObjectClicked)}_OnMouseWheel(e){this._triggerDir=e.deltaY<0?1:0,this._wheelDeltaX=e.deltaX,this._wheelDeltaY=e.deltaY,this._wheelDeltaZ=e.deltaZ,this.Trigger(DE.Plugins.Mouse.Cnds.OnWheel)}_OnWindowBlur(){for(let e=0,t=this._buttonMap.length;e<t;++e){if(!this._buttonMap[e])return;this._buttonMap[e]=!1,this._triggerButton=e,this.Trigger(DE.Plugins.Mouse.Cnds.OnRelease)}}GetMousePositionForLayer(e){const t=this._runtime.GetMainRunningLayout(),n=this._mouseXcanvas,s=this._mouseYcanvas;if(void 0===e)return t.GetLayerByIndex(0).CanvasCssToLayer_DefaultTransform(n,s);{const r=t.GetLayer(e);return r?r.CanvasCssToLayer(n,s):[0,0]}}IsMouseButtonDown(e){return e=Math.floor(e),!!this._buttonMap[e]}_IsMouseOverCanvas(){return this._mouseXcanvas>=0&&this._mouseYcanvas>=0&&this._mouseXcanvas<this._runtime.GetCanvasCssWidth()&&this._mouseYcanvas<this._runtime.GetCanvasCssHeight()}SetCursorStyle(e){FE!==e&&(FE=e,this.PostToDOM("cursor",e))}async SetCursorObjectClass(e){if(DE.Platform.IsMobile||!e)return;const t=e.GetFirstPicked();if(!t)return;const n=t.GetWorldInfo(),s=t.GetCurrentImageInfo();if(!n||!s)return;if(FE===s)return;FE=s;const r=`url(${await s.ExtractImageToBlobURL()}) ${Math.round(n.GetOriginX()*s.GetWidth())} ${Math.round(n.GetOriginY()*s.GetHeight())}, auto`;this.PostToDOM("cursor",r)}_OnPointerLockChange(e){this._UpdatePointerLockState(e["has-pointer-lock"])}_OnPointerLockError(e){this._UpdatePointerLockState(e["has-pointer-lock"]),this.Trigger(DE.Plugins.Mouse.Cnds.OnPointerLockError)}_UpdatePointerLockState(e){this._hasPointerLock!==e&&(this._hasPointerLock=e,this._hasPointerLock?this.Trigger(DE.Plugins.Mouse.Cnds.OnPointerLocked):this.Trigger(DE.Plugins.Mouse.Cnds.OnPointerUnlocked))}GetDebuggerProperties(){const e="plugins.mouse";return[{title:e+".name",properties:[{name:e+".debugger.absolute-position",value:this._mouseXcanvas+","+this._mouseYcanvas},{name:e+".debugger.left-button",value:this._buttonMap[0]},{name:e+".debugger.middle-button",value:this._buttonMap[1]},{name:e+".debugger.right-button",value:this._buttonMap[2]},{name:e+".debugger.button-4",value:this._buttonMap[3]},{name:e+".debugger.button-5",value:this._buttonMap[4]}]},{title:e+".debugger.position-on-each-layer",properties:this._runtime.GetMainRunningLayout().GetLayers().map(e=>({name:"$"+e.GetName(),value:e.CanvasCssToLayer(this._mouseXcanvas,this._mouseYcanvas).join(", ")}))}]}}}{const jE=self.C3;jE.Plugins.Mouse.Cnds={OnClick(e,t){return this._triggerButton===e&&this._triggerType===t},OnAnyClick:()=>!0,IsButtonDown(e){return this._buttonMap[e]},OnRelease(e){return this._triggerButton===e},IsOverObject(e){const t=this._runtime.GetCurrentCondition().IsInverted(),n=[];return this._IsMouseOverCanvas()&&n.push([this._mouseXcanvas,this._mouseYcanvas]),jE.xor(this._runtime.GetCollisionEngine().TestAndSelectCanvasPointOverlap(e,n,t),t)},OnObjectClicked(e,t,n){if(e!==this._triggerButton||t!==this._triggerType)return!1;if(!this._IsMouseOverCanvas())return!1;const s=this._mouseXcanvas,r=this._mouseYcanvas;return this._runtime.GetCollisionEngine().TestAndSelectCanvasPointOverlap(n,[[s,r]],!1)},OnWheel(e){return 2===e||this._triggerDir===e},OnPointerLocked:()=>!0,OnPointerUnlocked:()=>!0,OnPointerLockError:()=>!0,HasPointerLock(){return this._hasPointerLock},OnMovement:()=>!0}}{const kE=self.C3,LE=["auto","pointer","text","crosshair","move","help","wait","none"],WE=["auto","all-scroll","none","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","not-allowed","grab","grabbing","col-resize","row-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out"];kE.Plugins.Mouse.Acts={SetCursor(e){this.SetCursorStyle(LE[e])},SetCursor2(e){this.SetCursorStyle(WE[e])},SetCursorSprite(e){this.SetCursorObjectClass(e)},RequestPointerLock(e){this._PostToDOMMaybeSync("request-pointer-lock",{unadjustedMovement:e})},ReleasePointerLock(){this.PostToDOM("release-pointer-lock")}}}self.C3.Plugins.Mouse.Exps={X(e){return this.GetMousePositionForLayer(e)[0]},Y(e){return this.GetMousePositionForLayer(e)[1]},AbsoluteX(){return this._mouseXcanvas},AbsoluteY(){return this._mouseYcanvas},MovementX(){return this._movementX},MovementY(){return this._movementY},WheelDeltaX(){return this._wheelDeltaX},WheelDeltaY(){return this._wheelDeltaY},WheelDeltaZ(){return this._wheelDeltaZ}};{const UE=self.C3;UE.Plugins.Keyboard=class extends UE.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{let HE=function(){return YE.GetSingleGlobalInstance().GetSdkInstance()};GetKeyboardSdkInstance=HE;const zE=self.C3;self.C3X,zE.Plugins.Keyboard.Type=class extends zE.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}GetScriptInterfaceClass(){return self.IKeyboardObjectType}};let YE=null;self.IKeyboardObjectType=class extends self.IObjectType{constructor(e){super(e),YE=e,e.GetRuntime()._GetCommonScriptInterfaces().keyboard=this}isKeyDown(e){const t=HE();if("string"==typeof e)return t.IsKeyDown(e);if("number"==typeof e)return t.IsKeyCodeDown(e);throw new TypeError("expected string or number")}}}{const XE=self.C3,qE="keyboard";XE.Plugins.Keyboard.Instance=class extends XE.SDKInstanceBase{constructor(e,t){super(e,qE),this._keysDownByString=new Set,this._keysDownByWhich=new Set,this._triggerWhich=0,this._triggerString="",this._triggerTypedKey="",this._isKeyboardLockSupported=!1;const n=this.GetRuntime().Dispatcher();this._disposables=new XE.CompositeDisposable(XE.Disposable.From(n,"keydown",e=>this._OnKeyDown(e.data)),XE.Disposable.From(n,"keyup",e=>this._OnKeyUp(e.data)),XE.Disposable.From(n,"window-blur",()=>this._OnWindowOrKeyboardBlur()),XE.Disposable.From(n,"keyboard-blur",()=>this._OnWindowOrKeyboardBlur())),this._runtime.AddLoadPromise(this._Init())}Release(){super.Release()}async _Init(){const e=await this.PostToDOMAsync("init");this._isKeyboardLockSupported=e.isKeyboardLockSupported}_OnKeyDown(e){const t=e.which,n=e.code||t.toString(),s=e.key;this._keysDownByString.has(n)||(this._keysDownByString.add(n),this._keysDownByWhich.add(t),this._triggerString=n,this._triggerWhich=t,this._triggerTypedKey=s,this.Trigger(XE.Plugins.Keyboard.Cnds.OnAnyKey),this.Trigger(XE.Plugins.Keyboard.Cnds.OnKey),this.Trigger(XE.Plugins.Keyboard.Cnds.OnLeftRightKeyPressed),this.Trigger(XE.Plugins.Keyboard.Cnds.OnKeyCode))}_OnKeyUp(e){const t=e.which,n=e.code||t.toString(),s=e.key;this._keysDownByString.delete(n),this._keysDownByWhich.delete(t),this._triggerString=n,this._triggerWhich=t,this._triggerTypedKey=s,this.Trigger(XE.Plugins.Keyboard.Cnds.OnAnyKeyReleased),this.Trigger(XE.Plugins.Keyboard.Cnds.OnKeyReleased),this.Trigger(XE.Plugins.Keyboard.Cnds.OnLeftRightKeyReleased),this.Trigger(XE.Plugins.Keyboard.Cnds.OnKeyCodeReleased)}_OnWindowOrKeyboardBlur(){for(const e of this._keysDownByWhich)this._keysDownByWhich.delete(e),this._triggerWhich=e,this.Trigger(XE.Plugins.Keyboard.Cnds.OnAnyKeyReleased),this.Trigger(XE.Plugins.Keyboard.Cnds.OnKeyReleased),this.Trigger(XE.Plugins.Keyboard.Cnds.OnKeyCodeReleased);this._keysDownByString.clear()}IsKeyDown(e){return this._keysDownByString.has(e)}IsKeyCodeDown(e){return this._keysDownByWhich.has(e)}SaveToJson(){return{tk:this._triggerWhich,tkk:this._triggerTypedKey}}LoadFromJson(e){this._triggerWhich=e.tk,e.hasOwnProperty("tkk")&&(this._triggerTypedKey=e.tkk)}GetDebuggerProperties(){const e="plugins.keyboard";return[{title:e+".name",properties:[{name:e+".debugger.last-key-code",value:this._triggerWhich},{name:e+".debugger.last-key-string",value:XE.Plugins.Keyboard.Exps.StringFromKeyCode(this._triggerWhich)},{name:e+".debugger.last-typed-key",value:this._triggerTypedKey}]}]}}}{const KE=self.C3,JE=["ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","MetaLeft","MetaRight"];KE.Plugins.Keyboard.Cnds={IsKeyDown(e){return this._keysDownByWhich.has(e)},OnKey(e){return this._triggerWhich===e},OnAnyKey:()=>!0,OnAnyKeyReleased:()=>!0,OnKeyReleased(e){return this._triggerWhich===e},IsKeyCodeDown(e){return e=Math.floor(e),this._keysDownByWhich.has(e)},OnKeyCode(e){return this._triggerWhich===e},OnKeyCodeReleased(e){return this._triggerWhich===e},OnLeftRightKeyPressed(e){const t=JE[e];return this._triggerString===t},OnLeftRightKeyReleased(e){const t=JE[e];return this._triggerString===t},IsLeftRightKeyDown(e){const t=JE[e];return this._keysDownByString.has(t)},IsKeyboardLockSupported(){return this._isKeyboardLockSupported},OnKeyboardLocked:()=>!0,OnKeyboardLockError:()=>!0}}{const $E=self.C3;$E.Plugins.Keyboard.Acts={async LockKeyboard(e){if(!this._isKeyboardLockSupported)return;let t=[];e&&(t=e.split(",")),(await this.PostToDOMAsync("lock-keyboard",{keysArr:t})).isOk?this.Trigger($E.Plugins.Keyboard.Cnds.OnKeyboardLocked):this.Trigger($E.Plugins.Keyboard.Cnds.OnKeyboardLockError)},UnlockKeyboard(){this._isKeyboardLockSupported&&this.PostToDOMAsync("unlock-keyboard")}}}{let ZE=function(e){switch(e=Math.floor(e)){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"";case 38:return"";case 39:return"";case 40:return"";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(e)}};StringFromCharCode=ZE,self.C3.Plugins.Keyboard.Exps={LastKeyCode(){return this._triggerWhich},StringFromKeyCode:e=>ZE(e),TypedKey(){return this._triggerTypedKey}}}{const QE=self.C3;QE.Plugins.gamepad=class extends QE.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const eT=self.C3;eT.Plugins.gamepad.Type=class extends eT.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const tT=self.C3,nT="gamepad";class sT{constructor(e,t,n){this._index=e,this._id=t,this._vibrationEffects=new Set(n),this._state=new rT,this._oldState=new rT,this._buttonsPressed=[],this._buttonsReleased=[]}GetID(){return this._id}Update(e,t){const n=this._oldState;this._oldState=this._state,this._state=n,this._state.Update(e,t),tT.resizeArray(this._buttonsPressed,this._state.GetButtonCount(),!1),tT.resizeArray(this._buttonsReleased,this._state.GetButtonCount(),!1);for(let e=0,t=this._state.GetButtonCount();e<t;++e){const t=this._oldState.GetButtonAt(e),n=this._state.GetButtonAt(e);n>=.5&&t<.5&&(this._buttonsPressed[e]=!0),n<.5&&t>=.5&&(this._buttonsReleased[e]=!0)}}GetButtonCount(){return this._state.GetButtonCount()}GetAxisCount(){return this._state.GetAxisCount()}HasButtonBecomePressed(e){return!((e=Math.floor(e))<0||e>=this._buttonsPressed.length)&&this._buttonsPressed[e]}HasButtonBecomeReleased(e){return!((e=Math.floor(e))<0||e>=this._buttonsReleased.length)&&this._buttonsReleased[e]}ResetButtonPressAndReleaseFlags(){this._buttonsPressed.fill(!1),this._buttonsReleased.fill(!1)}GetButtonAt(e){return this._state.GetButtonAt(e)}IsButtonDown(e){return this._state.GetButtonAt(e)>=.5}GetAxisAt(e){return this._state.GetAxisAt(e)}GetIndex(){return this._index}GetVibrationEffects(){return this._vibrationEffects}}class rT{constructor(){this._buttons=[],this._axes=[]}Update(e,t){const n=this._buttons;let s=0;for(let t=e.length;s<t;++s){const t=e[s];s===n.length?n.push(t.value):n[s]=t.value}s<n.length&&tT.truncateArray(n,s),tT.shallowAssignArray(this._axes,t)}GetButtonCount(){return this._buttons.length}GetAxisCount(){return this._axes.length}GetButtonAt(e){return(e=Math.floor(e))<0||e>=this._buttons.length?0:this._buttons[e]}GetAxisAt(e){return(e=Math.floor(e))<0||e>=this._axes.length?0:this._axes[e]}}tT.Plugins.gamepad.Instance=class extends tT.SDKInstanceBase{constructor(e,t){super(e,nT),this._deadZone=25,this._lastButton=0,this._lastIndex=-1,this._gamepads=new Map,t&&(this._deadZone=t[0]),this.AddDOMMessageHandler("gamepad-connected",e=>this._OnGamepadConnected(e)),this.AddDOMMessageHandler("gamepad-disconnected",e=>this._OnGamepadDisconnected(e)),this.AddDOMMessageHandler("input-update",e=>this._OnInputUpdate(e));const n=this.GetRuntime().Dispatcher();this._disposables=new tT.CompositeDisposable(tT.Disposable.From(n,"tick2",()=>this._OnTick2()),tT.Disposable.From(n,"suspend",()=>this._OnSuspend()),tT.Disposable.From(n,"resume",()=>this._OnResume())),this.PostToDOM("ready")}Release(){super.Release()}_OnGamepadConnected(e){const t=e.index,n=e.id,s=e.vibrationEffects;this._gamepads.has(t)||(this._gamepads.set(t,new sT(t,n,s)),this._lastIndex=t,this.Trigger(tT.Plugins.gamepad.Cnds.OnGamepadConnected),this._lastIndex=-1)}_OnGamepadDisconnected(e){const t=e.index;this._lastIndex=t,this.Trigger(tT.Plugins.gamepad.Cnds.OnGamepadDisconnected),this._lastIndex=-1,this._gamepads.delete(t)}_OnInputUpdate(e){for(const t of e)this._OnGamepadInputUpdate(t)}_OnGamepadInputUpdate(e){const t=e.index;this._gamepads.has(t)||this._OnGamepadConnected(e);const n=this._gamepads.get(t);n.Update(e.buttons,e.axes);for(let e=0,t=n.GetButtonCount();e<t;++e)n.HasButtonBecomePressed(e)&&(this._lastButton=e)}_GetGamepadByIndex(e){return this._gamepads.get(Math.floor(e))||null}_GetAllGamepadsByIndex(e){if(-1===e)return[...this._gamepads.values()];{const t=this._gamepads.get(Math.floor(e));return t?[t]:[]}}_OnTick2(){for(const e of this._gamepads.values())e.ResetButtonPressAndReleaseFlags()}_OnSuspend(){this.PostToDOM("suspend")}_OnResume(){this.PostToDOM("resume")}GetDebuggerProperties(){const e="plugins.gamepad";return[{title:e+".name",properties:[{name:e+".debugger.last-button",value:this._lastButton},{name:e+".properties.analog-deadzone.name",value:this._deadZone}]}]}}}{const oT=self.C3;oT.Plugins.gamepad.Cnds={OnGamepadConnected:()=>!0,OnGamepadDisconnected:()=>!0,IsButtonDown(e,t){const n=this._GetGamepadByIndex(e);if(!n)return!1;const s=n.IsButtonDown(t);return s&&(this._lastButton=t),s},OnButtonDown(e,t){const n=this._GetGamepadByIndex(e);if(!n)return!1;const s=n.HasButtonBecomePressed(t);return s&&(this._lastButton=t),s},OnButtonUp(e,t){const n=this._GetGamepadByIndex(e);if(!n)return!1;const s=n.HasButtonBecomeReleased(t);return s&&(this._lastButton=t),s},HasGamepads(){return this._gamepads.size>0},CompareAxis(e,t,n,s){t=Math.floor(t);const r=this._GetGamepadByIndex(e);if(!r)return!1;let o=r.GetAxisAt(t),a=0;return a=t%2==0?r.GetAxisAt(t+1):r.GetAxisAt(t-1),o*=100,a*=100,Math.hypot(o,a)<=this._deadZone&&(o=0),oT.compare(o,n,s)},OnAnyButtonDown(e){const t=this._GetAllGamepadsByIndex(e);if(0===t.length)return!1;const n=this._runtime,s=n.GetEventSheetManager(),r=n.GetCurrentEvent(),o=r.GetSolModifiers(),a=n.GetEventStack(),i=a.GetCurrentStackFrame(),l=a.Push(r);n.SetDebuggingEnabled(!1);for(const e of t)for(let t=0,n=e.GetButtonCount();t<n;++t)e.HasButtonBecomePressed(t)&&(this._lastIndex=e.GetIndex(),this._lastButton=t,s.PushCopySol(o),r.Retrigger(i,l),s.PopSol(o),this._lastIndex=-1);return n.SetDebuggingEnabled(!0),a.Pop(),!1},OnAnyButtonUp(e){const t=this._GetAllGamepadsByIndex(e);if(0===t.length)return!1;const n=this._runtime,s=n.GetEventSheetManager(),r=n.GetCurrentEvent(),o=r.GetSolModifiers(),a=n.GetEventStack(),i=a.GetCurrentStackFrame(),l=a.Push(r);n.SetDebuggingEnabled(!1);for(const e of t)for(let t=0,n=e.GetButtonCount();t<n;++t)e.HasButtonBecomeReleased(t)&&(this._lastIndex=e.GetIndex(),this._lastButton=t,s.PushCopySol(o),r.Retrigger(i,l),s.PopSol(o),this._lastIndex=-1);return n.SetDebuggingEnabled(!0),a.Pop(),!1},IsButtonIndexDown(e,t){t=Math.floor(t);const n=this._GetGamepadByIndex(e);if(!n)return!1;const s=n.IsButtonDown(t);return s&&(this._lastButton=t),s},OnButtonIndexDown(e,t){t=Math.floor(t);const n=this._GetGamepadByIndex(e);if(!n)return!1;const s=n.HasButtonBecomePressed(t);return s&&(this._lastButton=t),s},OnButtonIndexUp(e,t){t=Math.floor(t);const n=this._GetGamepadByIndex(e);if(!n)return!1;const s=n.HasButtonBecomeReleased(t);return s&&(this._lastButton=t),s},GamepadSupportsVibrationType(e,t){const n=this._GetGamepadByIndex(e);if(!n)return!1;const s=n.GetVibrationEffects();return 0===t?s.has("dual-rumble"):1===t&&s.has("trigger-rumble")},SupportsGamepad:()=>!0}}{const aT=self.C3;aT.Plugins.gamepad.Acts={VibrateDualRumble(e,t,n,s){this.PostToDOM("vibrate-dual-rumble",{index:e,duration:t,weakMag:aT.clamp(n/100,0,1),strongMag:aT.clamp(s/100,0,1)})},VibrateTriggerRumble(e,t,n,s,r,o){this.PostToDOM("vibrate-trigger-rumble",{index:e,duration:t,weakMag:aT.clamp(n/100,0,1),strongMag:aT.clamp(s/100,0,1),leftMag:aT.clamp(r/100,0,1),rightMag:aT.clamp(o/100,0,1)})},ResetVibrate(e){this.PostToDOM("reset-vibrate",{index:e})}}}self.C3.Plugins.gamepad.Exps={GamepadCount(){return this._gamepads.size},GamepadID(e){const t=this._GetGamepadByIndex(e);return t?t.GetID():""},GamepadIndex(){return this._lastIndex},GamepadAxes(e){const t=this._GetGamepadByIndex(e);if(!t)return"";let n="";for(let e=0,s=t.GetAxisCount();e<s;++e)n+=`Axis ${e}: ${Math.round(100*t.GetAxisAt(e))}\n`;return n},GamepadButtons(e){const t=this._GetGamepadByIndex(e);if(!t)return"";let n="";for(let e=0,s=t.GetButtonCount();e<s;++e)n+=`Button ${e}: ${Math.round(100*t.GetButtonAt(e))}\n`;return n},RawButton(e,t){const n=this._GetGamepadByIndex(e);return n?n.GetButtonAt(Math.floor(t)):0},RawAxis(e,t){const n=this._GetGamepadByIndex(e);return n?n.GetAxisAt(Math.floor(t)):0},RawButtonCount(e){const t=this._GetGamepadByIndex(e);return t?t.GetButtonCount():0},RawAxisCount(e){const t=this._GetGamepadByIndex(e);return t?t.GetAxisCount():0},Button(e,t){const n=this._GetGamepadByIndex(e);return n?100*n.GetButtonAt(Math.floor(t)):0},Axis(e,t){t=Math.floor(t);const n=this._GetGamepadByIndex(e);if(!n)return 0;let s=n.GetAxisAt(t),r=0;return r=t%2==0?n.GetAxisAt(t+1):n.GetAxisAt(t-1),s*=100,r*=100,Math.hypot(s,r)<=this._deadZone&&(s=0),s},ButtonIndex(){return this._lastButton},LastButton(){return this._lastButton}};{const iT=self.C3;iT.Plugins.LocalStorage=class extends iT.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const lT=self.C3;lT.Plugins.LocalStorage.Type=class extends lT.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const dT=self.C3,cT="localstorage";dT.Plugins.LocalStorage.Instance=class extends dT.SDKInstanceBase{constructor(e,t){super(e,cT),this._currentKey="",this._lastValue="",this._keyNamesList=[],this._errorMessage="",this._isPersistent=!1,this._pendingGets=0,this._pendingSets=0,this._isInMemoryOnly=!1,t&&(this._isInMemoryOnly=t[0]);const n=this._runtime._GetProjectStorage();this._storage=null,this._isInMemoryOnly?this._storage=n.createInstance({forceInMemoryFallback:!0}):this._storage=n,this._debugCache=new Map,this._isLoadingDebugCache=!1,this._runtime.AddLoadPromise(this._Init())}async _Init(){const e=await Promise.race([this.PostToDOMAsync("init"),dT.Wait(3e3)]);e&&(this._isPersistent=e.isPersistent)}Release(){super.Release()}async _TriggerStorageError(e){this._errorMessage=this._GetErrorString(e),await this.TriggerAsync(dT.Plugins.LocalStorage.Cnds.OnError)}_GetErrorString(e){return e?"string"==typeof e?e:"string"==typeof e.message?e.message:"string"==typeof e.name?e.name:"string"==typeof e.data?e.data:"unknown error":"unknown error"}GetDebuggerProperties(){return this._isLoadingDebugCache||this._DebugCacheStorage(),[{title:"plugins.localstorage.name",properties:[...this._debugCache.entries()].map(e=>({name:"$"+e[0],value:e[1],onedit:t=>this._storage.setItem(e[0],t)}))}]}async _DebugCacheStorage(){this._isLoadingDebugCache=!0;try{const e=await this._storage.keys();e.sort((e,t)=>{const n=e.toLowerCase(),s=t.toLowerCase();return n<s?-1:s<n?1:0});const t=await Promise.all(e.map(e=>this._storage.getItem(e)));this._debugCache.clear();for(let n=0,s=e.length;n<s;++n)this._debugCache.set(e[n],t[n])}catch(e){console.warn("[C3 debugger] Error displaying local storage: ",e)}finally{this._isLoadingDebugCache=!1}}}}{const uT=self.C3;uT.Plugins.LocalStorage.Cnds={OnItemSet(e){return this._currentKey===e},OnAnyItemSet:()=>!0,OnItemGet(e){return this._currentKey===e},OnAnyItemGet:()=>!0,OnItemRemoved(e){return this._currentKey===e},OnAnyItemRemoved:()=>!0,OnCleared:()=>!0,OnAllKeyNamesLoaded:()=>!0,OnError:()=>!0,OnItemExists(e){return this._currentKey===e},OnItemMissing(e){return this._currentKey===e},CompareKey(e,t){return uT.compare(this._currentKey,e,t)},CompareValue(e,t){return uT.compare(this._lastValue,e,t)},IsProcessingSets(){return this._pendingSets>0},IsProcessingGets(){return this._pendingGets>0},OnAllSetsComplete:()=>!0,OnAllGetsComplete:()=>!0,IsPersistent(){return this._isPersistent}}}{let hT=function(e){return"string"==typeof e||"number"==typeof e};IsExpressionType=hT;const _T=self.C3;_T.Plugins.LocalStorage.Acts={async SetItem(e,t){this._pendingSets++;try{const n=await this._storage.setItem(e,t);await this.ScheduleTriggers(async()=>{this._currentKey=e,this._lastValue=n,await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAnyItemSet),await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnItemSet)})}catch(e){await this._TriggerStorageError(e)}finally{this._pendingSets--,0===this._pendingSets&&await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAllSetsComplete)}},async SetBinaryItem(e,t){if(!t)return;const n=t.GetFirstPicked(this._inst);if(!n)return;const s=n.GetSdkInstance();if(!s)return;const r=s.GetArrayBufferReadOnly();this._pendingSets++;try{await this._storage.setItem(e,r),await this.ScheduleTriggers(async()=>{this._currentKey=e,this._lastValue="",await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAnyItemSet),await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnItemSet)})}catch(e){await this._TriggerStorageError(e)}finally{this._pendingSets--,0===this._pendingSets&&await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAllSetsComplete)}},async GetItem(e){this._pendingGets++;try{const t=await this._storage.getItem(e);await this.ScheduleTriggers(async()=>{this._currentKey=e,this._lastValue=hT(t)?t:"",await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAnyItemGet),await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnItemGet)})}catch(e){await this._TriggerStorageError(e)}finally{this._pendingGets--,0===this._pendingGets&&await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAllGetsComplete)}},async GetBinaryItem(e,t){if(!t)return;const n=t.GetFirstPicked(this._inst);if(!n)return;const s=n.GetSdkInstance();this._pendingGets++;try{let t=await this._storage.getItem(e);t=t instanceof ArrayBuffer?t:new ArrayBuffer(0),await this.ScheduleTriggers(async()=>{this._lastValue="",this._currentKey=e,s.SetArrayBufferTransfer(t),await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAnyItemGet),await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnItemGet)})}catch(e){await this._TriggerStorageError(e)}finally{this._pendingGets--,0===this._pendingGets&&await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAllGetsComplete)}},async CheckItemExists(e){try{const t=await this._storage.getItem(e);await this.ScheduleTriggers(async()=>{this._currentKey=e,null==t?(this._lastValue="",await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnItemMissing)):(this._lastValue=hT(t)?t:"",await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnItemExists))})}catch(e){await this._TriggerStorageError(e)}},async RemoveItem(e){try{await this._storage.removeItem(e),await this.ScheduleTriggers(async()=>{this._currentKey=e,this._lastValue="",await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAnyItemRemoved),await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnItemRemoved)})}catch(e){await this._TriggerStorageError(e)}},async ClearStorage(){try{await this._storage.clear(),await this.ScheduleTriggers(async()=>{this._currentKey="",this._lastValue="",_T.clearArray(this._keyNamesList),await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnCleared)})}catch(e){await this._TriggerStorageError(e)}},async GetAllKeyNames(){try{const e=await this._storage.keys();await this.ScheduleTriggers(async()=>{this._keyNamesList=e,await this.TriggerAsync(_T.Plugins.LocalStorage.Cnds.OnAllKeyNamesLoaded)})}catch(e){await this._TriggerStorageError(e)}},async RequestPersistent(){const e=await this.PostToDOMAsync("request-persistent");e.isOk&&(this._isPersistent=e.isPersistent)},LoadMemoryFromJSON(e){if(!this._isInMemoryOnly)return;let t;try{t=JSON.parse(e)}catch(e){return void console.error("[Local Storage] Failed to parse memory storage JSON: ",e)}t&&t["is-c3-storage"]&&Array.isArray(t.items)||console.error("[Local Storage] Failed to load memory storage JSON: invalid data"),this._storage.SetMemoryStorage(new Map(t.items))}}}self.C3.Plugins.LocalStorage.Exps={ItemValue(){return this._lastValue},Key(){return this._currentKey},KeyCount(){return this._keyNamesList.length},KeyAt(e){return(e=Math.floor(e))<0||e>=this._keyNamesList.length?"":this._keyNamesList[e]},ErrorMessage(){return this._errorMessage},MemoryStorageAsJSON(){return this._isInMemoryOnly?JSON.stringify({"is-c3-storage":!0,items:[...this._storage.GetMemoryStorage()]}):""}};{const GT=self.C3;GT.Plugins.AJAX=class extends GT.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const pT=self.C3;pT.Plugins.AJAX.Type=class extends pT.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const mT=self.C3;mT.Plugins.AJAX.Instance=class extends mT.SDKInstanceBase{constructor(e,t){if(super(e),this._lastData="",this._lastStatusCode=0,this._curTag="",this._progress=0,this._timeout=-1,this._nextRequestHeaders=new Map,this._nextReponseBinaryData=null,this._nextRequestOverrideMimeType="",this._nextRequestWithCredentials=!1,this._nwjsFs=null,this._nwjsPath=null,this._nwjsAppFolder=null,this._isNWjs=this._runtime.IsNWjs(),this._isNWjs){this._nwjsFs=__require("fs"),this._nwjsPath=__require("path");const e=self.process||nw.process;this._nwjsAppFolder=this._nwjsPath.dirname(e.execPath)+"\\"}}Release(){super.Release()}async _TriggerError(e,t,n){console.error(`[Construct] AJAX request to '${t}' (tag '${e}') failed: `,n),this._curTag=e,await this.TriggerAsync(mT.Plugins.AJAX.Cnds.OnAnyError),this._curTag=e,await this.TriggerAsync(mT.Plugins.AJAX.Cnds.OnError)}async _TriggerComplete(e){this._curTag=e,await this.TriggerAsync(mT.Plugins.AJAX.Cnds.OnAnyComplete),this._curTag=e,await this.TriggerAsync(mT.Plugins.AJAX.Cnds.OnComplete)}async _OnProgress(e,t){t.lengthComputable&&(this._progress=t.loaded/t.total,this._curTag=e,await this.TriggerAsync(mT.Plugins.AJAX.Cnds.OnProgress))}async _OnUploadProgress(e,t){t.lengthComputable&&(this._progress=t.loaded/t.total,this._curTag=e,await this.TriggerAsync(mT.Plugins.AJAX.Cnds.OnUploadProgress))}_OnError(e,t,n){if(!this._isNWjs)return void this._TriggerError(e,t,n);const s=this._nwjsFs,r=this._nwjsAppFolder+t;s.existsSync(r)?s.readFile(r,{encoding:"utf8"},(n,s)=>{n?this._TriggerError(e,t,n):(this._lastData=s.replace(/\r\n/g,"\n"),this._TriggerComplete(e))}):this._TriggerError(e,t,n)}async _DoCordovaRequest(e,t){const n=this._runtime.GetAssetManager(),s=this._nextReponseBinaryData;this._nextReponseBinaryData=null;try{if(s){const r=await n.CordovaFetchLocalFileAsArrayBuffer(t);s.SetArrayBufferTransfer(r),this._lastData="",this._lastStatusCode=0,this._TriggerComplete(e)}else{const s=await n.CordovaFetchLocalFileAsText(t);this._lastData=s.replace(/\r\n/g,"\n"),this._lastStatusCode=0,this._TriggerComplete(e)}}catch(n){this._TriggerError(e,t,n)}}_DoRequest(e,t,n,s){return new Promise(r=>{const o=n=>{this._OnError(e,t,n),r()},a=this._nextReponseBinaryData;this._nextReponseBinaryData=null;try{const i=new XMLHttpRequest;i.onreadystatechange=()=>{if(4===i.readyState){if(this._lastData=a?"":(i.responseText||"").replace(/\r\n/g,"\n"),this._lastStatusCode=i.status,i.status>=400)this._TriggerError(e,t,i.status+i.statusText);else{const t=this._lastData.length||a&&i.response instanceof ArrayBuffer;this._isNWjs&&!t||!this._isNWjs&&0===i.status&&!t||(a&&a.SetArrayBufferTransfer(i.response),this._TriggerComplete(e))}r()}},i.onerror=o,i.ontimeout=o,i.onabort=o,i.onprogress=t=>this._OnProgress(e,t),i.upload.onprogress=t=>this._OnUploadProgress(e,t),i.open(n,t),this._timeout>=0&&void 0!==i.timeout&&(i.timeout=this._timeout),i.responseType=a?"arraybuffer":"text",s&&!this._nextRequestHeaders.has("Content-Type")&&("string"!=typeof s?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));for(const[e,t]of this._nextRequestHeaders)try{i.setRequestHeader(e,t)}catch(n){console.error(`[Construct] AJAX: Failed to set header '${e}: ${t}': `,n)}if(this._nextRequestHeaders.clear(),this._nextRequestOverrideMimeType){try{i.overrideMimeType(this._nextRequestOverrideMimeType)}catch(e){console.error("[Construct] AJAX: failed to override MIME type: ",e)}this._nextRequestOverrideMimeType=""}this._nextRequestWithCredentials&&(i.withCredentials=!0,this._nextRequestWithCredentials=!1),s?i.send(s):i.send()}catch(e){o(e)}})}GetDebuggerProperties(){const e="plugins.ajax.debugger";return[{title:e+".title",properties:[{name:e+".last-status-code",value:this._lastStatusCode},{name:e+".last-data",value:this._lastData}]}]}SaveToJson(){return{lastData:this._lastData,lastStatusCode:this._lastStatusCode}}LoadFromJson(e){this._lastData=e.lastData,this._lastStatusCode=e.hasOwnProperty("lastStatusCode")?e.lastStatusCode:0,this._curTag="",this._progress=0}}}{const gT=self.C3;gT.Plugins.AJAX.Cnds={OnComplete(e){return gT.equalsNoCase(this._curTag,e)},OnAnyComplete:()=>!0,OnError(e){return gT.equalsNoCase(this._curTag,e)},OnAnyError:()=>!0,OnProgress(e){return gT.equalsNoCase(this._curTag,e)},OnUploadProgress(e){return gT.equalsNoCase(this._curTag,e)}}}{const fT=self.C3;fT.Plugins.AJAX.Acts={async Request(e,t){this._runtime.IsCordova()&&fT.IsRelativeURL(t)&&this._runtime.GetAssetManager().IsFileProtocol()?await this._DoCordovaRequest(e,t):await this._DoRequest(e,t,"GET",null)},async RequestFile(e,t){this._runtime.IsCordova()&&this._runtime.GetAssetManager().IsFileProtocol()?await this._DoCordovaRequest(e,t):await this._DoRequest(e,t,"GET",null)},async Post(e,t,n,s){await this._DoRequest(e,t,s,n)},async PostBinary(e,t,n,s){if(!n)return;const r=n.GetFirstPicked(this._inst);if(!r)return;const o=r.GetSdkInstance().GetArrayBufferReadOnly();await this._DoRequest(e,t,s,o)},SetTimeout(e){this._timeout=1e3*e},SetHeader(e,t){this._nextRequestHeaders.set(e,t)},SetResponseBinary(e){if(!e)return;const t=e.GetFirstPicked(this._inst);t&&(this._nextReponseBinaryData=t.GetSdkInstance())},OverrideMIMEType(e){this._nextRequestOverrideMimeType=e},SetWithCredentials(e){this._nextRequestWithCredentials=!!e}}}self.C3.Plugins.AJAX.Exps={LastData(){return this._lastData},LastStatusCode(){return this._lastStatusCode},Progress(){return this._progress},Tag(){return this._curTag}};{const NT=self.C3;NT.Plugins.BinaryData=class extends NT.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const bT=self.C3;bT.Plugins.BinaryData.Type=class extends bT.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const ST=self.C3,xT=(self.C3X,self.IInstance),IT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";ST.Plugins.BinaryData.Instance=class extends ST.SDKInstanceBase{constructor(e,t){super(e),this._buffer=new ArrayBuffer(0),this._view=null,this._altView=null,this._littleEndian=0===t[0],this._blobURL="",this._dataChangedSinceBlobURL=!1,this._setters=[[1,(e,t)=>this._view.setInt8(e,t)],[1,(e,t)=>this._view.setUint8(e,t)],[2,(e,t)=>this._view.setInt16(e,t,this._littleEndian)],[2,(e,t)=>this._view.setUint16(e,t,this._littleEndian)],[4,(e,t)=>this._view.setInt32(e,t,this._littleEndian)],[4,(e,t)=>this._view.setUint32(e,t,this._littleEndian)],[4,(e,t)=>this._view.setFloat32(e,t,this._littleEndian)],[8,(e,t)=>this._view.setFloat64(e,t,this._littleEndian)]],this._getters=[[1,e=>this._view.getInt8(e)],[1,e=>this._view.getUint8(e)],[2,e=>this._view.getInt16(e,this._littleEndian)],[2,e=>this._view.getUint16(e,this._littleEndian)],[4,e=>this._view.getInt32(e,this._littleEndian)],[4,e=>this._view.getUint32(e,this._littleEndian)],[4,e=>this._view.getFloat32(e,this._littleEndian)],[8,e=>this._view.getFloat64(e,this._littleEndian)]],this._UpdateViews()}_CheckValidIndex(e,t){return e>=0&&e+t<=this.ByteLength()}_ClampToLength(e){const t=this.ByteLength();return e<0?0:e>=t?t:e}_ClampToValidIndex(e){const t=this.ByteLength();return e<0?0:e>t?t:e}ByteLength(){return this._buffer.byteLength}_UpdateViews(){const e=this._buffer;this._view=new DataView(e),this._altView=new Uint8Array(e),this._OnDataChanged()}_OnDataChanged(){this._blobURL&&(this._dataChangedSinceBlobURL=!0)}_RevokeBlobURL(){this._blobURL&&(URL.revokeObjectURL(this._blobURL),this._blobURL="")}_GetBlobURL(){if(this._dataChangedSinceBlobURL&&(this._RevokeBlobURL(),this._dataChangedSinceBlobURL=!1),!this._blobURL){const e=new Blob([this._altView],{type:""});this._blobURL=URL.createObjectURL(e)}return this._blobURL}_GetBinaryDataSdkInstance(e){if(!e)return null;const t=e.GetFirstPicked(this._inst);return t?t.GetSdkInstance():null}_Get(e,t){const n=this._getters[e][1],s=this._getters[e][0];return this._CheckValidIndex(t,s)?n(t):0}_Set(e,t,n){const s=this._setters[e][1],r=this._setters[e][0];this._CheckValidIndex(t,r)&&(s(t,n),this._OnDataChanged())}_ResizeBuffer(e,t){if(!(e instanceof ArrayBuffer))throw new TypeError("Source must be an instance of ArrayBuffer");if(t<=e.byteLength)return e.slice(0,t);const n=new Uint8Array(e),s=new Uint8Array(new ArrayBuffer(t));return s.set(n),s.buffer}SetArrayBufferCopy(e){if(ST.WeakIsInstanceOf(e,ArrayBuffer))this._buffer=e.slice(0);else{ST.WeakRequireTypedArray(e);const t=e.buffer,n=e.byteLength,s=e.byteOffset;this._buffer=t.slice(s,s+n)}this._UpdateViews()}SetArrayBufferTransfer(e){ST.WeakRequireInstanceOf(e,ArrayBuffer),this._buffer=e,this._UpdateViews()}GetArrayBufferCopy(){return this._buffer.slice(0)}GetArrayBufferReadOnly(){return this._buffer}TypedArrayToString(e,t){return new TextDecoder(t||"utf-8").decode(e)}StringToArrayBuffer(e){return new TextEncoder("utf-8").encode(e).buffer}Uint8ArrayToBase64String(e){const t=t=>t<n?e[t]:(r++,0),n=e.length,s=[];let r=0,o=0;for(;o<n;){const e=(t(o++)<<16)+(t(o++)<<8)+t(o++);s.push(IT[e>>>18&63],IT[e>>>12&63],IT[e>>>6&63],IT[63&e])}for(o=s.length-r;o<s.length;)s[o++]="=";return s.join("")}Base64StringToUint8Array(e){const t=e.indexOf("="),n=e.length,s=n>>2<<2,r=n-s,o=t>-1?n-t:0;if(o>2)throw new Error("Invalid padding");let a=n;s===t?a=s-o:0===r&&t>-1&&(a-=o);const i=3*a>>2,l=new Uint8Array(i);let d=0,c=0;const u=()=>{if(d>=a)return 0;const t=e.charCodeAt(d++);if(t>64&&t<91)return t-65;if(t>96&&t<123)return t-71;if(t>47&&t<58)return t+4;if(43===t)return 62;if(47===t)return 63;if(61===t)return 0;throw new Error("Invalid character at column "+(d-1))},h=e=>c<i&&(l[c++]=e);for(;c<i;){const e=(u()<<18)+(u()<<12)+(u()<<6)+u();h(e>>>16&255),h(e>>>8&255),h(255&e)}return l}GetScriptInterfaceClass(){return self.IBinaryDataInstance}};const yT=new WeakMap;self.IBinaryDataInstance=class extends xT{constructor(){super(),yT.set(this,xT._GetInitInst().GetSdkInstance())}setArrayBufferCopy(e){if(!(e instanceof ArrayBuffer||ST.IsTypedArray(e)))throw new TypeError("invalid parameter");yT.get(this).SetArrayBufferCopy(e)}setArrayBufferTransfer(e){if(!(e instanceof ArrayBuffer))throw new TypeError("invalid parameter");yT.get(this).SetArrayBufferTransfer(e)}getArrayBufferCopy(){return yT.get(this).GetArrayBufferCopy()}getArrayBufferReadOnly(){return yT.get(this).GetArrayBufferReadOnly()}}}{const ET=self.C3;ET.Plugins.BinaryData.Cnds={CompareLength(e,t){return ET.compare(this.ByteLength(),e,t)},CompareValue(e,t,n,s){return ET.compare(this._Get(e,t),n,s)},OnCompressionFinished:()=>!0,OnCompressionFailed:()=>!0,OnDecompressionFinished:()=>!0,OnDecompressionFailed:()=>!0}}{const TT=self.C3,CT=["deflate","gzip"];TT.Plugins.BinaryData.Acts={SetEndian(e){this._littleEndian=0===e},SetLength(e){this._buffer=this._ResizeBuffer(this._buffer,e),this._UpdateViews()},SetFromBase64(e){try{const t=this.Base64StringToUint8Array(e);this.SetArrayBufferTransfer(t.buffer)}catch(e){console.warn("[BinaryData] Invalid base64 string: ",e)}},SetFromBinaryData(e){const t=this._GetBinaryDataSdkInstance(e);if(null===t)return;const n=t.GetArrayBufferCopy();this.SetArrayBufferTransfer(n)},SetFromText(e){const t=this.StringToArrayBuffer(e.normalize());this.SetArrayBufferTransfer(t)},Fill(e,t,n,s){const r=this._setters[e][1],o=this._setters[e][0],a=this._ClampToLength(n);let i=0;if(i=-1===s?this.ByteLength():this._ClampToLength(a+s),!(i<=a)){i=a+Math.floor((i-a)/o)*o;for(let e=a;e<i;e+=o)r(e,t);this._OnDataChanged()}},Copy(e,t,n,s){const r=this._GetBinaryDataSdkInstance(e);if(null===r)return;let o;if(s=this._ClampToValidIndex(s),t=r._ClampToLength(t),o=-1===n?r.ByteLength():r._ClampToLength(t+n),o<=t)return;const a=this.ByteLength();if(!(s+o-t>a&&(o=t+(a-s),o<=t))){if(r===this)this._altView.copyWithin(s,t,o);else{const e=r.GetArrayBufferReadOnly(),n=new Uint8Array(e,t,o-t);this._altView.set(n,s)}this._OnDataChanged()}},SetValue(e,t,n){this._Set(e,n,t)},async Compress(e){const t=CT[e];try{const e=new CompressionStream(t),n=new Blob([this._buffer]).stream().pipeThrough(e),s=await new Response(n).arrayBuffer();this.SetArrayBufferTransfer(s),await this.TriggerAsync(TT.Plugins.BinaryData.Cnds.OnCompressionFinished)}catch(e){console.error(`[Binary data] Error compressing data as '${t}': `,e),await this.TriggerAsync(TT.Plugins.BinaryData.Cnds.OnCompressionFailed)}},async Decompress(e){const t=CT[e];try{const e=new DecompressionStream(t),n=new Blob([this._buffer]).stream().pipeThrough(e),s=await new Response(n).arrayBuffer();this.SetArrayBufferTransfer(s),await this.TriggerAsync(TT.Plugins.BinaryData.Cnds.OnDecompressionFinished)}catch(e){console.error(`[Binary data] Error decompressing data as '${t}': `,e),await this.TriggerAsync(TT.Plugins.BinaryData.Cnds.OnDecompressionFailed)}}}}{const MT=self.C3,VT={int8:0,uint8:1,int16:2,uint16:3,int32:4,uint32:5,float32:6,float64:7};MT.Plugins.BinaryData.Exps={GetURL(){return this._GetBlobURL()},GetBase64(){return this.Uint8ArrayToBase64String(this._altView)},ByteLength(){return this.ByteLength()},GetInt8(e){return this._Get(VT.int8,e)},GetUint8(e){return this._Get(VT.uint8,e)},GetInt16(e){return this._Get(VT.int16,e)},GetUint16(e){return this._Get(VT.uint16,e)},GetInt32(e){return this._Get(VT.int32,e)},GetUint32(e){return this._Get(VT.uint32,e)},GetFloat32(e){return this._Get(VT.float32,e)},GetFloat64(e){return this._Get(VT.float64,e)},GetText(e,t){let n="";if(this._CheckValidIndex(e,t)){const s=this._altView.subarray(e,e+t);try{n=this.TypedArrayToString(s)}catch(e){console.warn("[Binary data] Failed to decode text: ",e)}}return n},GetAllText(){try{return this.TypedArrayToString(this._altView)}catch(e){return console.warn("[Binary data] Failed to decode text: ",e),""}}}}{const BT=self.C3,OT=[];BT.Plugins.Audio=class extends BT.SDKPluginBase{constructor(e){super(e)}_AddActionPromise(e){OT.push(e)}static async WaitForAllActionPromises(){await Promise.all(OT),BT.clearArray(OT)}Release(){super.Release()}}}{let vT=function(){return DT.GetSingleGlobalInstance().GetSdkInstance()},PT=function(){if(self.C3Audio_DOMInterface)return self.C3Audio_DOMInterface;throw new Error("audio scripting API cannot be used here - make sure the project is using DOM mode, not worker mode")};GetAudioSdkInstance=vT,GetAudioDOMInterface=PT;const wT=self.C3,AT=self.C3X;wT.Plugins.Audio.Type=class extends wT.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}GetScriptInterfaceClass(){return self.IAudioObjectType}};let DT=null;self.IAudioObjectType=class extends self.IObjectType{constructor(e){super(e),DT=e}get audioContext(){return PT().GetAudioContextExtern()}get destinationNode(){return PT().GetDestinationNodeExtern()}get isSilent(){return vT()._IsSilent()}set isSilent(e){vT()._SetSilent(e)}get masterVolume(){return vT()._GetMasterVolume()}set masterVolume(e){AT.RequireFiniteNumber(e),vT()._SetMasterVolume(e)}stopAll(){vT()._StopAll()}}}{const RT=self.C3,FT="audio",jT=["interactive","balanced","playback"];RT.Plugins.Audio.Instance=class extends RT.SDKInstanceBase{constructor(e,t){super(e,FT),this._nextPlayTime=0,this._nextPlayOffset=0,this._triggerTags=[],this._enableMultiTags=!0,this._timeScaleMode=0,this._saveLoadMode=0,this._playInBackground=!1,this._panningModel=1,this._distanceModel=1,this._listenerPos=[this._runtime.GetViewportWidth()/2,this._runtime.GetViewportHeight()/2,600],this._listenerForwardVec=[0,0,-1],this._listenerUpVec=[0,1,0],this._referenceDistance=600,this._maxDistance=1e4,this._rolloffFactor=1,this._listenerInst=null,this._loadListenerUid=-1,this._masterVolume=1,this._isSilent=!1,this._sampleRate=0,this._audioContextState="suspended",this._outputLatency=0,this._effectCount=new Map,this._preloadTotal=0,this._preloadCount=0,this._bufferMetadata=new Map,this._remoteUrls=new Map;let n="interactive";t&&(this._timeScaleMode=t[0],this._saveLoadMode=t[1],this._playInBackground=t[2],n=jT[t[3]],this._enableMultiTags=t[4],this._panningModel=t[5],this._distanceModel=t[6],this._listenerPos[2]=t[7],this._referenceDistance=t[8],this._maxDistance=t[9],this._rolloffFactor=t[10]),this._lastAIState=[],this._lastFxState=[],this._lastAnalysersData=[],this.AddDOMMessageHandlers([["state",e=>this._OnUpdateState(e)],["audiocontext-state",e=>this._OnAudioContextStateChanged(e)],["fxstate",e=>this._OnUpdateFxState(e)],["trigger",e=>this._OnTrigger(e)],["buffer-metadata",e=>this._OnBufferMetadata(e)]]);const s=this.GetRuntime().Dispatcher();this._disposables=new RT.CompositeDisposable(RT.Disposable.From(s,"instancedestroy",e=>this._OnInstanceDestroyed(e.instance)),RT.Disposable.From(s,"afterload",()=>this._OnAfterLoad()),RT.Disposable.From(s,"suspend",()=>this._OnSuspend()),RT.Disposable.From(s,"resume",()=>this._OnResume()));const r=this._runtime.GetExportType(),o="Safari"===RT.Platform.Browser,a=this._runtime.IsiOSWebView()||"macos-wkwebview"===r,i=this._runtime.GetAssetManager().IsFileProtocol(),l="playable-ad-single-file"===r,d="cordova"===r&&"Android"===RT.Platform.OS,c=o||a||i||l||d;this._runtime.AddLoadPromise(this.PostToDOMAsync("create-audio-context",{preloadList:this._runtime.GetAssetManager().GetAudioToPreload().map(e=>({originalUrl:e.originalUrl,url:e.url,type:e.type,fileSize:e.fileSize})),timeScaleMode:this._timeScaleMode,latencyHint:n,panningModel:this._panningModel,distanceModel:this._distanceModel,refDistance:this._referenceDistance,maxDistance:this._maxDistance,rolloffFactor:this._rolloffFactor,listenerPos:this._listenerPos,usePlayMusicAsSoundWorkaround:c}).then(e=>{this._sampleRate=e.sampleRate,this._audioContextState=e.audioContextState,this._outputLatency=e.outputLatency})),this._StartTicking()}Release(){this._listenerInst=null,super.Release()}_SplitTags(e){return this._enableMultiTags?e.split(" ").filter(e=>!!e):e?[e]:[]}_MatchTagLists(e,t){for(const n of t){let t=!1;for(const s of e)if(RT.equalsNoCase(s,n)){t=!0;break}if(!t)return!1}return!0}_MatchTagListToStr(e,t){return this._MatchTagLists(e,this._SplitTags(t))}_AddActionPromise(e){this.GetPlugin()._AddActionPromise(e)}_OnInstanceDestroyed(e){this._listenerInst===e&&(this._listenerInst=null)}DbToLinearNoCap(e){return Math.pow(10,e/20)}DbToLinear(e){const t=this.DbToLinearNoCap(e);return isFinite(t)?Math.max(Math.min(t,1),0):0}LinearToDbNoCap(e){return Math.log(e)/Math.log(10)*20}LinearToDb(e){return this.LinearToDbNoCap(Math.max(Math.min(e,1),0))}_GetScheduledPlayInfo(){let e=0;const t=!!self.C3_GetAudioContextCurrentTime;return e=t?this._nextPlayTime:this._nextPlayOffset,this._nextPlayTime=0,this._nextPlayOffset=0,{playOffset:e,isTrueClock:t}}_OnSuspend(){this._playInBackground||this.PostToDOM("set-suspended",{isSuspended:!0})}_OnResume(){this._playInBackground||this.PostToDOM("set-suspended",{isSuspended:!1})}_OnUpdateState(e){const t=e.tickCount;this._outputLatency=e.outputLatency;const n=this._lastAIState.filter(e=>e.hasOwnProperty("placeholder")&&(e.placeholder>t||-1===e.placeholder));this._lastAIState=e.audioInstances,this._lastAnalysersData=e.analysers,n.length>0&&RT.appendArray(this._lastAIState,n)}_OnBufferMetadata(e){this._bufferMetadata.set(e.originalUrl,{duration:e.duration})}_OnAudioContextStateChanged(e){this._audioContextState=e.audioContextState}GetAudioContextState(){return this._runtime.IsExportToVideo()?"running":this._audioContextState}_OnUpdateFxState(e){this._lastFxState=e.fxstate}_GetFirstAudioStateByTags(e){const t=this._SplitTags(e);for(const e of this._lastAIState)if(this._MatchTagLists(e.tags,t))return e;return null}_IsTagPlaying(e){const t=this._SplitTags(e);return this._lastAIState.some(e=>this._MatchTagLists(e.tags,t)&&e.isPlaying)}_MaybeMarkAsPlaying(e,t,n,s,r){if(this._IsTagPlaying(t))return null;const o=this._bufferMetadata.get(e),a={tags:this._SplitTags(t),duration:o?o.duration:0,volume:r,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:e,bufferUrl:"",bufferType:"",isMusic:n,isLooping:s,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};return this._lastAIState.push(a),a}_MaybeMarkAsStopped(e){const t=this._SplitTags(e);for(const e of this._lastAIState)this._MatchTagLists(e.tags,t)&&(e.isPlaying=!1)}async _OnTrigger(e){const t=e.type;this._triggerTags=e.tags;const n=e.aiid;if("ended"===t){for(const e of this._lastAIState)if(e.aiid===n){e.isPlaying=!1;break}await this.TriggerAsync(RT.Plugins.Audio.Cnds.OnEnded)}else"fade-ended"===t&&await this.TriggerAsync(RT.Plugins.Audio.Cnds.OnFadeEnded)}_MatchTriggerTag(e){return this._MatchTagListToStr(this._triggerTags,e)}Tick(){const e={timeScale:this._runtime.GetTimeScale(),gameTime:this._runtime.GetGameTimeRaw(),instPans:this.GetInstancePans(),tickCount:this._runtime.GetTickCountNoSave()};if(this._listenerInst){const t=this._listenerInst.GetWorldInfo();this._listenerPos[0]=t.GetX(),this._listenerPos[1]=t.GetY(),e.listenerPos=this._listenerPos,e.listenerOrientation=[...this._listenerForwardVec,...this._listenerUpVec]}this.PostToDOM("tick",e)}rotatePtAround(e,t,n,s,r){if(0===n)return[e,t];const o=Math.sin(n),a=Math.cos(n),i=(e-=s)*o;return e=e*a-(t-=r)*o,t=t*a+i,[e+=s,t+=r]}GetInstancePans(){return this._lastAIState.filter(e=>-1!==e.uid).map(e=>this._runtime.GetInstanceByUID(e.uid)).filter(e=>e).map(e=>{const t=e.GetWorldInfo(),n=t.GetLayer().GetAngle(),[s,r]=this.rotatePtAround(t.GetX(),t.GetY(),-n,this._listenerPos[0],this._listenerPos[1]);return{uid:e.GetUID(),x:s,y:r,z:t.GetTotalZElevation(),angle:t.GetAngle()-n}})}GetAnalyserData(e,t){for(const n of this._lastAnalysersData)if(n.index===t&&RT.equalsNoCase(n.tag,e))return n;return null}_IncrementEffectCount(e){for(const t of this._SplitTags(e)){const e=t.toLowerCase();this._effectCount.set(e,(this._effectCount.get(e)||0)+1)}}_IsSilent(){return this._isSilent}_SetSilent(e){e=!!e,this._isSilent!==e&&(this._isSilent=e,this.PostToDOM("set-silent",{isSilent:e}))}_GetMasterVolume(){return this._masterVolume}_SetMasterVolume(e){this._masterVolume!==e&&(this._masterVolume=e,this.PostToDOM("set-master-volume",{vol:e}))}_StopAll(){this.PostToDOM("stop-all");for(const e of this._lastAIState)e.isPlaying=!1}_ShouldSave(e){return!(e.hasOwnProperty("placeholder")||3===this._saveLoadMode||e.isMusic&&1===this._saveLoadMode||!e.isMusic&&2===this._saveLoadMode)}SaveToJson(){return{isSilent:this._isSilent,masterVolume:this._masterVolume,listenerZ:this._listenerPos[2],listenerForwardVec:this._listenerForwardVec,listenerUpVec:this._listenerUpVec,listenerUid:this._listenerInst?this._listenerInst.GetUID():-1,remoteUrls:[...this._remoteUrls.entries()],playing:this._lastAIState.filter(e=>this._ShouldSave(e)),effects:this._lastFxState,analysers:this._lastAnalysersData}}LoadFromJson(e){if(this._isSilent=e.isSilent,this._masterVolume=e.masterVolume,this._listenerPos[2]=e.listenerZ,this._listenerInst=null,this._loadListenerUid=e.listenerUid,e.hasOwnProperty("listenerForwardVec")?this._listenerForwardVec=e.listenerForwardVec:this._listenerForwardVec=[0,0,-1],e.hasOwnProperty("listenerUpVec")?this._listenerUpVec=e.listenerUpVec:this._listenerUpVec=[0,1,0],this._remoteUrls.clear(),e.remoteUrls)for(const[t,n]of e.remoteUrls)this._remoteUrls.set(t,n);this._lastAIState=e.playing;for(const e of this._lastAIState)e.hasOwnProperty("tag")&&!e.hasOwnProperty("tags")&&(e.tags=[e.tag].filter(e=>!!e));this._lastFxState=e.effects,this._lastAnalysersData=e.analysers}_OnAfterLoad(){if(-1!==this._loadListenerUid&&(this._listenerInst=this._runtime.GetInstanceByUID(this._loadListenerUid),this._loadListenerUid=-1,this._listenerInst)){const e=this._listenerInst.GetWorldInfo();this._listenerPos[0]=e.GetX(),this._listenerPos[1]=e.GetY()}for(const e of this._lastAIState){const t=this._runtime.GetAssetManager().GetProjectAudioFileUrl(e.bufferOriginalUrl);t?(e.bufferUrl=t.url,e.bufferType=t.type):e.bufferUrl=null}for(const e of Object.values(this._lastFxState))for(const t of e)if(t.hasOwnProperty("bufferOriginalUrl")){const e=this._runtime.GetAssetManager().GetProjectAudioFileUrl(t.bufferOriginalUrl);e&&(t.bufferUrl=e.url,t.bufferType=e.type)}this.PostToDOM("load-state",{saveLoadMode:this._saveLoadMode,timeScale:this._runtime.GetTimeScale(),gameTime:this._runtime.GetGameTimeRaw(),listenerPos:this._listenerPos,listenerOrientation:[...this._listenerForwardVec,...this._listenerUpVec],isSilent:this._isSilent,masterVolume:this._masterVolume,playing:this._lastAIState.filter(e=>null!==e.bufferUrl),effects:this._lastFxState})}GetDebuggerProperties(){const e=[];for(const[t,n]of Object.entries(this._lastFxState))e.push({name:"$"+t,value:n.map(e=>e.type).join(", ")});const t="plugins.audio.debugger";return[{title:t+".tag-effects",properties:e},{title:t+".currently-playing",properties:[{name:t+".currently-playing-count",value:this._lastAIState.length},...this._lastAIState.map((e,t)=>({name:"$#"+t,value:`${e.bufferOriginalUrl} ("${e.tags}") ${Math.round(10*e.playbackTime)/10} / ${Math.round(10*e.duration)/10}`}))]}]}}}self.C3.Plugins.Audio.Cnds={OnEnded(e){return this._MatchTriggerTag(e)},OnFadeEnded(e){return this._MatchTriggerTag(e)},PreloadsComplete(){return this._preloadCount===this._preloadTotal},AdvancedAudioSupported:()=>!0,IsSilent(){return this._IsSilent()},IsAnyPlaying(){for(const e of this._lastAIState)if(e.isPlaying)return!0;return!1},IsTagPlaying(e){return this._IsTagPlaying(e)}};{const kT=self.C3,LT=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"];kT.Plugins.Audio.Acts={Play(e,t,n,s,r){const o=kT.Plugins.Audio.Acts._DoPlay.call(this,e,t,n,s,r);return this._AddActionPromise(o),o},PlayFromTimeline(e,t,n,s){kT.Plugins.Audio.Acts._DoPlay.call(this,e,0,t,0,n,s)},async _DoPlay(e,t,n,s,r,o){if(this._isSilent)return;const a=e[1],i=this._runtime.GetAssetManager().GetProjectAudioFileUrl(e[0]);if(!i)return;const{playOffset:l,isTrueClock:d}=this._GetScheduledPlayInfo(),c=this._MaybeMarkAsPlaying(e[0],r,a,0!==t,this.DbToLinear(n));try{await this.PostToDOMAsync("play",{originalUrl:e[0],url:i.url,type:i.type,isMusic:a,tags:this._SplitTags(r),isLooping:0!==t,vol:this.DbToLinear(n),stereoPan:kT.clamp(s/100,-1,1),pos:o||0,off:l,trueClock:d})}finally{c&&(c.placeholder=this._runtime.GetTickCountNoSave())}},async PlayAtPosition(e,t,n,s,r,o,a,i,l,d,c){if(this._isSilent)return;const u=e[1],h=this._runtime.GetAssetManager().GetProjectAudioFileUrl(e[0]);if(!h)return;const{playOffset:_,isTrueClock:G}=this._GetScheduledPlayInfo(),p=this._MaybeMarkAsPlaying(e[0],c,u,0!==t,this.DbToLinear(n));try{await this.PostToDOMAsync("play",{originalUrl:e[0],url:h.url,type:h.type,isMusic:u,tags:this._SplitTags(c),isLooping:0!==t,vol:this.DbToLinear(n),pos:0,off:_,trueClock:G,panning:{x:s,y:r,z:o,angle:kT.toRadians(a),innerAngle:kT.toRadians(i),outerAngle:kT.toRadians(l),outerGain:this.DbToLinear(d)}})}finally{p&&(p.placeholder=this._runtime.GetTickCountNoSave())}},async PlayAtObject(e,t,n,s,r,o,a,i){if(this._isSilent)return;if(!s)return;const l=s.GetFirstPicked();if(!l||!l.GetWorldInfo())return;const d=l.GetWorldInfo(),c=d.GetLayer().GetAngle(),[u,h]=this.rotatePtAround(d.GetX(),d.GetY(),-c,this._listenerPos[0],this._listenerPos[1]),_=e[1],G=this._runtime.GetAssetManager().GetProjectAudioFileUrl(e[0]);if(!G)return;const{playOffset:p,isTrueClock:m}=this._GetScheduledPlayInfo(),g=this._MaybeMarkAsPlaying(e[0],i,_,0!==t,this.DbToLinear(n));try{await this.PostToDOMAsync("play",{originalUrl:e[0],url:G.url,type:G.type,isMusic:_,tags:this._SplitTags(i),isLooping:0!==t,vol:this.DbToLinear(n),pos:0,off:p,trueClock:m,panning:{x:u,y:h,z:d.GetTotalZElevation(),angle:d.GetAngle()-c,innerAngle:kT.toRadians(r),outerAngle:kT.toRadians(o),outerGain:this.DbToLinear(a),uid:l.GetUID()}})}finally{g&&(g.placeholder=this._runtime.GetTickCountNoSave())}},async PlayByName(e,t,n,s,r,o){if(this._isSilent)return;const a=1===e,i=this._runtime.GetAssetManager().GetProjectAudioFileUrl(t)||this._remoteUrls.get(t.toLowerCase());if(!i)return;const{playOffset:l,isTrueClock:d}=this._GetScheduledPlayInfo(),c=this._MaybeMarkAsPlaying(t,o,a,0!==n,this.DbToLinear(s));try{await this.PostToDOMAsync("play",{originalUrl:t,url:i.url,type:i.type,isMusic:a,tags:this._SplitTags(o),isLooping:0!==n,vol:this.DbToLinear(s),stereoPan:kT.clamp(r/100,-1,1),pos:0,off:l,trueClock:d})}finally{c&&(c.placeholder=this._runtime.GetTickCountNoSave())}},async PlayAtPositionByName(e,t,n,s,r,o,a,i,l,d,c,u){if(this._isSilent)return;const h=1===e,_=this._runtime.GetAssetManager().GetProjectAudioFileUrl(t)||this._remoteUrls.get(t.toLowerCase());if(!_)return;const{playOffset:G,isTrueClock:p}=this._GetScheduledPlayInfo(),m=this._MaybeMarkAsPlaying(t,u,h,0!==n,this.DbToLinear(s));try{await this.PostToDOMAsync("play",{originalUrl:t,url:_.url,type:_.type,isMusic:h,tags:this._SplitTags(u),isLooping:0!==n,vol:this.DbToLinear(s),pos:0,off:G,trueClock:p,panning:{x:r,y:o,z:a,angle:kT.toRadians(i),innerAngle:kT.toRadians(l),outerAngle:kT.toRadians(d),outerGain:this.DbToLinear(c)}})}finally{m&&(m.placeholder=this._runtime.GetTickCountNoSave())}},async PlayAtObjectByName(e,t,n,s,r,o,a,i,l){if(this._isSilent)return;if(this._isSilent)return;if(!r)return;const d=r.GetFirstPicked();if(!d||!d.GetWorldInfo())return;const c=d.GetWorldInfo(),u=c.GetLayer().GetAngle(),[h,_]=this.rotatePtAround(c.GetX(),c.GetY(),-u,this._listenerPos[0],this._listenerPos[1]),G=1===e,p=this._runtime.GetAssetManager().GetProjectAudioFileUrl(t)||this._remoteUrls.get(t.toLowerCase());if(!p)return;const{playOffset:m,isTrueClock:g}=this._GetScheduledPlayInfo(),f=this._MaybeMarkAsPlaying(t,l,G,0!==n,this.DbToLinear(s));try{await this.PostToDOMAsync("play",{originalUrl:t,url:p.url,type:p.type,isMusic:G,tags:this._SplitTags(l),isLooping:0!==n,vol:this.DbToLinear(s),pos:0,off:m,trueClock:g,panning:{x:h,y:_,z:c.GetTotalZElevation(),angle:c.GetAngle()-u,innerAngle:kT.toRadians(o),outerAngle:kT.toRadians(a),outerGain:this.DbToLinear(i),uid:d.GetUID()}})}finally{f&&(f.placeholder=this._runtime.GetTickCountNoSave())}},SetLooping(e,t){this.PostToDOM("set-looping",{tags:this._SplitTags(e),isLooping:0===t})},SetMuted(e,t){this.PostToDOM("set-muted",{tags:this._SplitTags(e),isMuted:0===t})},SetVolume(e,t){this.PostToDOM("set-volume",{tags:this._SplitTags(e),vol:this.DbToLinear(t)})},FadeVolume(e,t,n,s){this.PostToDOM("fade-volume",{tags:this._SplitTags(e),vol:this.DbToLinear(t),duration:n,stopOnEnd:0===s})},SetStereoPan(e,t){this.PostToDOM("set-stereo-pan",{tags:this._SplitTags(e),p:kT.clamp(t/100,-1,1)})},async Preload(e){const t=e[1],n=this._runtime.GetAssetManager().GetProjectAudioFileUrl(e[0]);n&&(this._preloadTotal++,await this.PostToDOMAsync("preload",{originalUrl:e[0],url:n.url,type:n.type,isMusic:t}),this._preloadCount++)},async PreloadByName(e,t){const n=1===e,s=this._runtime.GetAssetManager().GetProjectAudioFileUrl(t)||this._remoteUrls.get(t.toLowerCase());s&&(this._preloadTotal++,await this.PostToDOMAsync("preload",{originalUrl:t,url:s.url,type:s.type,isMusic:n}),this._preloadCount++)},SetPlaybackRate(e,t){this.PostToDOM("set-playback-rate",{tags:this._SplitTags(e),rate:Math.max(t,0)})},Stop(e){this._MaybeMarkAsStopped(e),this.PostToDOM("stop",{tags:this._SplitTags(e)})},StopAll(){this._StopAll()},SetPaused(e,t){this.PostToDOM("set-paused",{tags:this._SplitTags(e),paused:0===t})},Seek(e,t){this.PostToDOM("seek",{tags:this._SplitTags(e),pos:t})},SetSilent(e){2===e&&(e=this._IsSilent()?1:0),this._SetSilent(0===e)},SetMasterVolume(e){const t=this.DbToLinear(e);this._SetMasterVolume(t)},AddFilterEffect(e,t,n,s,r,o,a){const i=LT[t];this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"filter",tags:this._SplitTags(e),params:[i,n,s,r,o,kT.clamp(a/100,0,1)]})},AddDelayEffect(e,t,n,s){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"delay",tags:this._SplitTags(e),params:[t,this.DbToLinear(n),kT.clamp(s/100,0,1)]})},AddFlangerEffect(e,t,n,s,r,o){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"flanger",tags:this._SplitTags(e),params:[t/1e3,n/1e3,s,r/100,kT.clamp(o/100,0,1)]})},AddPhaserEffect(e,t,n,s,r,o,a){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"phaser",tags:this._SplitTags(e),params:[t,n,s,r,o,kT.clamp(a/100,0,1)]})},AddConvolutionEffect(e,t,n,s){const r=this._runtime.GetAssetManager().GetProjectAudioFileUrl(t[0]);r&&(this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"convolution",tags:this._SplitTags(e),bufferOriginalUrl:t[0],bufferUrl:r.url,bufferType:r.type,params:[0===n,kT.clamp(s/100,0,1)]}))},AddGainEffect(e,t){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"gain",tags:this._SplitTags(e),params:[this.DbToLinear(t)]})},AddStereoPanEffect(e,t){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"stereopan",tags:this._SplitTags(e),params:[kT.clamp(t/100,-1,1)]})},AddMuteEffect(e){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"gain",tags:this._SplitTags(e),params:[0]})},AddTremoloEffect(e,t,n){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"tremolo",tags:this._SplitTags(e),params:[t,kT.clamp(n/100,0,1)]})},AddRingModEffect(e,t,n){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"ringmod",tags:this._SplitTags(e),params:[t,kT.clamp(n/100,0,1)]})},AddDistortionEffect(e,t,n,s,r,o){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"distortion",tags:this._SplitTags(e),params:[this.DbToLinearNoCap(t),this.DbToLinearNoCap(n),s,this.DbToLinearNoCap(r),kT.clamp(o/100,0,1)]})},AddCompressorEffect(e,t,n,s,r,o){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"compressor",tags:this._SplitTags(e),params:[t,n,s,r/1e3,o/1e3]})},AddAnalyserEffect(e,t,n){this._IncrementEffectCount(e),this.PostToDOM("add-effect",{type:"analyser",tags:this._SplitTags(e),params:[t,n]})},RemoveEffects(e){const t=this._SplitTags(e);for(const e of t)this._effectCount.set(e.toLowerCase(),0);this.PostToDOM("remove-effects",{tags:t}),this._lastFxState={}},SetEffectParameter(e,t,n,s,r,o){this.PostToDOM("set-effect-param",{tags:this._SplitTags(e),index:Math.floor(t),param:n,value:s,ramp:r,time:o})},SetListenerObject(e){if(!e)return;const t=e.GetFirstPicked();t&&t.GetWorldInfo()&&(this._listenerInst=t)},SetListenerZ(e){this._listenerPos[2]=e},SetListenerOrientation(e,t,n,s,r,o){this._listenerForwardVec[0]=e,this._listenerForwardVec[1]=t,this._listenerForwardVec[2]=-n,this._listenerUpVec[0]=s,this._listenerUpVec[1]=r,this._listenerUpVec[2]=-o},ScheduleNextPlay(e){this._nextPlayTime=Math.max(e,0),this._nextPlayOffset=Math.max(e-performance.now()/1e3,0)},UnloadAudio(e){const t=e[1],n=this._runtime.GetAssetManager().GetProjectAudioFileUrl(e[0]);n&&this.PostToDOM("unload",{url:n.url,type:n.type,isMusic:t})},UnloadAudioByName(e,t){const n=1===e,s=this._runtime.GetAssetManager().GetProjectAudioFileUrl(t)||this._remoteUrls.get(t.toLowerCase());s&&this.PostToDOM("unload",{url:s.url,type:s.type,isMusic:n})},UnloadAll(){this.PostToDOM("unload-all")},AddRemoteURL(e,t,n){this._remoteUrls.set(n.toLowerCase(),{url:e,type:t})}}}{const WT=self.C3;WT.Plugins.Audio.Exps={Duration(e){const t=this._GetFirstAudioStateByTags(e);return t?t.duration:0},PlaybackTime(e){const t=this._GetFirstAudioStateByTags(e);return t?t.playbackTime:0},PlaybackRate(e){const t=this._GetFirstAudioStateByTags(e);return t?t.playbackRate:0},Volume(e){const t=this._GetFirstAudioStateByTags(e);return t?this.LinearToDb(t.volume):0},MasterVolume(){return this.LinearToDb(this._GetMasterVolume())},EffectCount(e){return this._effectCount.get(e.toLowerCase())||0},AnalyserFreqBinCount(e,t){const n=this.GetAnalyserData(e,Math.floor(t));return n?n.binCount:0},AnalyserFreqBinAt(e,t,n){const s=this.GetAnalyserData(e,Math.floor(t));return s?(n=Math.floor(n))<0||n>=s.binCount?0:s.freqBins[n]:0},AnalyserPeakLevel(e,t){const n=this.GetAnalyserData(e,Math.floor(t));return n?n.peak:0},AnalyserRMSLevel(e,t){const n=this.GetAnalyserData(e,Math.floor(t));return n?n.rms:0},SampleRate(){return this._sampleRate},CurrentTime:()=>self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1e3,OutputLatency(){return this._outputLatency},NormalizedVolume(e,t){return 0==(e=WT.clamp(+e,0,100)/100)?-1/0:e<.1?this.LinearToDb(WT.lerp(0,this.DbToLinear(t),10*e)):WT.lerp(t,0,(e-.1)/.9)}}}{const UT=self.C3;UT.Plugins.Dictionary=class extends UT.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const HT=self.C3;HT.Plugins.Dictionary.Type=class extends HT.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const zT=self.C3,YT=(self.C3X,self.IInstance);zT.Plugins.Dictionary.Instance=class extends zT.SDKInstanceBase{constructor(e,t){super(e),this._data=new Map,this._curKey=""}Release(){this._data.clear(),super.Release()}GetAsJsonString(){return JSON.stringify({c2dictionary:!0,data:zT.MapToObject(this._data)})}GetDataMap(){return this._data}SaveToJson(){return zT.MapToObject(this._data)}LoadFromJson(e){zT.ObjectToMap(e,this._data)}GetDebuggerProperties(){const e="plugins.dictionary";return[{title:e+".name",properties:[{name:e+".debugger.key-count",value:this._data.size},...[...this._data].map(e=>({name:"$"+e[0],value:e[1],onedit:t=>this._data.set(e[0],t)}))]}]}GetScriptInterfaceClass(){return self.IDictionaryInstance}};const XT=new WeakMap;self.IDictionaryInstance=class extends YT{constructor(){super(),XT.set(this,YT._GetInitInst().GetSdkInstance())}getDataMap(){return XT.get(this).GetDataMap()}}}{const qT=self.C3;qT.Plugins.Dictionary.Cnds={CompareValue(e,t,n){const s=this._data.get(e);return void 0!==s&&qT.compare(s,t,n)},ForEachKey(){const e=this._runtime,t=e.GetEventSheetManager(),n=e.GetCurrentEvent(),s=n.GetSolModifiers(),r=e.GetEventStack(),o=r.GetCurrentStackFrame(),a=r.Push(n);e.SetDebuggingEnabled(!1);for(const e of this._data.keys())this._curKey=e,t.PushCopySol(s),this.GetObjectClass().GetCurrentSol().PickOne(this.GetInstance()),n.Retrigger(o,a),t.PopSol(s);return e.SetDebuggingEnabled(!0),this._curKey="",r.Pop(),!1},CompareCurrentValue(e,t){const n=this._data.get(this._curKey);return void 0!==n&&qT.compare(n,e,t)},HasKey(e){return this._data.has(e)},IsEmpty(){return 0===this._data.size}}}{const KT=self.C3;KT.Plugins.Dictionary.Acts={AddKey(e,t){this._data.set(e,t)},SetKey(e,t){this._data.has(e)&&this._data.set(e,t)},DeleteKey(e){this._data.delete(e)},Clear(){this._data.clear()},JSONLoad(e){let t=null;try{t=JSON.parse(e)}catch(e){return void console.error("[Construct] Error parsing JSON: ",e)}t.c2dictionary?KT.ObjectToMap(t.data,this._data):console.warn("[Dictionary] Attempted to load JSON that does not appear to be Construct dictionary data - no data loaded")},JSONDownload(e){const t=URL.createObjectURL(new Blob([this.GetAsJsonString()],{type:"application/json"}));this._runtime.InvokeDownload(t,e)}}}self.C3.Plugins.Dictionary.Exps={Get(e){const t=this._data.get(e);return void 0===t?0:t},GetDefault(e,t){const n=this._data.get(e);return void 0===n?t:n},KeyCount(){return this._data.size},CurrentKey(){return this._curKey},CurrentValue(){return this._data.get(this._curKey)??0},AsJSON(){return this.GetAsJsonString()}};{const JT=self.C3;JT.Plugins.GameRecorder=class extends JT.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const $T=self.C3;$T.Plugins.GameRecorder.Type=class extends $T.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const ZT=self.C3,QT="game-recorder",eC=0,tC=1,nC=2,sC=0,rC=2,oC=3,aC=4,iC=5,lC=0,dC=1,cC=2,uC=3;ZT.Plugins.GameRecorder.Instance=class extends ZT.SDKInstanceBase{constructor(e,t){super(e,QT),this._isSupported=!1,this._isMediaRecorderSupported=!1,this._isScreenRecordingSupported=!1,this._supportedVideoFormats=[],this._supportedAudioFormats=[],this._isRecording=!1,this._recordingUrl="",this._recordingType="",this.AddDOMMessageHandlers([["recording-ready",e=>this._OnRecordingReady(e)],["error",e=>this._OnError(e)],["screen-recording-stopped",()=>this._OnRecordingStopped()]]),this._runtime.AddLoadPromise(this.PostToDOMAsync("get-supported-formats").then(e=>{this._isSupported=e.isSupported,this._isMediaRecorderSupported=e.isMediaRecorderSupported,this._isScreenRecordingSupported=e.isScreenRecordingSupported,this._supportedVideoFormats=e.supportedVideoFormats,this._supportedAudioFormats=e.supportedAudioFormats}))}Release(){super.Release()}_GetMimeTypeParts(e,t,n){if(t===sC&&n===lC)return["","",""];let s="";s=t===sC?"audio":"video";let r="";r=e===tC?"webm":e===nC?"mp4":t===rC||t===oC?"webm":t===aC||t===iC?"mp4":n===cC?"webm":n===uC||this._supportedVideoFormats[0].startsWith("video/mp4")?"mp4":"webm";let o="";t===rC?o="vp8":t===oC?o="vp9":t===aC?o="avc1.420034":t===iC?o="hev1.1.2.L93.B0":1===t&&("mp4"===r?this._supportedVideoFormats.includes("video/mp4;codecs=avc1.420034")?o="avc1.420034":this._supportedVideoFormats.includes("video/mp4;codecs=hev1.1.2.L93.B0")?o="hev1.1.2.L93.B0":this._supportedVideoFormats.includes("video/mp4;codecs=vp9")?o="vp9":this._supportedVideoFormats.includes("video/mp4;codecs=vp8")&&(o="vp8"):"webm"===r&&(this._supportedVideoFormats.includes("video/webm;codecs=vp9")?o="vp9":this._supportedVideoFormats.includes("video/webm;codecs=vp8")?o="vp8":this._supportedVideoFormats.includes("video/webm;codecs=avc1.420034")&&(o="avc1.420034")));let a="";return n===cC?a="opus":n===uC?a="mp4a.40.2":n===dC&&("vp9"===o||"vp8"===o?a="opus":"avc1.420034"===o||"hev1.1.2.L93.B0"===o?a="mp4a.40.2":"webm"===r?a="opus":"mp4"===r&&(a="mp4a.40.2")),[`${s}/${r}`,o,a]}_GetMimeTypeFromParts(e,t,n){if(!e)return"";const s=[];return t&&s.push(t),n&&s.push(n),`${e};codecs=${s.join(",")}`}_GetMimeType(e,t,n){const[s,r,o]=this._GetMimeTypeParts(e,t,n);return this._GetMimeTypeFromParts(s,r,o)}_LegacyGetMimeTypeParts(e,t){let n=eC,s=sC,r=lC;if(0===e){if(0===t)return["","",""];if(1===t)return this._GetMimeTypeParts(eC,sC,dC);if(2===t)return["","",""];if(3===t)return this._GetMimeTypeParts(tC,sC,cC);if(4===t)return this._GetMimeTypeParts(nC,sC,uC)}else 1===e?this._supportedVideoFormats.includes("video/mp4;codecs=avc1.420034")?(n=nC,s=aC):this._supportedVideoFormats.includes("video/webm;codecs=vp9")?(n=tC,s=oC):this._supportedVideoFormats.includes("video/webm;codecs=vp8")&&(n=tC,s=rC):2===e?(n=tC,s=rC):3===e?(n=tC,s=oC):4===e&&(n=nC,s=aC);return 1===t?r=dC:2===t||3===t?r=cC:4===t&&(r=uC),this._GetMimeTypeParts(n,s,r)}async _OnRecordingReady(e){this._recordingUrl=e.url,await this.TriggerAsync(ZT.Plugins.GameRecorder.Cnds.OnRecordingReady)}async _OnError(e){await this.TriggerAsync(ZT.Plugins.GameRecorder.Cnds.OnRecordingError)}_OnRecordingStopped(){this._isRecording=!1,this._StopTicking()}Tick(){this._runtime.UpdateRender()}GetDebuggerProperties(){const e="plugins.gamerecorder";return[{title:e+".name",properties:[{name:e+".debugger.supported-video-formats",value:this._supportedVideoFormats.join(", ")},{name:e+".debugger.supported-audio-formats",value:this._supportedAudioFormats.join(", ")},{name:e+".debugger.is-recording",value:this._isRecording}]}]}}}self.C3.Plugins.GameRecorder.Cnds={OnRecordingReady:()=>!0,OnRecordingError:()=>!0,SupportsRecording(){return this._isSupported},SupportsScreenRecording(){return this._isScreenRecordingSupported},IsVideoFormatSupported2(e,t){return this._supportedVideoFormats.includes(this._GetMimeType(e+1,t+2,0))},IsAudioFormatSupported2(e,t){return this._supportedAudioFormats.includes(this._GetMimeType(e+1,0,t+2))},IsRecording(){return this._isRecording},IsVideoFormatSupported(e){return 0===e?this._supportedVideoFormats.includes("video/webm;codecs=vp8"):1===e?this._supportedVideoFormats.includes("video/webm;codecs=vp9"):2===e?this._supportedVideoFormats.includes("video/mp4;codecs=avc1.420034"):3===e&&this._supportedVideoFormats.includes("video/mp4;codecs=hev1.1.2.L93.B0")},IsAudioFormatSupported(e){return 0===e?this._supportedAudioFormats.includes("audio/ogg;codecs=opus"):1===e?this._supportedAudioFormats.includes("audio/webm;codecs=opus"):2===e&&this._supportedAudioFormats.includes("audio/mp4;codecs=mp4a.40.2")}},self.C3.Plugins.GameRecorder.Acts={StartRecording2(e,t,n,s,r){if(!this._isSupported||this._isRecording)return;const[o,a,i]=this._GetMimeTypeParts(e,t,s);this._recordingType=o,this._recordingType&&(this._isRecording=!0,this._StartTicking(),this.PostToDOM("start-recording",{containerPart:o,videoPart:a,audioPart:i,bitsPerSecond:1e3*r,framerate:n}))},StartScreenRecording2(e,t,n,s,r){if(!this._isScreenRecordingSupported||this._isRecording)return;const[o,a,i]=this._GetMimeTypeParts(e,t,n);this._recordingType=o,this._recordingType&&(this._isRecording=!0,this._PostToDOMMaybeSync("start-screen-recording",{containerPart:o,videoPart:a,audioPart:i,systemAudio:s,bitsPerSecond:1e3*r}))},StartUserMediaRecording2(e,t,n,s){if(!this._isMediaRecorderSupported||this._isRecording)return;const[r,o,a]=this._GetMimeTypeParts(e,t,n);this._recordingType=r,this._recordingType&&(this._isRecording=!0,this.PostToDOM("start-user-media-recording",{containerPart:r,videoPart:o,audioPart:a,bitsPerSecond:1e3*s}))},StopRecording(){this._isRecording&&(this._OnRecordingStopped(),this.PostToDOM("stop-recording"))},StartRecording(e,t,n,s){if(!this._isSupported||this._isRecording)return;const[r,o,a]=this._LegacyGetMimeTypeParts(e,n);this._recordingType=r,this._recordingType&&(this._isRecording=!0,this._StartTicking(),this.PostToDOM("start-recording",{containerPart:r,videoPart:o,audioPart:a,bitsPerSecond:1e3*s,framerate:t}))},StartScreenRecording(e,t,n,s){if(!this._isScreenRecordingSupported||this._isRecording)return;const[r,o,a]=this._LegacyGetMimeTypeParts(e,t);this._recordingType=r,this._recordingType&&(this._isRecording=!0,this._PostToDOMMaybeSync("start-screen-recording",{containerPart:r,videoPart:o,audioPart:a,systemAudio:n,bitsPerSecond:1e3*s}))},StartUserMediaRecording(e,t,n){if(!this._isMediaRecorderSupported||this._isRecording)return;const[s,r,o]=this._LegacyGetMimeTypeParts(e,t);this._recordingType=s,this._recordingType&&(this._isRecording=!0,this.PostToDOM("start-user-media-recording",{containerPart:s,videoPart:r,audioPart:o,bitsPerSecond:1e3*n}))}},self.C3.Plugins.GameRecorder.Exps={RecordingURL(){return this._recordingUrl},RecordingType(){return this._recordingType},RecordingFileExtension(){const e=this._recordingType;return e.startsWith("audio/mp4")?".m4a":e.startsWith("video/mp4")?".mp4":".webm"}};{const hC=self.C3;hC.Plugins.Date=class extends hC.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const _C=self.C3;_C.Plugins.Date.Type=class extends _C.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const GC=self.C3;GC.Plugins.Date.Instance=class extends GC.SDKInstanceBase{constructor(e,t){super(e)}}}{const pC=self.C3,mC=[];mC[0]=[e=>pC.Plugins.Date.Exps.GetYear(e),e=>pC.Plugins.Date.Exps.GetMonth(e),e=>pC.Plugins.Date.Exps.GetDate(e),e=>pC.Plugins.Date.Exps.GetDay(e),e=>pC.Plugins.Date.Exps.GetHours(e),e=>pC.Plugins.Date.Exps.GetMinutes(e),e=>pC.Plugins.Date.Exps.GetSeconds(e),e=>pC.Plugins.Date.Exps.GetMilliseconds(e)],mC[1]=[e=>pC.Plugins.Date.Exps.GetUTCYear(e),e=>pC.Plugins.Date.Exps.GetUTCMonth(e),e=>pC.Plugins.Date.Exps.GetUTCDate(e),e=>pC.Plugins.Date.Exps.GetUTCDay(e),e=>pC.Plugins.Date.Exps.GetUTCHours(e),e=>pC.Plugins.Date.Exps.GetUTCMinutes(e),e=>pC.Plugins.Date.Exps.GetUTCSeconds(e),e=>pC.Plugins.Date.Exps.GetUTCMilliseconds(e)];const gC=e=>pC.Plugins.Date.Exps.Parse(e);pC.Plugins.Date.Cnds={CompareTimeStamps:(e,t,n)=>pC.compare(e,t,n),CompareDateStrings:(e,t,n)=>pC.compare(gC(e),t,gC(n)),CompareTimestampParts:(e,t,n,s)=>pC.compare(mC[1][s](e),t,mC[1][s](n)),CompareDateStringParts:(e,t,n,s,r)=>pC.compare(mC[r][s](gC(e)),t,mC[r][s](gC(n)))}}self.C3.Plugins.Date.Acts={};{const fC=self.C3,NC=self.Intl,bC=new Map;bC.set("local",new Map([["year",e=>new Date(e).getFullYear()],["month",e=>new Date(e).getMonth()],["date",e=>new Date(e).getDate()],["day",e=>new Date(e).getDay()],["hours",e=>new Date(e).getHours()],["minutes",e=>new Date(e).getMinutes()],["seconds",e=>new Date(e).getSeconds()],["milliseconds",e=>new Date(e).getMilliseconds()]])),bC.set("universal",new Map([["year",e=>new Date(e).getUTCFullYear()],["month",e=>new Date(e).getUTCMonth()],["date",e=>new Date(e).getUTCDate()],["day",e=>new Date(e).getUTCDay()],["hours",e=>new Date(e).getUTCHours()],["minutes",e=>new Date(e).getUTCMinutes()],["seconds",e=>new Date(e).getUTCSeconds()],["milliseconds",e=>new Date(e).getUTCMilliseconds()]]));const SC=new Map;SC.set("local",new Map([["year",(e,t)=>new Date(e).setFullYear(t)],["month",(e,t)=>new Date(e).setMonth(t)],["date",(e,t)=>new Date(e).setDate(t)],["hours",(e,t)=>new Date(e).setHours(t)],["minutes",(e,t)=>new Date(e).setMinutes(t)],["seconds",(e,t)=>new Date(e).setSeconds(t)],["milliseconds",(e,t)=>new Date(e).setMilliseconds(t)]])),SC.set("universal",new Map([["year",(e,t)=>new Date(e).setUTCFullYear(t)],["month",(e,t)=>new Date(e).setUTCMonth(t)],["date",(e,t)=>new Date(e).setUTCDate(t)],["hours",(e,t)=>new Date(e).setUTCHours(t)],["minutes",(e,t)=>new Date(e).setUTCMinutes(t)],["seconds",(e,t)=>new Date(e).setUTCSeconds(t)],["milliseconds",(e,t)=>new Date(e).setUTCMilliseconds(t)]]));const xC=function(e,t,n,s){n.includes(e)&&(s[t]=e)},IC=function(e,t){e&&("12"===e?t.hour12=!0:"24"===e&&(t.hour12=!1))},yC=function(e){try{return NC.getCanonicalLocales(e)}catch(e){return self.navigator.language}},EC=["full","long","medium","short"],TC=["full","long","medium","short"],CC=["long","short","narrow"],MC=["numeric","2-digit"],VC=["numeric","2-digit","long","short","narrow"],BC=["numeric","2-digit"],OC=["numeric","2-digit"],vC=["numeric","2-digit"],PC=["numeric","2-digit"];fC.Plugins.Date.Exps={ToString:e=>new Date(e).toString(),ToDateString:e=>new Date(e).toDateString(),ToTimeString:e=>new Date(e).toTimeString(),ToLocaleString:e=>new Date(e).toLocaleString(),ToLocaleDateString:e=>new Date(e).toLocaleDateString(),ToLocaleTimeString:e=>new Date(e).toLocaleTimeString(),ToUTCString:e=>new Date(e).toUTCString(),Parse:e=>Date.parse(e),Get:(e,t,n,s,r,o,a)=>Date.UTC(e,t,n,s,r,o,a),Now:()=>Date.now(),ExportTimestamp(){return this.GetRuntime().GetExportTimestamp()},TimezoneOffset:()=>new Date(Date.now()).getTimezoneOffset(),GetYear:e=>bC.get("local").get("year")(e),GetUTCYear:e=>bC.get("universal").get("year")(e),GetMonth:e=>bC.get("local").get("month")(e),GetUTCMonth:e=>bC.get("universal").get("month")(e),GetDate:e=>bC.get("local").get("date")(e),GetUTCDate:e=>bC.get("universal").get("date")(e),GetDay:e=>bC.get("local").get("day")(e),GetUTCDay:e=>bC.get("universal").get("day")(e),GetHours:e=>bC.get("local").get("hours")(e),GetUTCHours:e=>bC.get("universal").get("hours")(e),GetMinutes:e=>bC.get("local").get("minutes")(e),GetUTCMinutes:e=>bC.get("universal").get("minutes")(e),GetSeconds:e=>bC.get("local").get("seconds")(e),GetUTCSeconds:e=>bC.get("universal").get("seconds")(e),GetMilliseconds:e=>bC.get("local").get("milliseconds")(e),GetUTCMilliseconds:e=>bC.get("universal").get("milliseconds")(e),ChangeYear:(e,t)=>SC.get("local").get("year")(e,t),ChangeUTCYear:(e,t)=>SC.get("universal").get("year")(e,t),ChangeMonth:(e,t)=>SC.get("local").get("month")(e,t),ChangeUTCMonth:(e,t)=>SC.get("universal").get("month")(e,t),ChangeDate:(e,t)=>SC.get("local").get("date")(e,t),ChangeUTCDate:(e,t)=>SC.get("universal").get("date")(e,t),ChangeDay(e,t){const n=fC.Plugins.Date.Exps.GetYear(e),s=fC.Plugins.Date.Exps.GetMonth(e),r=fC.Plugins.Date.Exps.GetDate(e),o=fC.Plugins.Date.Exps.GetHours(e),a=fC.Plugins.Date.Exps.GetMinutes(e),i=fC.Plugins.Date.Exps.GetSeconds(e),l=fC.Plugins.Date.Exps.GetMilliseconds(e),d=fC.Plugins.Date.Exps.GetDay(e);return new Date(n,s,r+(t-d),o,a,i,l).getTime()},ChangeUTCDay(e,t){const n=fC.Plugins.Date.Exps.GetUTCYear(e),s=fC.Plugins.Date.Exps.GetUTCMonth(e),r=fC.Plugins.Date.Exps.GetUTCDate(e),o=fC.Plugins.Date.Exps.GetUTCHours(e),a=fC.Plugins.Date.Exps.GetUTCMinutes(e),i=fC.Plugins.Date.Exps.GetUTCSeconds(e),l=fC.Plugins.Date.Exps.GetUTCMilliseconds(e),d=t-fC.Plugins.Date.Exps.GetUTCDay(e);return fC.Plugins.Date.Exps.Get(n,s,r+d,o,a,i,l)},ChangeHours:(e,t)=>SC.get("local").get("hours")(e,t),ChangeUTCHours:(e,t)=>SC.get("universal").get("hours")(e,t),ChangeMinutes:(e,t)=>SC.get("local").get("minutes")(e,t),ChangeUTCMinutes:(e,t)=>SC.get("universal").get("minutes")(e,t),ChangeSeconds:(e,t)=>SC.get("local").get("seconds")(e,t),ChangeUTCSeconds:(e,t)=>SC.get("universal").get("seconds")(e,t),ChangeMilliseconds:(e,t)=>SC.get("local").get("milliseconds")(e,t),ChangeUTCMilliseconds:(e,t)=>SC.get("universal").get("milliseconds")(e,t),Difference:(e,t)=>t-e,ToTimerHours:e=>Math.trunc(fC.Plugins.Date.Exps.ToTotalHours(e)),ToTimerMinutes:e=>Math.trunc(fC.Plugins.Date.Exps.ToTotalMinutes(e))%60,ToTimerSeconds:e=>Math.trunc(fC.Plugins.Date.Exps.ToTotalSeconds(e))%60,ToTimerMilliseconds:e=>e%1e3,ToTotalHours:e=>e/36e5,ToTotalMinutes:e=>e/6e4,ToTotalSeconds:e=>e/1e3,FormatDateWithStyles(e,t,n,s,r){const o=yC(e);if(!o)return;let a={};return xC.call(this,n,"dateStyle",EC,a),xC.call(this,s,"timeStyle",TC,a),IC.call(this,r,a),new NC.DateTimeFormat(o,a).format(t)},FormatDateWithComponents(e,t,n,s,r,o,a,i,l,d){const c=yC(e);if(!c)return;const u={};return xC.call(this,n,"weekday",CC,u),xC.call(this,s,"year",MC,u),xC.call(this,r,"month",VC,u),xC.call(this,o,"day",BC,u),xC.call(this,a,"hour",OC,u),xC.call(this,i,"minute",vC,u),xC.call(this,l,"second",PC,u),IC.call(this,d,u),new NC.DateTimeFormat(c,u).format(t)}}}{const wC=self.C3;wC.Plugins.DrawingCanvas=class extends wC.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const AC=self.C3;AC.Plugins.DrawingCanvas.Type=class extends AC.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{let DC=function(e){return e.map(e=>e.slice(0))},RC=function(e,t){return e.GetWorldInfo().GetZIndex()-t.GetWorldInfo().GetZIndex()},FC=function(e){return XC.setFromJSON(e),XC},jC=function(e){return qC.setFromJSON(e),qC},kC=function(e){if(!tM.has(e))throw new Error("invalid line cap")},LC=function(e){UC.RequireArray(e);for(const t of e)UC.RequireArray(t),UC.RequireFiniteNumber(t[0]),UC.RequireFiniteNumber(t[1])};ClonePolyArray=DC,SortByInstanceZIndex=RC,arrToColor=FC,arrToColor2=jC,ValidateLineCap=kC,ValidatePoly=LC;const WC=self.C3,UC=self.C3X,HC=0,zC=1,YC=3,XC=WC.New(WC.Color),qC=WC.New(WC.Color),KC=WC.New(WC.Rect),JC=WC.New(WC.Quad),$C=WC.New(WC.Quad);let ZC=0;WC.Plugins.DrawingCanvas.Instance=class extends WC.SDKWorldInstanceBase{constructor(e,t){super(e),this._renderTarget=null,this._rcTex=WC.New(WC.Rect);const n=this.GetWorldInfo();this._isFixedResolution=!1,this._fixedResolutionWidth=Math.floor(n.GetWidth()),this._fixedResolutionHeight=Math.floor(n.GetHeight()),this._multisampling=0,this._texRenderTarget=null,this._drawCommands=[],this._currentPoly=[],this._drawBlendMode=0,this._drawScale=1,this._texScale=1,this._lineDashTexture=null,this._savedImageUrl="",this._snapshot=null,this._tempRect=WC.New(WC.Rect),this._deviceQuadUnrotated=WC.New(WC.Quad),this._deviceQuadRotated=WC.New(WC.Quad),t&&(this._isFixedResolution=1===t[HC],n.SetVisible(!!t[zC]),this._multisampling=[0,2,4,8][t[YC]]);const s=this._runtime.GetRenderer();this._SetDrawingBlendMode(0),s.IsWebGL()&&s.GetWebGLVersionNumber()<2&&(this._multisampling=0),this._StartTicking2()}Release(){this._renderTarget&&(this._renderTarget.GetRenderer().DeleteRenderTarget(this._renderTarget),this._renderTarget=null),this._texRenderTarget&&(this._texRenderTarget.GetRenderer().DeleteRenderTarget(this._texRenderTarget),this._texRenderTarget=null),WC.clearArray(this._drawCommands),super.Release()}IsFixedResolutionMode(){return this._isFixedResolution}_GetLineDashTexture(){return this._MaybeCreateLineDashTexture(),this._lineDashTexture}_MaybeCreateLineDashTexture(){if(this._lineDashTexture)return;const e=WC.CreateCanvas(512,8),t=e.getContext("2d");t.clearRect(0,0,512,8),t.fillStyle="white",t.fillRect(0,0,256,8),this._lineDashTexture=this._runtime.GetRenderer().CreateStaticTexture(e,{wrapX:"repeat",sampling:this._runtime.GetSampling()})}_SetDrawingBlendMode(e){this._drawBlendMode=e}_ApplyCurrentDrawingBlendMode(e){e.SetBlendMode(this._drawBlendMode)}_AddDrawCommand(e){this._drawCommands.push(e),this._runtime.UpdateRender()}_SetFixedResolutionMode(e,t){this._isFixedResolution=!0,this._fixedResolutionWidth=Math.floor(e),this._fixedResolutionHeight=Math.floor(t)}_SetAutoResolutionMode(){this._isFixedResolution=!1}_ClearCanvas(e){WC.clearArray(this._drawCommands),this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.ClearCanvas(e))}_ClearRect(e,t,n,s,r){e!==n&&t!==s&&this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.ClearRect(e,t,n,s,r))}_FillRect(e,t,n,s,r){e!==n&&t!==s&&this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.FillRect(e,t,n,s,r))}_FillLinearGradient(e,t,n,s,r,o,a){e!==n&&t!==s&&this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.FillLinearGradient(e,t,n,s,r,o,a))}_FillEllipse(e,t,n,s,r,o){n<=0||s<=0||this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.FillEllipse(e,t,n,s,r,o))}_OutlineEllipse(e,t,n,s,r,o,a){n<=0||s<=0||o<=0||this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.OutlineEllipse(e,t,n,s,r,o,a))}_OutlineRect(e,t,n,s,r,o){e===n||t===s||o<=0||this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.OutlineRect(e,t,n,s,r,o))}_Line(e,t,n,s,r,o,a){e===n&&t===s||o<=0||this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.Line(e,t,n,s,r,o,a))}_LineDashed(e,t,n,s,r,o,a,i){if(e===n&&t===s||o<=0||a<=0)return;const l=this._GetLineDashTexture();this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.LineDashed(e,t,n,s,r,o,a,l,i))}_LinePoly(e,t,n,s){e.length<2||n<=0||this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.LinePoly(DC(e),t,n,s))}_LineDashedPoly(e,t,n,s,r){if(e.length<2||n<=0||s<=0)return;const o=this._GetLineDashTexture();this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.LineDashedPoly(DC(e),t,n,s,o,r))}_FillPoly(e,t,n){e.length<3||this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.FillPoly(DC(e),t,n))}_SetDrawBlend(e){this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.SetDrawBlend(e))}_PasteInstances(e,t){const n=this.GetWorldInfo(),s=n.GetBoundingBox(),r=n.GetBoundingQuad(),o=e.filter(e=>{const t=e.GetWorldInfo();return t&&s.intersectsRect(t.GetBoundingBox())&&(0===n.GetAngle()||r.intersectsQuad(t.GetBoundingQuad()))});if(0===o.length)return;o.sort(RC);let a=null;const i=new Promise(e=>a=e);return this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.DrawInstances(o,t,n,a)),i}_GetPixelScale(){return 1/(this._drawScale*this._texScale)}_UpdateRenderTargetSize(e,t,n){this._renderTarget&&e.DeleteRenderTarget(this._renderTarget),this._renderTarget=e.CreateRenderTarget({width:t,height:n,sampling:this._runtime.GetSampling(),isSampled:0===this._multisampling,canReadPixels:0===this._multisampling,canUpdate:0===this._multisampling,multisampling:this._multisampling}),this._multisampling>0&&(this._texRenderTarget&&e.DeleteRenderTarget(this._texRenderTarget),this._texRenderTarget=e.CreateRenderTarget({width:t,height:n,sampling:this._runtime.GetSampling(),isSampled:!0,canReadPixels:!0,canUpdate:!0})),e.SetTexture(null)}_GetRenderTarget(){return this._renderTarget}_GetTexRenderTarget(){return this._texRenderTarget}GetMultisampling(){return this._multisampling}_SetRenderTargetDeviceTransform(e){this._runtime.GetCanvasManager().SetDeviceTransform(e,this._renderTarget.GetWidth(),this._renderTarget.GetHeight(),!1)}HasAnyDrawingCommandInQueue(){return this._drawCommands.some(e=>!(e instanceof WC.Plugins.DrawingCanvas.DrawCommand.SaveImage))}_CalculateUnrotatedDeviceCoords(e,t){const n=this.GetWorldInfo(),s=n.GetLayer(),r=s.GetLayout(),o=n.GetAngle(),a=s.GetOwnAngle(),i=r.GetAngle();0===o&&0===a&&0===i||(r.SetAngle(0),s.SetAngle(0),n.SetAngle(0),n.SetBboxChanged());const l=n.GetBoundingQuad(),[d,c]=s.LayerToDrawSurface(l.getTlx(),l.getTly()),[u,h]=s.LayerToDrawSurface(l.getBrx(),l.getBry()),_=d-Math.round(d),G=c-Math.round(c);e.set(d,c,u,h),e.offset(-_,-G),e.normalize(),t.setFromRect(e),0===o&&0===a&&0===i||(r.SetAngle(i),s.SetAngle(a),n.SetAngle(o),n.SetBboxChanged())}_CalculateRotatedDeviceCoords(e){const t=this.GetWorldInfo(),n=t.GetLayer(),s=n.GetLayout(),r=n.GetOwnAngle(),o=s.GetAngle();0===r&&0===o||(s.SetAngle(0),n.SetAngle(0));const a=t.GetBoundingQuad(),[i,l]=n.LayerToDrawSurface(a.getTlx(),a.getTly()),[d,c]=n.LayerToDrawSurface(a.getTrx(),a.getTry()),[u,h]=n.LayerToDrawSurface(a.getBrx(),a.getBry()),[_,G]=n.LayerToDrawSurface(a.getBlx(),a.getBly()),p=i-Math.round(i),m=l-Math.round(l);e.set(i,l,d,c,u,h,_,G),e.offset(p,m),0===r&&0===o||(s.SetAngle(o),n.SetAngle(r))}_CalculateSurfaceDeviceSize(){const e=this._runtime.GetRenderer(),t=this._tempRect;this._CalculateUnrotatedDeviceCoords(t,this._deviceQuadUnrotated),this._CalculateRotatedDeviceCoords(this._deviceQuadRotated);let n=0,s=0;if(this._isFixedResolution)n=this._fixedResolutionWidth,s=this._fixedResolutionHeight,e.IsWebGL()?this._rcTex.set(0,1,1,0):this._rcTex.set(0,0,1,1);else{this.GetWorldInfo().GetLayer().RendersIn3DMode()&&this._deviceQuadRotated.getBoundingBox(t);const r=.01,o=t.width(),a=t.height();n=o-Math.floor(o)<r?Math.floor(o):Math.ceil(o),s=a-Math.floor(a)<r?Math.floor(a):Math.ceil(a),e.IsWebGL()?this._rcTex.set(0,1,t.width()/n,1-t.height()/s):this._rcTex.set(0,0,t.width()/n,t.height()/s)}const r=e.GetMaxTextureSize(),o=Math.max(n,s);return o>r?(this._texScale=r/o,n=Math.round(n*this._texScale),s=Math.round(s*this._texScale)):this._texScale=1,[n,s]}_OnResolutionChanged(){this.DispatchScriptEvent("resolutionchange"),this.Trigger(WC.Plugins.DrawingCanvas.Cnds.OnResolutionChanged)}_MaybeCreateRenderTarget(){if(this._renderTarget)return;const[e,t]=this._CalculateSurfaceDeviceSize();e<=0||t<=0||(this._drawScale=KC.width()/this.GetWorldInfo().GetWidth(),this._UpdateRenderTargetSize(this._runtime.GetRenderer(),e,t),this._OnResolutionChanged())}Tick2(){const e=this._runtime.GetRenderer(),t=this.GetWorldInfo(),n=this._tempRect;++ZC;const[s,r]=this._CalculateSurfaceDeviceSize();if(s<=0||r<=0)return void--ZC;this._drawScale=this._isFixedResolution?1:n.width()/t.GetWidth();const o=this._drawScale*this._texScale,a=!this._renderTarget||this._renderTarget.GetWidth()!==s||this._renderTarget.GetHeight()!==r;if(a&&this._OnResolutionChanged(),this._drawCommands.length>0||!this._renderTarget){(!this._renderTarget||a&&this.HasAnyDrawingCommandInQueue())&&this._UpdateRenderTargetSize(e,s,r),e.SetRenderTarget(this._renderTarget),this._SetRenderTargetDeviceTransform(e),this._ApplyCurrentDrawingBlendMode(e),e.IsWebGPU()&&this._multisampling>0&&e.SetRenderingToMultisampleCount(this._multisampling);for(const t of this._drawCommands)t.Do(e,o,this);WC.clearArray(this._drawCommands),e.SetAlphaBlend(),e.IsWebGPU()&&this._multisampling>0&&e.SetRenderingToMultisampleCount(0),this._multisampling>0&&(e.SetRenderTarget(this._texRenderTarget),e.CopyRenderTarget(this._renderTarget,"crop"))}--ZC}Draw(e){const t=this.GetWorldInfo(),n=t.GetLayer(),s=this._runtime.GetCanvasManager(),r=e.GetRenderTarget();let o=this._deviceQuadUnrotated;if(!this._renderTarget)return;e.IsWebGPU()&&e._MaybeDoPendingClearRenderPass(this._renderTarget),0===this._multisampling?e.SetTexture(this._renderTarget.GetTexture()):e.SetTexture(this._texRenderTarget.GetTexture());let a=!1,i=!1;if(ZC>0)this._inst._IsDrawingWithEffects()?o=t.GetBoundingQuad():(s.SetDeviceTransform(e,r.GetWidth(),r.GetHeight(),!1),a=!0,o=this._deviceQuadRotated);else if(0===t.GetAngle()&&0===n.GetAngle()&&0===t.GetTotalZElevation()&&!t.HasMesh()&&n.RendersIn2DMode())if(e.IsWebGL())s.SetDeviceTransform(e),a=!0;else{e.SetNormalizedCoordsProgramVariant(!0),i=!0;const[t,n]=e.GetRenderTargetSize(r);$C.copy(o),$C.divide(t,n),o=$C}else o=t.GetBoundingQuad();t.HasMesh()?this._DrawMesh(e,t):e.Quad3(o,this._rcTex),a&&n._SetTransform(e,!1),i&&e.SetNormalizedCoordsProgramVariant(!1),e.SetTexture(null)}_DrawMesh(e,t){const n=t.GetTransformedMesh();t.IsMeshChanged()&&(t.CalculateBbox(KC,JC,!1),n.CalculateTransformedMesh(t.GetSourceMesh(),JC,this._rcTex),t.SetMeshChanged(!1)),n.Draw(e,t.GetTotalZElevation())}GetSnapshotPixel(e,t){if(!this._snapshot)return[0,0,0,0];const n=this._snapshot.width,s=this._snapshot.height;if(e=Math.floor(e),t=this._runtime.GetRenderer().IsWebGL()?s-1-Math.floor(t):Math.floor(t),e<0||t<0||e>=n||t>=s)return[0,0,0,0];const r=this._snapshot.data,o=t*n*4+4*e;let a=r[o]/255,i=r[o+1]/255,l=r[o+2]/255,d=r[o+3]/255;return 0!==d&&(a/=d,i/=d,l/=d),[100*a,100*i,100*l,100*d]}SetSnapshotPixel(e,t,n){if(!this._snapshot)return[0,0,0,0];XC.setFromRgbValue(n),XC.premultiply();const s=this._snapshot.width,r=this._snapshot.height;if(e=Math.floor(e),t=r-1-Math.floor(t),e<0||t<0||e>=s||t>=r)return;const o=this._snapshot.data,a=t*s*4+4*e;o[a]=Math.floor(255*XC.getR()),o[a+1]=Math.floor(255*XC.getG()),o[a+2]=Math.floor(255*XC.getB()),o[a+3]=Math.floor(255*XC.getA())}GetImagePixelData(){return new Promise(e=>{this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.SaveImage(async t=>{const n=t.data.buffer,s=t.width,r=t.height,o=await this._runtime.AddJob("ProcessImageData",{buffer:n,width:s,height:r,unpremultiply:!0,flipY:this._runtime.GetRenderer().IsWebGL()},[n]);e(new ImageData(new Uint8ClampedArray(o),s,r))}))})}LoadImagePixelData(e,t,n){if(this._MaybeCreateRenderTarget(),!this._renderTarget)throw new Error("invalid canvas size");if(e.width!==this._renderTarget.GetWidth()||e.height!==this._renderTarget.GetHeight())throw new Error(`wrong size ImageData: expected ${this._renderTarget.GetWidth()} x ${this._renderTarget.GetHeight()}, got ${e.width} x ${e.height}`);WC.clearArray(this._drawCommands);const s=this._runtime.GetRenderer();if(this._texRenderTarget){const r=s.GetRenderTarget(),o=this._texRenderTarget.GetTexture();s.UpdateTexture(e,o,{premultiplyAlpha:!!t,flipY:!!n}),s.SetRenderTarget(this._renderTarget),s.CopyRenderTarget(this._texRenderTarget,"crop"),s.SetRenderTarget(r)}else{const r=this._renderTarget.GetTexture();s.UpdateTexture(e,r,{premultiplyAlpha:!!t,flipY:!!n})}this._runtime.UpdateRender()}SaveImage(e,t,n){return new Promise(s=>{this._AddDrawCommand(new WC.Plugins.DrawingCanvas.DrawCommand.SaveImage(async n=>{const r=n.data.buffer,o=n.width,a=n.height,i=this._runtime.GetRenderer().IsWebGL(),l=await this._runtime.AddJob("ProcessImageData",{buffer:r,width:o,height:a,unpremultiply:!0,flipY:i&&!WC.Supports.ImageBitmapOptions},[r]);let d;if(n=new ImageData(new Uint8ClampedArray(l),o,a),WC.Supports.ImageBitmapOptions){const s=await createImageBitmap(n,{premultiplyAlpha:"none",imageOrientation:i?"flipY":"none"});d=await WC.DrawableToBlob(s,e,t)}else d=await WC.ImageDataToBlob(n,e,t);this._savedImageUrl&&URL.revokeObjectURL(this._savedImageUrl),this._savedImageUrl=URL.createObjectURL(d),this.Trigger(WC.Plugins.DrawingCanvas.Cnds.OnSavedImage),s(d)},n))})}GetScriptInterfaceClass(){return self.IDrawingCanvasInstance}};const QC=new WeakMap,eM=["horizontal","vertical"],tM=new Set(["butt","square"]),nM=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]);self.IDrawingCanvasInstance=class extends self.IWorldInstance{constructor(){super(),QC.set(this,self.IInstance._GetInitInst().GetSdkInstance())}setFixedResolutionMode(e,t){UC.RequireFiniteNumber(e),UC.RequireFiniteNumber(t),QC.get(this)._SetFixedResolutionMode(e,t)}setAutoResolutionMode(){QC.get(this)._SetAutoResolutionMode()}clearCanvas(e){UC.RequireArray(e),QC.get(this)._ClearCanvas(FC(e))}clearRect(e,t,n,s,r){UC.RequireFiniteNumber(e),UC.RequireFiniteNumber(t),UC.RequireFiniteNumber(n),UC.RequireFiniteNumber(s),UC.RequireArray(r),QC.get(this)._ClearRect(e,t,n,s,FC(r))}fillRect(e,t,n,s,r){UC.RequireFiniteNumber(e),UC.RequireFiniteNumber(t),UC.RequireFiniteNumber(n),UC.RequireFiniteNumber(s),UC.RequireArray(r),QC.get(this)._FillRect(e,t,n,s,FC(r))}fillLinearGradient(e,t,n,s,r,o,a="horizontal"){UC.RequireFiniteNumber(e),UC.RequireFiniteNumber(t),UC.RequireFiniteNumber(n),UC.RequireFiniteNumber(s),UC.RequireArray(r),UC.RequireArray(o);const i=eM.indexOf(a);if(i<0)throw new Error("invalid gradient direction");QC.get(this)._FillLinearGradient(e,t,n,s,FC(r),jC(o),i)}fillEllipse(e,t,n,s,r,o=!0){UC.RequireFiniteNumber(e),UC.RequireFiniteNumber(t),UC.RequireFiniteNumber(n),UC.RequireFiniteNumber(s),UC.RequireArray(r),QC.get(this)._FillEllipse(e,t,n,s,FC(r),!!o)}outlineEllipse(e,t,n,s,r,o,a=!0){UC.RequireFiniteNumber(e),UC.RequireFiniteNumber(t),UC.RequireFiniteNumber(n),UC.RequireFiniteNumber(s),UC.RequireArray(r),UC.RequireFiniteNumber(o),QC.get(this)._OutlineEllipse(e,t,n,s,FC(r),o,!!a)}outlineRect(e,t,n,s,r,o){UC.RequireFiniteNumber(e),UC.RequireFiniteNumber(t),UC.RequireFiniteNumber(n),UC.RequireFiniteNumber(s),UC.RequireArray(r),UC.RequireFiniteNumber(o),QC.get(this)._OutlineRect(e,t,n,s,FC(r),o)}line(e,t,n,s,r,o,a="butt"){UC.RequireFiniteNumber(e),UC.RequireFiniteNumber(t),UC.RequireFiniteNumber(n),UC.RequireFiniteNumber(s),UC.RequireArray(r),UC.RequireFiniteNumber(o),kC(a),QC.get(this)._Line(e,t,n,s,FC(r),o,a)}lineDashed(e,t,n,s,r,o,a,i="butt"){UC.RequireFiniteNumber(e),UC.RequireFiniteNumber(t),UC.RequireFiniteNumber(n),UC.RequireFiniteNumber(s),UC.RequireArray(r),UC.RequireFiniteNumber(o),UC.RequireFiniteNumber(a),kC(i),QC.get(this)._LineDashed(e,t,n,s,FC(r),o,a,i)}linePoly(e,t,n,s="butt"){LC(e),UC.RequireArray(t),UC.RequireFiniteNumber(n),kC(s),QC.get(this)._LinePoly(e,FC(t),n,s)}lineDashedPoly(e,t,n,s,r="butt"){LC(e),UC.RequireArray(t),UC.RequireFiniteNumber(n),UC.RequireFiniteNumber(s),kC(r),QC.get(this)._LineDashedPoly(e,FC(t),n,s,r)}fillPoly(e,t,n=!1){LC(e),UC.RequireArray(t),QC.get(this)._FillPoly(e,FC(t),!!n)}setDrawBlend(e){const t=nM.get(e);if("number"!=typeof t)throw new Error("invalid blend mode");QC.get(this)._SetDrawBlend(t)}pasteInstances(e,t=!0){UC.RequireArray(e);const n=QC.get(this),s=n.GetRuntime();return n._PasteInstances(e.map(e=>s._UnwrapIWorldInstance(e)),!!t)}getImagePixelData(){return QC.get(this).GetImagePixelData()}loadImagePixelData(e,t=!1){UC.RequireInstanceOf(e,ImageData);const n=QC.get(this);n.LoadImagePixelData(e,t,n.GetRuntime().GetRenderer().IsWebGL())}saveImage(e,t,n){return UC.RequireOptionalString(e),UC.RequireOptionalNumber(t),UC.RequireOptionalInstanceOf(n,DOMRect),n&&(n=WC.Rect.FromObject(n)),QC.get(this).SaveImage(e||"image/png",t,n)}get surfaceDeviceWidth(){const e=QC.get(this);e._MaybeCreateRenderTarget();const t=e._GetRenderTarget();if(!t)throw new Error("invalid canvas size");return t.GetWidth()}get surfaceDeviceHeight(){const e=QC.get(this);e._MaybeCreateRenderTarget();const t=e._GetRenderTarget();if(!t)throw new Error("invalid canvas size");return t.GetHeight()}getSurfaceDeviceSize(){const e=QC.get(this);e._MaybeCreateRenderTarget();const t=e._GetRenderTarget();if(!t)throw new Error("invalid canvas size");return[t.GetWidth(),t.GetHeight()]}get pixelScale(){return QC.get(this)._GetPixelScale()}}}self.C3.Plugins.DrawingCanvas.Cnds={OnSavedImage:()=>!0,OnSnapshot:()=>!0,OnResolutionChanged:()=>!0};{let sM=function(e){return aM.setFromRgbValue(e),aM},rM=function(e){return iM.setFromRgbValue(e),iM};RgbToColor=sM,RgbToColor2=rM;const oM=self.C3,aM=oM.New(oM.Color),iM=oM.New(oM.Color);oM.Plugins.DrawingCanvas.Acts={SetEffect(e){this.GetWorldInfo().SetBlendMode(e),this._runtime.UpdateRender()},SetResolutionMode(e,t,n){1===e?this._SetFixedResolutionMode(t,n):this._SetAutoResolutionMode()},ClearCanvas(e){this._ClearCanvas(sM(e))},ClearRect(e,t,n,s,r){this._ClearRect(e,t,n,s,sM(r))},FillRect(e,t,n,s,r){this._FillRect(e,t,n,s,sM(r))},FillLinearGradient(e,t,n,s,r,o,a){this._FillLinearGradient(e,t,n,s,sM(r),rM(o),a)},FillEllipse(e,t,n,s,r,o){this._FillEllipse(e,t,n,s,sM(r),0!==o)},OutlineEllipse(e,t,n,s,r,o,a){this._OutlineEllipse(e,t,n,s,sM(r),o,0!==a)},OutlineRect(e,t,n,s,r,o){this._OutlineRect(e,t,n,s,sM(r),o)},Line(e,t,n,s,r,o,a){const i=0===a?"butt":"square";this._Line(e,t,n,s,sM(r),o,i)},LineDashed(e,t,n,s,r,o,a,i){const l=0===i?"butt":"square";this._LineDashed(e,t,n,s,sM(r),o,a,l)},AddPolyPoint(e,t){this._currentPoly.push([e,t])},ResetPoly(){oM.clearArray(this._currentPoly)},LinePoly(e,t,n){const s=0===n?"butt":"square";this._LinePoly(this._currentPoly,sM(e),t,s)},LineDashedPoly(e,t,n,s){const r=0===s?"butt":"square";this._LineDashedPoly(this._currentPoly,sM(e),t,n,r)},FillPoly(e,t){this._FillPoly(this._currentPoly,sM(e),t)},SetDrawBlend(e){e>=2&&e++,this._SetDrawBlend(e)},PasteObject(e,t){if(e)return this._PasteInstances(e.GetCurrentSol().GetInstances(),0!==t)},SaveImage(e,t,n,s,r,o){const a=0===e?"image/png":"image/jpeg";t/=100;const i=oM.New(oM.Rect);return i.setWH(n,s,r,o),this.SaveImage(a,t,i)},SaveSnapshot(){return new Promise(e=>{this._AddDrawCommand(new oM.Plugins.DrawingCanvas.DrawCommand.SaveImage(t=>{this._snapshot=t,this.Trigger(oM.Plugins.DrawingCanvas.Cnds.OnSnapshot),e()}))})},ClearSnapshot(){this._snapshot=null},SnapshotSetPixel(e,t,n){this.SetSnapshotPixel(e,t,n)},LoadSnapshot(){this._snapshot&&this._renderTarget&&this._snapshot.width===this._renderTarget.GetWidth()&&this._snapshot.height===this._renderTarget.GetHeight()&&this.LoadImagePixelData(this._snapshot,!1)}}}self.C3.Plugins.DrawingCanvas.Exps={SavedImageURL(){return this._savedImageUrl},SnapshotRedAt(e,t){return this.GetSnapshotPixel(e,t)[0]},SnapshotGreenAt(e,t){return this.GetSnapshotPixel(e,t)[1]},SnapshotBlueAt(e,t){return this.GetSnapshotPixel(e,t)[2]},SnapshotAlphaAt(e,t){return this.GetSnapshotPixel(e,t)[3]},SnapshotWidth(){return this._snapshot?this._snapshot.width:0},SnapshotHeight(){return this._snapshot?this._snapshot.height:0},PixelScale(){return this._GetPixelScale()},SurfaceDeviceWidth(){const e=this._GetRenderTarget();return e?e.GetWidth():0},SurfaceDeviceHeight(){const e=this._GetRenderTarget();return e?e.GetHeight():0}};{const lM=self.C3,dM=lM.New(lM.Quad),cM=lM.New(lM.Rect),uM=lM.New(lM.Quad),hM=lM.New(lM.Vector2);lM.Plugins.DrawingCanvas.DrawCommand=class{constructor(){}Do(e){throw new Error("required override")}};const _M=lM.Plugins.DrawingCanvas.DrawCommand;_M.SaveImage=class extends _M{constructor(e,t){super(),this._callback=e,this._areaRect=t}Do(e,t,n){let s=e.GetRenderTarget();if(s.GetMultisampling()>=2){const t=n._GetTexRenderTarget();e.SetRenderTarget(t),e.CopyRenderTarget(s,"crop"),e.SetRenderTarget(s),s=t}e.ReadBackRenderTargetToImageData(s,!1,this._areaRect).then(this._callback)}},_M.ClearCanvas=class extends _M{constructor(e){super(),this._color=lM.New(lM.Color,e),this._color.premultiply()}Do(e){e.Clear(this._color)}},_M.ClearRect=class extends _M{constructor(e,t,n,s,r){super(),this._rect=lM.New(lM.Rect),this._rect.set(e,t,n,s),this._color=lM.New(lM.Color,r),this._color.premultiply()}Do(e,t,n){this._rect.multiply(t,t),e.SetColorFillMode(),e.SetColor(this._color),e.SetBlendMode(3),e.Rect(this._rect),n._ApplyCurrentDrawingBlendMode(e)}},_M.FillRect=class extends _M{constructor(e,t,n,s,r){super(),this._rect=lM.New(lM.Rect),this._rect.set(e,t,n,s),this._color=lM.New(lM.Color,r),this._color.premultiply()}Do(e,t){e.SetColorFillMode(),e.SetColor(this._color),this._rect.multiply(t,t),e.Rect(this._rect)}},_M.FillLinearGradient=class extends _M{constructor(e,t,n,s,r,o,a){super(),this._rect=lM.New(lM.Rect),this._rect.set(e,t,n,s),this._color1=lM.New(lM.Color,r),this._color2=lM.New(lM.Color,o),this._dir=a}Do(e,t){e.SetLinearGradientFillMode(),e.SetColor(this._color1),e.SetGradientColor(this._color2),this._rect.multiply(t,t),dM.setFromRect(this._rect),0===this._dir?uM.set(0,0,1,0,1,1,0,1):uM.set(0,1,0,0,1,0,1,1),e.Quad4(dM,uM)}},_M.FillEllipse=class extends _M{constructor(e,t,n,s,r,o){super(),this._rect=lM.New(lM.Rect),this._rect.set(e-n,t-s,e+n,t+s),this._color=lM.New(lM.Color,r),this._color.premultiply(),this._isSmooth=o}Do(e,t){this._rect.multiply(t,t),this._isSmooth?(e.SetSmoothEllipseFillMode(),e.SetColor(this._color),this._rect.inflate(.5,.5),e.SetEllipseParams(1/this._rect.width(),1/this._rect.height()),e.Rect(this._rect)):(e.SetHardEllipseFillMode(),e.SetColor(this._color),e.Rect(this._rect))}},_M.OutlineEllipse=class extends _M{constructor(e,t,n,s,r,o,a){super(),this._rect=lM.New(lM.Rect),this._rect.set(e-n,t-s,e+n,t+s),this._color=lM.New(lM.Color,r),this._color.premultiply(),this._thickness=o,this._isSmooth=a}Do(e,t){this._rect.multiply(t,t),this._isSmooth?(e.SetSmoothEllipseOutlineMode(),e.SetColor(this._color),this._rect.inflate(.5,.5),e.SetEllipseParams(1/this._rect.width(),1/this._rect.height(),this._thickness*t),e.Rect(this._rect)):(e.SetHardEllipseOutlineMode(),e.SetEllipseParams(1/this._rect.width(),1/this._rect.height(),this._thickness*t),e.SetColor(this._color),e.Rect(this._rect))}},_M.OutlineRect=class extends _M{constructor(e,t,n,s,r,o){super(),this._rect=lM.New(lM.Rect),this._rect.set(e,t,n,s),this._color=lM.New(lM.Color,r),this._color.premultiply(),this._thickness=o}Do(e,t){e.SetColorFillMode(),e.SetColor(this._color),e.PushLineCapZag(),e.PushLineWidth(this._thickness*t),this._rect.multiply(t,t),e.LineRect2(this._rect),e.PopLineCap(),e.PopLineWidth()}},_M.Line=class extends _M{constructor(e,t,n,s,r,o,a){super(),this._rect=lM.New(lM.Rect),this._rect.set(e,t,n,s),this._color=lM.New(lM.Color,r),this._color.premultiply(),this._thickness=o,this._cap=a}Do(e,t){e.SetColorFillMode(),e.SetColor(this._color),e.PushLineCap(this._cap),e.PushLineWidth(this._thickness*t);const n=this._rect;n.multiply(t,t),e.Line(n.getLeft(),n.getTop(),n.getRight(),n.getBottom()),e.PopLineCap(),e.PopLineWidth()}},_M.LinePoly=class extends _M{constructor(e,t,n,s){super(),this._poly=e,this._color=lM.New(lM.Color,t),this._color.premultiply(),this._thickness=n,this._cap=s}Do(e,t){e.SetColorFillMode(),e.SetColor(this._color),e.PushLineCap(this._cap),e.PushLineWidth(this._thickness*t);const n=this._poly;for(let s=0,r=n.length;s<r;++s){const o=(s+1)%r,a=n[s][0]*t,i=n[s][1]*t,l=n[o][0]*t,d=n[o][1]*t;e.Line(a,i,l,d)}e.PopLineCap(),e.PopLineWidth()}},_M.LineDashed=class extends _M{constructor(e,t,n,s,r,o,a,i,l){super(),this._rect=lM.New(lM.Rect),this._rect.set(e,t,n,s),this._color=lM.New(lM.Color,r),this._color.premultiply(),this._thickness=o,this._dashLength=a,this._dashTex=i,this._cap=l}Do(e,t){e.SetTextureFillMode(),e.SetTexture(this._dashTex),e.SetColor(this._color),e.PushLineCap(this._cap),e.PushLineWidth(this._thickness*t);const n=this._rect,s=lM.distanceTo(n.getLeft(),n.getTop(),n.getRight(),n.getBottom())/(2*this._dashLength);n.multiply(t,t),e.TexturedLine(n.getLeft(),n.getTop(),n.getRight(),n.getBottom(),0,s),e.PopLineCap(),e.PopLineWidth()}},_M.LineDashedPoly=class extends _M{constructor(e,t,n,s,r,o){super(),this._poly=e,this._color=lM.New(lM.Color,t),this._color.premultiply(),this._thickness=n,this._dashLength=s,this._dashTex=r,this._cap=o}Do(e,t){e.SetTextureFillMode(),e.SetTexture(this._dashTex),e.SetColor(this._color),e.PushLineCap(this._cap),e.PushLineWidth(this._thickness*t);let n=0;const s=this._poly;for(let r=0,o=s.length;r<o;++r){const a=(r+1)%o,i=s[r][0],l=s[r][1],d=s[a][0],c=s[a][1],u=n+lM.distanceTo(i,l,d,c)/(2*this._dashLength);e.TexturedLine(i*t,l*t,d*t,c*t,n,u),n=u-Math.floor(u)}e.PopLineCap(),e.PopLineWidth()}},_M.FillPoly=class extends _M{constructor(e,t,n){super(),this._poly=e,this._isConvex=n,this._color=lM.New(lM.Color,t),this._color.premultiply()}Do(e,t){e.SetColorFillMode(),e.SetColor(this._color);const n=this._poly;for(let e=0,s=n.length;e<s;++e){const s=n[e];s[0]*=t,s[1]*=t}if(this._isConvex)e.ConvexPoly(n.flat());else{const t=self.polyDecomp;if(!t.isSimple(n))return;t.makeCCW(n),t.removeCollinearPoints(n,lM.toRadians(.1));const s=t.quickDecomp(n,[],[],[],25,1e3);for(const t of s)e.ConvexPoly(t.flat())}}},_M.SetDrawBlend=class extends _M{constructor(e){super(),this._blendIndex=e}Do(e,t,n){n._SetDrawingBlendMode(this._blendIndex),n._ApplyCurrentDrawingBlendMode(e)}},_M.DrawInstances=class extends _M{constructor(e,t,n,s){super();const r=n.GetLayer();this._includeFx=t,this._resolve=s,this._layoutTransform=r.GetLayout().SaveTransform(),this._layerTransforms=new Map,this._layerTransforms.set(r,r.SaveTransform()),this._instances=e.map(e=>this._SaveInstanceState(e,n))}_SaveInstanceState(e,t){const n=t.GetAngle(),s=t.GetLayer(),r=e.GetWorldInfo(),o=r.GetLayer(),a=r.GetX(),i=r.GetY(),l=r.GetWidth(),d=r.GetHeight(),c=r.GetAngle();this._layerTransforms.has(o)||this._layerTransforms.set(o,o.SaveTransform());const u=s.IsTransformCompatibleWith(o);if(!u){const[e,t]=o.LayerToDrawSurface(a,i),[n,c]=s.DrawSurfaceToLayer(e,t);r.SetXY(n,c);const u=o.GetNormalScale()/s.GetNormalScale();r.SetSize(l*u,d*u);const h=s.GetOwnAngle()-o.GetOwnAngle();r.OffsetAngle(h)}if(0!==n){const e=t.GetBoundingQuad(),s=e.midX(),o=e.midY(),l=-t.GetSinAngle(),d=t.GetCosAngle();hM.set(a,i),hM.offset(-s,-o),hM.rotatePrecalc(l,d),hM.offset(s,o),r.SetXY(hM.getX(),hM.getY()),r.OffsetAngle(-n)}0===n&&u||r.SetBboxChanged();const h=[e,e.SaveToJson("visual-state")];return 0===n&&u||(r.SetXY(a,i),r.SetSize(l,d),r.SetAngle(c),r.SetBboxChanged()),h}Do(e,t,n){const s=n.GetRuntime().GetCanvasManager(),r=n.GetWorldInfo().GetLayer(),o=r.GetLayout(),a=r.GetViewport(),i=n.GetWorldInfo().GetBoundingBox(),l=n._GetRenderTarget(),d=n.GetMultisampling()>=2,c=this._includeFx,u=o.SaveTransform();o.RestoreTransform(this._layoutTransform);const h=new Map;for(const[e,t]of this._layerTransforms)h.set(e,e.SaveTransform()),e.RestoreTransform(t);s.SetIsPastingToDrawingCanvas(!0);const _=(a.width()-i.width())/-2,G=(a.height()-i.height())/-2,[p,m]=r.LayerToDrawSurface(i.getLeft(),i.getTop());s.SetDeviceTransformOffset(p,m);const g=_+(i.getLeft()-a.getLeft()),f=G+(i.getTop()-a.getTop()),N=l.GetHeight();let b=1;b=n.IsFixedResolutionMode()?l.GetWidth()/Math.floor(i.width())/r.GetNormalScale():s.GetRenderScale()*self.devicePixelRatio;const S=N/b;e.SetProjectionMatrix(l.GetProjectionMatrix()),r._SetTransform(e,!1,g,f,S);for(let t=0,o=this._instances.length;t<o;++t){const o=this._instances[t],a=o[0],i=o[1];if(a.IsDestroyed())continue;const u=a.GetWorldInfo(),h=a.SaveToJson("visual-state");if(a.LoadFromJson(i,"visual-state"),u.GetBoundingBox(),!c||!u.HasAnyActiveEffect()||d&&u.GetInstanceEffectList().HasAnyActiveBackgroundBlendingEffect())r._DrawInstance(a,u,e);else{const t={drawContentHook:(e,t,n)=>{s.SetDeviceTransformOffset(0,0),r._SetTransform(t),n(),s.SetDeviceTransformOffset(p,m),e._SetDeviceTransform(t)},compositOffX:p,compositOffY:m,updateOwnProjection:!0};n.IsFixedResolutionMode()&&(n._CalculateRotatedDeviceCoords(dM),dM.getBoundingBox(cM),t.compositRtWidth=cM.width(),t.compositRtHeight=cM.height()),a._SetIsDrawingWithEffects(!0),r._DrawInstanceWithEffects(a,u,e,l,t)&&r._SetTransform(e,!1,g,f,S),a._SetIsDrawingWithEffects(!1)}a.LoadFromJson(h,"visual-state")}s.SetDeviceTransformOffset(0,0),s.SetIsPastingToDrawingCanvas(!1),n._SetRenderTargetDeviceTransform(e),n._ApplyCurrentDrawingBlendMode(e),o.RestoreTransform(u);for(const[e,t]of h)e.RestoreTransform(t);this._resolve()}}}{const GM=self.C3;GM.Plugins.PlatformInfo=class extends GM.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const pM=self.C3;pM.Plugins.PlatformInfo.Type=class extends pM.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const mM=self.C3,gM="platform-info";mM.Plugins.PlatformInfo.Instance=class extends mM.SDKInstanceBase{constructor(e,t){super(e,gM),this._screenWidth=0,this._screenHeight=0,this._windowOuterWidth=0,this._windowOuterHeight=0,this._safeAreaInset=[0,0,0,0],this._supportsWakeLock=!1,this._isWakeLockActive=!1,this.AddDOMMessageHandlers([["window-resize",e=>this._OnWindowResize(e)],["wake-lock-acquired",e=>this._OnWakeLockAcquired(e)],["wake-lock-error",e=>this._OnWakeLockError(e)],["wake-lock-released",e=>this._OnWakeLockReleased(e)]]),navigator.connection&&navigator.connection.addEventListener("change",()=>this._OnNetworkChange()),this._runtime.AddLoadPromise(this.PostToDOMAsync("get-initial-state").then(e=>{this._screenWidth=e.screenWidth,this._screenHeight=e.screenHeight,this._windowOuterWidth=e.windowOuterWidth,this._windowOuterHeight=e.windowOuterHeight,this._safeAreaInset=e.safeAreaInset,this._supportsWakeLock=e.supportsWakeLock}))}Release(){super.Release()}_OnWindowResize(e){this._windowOuterWidth=e.windowOuterWidth,this._windowOuterHeight=e.windowOuterHeight,this._safeAreaInset=e.safeAreaInset}async _OnNetworkChange(){await this.TriggerAsync(mM.Plugins.PlatformInfo.Cnds.OnNetworkChange)}async _OnWakeLockAcquired(){this._isWakeLockActive=!0,await this.TriggerAsync(mM.Plugins.PlatformInfo.Cnds.OnWakeLockAcquired)}async _OnWakeLockError(){this._isWakeLockActive=!1,await this.TriggerAsync(mM.Plugins.PlatformInfo.Cnds.OnWakeLockError)}async _OnWakeLockReleased(){this._isWakeLockActive=!1,await this.TriggerAsync(mM.Plugins.PlatformInfo.Cnds.OnWakeLockReleased)}}}{const fM=self.C3;fM.Plugins.PlatformInfo.Cnds={IsOnMobile:()=>fM.Platform.IsMobile,IsOnWindows:()=>"Windows"===fM.Platform.OS,IsOnMacOS:()=>"macOS"===fM.Platform.OS,IsOnLinux:()=>"Linux"===fM.Platform.OS,IsOnChromeOS:()=>"Chrome OS"===fM.Platform.OS,IsOnAndroid:()=>"Android"===fM.Platform.OS,IsOniOS:()=>"iOS"===fM.Platform.OS,IsWebExport(){const e=this._runtime.GetExportType();return"html5"===e||"scirra-arcade"===e||"preview"===e||"instant-games"===e},IsCordovaExport(){return this._runtime.IsCordova()},IsNWjsExport(){return this._runtime.IsNWjs()},IsWindowsUWPExport(){return"windows-uwp"===this._runtime.GetExportType()},IsWindowsWebView2Export(){return this._runtime.IsWindowsWebView2()},IsMacOSWKWebView2Export(){return"macos-wkwebview"===this._runtime.GetExportType()},IsLinuxCEFExport(){return"linux-cef"===this._runtime.GetExportType()},OnNetworkChange:()=>!0,OnWakeLockAcquired:()=>!0,OnWakeLockError:()=>!0,OnWakeLockReleased:()=>!0,IsWakeLockActive(){return this._isWakeLockActive},IsWakeLockSupported(){return this._supportsWakeLock}}}self.C3.Plugins.PlatformInfo.Acts={RequestWakeLock(){this._supportsWakeLock&&this._PostToDOMMaybeSync("request-wake-lock")},ReleaseWakeLock(){this._supportsWakeLock&&(this._isWakeLockActive=!1,this.PostToDOM("release-wake-lock"))}},self.C3.Plugins.PlatformInfo.Exps={Renderer(){return this._runtime.GetCanvasManager().GetRendererString()},RendererDetail(){return this._runtime.GetCanvasManager().GetRendererDetailString()},DevicePixelRatio(){return this._runtime.GetDevicePixelRatio()},ScreenWidth(){return this._screenWidth},ScreenHeight(){return this._screenHeight},WindowInnerWidth(){return this._runtime.GetCanvasManager().GetLastWidth()},WindowInnerHeight(){return this._runtime.GetCanvasManager().GetLastHeight()},WindowOuterWidth(){return this._windowOuterWidth},WindowOuterHeight(){return this._windowOuterHeight},CanvasCssWidth(){return this._runtime.GetCanvasManager().GetCssWidth()},CanvasCssHeight(){return this._runtime.GetCanvasManager().GetCssHeight()},CanvasDeviceWidth(){return this._runtime.GetCanvasManager().GetDeviceWidth()},CanvasDeviceHeight(){return this._runtime.GetCanvasManager().GetDeviceHeight()},Downlink:()=>navigator.connection&&navigator.connection.downlink||0,DownlinkMax:()=>navigator.connection&&navigator.connection.downlinkMax||0,ConnectionType:()=>navigator.connection&&navigator.connection.type||"unknown",ConnectionEffectiveType:()=>navigator.connection&&navigator.connection.effectiveType||"unknown",ConnectionRTT:()=>navigator.connection&&navigator.connection.rtt||0,HardwareConcurrency:()=>navigator.hardwareConcurrency||0,DeviceMemory:()=>navigator.deviceMemory||0,SafeAreaInsetTop(){return this._safeAreaInset[0]},SafeAreaInsetRight(){return this._safeAreaInset[1]},SafeAreaInsetBottom(){return this._safeAreaInset[2]},SafeAreaInsetLeft(){return this._safeAreaInset[3]},FramesPerSecond(){return this._runtime.GetFramesPerSecond()},TicksPerSecond(){return this._runtime.GetTicksPerSecond()}};{const NM=self.C3;NM.Plugins.Internationalization=class extends NM.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{let bM=function(){return yM.GetSingleGlobalInstance().GetSdkInstance()};GetSdkInstance=bM;const SM=globalThis.C3,xM=globalThis.C3X;SM.Plugins.Internationalization.Type=class extends SM.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}GetScriptInterfaceClass(){return globalThis.IInternationalizationObjectType}};class IM{#t;#e;constructor(e,t){this.#t=e,this.#e=t}lookup(e,...t){xM.RequireString(e);const n=e.startsWith(".")?this.#e+e:e;return this.#t.lookup(n,...t)}lookupPlural(e,t,...n){xM.RequireString(e),xM.RequireFiniteNumber(t);const s=e.startsWith(".")?this.#e+e:e;return this.#t.lookupPlural(s,t,...n)}createContext(e){if(xM.RequireString(e),!e.startsWith("."))throw new Error("expected relative context");return new IM(this.#t,this.#e+e)}}let yM=null;globalThis.IInternationalizationObjectType=class extends globalThis.IObjectType{constructor(e){super(e),yM=e}set locale(e){bM()._SetLocale(e)}get locale(){return bM()._GetLocale()}addString(e,t){xM.RequireString(e),xM.RequireString(t),bM()._AddStringToContext(e,t)}saveToJSONString(){return bM()._SaveLocalizationJson()}loadFromJSONString(e){xM.RequireString(e),bM()._LoadLocalizationJson(e)}setContext(e){xM.RequireString(e),bM()._SetContext(e)}getContext(){return bM()._GetContext()}pushContext(e){xM.RequireString(e),bM()._PushContext(e)}popContext(){bM()._PopContext()}createContext(e){if(xM.RequireString(e),e.startsWith("."))throw new Error("expected absolute context");return new IM(this,e)}lookup(e,...t){return xM.RequireString(e),bM()._LookupStringInContextAndDoSubstitutions(e,...t)}lookupPlural(e,t,...n){return xM.RequireString(e),xM.RequireFiniteNumber(t),bM()._LookupPluralAndDoSubstitutions(e,t,...n)}}}{const EM=self.C3,TM=self.Intl,CM=["symbol","narrowSymbol","code","name"],MM=["long","short","narrow"],VM="<???>";EM.Plugins.Internationalization.Instance=class extends EM.SDKInstanceBase{constructor(e){super(e),this._locale="",this._contextString="",this._contextArray=[],this._stackAmounts=[],this._stringMap=new Map,this._SetLocale(self.navigator.language)}Release(){EM.clearArray(this._contextArray),this._contextArray=null,EM.clearArray(this._stackAmounts),this._stackAmounts=null,this._stringMap.clear(),this._stringMap=null,super.Release()}_SetLocale(e){try{const t=TM.getCanonicalLocales(e);this._locale=t[0]}catch(t){return void this._Warn(`invalid locale ${e}`)}this._stringMap.has(this._locale)||this._stringMap.set(this._locale,new Map)}_GetLocale(){return this._locale}_SetContext(e){const t=this._GetContextArray(e);this._IsContextArrayValid(t,"can not set empty context")&&(this._IsContextRelative(t)?(this._stackAmounts.push(t.length),this._contextString=this._contextString+t.join(""),this._contextArray=this._contextArray.concat(t)):(EM.clearArray(this._stackAmounts),this._stackAmounts.push(t.length),this._contextString=t.join(""),this._contextArray=t))}_GetContext(){return this._contextString}_PushContext(e){const t=this._GetContextArray(e);this._IsContextArrayValid(t,"can not push empty context")&&(this._IsContextRelative(t)?this._IsContextStringValid(this._contextString,"relative context can not be pushed on a non existing context")&&this._SetContext(e):this._IsContextStringInValid(this._contextString,"absolute context can not be pushed on a existing context")&&this._SetContext(e))}_PopContext(){if(this._stackAmounts.length){let e=this._stackAmounts.pop();for(;e;)this._contextArray.pop(),this._contextString=this._contextArray.join(""),e--}}_AddStringToContext(e,t){const n=this._GetContextArray(e);this._IsContextArrayValid(n,"can not add string to invalid context")&&(this._IsContextRelative(n)?this._IsContextStringValid(this._contextString,"can not add string with relative context, there is no existing context to append to")&&this._AddStringToContext(this._contextString+n.join(""),t):this._stringMap.get(this._locale).set(n.join(""),t))}_LookupStringInContext(e){const t=this._GetContextArray(e);if(!this._IsContextArrayValid(t,"can not lookup string on invalid context"))return VM;if(this._IsContextRelative(t,"can not look up string with relative context, there is no existing context to append to")){if(this._IsContextStringValid(this._contextString)){return this._stringMap.get(this._locale).get(this._contextString+t.join(""))||VM}}else if(this._IsContextStringInValid(this._contextString,"can not do absolute lookup with an existing context")){return this._stringMap.get(this._locale).get(t.join(""))||VM}return VM}_LookupStringInContextAndDoSubstitutions(e,...t){let n=this._LookupStringInContext(e);const s=this._HasValidPlaceHolders(n);if(s){const e=/\d+/g;for(const r of s){const s=r.match(e).map(e=>Number(e));if(s)for(const e of s){const s=t[e];"string"!=typeof s&&"number"!=typeof s||(n=n.replace(r,s))}}}return n}_LookupPluralAndDoSubstitutions(e,t,...n){const s=this._SelectPluralRule(t);return s?this._LookupStringInContextAndDoSubstitutions(`${e}.${s}`,t,...n):VM}_SelectPluralRule(e){return new TM.PluralRules(this._locale).select(e)}_GetPluralCategoryCount(){const e=new TM.PluralRules(this._locale).resolvedOptions().pluralCategories;return Array.isArray(e)?e.length:0}_GetPluralCategoryAt(e){const t=new TM.PluralRules(this._locale).resolvedOptions().pluralCategories;return Array.isArray(t)?t[e]:""}_GetNumberAsDecimal(e){return new TM.NumberFormat(this._locale,{style:"decimal"}).format(e)}_GetNumberAsPercent(e){return new TM.NumberFormat(this._locale,{style:"percent"}).format(e)}_GetNumberAsCurrency(e,t,n){if(!TM.supportedValuesOf("currency").includes(t))return this._Warn(`currency ${t} is not supported. Supported values are ${TM.supportedValuesOf("currency")}`),"";const s={};return s.currency=t,s.style="currency",CM.includes(n)&&(s.currencyDisplay=n),new TM.NumberFormat(this._locale,s).format(e)}_GetNumberWithUnit(e,t,n){if(!TM.supportedValuesOf("unit").includes(t))return this._Warn(`unit ${t} is not supported. Supported values are ${TM.supportedValuesOf("unit")}`),"";const s={style:"unit"};return s.unit=t,MM.includes(n)&&(s.unitDisplay=n),new TM.NumberFormat(this._locale,s).format(e)}_GetRegionName(e){const t=new TM.DisplayNames([this._locale],{type:"region"});if(t)try{const n=TM.getCanonicalLocales(e)[0],s=new TM.Locale(n),r=t.of(s.region);if(r)return r}catch(e){}return this._Warn(`no region name found for ${e}`),""}_GetLanguageName(e){const t=new TM.DisplayNames([this._locale],{type:"language"});if(t)try{const n=TM.getCanonicalLocales(e)[0],s=t.of(n);if(s)return s}catch(e){}return this._Warn(`no language name found for ${e}`),""}_GetCurrencyName(e){return TM.supportedValuesOf("currency").includes(e)?new TM.DisplayNames([this._locale],{type:"currency"}).of(e):(this._Warn(`currency ${e} is not supported. Supported values are ${TM.supportedValuesOf("currency")}`),"")}_GetContextArray(e){return e.match(/[.]?[^.\r\n\t]+/g)}_HasValidPlaceHolders(e){return e.match(/{\d+}/g)}_IsContextArrayValid(e,t){return!(!e||!e.length)||(t&&this._Warn(t),!1)}_IsContextStringValid(e,t){return!!e||(t&&this._Warn(t),!1)}_IsContextStringInValid(e,t){return!e||(t&&this._Warn(t),!1)}_IsContextRelative(e){return"."===e[0][0]}_Warn(e){console.warn(`[INTERNATIONALIZATION] ${e}`)}_SaveLocalizationJson(){let e={locale:"",strings:{}};for(const[t,n]of this._stringMap.entries()){if(t!==this._locale)continue;const s={};for(const[e,t]of n.entries()){const n=e.split("."),r=n.pop();let o=s;for(const e of n)s.hasOwnProperty(e)||(s[e]={}),o=s[e];o[r]=t}e.locale=t,e.strings=s}return JSON.stringify(e)}_LoadLocalizationJson(e){let t;try{t=JSON.parse(e)}catch(e){this._Warn("invalid json internationalization file"),t=null}if(!t)return;if(!t.hasOwnProperty("strings")||"object"!=typeof t.strings)return void this._Warn("missing required 'strings' property in json internationalization file");let n="";try{n=t.hasOwnProperty("locale")?TM.getCanonicalLocales(t.locale)[0]:this._locale}catch(e){this._Warn(`json 'locale' key does not have a valid locale string, defaulting to ${this._locale}`)}this._contextString="",this._contextArray=[];const s=new Map;this._CacheStringMap(s,t.strings,""),this._stringMap.set(n,s)}_CacheStringMap(e,t,n){n&&(n+=".");for(let[s,r]of Object.entries(t)){const t=n+s;"object"==typeof r?this._CacheStringMap(e,r,t):"string"==typeof r?e.set(t,r):"number"==typeof r&&e.set(t,String(r))}}}}{const BM=self.C3;BM.Plugins.Internationalization.Cnds={CompareCurrentLocale(e,t){try{const n=Intl.getCanonicalLocales(t);return BM.compare(this._locale,e,n[0])}catch(e){return!1}}}}{const OM=self.C3;self.Intl,OM.Plugins.Internationalization.Acts={SetLocale(e){this._SetLocale(e)},SetContext(e){this._SetContext(e)},PushContext(e){this._PushContext(e)},PopContext(){this._PopContext()},AddString(e,t){this._AddStringToContext(e,t)},LoadFromJSON(e){this._LoadLocalizationJson(e)}}}self.C3.Plugins.Internationalization.Exps={Locale(){return this._GetLocale()},DefaultLocale:()=>self.navigator.language,Lookup(e,...t){return this._LookupStringInContextAndDoSubstitutions(e,...t)},LookupPlural(e,t,...n){return this._LookupPluralAndDoSubstitutions(e,t,...n)},CurrentContext(){return this._GetContext()},SelectPlural(e){return this._SelectPluralRule(e)},PluralCategoryCount(){return this._GetPluralCategoryCount()},PluralCategoryAt(e){return this._GetPluralCategoryAt(e)},SaveToJSON(){return this._SaveLocalizationJson()},FormatNumberAsDecimal(e){return this._GetNumberAsDecimal(e)},FormatNumberAsPercent(e){return this._GetNumberAsPercent(e)},FormatNumberAsCurrency(e,t,n){return this._GetNumberAsCurrency(e,t,n)},FormatNumberWithUnit(e,t,n){return this._GetNumberWithUnit(e,t,n)},RegionName(e){return this._GetRegionName(e)},LanguageName(e){return this._GetLanguageName(e)},CurrencyName(e){return this._GetCurrencyName(e)}};{const vM=self.C3;vM.Plugins.Clipboard=class extends vM.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const PM=self.C3;PM.Plugins.Clipboard.Type=class extends PM.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const wM=self.C3,AM="clipboard";wM.Plugins.Clipboard.Instance=class extends wM.SDKInstanceBase{constructor(e,t){super(e,AM),this._copyResolve=null,this._requestPasteResolve=null,this._pastedText="",this._pastedBinaryArrayBuffer=null,this._pastedBinaryType="",this.AddDOMMessageHandlers([["copy-result",e=>this._OnCopyResult(e)],["request-paste-text-result",e=>this._OnRequestPasteTextResult(e)],["request-paste-binary-result",e=>this._OnRequestPasteBinaryResult(e)],["window-paste-text",e=>this._OnWindowPasteText(e)],["window-paste-binary",e=>this._OnWindowPasteBinary(e)]])}GetPastedText(){return this._pastedText}async _OnCopyResult(e){this._copyResolve&&(this._copyResolve(),this._copyResolve=null),e.isOk?await this.TriggerAsync(wM.Plugins.Clipboard.Cnds.OnCopySuccess):await this.TriggerAsync(wM.Plugins.Clipboard.Cnds.OnCopyError)}async _OnRequestPasteTextResult(e){this._requestPasteResolve&&(this._requestPasteResolve(),this._requestPasteResolve=null),e.isOk?(this._pastedText=e.text,await this.TriggerAsync(wM.Plugins.Clipboard.Cnds.OnPasteText)):await this.TriggerAsync(wM.Plugins.Clipboard.Cnds.OnPasteError)}async _OnRequestPasteBinaryResult(e){if(this._requestPasteResolve&&(this._requestPasteResolve(),this._requestPasteResolve=null),e.isOk){for(const[t,n]of e.binary)this._pastedBinaryType=t,this._pastedBinaryArrayBuffer=n,await this.TriggerAsync(wM.Plugins.Clipboard.Cnds.OnPasteBinary);this._pastedBinaryType="",this._pastedBinaryArrayBuffer=null}else await this.TriggerAsync(wM.Plugins.Clipboard.Cnds.OnPasteError)}async _OnWindowPasteText(e){this._pastedText=e.text,await this.TriggerAsync(wM.Plugins.Clipboard.Cnds.OnPasteText)}async _OnWindowPasteBinary(e){this._pastedBinaryType=e.type,this._pastedBinaryArrayBuffer=e.arrayBuffer,await this.TriggerAsync(wM.Plugins.Clipboard.Cnds.OnPasteBinary),this._pastedBinaryType="",this._pastedBinaryArrayBuffer=null}}}{const DM=self.C3;DM.Plugins.Clipboard.Cnds={OnCopySuccess:()=>!0,OnCopyError:()=>!0,OnPasteText:()=>!0,OnPasteBinary(e,t){if(!DM.equalsNoCase(this._pastedBinaryType,t))return!1;if(!e)return!1;const n=e.GetFirstPicked(this._inst);return!!n&&(n.GetSdkInstance().SetArrayBufferCopy(this._pastedBinaryArrayBuffer),!0)},OnPasteError:()=>!0}}self.C3.Plugins.Clipboard.Acts={CopyText(e){return this._PostToDOMMaybeSync("copy-text",{text:e}),new Promise(e=>this._copyResolve=e)},CopyBinary(e,t){if(!e)return;const n=e.GetFirstPicked(this._inst);if(!n)return;const s=n.GetSdkInstance();return this._PostToDOMMaybeSync("copy-binary",{arrayBuffer:s.GetArrayBufferReadOnly(),type:t}),new Promise(e=>this._copyResolve=e)},RequestPasteText(){return this._PostToDOMMaybeSync("request-paste-text"),new Promise(e=>this._requestPasteResolve=e)},RequestPasteBinary(){return this._PostToDOMMaybeSync("request-paste-binary"),new Promise(e=>this._requestPasteResolve=e)}},self.C3.Plugins.Clipboard.Exps={PastedText(){return this._pastedText}};{const RM=self.C3;RM.Plugins.CSV=class extends RM.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{let FM=function(){return LM.GetSingleGlobalInstance().GetSdkInstance()};GetSdkInstance=FM;const jM=self.C3,kM=self.C3X;jM.Plugins.CSV.Type=class extends jM.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}GetScriptInterfaceClass(){return self.ICSVObjectType}};let LM=null;const WM=["auto","string","number"];self.ICSVObjectType=class extends self.IObjectType{constructor(e){super(e),LM=e}parseCsv(e,t=",",n="auto"){kM.RequireString(e),kM.RequireString(t);const s=WM.indexOf(n);if(-1===s)throw new Error("invalid data type");return FM()._ParseCSV(e,t,s)}generateCsv(e,t=","){return kM.RequireArray(e),kM.RequireString(t),FM()._StringifyCSV(e,t)}}}{const UM=self.C3;UM.Plugins.CSV.Instance=class extends UM.SDKInstanceBase{constructor(e,t){super(e),this._generatedCsv=""}Release(){super.Release()}_GetArraySdkInstance(e){if(!e)return null;const t=e.GetFirstPicked(this._inst);return t?t.GetSdkInstance():null}_ParseCSV(e,t,n){return self.csv_parse_sync.parse(e,{delimiter:t,relax_column_count:!0,skip_empty_lines:!0,cast:(e,t)=>{if(0===n){if(t.quoting)return e;const n=e.trim();return n===String(Number(n))?Number(n):e}return 2===n?Number(e.trim()):e}})}_StringifyCSV(e,t){return self.csv_stringify_sync.stringify(e,{delimiter:t,cast:{string:e=>String(Number(e))===e?{value:e,quoted:!0}:{value:e}}})}}}self.C3.Plugins.CSV.Cnds={OnParseError:()=>!0,OnParseSuccess:()=>!0};{const HM=self.C3;HM.Plugins.CSV.Acts={ParseCSV(e,t,n,s){const r=this._GetArraySdkInstance(n);if(r)try{const n=this._ParseCSV(e,t,s),o=n.reduce((e,t)=>Math.max(e,t.length),0);r.SetSize(o,n.length,1);for(let e=0,t=n.length;e<t;++e){const t=n[e];for(let n=0,s=t.length;n<s;++n)r.Set(n,e,0,t[n]);for(let n=t.length;n<o;n++)r.Set(n,e,0,1===s?"":0)}this.Trigger(HM.Plugins.CSV.Cnds.OnParseSuccess)}catch(e){console.error("Error parsing CSV: ",e),this.Trigger(HM.Plugins.CSV.Cnds.OnParseError)}},GenerateCSV(e,t){this._generatedCsv="";const n=this._GetArraySdkInstance(e);if(!n)return;const s=n.GetWidth(),r=n.GetHeight();if(0===n.GetDepth())return;const o=[];for(let e=0;e<r;++e){const t=[];for(let r=0;r<s;++r)t.push(n.At(r,e,0));o.push(t)}this._generatedCsv=this._StringifyCSV(o,t)}}}self.C3.Plugins.CSV.Exps={GeneratedCSV(){return this._generatedCsv},TabCharacter:()=>"\t"};{const zM=self.C3;zM.Plugins.TiledBg=class extends zM.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{let YM=function(e){switch(e){case 0:return"clamp-to-edge";case 1:return"repeat";case 2:return"mirror-repeat"}return"repeat"};WrapModeToStr=YM;const XM=self.C3;XM.Plugins.TiledBg.Type=class extends XM.SDKTypeBase{constructor(e,t){super(e),this._wrapX="repeat",this._wrapY="repeat",t&&(this._wrapX=YM(t[0]),this._wrapY=YM(t[1]))}Release(){super.Release()}OnCreate(){this.GetImageInfo().LoadAsset(this._runtime)}LoadTextures(e){return this.GetImageInfo().LoadStaticTexture(e,{sampling:this._runtime.GetSampling(),wrapX:this._wrapX,wrapY:this._wrapY})}ReleaseTextures(){this.GetImageInfo().ReleaseTexture()}GetWrapModeX(){return this._wrapX}GetWrapModeY(){return this._wrapY}}}{const qM=self.C3,KM=self.C3X,JM=0,$M=4,ZM=5,QM=6,eV=7,tV=8,nV=9,sV=10,rV=11,oV=12,aV=13,iV=14,lV=qM.New(qM.Rect),dV=qM.New(qM.Quad),cV=qM.New(qM.Rect),uV=qM.New(qM.Quad);qM.Plugins.TiledBg.Instance=class extends qM.SDKWorldInstanceBase{constructor(e,t){super(e),this._imageOffsetX=0,this._imageOffsetY=0,this._imageScaleX=1,this._imageScaleY=1,this._imageAngle=0,this._enableTileRandomization=!1,this._tileXRandom=0,this._tileYRandom=0,this._tileAngleRandom=0,this._tileBlendMarginX=0,this._tileBlendMarginY=0,this._ownImageInfo=null,t&&(this.GetWorldInfo().SetVisible(!!t[JM]),this._imageOffsetX=t[$M],this._imageOffsetY=t[ZM],this._imageScaleX=t[QM],this._imageScaleY=t[eV],this._imageAngle=qM.toRadians(t[tV]),this._enableTileRandomization=!!t[nV],this._tileXRandom=t[sV],this._tileYRandom=t[rV],this._tileAngleRandom=t[oV],this._tileBlendMarginX=t[aV],this._tileBlendMarginY=t[iV])}Release(){this._ReleaseOwnImage(),super.Release()}_ReleaseOwnImage(){this._ownImageInfo&&(this._ownImageInfo.Release(),this._ownImageInfo=null)}CalculateTextureCoordsFor3DFace(e,t,n){const s=this.GetCurrentImageInfo(),r=s.GetWidth(),o=s.GetHeight(),a=this._imageOffsetX/r,i=this._imageOffsetY/o,l=this._imageAngle;cV.set(0,0,e/(r*this._imageScaleX),t/(o*this._imageScaleY)),cV.offset(-a,-i),0===l?n.setFromRect(cV):n.setFromRotatedRect(cV,-l)}SetTilingShaderProgram(e,t=!0){if(this._enableTileRandomization){const t=this.GetCurrentImageInfo();e.SetTileRandomizationMode(),e.SetTileRandomizationInfo(t.GetWidth()*this._imageScaleX,t.GetHeight()*this._imageScaleY,this._tileXRandom,this._tileYRandom,this._tileAngleRandom,this._tileBlendMarginX,this._tileBlendMarginY)}else t&&e.SetTextureFillMode()}Draw(e){const t=this.GetCurrentImageInfo(),n=t.GetTexture();if(null===n)return;this.SetTilingShaderProgram(e),e.SetTexture(n);const s=t.GetWidth(),r=t.GetHeight();let o=this._imageOffsetX/s,a=this._imageOffsetY/r;0!==this._imageAngle||this._enableTileRandomization||("repeat"===this.GetSdkType().GetWrapModeX()&&(o%=1),"repeat"===this.GetSdkType().GetWrapModeY()&&(a%=1));const i=this.GetWorldInfo();cV.set(0,0,i.GetWidth()/(s*this._imageScaleX),i.GetHeight()/(r*this._imageScaleY)),cV.offset(-o,-a),i.HasMesh()?this._DrawMesh(i,e):this._DrawStandard(i,e)}_DrawStandard(e,t){let n=e.GetBoundingQuad();this._runtime.IsPixelRoundingEnabled()&&(n=e.PixelRoundQuad(n)),0===this._imageAngle?t.Quad3(n,cV):(uV.setFromRotatedRect(cV,-this._imageAngle),t.Quad4(n,uV))}_DrawMesh(e,t){const n=e.GetTransformedMesh();if(e.IsMeshChanged()){e.CalculateBbox(lV,dV,!1);let t=dV;this._runtime.IsPixelRoundingEnabled()&&(t=e.PixelRoundQuad(t));let s=cV;0!==this._imageAngle&&(uV.setFromRotatedRect(cV,-this._imageAngle),s=uV),n.CalculateTransformedMesh(e.GetSourceMesh(),t,s),e.SetMeshChanged(!1)}n.Draw(t,e.GetTotalZElevation())}GetCurrentImageInfo(){return this._ownImageInfo||this._objectClass.GetImageInfo()}IsOriginalSizeKnown(){return!0}GetTexture(){return this.GetCurrentImageInfo().GetTexture()}_SetMeshChanged(){this.GetWorldInfo().SetMeshChanged(!0)}_SetImageOffsetX(e){this._imageOffsetX!==e&&(this._imageOffsetX=e,this._runtime.UpdateRender(),this._SetMeshChanged())}_GetImageOffsetX(){return this._imageOffsetX}_SetImageOffsetY(e){this._imageOffsetY!==e&&(this._imageOffsetY=e,this._runtime.UpdateRender(),this._SetMeshChanged())}_GetImageOffsetY(){return this._imageOffsetY}_SetImageScaleX(e){this._imageScaleX!==e&&(this._imageScaleX=e,this._runtime.UpdateRender(),this._SetMeshChanged())}_GetImageScaleX(){return this._imageScaleX}_SetImageScaleY(e){this._imageScaleY!==e&&(this._imageScaleY=e,this._runtime.UpdateRender(),this._SetMeshChanged())}_GetImageScaleY(){return this._imageScaleY}_SetImageAngle(e){this._imageAngle!==e&&(this._imageAngle=e,this._runtime.UpdateRender(),this._SetMeshChanged())}_GetImageAngle(){return this._imageAngle}_SetTileRandomizationEnabled(e){e=!!e,this._enableTileRandomization!==e&&(this._enableTileRandomization=e,this._runtime.UpdateRender())}_IsTileRandomizationEnabled(){return this._enableTileRandomization}_SetTileXRandom(e){this._tileXRandom!==e&&(this._tileXRandom=e,this._IsTileRandomizationEnabled()&&this._runtime.UpdateRender())}_GetTileXRandom(){return this._tileXRandom}_SetTileYRandom(e){this._tileYRandom!==e&&(this._tileYRandom=e,this._IsTileRandomizationEnabled()&&this._runtime.UpdateRender())}_GetTileYRandom(){return this._tileYRandom}_SetTileAngleRandom(e){this._tileAngleRandom!==e&&(this._tileAngleRandom=e,this._IsTileRandomizationEnabled()&&this._runtime.UpdateRender())}_GetTileAngleRandom(){return this._tileAngleRandom}_SetTileBlendMarginX(e){this._tileBlendMarginX!==e&&(this._tileBlendMarginX=e,this._IsTileRandomizationEnabled()&&this._runtime.UpdateRender())}_GetTileBlendMarginX(){return this._tileBlendMarginX}_SetTileBlendMarginY(e){this._tileBlendMarginY!==e&&(this._tileBlendMarginY=e,this._IsTileRandomizationEnabled()&&this._runtime.UpdateRender())}_GetTileBlendMarginY(){return this._tileBlendMarginY}SaveToJson(){const e={};return 0!==this._imageOffsetX&&(e.iox=this._imageOffsetX),0!==this._imageOffsetY&&(e.ioy=this._imageOffsetY),1!==this._imageScaleX&&(e.isx=this._imageScaleX),1!==this._imageScaleY&&(e.isy=this._imageScaleY),0!==this._imageAngle&&(e.ia=this._imageAngle),this._enableTileRandomization&&(e.tr=!0),1!==this._tileXRandom&&(e.trx=this._tileXRandom),1!==this._tileYRandom&&(e.try=this._tileYRandom),1!==this._tileAngleRandom&&(e.tra=this._tileAngleRandom),.1!==this._tileBlendMarginX&&(e.trbmx=this._tileBlendMarginX),.1!==this._tileBlendMarginY&&(e.trbmy=this._tileBlendMarginY),e}LoadFromJson(e){this._imageOffsetX=e.iox||0,this._imageOffsetY=e.ioy||0,this._imageScaleX=e.hasOwnProperty("isx")?e.isx:1,this._imageScaleY=e.hasOwnProperty("isy")?e.isy:1,this._imageAngle=e.ia||0,this._enableTileRandomization=!!e.tr,this._tileXRandom=e.hasOwnProperty("trx")?e.trx:1,this._tileYRandom=e.hasOwnProperty("try")?e.try:1,this._tileAngleRandom=e.hasOwnProperty("tra")?e.tra:1,this._tileBlendMarginX=e.hasOwnProperty("trbmx")?e.trbmx:.1,this._tileBlendMarginY=e.hasOwnProperty("trbmy")?e.trbmy:.1}GetDebuggerProperties(){const e="plugins.tiledbg.properties";return[{title:e+".image-transform.name",properties:[{name:e+".image-offset-x.name",value:this._GetImageOffsetX(),onedit:e=>this._SetImageOffsetX(e)},{name:e+".image-offset-y.name",value:this._GetImageOffsetY(),onedit:e=>this._SetImageOffsetY(e)},{name:e+".image-scale-x.name",value:100*this._GetImageScaleX(),onedit:e=>this._SetImageScaleX(e/100)},{name:e+".image-scale-y.name",value:100*this._GetImageScaleY(),onedit:e=>this._SetImageScaleY(e/100)},{name:e+".image-angle.name",value:qM.toDegrees(this._GetImageAngle()),onedit:e=>this._SetImageAngle(qM.toRadians(e))}]},{title:e+".tile-randomization.name",properties:[{name:e+".enable-tile-randomization.name",value:this._IsTileRandomizationEnabled(),onedit:e=>this._SetTileRandomizationEnabled(e)},{name:e+".x-random.name",value:100*this._GetTileXRandom(),onedit:e=>this._SetTileXRandom(e/100)},{name:e+".y-random.name",value:100*this._GetTileYRandom(),onedit:e=>this._SetTileYRandom(e/100)},{name:e+".angle-random.name",value:100*this._GetTileAngleRandom(),onedit:e=>this._SetTileAngleRandom(e/100)},{name:e+".blend-margin-x.name",value:100*this._GetTileBlendMarginX(),onedit:e=>this._SetTileBlendMarginX(e/100)},{name:e+".blend-margin-y.name",value:100*this._GetTileBlendMarginY(),onedit:e=>this._SetTileBlendMarginY(e/100)}]}]}GetPropertyValueByIndex(e){switch(e){case $M:return this._GetImageOffsetX();case ZM:return this._GetImageOffsetY();case QM:return this._GetImageScaleX();case eV:return this._GetImageScaleY();case tV:return this._GetImageAngle();case nV:return this._IsTileRandomizationEnabled();case sV:return this._GetTileXRandom();case rV:return this._GetTileYRandom();case oV:return this._GetTileAngleRandom();case aV:return this._GetTileBlendMarginX();case iV:return this._GetTileBlendMarginY()}}SetPropertyValueByIndex(e,t){switch(e){case $M:this._SetImageOffsetX(t);break;case ZM:this._SetImageOffsetY(t);break;case QM:this._SetImageScaleX(t);break;case eV:this._SetImageScaleY(t);break;case tV:this._SetImageAngle(t);break;case nV:this._SetTileRandomizationEnabled(!!t);break;case sV:this._SetTileXRandom(t);break;case rV:this._SetTileYRandom(t);break;case oV:this._SetTileAngleRandom(t);break;case aV:this._SetTileBlendMarginX(t);break;case iV:this._SetTileBlendMarginY(t)}}GetScriptInterfaceClass(){return self.ITiledBackgroundInstance}};const hV=new WeakMap;self.ITiledBackgroundInstance=class extends self.IWorldInstance{constructor(){super(),hV.set(this,self.IInstance._GetInitInst().GetSdkInstance())}set imageOffsetX(e){KM.RequireFiniteNumber(e),hV.get(this)._SetImageOffsetX(e)}get imageOffsetX(){return hV.get(this)._GetImageOffsetX()}set imageOffsetY(e){KM.RequireFiniteNumber(e),hV.get(this)._SetImageOffsetY(e)}get imageOffsetY(){return hV.get(this)._GetImageOffsetY()}setImageOffset(e,t){KM.RequireFiniteNumber(e),KM.RequireFiniteNumber(t);const n=hV.get(this);n._SetImageOffsetX(e),n._SetImageOffsetY(t)}getImageOffset(){const e=hV.get(this);return[e._GetImageOffsetX(),e._GetImageOffsetY()]}set imageScaleX(e){KM.RequireFiniteNumber(e),hV.get(this)._SetImageScaleX(e)}get imageScaleX(){return hV.get(this)._GetImageScaleX()}set imageScaleY(e){KM.RequireFiniteNumber(e),hV.get(this)._SetImageScaleY(e)}get imageScaleY(){return hV.get(this)._GetImageScaleY()}setImageScale(e,t){KM.RequireFiniteNumber(e),KM.RequireFiniteNumber(t);const n=hV.get(this);n._SetImageScaleX(e),n._SetImageScaleY(t)}getImageScale(){const e=hV.get(this);return[e._GetImageScaleX(),e._GetImageScaleY()]}set imageAngle(e){KM.RequireFiniteNumber(e),hV.get(this)._SetImageAngle(e)}get imageAngle(){return hV.get(this)._GetImageAngle()}set imageAngleDegrees(e){KM.RequireFiniteNumber(e),hV.get(this)._SetImageAngle(qM.toRadians(e))}get imageAngleDegrees(){return qM.toDegrees(hV.get(this)._GetImageAngle())}get imageWidth(){return hV.get(this).GetCurrentImageInfo().GetWidth()}get imageHeight(){return hV.get(this).GetCurrentImageInfo().GetHeight()}getImageSize(){const e=hV.get(this).GetCurrentImageInfo();return[e.GetWidth(),e.GetHeight()]}set enableTileRandomization(e){hV.get(this)._SetTileRandomizationEnabled(!!e)}get enableTileRandomization(){return hV.get(this)._IsTileRandomizationEnabled()}set tileXRandom(e){KM.RequireFiniteNumber(e),hV.get(this)._SetTileXRandom(e)}get tileXRandom(){return hV.get(this)._GetTileXRandom()}set tileYRandom(e){KM.RequireFiniteNumber(e),hV.get(this)._SetTileYRandom(e)}get tileYRandom(){return hV.get(this)._GetTileYRandom()}setTileRandom(e,t){KM.RequireFiniteNumber(e),KM.RequireFiniteNumber(t);const n=hV.get(this);n._SetTileXRandom(e),n._SetTileYRandom(t)}getTileRandom(){const e=hV.get(this);return[e._GetTileXRandom(),e._GetTileYRandom()]}set tileAngleRandom(e){KM.RequireFiniteNumber(e),hV.get(this)._SetTileAngleRandom(e)}get tileAngleRandom(){return hV.get(this)._GetTileAngleRandom()}set tileBlendMarginX(e){KM.RequireFiniteNumber(e),hV.get(this)._SetTileBlendMarginX(e)}get tileBlendMarginX(){return hV.get(this)._GetTileBlendMarginX()}set tileBlendMarginY(e){KM.RequireFiniteNumber(e),hV.get(this)._SetTileBlendMarginY(e)}get tileBlendMarginY(){return hV.get(this)._GetTileBlendMarginY()}setTileBlendMargin(e,t){KM.RequireFiniteNumber(e),KM.RequireFiniteNumber(t);const n=hV.get(this);n._SetTileBlendMarginX(e),n._SetTileBlendMarginY(t)}getTileBlendMargin(){const e=hV.get(this);return[e._GetTileBlendMarginX(),e._GetTileBlendMarginY()]}async replaceImage(e){KM.RequireInstanceOf(e,Blob);const t=hV.get(this),n=t.GetRuntime(),s=qM.New(qM.ImageInfo);s.LoadDynamicBlobAsset(n,e),await s.LoadStaticTexture(n.GetRenderer(),{sampling:n.GetSampling(),wrapX:t.GetSdkType().GetWrapModeX(),wrapY:t.GetSdkType().GetWrapModeY()}),t.WasReleased()?s.Release():(t._ReleaseOwnImage(),t._ownImageInfo=s,n.UpdateRender())}}}self.C3.Plugins.TiledBg.Cnds={OnURLLoaded:()=>!0,OnURLFailed:()=>!0,IsTileRandomizationEnabled(){return this._IsTileRandomizationEnabled()}};{const _V=self.C3;_V.Plugins.TiledBg.Acts={SetImageOffsetX(e){this._SetImageOffsetX(e)},SetImageOffsetY(e){this._SetImageOffsetY(e)},SetImageScaleX(e){this._SetImageScaleX(e/100)},SetImageScaleY(e){this._SetImageScaleY(e/100)},SetImageAngle(e){this._SetImageAngle(_V.toRadians(e))},SetTileRandomizationEnabled(e){this._SetTileRandomizationEnabled(e)},SetTilePosRandom(e,t){this._SetTileXRandom(e/100),this._SetTileYRandom(t/100)},SetTileAngleRandom(e){this._SetTileAngleRandom(e/100)},SetTileBlendMargin(e,t){this._SetTileBlendMarginX(e/100),this._SetTileBlendMarginY(t/100)},SetEffect(e){this.GetWorldInfo().SetBlendMode(e),this._runtime.UpdateRender()},async LoadURL(e,t){if(this._ownImageInfo&&this._ownImageInfo.GetURL()===e)return;const n=this._runtime,s=_V.New(_V.ImageInfo);try{if(await s.LoadDynamicAsset(n,e,!0),!s.IsLoaded())throw new Error("image failed to load");if(this.WasReleased())return s.Release(),null;if(!await s.LoadStaticTexture(n.GetRenderer(),{sampling:n.GetSampling(),wrapX:this.GetSdkType().GetWrapModeX(),wrapY:this.GetSdkType().GetWrapModeY()}))return}catch(e){return console.error("Load image from URL failed: ",e),void(this.WasReleased()||this.Trigger(_V.Plugins.TiledBg.Cnds.OnURLFailed))}this.WasReleased()?s.Release():(this._ReleaseOwnImage(),this._ownImageInfo=s,n.UpdateRender(),await this.TriggerAsync(_V.Plugins.TiledBg.Cnds.OnURLLoaded))}}}{const GV=self.C3;GV.Plugins.TiledBg.Exps={ImageWidth(){return this.GetCurrentImageInfo().GetWidth()},ImageHeight(){return this.GetCurrentImageInfo().GetHeight()},ImageOffsetX(){return this._imageOffsetX},ImageOffsetY(){return this._imageOffsetY},ImageScaleX(){return 100*this._imageScaleX},ImageScaleY(){return 100*this._imageScaleY},ImageAngle(){return GV.toDegrees(this._imageAngle)},TileXRandom(){return 100*this._GetTileXRandom()},TileYRandom(){return 100*this._GetTileYRandom()},TileAngleRandom(){return 100*this._GetTileAngleRandom()},TileBlendMarginX(){return 100*this._GetTileBlendMarginX()},TileBlendMarginY(){return 100*this._GetTileBlendMarginY()}}}{const pV=self.C3;pV.Plugins.Sprite=class extends pV.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const mV=self.C3,gV=self.C3X,fV=[];mV.Plugins.Sprite.Type=class extends mV.SDKTypeBase{constructor(e){super(e),this._animations=e.GetAnimations()}Release(){mV.clearArray(this._animations),super.Release()}OnCreate(){for(const e of this._animations)e.LoadAllAssets(this._runtime)}LoadTextures(e){const t={sampling:this._runtime.GetSampling()};return Promise.all(this._animations.map(n=>n.LoadAllTextures(e,t)))}ReleaseTextures(){for(const e of this._animations)e.ReleaseAllTextures()}OnDynamicTextureLoadComplete(){this._UpdateAllCurrentTexture()}_UpdateAllCurrentTexture(){for(const e of this._objectClass.instancesIncludingPendingCreate())e.GetSdkInstance()._UpdateCurrentTexture()}FinishCondition(e){mV.Plugins.Sprite.FinishCollisionCondition(this,e)}BeforeRunAction(e){fV.push({objectClass:null,createHierarchy:!1,instances:[]})}_SpawnPickInstance(e,t,n){const s=fV.at(-1);s.objectClass=e,s.createHierarchy=n,s.instances.push(t)}AfterRunAction(e){const t=fV.pop(),n=t.objectClass,s=t.createHierarchy;if(!n)return;const r=new Map;for(const e of t.instances)e.CollectInstancesToPick(r,n,s);for(const[e,t]of r)e.GetCurrentSol().SetSetPicked(t)}_AddAnimation(e){const t=this.GetObjectClass().AddAnimation(e),n=this.GetRuntime();return t.GetFrameAt(0).GetImageInfo().LoadStaticTexture(n.GetRenderer(),{sampling:n.GetSampling()}).then(()=>this._UpdateAllCurrentTexture()),t}_RemoveAnimation(e){for(const t of this._objectClass.instancesIncludingPendingCreate())t.GetSdkInstance()._OnAnimationRemoved(e);this.GetObjectClass().RemoveAnimation(e)}_AddAnimationFrame(e,t){const n=this._objectClass.GetAnimationByName(e);if(!n)throw new Error(`cannot find animation name '${e}'`);let s=n.FrameTagOrIndexToIndex(t);s<0&&(s+=n.GetFrameCount()+1);const r=mV.AnimationFrameInfo.CreateDynamic(this.GetRuntime());n.InsertFrameAt(r,s);const o=this.GetRuntime();r.GetImageInfo().LoadStaticTexture(o.GetRenderer(),{sampling:o.GetSampling()}).then(()=>this._UpdateAllCurrentTexture());for(const e of this._objectClass.instancesIncludingPendingCreate())e.GetSdkInstance()._OnAnimationFramesChanged();return r}_RemoveAnimationFrame(e,t){const n=this._objectClass.GetAnimationByName(e);if(!n)throw new Error(`cannot find animation name '${e}'`);if(1===n.GetFrameCount())throw new Error(`cannot remove last frame from animation '${e}'`);let s=n.FrameTagOrIndexToIndex(t);s<0&&(s+=n.GetFrameCount()),n.RemoveFrameAt(s);for(const e of this._objectClass.instancesIncludingPendingCreate())e.GetSdkInstance()._OnAnimationFramesChanged()}GetScriptInterfaceClass(){return self.ISpriteObjectType}};const NV=new WeakMap;self.ISpriteObjectType=class extends self.IObjectType{constructor(e){super(e),NV.set(this,e.GetSdkType())}getAnimation(e){gV.RequireString(e);const t=NV.get(this).GetObjectClass().GetAnimationByName(e);return t?t.GetIAnimation():null}getAllAnimations(){return NV.get(this).GetObjectClass().GetAllAnimations().map(e=>e.GetIAnimation())}addAnimation(e){return gV.RequireString(e),NV.get(this)._AddAnimation(e).GetIAnimation()}removeAnimation(e){gV.RequireString(e),NV.get(this)._RemoveAnimation(e)}addAnimationFrame(e,t){if(gV.RequireString(e),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid insert location");return NV.get(this)._AddAnimationFrame(e,t).GetIAnimationFrame()}removeAnimationFrame(e,t){if(gV.RequireString(e),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid insert location");NV.get(this)._RemoveAnimationFrame(e,t)}}}{const bV=self.C3,SV=self.C3X,xV=0,IV=1,yV=2,EV=3,TV=bV.New(bV.Rect),CV=bV.New(bV.Quad),MV=bV.New(bV.Vector2),VV=1,BV=2,OV=4;bV.Plugins.Sprite.Instance=class extends bV.SDKWorldInstanceBase{constructor(e,t){super(e);let n=!0,s="",r=0,o=!0;t&&(n=!!t[xV],s=t[IV],r=t[yV],o=t[EV]),this._currentAnimation=this._objectClass.GetAnimationByName(s)||this._objectClass.GetAnimations()[0],this._currentFrameIndex=bV.clamp(r,0,this._currentAnimation.GetFrameCount()-1),this._currentAnimationFrame=this._currentAnimation.GetFrameAt(this._currentFrameIndex);const a=this._currentAnimationFrame.GetImageInfo();this._currentTexture=a.GetTexture(),this._currentRcTex=a.GetTexRect(),this._currentQuadTex=a.GetTexQuad(),this.HandleRendererContextLoss(),e.SetFlag(BV,!0),e.SetFlag(VV,this._currentAnimation.GetSpeed()>=0),this._currentAnimationSpeed=Math.abs(this._currentAnimation.GetSpeed()),this._currentAnimationRepeatTo=this._currentAnimation.GetRepeatTo(),this._animationTimer=bV.New(bV.KahanSum),this._frameStartTime=0,this._animationRepeats=0,this._animTriggerName="",this._changeAnimFrameIndex=-1,this._changeAnimationName="",this._changeAnimationFrom=0;const i=this.GetWorldInfo();this._bquadRef=i.GetBoundingQuad(),i.SetVisible(n),i.SetCollisionEnabled(o),i.SetOriginX(this._currentAnimationFrame.GetOriginX()),i.SetOriginY(this._currentAnimationFrame.GetOriginY()),i.SetSourceCollisionPoly(this._currentAnimationFrame.GetCollisionPoly()),i.SetBboxChanged(),1===this._objectClass.GetAnimationCount()&&1===this._objectClass.GetAnimations()[0].GetFrameCount()||0===this._currentAnimationSpeed||this._StartTicking()}Release(){this._currentAnimation=null,this._currentAnimationFrame=null,this._currentTexture=null,this._animationTimer=null,super.Release()}GetCurrentImageInfo(){return this._currentAnimationFrame.GetImageInfo()}IsOriginalSizeKnown(){return!0}OnRendererContextLost(){this._currentTexture=null}OnRendererContextRestored(){this._UpdateCurrentTexture()}Draw(e){const t=this._currentTexture;if(null===t)return;e.SetTexture(t);const n=this.GetWorldInfo();n.HasMesh()?this._DrawMesh(n,e):this._DrawStandard(n,e)}_DrawStandard(e,t){let n=this._bquadRef;this._runtime.IsPixelRoundingEnabled()&&(n=e.PixelRoundQuad(n)),t.Quad4(n,this._currentQuadTex)}_DrawMesh(e,t){const n=e.GetTransformedMesh();if(e.IsMeshChanged()){e.CalculateBbox(TV,CV,!1);let t=CV;this._runtime.IsPixelRoundingEnabled()&&(t=e.PixelRoundQuad(t)),n.CalculateTransformedMesh(e.GetSourceMesh(),t,this._currentQuadTex),e.SetMeshChanged(!1)}n.Draw(t,e.GetTotalZElevation())}GetAnimationTime(){return this._animationTimer.Get()}IsAnimationPlaying(){return this._inst.GetFlag(BV)}SetAnimationPlaying(e){this._inst.SetFlag(BV,e)}IsPlayingForwards(){return this._inst.GetFlag(VV)}SetPlayingForwards(e){this._inst.SetFlag(VV,e)}IsInAnimationTrigger(){return this._inst.GetFlag(OV)}SetInAnimationTrigger(e){this._inst.SetFlag(OV,e)}Tick(){this._changeAnimationName&&this._DoChangeAnimation(),this._changeAnimFrameIndex>=0&&this._DoChangeAnimFrame();const e=this._currentAnimationSpeed;if(!this.IsAnimationPlaying()||0===e)return void this._StopTicking();const t=this._runtime.GetDt(this._inst);this._animationTimer.Add(t);const n=this.GetAnimationTime(),s=this._currentAnimationFrame,r=s.GetDuration()/e;if(n<this._frameStartTime+r)return;const o=this._currentAnimation,a=this._currentAnimationRepeatTo,i=o.GetFrameCount(),l=o.GetRepeatCount(),d=o.IsLooping(),c=o.IsPingPong();this.IsPlayingForwards()?this._currentFrameIndex++:this._currentFrameIndex--,this._frameStartTime+=r,this._currentFrameIndex>=i&&(c?(this.SetPlayingForwards(!1),this._currentFrameIndex=i-2):d?this._currentFrameIndex=a:(this._animationRepeats++,this._animationRepeats>=l?this._FinishAnimation(!1):this._currentFrameIndex=a)),this._currentFrameIndex<0&&(c?(this._currentFrameIndex=1,this.SetPlayingForwards(!0),d||(this._animationRepeats++,this._animationRepeats>=l&&this._FinishAnimation(!0))):d?this._currentFrameIndex=a:(this._animationRepeats++,this._animationRepeats>=l?this._FinishAnimation(!0):this._currentFrameIndex=a)),this._currentFrameIndex=bV.clamp(this._currentFrameIndex,0,i-1);const u=o.GetFrameAt(this._currentFrameIndex);n>this._frameStartTime+u.GetDuration()/e&&(this._frameStartTime=n),this._OnFrameChanged(s,u)}_FinishAnimation(e){this._currentFrameIndex=e?0:this._currentAnimation.GetFrameCount()-1,this.SetAnimationPlaying(!1),this._animTriggerName=this._currentAnimation.GetName(),this.SetInAnimationTrigger(!0),this.DispatchScriptEvent("animationend",!1,{animationName:this._animTriggerName}),this.Trigger(bV.Plugins.Sprite.Cnds.OnAnyAnimFinished),this.Trigger(bV.Plugins.Sprite.Cnds.OnAnimFinished),this.SetInAnimationTrigger(!1),this._animationRepeats=0}_OnFrameChanged(e,t,n){if(e===t)return;const s=this.GetWorldInfo(),r=e.GetImageInfo(),o=t.GetImageInfo(),a=r.GetWidth(),i=r.GetHeight(),l=o.GetWidth(),d=o.GetHeight();n&&n.onFrameChange?n.onFrameChange(s,a,i,l,d):(a!==l&&s.SetWidth(s.GetWidth()*(l/a)),i!==d&&s.SetHeight(s.GetHeight()*(d/i))),s.SetOriginX(t.GetOriginX()),s.SetOriginY(t.GetOriginY()),s.SetSourceCollisionPoly(t.GetCollisionPoly()),s.SetBboxChanged(),this._currentAnimationFrame=t,this._currentTexture=o.GetTexture(),this._currentRcTex=o.GetTexRect(),this._currentQuadTex=o.GetTexQuad();const c=this.GetInstance().GetBehaviorInstances();for(let n=0,s=c.length;n<s;++n)c[n].OnSpriteFrameChanged(e,t);this.DispatchScriptEvent("framechange",!1,{animationName:this._currentAnimation.GetName(),animationFrame:this._currentFrameIndex}),this.Trigger(bV.Plugins.Sprite.Cnds.OnFrameChanged),this._runtime.UpdateRender()}_StartAnim(e){this.SetAnimationPlaying(!0),this._frameStartTime=this.GetAnimationTime(),1===e&&0!==this._currentFrameIndex&&(this._changeAnimFrameIndex=0,this.IsInAnimationTrigger()||this._DoChangeAnimFrame()),this._StartTicking()}_SetAnim(e,t,n){this._changeAnimationName=e,this._changeAnimationFrom=t,this._StartTicking(),!n&&this.IsInAnimationTrigger()||this._DoChangeAnimation()}_GetCurrentAnimation(){return this._currentAnimation}_GetCurrentAnimationName(){return this._changeAnimationName?this._changeAnimationName:this._currentAnimation.GetName()}_OnAnimationRemoved(e){bV.equalsNoCase(e,this._GetCurrentAnimationName())&&this._SetAnim(this._objectClass.GetFirstAnimation().GetName(),1,!0)}_SetAnimFrame(e){if("string"==typeof e)if(String(Number(e))===e)e=Number(e);else{const t=this._objectClass.GetAnimationByName(this._GetCurrentAnimationName());if(!t)return;if(-1===(e=t.GetFrameIndexByTag(e)))return}isFinite(e)&&(this._changeAnimFrameIndex=e,this.IsInAnimationTrigger()||this._DoChangeAnimFrame())}_OnAnimationFramesChanged(){if(this._changeAnimationName||-1!==this._changeAnimFrameIndex)return;const e=this._currentAnimationFrame,t=this._currentAnimation.GetFrameAt(bV.clamp(this._currentFrameIndex,0,this._currentAnimation.GetFrameCount()-1));e!==t&&this._OnFrameChanged(e,t),this._currentAnimation.GetFrameCount()>1&&this._currentAnimationSpeed>0&&this._StartTicking()}_GetAnimFrame(){return this._currentFrameIndex}_GetAnimFrameTag(){return this._currentAnimationFrame.GetTag()}_SetAnimSpeed(e){this._currentAnimationSpeed=Math.abs(e),this.SetPlayingForwards(e>=0),this._currentAnimationSpeed>0&&this._StartTicking()}_GetAnimSpeed(){return this.IsPlayingForwards()?this._currentAnimationSpeed:-this._currentAnimationSpeed}_SetAnimRepeatToFrame(e){"string"==typeof e&&-1===(e=this._currentAnimation.GetFrameIndexByTag(e))||(e=bV.clamp(Math.floor(e),0,this._currentAnimation.GetFrameCount()-1),this._currentAnimationRepeatTo=e)}_GetAnimRepeatToFrame(){return this._currentAnimationRepeatTo}_DoChangeAnimation(e){const t=this._currentAnimationFrame,n=this._objectClass.GetAnimationByName(this._changeAnimationName);if(this._changeAnimationName="",!n)return;if(n===this._currentAnimation&&this.IsAnimationPlaying())return;this._currentAnimation=n,this.SetPlayingForwards(n.GetSpeed()>=0),this._currentAnimationSpeed=Math.abs(n.GetSpeed()),this._currentAnimationRepeatTo=n.GetRepeatTo(),this._currentFrameIndex=bV.clamp(this._currentFrameIndex,0,this._currentAnimation.GetFrameCount()-1),1===this._changeAnimationFrom&&(this._currentFrameIndex=0),this.SetAnimationPlaying(!0),this._frameStartTime=this.GetAnimationTime();const s=this._currentAnimation.GetFrameAt(this._currentFrameIndex);this._OnFrameChanged(t,s,e)}_DoChangeAnimFrame(e){const t=this._currentAnimationFrame,n=this._currentFrameIndex;if(this._currentFrameIndex=bV.clamp(Math.floor(this._changeAnimFrameIndex),0,this._currentAnimation.GetFrameCount()-1),this._changeAnimFrameIndex=-1,!e&&n===this._currentFrameIndex)return;const s=this._currentAnimation.GetFrameAt(this._currentFrameIndex);this._OnFrameChanged(t,s),this._frameStartTime=this.GetAnimationTime()}_UpdateCurrentTexture(){const e=this._currentAnimationFrame.GetImageInfo();this._currentTexture=e.GetTexture(),this._currentRcTex=e.GetTexRect(),this._currentQuadTex=e.GetTexQuad(),this.GetWorldInfo().SetMeshChanged(!0)}GetTexture(){return this._currentTexture}GetTexRect(){return this._currentRcTex}GetTexQuad(){return this._currentQuadTex}GetImagePointCount(){return this._currentAnimationFrame.GetImagePointCount()}GetImagePoint(e){const t=this._currentAnimationFrame,n=this.GetWorldInfo();let s=null;if("string"==typeof e)s=t.GetImagePointByName(e);else{if("number"!=typeof e)throw new TypeError("expected string or number");s=t.GetImagePointByIndex(e-1)}let r=n.GetTotalZElevation();if(!s)return[n.GetX(),n.GetY(),r];if(MV.copy(s.GetVec2()),n.HasMesh()){const[e,t,s]=n.GetSourceMesh().TransformPoint(MV.getX(),MV.getY());MV.set(e,t),r+=s}return MV.offset(-t.GetOriginX(),-t.GetOriginY()),MV.scale(n.GetWidth(),n.GetHeight()),MV.rotate(n.GetAngle()),MV.offset(n.GetX(),n.GetY()),[MV.getX(),MV.getY(),r]}GetCollisionPolyPointCount(){return this.GetWorldInfo().GetTransformedCollisionPoly().pointCount()}GetCollisionPolyPoint(e){e=Math.floor(e);const t=this.GetWorldInfo(),n=t.GetTransformedCollisionPoly(),s=n.pointCount();if(e===s&&(e=0),e<0||e>=s)return[0,0];const r=n.pointsArr();return[r[2*e+0]+t.GetX(),r[2*e+1]+t.GetY()]}GetDebuggerProperties(){const e=bV.Plugins.Sprite.Acts,t="plugins.sprite.debugger.animation-properties";return[{title:t+".title",properties:[{name:t+".current-animation",value:this._currentAnimation.GetName(),onedit:t=>this.CallAction(e.SetAnim,t,0)},{name:t+".current-frame",value:this._currentFrameIndex,onedit:t=>this.CallAction(e.SetAnimFrame,t)},{name:t+".is-playing",value:this.IsAnimationPlaying(),onedit:t=>t?this.CallAction(e.StartAnim,0):this.CallAction(e.StopAnim)},{name:t+".speed",value:this._currentAnimationSpeed,onedit:t=>this.CallAction(e.SetAnimSpeed,t)},{name:t+".repeats",value:this._animationRepeats,onedit:e=>this._animationRepeats=e}]}]}SaveToJson(){const e={a:this._currentAnimation.GetSID()};0!==this._frameStartTime&&(e.fs=this._frameStartTime);const t=this.GetAnimationTime();0!==t&&(e.at=t),0!==this._currentFrameIndex&&(e.f=this._currentFrameIndex),0!==this._currentAnimationSpeed&&(e.cas=this._currentAnimationSpeed),1!==this._animationRepeats&&(e.ar=this._animationRepeats),0!==this._currentAnimationRepeatTo&&(e.rt=this._currentAnimationRepeatTo),this.IsAnimationPlaying()||(e.ap=this.IsAnimationPlaying()),this.IsPlayingForwards()||(e.af=this.IsPlayingForwards());const n=this.GetWorldInfo();return n.IsCollisionEnabled()&&(e.ce=n.IsCollisionEnabled()),e}LoadFromJson(e){const t=this.GetObjectClass().GetAnimationBySID(e.a);t&&(this._currentAnimation=t),this._frameStartTime=e.hasOwnProperty("fs")?e.fs:0,this._animationTimer.Set(e.hasOwnProperty("at")?e.at:0);const n=e.hasOwnProperty("f")?e.f:0;this._currentFrameIndex=bV.clamp(n,0,this._currentAnimation.GetFrameCount()-1),this._currentAnimationSpeed=e.hasOwnProperty("cas")?e.cas:0,this._animationRepeats=e.hasOwnProperty("ar")?e.ar:1;const s=e.hasOwnProperty("rt")?e.rt:0;this._currentAnimationRepeatTo=bV.clamp(s,0,this._currentAnimation.GetFrameCount()-1),this.SetAnimationPlaying(!e.hasOwnProperty("ap")||!!e.ap),this.SetPlayingForwards(!e.hasOwnProperty("af")||!!e.af);const r=this._currentAnimation.GetFrameAt(this._currentFrameIndex);this._currentAnimationFrame=r,this._UpdateCurrentTexture();const o=this.GetWorldInfo();o.SetOriginX(r.GetOriginX()),o.SetOriginY(r.GetOriginY()),o.SetSourceCollisionPoly(r.GetCollisionPoly()),o.SetCollisionEnabled(!!e.ce),this.IsAnimationPlaying()&&this._StartTicking()}GetPropertyValueByIndex(e){const t=this.GetWorldInfo();switch(e){case EV:return t.IsCollisionEnabled();case yV:return bV.clamp(this._currentFrameIndex,0,this._currentAnimation.GetFrameCount()-1);case IV:return this._currentAnimation.GetName()}}SetPropertyValueByIndex(e,t,n){const s=this.GetWorldInfo();switch(e){case EV:s.SetCollisionEnabled(!!t);break;case yV:{this.SetAnimationPlaying(!1);const e=this._currentAnimation.GetFrameCount()-1,s=t=bV.clamp(t,0,e),r=this._currentAnimation.GetFrameAt(this._currentFrameIndex),o=this._currentAnimation.GetFrameAt(s);this._OnFrameChanged(r,o,n),this._currentFrameIndex=bV.clamp(s,0,e);break}case IV:this._changeAnimationName=t,this._DoChangeAnimation(n),this._currentAnimation.GetFrameCount()>1&&this._currentAnimation.GetSpeed()>0?this._StartTicking():this._StopTicking()}}GetScriptInterfaceClass(){return self.ISpriteInstance}};const vV=new WeakMap,PV=new Map([["current-frame",0],["beginning",1]]);self.ISpriteInstance=class extends self.IWorldInstance{constructor(){super(),vV.set(this,self.IInstance._GetInitInst().GetSdkInstance())}getImagePointCount(){return vV.get(this).GetImagePointCount()}getImagePointX(e){return this.getImagePoint(e)[0]}getImagePointY(e){return this.getImagePoint(e)[1]}getImagePointZ(e){return this.getImagePoint(e)[2]}getImagePoint(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("expected string or number");return vV.get(this).GetImagePoint(e)}getPolyPointCount(){return vV.get(this).GetCollisionPolyPointCount()}getPolyPointX(e){return SV.RequireFiniteNumber(e),vV.get(this).GetCollisionPolyPoint(e)[0]}getPolyPointY(e){return SV.RequireFiniteNumber(e),vV.get(this).GetCollisionPolyPoint(e)[1]}getPolyPoint(e){return SV.RequireFiniteNumber(e),vV.get(this).GetCollisionPolyPoint(e)}stopAnimation(){vV.get(this).SetAnimationPlaying(!1)}startAnimation(e="current-frame"){SV.RequireString(e);const t=PV.get(e);if(void 0===t)throw new Error("invalid mode");vV.get(this)._StartAnim(t)}setAnimation(e,t="beginning"){SV.RequireString(e),SV.RequireString(t);const n=PV.get(t);if(void 0===n)throw new Error("invalid mode");const s=vV.get(this);if(!s.GetObjectClass().GetAnimationByName(e))throw new Error(`animation name "${e}" does not exist`);s._SetAnim(e,n)}getAnimation(e){SV.RequireString(e);const t=vV.get(this).GetObjectClass().GetAnimationByName(e);return t?t.GetIAnimation():null}get animation(){return vV.get(this)._GetCurrentAnimation().GetIAnimation()}get animationName(){return vV.get(this)._GetCurrentAnimationName()}set animationFrame(e){SV.RequireFiniteNumber(e),vV.get(this)._SetAnimFrame(e)}get animationFrame(){return vV.get(this)._GetAnimFrame()}set animationFrameTag(e){SV.RequireString(e),vV.get(this)._SetAnimFrame(e)}get animationFrameTag(){return vV.get(this)._GetAnimFrameTag()}set animationSpeed(e){SV.RequireFiniteNumber(e),vV.get(this)._SetAnimSpeed(e)}get animationSpeed(){return vV.get(this)._GetAnimSpeed()}set animationRepeatToFrame(e){SV.RequireFiniteNumber(e),vV.get(this)._SetAnimRepeatToFrame(e)}get animationRepeatToFrame(){return vV.get(this)._GetAnimRepeatToFrame()}get imageWidth(){return vV.get(this).GetCurrentImageInfo().GetWidth()}get imageHeight(){return vV.get(this).GetCurrentImageInfo().GetHeight()}getImageSize(){const e=vV.get(this).GetCurrentImageInfo();return[e.GetWidth(),e.GetHeight()]}async replaceCurrentAnimationFrame(e){SV.RequireInstanceOf(e,Blob);const t=vV.get(this),n=t.GetRuntime(),s=t.GetCurrentImageInfo(),r=bV.New(bV.ImageInfo);if(r.LoadDynamicBlobAsset(n,e),await r.LoadStaticTexture(n.GetRenderer(),{sampling:n.GetSampling()}),t.WasReleased())return void r.Release();s.ReplaceWith(r);const o=t.GetSdkType();o._UpdateAllCurrentTexture(),o.GetObjectClass().Dispatcher().dispatchEvent(new bV.Event("animationframeimagechange")),n.UpdateRender()}setSolidCollisionFilter(e,t){SV.RequireString(t),vV.get(this).GetWorldInfo().SetSolidCollisionFilter(!!e,t)}}}{const wV=self.C3;wV.Plugins.Sprite.Cnds={IsAnimPlaying(e){return wV.equalsNoCase(this._GetCurrentAnimationName(),e)},CompareFrame(e,t){return wV.compare(this._currentFrameIndex,e,t)},CompareFrameTag(e,t){if("string"!=typeof t)return!1;const n=this._currentAnimationFrame.GetTag();return wV.compare(n.toLowerCase(),e,t.toLowerCase())},CompareAnimSpeed(e,t){return wV.compare(this._GetAnimSpeed(),e,t)},OnAnimFinished(e){return wV.equalsNoCase(this._animTriggerName,e)},OnAnyAnimFinished:()=>!0,OnFrameChanged:()=>!0,IsMirrored(){return this.GetWorldInfo().GetWidth()<0},IsFlipped(){return this.GetWorldInfo().GetHeight()<0},OnURLLoaded:()=>!0,OnURLFailed:()=>!0,IsCollisionEnabled(){return this.GetWorldInfo().IsCollisionEnabled()}}}{const AV=self.C3;AV.Plugins.Sprite.Acts={Spawn(e,t,n,s,r){if(!e||!t)return;const[o,a]=this.GetImagePoint(n),i=this._runtime.CreateInstance(e,t,o,a,s,r);if(!i)return;if(s&&t.SortAndAddInstancesByZIndex(i),e.GetPlugin().IsRotatable()){const e=i.GetWorldInfo();e.SetAngle(this.GetWorldInfo().GetAngle()),e.SetBboxChanged()}const l=this._runtime.GetEventSheetManager();l.BlockFlushingInstances(!0),i._TriggerOnCreatedOnSelfAndRelated(),l.BlockFlushingInstances(!1),e!==this._runtime.GetCurrentAction().GetObjectClass()&&this._sdkType._SpawnPickInstance(e,i,s)},StopAnim(){this.SetAnimationPlaying(!1)},StartAnim(e){this._StartAnim(e)},SetAnim(e,t){this._SetAnim(e,t)},SetAnimFrame(e){this._SetAnimFrame(e)},SetAnimSpeed(e){this._SetAnimSpeed(e)},SetAnimRepeatToFrame(e){this._SetAnimRepeatToFrame(e)},AddRemoveAnimation(e,t){try{0===e?this.GetSdkType()._AddAnimation(t):this.GetSdkType()._RemoveAnimation(t)}catch(t){console.error(`[Construct] Error ${0===e?"adding":"removing"} animation: `,t)}},AddRemoveAnimationFrame(e,t,n){try{0===e?this.GetSdkType()._AddAnimationFrame(t,n):this.GetSdkType()._RemoveAnimationFrame(t,n)}catch(t){console.error(`[Construct] Error ${0===e?"adding":"removing"} animation frame: `,t)}},SetMirrored(e){const t=this.GetWorldInfo(),n=t.GetWidth(),s=Math.abs(n)*(0===e?-1:1);n!==s&&(t.SetWidth(s),t.SetBboxChanged())},SetFlipped(e){const t=this.GetWorldInfo(),n=t.GetHeight(),s=Math.abs(n)*(0===e?-1:1);n!==s&&(t.SetHeight(s),t.SetBboxChanged())},SetScale(e){const t=this._currentAnimationFrame.GetImageInfo(),n=this.GetWorldInfo(),s=n.GetWidth()<0?-1:1,r=n.GetHeight()<0?-1:1,o=t.GetWidth()*e*s,a=t.GetHeight()*e*r;n.GetWidth()===o&&n.GetHeight()===a||(n.SetSize(o,a),n.SetBboxChanged())},async LoadURL(e,t,n){const s=this._currentAnimationFrame.GetImageInfo(),r=this.GetWorldInfo(),o=this._runtime,a=this._sdkType;if(s.GetURL()===e)return 0===t&&(r.SetSize(s.GetWidth(),s.GetHeight()),r.SetBboxChanged()),void this.Trigger(AV.Plugins.Sprite.Cnds.OnURLLoaded);const i=AV.New(AV.ImageInfo);try{if(await i.LoadDynamicAsset(o,e),!i.IsLoaded())throw new Error("image failed to load");if(this.WasReleased())return void i.Release();await i.LoadStaticTexture(o.GetRenderer(),{sampling:o.GetSampling()})}catch(e){return console.error("Load image from URL failed: ",e),void(this.WasReleased()||this.Trigger(AV.Plugins.Sprite.Cnds.OnURLFailed))}this.WasReleased()?i.Release():(s.ReplaceWith(i),a._UpdateAllCurrentTexture(),a.GetObjectClass().Dispatcher().dispatchEvent(new AV.Event("animationframeimagechange")),o.UpdateRender(),0===t&&(r.SetSize(s.GetWidth(),s.GetHeight()),r.SetBboxChanged()),await this.TriggerAsync(AV.Plugins.Sprite.Cnds.OnURLLoaded))},SetCollisions(e){this.GetWorldInfo().SetCollisionEnabled(e)},SetSolidCollisionFilter(e,t){this.GetWorldInfo().SetSolidCollisionFilter(0===e,t)},SetEffect(e){this.GetWorldInfo().SetBlendMode(e),this._runtime.UpdateRender()}}}self.C3.Plugins.Sprite.Exps={AnimationFrame(){return this._GetAnimFrame()},AnimationFrameTag(){return this._GetAnimFrameTag()},AnimationFrameCount(){return this._currentAnimation.GetFrameCount()},AnimationName(){return this._currentAnimation.GetName()},AnimationSpeed(){return this._GetAnimSpeed()},OriginalAnimationSpeed(){return this._currentAnimation.GetSpeed()},ImagePointX(e){return this.GetImagePoint(e)[0]},ImagePointY(e){return this.GetImagePoint(e)[1]},ImagePointZ(e){return this.GetImagePoint(e)[2]},ImagePointCount(){return this.GetImagePointCount()},ImageWidth(){return this.GetCurrentImageInfo().GetWidth()},ImageHeight(){return this.GetCurrentImageInfo().GetHeight()},PolyPointXAt(e){return this.GetCollisionPolyPoint(e)[0]},PolyPointYAt(e){return this.GetCollisionPolyPoint(e)[1]},PolyPointCount(){return this.GetCollisionPolyPointCount()}};{const DV=self.C3;DV.Plugins.NinePatch=class extends DV.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const RV=self.C3;RV.Plugins.NinePatch.Type=class extends RV.SDKTypeBase{constructor(e){super(e),this._textureSet=null,this._drawable=null}Release(){this.ReleaseTextures(),super.Release()}OnCreate(){this.GetImageInfo().LoadAsset(this._runtime)}async LoadTextures(e){const t=this.GetImageInfo();this._drawable=await t.ExtractImageToCanvas()}CreatePatch(e,t,n,s){!this._textureSet&&this._drawable&&(this._textureSet=new self.NinePatchTextureSet(this),this._textureSet.CreateTextures(this._drawable,e,t,n,s))}ReleaseTextures(){this._textureSet&&(this._textureSet.Release(),this._textureSet=null)}GetTextureSet(){return this._textureSet}}}{const FV=self.C3,jV=0,kV=1,LV=2,WV=3,UV=4,HV=5,zV=6,YV=8,XV=FV.New(FV.Rect),qV=FV.New(FV.Rect),KV=FV.New(FV.Quad);FV.Plugins.NinePatch.Instance=class extends FV.SDKWorldInstanceBase{constructor(e,t){super(e),this._leftMargin=16,this._rightMargin=16,this._topMargin=16,this._bottomMargin=16,this._edges=1,this._fill=1,this._isSeamless=!0,this._callback3d=null,t&&(this._leftMargin=t[jV],this._rightMargin=t[kV],this._topMargin=t[LV],this._bottomMargin=t[WV],this._edges=t[UV],this._fill=t[HV],this._isSeamless=!!t[YV],this.GetWorldInfo().SetVisible(!!t[zV])),this._sdkType.CreatePatch(this._leftMargin,this._rightMargin,this._topMargin,this._bottomMargin)}Release(){super.Release()}_Set3DCallback(e){this._callback3d=e}Draw(e){const t=this.GetWorldInfo(),n=t.GetBoundingQuad();this._Draw(e,n.getTlx(),n.getTly(),t.GetWidth(),t.GetHeight())}_Draw(e,t,n,s,r){let o=this._sdkType.GetTextureSet();if(!o&&(this._sdkType.CreatePatch(this._leftMargin,this._rightMargin,this._topMargin,this._bottomMargin),o=this._sdkType.GetTextureSet(),!o))return;const a=o.GetImageWidth(),i=o.GetImageHeight(),l=Math.min(this._leftMargin,a),d=Math.min(this._rightMargin,a),c=Math.min(this._topMargin,i),u=Math.min(this._bottomMargin,i),h=a-d,_=i-u,G=this._isSeamless?1:0,p=this._edges,m=this._fill;if(l>0&&c>0&&this._DrawPatch(e,o.GetTexture(),0,0,l+G,c+G,t,n,l+G,c+G),d>0&&c>0&&this._DrawPatch(e,o.GetTexture(),h-G,0,d+G,c+G,t+s-d-G,n,d+G,c+G),d>0&&u>0&&this._DrawPatch(e,o.GetTexture(),h-G,_-G,d+G,u+G,t+s-d-G,n+r-u-G,d+G,u+G),l>0&&u>0&&this._DrawPatch(e,o.GetTexture(),0,_-G,l+G,u+G,t,n+r-u-G,l+G,u+G),0===p){const a=2===m?0:G;l>0&&_>c&&this._TilePatch(e,o.GetLeftTexture(),t,n+c,l+a,r-c-u,0,0),d>0&&_>c&&this._TilePatch(e,o.GetRightTexture(),t+s-d-a,n+c,d+a,r-c-u,a,0),c>0&&h>l&&this._TilePatch(e,o.GetTopTexture(),t+l,n,s-l-d,c+a,0,0),u>0&&h>l&&this._TilePatch(e,o.GetBottomTexture(),t+l,n+r-u-a,s-l-d,u+a,0,a)}else 1===p&&(l>0&&_>c&&this._DrawPatch(e,o.GetTexture(),0,c,l,_-c,t,n+c,l,r-c-u),d>0&&_>c&&this._DrawPatch(e,o.GetTexture(),h,c,d,_-c,t+s-d,n+c,d,r-c-u),c>0&&h>l&&this._DrawPatch(e,o.GetTexture(),l,0,h-l,c,t+l,n,s-l-d,c),u>0&&h>l&&this._DrawPatch(e,o.GetTexture(),l,_,h-l,u,t+l,n+r-u,s-l-d,u));_>c&&h>l&&(0===m?this._TilePatch(e,o.GetFillTexture(),t+l,n+c,s-l-d,r-c-u,0,0):1===m&&this._DrawPatch(e,o.GetTexture(),l,c,h-l,_-c,t+l,n+c,s-l-d,r-c-u))}_DrawPatch(e,t,n,s,r,o,a,i,l,d){const c=t.GetWidth(),u=t.GetHeight();if(e.SetTexture(t),XV.set(a,i,a+l,i+d),qV.set(n/c,s/u,(n+r)/c,(s+o)/u),null===this._callback3d){const t=this.GetWorldInfo(),n=t.GetBoundingQuad(),s=n.getTlx(),r=n.getTly();XV.offset(-s,-r),KV.setFromRotatedRect(XV,t.GetAngle()),KV.offset(s,r),e.Quad3(KV,qV)}else this._callback3d(XV,qV)}_TilePatch(e,t,n,s,r,o,a,i){const l=t.GetWidth(),d=t.GetHeight();if(e.SetTexture(t),XV.set(n,s,n+r,s+o),qV.set(-a/l,-i/d,(r-a)/l,(o-i)/d),null===this._callback3d){const t=this.GetWorldInfo(),n=t.GetBoundingQuad(),s=n.getTlx(),r=n.getTly();XV.offset(-s,-r),KV.setFromRotatedRect(XV,t.GetAngle()),KV.offset(s,r),e.Quad3(KV,qV)}else this._callback3d(XV,qV)}GetCurrentImageInfo(){this._objectClass.GetImageInfo()}GetPropertyValueByIndex(e){}SetPropertyValueByIndex(e,t){}}}self.C3.Plugins.NinePatch.Cnds={},self.C3.Plugins.NinePatch.Acts={SetEffect(e){this.GetWorldInfo().SetBlendMode(e),this._runtime.UpdateRender()}},self.C3.Plugins.NinePatch.Exps={};{let JV=function(e){const t=$V.CreateCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),t};CloneDrawable=JV;const $V=self.C3;self.NinePatchTextureSet=class{constructor(e){this._sdkType=e,this._runtime=this._sdkType.GetRuntime(),this._texture=null,this._fillTexture=null,this._leftTexture=null,this._rightTexture=null,this._topTexture=null,this._bottomTexture=null,this._imageWidth=0,this._imageHeight=0,this._renderer=this._runtime.GetRenderer(),this._isLoading=!1,this._wasReleased=!1}Release(){this._renderer.IsContextLost()||(this._renderer.DeleteTexture(this._texture),this._renderer.DeleteTexture(this._fillTexture),this._renderer.DeleteTexture(this._leftTexture),this._renderer.DeleteTexture(this._rightTexture),this._renderer.DeleteTexture(this._topTexture),this._renderer.DeleteTexture(this._bottomTexture)),this._texture=null,this._fillTexture=null,this._leftTexture=null,this._rightTexture=null,this._topTexture=null,this._bottomTexture=null,this._sdkType=null,this._renderer=null,this._wasReleased=!0}WasReleased(){return this._wasReleased}CreateTextures(e,t,n,s,r){this._SliceImage(e,t,n,s,r)}HasCreatedTextures(){return!!this._texture}_SliceImage(e,t,n,s,r){if(this._wasReleased)return;const o=e.width,a=e.height;this._imageWidth=o,this._imageHeight=a,t=Math.min(Math.floor(t),o),n=Math.min(Math.floor(n),o),s=Math.min(Math.floor(s),a);const i=o-n,l=a-(r=Math.min(Math.floor(r),a)),d=this._runtime.GetSampling(),c=this._runtime.GetCanvasManager().GetTextureAnisotropy();this._texture=this._renderer.CreateStaticTexture(JV(e),{sampling:d,anisotropy:c}),i>t&&l>s&&(this._fillTexture=this._renderer.CreateStaticTexture(this._SliceSubImage(JV(e),t,s,i,l),{wrapX:"repeat",wrapY:"repeat",sampling:d,anisotropy:c})),t>0&&l>s&&(this._leftTexture=this._renderer.CreateStaticTexture(this._SliceSubImage(JV(e),0,s,t,l),{wrapY:"repeat",sampling:d,anisotropy:c})),n>0&&l>s&&(this._rightTexture=this._renderer.CreateStaticTexture(this._SliceSubImage(JV(e),i,s,o,l),{wrapY:"repeat",sampling:d,anisotropy:c})),s>0&&i>t&&(this._topTexture=this._renderer.CreateStaticTexture(this._SliceSubImage(JV(e),t,0,i,s),{wrapX:"repeat",sampling:d,anisotropy:c})),r>0&&i>t&&(this._bottomTexture=this._renderer.CreateStaticTexture(this._SliceSubImage(JV(e),t,l,i,a),{wrapX:"repeat",sampling:d,anisotropy:c}))}_SliceSubImage(e,t,n,s,r){const o=s-t,a=r-n,i=$V.CreateCanvas(o,a);return i.getContext("2d").drawImage(e,t,n,o,a,0,0,o,a),i}GetImageWidth(){return this._imageWidth}GetImageHeight(){return this._imageHeight}GetTexture(){return this._texture}GetFillTexture(){return this._fillTexture}GetLeftTexture(){return this._leftTexture}GetRightTexture(){return this._rightTexture}GetTopTexture(){return this._topTexture}GetBottomTexture(){return this._bottomTexture}}}{const ZV=self.C3;ZV.Plugins.SVGPicture=class extends ZV.SDKPluginBase{constructor(e){super(e),this._rasterManager=null}Release(){super.Release()}_GetRasterManager(){return this._rasterManager||(this._rasterManager=ZV.New(ZV.SVGRasterManager),this._rasterManager.SetGetBaseSizeCallback(e=>this._GetSvgBaseSize(e)),this._rasterManager.SetRasterAtSizeCallback((e,t,n,s,r,o)=>this._RasterSvgAtSize(e,t,n,s,r,o)),this._rasterManager.SetReleaseResultCallback(e=>this._ReleaseRasterResult(e)),this._rasterManager.SetRedrawCallback(()=>this._Redraw()),this._rasterManager.SetNpotSurfaceAllowed(this.GetRuntime().GetRenderer().SupportsNPOTTextures())),this._rasterManager}async _GetSvgBaseSize(e){const t=this.GetRuntime(),n=await t.GetAssetManager().FetchBlob(e);return await t.GetSvgImageSize(n)}async _RasterSvgAtSize(e,t,n,s,r,o){const a=this.GetRuntime(),i=await a.GetAssetManager().FetchBlob(e),l={mipMap:!0,mipMapQuality:"high",anisotropy:this._runtime.GetCanvasManager().GetTextureAnisotropy()};let d=null;ZV.Supports.ImageBitmapOptions&&(d={premultiplyAlpha:"premultiply"},l.premultiplyAlpha=!1);const c=await a.RasterSvgImage(i,r,o,n,s,d);let u=null;return u=ZV.Supports.ImageBitmapOptions?t.CreateStaticTexture(c,l):await t.CreateStaticTextureAsync(c,l),u}_ReleaseRasterResult(e){e.GetRenderer().DeleteTexture(e)}_Redraw(){this.GetRuntime().UpdateRender()}}}{const QV=self.C3;QV.Plugins.SVGPicture.Type=class extends QV.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}LoadTextures(e){}ReleaseTextures(){}PreloadTexturesWithInstances(e){const t=new Set;for(const e of this.GetObjectClass().GetInstances()){const n=e.GetSdkInstance();n._UpdateRasterImage();const s=n._GetRasterImage();s&&t.add(s)}return Promise.all([...t].map(t=>this._PreloadRasterImage(e,t)))}async _PreloadRasterImage(e,t){await t.WhenBaseSizeReady();const n=256,s=t.GetBaseWidth()/t.GetBaseHeight();let r=0,o=0;1>s?(r=n*s,o=n):(r=n,o=n/s),await t.StartRasterForSize(e,r,o)}}}{const eB=self.C3,tB=self.C3X,nB=0,sB=1,rB=eB.New(eB.Rect),oB=eB.New(eB.Quad);eB.Plugins.SVGPicture.Instance=class extends eB.SDKWorldInstanceBase{constructor(e,t){super(e),this._svgFilename="",this._loadingSvgFilename="",this._imageGeneration=0,this._rasterImage=null,this._collisionPoly=eB.New(eB.CollisionPoly),this.GetWorldInfo().SetSourceCollisionPoly(this._collisionPoly),t&&(this._svgFilename=t[nB],this.GetWorldInfo().SetVisible(!!t[sB])),this._UpdateRasterImage(),this.HandleRendererContextLoss()}Release(){this._ReleaseRasterImage(),super.Release()}_GetRasterManager(){return this.GetPlugin()._GetRasterManager()}_ReleaseRasterImage(){this._rasterImage&&(this._rasterImage.Release(),this._rasterImage=null)}async _UpdateRasterImage(){this._ReleaseRasterImage(),this._svgFilename?(this._rasterImage=this._GetRasterManager().AddImage(this._svgFilename),await this._rasterImage.WhenBaseSizeReady(),this.WasReleased()||(this._UpdateCollisionPolygon(),this._runtime.UpdateRender())):this._UpdateCollisionPolygon()}async _SetImage(e){if(this._loadingSvgFilename){if(this._loadingSvgFilename===e)return}else if(this._svgFilename===e)return;const t=++this._imageGeneration;if(!e)return this._svgFilename="",this._loadingSvgFilename="",this._ReleaseRasterImage(),void this._UpdateCollisionPolygon();this._loadingSvgFilename=e;const n=this._GetRasterManager().AddImage(e);await this.GetSdkType()._PreloadRasterImage(this._runtime.GetRenderer(),n),this.WasReleased()||t<this._imageGeneration?n.Release():(this._loadingSvgFilename="",this._svgFilename=e,this._ReleaseRasterImage(),this._rasterImage=n,this._UpdateCollisionPolygon(),this._runtime.UpdateRender())}_GetImage(){return this._svgFilename}_UpdateCollisionPolygon(){const e=this.GetWorldInfo(),t=Math.abs(e.GetWidth()),n=Math.abs(e.GetHeight());let s=t,r=n;if(this._rasterImage){const e=this._rasterImage.GetBaseWidth(),o=this._rasterImage.GetBaseHeight();if(0!==e&&0!==o){const a=e/o;t/n>a?(s=n*a,r=n):(s=t,r=t/a)}}const o=s/t,a=r/n,i=e.GetOriginX(),l=e.GetOriginY();rB.setWH(i-i*o,l-l*a,o,a),this._collisionPoly.setFromRect(rB,i,l),e.SetSourceCollisionPoly(this._collisionPoly)}_GetRasterImage(){return this._rasterImage}OnRendererContextLost(){this._ReleaseRasterImage()}OnRendererContextRestored(){this._UpdateRasterImage()}Draw(e){const t=this.GetWorldInfo(),n=t.GetLayer();if(!this._rasterImage)return;const s=this._rasterImage.GetBaseWidth(),r=this._rasterImage.GetBaseHeight();if(0===s||0===r)return;const o=Math.abs(t.GetWidth()),a=Math.abs(t.GetHeight()),i=t.GetZElevation(),l=n._GetLayerToDrawSurfaceScale(o,i),d=n._GetLayerToDrawSurfaceScale(a,i),c=s/r;let u=0,h=0,_=0,G=0;o/a>c?(_=d*c,G=d,u=a*c,h=a):(_=l,G=l/c,u=o,h=o/c),this._rasterImage.StartRasterForSize(e,_,G);const p=this._rasterImage.GetRasterizedResult();if(!p)return;e.SetTexture(p);const m=t.GetX(),g=t.GetY(),f=u*Math.sign(t.GetWidth()),N=h*Math.sign(t.GetHeight());rB.setWH(m-t.GetOriginX()*f,g-t.GetOriginY()*N,f,N),0===t.GetAngle()?oB.setFromRect(rB):(rB.offset(-m,-g),oB.setFromRotatedRectPrecalc(rB,t.GetSinAngle(),t.GetCosAngle()),oB.offset(m,g)),rB.set(0,0,this._rasterImage.GetRasterWidth()/p.GetWidth(),this._rasterImage.GetRasterHeight()/p.GetHeight()),e.Quad3(oB,rB)}GetPropertyValueByIndex(e){}SetPropertyValueByIndex(e,t){}SaveToJson(){return{svg:this._GetImage()}}LoadFromJson(e){e.svg&&this._SetImage(e.svg)}GetCurrentSurfaceSize(){if(this._rasterImage){const e=this._rasterImage.GetRasterizedResult();if(e)return[e.GetWidth(),e.GetHeight()]}return[100,100]}GetCurrentTexRect(){if(this._rasterImage){const e=this._rasterImage.GetRasterizedResult();if(e)return rB.set(0,0,this._rasterImage.GetRasterWidth()/e.GetWidth(),this._rasterImage.GetRasterHeight()/e.GetHeight()),rB}return null}GetScriptInterfaceClass(){return self.ISVGPictureInstance}};const aB=new WeakMap;self.ISVGPictureInstance=class extends self.IWorldInstance{constructor(){super(),aB.set(this,self.IInstance._GetInitInst().GetSdkInstance())}set svgUrl(e){tB.RequireString(e),aB.get(this)._SetImage(e)}get svgUrl(){return aB.get(this)._GetImage()}setSvgUrl(e){return tB.RequireString(e),aB.get(this)._SetImage(e)}}}self.C3.Plugins.SVGPicture.Cnds={},self.C3.Plugins.SVGPicture.Acts={SetImage(e){return this._SetImage(e)},SetImageByName(e){return this._SetImage(e)},SetEffect(e){this.GetWorldInfo().SetBlendMode(e),this._runtime.UpdateRender()}},self.C3.Plugins.SVGPicture.Exps={};{const iB=self.C3;iB.Plugins.Spritefont2=class extends iB.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const lB=self.C3;lB.Plugins.Spritefont2.Type=class extends lB.SDKTypeBase{constructor(e){super(e),this._spriteFont=lB.New(self.SpriteFont)}Release(){super.Release()}OnCreate(){this.GetImageInfo().LoadAsset(this._runtime)}LoadTextures(e){return this.GetImageInfo().LoadStaticTexture(e,{sampling:this._runtime.GetSampling()})}ReleaseTextures(){this.GetImageInfo().ReleaseTexture()}GetSpriteFont(){return this._spriteFont}UpdateSettings(e,t,n,s){const r=this.GetImageInfo(),o=this._spriteFont;o.SetWidth(r.GetWidth()),o.SetHeight(r.GetHeight()),o.SetCharacterWidth(e),o.SetCharacterHeight(t),o.SetCharacterSet(n),o.SetSpacingData(s),o.UpdateCharacterMap()}}}{const dB=self.C3,cB=self.C3X,uB=dB.New(dB.Vector2),hB=0,_B=1,GB=2,pB=3,mB=4,gB=5,fB=6,NB=7,bB=8,SB=9,xB=10,IB=11,yB=14,EB=["left","center","right"],TB=["top","center","bottom"],CB=["word","cjk","character"];dB.Plugins.Spritefont2.Instance=class extends dB.SDKWorldInstanceBase{constructor(e,t){super(e),this._text="",this._enableBBcode=!0,this._characterWidth=16,this._characterHeight=16,this._characterSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@+=*$<>";let n="";this._characterScale=1,this._characterSpacing=0,this._lineHeight=0,this._horizontalAlign=0,this._verticalAlign=0,this._wrapMode="word",this._needsTextLayout=!0,this._readAloud=!1,this._screenReaderText=null,this._spriteFontText=null,this._typewriterStartTime=-1,this._typewriterEndTime=-1,this._typewriterLength=0,t&&(this._text=t[0],this._enableBBcode=t[1],this._characterWidth=t[2],this._characterHeight=t[3],this._characterSet=t[4],n=t[5],this._characterScale=t[6],this._characterSpacing=t[7],this._lineHeight=t[8],this._horizontalAlign=t[9],this._verticalAlign=t[10],this._wrapMode=CB[t[11]],this.GetWorldInfo().SetVisible(t[12]),this._readAloud=!!t[yB]),this._sdkType.UpdateSettings(this._characterWidth,this._characterHeight,this._characterSet,n),this._spriteFontText=dB.New(self.SpriteFontText,this._sdkType.GetSpriteFont());const s=this.GetWorldInfo();this._spriteFontText.SetSize(s.GetWidth(),s.GetHeight()),this._UpdateSettings(),this._UpdateScreenReaderText(),this._inst.SetMustMitigateZFighting()}Release(){this._CancelTypewriter(),this._screenReaderText&&(this._screenReaderText.Release(),this._screenReaderText=null),this._spriteFontText.Release(),this._spriteFontText=null,super.Release()}_UpdateSettings(){const e=this._spriteFontText;e&&(e.SetBBCodeEnabled(this._enableBBcode),e.SetText(this._text),e.SetWordWrapMode(this._wrapMode),e.SetHorizontalAlign(EB[this._horizontalAlign]),e.SetVerticalAlign(TB[this._verticalAlign]),e.SetSpacing(this._characterSpacing),e.SetLineHeight(this._lineHeight))}_UpdateTextSize(){const e=this.GetWorldInfo();this._spriteFontText.SetSize(e.GetWidth(),e.GetHeight()),this._spriteFontText.SetScale(this._characterScale)}_UpdateScreenReaderText(){if(this._readAloud){let e=this._text;this._enableBBcode&&(e=dB.BBString.StripAnyTags(e)),this._screenReaderText?this._screenReaderText.SetText(e):this._screenReaderText=dB.New(dB.ScreenReaderText,this._runtime,e)}else this._screenReaderText&&(this._screenReaderText.Release(),this._screenReaderText=null)}Draw(e){const t=this._objectClass.GetImageInfo(),n=t.GetTexture();if(!n)return;e.SetTexture(n);const s=this.GetWorldInfo();let r=s.GetBoundingQuad();const o=this._spriteFontText;o.SetScale(this._characterScale),o.SetSceneGraphScale(s.GetSceneGraphScale()),this._runtime.IsPixelRoundingEnabled()&&(r=s.PixelRoundQuad(r)),o.SetSize(s.GetWidth(),s.GetHeight()),o.GetSpriteFont().SetTexRect(t.GetTexRect()),o.SetColor(s.GetUnpremultipliedColor()),o.Draw(e,r.getTlx(),r.getTly(),s.GetAngle()),this._needsTextLayout=!1}SaveToJson(){const e={t:this._text,ebbc:this._enableBBcode,csc:this._characterScale,csp:this._characterSpacing,lh:this._lineHeight,ha:this._horizontalAlign,va:this._verticalAlign,w:this._wrapMode,cw:this._sdkType.GetSpriteFont().GetCharacterWidth(),ch:this._sdkType.GetSpriteFont().GetCharacterHeight(),cs:this._sdkType.GetSpriteFont().GetCharacterSet(),sd:this._sdkType.GetSpriteFont().GetSpacingData()};return-1!==this._typewriterEndTime&&(e.tw={st:this._typewriterStartTime,en:this._typewriterEndTime,l:this._typewriterLength}),e}LoadFromJson(e){if(this._CancelTypewriter(),this._text=e.t,this._enableBBcode=e.ebbc,this._characterScale=e.csc,this._characterSpacing=e.csp,this._lineHeight=e.lh,this._horizontalAlign=e.ha,this._verticalAlign=e.va,e.hasOwnProperty("w")){const t=e.w;this._wrapMode="boolean"==typeof t?t?"word":"character":t}else this._wrapMode="word";if(e.hasOwnProperty("tw")){const t=e.tw;this._typewriterStartTime=t.st,this._typewriterEndTime=t.en,this._typewriterLength=e.l}const t=this._sdkType.GetSpriteFont();t.SetCharacterWidth(e.cw),t.SetCharacterHeight(e.ch),t.SetCharacterSet(e.cs),t.SetSpacingData(e.sd),this._UpdateSettings(),this._UpdateScreenReaderText(),-1!==this._typewriterEndTime&&this._StartTicking()}GetPropertyValueByIndex(e){switch(e){case hB:return this.GetText();case _B:return this._enableBBcode;case GB:return this._sdkType.GetSpriteFont().GetCharacterWidth();case pB:return this._sdkType.GetSpriteFont().GetCharacterHeight();case mB:return this._sdkType.GetSpriteFont().GetCharacterSet();case gB:return this._sdkType.GetSpriteFont().GetSpacingData();case fB:return this._GetScale();case NB:return this._GetCharacterSpacing();case bB:return this._GetLineHeight();case SB:return this._GetHAlign();case xB:return this._GetVAlign();case IB:return this._GetWrapMode()}}SetPropertyValueByIndex(e,t){switch(e){case hB:this._SetText(t);break;case _B:if(this._enableBBcode===!!t)return;this._enableBBcode=!!t,this._UpdateSettings();break;case GB:this._sdkType.GetSpriteFont().SetCharacterWidth(t);break;case pB:this._sdkType.GetSpriteFont().SetCharacterHeight(t);break;case mB:this._sdkType.GetSpriteFont().SetCharacterSet(t);break;case gB:this._sdkType.GetSpriteFont().SetSpacingData(t);break;case fB:this._SetScale(t);break;case NB:this._SetCharacterSpacing(t);break;case bB:this._SetLineHeight(t);break;case SB:this._SetHAlign(t);break;case xB:this._SetVAlign(t);break;case IB:this._SetWrapMode(t)}}_SetText(e){this._text!==e&&(this._text=e,this._spriteFontText.SetText(e),this._UpdateScreenReaderText(),this._runtime.UpdateRender())}GetText(){return this._text}_StartTypewriter(e,t){this._SetText(e),this._typewriterStartTime=this._runtime.GetWallTime(),this._typewriterEndTime=this._typewriterStartTime+t/this.GetInstance().GetActiveTimeScale(),this._typewriterLength=dB.CountGraphemes(dB.BBString.StripAnyTags(e)),this._spriteFontText.SetDrawMaxCharacterCount(0),this._StartTicking()}_CancelTypewriter(){this._typewriterStartTime=-1,this._typewriterEndTime=-1,this._typewriterLength=0,this._spriteFontText.SetDrawMaxCharacterCount(-1),this._StopTicking()}_FinishTypewriter(){-1!==this._typewriterEndTime&&(this._CancelTypewriter(),this.Trigger(dB.Plugins.Spritefont2.Cnds.OnTypewriterTextFinished),this._runtime.UpdateRender())}_SetScale(e){this._characterScale!==e&&(this._characterScale=e,this._spriteFontText.SetScale(this._characterScale),this._runtime.UpdateRender())}_GetScale(){return this._characterScale}_SetCharacterSpacing(e){this._characterSpacing!==e&&(this._characterSpacing=e,this._spriteFontText.SetSpacing(this._characterSpacing),this._runtime.UpdateRender())}_GetCharacterSpacing(){return this._characterSpacing}_SetLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this._spriteFontText.SetLineHeight(this._lineHeight),this._runtime.UpdateRender())}_GetLineHeight(){return this._lineHeight}_SetHAlign(e){this._horizontalAlign!==e&&(this._horizontalAlign=e,this._UpdateSettings(),this._runtime.UpdateRender())}_GetHAlign(){return this._horizontalAlign}_SetVAlign(e){this._verticalAlign!==e&&(this._verticalAlign=e,this._UpdateSettings(),this._runtime.UpdateRender())}_GetVAlign(){return this._verticalAlign}_SetWrapModeByIndex(e){this._SetWrapMode(CB[e])}_SetWrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this._UpdateSettings(),this._runtime.UpdateRender())}_GetWrapMode(){return this._wrapMode}_SetReadAloud(e){this._readAloud=!!e,this._UpdateScreenReaderText()}_IsReadAloud(){return this._readAloud}_GetTextWidth(){return this._UpdateTextSize(),this._spriteFontText.GetTextWidth()}_GetTextHeight(){return this._UpdateTextSize(),this._spriteFontText.GetTextHeight()}_GetTagAtPosition(e,t){this._UpdateTextSize();const n=this.GetWorldInfo();uB.set(e-n.GetX(),t-n.GetY()),uB.rotate(-n.GetAngle()),uB.offset(n.GetWidth()*n.GetOriginX(),n.GetHeight()*n.GetOriginY());const s=this._spriteFontText.HitTestFragment(uB.getX(),uB.getY());if(s){const e=s.GetStyleTag("tag");if(e)return e.param}return""}_HasTagAtPosition(e,t,n){const s=this._GetTagAtPosition(t,n);return s&&dB.equalsNoCase(e,s)}_GetTagPosition(e,t){this._UpdateTextSize(),t=Math.floor(t);const n=this._spriteFontText.FindFragmentWithTag(e,t);if(!n)return null;const s=this.GetWorldInfo();return uB.set(n.GetPosX(),n.GetPosY()),uB.offset(-s.GetWidth()*s.GetOriginX(),-s.GetHeight()*s.GetOriginY()),uB.rotate(s.GetAngle()),uB.offset(s.GetX(),s.GetY()),{x:uB.getX(),y:uB.getY(),width:n.GetWidth(),height:n.GetHeight()}}_GetTagCount(e){return this._UpdateTextSize(),this._spriteFontText.CountFragmentsWithTag(e)}Tick(){const e=this._runtime.GetWallTime();if(e>=this._typewriterEndTime)this._CancelTypewriter(),this.Trigger(dB.Plugins.Spritefont2.Cnds.OnTypewriterTextFinished),this._runtime.UpdateRender();else{let t=dB.relerp(this._typewriterStartTime,this._typewriterEndTime,e,0,this._typewriterLength);t=Math.floor(t),t!==this._spriteFontText.GetDrawMaxCharacterCount()&&(this._spriteFontText.SetDrawMaxCharacterCount(t),this._runtime.UpdateRender())}}GetDebuggerProperties(){const e="plugins.spritefont2";return[{title:e+".name",properties:[{name:e+".properties.text.name",value:this.GetText(),onedit:e=>this._SetText(e)},{name:e+".properties.scale.name",value:this._GetScale(),onedit:e=>this._SetScale(e)},{name:e+".properties.character-spacing.name",value:this._GetCharacterSpacing(),onedit:e=>this._SetCharacterSpacing(e)},{name:e+".properties.line-height.name",value:this._GetLineHeight(),onedit:e=>this._SetLineHeight(e)},{name:e+".debugger.text-width",value:this._GetTextWidth()},{name:e+".debugger.text-height",value:this._GetTextHeight()}]}]}GetScriptInterfaceClass(){return self.ISpriteFontInstance}};const MB=new WeakMap,VB=new Map([["left",0],["center",1],["right",2]]),BB=new Map([["top",0],["center",1],["bottom",2]]);self.ISpriteFontInstance=class extends self.IWorldInstance{constructor(){super(),MB.set(this,self.IInstance._GetInitInst().GetSdkInstance())}get text(){return MB.get(this).GetText()}set text(e){cB.RequireString(e);const t=MB.get(this);t._CancelTypewriter(),t._SetText(e)}typewriterText(e,t){cB.RequireString(e),cB.RequireFiniteNumber(t);const n=MB.get(this);n._CancelTypewriter(),n._StartTypewriter(e,t)}typewriterFinish(){MB.get(this)._FinishTypewriter()}set characterScale(e){cB.RequireFiniteNumber(e),MB.get(this)._SetScale(e)}get characterScale(){return MB.get(this)._GetScale()}set characterSpacing(e){cB.RequireFiniteNumber(e),MB.get(this)._SetCharacterSpacing(e)}get characterSpacing(){return MB.get(this)._GetCharacterSpacing()}set lineHeight(e){cB.RequireFiniteNumber(e),MB.get(this)._SetLineHeight(e)}get lineHeight(){return MB.get(this)._GetLineHeight()}set horizontalAlign(e){cB.RequireString(e);const t=VB.get(e);if(void 0===t)throw new Error("invalid mode");MB.get(this)._SetHAlign(t)}get horizontalAlign(){return EB[MB.get(this)._GetHAlign()]}set verticalAlign(e){cB.RequireString(e);const t=BB.get(e);if(void 0===t)throw new Error("invalid mode");MB.get(this)._SetVAlign(t)}get verticalAlign(){return TB[MB.get(this)._GetVAlign()]}set wordWrapMode(e){if(!CB.includes(e))throw new Error("invalid mode");MB.get(this)._SetWrapMode(e)}get wordWrapMode(){return MB.get(this)._GetWrapMode()}set readAloud(e){MB.get(this)._SetReadAloud(!!e)}get readAloud(){return MB.get(this)._IsReadAloud()}get textWidth(){return MB.get(this)._GetTextWidth()}get textHeight(){return MB.get(this)._GetTextHeight()}getTextSize(){const e=MB.get(this);return[e._GetTextWidth(),e._GetTextHeight()]}hasTagAtPosition(e,t,n){return cB.RequireString(e),cB.RequireFiniteNumber(t),cB.RequireFiniteNumber(n),MB.get(this)._HasTagAtPosition(e,t,n)}getTagAtPosition(e,t){return cB.RequireFiniteNumber(e),cB.RequireFiniteNumber(t),MB.get(this)._GetTagAtPosition(e,t)}getTagPositionAndSize(e,t=0){return cB.RequireString(e),cB.RequireFiniteNumber(t),MB.get(this)._GetTagPosition(e,t)}getTagCount(e){return cB.RequireString(e),MB.get(this)._GetTagCount(e)}}}{const OB=self.C3;OB.Plugins.Spritefont2.Cnds={CompareText(e,t){return t?this._text===e:OB.equalsNoCase(this._text,e)},IsRunningTypewriterText(){return-1!==this._typewriterEndTime},OnTypewriterTextFinished:()=>!0,HasTagAtPosition(e,t,n){return this._HasTagAtPosition(e,t,n)}}}self.C3.Plugins.Spritefont2.Acts={SetText(e){this._CancelTypewriter(),"number"==typeof e&&e<1e9&&(e=Math.round(1e10*e)/1e10),this._SetText(e.toString())},AppendText(e){this._CancelTypewriter(),"number"==typeof e&&e<1e9&&(e=Math.round(1e10*e)/1e10),(e=e.toString())&&this._SetText(this._text+e)},TypewriterText(e,t){this._CancelTypewriter(),"number"==typeof e&&e<1e9&&(e=Math.round(1e10*e)/1e10),this._StartTypewriter(e.toString(),t)},TypewriterFinish(){this._FinishTypewriter()},SetScale(e){this._SetScale(e)},SetCharacterSpacing(e){this._SetCharacterSpacing(e)},SetLineHeight(e){this._SetLineHeight(e)},SetCharacterWidth(e,t){let n=!1;const s=this._sdkType.GetSpriteFont();for(const r of e)if(" "===r)s.SetSpaceWidth(t),n=!0;else{const e=s.GetCharacter(r);e&&(e.SetDisplayWidth(t),n=!0)}n&&s.SetCharacterWidthsChanged(),this._runtime.UpdateRender()},SetEffect(e){this.GetWorldInfo().SetBlendMode(e),this._runtime.UpdateRender()},SetHAlign(e){this._SetHAlign(e)},SetVAlign(e){this._SetVAlign(e)},SetWrapping(e){this._SetWrapModeByIndex(e)},SetReadAloud(e){this._SetReadAloud(e)}};{const vB=self.C3;vB.Plugins.Spritefont2.Exps={CharacterWidth(e){const t=this._sdkType.GetSpriteFont().GetCharacter(e);return t?t.GetDisplayWidth():this._sdkType.GetSpriteFont().GetCharacterWidth()},CharacterHeight(){return this._characterHeight},CharacterScale(){return this._characterScale},CharacterSpacing(){return this._characterSpacing},LineHeight(){return this._lineHeight},Text(){return this._text},PlainText(){return this._enableBBcode?vB.BBString.StripAnyTags(this._text):this._text},TextWidth(){return this._GetTextWidth()},TextHeight(){return this._GetTextHeight()},TagAtPosition(e,t){return this._GetTagAtPosition(e,t)},TagCount(e){return this._GetTagCount(e)},TagX(e,t){const n=this._GetTagPosition(e,t);return n?n.x:0},TagY(e,t){const n=this._GetTagPosition(e,t);return n?n.y:0},TagWidth(e,t){const n=this._GetTagPosition(e,t);return n?n.width:0},TagHeight(e,t){const n=this._GetTagPosition(e,t);return n?n.height:0}}}{const PB=self.C3;self.SpriteFontCharacter=class{constructor(e,t,n,s){let r=e.GetCharacterWidth(),o=e.GetCharacterHeight();this._spriteFont=e,this._char=t,this._pxRect=new PB.Rect(n,s,n+r,s+o),this._texRect=new PB.Rect,this._displayWidth=-1,this._UpdateTexRect()}Release(){this._spriteFont=null,this._pxRect=null,this._texRect=null}_UpdateTexRect(){let e=this._spriteFont.GetWidth(),t=this._spriteFont.GetHeight();this._texRect.copy(this._pxRect),this._texRect.divide(e,t),this._texRect.lerpInto(this._spriteFont.GetTexRect())}GetSpriteFont(){return this._spriteFont}GetChar(){return this._char}GetTexRect(){return this._texRect}SetDisplayWidth(e){this._displayWidth=e}GetDisplayWidth(){return this._displayWidth<0?this._spriteFont.GetCharacterWidth():this._displayWidth}}}{let wB=function(e,t){e=e.trim();const n=parseFloat(e);return isFinite(n)?e.endsWith("%")?t*n/100:n:0},AB=function(e){return UB||(UB=DB.CreateCanvas(32,32).getContext("2d")),UB.fillStyle="#FFFFFF",UB.fillStyle=e,UB.fillStyle};getOffsetParam=wB,normalizeCssColorString=AB;const DB=self.C3,RB=new DB.Rect,FB=new DB.Quad,jB=new DB.Color,kB=new Set(["left","center","right"]),LB=new Set(["top","center","bottom"]),WB=new Set(["word","cjk","character"]);let UB=null;self.SpriteFontText=class{constructor(e){this._spriteFont=e,this._cssWidth=0,this._cssHeight=0,this._text="",this._isBBcodeEnabled=!1,this._bbString=null,this._wrappedText=DB.New(DB.WordWrap),this._wrapMode="word",this._wordWrapChanged=!1,this._textLayoutChanged=!1,this._horizontalAlign="left",this._verticalAlign="top",this._scale=1,this._sceneGraphScale=1,this._spacing=0,this._lineHeight=0,this._color=DB.New(DB.Color),this._drawMaxCharCount=-1,this._drawCharCount=0,this._measureTextCallback=e=>this._MeasureText(e),this._spriteFont._AddSpriteFontText(this)}Release(){this._spriteFont._RemoveSpriteFontText(this),this._color=null,this._measureTextCallback=null,this._wrappedText.Clear(),this._wrappedText=null,this._spriteFont=null,this._bbString=null}_MeasureText(e){if(e.IsIcon())return{width:0,height:0};const t=e.GetCharacterArray(),n=e.GetStyleTag("scale"),s=(n?parseFloat(n.param):this._scale)*this._sceneGraphScale,r=e.GetStyleTag("scalex"),o=(r?parseFloat(r.param):1)*s,a=e.GetStyleTag("scaley"),i=(a?parseFloat(a.param):1)*s,l=this._spriteFont.GetCharacterHeight()*i+this._lineHeight,d=this.GetSpriteFont(),c=d.GetCharacterWidth()*o,u=this.GetSpacing();if(d.HasAnyCustomWidths()){let e=0,n=0;for(const s of t){let t=c;const r=d.GetCharacter(s);r?t=r.GetDisplayWidth()*o:" "===s&&(t=d.GetSpaceWidth()*o),n+=t,++e}return{width:n+e*u,height:l}}{const e=t.length;return{width:c*e+Math.max(e,0)*u,height:l}}}_SetTextLayoutChanged(){this._textLayoutChanged=!0}_SetWordWrapChanged(){this._SetTextLayoutChanged(),this._wordWrapChanged=!0,this._wrappedText.Clear()}SetSize(e,t){e<=0||t<=0||this._cssWidth===e&&this._cssHeight===t||(this._cssWidth!==e?this._SetWordWrapChanged():this._SetTextLayoutChanged(),this._cssWidth=e,this._cssHeight=t)}SetDrawMaxCharacterCount(e){this._drawMaxCharCount=Math.floor(e)}GetDrawMaxCharacterCount(){return this._drawMaxCharCount}HitTestFragment(e,t){this._UpdateTextMeasurements();const n=this._wrappedText.GetLines();for(const s of n)if(t>s.GetPosY()&&t<s.GetPosY()+s.GetHeight())for(const t of s.fragments())if(e>=t.GetPosX()&&e<t.GetPosX()+t.GetWidth())return t;return null}*fragmentsWithTag(e){this._UpdateTextMeasurements();const t=this._wrappedText.GetLines();for(const n of t)for(const t of n.fragments()){const n=t.GetStyleTag("tag");n&&DB.equalsNoCase(n.param,e)&&(yield t)}}FindFragmentWithTag(e,t){for(const n of this.fragmentsWithTag(e)){if(0===t)return n;--t}return null}CountFragmentsWithTag(e){let t=0;for(const n of this.fragmentsWithTag(e))++t;return t}_UpdateTextMeasurements(){this._UpdateWordWrap(),this._UpdateTextLayout()}_UpdateWordWrap(){if(!this._wordWrapChanged)return;!this._isBBcodeEnabled||this._bbString&&this._bbString.toString()===this._text||(this._bbString=new DB.BBString(this._text,{noEscape:!0}));const e=-this.GetSpacing();this._wrappedText.WordWrap(this._isBBcodeEnabled?this._bbString.toFragmentList():this._text,this._measureTextCallback,this._cssWidth,this._wrapMode,e),this._wordWrapChanged=!1}_UpdateTextLayout(){this._textLayoutChanged&&(this._LayoutText(),this._textLayoutChanged=!1)}_LayoutText(){let e=0;const t=this._lineHeight,n=DB.cloneArray(this._wrappedText.GetLines());for(const e of n){e.SetPosX(NaN),e.SetPosY(NaN);for(const t of e.fragments())t.SetPosX(NaN),t.SetPosY(NaN)}const s=n.reduce((e,t)=>e+t.GetHeight(),0)-t;"center"===this._verticalAlign?e=Math.max(Math.floor(this._cssHeight/2-s/2),0):"bottom"===this._verticalAlign&&(e=Math.floor(this._cssHeight-s));for(let s=0,r=n.length;s<r;++s){const r=n[s],o=r.GetHeight();if(s>0&&e>this._cssHeight-(o-t))break;e>=0&&this._LayoutTextLine(r,e),e+=o}}_LayoutTextLine(e,t){let n=0;"center"===this._horizontalAlign?n=Math.max(Math.floor((this._cssWidth-e.GetWidth())/2),0):"right"===this._horizontalAlign&&(n=Math.max(Math.floor(this._cssWidth-e.GetWidth()),0)),e.SetPosX(n),e.SetPosY(t);for(const s of e.fragments())s.IsIcon()||(this._LayoutTextFragment(s,n,t),n+=s.GetWidth())}_LayoutTextFragment(e,t,n){const s=e.GetStyleTag("offsetx");t+=s?wB(s.param,e.GetHeight()):0;const r=e.GetStyleTag("offsety");n+=r?wB(r.param,e.GetHeight()):0,e.SetPosX(t),e.SetPosY(n)}Draw(e,t,n,s){this._UpdateTextMeasurements(),this._drawCharCount=0;const r=DB.cloneArray(this._wrappedText.GetLines()),o=Math.sin(s),a=Math.cos(s);for(const s of r)this._DrawLine(e,s,t,n,o,a)}_DrawLine(e,t,n,s,r,o){const a=t.GetPosX(),i=t.GetPosY();if(!Number.isFinite(a)||!Number.isFinite(i))return;const l=t.GetHeight();for(const a of t.fragments())this._DrawFragment(e,a,n,s,r,o,l)}_DrawFragment(e,t,n,s,r,o,a){let i=t.GetPosX(),l=t.GetPosY();if(!Number.isFinite(i)||!Number.isFinite(l))return;let d=t.GetCharacterArray(),c=t.GetWidth();if(-1!==this._drawMaxCharCount){if(this._drawCharCount>=this._drawMaxCharCount)return;this._drawCharCount+d.length>this._drawMaxCharCount&&(d=d.slice(0,this._drawMaxCharCount-this._drawCharCount),c=this._MeasureText(t).width),this._drawCharCount+=d.length}const u=t.GetStyleTag("background");if(DB.IsCharArrayAllWhitespace(d)&&!u||t.HasStyleTag("hide"))return;const h=t.GetStyleTag("scale"),_=(h?parseFloat(h.param):this._scale)*this._sceneGraphScale,G=t.GetStyleTag("scalex"),p=(G?parseFloat(G.param):1)*_,m=t.GetStyleTag("scaley"),g=(m?parseFloat(m.param):1)*_,f=this._spriteFont.GetCharacterHeight()*g;l+=a-this._lineHeight-f;let N=1;const b=t.GetStyleTag("opacity");b&&(N=parseFloat(b.param)/100),u&&(e.SetColorFillMode(),jB.parseString(AB(u.param)),jB.setA(jB.getA()*N*this._color.getA()),jB.premultiply(),e.SetColor(jB),RB.set(i,l,i+c,l+f),RB.getRight()>this._cssWidth&&RB.setRight(this._cssWidth),FB.setFromRotatedRectPrecalc(RB,r,o),FB.offset(n,s),e.Quad(FB),e.SetTextureFillMode());const S=t.GetStyleTag("color");S?(jB.parseString(AB(S.param)),jB.setA(this._color.getA())):jB.copy(this._color),jB.setA(jB.getA()*N),jB.premultiply(),e.SetColor(jB);const x=this._spriteFont.GetCharacterWidth()*p,I=Math.abs(this.GetSpacing());for(const t of d){const a=this._spriteFont.GetCharacter(t);if(a){const t=a.GetDisplayWidth()*p;if(i+t>this._cssWidth+I+1e-5)return;RB.set(i,l,i+x,l+f),FB.setFromRotatedRectPrecalc(RB,r,o),FB.offset(n,s),e.Quad3(FB,a.GetTexRect()),i+=t+this._spacing}else i+=this._spriteFont.GetSpaceWidth()*p+this._spacing}}GetSpriteFont(){return this._spriteFont}SetBBCodeEnabled(e){e=!!e,this._isBBcodeEnabled!==e&&(this._isBBcodeEnabled=e,this._SetWordWrapChanged())}IsBBCodeEnabled(){return this._isBBcodeEnabled}SetText(e){this._text!==e&&(this._text=e,this._SetWordWrapChanged())}SetWordWrapMode(e){if(!WB.has(e))throw new Error("invalid word wrap mode");this._wrapMode!==e&&(this._wrapMode=e,this._SetWordWrapChanged())}SetHorizontalAlign(e){if(!kB.has(e))throw new Error("invalid alignment");this._horizontalAlign!==e&&(this._horizontalAlign=e,this._SetTextLayoutChanged())}SetVerticalAlign(e){if(!LB.has(e))throw new Error("invalid alignment");this._verticalAlign!==e&&(this._verticalAlign=e,this._SetTextLayoutChanged())}SetScale(e){this._scale!==e&&(this._scale=e,this._SetWordWrapChanged())}GetScale(){return this._scale}SetSceneGraphScale(e){this._sceneGraphScale!==e&&(this._sceneGraphScale=e,this._SetWordWrapChanged())}GetSceneGraphScale(){return this._sceneGraphScale}SetSpacing(e){this._spacing!==e&&(this._spacing=e,this._SetWordWrapChanged())}GetSpacing(){return this._spacing}SetLineHeight(e){this._lineHeight=e,this._SetWordWrapChanged()}GetLineHeight(){return this._lineHeight}SetOpacity(e){e=DB.clamp(e,0,1),this._color.a=e}SetColor(e){this._color.equals(e)||this._color.copy(e)}GetColor(){return this._color}GetTextWidth(){return this._UpdateTextMeasurements(),this._wrappedText.GetMaxLineWidth()}GetTextHeight(){this._UpdateTextMeasurements();const e=this._spriteFont.GetCharacterHeight()*this._scale,t=this._lineHeight,n=e+t;return this._wrappedText.GetLineCount()*n-t}}}{const HB=self.C3,zB=self.SpriteFontText,YB={width:256,height:256,characterWidth:16,characterHeight:16,characterSet:""};self.SpriteFont=class{constructor(e){if((e=Object.assign({},YB,e)).width<=0||e.height<=0||e.characterWidth<=0||e.characterHeight<=0)throw new Error("invalid size");this._width=e.width,this._height=e.height,this._characterWidth=e.characterWidth,this._characterHeight=e.characterHeight,this._characterSet=e.characterSet,this._spacingData="",this._spacingParsed=null,this._hasAnyCustomWidths=!1,this._spaceWidth=-1,this._texRect=new HB.Rect(0,0,1,1),this._characterMap=new Map,this._mapChanged=!0,this._allTexts=new Set}Release(){this._texRect=null,this._ReleaseCharacters(),this._characterMap=null,this._allTexts&&this._allTexts.clear(),this._allTexts=null}_ReleaseCharacters(){for(let e of this._characterMap.values())e.Release();this._characterMap.clear()}_AddSpriteFontText(e){this._allTexts.add(e)}_RemoveSpriteFontText(e){this._allTexts.delete(e)}UpdateCharacterMap(){if(!this._mapChanged)return;this._ReleaseCharacters();let e=HB.SplitGraphemes(this._characterSet),t=Math.floor(this._width/this._characterWidth),n=t*Math.floor(this._height/this._characterHeight);for(let s=0,r=e.length;s<r&&!(s>=n);++s){let n=e[s];if(this._characterMap.has(n))continue;let r=s%t,o=Math.floor(s/t);this._characterMap.set(n,HB.New(self.SpriteFontCharacter,this,n,r*this._characterWidth,o*this._characterHeight))}if(this._hasAnyCustomWidths=!1,this._spaceWidth=-1,Array.isArray(this._spacingParsed))for(let e of this._spacingParsed){if(!Array.isArray(e))continue;if(2!==e.length)continue;let t=e[0],n=e[1];if("number"==typeof t&&isFinite(t)&&"string"==typeof n&&t!==this._characterWidth)for(let e of n){let n=this._characterMap.get(e);n?(n.SetDisplayWidth(t),this._hasAnyCustomWidths=!0):" "===e&&(this._spaceWidth=t,this._hasAnyCustomWidths=!0)}}this._mapChanged=!1;for(let e of this._allTexts)e._SetWordWrapChanged()}SetCharacterWidthsChanged(){this._hasAnyCustomWidths=!0;for(const e of this._allTexts)e._SetWordWrapChanged()}GetCharacter(e){return this.UpdateCharacterMap(),this._characterMap.get(e)||null}HasAnyCustomWidths(){return this._hasAnyCustomWidths}SetWidth(e){if((e=Math.floor(e))<=0)throw new Error("invalid size");this._width!==e&&(this._width=e,this._mapChanged=!0)}GetWidth(){return this._width}SetHeight(e){if((e=Math.floor(e))<=0)throw new Error("invalid size");this._height!==e&&(this._height=e,this._mapChanged=!0)}GetHeight(){return this._height}SetTexRect(e){if(!this._texRect.equals(e)){this._texRect.copy(e);for(const e of this._characterMap.values())e._UpdateTexRect()}}GetTexRect(){return this._texRect}SetCharacterWidth(e){if((e=Math.floor(e))<=0)throw new Error("invalid size");this._characterWidth!==e&&(this._characterWidth=e,this._mapChanged=!0)}GetCharacterWidth(){return this._characterWidth}SetCharacterHeight(e){if((e=Math.floor(e))<=0)throw new Error("invalid size");this._characterHeight!==e&&(this._characterHeight=e,this._mapChanged=!0)}GetCharacterHeight(){return this._characterHeight}SetCharacterSet(e){this._characterSet!==e&&(this._characterSet=e,this._mapChanged=!0)}GetCharacterSet(){return this._characterSet}SetSpacingData(e){if(this._spacingData!==e&&(this._spacingData=e,this._mapChanged=!0,this._spacingParsed=null,this._spacingData.length))try{this._spacingParsed=JSON.parse(this._spacingData)}catch(e){this._spacingParsed=null}}GetSpacingData(){return this._spacingData}SetSpaceWidth(e){e<0&&(e=-1),this._spaceWidth!==e&&(this._spaceWidth=e,this._spaceWidth>=0&&(this._hasAnyCustomWidths=!0))}GetSpaceWidth(){return this._spaceWidth<0?this._characterWidth:this._spaceWidth}}}{const XB=self.C3;XB.Plugins.Text=class extends XB.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const qB=self.C3;qB.Plugins.Text.Type=class extends qB.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}LoadTextures(e){}ReleaseTextures(){}}}{const KB=self.C3,JB=self.C3X,$B=[0,0,0],ZB=0,QB=1,eO=2,tO=3,nO=4,sO=5,rO=6,oO=7,aO=8,iO=9,lO=10,dO=11,cO=12,uO=13,hO=15,_O=["left","center","right"],GO=["top","center","bottom"],pO=["ltr","rtl"],mO=["word","cjk","character"],gO=new KB.Rect,fO=new KB.Quad,NO=new KB.Color,bO=KB.New(KB.Vector2),SO=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]);KB.Plugins.Text.Instance=class extends KB.SDKWorldInstanceBase{constructor(e,t){if(super(e),this._text="",this._enableBBcode=!0,this._faceName="Arial",this._ptSize=12,this._lineHeightOffset=0,this._isBold=!1,this._isItalic=!1,this._color=KB.New(KB.Color),this._horizontalAlign=0,this._verticalAlign=0,this._wrapMode="word",this._textDirection=0,this._resolutionMode="auto",this._fixedScaleFactor=1,this._iconObjectClass=null,this._htmlString="",this._isHtmlStringUpToDate=!1,this._readAloud=!1,this._screenReaderText=null,this._typewriterStartTime=-1,this._typewriterEndTime=-1,this._typewriterLength=0,this._rendererText=KB.New(KB.Gfx.RendererText,this._runtime.GetRenderer(),{timeout:5}),this._rendererText.ontextureupdate=()=>this._runtime.UpdateRender(),this._animationframeimagechange_handler=()=>this._OnIconObjectClassImageChanged(),this._pendingUpdateIconSet=!1,t){this._text=t[ZB],this._enableBBcode=!!t[QB],this._faceName=t[eO],this._ptSize=t[tO],this._lineHeightOffset=t[nO],this._isBold=!!t[sO],this._isItalic=!!t[rO],this._horizontalAlign=t[aO],this._verticalAlign=t[iO],this._wrapMode=mO[t[lO]],this._textDirection=t[dO],this._SetIconObjectClass(this._runtime.GetObjectClassBySID(t[cO]));const e=t[oO];this._color.setRgb(e[0],e[1],e[2]),this.GetWorldInfo().SetVisible(t[uO]),this._readAloud=!!t[hO]}this._UpdateTextSettings(),this._UpdateScreenReaderText()}Release(){this._SetIconObjectClass(null),this._CancelTypewriter(),this._screenReaderText&&(this._screenReaderText.Release(),this._screenReaderText=null),this._rendererText.Release(),this._rendererText=null,super.Release()}_UpdateTextSettings(){const e=this._rendererText;e.SetText(this._text),e.SetBBCodeEnabled(this._enableBBcode),this._rendererText.IsBBCodeEnabled()&&this._iconObjectClass?this._rendererText.SetIconSet(this.GetRuntime().GetTextIconSet(this._iconObjectClass)):this._rendererText.SetIconSet(null),e.SetIconSmoothing("nearest"!==this._runtime.GetSampling()),e.SetFontName(this._faceName),e.SetLineHeight(this._lineHeightOffset),e.SetBold(this._isBold),e.SetItalic(this._isItalic),e.SetColor(this._color),e.SetHorizontalAlignment(_O[this._horizontalAlign]),e.SetVerticalAlignment(GO[this._verticalAlign]),e.SetWordWrapMode(this._wrapMode),e.SetTextDirection(pO[this._textDirection])}_UpdateTextSize(){const e=this.GetWorldInfo();this._rendererText.SetFontSize(this._ptSize),this._rendererText.SetFontSizeScale(e.GetSceneGraphScale());const t=e.GetLayer();let n;"auto"===this._resolutionMode?n=t.GetResolutionScaleFactorToZ(e.GetTotalZElevation()):"fixed"===this._resolutionMode&&(n=this._fixedScaleFactor),e.HasMesh()&&n!==this._rendererText.GetZoom()&&e.SetMeshChanged(!0),this._rendererText.SetSize(e.GetWidth(),e.GetHeight(),n)}_SetIconObjectClass(e){e&&(e.IsFamily()||e.GetPlugin().constructor!==KB.Plugins.Sprite)||e!==this._iconObjectClass&&(this._iconObjectClass&&this._iconObjectClass.Dispatcher().removeEventListener("animationframeimagechange",this._animationframeimagechange_handler),this._iconObjectClass=e,this._iconObjectClass&&this._iconObjectClass.Dispatcher().addEventListener("animationframeimagechange",this._animationframeimagechange_handler),this._UpdateTextSettings(),this._isHtmlStringUpToDate=!1,this._runtime.UpdateRender())}_OnIconObjectClassImageChanged(){this._runtime.DeleteTextIconSet(this._iconObjectClass),this._runtime.UpdateRender(),this._pendingUpdateIconSet=!0}_UpdateScreenReaderText(){if(this._readAloud){let e=this._text;this._enableBBcode&&(e=KB.BBString.StripAnyTags(e)),this._screenReaderText?this._screenReaderText.SetText(e):this._screenReaderText=KB.New(KB.ScreenReaderText,this._runtime,e)}else this._screenReaderText&&(this._screenReaderText.Release(),this._screenReaderText=null)}Draw(e){const t=this.GetWorldInfo();this._UpdateTextSize(),this._pendingUpdateIconSet&&(this._pendingUpdateIconSet=!1,this._rendererText.IsBBCodeEnabled()&&this._iconObjectClass&&this._rendererText.SetIconSet(this.GetRuntime().GetTextIconSet(this._iconObjectClass)));const n=this._rendererText.GetTexture();if(!n)return;const s=t.GetLayer();if(0===t.GetAngle()&&0===s.GetAngle()&&0===t.GetTotalZElevation()&&!t.HasMesh()&&s.RendersIn2DMode()){const r=t.GetBoundingQuad(),[o,a]=s.LayerToDrawSurface(r.getTlx(),r.getTly()),[i,l]=s.LayerToDrawSurface(r.getBrx(),r.getBry()),d=o-Math.round(o),c=a-Math.round(a);gO.set(o,a,i,l),gO.offset(-d,-c),fO.setFromRect(gO);const[u,h]=e.GetRenderTargetSize(e.GetRenderTarget());e.IsWebGL()?this._runtime.GetCanvasManager().SetDeviceTransform(e,u,h):(e.SetNormalizedCoordsProgramVariant(!0),fO.divide(u,h)),e.SetTexture(n),e.Quad3(fO,this._rendererText.GetTexRect()),e.IsWebGL()?s._SetTransform(e):e.SetNormalizedCoordsProgramVariant(!1)}else e.SetTexture(n),t.HasMesh()?this._DrawMesh(t,e):this._DrawStandard(t,e)}_DrawStandard(e,t){let n=e.GetBoundingQuad();this._runtime.IsPixelRoundingEnabled()&&(n=this._PixelRoundQuad(n)),t.Quad3(n,this._rendererText.GetTexRect())}_DrawMesh(e,t){const n=e.GetTransformedMesh();if(e.IsMeshChanged()){e.CalculateBbox(gO,fO,!1);let t=fO;this._runtime.IsPixelRoundingEnabled()&&(t=this._PixelRoundQuad(t)),n.CalculateTransformedMesh(e.GetSourceMesh(),t,this._rendererText.GetTexRect()),e.SetMeshChanged(!1)}n.Draw(t,e.GetTotalZElevation())}_PixelRoundQuad(e){const t=e.getTlx()-Math.round(e.getTlx()),n=e.getTly()-Math.round(e.getTly());return 0===t&&0===n?e:(fO.copy(e),fO.offset(-t,-n),fO)}GetCurrentSurfaceSize(){const e=this._rendererText.GetTexture();return e?[e.GetWidth(),e.GetHeight()]:[100,100]}GetCurrentTexRect(){return this._rendererText.GetTexRect()}IsCurrentTexRotated(){return!1}SaveToJson(){const e={t:this._text,c:this._color.toJSON(),fn:this._faceName,ps:this._ptSize};return this._enableBBcode&&(e.bbc=this._enableBBcode),0!==this._horizontalAlign&&(e.ha=this._horizontalAlign),0!==this._verticalAlign&&(e.va=this._verticalAlign),"word"!==this._wrapMode&&(e.wr=this._wrapMode),0!==this._lineHeightOffset&&(e.lho=this._lineHeightOffset),this._isBold&&(e.b=this._isBold),this._isItalic&&(e.i=this._isItalic),-1!==this._typewriterEndTime&&(e.tw={st:this._typewriterStartTime,en:this._typewriterEndTime,l:this._typewriterLength}),this._iconObjectClass&&(e.ioc=this._iconObjectClass.GetSID()),"fixed"===this._resolutionMode&&(e.fs=this._fixedScaleFactor),e}LoadFromJson(e){if(this._CancelTypewriter(),this._text=e.t,this._color.setFromJSON(e.c),this._faceName=e.fn,this._ptSize=e.ps,this._enableBBcode=!!e.hasOwnProperty("bbc")&&e.bbc,this._horizontalAlign=e.hasOwnProperty("ha")?e.ha:0,this._verticalAlign=e.hasOwnProperty("va")?e.va:0,e.hasOwnProperty("wr")){const t=e.wr;this._wrapMode="boolean"==typeof t?t?"word":"character":t}else this._wrapMode="word";if(this._lineHeightOffset=e.hasOwnProperty("lho")?e.lho:0,this._isBold=!!e.hasOwnProperty("b")&&e.b,this._isItalic=!!e.hasOwnProperty("i")&&e.i,e.hasOwnProperty("tw")){const t=e.tw;this._typewriterStartTime=t.st,this._typewriterEndTime=t.en,this._typewriterLength=t.l}if(e.hasOwnProperty("ioc")){const t=this.GetRuntime().GetObjectClassBySID(e.ioc);t&&this._SetIconObjectClass(t)}else this._SetIconObjectClass(null);e.hasOwnProperty("fs")?(this._resolutionMode="fixed",this._fixedScaleFactor=e.fs):this._resolutionMode="auto",this._UpdateTextSettings(),this._UpdateScreenReaderText(),this._isHtmlStringUpToDate=!1,-1!==this._typewriterEndTime&&this._StartTicking()}GetPropertyValueByIndex(e){switch(e){case ZB:return this.GetText();case QB:return this._enableBBcode;case eO:return this._GetFontFace();case tO:return this._GetFontSize();case nO:return this._GetLineHeight();case sO:return this._IsBold();case rO:return this._IsItalic();case oO:return $B[0]=this._color.getR(),$B[1]=this._color.getG(),$B[2]=this._color.getB(),$B;case aO:return this._GetHAlign();case iO:return this._GetVAlign();case lO:return this._GetWrapMode();case hO:return this._IsReadAloud()}}SetPropertyValueByIndex(e,t){switch(e){case ZB:this._SetText(t);break;case QB:if(this._enableBBcode===!!t)return;this._enableBBcode=!!t,this._UpdateTextSettings();break;case eO:this._SetFontFace(t);break;case tO:this._SetFontSize(t);break;case nO:this._SetLineHeight(t);break;case sO:this._SetBold(t);break;case rO:this._SetItalic(t);break;case oO:const e=this._color,n=t;if(e.getR()===n[0]&&e.getG()===n[1]&&e.getB()===n[2])return;this._color.setRgb(n[0],n[1],n[2]),this._UpdateTextSettings();break;case aO:this._SetHAlign(t);break;case iO:this._SetVAlign(t);break;case lO:this._SetWrapMode(t)}}SetPropertyColorOffsetValueByIndex(e,t,n,s){0===t&&0===n&&0===s||e!==oO||(this._color.addRgb(t,n,s),this._UpdateTextSettings())}_SetText(e){this._text!==e&&(this._text=e,this._rendererText.SetText(e),this._UpdateScreenReaderText(),this._isHtmlStringUpToDate=!1,this._runtime.UpdateRender())}GetText(){return this._text}_StartTypewriter(e,t){this._UpdateTextSize(),this._SetText(e),this._typewriterStartTime=this._runtime.GetWallTime(),this._typewriterEndTime=this._typewriterStartTime+t/this.GetInstance().GetActiveTimeScale(),this._typewriterLength=this._rendererText.GetLengthInGraphemes(),this._rendererText.SetDrawMaxCharacterCount(0),this._StartTicking()}_CancelTypewriter(){this._typewriterStartTime=-1,this._typewriterEndTime=-1,this._typewriterLength=0,this._rendererText.SetDrawMaxCharacterCount(-1),this._StopTicking()}_FinishTypewriter(){-1!==this._typewriterEndTime&&(this._CancelTypewriter(),this.Trigger(KB.Plugins.Text.Cnds.OnTypewriterTextFinished),this._runtime.UpdateRender())}_SetFontFace(e){this._faceName!==e&&(this._faceName=e,this._rendererText.SetFontName(e),this._runtime.UpdateRender())}_GetFontFace(){return this._faceName}_SetBold(e){e=!!e,this._isBold!==e&&(this._isBold=e,this._rendererText.SetBold(e),this._runtime.UpdateRender())}_IsBold(){return this._isBold}_SetItalic(e){e=!!e,this._isItalic!==e&&(this._isItalic=e,this._rendererText.SetItalic(e),this._runtime.UpdateRender())}_IsItalic(){return this._isItalic}_SetFontSize(e){this._ptSize!==e&&(this._ptSize=e,this._runtime.UpdateRender())}_GetFontSize(){return this._ptSize}_SetFontColor(e){this._color.equalsIgnoringAlpha(e)||(this._color.copyRgb(e),this._rendererText.SetColor(this._color),this._runtime.UpdateRender())}_GetFontColor(){return this._color}_SetLineHeight(e){this._lineHeightOffset!==e&&(this._lineHeightOffset=e,this._UpdateTextSettings(),this._runtime.UpdateRender())}_GetLineHeight(){return this._lineHeightOffset}_SetHAlign(e){this._horizontalAlign!==e&&(this._horizontalAlign=e,this._UpdateTextSettings(),this._runtime.UpdateRender())}_GetHAlign(){return this._horizontalAlign}_SetVAlign(e){this._verticalAlign!==e&&(this._verticalAlign=e,this._UpdateTextSettings(),this._runtime.UpdateRender())}_GetVAlign(){return this._verticalAlign}_SetWrapModeByIndex(e){this._SetWrapMode(mO[e])}_SetWrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this._UpdateTextSettings(),this._runtime.UpdateRender())}_GetWrapMode(){return this._wrapMode}_SetTextDirection(e){this._textDirection!==e&&(this._textDirection=e,this._UpdateTextSettings(),this._runtime.UpdateRender())}_GetTextDirection(){return this._textDirection}_SetReadAloud(e){this._readAloud=!!e,this._UpdateScreenReaderText()}_IsReadAloud(){return this._readAloud}_SetResolutionMode(e){this._resolutionMode!==e&&(this._resolutionMode=e,this._runtime.UpdateRender())}_GetResolutionMode(){return this._resolutionMode}_SetFixedScaleFactor(e){this._fixedScaleFactor!==e&&(this._fixedScaleFactor=e,"fixed"===this._resolutionMode&&this._runtime.UpdateRender())}_GetFixedScaleFactor(){return this._fixedScaleFactor}_GetTextWidth(){return this._UpdateTextSize(),this._rendererText.GetTextWidth()}_GetTextHeight(){return this._UpdateTextSize(),this._rendererText.GetTextHeight()}_GetTagAtPosition(e,t){this._UpdateTextSize();const n=this.GetWorldInfo();bO.set(e-n.GetX(),t-n.GetY()),bO.rotate(-n.GetAngle()),bO.offset(n.GetWidth()*n.GetOriginX(),n.GetHeight()*n.GetOriginY()),bO.divide(n.GetWidth(),n.GetHeight()),bO.scale(this._rendererText.GetWidth(),this._rendererText.GetHeight());const s=this._rendererText.HitTestFragment(bO.getX(),bO.getY());if(s){const e=s.GetStyleTag("tag");if(e)return e.param}return""}_HasTagAtPosition(e,t,n){const s=this._GetTagAtPosition(t,n);return s&&KB.equalsNoCase(e,s)}_GetTagPosition(e,t){this._UpdateTextSize(),t=Math.floor(t);const n=this._rendererText.FindFragmentWithTag(e,t);if(!n)return null;const s=this.GetWorldInfo(),r=this._rendererText.GetDrawScale(),o=n.GetPosX(),a=n.GetPosY()-(n.GetHeight()-n.GetFontBoundingBoxDescent())*r,i=n.GetWidth()*r/this._rendererText.GetWidth()*s.GetWidth(),l=n.GetHeight()*r/this._rendererText.GetHeight()*s.GetHeight();return bO.set(o,a),bO.divide(this._rendererText.GetWidth(),this._rendererText.GetHeight()),bO.scale(s.GetWidth(),s.GetHeight()),bO.offset(-s.GetWidth()*s.GetOriginX(),-s.GetHeight()*s.GetOriginY()),bO.rotate(s.GetAngle()),bO.offset(s.GetX(),s.GetY()),{x:bO.getX(),y:bO.getY(),width:i,height:l}}_GetTagCount(e){return this._UpdateTextSize(),this._rendererText.CountFragmentsWithTag(e)}_GetHTMLCloseTag(e){let t=SO.get(e);return null===t?"":(t||(t="span"),`</${t||"span"}>`)}_GetHTMLOpenTag(e,t){let n=SO.get(e);if(null===n)return"";switch(n||(n="span"),e){case"color":return`<${n} style="color: ${t}">`;case"font":return`<${n} style="font-family: '${t}'">`;case"opacity":return`<${n} style="opacity: ${t}%">`;case"size":return`<${n} style="font-size: ${t}pt">`;case"background":return`<${n} style="background-color: ${t}">`;case"hide":return`<${n} style="visibility: hidden">`;case"class":return`<${n} class="${t}">`;case"tag":return`<${n} data-tag="${t}">`;default:return`<${n}>`}}async _UpdateHTMLString(){if(this._isHtmlStringUpToDate)return this._htmlString;const e=new KB.BBString(this._text,{noEscape:!0}).toFragmentList(),t=new Map;let n='<span class="c3-text"';const s=[];s.push(`font-family: '${this._GetFontFace()}';`),this._IsBold()&&s.push("font-weight: bold;"),this._IsItalic()&&s.push("font-style: italic;"),"character"===this._GetWrapMode()&&s.push("word-break: break-all;"),n+=` style="${s.join(" ")}">`;const r=this._iconObjectClass?this.GetRuntime().GetTextIconSet(this._iconObjectClass):null;if(this._iconObjectClass){const n=KB.New(KB.PromiseThrottle),s=[],o=new Map;for(const t of e)if(t.IsIcon()){const e=t.GetTextIcon(r);if(e){const t=e.GetSource().GetImageInfo().GetImageAsset();if(o.has(t))continue;o.set(t,null),s.push(n.Add(async()=>{const e=await t.LoadToDrawable();o.set(t,e)}))}}await Promise.all(s);const a=[];for(const s of e)if(s.IsIcon()){const e=s.GetTextIcon(r);if(e){const s=e.GetSource(),r=s.GetImageInfo().GetImageAsset();a.push(n.Add(async()=>{const n=await s.GetImageInfo().ExtractImageToBlobURL(o.get(r));t.set(e,n)}))}}await Promise.all(a);for(const e of o.values())e instanceof ImageBitmap&&e.close&&e.close()}const o=new Map;for(const s of e){const e=s.GetStyleMap();let a=[...o.keys()];a.reverse();for(const t of a)e.has(t)&&e.get(t)===o.get(t)||(o.delete(t),n+=this._GetHTMLCloseTag(t));for(const[t,s]of e)o.has(t)||(o.set(t,s),n+=this._GetHTMLOpenTag(t,s));if(s.IsText()&&(n+=KB.ReplaceAll(KB.EscapeHTML(s.GetCharacterArray().join("")),"\n","<br>")),s.IsIcon()&&r){const o=s.GetTextIcon(r);if(o){const r=t.get(o);if(r){const t=[];let a="0.2em";const i=e.get("iconoffsety");if(i){let e=i.trim();a=e.endsWith("%")?parseFloat(e)/100+"em":e+"px"}t.push(`top: ${a}`),"nearest"===this._runtime.GetSampling()&&t.push("image-rendering: pixelated"),n+=`<img class="c3-text-icon" data-icon="${s.GetIconParameter()}" width="${o.GetWidth()}" height="${o.GetHeight()}" style="${t.join(";")}" src="${r}">`}}}}const a=[...o.keys()];a.reverse();for(const e of a)n+=this._GetHTMLCloseTag(e);return n+="</span>",this._htmlString=n,this._isHtmlStringUpToDate=!0,this._htmlString}Tick(){const e=this._runtime.GetWallTime();if(e>=this._typewriterEndTime)this._CancelTypewriter(),this.Trigger(KB.Plugins.Text.Cnds.OnTypewriterTextFinished),this._runtime.UpdateRender();else{let t=KB.relerp(this._typewriterStartTime,this._typewriterEndTime,e,0,this._typewriterLength);t=Math.floor(t),t!==this._rendererText.GetDrawMaxCharacterCount()&&(this._rendererText.SetDrawMaxCharacterCount(t),this._runtime.UpdateRender())}}GetDebuggerProperties(){const e="plugins.text";return[{title:e+".name",properties:[{name:e+".properties.text.name",value:this.GetText(),onedit:e=>this._SetText(e)},{name:e+".properties.font.name",value:this._GetFontFace(),onedit:e=>this._SetFontFace(e)},{name:e+".properties.size.name",value:this._GetFontSize(),onedit:e=>this._SetFontSize(e)},{name:e+".properties.line-height.name",value:this._GetLineHeight(),onedit:e=>this._SetLineHeight(e)},{name:e+".properties.bold.name",value:this._IsBold(),onedit:e=>this._SetBold(e)},{name:e+".properties.italic.name",value:this._IsItalic(),onedit:e=>this._SetItalic(e)},{name:e+".debugger.text-width",value:this._GetTextWidth()},{name:e+".debugger.text-height",value:this._GetTextHeight()}]}]}GetScriptInterfaceClass(){return self.ITextInstance}};const xO=new WeakMap,IO=new Map([["left",0],["center",1],["right",2]]),yO=new Map([["top",0],["center",1],["bottom",2]]),EO=["ltr","rtl"];self.ITextInstance=class extends self.IWorldInstance{constructor(){super(),xO.set(this,self.IInstance._GetInitInst().GetSdkInstance())}get text(){return xO.get(this).GetText()}set text(e){JB.RequireString(e);const t=xO.get(this);t._CancelTypewriter(),t._SetText(e)}typewriterText(e,t){JB.RequireString(e),JB.RequireFiniteNumber(t);const n=xO.get(this);n._CancelTypewriter(),n._StartTypewriter(e,t)}typewriterFinish(){xO.get(this)._FinishTypewriter()}set fontFace(e){JB.RequireString(e),xO.get(this)._SetFontFace(e)}get fontFace(){return xO.get(this)._GetFontFace()}set isBold(e){xO.get(this)._SetBold(e)}get isBold(){return xO.get(this)._IsBold()}set isItalic(e){xO.get(this)._SetItalic(e)}get isItalic(){return xO.get(this)._IsItalic()}set sizePt(e){JB.RequireFiniteNumber(e),xO.get(this)._SetFontSize(e)}get sizePt(){return xO.get(this)._GetFontSize()}set fontColor(e){if(JB.RequireArray(e),e.length<3)throw new Error("expected 3 elements");NO.setRgb(e[0],e[1],e[2]),xO.get(this)._SetFontColor(NO)}get fontColor(){const e=xO.get(this)._GetFontColor();return[e.getR(),e.getG(),e.getB()]}set lineHeight(e){JB.RequireFiniteNumber(e),xO.get(this)._SetLineHeight(e)}get lineHeight(){return xO.get(this)._GetLineHeight()}set horizontalAlign(e){JB.RequireString(e);const t=IO.get(e);if(void 0===t)throw new Error("invalid mode");xO.get(this)._SetHAlign(t)}get horizontalAlign(){return _O[xO.get(this)._GetHAlign()]}set verticalAlign(e){JB.RequireString(e);const t=yO.get(e);if(void 0===t)throw new Error("invalid mode");xO.get(this)._SetVAlign(t)}get verticalAlign(){return GO[xO.get(this)._GetVAlign()]}set wordWrapMode(e){if(!mO.includes(e))throw new Error("invalid mode");xO.get(this)._SetWrapMode(e)}get wordWrapMode(){return xO.get(this)._GetWrapMode()}set textDirection(e){JB.RequireString(e);const t=EO.indexOf(e);if(-1===t)throw new Error("invalid text direction");xO.get(this)._SetTextDirection(t)}get textDirection(){return EO[xO.get(this)._GetTextDirection()]}set readAloud(e){xO.get(this)._SetReadAloud(!!e)}get readAloud(){return xO.get(this)._IsReadAloud()}setFixedResolutionMode(e){JB.RequireFiniteNumber(e);const t=xO.get(this);t._SetResolutionMode("fixed"),t._SetFixedScaleFactor(e)}setAutoResolutionMode(){xO.get(this)._SetResolutionMode("auto")}get textWidth(){return xO.get(this)._GetTextWidth()}get textHeight(){return xO.get(this)._GetTextHeight()}getTextSize(){const e=xO.get(this);return[e._GetTextWidth(),e._GetTextHeight()]}hasTagAtPosition(e,t,n){return JB.RequireString(e),JB.RequireFiniteNumber(t),JB.RequireFiniteNumber(n),xO.get(this)._HasTagAtPosition(e,t,n)}getTagAtPosition(e,t){return JB.RequireFiniteNumber(e),JB.RequireFiniteNumber(t),xO.get(this)._GetTagAtPosition(e,t)}getTagPositionAndSize(e,t=0){return JB.RequireString(e),JB.RequireFiniteNumber(t),xO.get(this)._GetTagPosition(e,t)}getTagCount(e){return JB.RequireString(e),xO.get(this)._GetTagCount(e)}changeIconSet(e){const t=xO.get(this),n=t.GetRuntime()._UnwrapIObjectClass(e);t._SetIconObjectClass(n)}getAsHtmlString(){return xO.get(this)._UpdateHTMLString()}}}{const TO=self.C3;TO.Plugins.Text.Cnds={CompareText(e,t){return t?this._text===e:TO.equalsNoCase(this._text,e)},IsRunningTypewriterText(){return-1!==this._typewriterEndTime},OnTypewriterTextFinished:()=>!0,HasTagAtPosition(e,t,n){return this._HasTagAtPosition(e,t,n)}}}{const CO=self.C3,MO=CO.New(CO.Color);CO.Plugins.Text.Acts={SetText(e){this._CancelTypewriter(),"number"==typeof e&&e<1e9&&(e=Math.round(1e10*e)/1e10),this._SetText(e.toString())},AppendText(e){this._CancelTypewriter(),"number"==typeof e&&e<1e9&&(e=Math.round(1e10*e)/1e10),(e=e.toString())&&this._SetText(this._text+e)},TypewriterText(e,t){this._CancelTypewriter(),"number"==typeof e&&e<1e9&&(e=Math.round(1e10*e)/1e10),this._StartTypewriter(e.toString(),t)},SetFontFace(e,t){let n=!1,s=!1;switch(t){case 1:n=!0;break;case 2:s=!0;break;case 3:n=!0,s=!0}e===this._faceName&&n===this._isBold&&s===this._isItalic||(this._SetFontFace(e),this._SetBold(n),this._SetItalic(s))},SetFontSize(e){this._SetFontSize(e)},SetFontColor(e){MO.setFromRgbValue(e),MO.clamp(),this._SetFontColor(MO)},SetWebFont(e,t){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},SetEffect(e){this.GetWorldInfo().SetBlendMode(e),this._runtime.UpdateRender()},TypewriterFinish(){this._FinishTypewriter()},SetLineHeight(e){this._SetLineHeight(e)},SetHAlign(e){this._SetHAlign(e)},SetVAlign(e){this._SetVAlign(e)},SetWrapping(e){this._SetWrapModeByIndex(e)},SetTextDirection(e){this._SetTextDirection(e)},ChangeIconSet(e){this._SetIconObjectClass(e)},UpdateHTML(){return this._UpdateHTMLString()},SetReadAloud(e){this._SetReadAloud(e)},SetResolutionMode(e,t){this._SetResolutionMode(["auto","fixed"][e]),this._SetFixedScaleFactor(t)}}}{const VO=self.C3;VO.Plugins.Text.Exps={Text(){return this._text},PlainText(){return this._enableBBcode?VO.BBString.StripAnyTags(this._text):this._text},FaceName(){return this._faceName},FaceSize(){return this._ptSize},TextWidth(){return this._GetTextWidth()},TextHeight(){return this._GetTextHeight()},LineHeight(){return this._lineHeightOffset},TagAtPosition(e,t){return this._GetTagAtPosition(e,t)},TagCount(e){return this._GetTagCount(e)},TagX(e,t){const n=this._GetTagPosition(e,t);return n?n.x:0},TagY(e,t){const n=this._GetTagPosition(e,t);return n?n.y:0},TagWidth(e,t){const n=this._GetTagPosition(e,t);return n?n.width:0},TagHeight(e,t){const n=this._GetTagPosition(e,t);return n?n.height:0},AsHTML(){return this._htmlString}}}{const BO=self.C3,OO="text-input";BO.Plugins.TextBox=class extends BO.SDKDOMPluginBase{constructor(e){super(e,OO),this.AddElementMessageHandler("click",(e,t)=>e._OnClick(t)),this.AddElementMessageHandler("dblclick",(e,t)=>e._OnDoubleClick(t)),this.AddElementMessageHandler("change",(e,t)=>e._OnChange(t))}Release(){super.Release()}}}{const vO=self.C3;vO.Plugins.TextBox.Type=class extends vO.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const PO=self.C3,wO=self.C3X,AO=0,DO=1,RO=2,FO=3,jO=4,kO=5,LO=6,WO=7,UO=8,HO=9,zO=10,YO="text-input",XO=["text","password","email","number","tel","url","textarea","search"];PO.Plugins.TextBox.Instance=class extends PO.SDKDOMInstanceBase{constructor(e,t){super(e,YO),this._text="",this._placeholder="",this._title="",this._isEnabled=!0,this._isReadOnly=!1,this._spellCheck=!1,this._type="text",this._autoFontSize=!0,this._maxLength=-1,this._id="",this._className="",t&&(this._text=t[AO],this._placeholder=t[DO],this._title=t[RO],this.GetWorldInfo().SetVisible(t[FO]),this._isEnabled=t[jO],this._isReadOnly=t[kO],this._spellCheck=t[LO],this._type=XO[t[WO]],this._autoFontSize=t[UO],this._id=t[HO],this._className=t[zO]),this.CreateElement({type:this._type,id:this._id,className:this._className})}Release(){super.Release()}GetElementState(){return{text:this._text,placeholder:this._placeholder,title:this._title,isEnabled:this._isEnabled,isReadOnly:this._isReadOnly,spellCheck:this._spellCheck,maxLength:this._maxLength}}async _OnClick(e){this.DispatchScriptEvent("click",!0),await this.TriggerAsync(PO.Plugins.TextBox.Cnds.OnClicked)}async _OnDoubleClick(e){this.DispatchScriptEvent("dblclick",!0),await this.TriggerAsync(PO.Plugins.TextBox.Cnds.OnDoubleClicked)}async _OnChange(e){this._text=e.text,this.DispatchScriptEvent("change",!0),await this.TriggerAsync(PO.Plugins.TextBox.Cnds.OnTextChanged)}_SetText(e){this._text!==e&&(this._text=e,this.UpdateElementState())}_GetText(){return this._text}_SetPlaceholder(e){this._placeholder!==e&&(this._placeholder=e,this.UpdateElementState())}_GetPlaceholder(){return this._placeholder}_SetTooltip(e){this._title!==e&&(this._title=e,this.UpdateElementState())}_GetTooltip(){return this._title}_SetEnabled(e){e=!!e,this._isEnabled!==e&&(this._isEnabled=e,this.UpdateElementState())}_IsEnabled(){return this._isEnabled}_SetReadOnly(e){e=!!e,this._isReadOnly!==e&&(this._isReadOnly=e,this.UpdateElementState())}_IsReadOnly(){return this._isReadOnly}_SetMaxLength(e){e=Math.max(+e,-1),this._maxLength!==e&&(this._maxLength=e,this.UpdateElementState())}_GetMaxLength(){return this._maxLength}_ScrollToBottom(){Promise.resolve().then(()=>this.PostToDOMElement("scroll-to-bottom"))}Draw(e){}SaveToJson(){return{t:this._text,p:this._placeholder,ti:this._title,e:this._isEnabled,r:this._isReadOnly,sp:this._spellCheck,ml:this._maxLength,type:this._type,id:this._id}}LoadFromJson(e){this._text=e.t,this._placeholder=e.p,this._title=e.ti,this._isEnabled=e.e,this._isReadOnly=e.r,this._spellCheck=e.sp,this._maxLength=e.hasOwnProperty("ml")?e.ml:-1,this._type=e.type,this._id=e.id,this.UpdateElementState()}GetPropertyValueByIndex(e){switch(e){case AO:return this._text;case DO:return this._placeholder;case RO:return this._title;case jO:return this._isEnabled;case kO:return this._isReadOnly;case LO:return this._spellCheck;case UO:return this._autoFontSize}}SetPropertyValueByIndex(e,t){switch(e){case AO:if(this._text===t)return;this._text=t,this.UpdateElementState();break;case DO:if(this._placeholder===t)return;this._placeholder=t,this.UpdateElementState();break;case RO:if(this._title===t)return;this._title=t,this.UpdateElementState();break;case jO:if(this._isEnabled===!!t)return;this._isEnabled=!!t,this.UpdateElementState();break;case kO:if(this._isReadOnly===!!t)return;this._isReadOnly=!!t,this.UpdateElementState();break;case LO:if(this._spellCheck===!!t)return;this._spellCheck=!!t,this.UpdateElementState();break;case UO:this._autoFontSize=!!t}}GetDebuggerProperties(){const e=PO.Plugins.TextBox.Acts,t="plugins.textbox";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this._text,onedit:t=>this.CallAction(e.SetText,t)},{name:t+".properties.enabled.name",value:this._isEnabled,onedit:t=>this.CallAction(e.SetEnabled,t)},{name:t+".properties.read-only.name",value:this._isReadOnly,onedit:t=>this.CallAction(e.SetReadOnly,t)}]}]}GetScriptInterfaceClass(){return self.ITextInputInstance}};const qO=new WeakMap;self.ITextInputInstance=class extends self.IDOMInstance{constructor(){super(),qO.set(this,self.IInstance._GetInitInst().GetSdkInstance())}set text(e){wO.RequireString(e),qO.get(this)._SetText(e)}get text(){return qO.get(this)._GetText()}set placeholder(e){wO.RequireString(e),qO.get(this)._SetPlaceholder(e)}get placeholder(){return qO.get(this)._GetPlaceholder()}set tooltip(e){wO.RequireString(e),qO.get(this)._SetTooltip(e)}get tooltip(){return qO.get(this)._GetTooltip()}set isEnabled(e){qO.get(this)._SetEnabled(e)}get isEnabled(){return qO.get(this)._IsEnabled()}set isReadOnly(e){qO.get(this)._SetReadOnly(e)}get isReadOnly(){return qO.get(this)._IsReadOnly()}set maxLength(e){wO.RequireFiniteNumber(e),qO.get(this)._SetMaxLength(e)}get maxLength(){return qO.get(this)._GetMaxLength()}scrollToBottom(){qO.get(this)._ScrollToBottom()}}}{const KO=self.C3;KO.Plugins.TextBox.Cnds={CompareText(e,t){return 0===t?KO.equalsNoCase(this._text,e):this._text===e},OnTextChanged:()=>!0,OnClicked:()=>!0,OnDoubleClicked:()=>!0}}self.C3.Plugins.TextBox.Acts={SetText(e){this._SetText(e.toString())},AppendText(e){""!==e&&this._SetText(this._GetText()+e)},SetPlaceholder(e){this._SetPlaceholder(e)},SetTooltip(e){this._SetTooltip(e)},SetReadOnly(e){this._SetReadOnly(0===e)},ScrollToBottom(){this._ScrollToBottom()},SetMaxLength(e){this._SetMaxLength(e)}},self.C3.Plugins.TextBox.Exps={Text(){return this._GetText()},MaxLength(){return this._GetMaxLength()}};{const JO=self.C3,$O="list";JO.Plugins.List=class extends JO.SDKDOMPluginBase{constructor(e){super(e,$O),this.AddElementMessageHandler("click",(e,t)=>e._OnClick(t)),this.AddElementMessageHandler("dblclick",(e,t)=>e._OnDoubleClick(t)),this.AddElementMessageHandler("change",(e,t)=>e._OnChange(t))}Release(){super.Release()}}}{const ZO=self.C3;ZO.Plugins.List.Type=class extends ZO.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const QO=self.C3,ev=self.C3X,tv=0,nv=1,sv=2,rv=3,ov=4,av=5,iv=6,lv=7,dv=8,cv=1,uv="list";QO.Plugins.List.Instance=class extends QO.SDKDOMInstanceBase{constructor(e,t){if(super(e,uv),this._items=[],this._stringItems="",this._title="",this._isEnabled=!0,this._isDropdown=!0,this._isMultiSelect=!1,this._autoFontSize=!0,this._id="",this._className="",this._selectedIndex=-1,this._selectedIndices=[],t){const e=t[tv];this._items=e?e.split("\n"):[],this._stringItems=t[tv],this._title=t[nv],this.GetWorldInfo().SetVisible(!!t[sv]),this._isEnabled=!!t[rv],this._isDropdown=t[ov]===cv,this._isMultiSelect=!!t[av]&&!this._isDropdown,this._autoFontSize=!!t[iv],this._id=t[lv],this._className=t[dv],this._isDropdown&&(this._selectedIndex=0)}this.CreateElement({id:this._id,className:this._className,isDropdown:this._isDropdown,isMultiSelect:this._isMultiSelect,items:this._items})}Release(){QO.clearArray(this._items),this._items=null,QO.clearArray(this._selectedIndices),this._selectedIndices=null,super.Release()}GetElementState(){return{title:this._title,isEnabled:this._isEnabled,isMultiSelect:this._isMultiSelect}}_UpdateSelectedIndex(){this.PostToDOMElement("set-selected-index",{selectedIndex:this._selectedIndex})}_ReadSelectionState(e){this._selectedIndex=e.selectedIndex,this._selectedIndices=e.selectedIndices}async _OnClick(e){this._ReadSelectionState(e),this.DispatchScriptEvent("click"),await this.TriggerAsync(QO.Plugins.List.Cnds.OnClicked)}async _OnDoubleClick(e){this._ReadSelectionState(e),this.DispatchScriptEvent("dblclick"),await this.TriggerAsync(QO.Plugins.List.Cnds.OnDoubleClicked)}async _OnChange(e){this._ReadSelectionState(e),this.DispatchScriptEvent("selectionchange"),await this.TriggerAsync(QO.Plugins.List.Cnds.OnSelectionChanged)}_GetItemCount(){return this._items.length}_SetSelectedIndex(e){(e=Math.floor(e))<0&&(e=-1),e>=this._items.length||this._selectedIndex!==e&&(this._selectedIndex=e,this._selectedIndices=[e],this._UpdateSelectedIndex())}_GetSelectedIndex(){return this._selectedIndex}_GetSelectedCount(){return this._selectedIndices.length}_GetSelectedIndexAt(e){return(e=Math.floor(e))<0||e>=this._selectedIndices.length?0:this._selectedIndices[e]}_GetSelectedTextAt(e){return(e=Math.floor(e))<0||e>=this._selectedIndices.length||(e=this._selectedIndices[e])<0||e>=this._items.length?"":this._items[e]}_SetTooltip(e){this._title!==e&&(this._title=e,this.UpdateElementState())}_GetTooltip(){return this._title}_AddItem(e){this._items.push(e),this.PostToDOMElement("add-item",{text:e,index:-1})}_AddItemAt(e,t){if((e=Math.max(Math.floor(e),0))>=this._items.length)this._items.push(t),e=-1;else{this._items.splice(e,0,t),this._selectedIndex>=e&&this._selectedIndex++;for(let t=0,n=this._selectedIndices.length;t<n;++t)this._selectedIndices[t]>=e&&this._selectedIndices[t]++}this.PostToDOMElement("add-item",{index:e,text:t})}_RemoveItem(e){if((e=Math.floor(e))<0||e>=this._items.length)return;this._items.splice(e,1),this._selectedIndex>=e&&this._selectedIndex--;let t=this._selectedIndices.indexOf(e);-1!==t&&this._selectedIndices.splice(t,1),t=0;for(let n=this._selectedIndices.length;t<n;++t)this._selectedIndices[t]>=e&&this._selectedIndices[t]--;this.PostToDOMElement("remove-item",{index:e})}_SetItemText(e,t){(e=Math.floor(e))<0||e>=this._items.length||(this._items[e]=t,this.PostToDOMElement("set-item",{index:e,text:t}))}_GetItemText(e){return(e=Math.floor(e))<0||e>=this._items.length?"":this._items[e]}_Clear(){QO.clearArray(this._items),this._selectedIndex=-1,QO.clearArray(this._selectedIndices),this.PostToDOMElement("clear")}_SetMultiSelect(e){e=!!e,this._isMultiSelect!==e&&(this._isMultiSelect=e,this.UpdateElementState())}_IsMultiSelect(){return this._isMultiSelect}_SetEnabled(e){e=!!e,this._isEnabled!==e&&(this._isEnabled=e,this.UpdateElementState())}_IsEnabled(){return this._isEnabled}Draw(e){}SaveToJson(){return{title:this._title,isEnabled:this._isEnabled,id:this._id,items:QO.cloneArray(this._items),selectedIndex:this._selectedIndex,selectedIndices:this._selectedIndices}}LoadFromJson(e){this._title=e.title,this._isEnabled=e.isEnabled,this._id=e.id,this._items=QO.cloneArray(e.items),this._stringItems=this._items.join("/n"),this._selectedIndex=e.selectedIndex,this._selectedIndices=e.selectedIndices,this.UpdateElementState(),this.PostToDOMElement("load-state",{items:this._items,selectedIndex:this._selectedIndex,selectedIndices:this._selectedIndices})}GetPropertyValueByIndex(e){switch(e){case tv:return this._stringItems;case nv:return this._GetTooltip();case rv:return this._IsEnabled();case av:return this._IsMultiSelect();case iv:return this._autoFontSize}}SetPropertyValueByIndex(e,t){switch(e){case tv:if(this._stringItems===t)return;this._items=t.split("\n"),this._stringItems=t,this._selectedIndex=QO.clamp(this._selectedIndex,0,this._items.length-1),this.UpdateElementState(),this.PostToDOMElement("load-state",{items:this._items,selectedIndex:this._selectedIndex,selectedIndices:this._selectedIndices});break;case nv:this._SetTooltip(t);break;case rv:this._SetEnabled(t);break;case av:this._SetMultiSelect(t);break;case iv:if(this._autoFontSize===!!t)return;this._autoFontSize=!!t,this.UpdateElementState()}}GetDebuggerProperties(){const e="plugins.list";return[{title:e+".name",properties:[{name:e+".debugger.item-count",value:this._GetItemCount()},{name:e+".properties.enabled.name",value:this._IsEnabled(),onedit:e=>this._SetEnabled(e)},{name:e+".debugger.selected-index",value:this._GetSelectedIndex()}]},{title:e+".properties.items.name",properties:this._items.map((e,t)=>({name:"$"+t,value:e,onedit:e=>this._SetItemText(t,e)}))}]}GetScriptInterfaceClass(){return self.IListInstance}};const hv=new WeakMap;self.IListInstance=class extends self.IDOMInstance{constructor(){super(),hv.set(this,self.IInstance._GetInitInst().GetSdkInstance())}set selectedIndex(e){ev.RequireFiniteNumber(e),hv.get(this)._SetSelectedIndex(e)}get selectedIndex(){return hv.get(this)._GetSelectedIndex()}get selectedCount(){return hv.get(this)._GetSelectedCount()}getSelectedIndexAt(e){return ev.RequireFiniteNumber(e),hv.get(this)._GetSelectedIndexAt(e)}getSelectedTextAt(e){return ev.RequireFiniteNumber(e),hv.get(this)._GetSelectedTextAt(e)}set tooltip(e){ev.RequireString(e),hv.get(this)._SetTooltip(e)}get tooltip(){return hv.get(this)._GetTooltip()}addItem(e){ev.RequireString(e),hv.get(this)._AddItem(e)}insertItem(e,t){ev.RequireFiniteNumber(e),ev.RequireString(t),hv.get(this)._AddItemAt(e,t)}setItemText(e,t){ev.RequireFiniteNumber(e),ev.RequireString(t),hv.get(this)._SetItemText(e,t)}getItemText(e){return ev.RequireFiniteNumber(e),hv.get(this)._GetItemText(e)}removeItem(e){ev.RequireFiniteNumber(e),hv.get(this)._RemoveItem(e)}clear(){hv.get(this)._Clear()}get itemCount(){return hv.get(this)._GetItemCount()}}}{const _v=self.C3;_v.Plugins.List.Cnds={CompareSelection(e,t){return _v.compare(this._selectedIndex,e,t)},OnSelectionChanged:()=>!0,OnClicked:()=>!0,OnDoubleClicked:()=>!0,CompareSelectedText(e,t){const n=this._selectedIndex;if(n<0||n>=this._items.length)return!1;const s=this._items[n];return t?s===e:_v.equalsNoCase(s,e)},CompareTextAt(e,t,n){if((e=Math.floor(e))<0||e>=this._items.length)return!1;const s=this._items[e];return n?s===t:_v.equalsNoCase(s,t)}}}self.C3.Plugins.List.Acts={Select(e){this._SetSelectedIndex(e)},SetTooltip(e){this._SetTooltip(e)},SetVisible(e){const t=this.GetWorldInfo();e=0!==e,t.IsVisible()!==e&&t.SetVisible(e)},AddItem(e){this._AddItem(e)},AddItemAt(e,t){this._AddItemAt(e,t)},Remove(e){this._RemoveItem(e)},SetItemText(e,t){this._SetItemText(e,t)},Clear(){this._Clear()}},self.C3.Plugins.List.Exps={ItemCount(){return this._GetItemCount()},ItemTextAt(e){return this._GetItemText(e)},SelectedIndex(){return this._GetSelectedIndex()},SelectedText(){return this._GetItemText(this._GetSelectedIndex())},SelectedCount(){return this._GetSelectedCount()},SelectedIndexAt(e){return this._GetSelectedIndexAt(e)},SelectedTextAt(e){return this._GetSelectedTextAt(e)}};{const Gv=self.C3;Gv.Plugins.Shape3D=class extends Gv.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const pv=self.C3;pv.Plugins.Shape3D.Type=class extends pv.SDKTypeBase{constructor(e){super(e),this._animations=e.GetAnimations()}Release(){pv.clearArray(this._animations),super.Release()}OnCreate(){for(const e of this._animations)e.LoadAllAssets(this._runtime)}LoadTextures(e){const t={sampling:this._runtime.GetSampling()};return Promise.all(this._animations.map(n=>n.LoadAllTextures(e,t)))}ReleaseTextures(){for(const e of this._animations)e.ReleaseAllTextures()}FinishCondition(e){pv.Plugins.Shape3D.FinishCollisionCondition(this,e)}}}{let mv=function(e,t){return e.minCamDist===t.minCamDist?t.midCamDist-e.midCamDist:t.minCamDist-e.minCamDist},gv=function(e,t,n,s,r,o){const a=s-e,i=r-t,l=o-n;return a*a+i*i+l*l},fv=function(e,t,n,s,r,o,a){return Sv.hypot3DFast(s-e,r-t,(o-n)*a)},Nv=function(e,t,n,s,r,o,a){return[Sv.lerp(e,s,a),Sv.lerp(t,r,a),Sv.lerp(n,o,a)]},bv=function(e,t,n,s,r,o,a,i,l,d,c){const[u,h,_]=Nv(e,t,n,s,r,o,d);return Nv(u,h,_,u+(a-e),h+(i-t),_+(l-n),c)};SortFacesToDrawByDist=mv,sqDistanceTo3D=gv,distanceTo3D=fv,lerp3d=Nv,lerp3d2=bv;const Sv=self.C3,xv=self.C3X,Iv=0,yv=1,Ev=2,Tv=3,Cv=4,Mv=5,Vv=6,Bv=7,Ov=8,vv=9,Pv=10,wv=11,Av=12,Dv=13,Rv=14,Fv=15,jv=16,kv=[];let Lv=0;for(let Yv=0;Yv<6;Yv++)kv.push({i:0,tlx:NaN,tly:NaN,tlz:NaN,trx:NaN,try_:NaN,trz:NaN,brx:NaN,bry:NaN,brz:NaN,blx:NaN,bly:NaN,blz:NaN,shape:0,minCamDist:NaN,midCamDist:NaN,enable:!1});const Wv=Sv.New(Sv.Quad);Sv.New(Sv.Vector2),Sv.Plugins.Shape3D.Instance=class extends Sv.SDKWorldInstanceBase{constructor(e,t){super(e),this._shape=0,this._zHeight=15;let n=!0;this._showBackFace=!1,this._showFrontFace=!0,this._showLeftFace=!0,this._showRightFace=!0,this._showTopFace=!0,this._showBottomFace=!0,this._isBackFaceCulling=!1,this._animation=this._objectClass.GetAnimations()[0],this._faceVisibility=[!1,!0,!0,!0,!0,!0],this._faceImages=[0,1,2,3,4,5],this._zTilingFactor=8,this._faceObjects=[null,null,null,null,null,null],t&&(this._shape=t[Iv],this._zHeight=t[yv],n=!!t[Ev],this._faceVisibility[0]=!!t[Tv],this._faceVisibility[1]=!!t[Cv],this._faceVisibility[2]=!!t[Mv],this._faceVisibility[3]=!!t[Vv],this._faceVisibility[4]=!!t[Bv],this._faceVisibility[5]=!!t[Ov],this._isBackFaceCulling=t[vv],this._zTilingFactor=t[Pv],this._SetFaceObjectClass(0,this._runtime.GetObjectClassBySID(t[wv])),this._SetFaceObjectClass(1,this._runtime.GetObjectClassBySID(t[Av])),this._SetFaceObjectClass(2,this._runtime.GetObjectClassBySID(t[Dv])),this._SetFaceObjectClass(3,this._runtime.GetObjectClassBySID(t[Rv])),this._SetFaceObjectClass(4,this._runtime.GetObjectClassBySID(t[Fv])),this._SetFaceObjectClass(5,this._runtime.GetObjectClassBySID(t[jv])));const s=this.GetWorldInfo();s.SetBackFaceCulling(this._isBackFaceCulling),s.SetDepth(this._zHeight),this._bquadRef=s.GetBoundingQuad(),s.SetVisible(n);const r=this.GetBaseAnimationFrame();s.SetOriginX(r.GetOriginX()),s.SetOriginY(r.GetOriginY()),s.SetBboxChanged()}Release(){super.Release()}GetBaseAnimationFrame(){return this._animation.GetFrameAt(0)}GetCurrentImageInfo(){return this.GetBaseAnimationFrame().GetImageInfo()}IsOriginalSizeKnown(){return!0}_AddFaceToDraw(e,t,n,s,r,o,a,i,l,d,c,u,h,_){const G=kv[e];G.i=e,G.tlx=t,G.tly=n,G.tlz=s,G.trx=r,G.try_=o,G.trz=a,G.brx=i,G.bry=l,G.brz=d,G.blx=c,G.bly=u,G.blz=h,G.shape=_,G.enable=!0,Lv++}Draw(e){const t=this.GetWorldInfo(),n=this._faceVisibility;let s=n[0],r=n[1],o=n[2],a=n[3],i=n[4],l=n[5];if(t.IsDrawBackFaceOnly()?(r=!1,o=!1,a=!1,i=!1,l=!1):t.IsDrawNonBackFacesOnly()&&(s=!1),!(s||r||o||a||i||l))return;let d=this._bquadRef;this._runtime.IsPixelRoundingEnabled()&&(d=t.PixelRoundQuad(d));const c=d.getTlx(),u=d.getTly(),h=d.getTrx(),_=d.getTry(),G=d.getBrx(),p=d.getBry(),m=d.getBlx(),g=d.getBly(),f=this._shape,N=this._zHeight;Lv=0;for(let e=0;e<6;e++)kv[e].enable=!1;if(s&&this._AddFaceToDraw(0,h,_,0,c,u,0,m,g,0,G,p,0,5),0===f)o&&this._AddFaceToDraw(2,c,u,N,m,g,N,m,g,0,c,u,0,0),a&&this._AddFaceToDraw(3,G,p,N,h,_,N,h,_,0,G,p,0,0),i&&this._AddFaceToDraw(4,h,_,N,c,u,N,c,u,0,h,_,0,0),l&&this._AddFaceToDraw(5,m,g,N,G,p,N,G,p,0,m,g,0,0),r&&this._AddFaceToDraw(1,c,u,N,h,_,N,G,p,N,m,g,N,0);else if(1===f){const e=(c+m)/2,t=(u+g)/2,n=(h+G)/2,s=(_+p)/2;o&&this._AddFaceToDraw(2,e,t,N,e,t,N,m,g,0,c,u,0,4),a&&this._AddFaceToDraw(3,n,s,N,n,s,N,h,_,0,G,p,0,4),i&&this._AddFaceToDraw(4,n,s,N,e,t,N,c,u,0,h,_,0,0),l&&this._AddFaceToDraw(5,e,t,N,n,s,N,G,p,0,m,g,0,0)}else if(2===f)o&&this._AddFaceToDraw(2,h,_,N,G,p,N,m,g,0,c,u,0,0),a&&this._AddFaceToDraw(3,G,p,N,h,_,N,h,_,0,G,p,0,0),i&&this._AddFaceToDraw(4,h,_,N,h,_,N,c,u,0,h,_,0,2),l&&this._AddFaceToDraw(5,G,p,N,G,p,N,G,p,0,m,g,0,3);else if(3===f){const e=d.midX(),t=d.midY();o&&this._AddFaceToDraw(2,e,t,N,e,t,N,m,g,0,c,u,0,4),a&&this._AddFaceToDraw(3,e,t,N,e,t,N,h,_,0,G,p,0,4),i&&this._AddFaceToDraw(4,e,t,N,e,t,N,c,u,0,h,_,0,4),l&&this._AddFaceToDraw(5,e,t,N,e,t,N,G,p,0,m,g,0,4)}else 4===f?(o&&this._AddFaceToDraw(2,h,_,N,h,_,N,m,g,0,c,u,0,2),a&&this._AddFaceToDraw(3,h,_,N,h,_,N,h,_,0,G,p,0,3),i&&this._AddFaceToDraw(4,h,_,N,h,_,N,c,u,0,h,_,0,2),l&&this._AddFaceToDraw(5,h,_,N,h,_,N,G,p,0,m,g,0,3)):5===f&&(o&&this._AddFaceToDraw(2,c,u,N,c,u,N,m,g,0,c,u,0,2),a&&this._AddFaceToDraw(3,G,p,N,h,_,N,h,_,0,G,p,0,0),i&&this._AddFaceToDraw(4,h,_,N,c,u,N,c,u,0,h,_,0,0),l&&this._AddFaceToDraw(5,G,p,N,G,p,N,G,p,0,m,g,0,3),r&&this._AddFaceToDraw(1,c,u,N,h,_,N,G,p,N,m,g,0,1));if(Lv>1){const[e,n,s]=t.GetLayer().GetCameraPosition();for(let t=0;t<6;++t){const r=kv[t];r.enable&&(r.minCamDist=Math.min(gv(e,n,s,r.tlx,r.tly,r.tlz),gv(e,n,s,r.trx,r.try_,r.trz),gv(e,n,s,r.brx,r.bry,r.brz),gv(e,n,s,r.blx,r.bly,r.blz)),r.midCamDist=gv(e,n,s,(r.tlx+r.trx+r.brx+r.blx)/4,(r.tly+r.try_+r.bry+r.bly)/4,(r.tlz+r.trz+r.brz+r.blz)/4))}kv.sort(mv)}const b=e.GetProgram();for(let t=0;t<6;++t){const n=kv[t];n.enable&&(e.SetProgram(b),this._DrawFace(e,n.i,n.tlx,n.tly,n.tlz,n.trx,n.try_,n.trz,n.brx,n.bry,n.brz,n.blx,n.bly,n.blz,n.shape))}}_DrawFace(e,t,n,s,r,o,a,i,l,d,c,u,h,_,G){let p=null,m=null,g=!1;const f=this._faceObjects[t];if(null!==f){const t=f.GetPairedInstance(this.GetInstance());if(!t)return;const N=t.GetSdkInstance();if(Sv.Plugins.Sprite&&N instanceof Sv.Plugins.Sprite.Instance){if(p=N.GetTexture(),null===p)return;m=N.GetTexQuad()}else{if(!(Sv.Plugins.TiledBg&&N instanceof Sv.Plugins.TiledBg.Instance||Sv.Plugins.NinePatch&&N instanceof Sv.Plugins.NinePatch.Instance))return;{let t=0,m=0;const f=this._zTilingFactor;switch(G){case 0:case 5:case 1:t=fv(n,s,r,o,a,i,f),m=fv(o,a,i,l,d,c,f);break;case 2:t=fv(u,h,_,l,d,c,f),m=fv(n,s,r,u,h,_,f);break;case 3:t=fv(u,h,_,l,d,c,f),m=fv(o,a,i,l,d,c,f);break;case 4:t=fv(u,h,_,l,d,c,f),m=fv(n,s,r,(u+l)/2,(h+d)/2,(_+c)/2,f)}if(!(Sv.Plugins.TiledBg&&N instanceof Sv.Plugins.TiledBg.Instance)){if(0!==G&&5!==G)return;return N._Set3DCallback((l,d)=>{l.divide(t,m);const c=l.getLeft(),G=l.getTop(),p=l.getRight(),g=l.getBottom(),[f,N,b]=bv(n,s,r,o,a,i,u,h,_,c,G),[S,x,I]=bv(n,s,r,o,a,i,u,h,_,p,G),[y,E,T]=bv(n,s,r,o,a,i,u,h,_,p,g),[C,M,V]=bv(n,s,r,o,a,i,u,h,_,c,g);e.Quad3D(f,N,b,S,x,I,y,E,T,C,M,V,d)}),N._Draw(e,0,0,t,m),void N._Set3DCallback(null)}if(p=N.GetTexture(),null===p)return;N.CalculateTextureCoordsFor3DFace(t,m,Wv),g=!0,N.SetTilingShaderProgram(e,!1)}}}else{t=this._faceImages[t];const e=this._animation.GetFrameAt(t).GetImageInfo();if(p=e.GetTexture(),null===p)return;m=e.GetTexQuad()}e.SetTexture(p),G>=3||g?(g||Wv.copy(m),3===G?(Wv.setTlx(Wv.getTrx()),Wv.setTly(Wv.getTly())):4===G?(Wv.setTlx((Wv.getTlx()+Wv.getTrx())/2),Wv.setTly((Wv.getTly()+Wv.getTry())/2)):5===G&&Wv.mirror(),e.Quad3D2(n,s,r,o,a,i,l,d,c,u,h,_,Wv)):e.Quad3D2(n,s,r,o,a,i,l,d,c,u,h,_,m)}MustPreDraw(){for(const e of this._faceObjects){if(!e)continue;const t=e.GetPairedInstance(this.GetInstance());if(!t)continue;const n=t.GetSdkInstance();if(Sv.Plugins.TiledBg&&n instanceof Sv.Plugins.TiledBg.Instance&&n._IsTileRandomizationEnabled())return!0}return!1}RendersToOwnZPlane(){return this._IsFaceVisible(0)}GetImagePointCount(){return this._GetFaceImagePointCount(0)}GetImagePoint(e){return this._GetFaceImagePoint(0,e)}_GetFaceQuad3DForImagePoint(e){const t=this._bquadRef,n=t.getTlx(),s=t.getTly(),r=t.getTrx(),o=t.getTry(),a=t.getBrx(),i=t.getBry(),l=t.getBlx(),d=t.getBly(),c=this._shape,u=this.GetWorldInfo().GetTotalZElevation(),h=u+this._zHeight;if(1===c||3===c){let t=(n+l)/2,_=(s+d)/2,G=(r+a)/2,p=(o+i)/2;switch(e){case 4:return[G,p,h,t,_,h,n,s,u,r,o,u];case 5:return[t,_,h,G,p,h,a,i,u,l,d,u]}if(3===c)switch(t=(n+r)/2,_=(s+o)/2,G=(l+a)/2,p=(d+i)/2,e){case 2:return[t,_,h,G,p,h,l,d,u,n,s,u];case 3:return[G,p,h,t,_,h,r,o,u,a,i,u]}}else if(2===c&&2===e)return[r,o,h,a,i,h,l,d,u,n,s,u];switch(e){case 0:return[n,s,u,r,o,u,a,i,u,l,d,u];case 1:return[n,s,h,r,o,h,a,i,h,l,d,h];case 2:return[n,s,h,l,d,h,l,d,u,n,s,u];case 3:return[a,i,h,r,o,h,r,o,u,a,i,u];case 4:return[r,o,h,n,s,h,n,s,u,r,o,u];case 5:return[l,d,h,a,i,h,a,i,u,l,d,u];default:return[0,0,0,0,0,0,0,0,0,0,0,0]}}_GetFaceImagePoint(e,t){const n=this.GetWorldInfo();if((e=Math.floor(e))<0||e>5)return[n.GetX(),n.GetY(),n.GetTotalZElevation()];const s=this._animation.GetFrameAt(e);let r=null;"string"==typeof t?r=s.GetImagePointByName(t):"number"==typeof t&&(r=s.GetImagePointByIndex(t-1));let o=.5,a=.5;r?(o=r.GetX(),a=r.GetY()):0===e&&(o=s.GetOriginX(),a=s.GetOriginY()),n.GetBoundingBox();const i=this._GetFaceQuad3DForImagePoint(e);return bv(i[0],i[1],i[2],i[3],i[4],i[5],i[9],i[10],i[11],o,a)}_GetFaceImagePointCount(e){return this.GetWorldInfo(),(e=Math.floor(e))<0||e>5?0:this._animation.GetFrameAt(e).GetImagePointCount()}_SetShape(e){this._shape!==e&&(this._shape=e,this._runtime.UpdateRender())}_GetShape(){return this._shape}_SetZHeight(e){e=Math.max(e,0),this._zHeight!==e&&(this._zHeight=e,this.GetWorldInfo().SetDepth(e),this._runtime.UpdateRender())}_GetZHeight(){return this._zHeight}_SetFaceVisible(e,t){t=!!t,this._faceVisibility[e]!==t&&(this._faceVisibility[e]=t,this._runtime.UpdateRender())}_IsFaceVisible(e){return this._faceVisibility[e]}_SetBackFaceCulling(e){e=!!e,this._isBackFaceCulling!==e&&(this._isBackFaceCulling=e,this.GetWorldInfo().SetBackFaceCulling(e),this._runtime.UpdateRender())}_GetBackFaceCulling(){return this._isBackFaceCulling}_SetFaceImage(e,t){const n=this._faceImages,s=this._faceObjects;n[e]===t&&null===s[e]||(n[e]=t,s[e]=null,this._runtime.UpdateRender())}_SetFaceObjectClass(e,t){null!==t&&t.IsFamily()&&(t=t.GetFamilyMembers()[0]);const n=this._faceObjects;n[e]!==t&&(n[e]=t,this._runtime.UpdateRender())}_SetZTilingFactor(e){this._zTilingFactor!==e&&(this._zTilingFactor=e,this._runtime.UpdateRender())}_GetZTilingFactor(){return this._zTilingFactor}SaveToJson(){return{s:this._shape,zh:this._zHeight,fv:this._faceVisibility,fi:this._faceImages,fo:this._faceObjects.map(e=>e?e.GetSID():-1),zf:this._zTilingFactor}}LoadFromJson(e){this._shape=e.s,this._zHeight=e.zh,this.GetWorldInfo().SetDepth(this._zHeight),this._faceVisibility=e.fv.slice(0),this._faceImages=e.fi.slice(0),e.hasOwnProperty("fo")&&(this._faceObjects=e.fo.map(e=>this._runtime.GetObjectClassBySID(e))),e.hasOwnProperty("zf")&&(this._zTilingFactor=e.zf)}GetPropertyValueByIndex(e){}SetPropertyValueByIndex(e,t){}GetDebuggerProperties(){const e="plugins.shape3d";return[{title:e+".name",properties:[{name:e+".properties.z-height.name",value:this._GetZHeight(),onedit:e=>this._SetZHeight(e)}]}]}GetScriptInterfaceClass(){return self.I3DShapeInstance}};const Uv=new WeakMap,Hv=["box","prism","wedge","pyramid","corner-out","corner-in"],zv=["back","front","left","right","top","bottom"];self.I3DShapeInstance=class extends self.IWorldInstance{constructor(){super(),Uv.set(this,self.IInstance._GetInitInst().GetSdkInstance())}getImagePointCount(){return Uv.get(this).GetImagePointCount()}getImagePointX(e){return this.getImagePoint(e)[0]}getImagePointY(e){return this.getImagePoint(e)[1]}getImagePoint(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("expected string or number");return Uv.get(this).GetImagePoint(e)}getFaceImagePointCount(e){const t=zv.indexOf(e);if(t<0)throw new Error("invalid face");return Uv.get(this)._GetFaceImagePointCount(t)}getFaceImagePointX(e,t){return this.getFaceImagePoint(e,t)[0]}getFaceImagePointY(e,t){return this.getFaceImagePoint(e,t)[1]}getFaceImagePointZ(e,t){return this.getFaceImagePoint(e,t)[2]}getFaceImagePoint(e,t){const n=zv.indexOf(e);if(n<0)throw new Error("invalid face");if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("expected string or number");return Uv.get(this)._GetFaceImagePoint(n,t)}set zHeight(e){xv.RequireFiniteNumber(e),Uv.get(this)._SetZHeight(e)}get zHeight(){return Uv.get(this)._GetZHeight()}set shape(e){xv.RequireString(e);const t=Hv.indexOf(e);if(-1===t)throw new TypeError("invalid shape");Uv.get(this)._SetShape(t)}get shape(){return Hv[Uv.get(this)._GetShape()]}setFaceVisible(e,t){const n=zv.indexOf(e);if(n<0)throw new Error("invalid face");Uv.get(this)._SetFaceVisible(n,!!t)}isFaceVisible(e){const t=zv.indexOf(e);if(t<0)throw new Error("invalid face");return Uv.get(this)._IsFaceVisible(t)}set isBackFaceCulling(e){Uv.get(this)._SetBackFaceCulling(e)}get isBackFaceCulling(){return Uv.get(this)._GetBackFaceCulling()}setFaceImage(e,t){const n=zv.indexOf(e),s=zv.indexOf(t);if(n<0||s<0)throw new Error("invalid face");Uv.get(this)._SetFaceImage(n,s)}get zTilingFactor(){return Uv.get(this)._GetZTilingFactor()}set zTilingFactor(e){xv.RequireFiniteNumber(e),Uv.get(this)._SetZTilingFactor(e)}setFaceObject(e,t){const n=zv.indexOf(e);if(n<0)throw new Error("invalid face");const s=Uv.get(this),r=s.GetRuntime()._UnwrapIObjectClass(t);s._SetFaceObjectClass(n,r)}}}{const Xv=self.C3;Xv.Plugins.Shape3D.Cnds={CompareShape(e){return this._GetShape()===e},CompareZHeight(e,t){return Xv.compare(this._GetZHeight(),e,t)},IsFaceVisible(e){return this._IsFaceVisible(e)}}}self.C3.Plugins.Shape3D.Acts={SetShape(e){this._SetShape(e)},SetZHeight(e){this._SetZHeight(e)},SetFaceVisible(e,t){this._SetFaceVisible(e,t)},SetBackFaceCulling(e){this._SetBackFaceCulling(e)},SetFaceImage(e,t){this._SetFaceImage(e,t)},SetZTilingFactor(e){this._SetZTilingFactor(e)},SetFaceObject(e,t){this._SetFaceObjectClass(e,t)}},self.C3.Plugins.Shape3D.Exps={ZHeight(){return this._GetZHeight()},ZTilingFactor(){return this._GetZTilingFactor()},FaceImagePointX(e,t){return this._GetFaceImagePoint(e,t)[0]},FaceImagePointY(e,t){return this._GetFaceImagePoint(e,t)[1]},FaceImagePointZ(e,t){return this._GetFaceImagePoint(e,t)[2]},FaceImagePointCount(e){return this._GetFaceImagePointCount(e)}};{const qv=self.C3;qv.Plugins.Arr=class extends qv.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const Kv=self.C3;Kv.Plugins.Arr.Type=class extends Kv.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{let Jv=function(e,t,n){if(t<e.length)$v.truncateArray(e,t);else if(t>e.length)if("function"==typeof n)for(let s=e.length;s<t;++s)e.push(n());else for(let s=e.length;s<t;++s)e.push(n)};ResizeArray=Jv;const $v=self.C3,Zv=self.C3X,Qv=self.IInstance;$v.Plugins.Arr.Instance=class extends $v.SDKInstanceBase{constructor(e,t){super(e),this._cx=10,this._cy=1,this._cz=1,this._arr=null,this._forX=[],this._forY=[],this._forZ=[],this._forDepth=-1,t&&(this._cx=t[0],this._cy=t[1],this._cz=t[2]),this._arr=$v.MakeFilledArray(this._cx,()=>$v.MakeFilledArray(this._cy,()=>$v.MakeFilledArray(this._cz,0)))}Release(){this._arr=null,super.Release()}At(e,t,n){return e=Math.floor(e),t=Math.floor(t),n=Math.floor(n),e>=0&&e<this._cx&&t>=0&&t<this._cy&&n>=0&&n<this._cz?this._arr[e][t][n]:0}Set(e,t,n,s){e=Math.floor(e),t=Math.floor(t),n=Math.floor(n),e>=0&&e<this._cx&&t>=0&&t<this._cy&&n>=0&&n<this._cz&&(this._arr[e][t][n]=s)}SetSize(e,t,n){if(e=Math.floor(e),t=Math.floor(t),n=Math.floor(n),e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),this._cx===e&&this._cy===t&&this._cz===n)return;this._cx=e,this._cy=t,this._cz=n;const s=this._arr;Jv(s,e,()=>$v.MakeFilledArray(t,()=>$v.MakeFilledArray(n,0)));for(let r=0;r<e;++r){Jv(s[r],t,()=>$v.MakeFilledArray(n,0));for(let e=0;e<t;++e)Jv(s[r][e],n,0)}}GetWidth(){return this._cx}GetHeight(){return this._cy}GetDepth(){return this._cz}_ShuffleHelper(e,t,n,s,r){for(;t>0;){const o=Math.floor(this._runtime.Random()*t);if(--t,0===e){const e=this.At(t,s,r),n=this.At(o,s,r);this.Set(t,s,r,n),this.Set(o,s,r,e)}else if(1===e){const e=this.At(n,t,r),s=this.At(n,o,r);this.Set(n,t,r,s),this.Set(n,o,r,e)}else if(2===e){const e=this.At(n,s,t),r=this.At(n,s,o);this.Set(n,s,t,r),this.Set(n,s,o,e)}}}GetDebuggerProperties(){const e="plugins.arr.debugger",t="plugins.arr.properties",n=[{title:e+".array-properties.title",properties:[{name:t+".width.name",value:this._cx,onedit:e=>this.SetSize(e,this._cy,this._cz)},{name:t+".height.name",value:this._cy,onedit:e=>this.SetSize(this._cx,e,this._cz)},{name:t+".depth.name",value:this._cz,onedit:e=>this.SetSize(this._cx,this._cy,e)},{name:t+".elements.name",value:this._cx*this._cy*this._cz}]}],s=[];if(1===this._cy&&1===this._cz)for(let e=0;e<this._cx;++e)s.push({name:"$"+e,value:this._arr[e][0][0],onedit:t=>this._arr[e][0][0]=t});else for(let e=0;e<this._cx;++e)s.push({name:"$"+e,value:this._arr[e].toString()});return s.length&&n.push({title:e+".array-data.title",properties:s}),n}GetAsJsonString(){return JSON.stringify({c2array:!0,size:[this._cx,this._cy,this._cz],data:this._arr})}SaveToJson(){return{size:[this._cx,this._cy,this._cz],data:this._arr}}LoadFromJson(e){const t=e.size;this._cx=t[0],this._cy=t[1],this._cz=t[2],this._arr=e.data}_GetForX(){return this._forDepth>=0&&this._forDepth<this._forX.length?this._forX[this._forDepth]:0}_GetForY(){return this._forDepth>=0&&this._forDepth<this._forY.length?this._forY[this._forDepth]:0}_GetForZ(){return this._forDepth>=0&&this._forDepth<this._forZ.length?this._forZ[this._forDepth]:0}GetScriptInterfaceClass(){return self.IArrayInstance}};const eP=new WeakMap;self.IArrayInstance=class extends Qv{constructor(){super(),eP.set(this,Qv._GetInitInst().GetSdkInstance())}get width(){return eP.get(this).GetWidth()}get height(){return eP.get(this).GetHeight()}get depth(){return eP.get(this).GetDepth()}setSize(e,t=1,n=1){Zv.RequireFiniteNumber(e),Zv.RequireFiniteNumber(t),Zv.RequireFiniteNumber(n),eP.get(this).SetSize(e,t,n)}getAt(e,t=0,n=0){return Zv.RequireFiniteNumber(e),Zv.RequireFiniteNumber(t),Zv.RequireFiniteNumber(n),eP.get(this).At(e,t,n)}setAt(e,t,n=0,s=0){if(Zv.RequireFiniteNumber(t),Zv.RequireFiniteNumber(n),Zv.RequireFiniteNumber(s),"number"!=typeof e&&"string"!=typeof e)throw new TypeError("invalid type");eP.get(this).Set(t,n,s,e)}}}{let tP=function(e,t,n,s,r,o){e.PushCopySol(n),o.GetObjectClass().GetCurrentSol().PickOne(o.GetInstance()),t.Retrigger(s,r),e.PopSol(n)};DoForEachTrigger=tP;const nP=self.C3;nP.Plugins.Arr.Cnds={CompareX(e,t,n){return nP.compare(this.At(e,0,0),t,n)},CompareXY(e,t,n,s){return nP.compare(this.At(e,t,0),n,s)},CompareXYZ(e,t,n,s,r){return nP.compare(this.At(e,t,n),s,r)},ArrForEach(e){const t=this._runtime,n=t.GetEventSheetManager(),s=t.GetCurrentEvent(),r=s.GetSolModifiers(),o=t.GetEventStack(),a=o.GetCurrentStackFrame(),i=o.Push(s),l=++this._forDepth,d=this._forX,c=this._forY,u=this._forZ,h=this._cx,_=this._cy,G=this._cz;if(l===this._forX.length?(d.push(0),c.push(0),u.push(0)):(d[l]=0,c[l]=0,u[l]=0),t.SetDebuggingEnabled(!1),0===e)for(let e=0;e<h;++e)for(let t=0;t<_;++t)for(let o=0;o<G;++o)d[l]=e,c[l]=t,u[l]=o,tP(n,s,r,a,i,this);else if(1===e)for(let e=0;e<h;++e)for(let t=0;t<_;++t)d[l]=e,c[l]=t,tP(n,s,r,a,i,this);else for(let e=0;e<h;++e)d[l]=e,tP(n,s,r,a,i,this);return t.SetDebuggingEnabled(!0),this._forDepth--,o.Pop(),!1},CompareCurrent(e,t){return nP.compare(this.At(this._GetForX(),this._GetForY(),this._GetForZ()),e,t)},Contains(e){const t=this._cx,n=this._cy,s=this._cz,r=this._arr;for(let o=0;o<t;++o)for(let t=0;t<n;++t)for(let n=0;n<s;++n)if(r[o][t][n]===e)return!0;return!1},IsEmpty(){return 0===this._cx||0===this._cy||0===this._cz},CompareSize(e,t,n){let s=0;switch(e){case 0:s=this._cx;break;case 1:s=this._cy;break;case 2:s=this._cz}return nP.compare(s,t,n)}}}{let sP=function(e,t){if("number"==typeof e&&"number"==typeof t)return e-t;{const n=e.toString(),s=t.toString();return n<s?-1:n>s?1:0}};CompareValues=sP;const rP=self.C3;rP.Plugins.Arr.Acts={Clear(e){const t=this._cx,n=this._cy,s=this._cz,r=this._arr;for(let o=0;o<t;++o)for(let t=0;t<n;++t)for(let n=0;n<s;++n)r[o][t][n]=e},SetSize(e,t,n){this.SetSize(e,t,n)},SetX(e,t){this.Set(e,0,0,t)},SetXY(e,t,n){this.Set(e,t,0,n)},SetXYZ(e,t,n,s){this.Set(e,t,n,s)},Push(e,t,n){const s=this._cx,r=this._cy,o=this._cz,a=this._arr;if(0===n){const n=rP.MakeFilledArray(r,()=>rP.MakeFilledArray(o,t));0===e?a.push(n):a.unshift(n),this._cx++}else if(1===n){for(let n=0;n<s;++n){const s=rP.MakeFilledArray(o,t);0===e?a[n].push(s):a[n].unshift(s)}this._cy++}else{for(let n=0;n<s;++n)for(let s=0;s<r;++s)0===e?a[n][s].push(t):a[n][s].unshift(t);this._cz++}},Pop(e,t){const n=this._cx,s=this._cy,r=this._cz,o=this._arr;if(0===t){if(0===n)return;0===e?o.pop():o.shift(),this._cx--}else if(1===t){if(0===s)return;for(let t=0;t<n;++t)0===e?o[t].pop():o[t].shift();this._cy--}else{if(0===r)return;for(let t=0;t<n;++t)for(let n=0;n<s;++n)0===e?o[t][n].pop():o[t][n].shift();this._cz--}},Reverse(e){const t=this._cx,n=this._cy,s=this._cz,r=this._arr;if(0!==t&&0!==n&&0!==s)if(0===e)r.reverse();else if(1===e)for(let e=0;e<t;++e)r[e].reverse();else for(let e=0;e<t;++e)for(let t=0;t<n;++t)r[e][t].reverse()},Sort(e){const t=this._cx,n=this._cy,s=this._cz,r=this._arr;if(0!==t&&0!==n&&0!==s)if(0===e)r.sort((e,t)=>sP(e[0][0],t[0][0]));else if(1===e)for(let e=0;e<t;++e)r[e].sort((e,t)=>sP(e[0],t[0]));else for(let e=0;e<t;++e)for(let t=0;t<n;++t)r[e][t].sort(sP)},Sort2(e){const t=this._cx,n=this._cy,s=this._cz,r=this._arr;if(0!==t&&0!==n&&0!==s)if(0===e)r.sort((e,t)=>{for(let s=0;s<n;++s){const n=sP(e[s][0],t[s][0]);if(0!==n)return n}return 0});else if(1===e)for(let e=0;e<n;++e){const n=[];for(let s=0;s<t;++s)n.push(r[s][e]);n.sort((e,t)=>sP(e[0],t[0]));for(let s=0;s<t;++s)r[s][e]=n[s]}else if(2===e){const e=[];for(let t=0;t<n;++t)e.push(t);e.sort((e,n)=>{for(let s=0;s<t;++s){const t=sP(r[s][e],r[s][n]);if(0!==t)return t}return 0});for(let n=0;n<t;++n){let t=[];for(const s of e)t.push(r[n][s]);r[n]=t}}else if(3===e)for(let e=0;e<t;++e)r[e].sort((e,t)=>sP(e[0],t[0]));else for(let e=0;e<t;++e)for(let t=0;t<n;++t)r[e][t].sort(sP)},Shuffle(e){const t=this._cx,n=this._cy,s=this._cz;if(0!==t&&0!==n&&0!==s)if(0===e)for(let r=0;r<n;++r)for(let n=0;n<s;++n)this._ShuffleHelper(e,t,0,r,n);else if(1===e)for(let r=0;r<t;++r)for(let t=0;t<s;++t)this._ShuffleHelper(e,n,r,0,t);else for(let r=0;r<t;++r)for(let t=0;t<n;++t)this._ShuffleHelper(e,s,r,t,0)},Delete(e,t){if((e=Math.floor(e))<0)return;const n=this._cx,s=this._cy,r=this._cz,o=this._arr;if(0===t){if(e>=n)return;o.splice(e,1),this._cx--}else if(1===t){if(e>=s)return;for(let t=0;t<n;++t)o[t].splice(e,1);this._cy--}else{if(e>=r)return;for(let t=0;t<n;++t)for(let n=0;n<s;++n)o[t][n].splice(e,1);this._cz--}},Insert(e,t,n){if((t=Math.floor(t))<0)return;const s=this._cx,r=this._cy,o=this._cz,a=this._arr;if(0===n){if(t>s)return;a.splice(t,0,rP.MakeFilledArray(r,()=>rP.MakeFilledArray(o,e))),this._cx++}else if(1===n){if(t>r)return;for(let n=0;n<s;++n)a[n].splice(t,0,rP.MakeFilledArray(o,e));this._cy++}else{if(t>o)return;for(let n=0;n<s;++n)for(let s=0;s<r;++s)a[n][s].splice(t,0,e);this._cz++}},SplitString(e,t,n){const s=e.split(t);this.SetSize(s.length,1,1);for(let e=0,t=s.length;e<t;++e){let t=s[e];0===n?String(Number(t))===t&&(t=Number(t)):2===n&&(t=Number(t)),this.Set(e,0,0,t)}},JSONLoad(e){let t=null;try{t=JSON.parse(e)}catch(e){return void console.error("[Construct] Failed to parse JSON: ",e)}if(!t.c2array)return void console.warn("[Array] Attempted to load JSON that does not appear to be Construct array data - no data loaded");const n=t.size;this._cx=n[0],this._cy=n[1],this._cz=n[2],this._arr=t.data},JSONDownload(e){const t=URL.createObjectURL(new Blob([this.GetAsJsonString()],{type:"application/json"}));this._runtime.InvokeDownload(t,e)}}}self.C3.Plugins.Arr.Exps={At(e,t,n){return this.At(e,t||0,n||0)},Width(){return this._cx},Height(){return this._cy},Depth(){return this._cz},CurX(){return this._GetForX()},CurY(){return this._GetForY()},CurZ(){return this._GetForZ()},CurValue(){return this.At(this._GetForX(),this._GetForY(),this._GetForZ())},Front(){return this.At(0,0,0)},Back(){return this.At(this._cx-1,0,0)},IndexOf(e){const t=this._arr;for(let n=0,s=this._cx;n<s;++n)if(t[n][0][0]===e)return n;return-1},LastIndexOf(e){const t=this._arr;for(let n=this._cx-1;n>=0;--n)if(t[n][0][0]===e)return n;return-1},JoinString(e){let t=[];for(let e=0;e<this._cx;++e)t.push(this.At(e,0,0));return t.join(e)},AsJSON(){return this.GetAsJsonString()}};{const oP=self.C3;oP.Plugins.Json=class extends oP.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}}}{const aP=self.C3;aP.Plugins.Json.Type=class extends aP.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const iP=self.C3,lP=self.C3X,dP=self.IInstance;iP.Plugins.Json.Instance=class extends iP.SDKInstanceBase{constructor(e,t){super(e),this._valueCache=[null,null],this._locationCache=[null,null],this._data={},this._path=[],this._currentKey="",this._currentValue=0}Release(){super.Release()}_InvalidateValueCache(){this._valueCache[0]=null,this._valueCache[1]=null}_HasValueCache(e,t){const n=this._valueCache[0];if(null===e||null===n)return!1;if(n===e||iP.arraysEqual(n,e))return!0;if(t&&n.length>0){for(let t=0,s=Math.min(e.length,n.length);t<s;++t)if(e[t]!==n[t])return!1;return!0}return!1}_GetValueCache(){return this._valueCache[1]}_UpdateValueCache(e,t){this._valueCache[0]=e,this._valueCache[1]=t}_InvalidateLocationCache(){this._locationCache[0]=null,this._locationCache[1]=null}_HasLocationCache(e){return this._locationCache[0]===e}_GetLocationCache(){return this._locationCache[1]}_UpdateLocationCache(e,t){this._locationCache[0]=e,this._locationCache[1]=t}_SetData(e){this._data=e,this._InvalidateValueCache(),this._SetPath("")}_GetData(){return this._data}_SetPath(e){this._path=this._ParsePathUnsafe(e),this._InvalidateLocationCache()}_ParsePath(e){return iP.cloneArray(this._ParsePathUnsafe(e))}_ParsePathUnsafe(e){const t=[];let n,s=!1;if(this._HasLocationCache(e))return this._GetLocationCache();"."===e[0]?(n=iP.cloneArray(this._path),e=e.slice(1)):n=[];for(const r of e)s?(t.push(r),s=!1):"\\"===r?s=!0:"."===r?(n.push(t.join("")),iP.clearArray(t)):t.push(r);return 0!==t.length&&n.push(t.join("")),this._UpdateLocationCache(e,n),n}_GetValueAtFullPath(e,t){if(this._HasValueCache(e,!1))return this._GetValueCache();let n=this._data;for(const s of e)if(Array.isArray(n)){const e=parseInt(s,10);if(e<0||e>=n.length||!isFinite(e)){n=null;break}n=n[e]}else{if("object"!=typeof n||null===n){n=null;break}if(n.hasOwnProperty(s))n=n[s];else{if(!t){n=null;break}{const e={};n[s]=e,n=e}}}return this._UpdateValueCache(e,n),n}_GetValue(e){const t=this._ParsePath(e);if(!t.length)return this._data;const n=t.pop(),s=this._GetValueAtFullPath(t,!1);if(Array.isArray(s)){const e=parseInt(n,10);return e>=0&&e<s.length?s[e]:null}return"object"==typeof s&&null!==s&&s.hasOwnProperty(n)?s[n]:null}_JSONTypeOf(e){return null===e?"null":Array.isArray(e)?"array":typeof e}_GetTypeOf(e){const t=this._GetValue(e);return this._JSONTypeOf(t)}_ToSafeValue(e){const t=typeof e;return"number"===t||"string"===t?e:"boolean"===t&&e?1:0}_GetSafeValue(e){return this._ToSafeValue(this._GetValue(e))}_HasKey(e){const t=this._ParsePath(e);if(!t.length)return!1;const n=t.pop(),s=this._GetValueAtFullPath(t,!1);if(Array.isArray(s)){const e=parseInt(n,10);return e>=0&&e<s.length}return"object"==typeof s&&null!==s&&s.hasOwnProperty(n)}_SetValue(e,t){const n=this._ParsePath(e);if(!n.length)return!1;this._HasValueCache(n,!0)&&this._InvalidateValueCache();const s=n.pop(),r=this._GetValueAtFullPath(n,!0);if(Array.isArray(r)){const e=parseInt(s,10);return!(!isFinite(e)||e<0||e>=r.length||(r[e]=t,0))}return"object"==typeof r&&null!==r&&(r[s]=t,!0)}_DeleteKey(e){const t=this._ParsePath(e);if(!t.length)return!1;this._HasValueCache(t,!0)&&this._InvalidateValueCache();const n=t.pop(),s=this._GetValueAtFullPath(t,!1);return!Array.isArray(s)&&"object"==typeof s&&null!==s&&(delete s[n],!0)}SaveToJson(){return{path:this._path,data:this._data}}LoadFromJson(e){this._InvalidateValueCache(),this._InvalidateLocationCache(),this._path=e.path,this._data=e.data}_SanitizeValue(e){return"number"==typeof e?isFinite(e)?e:0:"object"==typeof e?JSON.stringify(e):e+""}GetDebuggerProperties(){const e="plugins.json.debugger";let t;try{t=this._SanitizeValue(this._data)}catch(e){t='"invalid"'}return[{title:e+".title",properties:[{name:e+".data",value:t,onedit:e=>{try{const t=JSON.parse(e);this._SetData(t)}catch(e){}}},{name:e+".path",value:this._path.map(e=>e.replace(/\./g,"\\.")).join(".")}]}]}GetScriptInterfaceClass(){return self.IJSONInstance}};const cP=new WeakMap;self.IJSONInstance=class extends dP{constructor(){super(),cP.set(this,dP._GetInitInst().GetSdkInstance())}getJsonDataCopy(){const e=cP.get(this)._GetData();return JSON.parse(JSON.stringify(e))}setJsonDataCopy(e){try{const t=JSON.parse(JSON.stringify(e));cP.get(this)._SetData(t)}catch(e){throw console.error("[JSON plugin] setJsonData: object is not valid JSON: ",e),e}}setJsonString(e){lP.RequireString(e);try{const t=JSON.parse(e);cP.get(this)._SetData(t)}catch(e){throw console.error("[JSON plugin] setJsonString: string is not valid JSON: ",e),e}}toCompactString(){return JSON.stringify(cP.get(this)._GetData())}toBeautifiedString(){return JSON.stringify(cP.get(this)._GetData(),null,4)}}}{const uP=self.C3,hP=["null","boolean","number","string","object","array"];uP.Plugins.Json.Cnds={HasKey(e){return this._HasKey(e)},CompareType(e,t){return this._GetTypeOf(e)===hP[t]},CompareValue(e,t,n){return uP.compare(this._GetSafeValue(e),t,n)},IsBooleanSet(e){return!0===this._GetValue(e)},ForEach(e){const t=this._GetValue(e);if("object"!=typeof t||null===t)return!1;const n=this._runtime,s=n.GetEventSheetManager(),r=n.GetCurrentEvent(),o=r.GetSolModifiers(),a=n.GetEventStack(),i=a.GetCurrentStackFrame(),l=a.Push(r),d=this._path,c=this._currentKey,u=this._currentValue,h=this._ParsePathUnsafe(e);n.SetDebuggingEnabled(!1);for(const[e,n]of Object.entries(t))this._path=uP.cloneArray(h),this._path.push(e),this._currentKey=e,this._currentValue=n,s.PushCopySol(o),this.GetObjectClass().GetCurrentSol().PickOne(this.GetInstance()),r.Retrigger(i,l),s.PopSol(o);return n.SetDebuggingEnabled(!0),this._path=d,this._InvalidateLocationCache(),this._currentKey=c,this._currentValue=u,a.Pop(),!1},OnParseError:()=>!0,OnParseSuccess:()=>!0}}{const _P=self.C3;_P.Plugins.Json.Acts={Parse(e){try{this._SetData(JSON.parse(e)),this.Trigger(_P.Plugins.Json.Cnds.OnParseSuccess)}catch(e){console.warn("[JSON plugin] Failed to parse JSON data: ",e),this._SetData({}),this.Trigger(_P.Plugins.Json.Cnds.OnParseError)}},SetPath(e){this._SetPath(e)},SetValue(e,t){this._SetValue(e,t)},SetArray(e,t){let n=this._GetValue(e);Array.isArray(n)?_P.resizeArray(n,t,0):(n=[],_P.extendArray(n,t,0),this._SetValue(e,n))},SetObject(e){this._SetValue(e,{})},SetJSON(e,t){let n=null;try{n=JSON.parse(t),this.Trigger(_P.Plugins.Json.Cnds.OnParseSuccess)}catch(e){console.warn("[JSON plugin] Failed to parse JSON data: ",e),this.Trigger(_P.Plugins.Json.Cnds.OnParseError)}this._SetValue(e,n)},SetNull(e){this._SetValue(e,null)},SetBoolean(e,t){this._SetValue(e,0!==t)},ToggleBoolean(e){const t=this._GetValue(e);"boolean"==typeof t&&this._SetValue(e,!t)},AddTo(e,t){const n=this._GetValue(e);"number"==typeof n&&this._SetValue(e,n+t)},SubtractFrom(e,t){const n=this._GetValue(e);"number"==typeof n&&this._SetValue(e,n-t)},DeleteKey(e){this._DeleteKey(e)},PushValue(e,t,n){const s=this._GetValue(t);Array.isArray(s)&&(0===e?s.push(n):s.unshift(n),this._InvalidateValueCache())},PopValue(e,t){const n=this._GetValue(t);Array.isArray(n)&&(0===e?n.pop():n.shift(),this._InvalidateValueCache())},InsertValue(e,t,n){const s=this._GetValue(t);Array.isArray(s)&&(s.splice(n,0,e),this._InvalidateValueCache())},RemoveValues(e,t,n){const s=this._GetValue(t);Array.isArray(s)&&e>0&&(s.splice(n,e),this._InvalidateValueCache())}}}self.C3.Plugins.Json.Exps={ToCompactString(){try{return JSON.stringify(this._data)}catch(e){return""}},ToBeautifiedString(){try{return JSON.stringify(this._data,null,4)}catch(e){return""}},Get(e){return this._GetSafeValue(e)},GetAsCompactString(e){const t=this._GetValue(e);return JSON.stringify(t)},GetAsBeautifiedString(e){const t=this._GetValue(e);return JSON.stringify(t,null,4)},Front(e){const t=this._GetValue(e);if(Array.isArray(t)){const e=t[0];return this._ToSafeValue(e)}return-1},Back(e){const t=this._GetValue(e);if(Array.isArray(t)){const e=t.at(-1);return this._ToSafeValue(e)}return-1},Type(e){return this._GetTypeOf(e)},ArraySize(e){const t=this._GetValue(e);return Array.isArray(t)?t.length:-1},Path(){return this._path.map(e=>e.replace(/\./g,"\\.")).join(".")},CurrentKey(){return this._currentKey},CurrentValue(){return this._ToSafeValue(this._currentValue)},CurrentType(){return this._JSONTypeOf(this._currentValue)}};{const GP=self.C3;GP.Plugins.Tilemap=class extends GP.SDKPluginBase{constructor(e){super(e)}Release(){super.Release()}},GP.Plugins.Tilemap.TILE_FLIPPED_HORIZONTAL=-2147483648,GP.Plugins.Tilemap.TILE_FLIPPED_VERTICAL=1073741824,GP.Plugins.Tilemap.TILE_FLIPPED_DIAGONAL=536870912,GP.Plugins.Tilemap.TILE_FLAGS_MASK=3758096384,GP.Plugins.Tilemap.TILE_ID_MASK=536870911}{const pP=self.C3,mP=pP.Plugins.Tilemap.TILE_FLIPPED_HORIZONTAL,gP=pP.Plugins.Tilemap.TILE_FLIPPED_VERTICAL,fP=pP.Plugins.Tilemap.TILE_FLIPPED_DIAGONAL,NP=pP.Plugins.Tilemap.TILE_ID_MASK;pP.Plugins.Tilemap.Type=class extends pP.SDKTypeBase{constructor(e){super(e),this._tilePolys=[],this._areTilePolysCached=!1,this._maxTileIndex=0,this._brushesData=[],this._nameToIndexMap=null}Release(){this._nameToIndexMap.clear(),this._nameToIndexMap=null,super.Release()}OnCreate(){this.GetImageInfo().LoadAsset(this._runtime)}LoadTextures(e){return this.GetImageInfo().LoadStaticTexture(e,{sampling:this._runtime.GetSampling()})}ReleaseTextures(){this.GetImageInfo().ReleaseTexture()}OnDynamicTextureLoadComplete(){for(const e of this.GetObjectClass().instancesIncludingPendingCreate())e.GetSdkInstance()._OnDynamicTextureLoadComplete()}LoadTilemapData(e,t,n){this._maxTileIndex=t;for(const t of e)if(t){const e=t[0],n=!!t[1];this._tilePolys.push({poly:e,use:n,flipmap:[[[null,null],[null,null]],[[null,null],[null,null]]]})}else this._tilePolys.push(null);for(const e of n){const t=e[0],n=e[1],s=e[2];this._brushesData.push({name:t,type:n,tileData:s})}}_ForceCacheOfTileCollisionPolys(e,t){this._areTilePolysCached=!1,this._MaybeCacheTileCollisionPolys(e,t)}_MaybeCacheTileCollisionPolys(e,t){if(!this._areTilePolysCached){this._areTilePolysCached=!0;for(let n=0,s=this._tilePolys.length;n<s;++n)this._tilePolys[n]&&(this._CacheTilePoly(n,e,t,!1,!1,!1),this._CacheTilePoly(n,e,t,!1,!1,!0),this._CacheTilePoly(n,e,t,!1,!0,!1),this._CacheTilePoly(n,e,t,!1,!0,!0),this._CacheTilePoly(n,e,t,!0,!1,!1),this._CacheTilePoly(n,e,t,!0,!1,!0),this._CacheTilePoly(n,e,t,!0,!0,!1),this._CacheTilePoly(n,e,t,!0,!0,!0))}}_CacheTilePoly(e,t,n,s,r,o){if(e<0||e>=this._tilePolys.length)return;const a=this._tilePolys[e];if(!a)return;const i=pP.New(pP.CollisionPoly,a.poly,a.use);i.transform(t,n,0),o&&i.diag(),s&&i.mirror(t/2),r&&i.flip(n/2),a.flipmap[s?1:0][r?1:0][o?1:0]=null,a.flipmap[s?1:0][r?1:0][o?1:0]=i}GetTilePoly(e){if(-1===e)return null;const t=e&NP;if(t<0||t>=this._tilePolys.length)return null;const n=this._tilePolys[t];if(!n)return null;const s=e&mP?1:0,r=e&gP?1:0,o=e&fP?1:0;return n.flipmap[s][r][o]}IsTilePolyEnabled(e){return!e||e.IsEnabled()}GetMaxTileIndex(){return this._maxTileIndex}GetBrushData(e){this._nameToIndexMap||(this._nameToIndexMap=new Map);const t=this._nameToIndexMap.get(e);if("number"==typeof t&&t>=0)return this._brushesData[t];for(let t=0;t<this._brushesData.length;t++)if(this._brushesData[t].name===e)return this._nameToIndexMap.set(e,t),this._brushesData[t]}}}{let bP=function(e){const t=[],n=e.split(",");for(let e=0,s=n.length;e<s;++e){const s=n[e],r=s.indexOf("x");if(r>-1){let e=parseInt(s.substring(0,r),10);const n=s.substring(r+1);let o=parseInt(n,10);for(n.includes("h")&&(o|=BP),n.includes("v")&&(o|=OP),n.includes("d")&&(o|=vP);e>0;--e)t.push(o)}else{let e=parseInt(s,10);s.includes("h")&&(e|=BP),s.includes("v")&&(e|=OP),s.includes("d")&&(e|=vP),t.push(e)}}return t};RunLengthDecode=bP;const SP=self.C3,xP=self.C3X,IP=0,yP=1,EP=2,TP=3,CP=4,MP=5,VP=6,BP=SP.Plugins.Tilemap.TILE_FLIPPED_HORIZONTAL,OP=SP.Plugins.Tilemap.TILE_FLIPPED_VERTICAL,vP=SP.Plugins.Tilemap.TILE_FLIPPED_DIAGONAL,PP=SP.Plugins.Tilemap.TILE_FLAGS_MASK,wP=SP.Plugins.Tilemap.TILE_ID_MASK,AP=SP.New(SP.Rect),DP=SP.New(SP.Rect),RP=SP.New(SP.Rect);SP.Plugins.Tilemap.Instance=class extends SP.SDKWorldInstanceBase{constructor(e,t){super(e);const n=this.GetWorldInfo();this._tileWidth=32,this._tileHeight=32,this._tileXoffset=0,this._tileYoffset=0,this._tileXspacing=0,this._tileYspacing=0,this._mapWidth=0,this._mapHeight=0,this._lastWidth=n.GetWidth(),this._lastHeight=n.GetHeight(),this._cellWidth=0,this._cellHeight=0,this._tileCells=[],this._tileTexQuads=new Map,this._isAnyQuadMapChanged=!0,this._ownImageInfo=null,t&&(n.SetVisible(t[IP]),this._tileWidth=Math.max(t[yP],1),this._tileHeight=Math.max(t[EP],1),this._tileXoffset=t[TP],this._tileYoffset=t[CP],this._tileXspacing=t[MP],this._tileYspacing=t[VP]),this._cellWidth=Math.ceil(this._runtime.GetOriginalViewportWidth()/this._tileWidth),this._cellHeight=Math.ceil(this._runtime.GetOriginalViewportHeight()/this._tileHeight),this._sdkType._MaybeCacheTileCollisionPolys(this._tileWidth,this._tileHeight),this._brushManager=null}Release(){this._ReleaseOwnImage(),SP.clearArray(this._tileCells),this._tileCells=null,this._tileTexQuads.clear(),this._tileTexQuads=null,super.Release()}_ReleaseOwnImage(){this._ownImageInfo&&(this._ownImageInfo.Release(),this._ownImageInfo=null)}LoadTilemapData(e,t,n){this._mapWidth=t,this._mapHeight=n,this._MaybeResizeTilemap(!0),this.SetTilesFromRLECSV(e),this._MaybeBuildAllQuadMap()}_MaybeResizeTilemap(e){const[t,n]=this.GetMapDisplaySize();if(t<=this._mapWidth&&n<=this._mapHeight&&!e)return;let s=0,r=0;e?(s=Math.ceil(this._mapHeight/this._cellHeight),r=Math.ceil(this._mapWidth/this._cellWidth)):(s=this._tileCells.length,r=Math.ceil(this._mapWidth/this._cellWidth),n>this._mapHeight&&(this._mapHeight=n,s=Math.ceil(this._mapHeight/this._cellHeight)),t>this._mapWidth&&(this._mapWidth=t,r=Math.ceil(this._mapWidth/this._cellWidth)),this._SetAllQuadMapChanged(),this._SetPhysicsChanged(),this._runtime.UpdateRender());const o=this._tileCells;if(o.length<s)for(let e=o.length;e<s;++e)o.push([]);for(let e=0;e<s;++e){const t=o[e];for(let n=t.length;n<r;++n)t.push(SP.New(SP.Plugins.Tilemap.TileCell,this,n,e))}}SetTilesFromRLECSV(e){const t=bP(e);let n=0;const s=this._mapWidth,r=this._cellWidth,o=this._cellHeight;for(let e=0,a=this._mapHeight;e<a;++e)for(let a=0;a<s;++a){const s=t[n++],i=this.GetCellAt(a,e);i&&i.SetTileAt(a%r,e%o,s)}}GetTilesAsRLECSV(){let e="";if(this._mapWidth<=0||this._mapHeight<=0)return e;let t=1,n=this.GetTileAt(0,0);const[s,r]=this.GetMapDisplaySize();let o=-1,a=!1,i=!1,l=!1;for(let d=0;d<r;++d)for(let r=0===d?1:0;r<s;++r){const s=this.GetTileAt(r,d);s===n?++t:(-1===n?(o=-1,a=!1,i=!1,l=!1):(o=n&wP,a=0!==(n&BP),i=0!==(n&OP),l=0!==(n&vP)),e+=1===t?""+o:t+"x"+o,a&&(e+="h"),i&&(e+="v"),l&&(e+="d"),e+=",",t=1,n=s)}return-1===n?(o=-1,a=!1,i=!1,l=!1):(o=n&wP,a=0!==(n&BP),i=0!==(n&OP),l=0!==(n&vP)),e+=1===t?""+o:t+"x"+o,a&&(e+="h"),i&&(e+="v"),l&&(e+="d"),e}_SetAllQuadMapChanged(){const e=this._tileCells;for(let t=0,n=e.length;t<n;++t){const n=e[t];for(let e=0,t=n.length;e<t;++e)n[e]._SetQuadMapChanged()}this._isAnyQuadMapChanged=!0}_MaybeBuildAllQuadMap(){if(!this._isAnyQuadMapChanged)return;this._isAnyQuadMapChanged=!1;const e=this._tileCells;for(let t=0,n=e.length;t<n;++t){const n=e[t];for(let e=0,t=n.length;e<t;++e)n[e].MaybeBuildQuadMap()}}SetTileChanged(){this._isAnyQuadMapChanged=!0,this._SetPhysicsChanged(),this._runtime.UpdateRender()}_SetPhysicsChanged(){this.GetWorldInfo().SetPhysicsBodyChanged(!0)}GetCellAt(e,t){if(e<0||t<0)return null;const n=Math.floor(t/this._cellHeight);if(n>=this._tileCells.length)return null;const s=this._tileCells[n],r=Math.floor(e/this._cellWidth);return r>=s.length?null:s[r]}GetCellAtIndex(e,t){if(e<0||t<0||t>=this._tileCells.length)return null;const n=this._tileCells[t];return e>=n.length?null:n[e]}GetTileAt(e,t){if(e=Math.floor(e),t=Math.floor(t),e<0||t<0||e>=this._mapWidth||t>=this._mapHeight)return-1;const n=this.GetCellAt(e,t);return n?n.GetTilesArr()[t%this._cellHeight][e%this._cellWidth]:-1}SetTileAt(e,t,n){if(e=Math.floor(e),t=Math.floor(t),e<0||t<0||e>=this._mapWidth||t>=this._mapHeight)return;if(-1!==n&&(n&wP)>this.GetMaxTileIndex())return;const s=this.GetCellAt(e,t);s&&s.SetTileAt(e%this._cellWidth,t%this._cellHeight,n)}GetMaxTileIndex(){return this._sdkType.GetMaxTileIndex()}WorldToCellX(e){return Math.floor((e-this.GetWorldInfo().GetX())/(this._cellWidth*this._tileWidth))}WorldToCellY(e){return Math.floor((e-this.GetWorldInfo().GetY())/(this._cellHeight*this._tileHeight))}WorldToTileX(e){return Math.floor((e-this.GetWorldInfo().GetX())/this._tileWidth)}WorldToTileY(e){return Math.floor((e-this.GetWorldInfo().GetY())/this._tileHeight)}GetMapWidth(){return this._mapWidth}GetMapHeight(){return this._mapHeight}GetMapDisplayWidth(){return Math.floor(this.GetWorldInfo().GetWidth()/this.GetTileWidth())}GetMapDisplayHeight(){return Math.floor(this.GetWorldInfo().GetHeight()/this.GetTileHeight())}GetMapDisplaySize(){const e=this.GetWorldInfo();return[Math.floor(e.GetWidth()/this.GetTileWidth()),Math.floor(e.GetHeight()/this.GetTileHeight())]}GetTileWidth(){return this._tileWidth}GetTileHeight(){return this._tileHeight}GetCellWidth(){return this._cellWidth}GetCellHeight(){return this._cellHeight}GetCollisionRectCandidates(e,t){const n=this.WorldToCellX(e.getLeft()),s=this.WorldToCellY(e.getTop()),r=this.WorldToCellX(e.getRight()),o=this.WorldToCellY(e.getBottom());for(let e=n;e<=r;++e)for(let n=s;n<=o;++n){const s=this.GetCellAtIndex(e,n);s&&(s.MaybeBuildQuadMap(),SP.appendArray(t,s.GetCollisionRects()))}}TestPointOverlapTile(e,t){const n=this.WorldToTileX(e),s=this.WorldToTileY(t),r=this.GetTileAt(n,s);if(-1===r)return!1;const o=this._sdkType.GetTilePoly(r);if(!o)return!0;if(!this._sdkType.IsTilePolyEnabled(o))return!1;const a=this.GetWorldInfo();return e-=Math.floor((e-a.GetX())/this._tileWidth)*this._tileWidth+a.GetX(),t-=Math.floor((t-a.GetY())/this._tileHeight)*this._tileHeight+a.GetY(),o.containsPoint(e,t)}GetAllCollisionRects(e){const t=this._tileCells;for(let n=0,s=t.length;n<s;++n){const s=t[n];for(let t=0,n=s.length;t<n;++t){const n=s[t];n.MaybeBuildQuadMap(),SP.appendArray(e,n.GetCollisionRects())}}}GetCurrentImageInfo(){return this._ownImageInfo||this._objectClass.GetImageInfo()}GetTileUvQuad(e){const t=this._tileTexQuads,n=t.get(e);if(n)return n;const s=e&wP,r=0!==(e&BP),o=0!==(e&OP),a=0!==(e&vP),i=this.GetCurrentImageInfo(),l=i.GetWidth(),d=this._tileWidth,c=this._tileXoffset,u=this._tileXspacing,h=Math.floor((l-c)/(d+u)*d)+u,_=Math.floor(h/d),G=s%_,p=Math.floor(s/_),m=i.GetOffsetX()+this._tileXoffset+(this._tileWidth+this._tileXspacing)*G,g=i.GetOffsetY()+this._tileYoffset+(this._tileHeight+this._tileYspacing)*p;AP.setWH(m,g,this._tileWidth,this._tileHeight),AP.divide(i.GetSheetWidth(),i.GetSheetHeight());const f=SP.New(SP.Quad);return f.setFromRect(AP),a&&f.diag(),r&&f.mirror(),o&&f.flip(),f.offset(G,p),t.set(e,f),f}_OnDynamicTextureLoadComplete(){this._tileTexQuads.clear(),this._SetAllQuadMapChanged()}Draw(e){const t=this.GetCurrentImageInfo(),n=t.GetTexture();if(!n)return;AP.copy(t.GetTexRect()),AP.offsetLeft(this._tileXoffset/n.GetWidth()),AP.offsetTop(this._tileYoffset/n.GetHeight()),e.SetTilemapFillMode(),e.SetTilemapInfo(AP,n.GetWidth(),n.GetHeight(),this._tileWidth,this._tileHeight,this._tileXspacing,this._tileYspacing),e.SetTexture(n);const s=this.GetWorldInfo(),r=s.GetLayer();s.GetWidth()===this._lastWidth&&s.GetHeight()===this._lastHeight||(this._SetPhysicsChanged(),this._SetAllQuadMapChanged(),this._lastWidth=s.GetWidth(),this._lastHeight=s.GetHeight());let o=s.GetX(),a=s.GetY();this._runtime.IsPixelRoundingEnabled()&&(o=Math.round(o),a=Math.round(a));const i=this._cellWidth*this._tileWidth,l=this._cellHeight*this._tileHeight,d=s.GetTotalZElevation(),c=DP;if(r.Has3DCamera()){c.set(-1/0,-1/0,1/0,1/0);const t=RP,n=r._GetViewFrustum();for(const s of this._tileCells)for(const r of s)r.GetLayoutRect(t),n.ContainsAABB(t.getLeft(),t.getTop(),d,t.getRight(),t.getBottom(),d)&&(r.MaybeBuildQuadMap(),r.Draw(e,c,o,a))}else{r.GetViewportForZ(d,c);const t=Math.floor((c.getLeft()-o)/i),n=Math.floor((c.getRight()-o)/i),s=Math.floor((c.getTop()-a)/l),u=Math.floor((c.getBottom()-a)/l);for(let r=t;r<=n;++r)for(let t=s;t<=u;++t){const n=this.GetCellAtIndex(r,t);n&&(n.MaybeBuildQuadMap(),n.Draw(e,c,o,a))}}}SaveToJson(){this._MaybeResizeTilemap();const[e,t]=this.GetMapDisplaySize();return{tw:this._tileWidth,th:this._tileHeight,tox:this._tileXoffset,toy:this._tileYoffset,tsx:this._tileXspacing,tsy:this._tileYspacing,w:e,h:t,d:this.GetTilesAsRLECSV()}}LoadFromJson(e){this._tileWidth=e.tw,this._tileHeight=e.th,this._tileXoffset=e.tox,this._tileYoffset=e.toy,this._tileXspacing=e.tsx,this._tileYspacing=e.tsy,this._mapWidth=e.w,this._mapHeight=e.h,this._MaybeResizeTilemap(!0),this.SetTilesFromRLECSV(e.d),this._SetPhysicsChanged(),this._SetAllQuadMapChanged()}GetAsJsonString(){this._MaybeResizeTilemap();const[e,t]=this.GetMapDisplaySize();return JSON.stringify({c2tilemap:!0,width:e,height:t,data:this.GetTilesAsRLECSV()})}StateComboToFlags(e){switch(e){case 0:default:return 0;case 1:return BP;case 2:return OP;case 3:return BP|vP;case 4:return BP|OP;case 5:return OP|vP;case 6:return BP|OP|vP;case 7:return vP}}GetPropertyValueByIndex(e){switch(e){case yP:return this._tileWidth;case EP:return this._tileHeight;case TP:return this._tileXoffset;case CP:return this._tileYoffset;case MP:return this._tileXspacing;case VP:return this._tileYspacing}}SetPropertyValueByIndex(e,t){switch(e){case yP:if(this._tileWidth===t)return;this._tileWidth=Math.max(t,1),this._cellWidth=Math.ceil(this._runtime.GetOriginalViewportWidth()/this._tileWidth),this._sdkType._ForceCacheOfTileCollisionPolys(),this._UpdateQuadMaps();break;case EP:if(this._tileHeight===t)return;this._tileHeight=Math.max(t,1),this._cellHeight=Math.ceil(this._runtime.GetOriginalViewportHeight()/this._tileHeight),this._sdkType._ForceCacheOfTileCollisionPolys(),this._UpdateQuadMaps();break;case TP:if(this._tileXoffset===t)return;this._tileXoffset=t,this._UpdateQuadMaps();break;case CP:if(this._tileYoffset===t)return;this._tileYoffset=t,this._UpdateQuadMaps();break;case MP:if(this._tileXspacing===t)return;this._tileXspacing=t,this._UpdateQuadMaps();break;case VP:if(this._tileYspacing===t)return;this._tileYspacing=t,this._UpdateQuadMaps()}}_UpdateQuadMaps(){this._tileTexQuads.clear(),this._SetAllQuadMapChanged(),this._MaybeBuildAllQuadMap()}GetScriptInterfaceClass(){return jP}};const FP=new WeakMap,jP=self.ITilemapInstance=class extends self.IWorldInstance{constructor(){super(),FP.set(this,self.IInstance._GetInitInst().GetSdkInstance())}get mapWidth(){return FP.get(this).GetMapWidth()}get mapHeight(){return FP.get(this).GetMapHeight()}getMapSize(){const e=FP.get(this);return[e.GetMapWidth(),e.GetMapHeight()]}get mapDisplayWidth(){return FP.get(this).GetMapDisplayWidth()}get mapDisplayHeight(){return FP.get(this).GetMapDisplayHeight()}getMapDisplaySize(){const e=FP.get(this);return[e.GetMapDisplayWidth(),e.GetMapDisplayHeight()]}get tileWidth(){return FP.get(this).GetTileWidth()}get tileHeight(){return FP.get(this).GetTileHeight()}getTileSize(){const e=FP.get(this);return[e.GetTileWidth(),e.GetTileHeight()]}getTileAt(e,t){return xP.RequireFiniteNumber(e),xP.RequireFiniteNumber(t),FP.get(this).GetTileAt(e,t)}setTileAt(e,t,n){xP.RequireFiniteNumber(e),xP.RequireFiniteNumber(t),xP.RequireFiniteNumber(n);const s=FP.get(this);s._MaybeResizeTilemap(),s.SetTileAt(e,t,n)}async replaceImage(e){xP.RequireInstanceOf(e,Blob);const t=FP.get(this),n=t.GetRuntime(),s=SP.New(SP.ImageInfo);s.LoadDynamicBlobAsset(n,e),await s.LoadStaticTexture(n.GetRenderer(),{sampling:n.GetSampling()}),t.WasReleased()?s.Release():(t._ReleaseOwnImage(),t._ownImageInfo=s,t._tileTexQuads.clear(),t._SetAllQuadMapChanged(),n.UpdateRender())}};jP.TILE_FLIPPED_HORIZONTAL=BP,jP.TILE_FLIPPED_VERTICAL=OP,jP.TILE_FLIPPED_DIAGONAL=vP,jP.TILE_FLAGS_MASK=PP,jP.TILE_ID_MASK=wP}{const kP=self.C3,LP=kP.Plugins.Tilemap.TILE_FLAGS_MASK,WP=kP.Plugins.Tilemap.TILE_ID_MASK;kP.Plugins.Tilemap.Cnds={CompareTileAt(e,t,n,s){let r=this.GetTileAt(e,t);return-1!==r&&(r&=WP),kP.compare(r,n,s)},CompareTileStateAt(e,t,n){const s=this.GetTileAt(e,t);let r=0;return-1!==s&&(r=s&LP),r===this.StateComboToFlags(n)},OnURLLoaded:()=>!0,OnURLFailed:()=>!0,BrushExists(e){return this._brushManager||(this._brushManager=new kP.Plugins.Tilemap.BrushManager(this,this._sdkType)),this._brushManager.BrushExists(e)}}}{const UP=self.C3,HP=UP.Plugins.Tilemap.TILE_ID_MASK;UP.Plugins.Tilemap.Acts={EraseTile(e,t){this._MaybeResizeTilemap(),this.SetTileAt(e,t,-1)},SetTile(e,t,n,s){this._MaybeResizeTilemap(),this.SetTileAt(e,t,n&HP|this.StateComboToFlags(s))},SetTileState(e,t,n){const s=this.GetTileAt(e,t);-1!==s&&(this._MaybeResizeTilemap(),this.SetTileAt(e,t,s&HP|this.StateComboToFlags(n)))},EraseTileRange(e,t,n,s){const r=Math.floor(Math.max(e,0)),o=Math.floor(Math.max(t,0)),a=Math.floor(Math.min(e+n,this._mapWidth)),i=Math.floor(Math.min(t+s,this._mapHeight));for(let e=o;e<i;++e)for(let t=r;t<a;++t)this.SetTileAt(t,e,-1)},SetTileRange(e,t,n,s,r,o){this._MaybeResizeTilemap();const a=Math.floor(Math.max(e,0)),i=Math.floor(Math.max(t,0)),l=Math.floor(Math.min(e+n,this._mapWidth)),d=Math.floor(Math.min(t+s,this._mapHeight)),c=r&HP|this.StateComboToFlags(o);for(let e=i;e<d;++e)for(let t=a;t<l;++t)this.SetTileAt(t,e,c)},SetTileStateRange(e,t,n,s,r){this._MaybeResizeTilemap();const o=Math.floor(Math.max(e,0)),a=Math.floor(Math.max(t,0)),i=Math.floor(Math.min(e+n,this._mapWidth)),l=Math.floor(Math.min(t+s,this._mapHeight)),d=this.StateComboToFlags(r);for(let e=a;e<l;++e)for(let t=o;t<i;++t){const n=this.GetTileAt(t,e);-1!==n&&this.SetTileAt(t,e,n&HP|d)}},LoadFromJSON(e){let t=null;try{t=JSON.parse(e)}catch(e){return void console.error("[Construct] Failed to parse tilemap JSON: ",e)}t.c2tilemap?(this._mapWidth=t.width,this._mapHeight=t.height,this._MaybeResizeTilemap(!0),this.SetTilesFromRLECSV(t.data),this._SetAllQuadMapChanged(),this._SetPhysicsChanged()):console.error("[Construct] Unrecognized JSON data format")},JSONDownload(e){const t=URL.createObjectURL(new Blob([this.GetAsJsonString()],{type:"application/json"}));this._runtime.InvokeDownload(t,e)},async LoadURL(e,t){if(this._ownImageInfo&&this._ownImageInfo.GetURL()===e)return;const n=this._runtime,s=UP.New(UP.ImageInfo);try{if(await s.LoadDynamicAsset(n,e),!s.IsLoaded())throw new Error("image failed to load");if(this.WasReleased())return s.Release(),null;if(!await s.LoadStaticTexture(n.GetRenderer(),{sampling:n.GetSampling()}))return}catch(e){return console.error("Load image from URL failed: ",e),void(this.WasReleased()||this.Trigger(UP.Plugins.Tilemap.Cnds.OnURLFailed))}this.WasReleased()?s.Release():(this._ReleaseOwnImage(),this._ownImageInfo=s,n.UpdateRender(),this._tileTexQuads.clear(),this._SetAllQuadMapChanged(),await this.TriggerAsync(UP.Plugins.Tilemap.Cnds.OnURLLoaded))},SetEffect(e){e>=2&&e++,this.GetWorldInfo().SetBlendMode(e),this._runtime.UpdateRender()},SetTileWithBrush(e,t,n){if(this._MaybeResizeTilemap(),this._brushManager||(this._brushManager=new UP.Plugins.Tilemap.BrushManager(this,this._sdkType)),this._brushManager.BrushExists(n))switch(this._brushManager.GetBrushType(n)){case 0:case 1:this._brushManager.SetAutoTile(e,t,n);break;case 2:this._brushManager.SetPatchTile(e,t,n)}},SetTileWithPatchBrush(e,t,n,s,r,o,a){this._MaybeResizeTilemap(),this._brushManager||(this._brushManager=new UP.Plugins.Tilemap.BrushManager(this,this._sdkType)),this._brushManager.BrushExists(n)&&2===this._brushManager.GetBrushType(n)&&this._brushManager.SetPatchTile(e,t,n,s,r,o,a)},EraseTileWithBrush(e,t,n){if(this._MaybeResizeTilemap(),this._brushManager||(this._brushManager=new UP.Plugins.Tilemap.BrushManager(this,this._sdkType)),this._brushManager.BrushExists(n))switch(this._brushManager.GetBrushType(n)){case 0:case 1:this._brushManager.EraseAutoTile(e,t,n);break;case 2:this._brushManager.ErasePatchTile(e,t,n)}},EraseTileWithPatchBrush(e,t,n,s,r,o){this._MaybeResizeTilemap(),this._brushManager||(this._brushManager=new UP.Plugins.Tilemap.BrushManager(this,this._sdkType)),this._brushManager.BrushExists(n)&&2===this._brushManager.GetBrushType(n)&&this._brushManager.ErasePatchTile(e,t,n,s,r,o)},SetTileWithPatchBrushByName(e,t,n,s,r,o,a){UP.Plugins.Tilemap.Acts.SetTileWithPatchBrush.call(this,e,t,n,s,r,o,a)},EraseTileWithPatchBrushByName(e,t,n,s,r,o){UP.Plugins.Tilemap.Acts.EraseTileWithPatchBrush.call(this,e,t,n,s,r,o)},SetTileWithBrushByName(e,t,n){UP.Plugins.Tilemap.Acts.SetTileWithBrush.call(this,e,t,n)},EraseTileWithBrushByName(e,t,n){UP.Plugins.Tilemap.Acts.EraseTileWithBrush.call(this,e,t,n)}}}{const zP=self.C3,YP=zP.Plugins.Tilemap.TILE_ID_MASK;zP.Plugins.Tilemap.Exps={TileAt(e,t){const n=this.GetTileAt(e,t);return-1===n?-1:n&YP},PositionToTileX(e){return this.WorldToTileX(e)},PositionToTileY(e){return this.WorldToTileY(e)},TileToPositionX(e){return e*this._tileWidth+this.GetWorldInfo().GetX()+this._tileWidth/2},TileToPositionY(e){return e*this._tileHeight+this.GetWorldInfo().GetY()+this._tileHeight/2},SnapX(e){const t=this.GetWorldInfo().GetX();return Math.floor((e-t)/this._tileWidth)*this._tileWidth+t+this._tileWidth/2},SnapY(e){const t=this.GetWorldInfo().GetY();return Math.floor((e-t)/this._tileHeight)*this._tileHeight+t+this._tileHeight/2},TilesJSON(){return this.GetAsJsonString()},TileWidth(){return this.GetTileWidth()},TileHeight(){return this.GetTileHeight()},MapDisplayWidth(){return this.GetMapDisplayWidth()},MapDisplayHeight(){return this.GetMapDisplayHeight()},BrushWidth(e){return this._brushManager||(this._brushManager=new zP.Plugins.Tilemap.BrushManager(this,this._sdkType)),this._brushManager.BrushExists(e)&&2===this._brushManager.GetBrushType(e)?this._brushManager.GetBrushWidth(e):0},BrushHeight(e){return this._brushManager||(this._brushManager=new zP.Plugins.Tilemap.BrushManager(this,this._sdkType)),this._brushManager.BrushExists(e)&&2===this._brushManager.GetBrushType(e)?this._brushManager.GetBrushHeight(e):0}}}{const XP=self.C3,qP=XP.Plugins.Tilemap.TILE_FLIPPED_HORIZONTAL,KP=XP.Plugins.Tilemap.TILE_FLIPPED_VERTICAL,JP=XP.Plugins.Tilemap.TILE_FLIPPED_DIAGONAL,$P=XP.Plugins.Tilemap.TILE_ID_MASK,ZP=XP.New(XP.Rect),QP=XP.New(XP.Quad);XP.Plugins.Tilemap.TileQuad=class extends XP.DefendedBase{constructor(){super(),this._id=-1,this._tileId=-1,this._isHorizFlip=!1,this._isVertFlip=!1,this._isDiagFlip=!1,this._rc=XP.New(XP.Rect),this._uv=null}Update(e,t,n,s,r,o,a,i){this._id=e,this._tileId=e&$P,this._isHorizFlip=0!==(e&qP),this._isVertFlip=0!==(e&KP),this._isDiagFlip=0!==(e&JP),this._rc.setWH(s*t+o,r*n+a,t,n),this._uv=i.GetTileUvQuad(this._id)}Draw(e,t,n,s,r){ZP.copy(this._rc),ZP.offset(n,s),ZP.intersectsRect(t)&&(QP.setFromRect(ZP),e.Quad4(QP,this._uv))}}}{const ew=self.C3;ew.Plugins.Tilemap.TileCollisionRect=class extends ew.DefendedBase{constructor(){super(),this._id=-1,this._poly=null,this._rc=ew.New(ew.Rect)}Update(e,t,n,s,r,o,a,i){this._id=e,this._poly=t,this._rc.setWH(r*n+a,o*s+i,n,s)}ExtendRight(e){this._rc.setRight(this._rc.getRight()+e)}GetTileId(){return this._id}HasPoly(){return!!this._poly}GetPoly(){return this._poly}GetRect(){return this._rc}}}{const tw=self.C3,sw=tw.Plugins.Tilemap.TILE_ID_MASK;tw.Plugins.Tilemap.TileCell=class extends tw.DefendedBase{constructor(e,t,n){super();const s=e.GetCellWidth(),r=e.GetCellHeight();this._sdkInst=e,this._x=t,this._y=n,this._left=this._x*s*e.GetTileWidth(),this._top=this._y*r*e.GetTileHeight(),this._tiles=[],this._quads=[],this._collisionRects=[],this._isQuadMapValid=!1;for(let e=0;e<r;++e){const e=new Int32Array(s);e.fill(-1),this._tiles.push(e)}}Clear(){const e=this._sdkInst.GetCellWidth(),t=this._sdkInst.GetCellHeight(),n=this._tiles;if(n.length<t)for(let s=n.length;s<t;++s)n.push(new Int32Array(e));else n.length>t&&tw.truncateArray(n,t);for(let t=0,s=n.length;t<s;++t){let s=n[t];s.length!==e&&(s=new Int32Array(e),n[t]=s),s.fill(-1)}}GetLayoutRect(e){const t=this._sdkInst,n=t.GetWorldInfo(),s=t.GetCellWidth()*t.GetTileWidth(),r=t.GetCellHeight()*t.GetTileHeight(),o=n.GetX()+this._left,a=n.GetY()+this._top;e.set(o,a,o+s,a+r)}_SetQuadMapChanged(){this._isQuadMapValid=!1}MaybeBuildQuadMap(){if(this._isQuadMapValid)return;const e=this._sdkInst,t=e.GetSdkType(),n=e.GetWorldInfo(),s=e.GetTileWidth(),r=e.GetTileHeight(),o=e.GetCellWidth(),a=e.GetCellHeight(),i=this._left,l=this._top;if(s<=0||r<=0)return;let d=Math.min(e.GetMapWidth(),Math.floor(n.GetWidth()/s)),c=Math.min(e.GetMapHeight(),Math.floor(n.GetHeight()/r));d-=i/s,c-=l/r,d>o&&(d=o),c>a&&(c=a);const u=this._tiles,h=this._quads;let _=0;for(let t=0;t<c;++t){const n=u[t];for(let o=0;o<d;++o){const a=n[o];if(-1===a)continue;let d=null;_<h.length?d=h[_]:(d=tw.New(tw.Plugins.Tilemap.TileQuad),h.push(d)),d.Update(a,s,r,o,t,i,l,e),++_}}_<h.length&&tw.truncateArray(h,_);let G=null,p=!1;const m=this._collisionRects;tw.clearArray(m);for(let e=0;e<c;++e){const n=u[e];for(let o=0;o<d;++o){const a=n[o],d=t.GetTilePoly(a),c=t.IsTilePolyEnabled(d);-1!==a&&c?!G||d||p?(G&&m.push(G),G=tw.New(tw.Plugins.Tilemap.TileCollisionRect),G.Update(a,d,s,r,o,e,i,l),p=!!d):G.ExtendRight(s):G&&(m.push(G),G=null,p=!1)}G&&(m.push(G),G=null,p=!1)}let g=m.length;for(let e=0;e<g;++e){const t=m[e];if(t.HasPoly())continue;const n=t.GetRect();for(let t=e+1;t<g;++t){const e=m[t],s=e.GetRect();s.getTop()<n.getBottom()||s.getTop()>n.getBottom()||s.getRight()>n.getRight()||s.getLeft()>n.getLeft()||e.HasPoly()||s.getLeft()===n.getLeft()&&s.getRight()===n.getRight()&&(m.splice(t,1),--g,n.setBottom(n.getBottom()+r),--t)}}this._isQuadMapValid=!0}SetTileAt(e,t,n){this._tiles[t][e]!==n&&(this._tiles[t][e]=n,this._isQuadMapValid=!1,this._sdkInst.SetTileChanged())}GetTilesArr(){return this._tiles}GetCollisionRects(){return this._collisionRects}Draw(e,t,n,s){const r=this._sdkInst,o=this._quads;for(let a=0,i=o.length;a<i;++a)o[a].Draw(e,t,n,s,r)}}}{const rw=self.C3,ow=-999,aw=-998,iw=-1,lw=0,dw=1,cw=Object.freeze([[0,0,0],[0,0,0],[0,0,0]]);rw.Plugins.Tilemap.BrushManager=class{constructor(e,t){this._sdkInst=e,this._sdkType=t,this._brushAdapterInstances=[null,null,null],this._brushAdapterConstructors=[rw.Plugins.Tilemap.AutoTiling16,rw.Plugins.Tilemap.AutoTiling47,rw.Plugins.Tilemap.Patch],this._probabilityTable=new rw.ProbabilityTable}get AUTO_TILING_PATCH(){return cw}get IGNORE_INDEX(){return-999}get FORCE_INDEX(){return-998}get EMPTY_INDEX(){return-1}get PAINT_MODE(){return 0}get ERASE_MODE(){return 1}GetSdkIntance(){return this._sdkInst}GetSdkType(){return this._sdkType}GetProbabilityTable(){return this._probabilityTable}GetBrushWidth(e){return this.BrushExists(e)?this._GetBrushWidth(e):0}GetBrushHeight(e){return this.BrushExists(e)?this._GetBrushHeight(e):0}SetAutoTile(e,t,n){this.BrushExists(n)&&(this._SetMode(n,0),this._SetAutoTilePatch(e,t,this._GetPatch(e,t,n)))}EraseAutoTile(e,t,n){this.BrushExists(n)&&(this._SetMode(n,1),this._EraseTile(e,t),this._SetAutoTilePatch(e,t,this._GetPatch(e,t,n)))}SetPatchTile(e,t,n,s,r,o,a){this.BrushExists(n)&&(this._SetMode(n,0),this._SetTilePatch(e,t,n,this._GetPatch(e,t,n),s,r,o,a,0))}ErasePatchTile(e,t,n,s,r,o){this.BrushExists(n)&&(this._SetMode(n,1),this._SetTilePatch(e,t,n,this._GetPatch(e,t,n),s,r,o,0,1))}GetBrushType(e){return this._GetBrushType(e)}BrushExists(e){return!!this.GetSdkType().GetBrushData(e)}GetTile(e,t){return this.GetSdkIntance().GetTileAt(e,t)}_SetTile(e,t,n){this.GetSdkIntance().SetTileAt(e,t,n)}_EraseTile(e,t){this.GetSdkIntance().SetTileAt(e,t,-1)}_SetAutoTilePatch(e,t,n){n&&(this._SetTile(e-1,t-1,n[0][0]),this._SetTile(e,t-1,n[1][0]),this._SetTile(e+1,t-1,n[2][0]),this._SetTile(e-1,t,n[0][1]),this._SetTile(e,t,n[1][1]),this._SetTile(e+1,t,n[2][1]),this._SetTile(e-1,t+1,n[0][2]),this._SetTile(e,t+1,n[1][2]),this._SetTile(e+1,t+1,n[2][2]))}_SetTilePatch(e,t,n,s,r=!1,o=!1,a=0,i=0,l=0){if(!s)return;const d=(s=this._TransformPatch(s,n,r,o,a,i,l))[0].length,c=s.length;for(let n=0;n<c;n++)for(let r=0;r<d;r++)if(s[n][r]!==this.IGNORE_INDEX)switch(i){case 0:s[n][r]===this.EMPTY_INDEX?this._EraseTile(e+r,t+n):this._SetTile(e+r,t+n,s[n][r]);break;case 1:-1!==s[n][r]&&this._SetTile(e+r,t+n,s[n][r])}}_GetBrushType(e){return this.GetSdkType().GetBrushData(e).type}_MaybeCreateBrushAdapter(e){const t=this._GetBrushType(e);this._brushAdapterInstances[t]||(this._brushAdapterInstances[t]=new this._brushAdapterConstructors[t](this))}_SetMode(e,t){this._MaybeCreateBrushAdapter(e);const n=this._GetBrushType(e);this._brushAdapterInstances[n]&&this._brushAdapterInstances[n].SetMode(t)}_GetMode(e){this._MaybeCreateBrushAdapter(e);const t=this._GetBrushType(e);if(this._brushAdapterInstances[t])return this._brushAdapterInstances[t].GetMode()}_GetPatch(e,t,n){this._MaybeCreateBrushAdapter(n);const s=this.GetSdkType().GetBrushData(n);if(this._brushAdapterInstances[s.type])return this._brushAdapterInstances[s.type].BuildPatch(e,t,s)}_TransformPatch(e,t,n=!1,s=!1,r=0,o=0,a=0){this._MaybeCreateBrushAdapter(t);const i=this.GetSdkType().GetBrushData(t);if(this._brushAdapterInstances[i.type])return this._brushAdapterInstances[i.type].TransformPatch(e,n,s,r,o,a)}_GetBrushWidth(e){this._MaybeCreateBrushAdapter(e);const t=this.GetSdkType().GetBrushData(e);if(this._brushAdapterInstances[t.type])return this._brushAdapterInstances[t.type].GetBrushWidth(t)}_GetBrushHeight(e){this._MaybeCreateBrushAdapter(e);const t=this.GetSdkType().GetBrushData(e);if(this._brushAdapterInstances[t.type])return this._brushAdapterInstances[t.type].GetBrushHeight(t)}}}{const uw=self.C3;uw.Plugins.Tilemap.AutoTilingHelper=class{constructor(e){this._manager=e}DoesTileExist(e,t,n){const s=this._manager.GetTile(e,t);return!!this.IsTileValid(s,!0,s,n)}IsTileValid(e,t,n,s){return e===this._manager.EMPTY_INDEX?0:t&&e===this._manager.FORCE_INDEX?1:t&&s&&!this._IsTileIndexInBrush(n,s)?0:1}GetTileIndex(e,t,n,s){const r=s.tileData[e];if(!r.length)return this._manager.EMPTY_INDEX;if(1===r.length)return r[0][0];const o=this._manager.GetTile(t,n);if(this.IsTileValid(o)&&r.some(e=>o===e[0]))return o;const a=this._manager.GetProbabilityTable();a.Clear();for(let[e,t]of r)e>this._manager.GetSdkIntance().GetMaxTileIndex()||("number"!=typeof t&&(t=1),a.AddItem(t,e));return a.Sample()}_IsTileIndexInBrush(e,t){for(const n of t.tileData)for(const[t]of n)if(t===e)return!0;return!1}}}{const hw=self.C3;hw.Plugins.Tilemap.AutoTiling16=class{constructor(e){this._manager=e,this._helper=new hw.Plugins.Tilemap.AutoTilingHelper(e),this._mode=e.PAINT_MODE}SetMode(e){this._mode=e}GetMode(){return this._mode}GetBrushWidth(e){return 0}GetBrushHeight(e){return 0}TransformPatch(e,t=!1,n=!1,s=0,r=0,o=0){return e}BuildPatch(e,t,n){return this._Build4BitAutoTilePatch(e,t,n)}_Build4BitAutoTilePatch(e,t,n){const s=this._mode===this._manager.PAINT_MODE?this._4BitAutoTiling(e,t,void 0,n):this._manager.EMPTY_INDEX,r=this._Get4BitAutoTile(e,t-1,"s",n),o=this._Get4BitAutoTile(e-1,t,"e",n),a=this._Get4BitAutoTile(e+1,t,"w",n),i=this._Get4BitAutoTile(e,t+1,"n",n),l=this._manager.AUTO_TILING_PATCH;return l[0][0]=this._manager.IGNORE_INDEX,l[1][0]=this._Get4BitTileIndex(r,e,t-1,n),l[2][0]=this._manager.IGNORE_INDEX,l[0][1]=this._Get4BitTileIndex(o,e-1,t,n),l[1][1]=this._Get4BitTileIndex(s,e,t,n),l[2][1]=this._Get4BitTileIndex(a,e+1,t,n),l[0][2]=this._manager.IGNORE_INDEX,l[1][2]=this._Get4BitTileIndex(i,e,t+1,n),l[2][2]=this._manager.IGNORE_INDEX,l}_Get4BitAutoTile(e,t,n,s){return this._helper.DoesTileExist(e,t,s)?this._4BitAutoTiling(e,t,n,s):this._manager.IGNORE_INDEX}_4BitAutoTiling(e,t,n,s){this._mode===this._manager.ERASE_MODE&&(n=void 0);const r=this._manager.GetTile(e,t-1),o=this._manager.GetTile(e-1,t),a=this._manager.GetTile(e+1,t),i=this._manager.GetTile(e,t+1),l="n"===n?this._manager.FORCE_INDEX:r,d="w"===n?this._manager.FORCE_INDEX:o,c="e"===n?this._manager.FORCE_INDEX:a,u="s"===n?this._manager.FORCE_INDEX:i;return 1*this._helper.IsTileValid(l,!0,r,s)+2*this._helper.IsTileValid(d,!0,o,s)+4*this._helper.IsTileValid(c,!0,a,s)+8*this._helper.IsTileValid(u,!0,i,s)}_Get4BitTileIndex(e,t,n,s){return e===this._manager.IGNORE_INDEX||e===this._manager.EMPTY_INDEX?e:this._helper.GetTileIndex(e,t,n,s)}}}{const _w=self.C3,Gw=new Map([[2,1],[8,2],[10,3],[11,4],[16,5],[18,6],[22,7],[24,8],[26,9],[27,10],[30,11],[31,12],[64,13],[66,14],[72,15],[74,16],[75,17],[80,18],[82,19],[86,20],[88,21],[90,22],[91,23],[94,24],[95,25],[104,26],[106,27],[107,28],[120,29],[122,30],[123,31],[126,32],[127,33],[208,34],[210,35],[214,36],[216,37],[218,38],[219,39],[222,40],[223,41],[248,42],[250,43],[251,44],[254,45],[255,46],[0,47]]);_w.Plugins.Tilemap.AutoTiling47=class{constructor(e){this._manager=e,this._helper=new _w.Plugins.Tilemap.AutoTilingHelper(e),this._mode=e.PAINT_MODE}SetMode(e){this._mode=e}GetMode(){return this._mode}GetBrushWidth(e){return 0}GetBrushHeight(e){return 0}TransformPatch(e,t=!1,n=!1,s=0,r=0,o=0){return e}BuildPatch(e,t,n){return this._Build8BitAutoTilePatch(e,t,n)}_Build8BitAutoTilePatch(e,t,n){const s=this._mode===this._manager.PAINT_MODE?this._8BitAutoTiling(e,t,void 0,n):this._manager.EMPTY_INDEX,r=this._Get8BitAutoTile(e-1,t-1,"se",n),o=this._Get8BitAutoTile(e,t-1,"s",n),a=this._Get8BitAutoTile(e+1,t-1,"sw",n),i=this._Get8BitAutoTile(e-1,t,"e",n),l=this._Get8BitAutoTile(e+1,t,"w",n),d=this._Get8BitAutoTile(e-1,t+1,"ne",n),c=this._Get8BitAutoTile(e,t+1,"n",n),u=this._Get8BitAutoTile(e+1,t+1,"nw",n),h=this._manager.AUTO_TILING_PATCH;return h[0][0]=this._Get8BitTileIndex(r,e-1,t-1,n),h[1][0]=this._Get8BitTileIndex(o,e,t-1,n),h[2][0]=this._Get8BitTileIndex(a,e+1,t-1,n),h[0][1]=this._Get8BitTileIndex(i,e-1,t,n),h[1][1]=this._Get8BitTileIndex(s,e,t,n),h[2][1]=this._Get8BitTileIndex(l,e+1,t,n),h[0][2]=this._Get8BitTileIndex(d,e-1,t+1,n),h[1][2]=this._Get8BitTileIndex(c,e,t+1,n),h[2][2]=this._Get8BitTileIndex(u,e+1,t+1,n),h}_Get8BitAutoTile(e,t,n,s){return this._helper.DoesTileExist(e,t,s)?this._8BitAutoTiling(e,t,n,s):this._manager.IGNORE_INDEX}_8BitAutoTiling(e,t,n,s){this._mode===this._manager.ERASE_MODE&&(n=void 0);const r=this._manager.GetTile(e,t-1),o=this._manager.GetTile(e-1,t),a=this._manager.GetTile(e+1,t),i=this._manager.GetTile(e,t+1),l=this._manager.GetTile(e-1,t-1),d=this._manager.GetTile(e+1,t-1),c=this._manager.GetTile(e-1,t+1),u=this._manager.GetTile(e+1,t+1),h="n"===n?this._manager.FORCE_INDEX:r,_="w"===n?this._manager.FORCE_INDEX:o,G="e"===n?this._manager.FORCE_INDEX:a,p="s"===n?this._manager.FORCE_INDEX:i,m="nw"===n?this._manager.FORCE_INDEX:l,g="ne"===n?this._manager.FORCE_INDEX:d,f="sw"===n?this._manager.FORCE_INDEX:c,N="se"===n?this._manager.FORCE_INDEX:u,b=this._helper.IsTileValid(h,!0,r,s),S=this._helper.IsTileValid(_,!0,o,s),x=this._helper.IsTileValid(G,!0,a,s),I=this._helper.IsTileValid(p,!0,i,s);return 1*(b&&S?this._helper.IsTileValid(m,!0,l,s):0)+2*b+4*(b&&x?this._helper.IsTileValid(g,!0,d,s):0)+8*S+16*x+32*(I&&S?this._helper.IsTileValid(f,!0,c,s):0)+64*I+128*(I&&x?this._helper.IsTileValid(N,!0,u,s):0)}_Get8BitTileIndex(e,t,n,s){return e===this._manager.IGNORE_INDEX||e===this._manager.EMPTY_INDEX?e:this._helper.GetTileIndex(Gw.get(e),t,n,s)}}}{const pw=self.C3;pw.Plugins.Tilemap.Patch=class{constructor(e){this._manager=e,this._mode=e.PAINT_MODE,this._mirror=0,this._flip=0,this._diagonal=0,this._indexTransformMirror=0,this._indexTransformFlip=0,this._indexTransformDiagonal=0}SetMode(e){this._mode=e}GetMode(){return this._mode}GetBrushWidth(e){return e.tileData[0].length}GetBrushHeight(e){return e.tileData.length}TransformPatch(e,t=!1,n=!1,s=0,r=0,o=0){switch(e=this._SetTransformState(0,0,s,e),this._indexTransformMirror=this._mirror,this._indexTransformFlip=this._flip,this._indexTransformDiagonal=this._diagonal,this._diagonal&&(e=this._TransposePatch(e)),this._mirror&&(e=this._MirrorPatch(e,o===this._manager.PAINT_MODE)),this._flip&&(e=this._FlipPatch(e,o===this._manager.PAINT_MODE)),e=this._SetTransformState(t?1:0,n?1:0,0,e),s){case 0:this._indexTransformMirror=this._mirror,this._indexTransformFlip=this._flip;break;case 1:this._indexTransformMirror=1^this._mirror,this._indexTransformFlip=this._flip;break;case 2:this._indexTransformMirror=1^this._mirror,this._indexTransformFlip=1^this._flip;break;case 3:this._indexTransformMirror=this._mirror,this._indexTransformFlip=1^this._flip}return this._mirror&&(e=this._MirrorPatch(e,o===this._manager.PAINT_MODE)),this._flip&&(e=this._FlipPatch(e,o===this._manager.PAINT_MODE)),e}BuildPatch(e,t,n){const s=n.tileData[0].length,r=n.tileData.length,o=Array.from({length:r},()=>new Array(s).fill(this._manager.EMPTY_INDEX)),a=this._manager.GetProbabilityTable();a.Clear();for(let e=0;e<r;e++)for(let t=0;t<s;t++){const s=n.tileData[e][t];switch(this._mode){case this._manager.PAINT_MODE:if(1===s.length){const n=s[0][0];if(n>this._manager.GetSdkIntance().GetMaxTileIndex())continue;o[e][t]=n}else{for(let[e,t]of s)e>this._manager.GetSdkIntance().GetMaxTileIndex()||("number"!=typeof t&&(t=1),a.AddItem(t,e));o[e][t]=a.Sample()}break;case this._manager.ERASE_MODE:n.tileData[e][t][0][0]===this._manager.EMPTY_INDEX?o[e][t]=this._manager.IGNORE_INDEX:o[e][t]=this._manager.EMPTY_INDEX}}return o}_SetTransformState(e,t,n,s){switch(n){case 0:this._mirror=e,this._flip=t,this._diagonal=0;break;case 1:this._mirror=1^t,this._flip=e,this._diagonal=1;break;case 2:this._mirror=1^e,this._flip=1^t,this._diagonal=0;break;case 3:this._mirror=t,this._flip=1^e,this._diagonal=1}return s}_GetTileIndexTransformation(e){if(e===this._manager.IGNORE_INDEX||e===this._manager.EMPTY_INDEX)return e;const t=globalThis.ITilemapInstance;let n=e&t.TILE_ID_MASK;return this._indexTransformDiagonal&&(n|=t.TILE_FLIPPED_DIAGONAL),this._indexTransformMirror&&(n|=t.TILE_FLIPPED_HORIZONTAL),this._indexTransformFlip&&(n|=t.TILE_FLIPPED_VERTICAL),n}_MirrorPatch(e,t){for(let t=0;t<e.length;t++)e[t].reverse();if(t){let t=e[0].length,n=e.length;for(let s=0;s<n;s++)for(let n=0;n<t;n++){const t=this._GetTileIndexTransformation(e[s][n]);e[s][n]=t}}return e}_FlipPatch(e,t){if(e.reverse(),t){let t=e[0].length,n=e.length;for(let s=0;s<n;s++)for(let n=0;n<t;n++){const t=this._GetTileIndexTransformation(e[s][n]);e[s][n]=t}}return e}_TransposePatch(e){let t=[],n=e.length,s=e[0].length;for(let r=0;r<s;r++){let s=[];for(let t=0;t<n;t++)s.push(e[t][r]);t.push(s)}return t}}}{let mw=function(e){e&&e.close&&e.close()};MaybeCloseImageBitmap=mw;const gw=self.C3,fw="video";gw.Plugins.video=class extends gw.SDKDOMPluginBase{constructor(e){super(e,fw),this._postImageBitmaps=!1,this._supportedFormats={},this._lastStateSequenceNumber=-1,this._videoState=new Map,this._runtime.AddLoadPromise(this._runtime.PostComponentMessageToDOMAsync("video","init",{isInWorker:this._runtime.IsInWorker()}).then(e=>{this._postImageBitmaps=e.postImageBitmaps,this._supportedFormats=e.supportedFormats})),this.AddElementMessageHandler("playback-event",(e,t)=>e._OnPlaybackEvent(t)),this._runtime.AddDOMComponentMessageHandler(fw,"state",e=>this._OnUpdateState(e))}Release(){super.Release()}IsPostImageBitmapsMode(){return this._postImageBitmaps}IsFormatSupported(e){return!!this._supportedFormats[e]}_OnUpdateState(e){const t=e.sequenceNumber;if(t<=this._lastStateSequenceNumber)for(const t of Object.values(e.videoData))mw(t.imageBitmap);else{this._lastStateSequenceNumber=t;for(const e of this._videoState.values())mw(e.imageBitmap);this._videoState.clear();for(const[t,n]of Object.entries(e.videoData))this._videoState.set(parseInt(t,10),n)}}_DeleteVideoState(e){this._videoState.delete(e)}GetVideoState(e){return this._videoState.get(e)||null}}}{const Nw=self.C3;Nw.Plugins.video.Type=class extends Nw.SDKTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const bw=self.C3,Sw=bw.New(bw.Rect),xw=bw.New(bw.Quad),Iw="video",yw=["webm-vp8","webm-vp9","webm-av1","mp4-h264","mp4-h265","mp4-av1"];bw.Plugins.video.Instance=class extends bw.SDKDOMInstanceBase{constructor(e,t){super(e,Iw),this._primarySrc="",this._primaryFormat="mp4-h264",this._secondarySrc="",this._secondaryFormat="webm-vp9",this._autoplay=2,this._playInBackground=!1,this._videoWasPlayingOnSuspend=!1,this._webGLTexture=null,this._currentTrigger=-1,this._isSettingSource=0,this._isPlaying=!1,this._isPaused=!1,this._hasEnded=!1,this._isLooping=!1,this._isMuted=!1,this._volume=0,t&&(this._primarySrc=t[0],this._primaryFormat=yw[t[1]],this._secondarySrc=t[2],this._secondaryFormat=yw[t[3]],this._autoplay=t[4],this._playInBackground=t[5],this.GetWorldInfo().SetVisible(t[6]));const n=this._runtime.Dispatcher();this._disposables=new bw.CompositeDisposable(bw.Disposable.From(n,"renderercontextlost",()=>this._OnRendererContextLost()),bw.Disposable.From(n,"suspend",()=>this._OnSuspend()),bw.Disposable.From(n,"resume",()=>this._OnResume())),this.CreateElement({src:this.GetVideoSource(),autoplay:this._autoplay})}Release(){this.GetPlugin()._DeleteVideoState(this.GetElementId()),this._ReleaseTexture(),super.Release()}_MaybeCreateTexture(e,t,n){if(this._webGLTexture){if(this._webGLTexture.GetWidth()===t||this._webGLTexture.GetHeight()===n)return;this._ReleaseTexture()}this._webGLTexture=e.CreateDynamicTexture(t,n,{sampling:this._runtime.GetSampling(),mipMap:!1})}_ReleaseTexture(){this._webGLTexture&&(this._runtime.GetRenderer().DeleteTexture(this._webGLTexture),this._webGLTexture=null)}GetElementState(){return{}}DbToLinearNoCap(e){return Math.pow(10,e/20)}DbToLinear(e){const t=this.DbToLinearNoCap(e);return isFinite(t)?Math.max(Math.min(t,1),0):0}LinearToDbNoCap(e){return Math.log(e)/Math.log(10)*20}LinearToDb(e){return this.LinearToDbNoCap(Math.max(Math.min(e,1),0))}GetVideoSource(){let e="";const t=this.GetPlugin();return t.IsFormatSupported(this._primaryFormat)&&this._primarySrc?e=this._primarySrc:t.IsFormatSupported(this._secondaryFormat)&&this._secondarySrc&&(e=this._secondarySrc),e&&bw.IsRelativeURL(e)?this._runtime.GetAssetManager().GetMediaFileUrl(e):e}_OnRendererContextLost(){this._webGLTexture=null}async _OnPlaybackEvent(e){const t=e.type;5===t?this._SetIsPlaying(!0):2===t?(this._SetIsPlaying(!1),this._hasEnded=!0,this._isPaused=!1):6===t&&(this._SetIsPlaying(!1),this._isPaused=!0,this._hasEnded=!1),this._currentTrigger=t,await this.TriggerAsync(bw.Plugins.video.Cnds.OnPlaybackEvent)}_SetIsPlaying(e){this._isPlaying=!!e,this._isPlaying?(this._StartTicking(),this._isPaused=!1,this._hasEnded=!1):this._StopTicking()}_OnSuspend(){this._playInBackground||this._isPlaying&&(this._videoWasPlayingOnSuspend=!0,this.PostToDOMElement("pause"))}_OnResume(){this._playInBackground||this._videoWasPlayingOnSuspend&&(this.PostToDOMElement("play"),this._videoWasPlayingOnSuspend=!1)}Draw(e){const t=this.GetWorldInfo();let n=0,s=0,r=null;const o=this.GetPlugin().IsPostImageBitmapsMode();if(o){const e=this.GetMyState();if(!e)return;r=e.imageBitmap,e.imageBitmap=null,n=e.videoWidth,s=e.videoHeight}else{const e=self.C3Video_GetElement(this.GetElementId());if(!e)return;n=e.videoWidth,s=e.videoHeight,r=e}if(n<=0||s<=0)return;this._MaybeCreateTexture(e,n,s),r&&(e.UpdateTexture(r,this._webGLTexture),o&&r.close&&r.close());const a=n/s,i=t.GetWidth(),l=t.GetHeight();let d=0,c=0,u=0,h=0;i/l>a?(u=l*a,h=l,d=Math.max(Math.floor((i-u)/2),0)):(u=i,h=i/a,c=Math.max(Math.floor((l-h)/2),0)),e.SetTexture(this._webGLTexture),Sw.setWH(t.GetX()+d,t.GetY()+c,u,h),xw.setFromRect(Sw),e.Quad(xw)}Tick(){this._runtime.UpdateRender()}GetMyState(){return this.GetPlugin().GetVideoState(this.GetElementId())}}}self.C3.Plugins.video.Cnds={IsPlaying(){return this._isPlaying},IsPaused(){return this._isPaused},HasEnded(){return this._hasEnded},IsMuted(){return this._isMuted},OnPlaybackEvent(e){return this._currentTrigger===e}};{const Ew=self.C3,Tw=["webm-vp8","webm-vp9","webm-av1","mp4-h264","mp4-h265","mp4-av1"];Ew.Plugins.video.Acts={SetSource(e,t){this._primarySrc=e,this._primaryFormat="webm-vp8",this._secondarySrc=t,this._secondaryFormat="mp4-h264",this.PostToDOMElement("set-source",{src:this.GetVideoSource()}),this._ReleaseTexture()},SetSource2(e,t,n,s){this._primarySrc=e,this._primaryFormat=Tw[t],this._secondarySrc=n,this._secondaryFormat=Tw[s],this.PostToDOMElement("set-source",{src:this.GetVideoSource()}),this._ReleaseTexture()},SetPlaybackTime(e){this.PostToDOMElement("set-playback-time",{time:e})},SetPlaybackRate(e){this.PostToDOMElement("set-playback-rate",{rate:e})},SetLooping(e){e=0!==e,this._isLooping!==e&&(this._isLooping=e,this.PostToDOMElement("set-looping",{isLooping:e}))},SetMuted(e){e=0!==e,this._isMuted!==e&&(this._isMuted=e,this.PostToDOMElement("set-muted",{isMuted:e}))},SetVolume(e){this._volume!==e&&(this._volume=e,this.PostToDOMElement("set-volume",{volume:this.DbToLinear(e)}))},Pause(){this.PostToDOMElement("pause")},Play(){this._PostToDOMElementMaybeSync("play")}}}self.C3.Plugins.video.Exps={PlaybackTime(){const e=this.GetMyState();return e?e.currentTime:0},PlaybackRate(){const e=this.GetMyState();return e?e.playbackRate:1},Duration(){const e=this.GetMyState();return e?e.duration:0},Volume(){return this._volume},VideoWidth(){const e=this.GetMyState();return e?e.videoWidth:0},VideoHeight(){const e=this.GetMyState();return e?e.videoHeight:0}};{const Cw=self.C3;Cw.Behaviors.Tween=class extends Cw.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const Mw=self.C3;Mw.Behaviors.Tween.Type=class extends Mw.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const Vw=self.C3,Bw=Vw.Behaviors.Tween,Ow=0;Bw.Instance=class extends Vw.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._allowMultiple=!1,this._enabled=!0,t&&(this._allowMultiple=!1,this._enabled=!!t[Ow]),this._activeTweens=new Map,this._disabledTweens=[],this._waitingForReleaseTweens=new Map,this._finishingTween=null,this._activeTweensJson=null,this._disabledTweensJson=null,this._waitingForReleaseTweensJson=null,this._finishingTweenName="",this._triggerTweens=[],this._afterLoad=e=>this._OnAfterLoad(),this.GetRuntime().Dispatcher().addEventListener("afterload",this._afterLoad)}Release(){this.GetRuntime().Dispatcher().removeEventListener("afterload",this._afterLoad),this._afterLoad=null,this._finishingTween&&(this.ReleaseAndCompleteTween(this._finishingTween),this._finishingTween=null),this.ReleaseAndCompleteTweens(),this._tweens=null,this.ClearDisabledList(),this._disabledTweens=null,this._ReleaseWaitingTweens(),this._waitingForReleaseTweens=null,this._triggerTweens=null,super.Release()}PushTriggerTween(e){this._triggerTweens.push(e)}PopTriggerTween(){this._triggerTweens.pop()}GetTriggerTween(){return this._triggerTweens[this._triggerTweens.length-1]}SetEnabled(e){this._enabled=!!e,e?this._waitingForReleaseTweens&&this._waitingForReleaseTweens.size&&this._StartTicking2():this._StopTicking2();for(const t of this.AllTweens())e?this.IsInDisabledList(t)&&t.Resume():((t.IsPlaying()||t.IsScheduled())&&this.AddToDisabledList(t),t.Stop());e&&this.ClearDisabledList()}IsEnabled(){return this._enabled}AddToDisabledList(e){this._disabledTweens.push(e)}IsInDisabledList(e){return this._disabledTweens.includes(e)}ClearDisabledList(){Vw.clearArray(this._disabledTweens)}GetFinishingTween(){return this._finishingTween}IsInstanceValid(){const e=this.GetObjectInstance();return!!e&&!e.IsDestroyed()}GetTween(e,t,n=!1){const s=t?this.PropertyTweens(t,n):this.AllTweens(n);if(s&&s.length)for(const t of s)if(t.HasTags(e))return t}CheckTweensWithTags(e,t){for(const n of this._activeTweens.values())for(const s of n)if(!s.IsReleased()&&s.HasTags(e)&&t(s))return!0;for(const n of this._waitingForReleaseTweens.values())for(const s of n)if(!s.IsReleased()&&s.HasTags(e)&&t(s))return!0;return!1}CheckTweens(e){for(const t of this._activeTweens.values())for(const n of t)if(!n.IsReleased()&&e(n))return!0;for(const t of this._waitingForReleaseTweens.values())for(const n of t)if(!n.IsReleased()&&e(n))return!0;return!1}GetTweenIncludingWaitingForRelease(e,t){return this.GetTween(e,t,!0)}*GetTweens(e,t,n=!1){const s=t?this.PropertyTweens(t,n):this.AllTweens(n);if(s&&s.length)for(const t of s)t.HasTags(e)&&(yield t)}*GetTweensIncludingWaitingForRelease(e,t){yield*this.GetTweens(e,t,!0)}PropertyTweens(e,t){if(t){let t=this._activeTweens.get(e),n=this._waitingForReleaseTweens.get(e);return t||(t=[]),n||(n=[]),t.concat(n).filter(e=>e).filter(e=>!e.IsReleased())}{let t=this._activeTweens.get(e);return t||(t=[]),t.filter(e=>e).filter(e=>!e.IsReleased())}}AllTweens(e){if(e){const e=[...this._activeTweens.values()].flat(),t=[...this._waitingForReleaseTweens.values()].flat();return e.concat(t).filter(e=>e).filter(e=>!e.IsReleased())}return[...this._activeTweens.values()].flat().filter(e=>e).filter(e=>!e.IsReleased())}AllTweensIncludingWaitingForRelease(){return this.AllTweens(!0)}SaveToJson(e="full"){return{s:!1,e:!!this._enabled,at:this._SaveActiveTweensToJson(),dt:this._SaveDisabledTweensToJson(),wt:this._SaveWaitingForReleaseTweensToJson(),ft:this._SaveFinishingTweenToJson()}}LoadFromJson(e,t="full"){e&&(this._activeTweensJson=e.at,this._disabledTweensJson=e.dt,this._waitingForReleaseTweensJson=e.wt,this._finishingTweenName=e.ft,this._allowMultiple=!1,this._enabled=!!e.e,"state"===t&&this._OnAfterLoad())}_OnAfterLoad(){const e=this.GetRuntime().GetTimelineManager();if(this._PopulateTweenMap(this._activeTweensJson,this._activeTweens,e),this._disabledTweensJson){Vw.clearArray(this._disabledTweens);for(const t of this._disabledTweensJson)this._PopulateTweenArray(this._disabledTweens,t,e)}this._PopulateTweenMap(this._waitingForReleaseTweensJson,this._waitingForReleaseTweens,e),this._finishingTween=this._GetTween(this._finishingTweenName,e),this._enabled?this._waitingForReleaseTweens&&this._waitingForReleaseTweens.size&&this._StartTicking2():this._StopTicking2()}_PopulateTweenMap(e,t,n){if(e)for(const s in e){let r=t.get(s);r?Vw.clearArray(r):r=[];const o=e[s];for(const e of o)if(this._PopulateTweenArray(r,e.name,n))this._LoadTweenFromJson(e.name,e,n);else{const t=Vw.TweenState.Build({runtime:this.GetRuntime(),json:e});Vw.TweenState.SetInstanceUID(t,this.GetObjectInstance().GetUID()),t.AddCompletedCallback(e=>this._FinishTriggers(e)),t.SetBehaviorInstance(this),n.AddScheduledTimeline(t),this._PopulateTweenArray(r,t,n)}t.set(s,r)}}_GetTween(e,t){return t.GetScheduledOrPlayingTimelineByName(e)}_PopulateTweenArray(e,t,n){if("string"!=typeof t)return!!e.push(t);{const s=this._GetTween(t,n);if(s)return!!e.push(s)}return!1}_LoadTweenFromJson(e,t,n){if("string"==typeof e){const s=this._GetTween(e,n);s&&(s._LoadFromJson(t),Vw.TweenState.SetInstanceUID(s,this.GetObjectInstance().GetUID()),Vw.TweenState.SetBehaviorInstance(s,this))}else e._LoadFromJson(t),Vw.TweenState.SetInstanceUID(e,this.GetObjectInstance().GetUID()),Vw.TweenState.SetBehaviorInstance(e,this)}_SaveActiveTweensToJson(){const e={};for(const[t,n]of this._activeTweens)e[t]=n.filter(e=>!e.IsReleased()).map(e=>e._SaveToJson());return e}_SaveDisabledTweensToJson(){return this._disabledTweens.filter(e=>!e.IsReleased()).map(e=>e.GetName())}_SaveWaitingForReleaseTweensToJson(){const e={};for(const[t,n]of this._waitingForReleaseTweens)e[t]=n.map(e=>e._SaveToJson());return e}_SaveFinishingTweenToJson(){return this._finishingTween?this._finishingTween.GetName():""}Tick2(){this._ReleaseWaitingTweens()}CreateTween(e){const t=Bw.Config.GetPropertyTracksConfig(e.property,e.startValue,e.endValue,e.ease,e.resultMode,this.GetObjectInstance()),n=Bw.Maps.GetPropertyFromIndex(e.property);Bw.Maps.IsValueId(n)||this.ReleaseTweens(e.property);const s=Vw.TweenState.Build({runtime:this.GetRuntime(),id:n,tags:e.tags,time:e.time,instance:this.GetObjectInstance(),releaseOnComplete:!!e.releaseOnComplete,loop:!!e.loop,pingPong:!!e.pingPong,repeatCount:e.repeatCount,initialValueMode:e.initialValueMode,propertyTracksConfig:t});return s.AddCompletedCallback(e=>this._FinishTriggers(e)),s.SetBehaviorInstance(this),this._AddTween(s,e.property),s}_MaybeRemoveFromActiveTweenMap(e){const t=e.GetId();if(this._activeTweens.has(t)){const n=this._activeTweens.get(t);if(n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}}ReleaseTween(e,t=!1){this._MaybeRemoveFromActiveTweenMap(e),e.IsReleased()||this._IsInWaitingList(e)||(e.Stop(t),this._AddToWaitingList(e))}ReleaseTweens(e,t=!1){if(Vw.IsFiniteNumber(e)){const n=Bw.Maps.GetPropertyFromIndex(e);if(!this._activeTweens.has(n))return;const s=this._activeTweens.get(n),r=this.GetFinishingTween();for(const e of s)e!==r&&(e.IsReleased()||this._IsInWaitingList(e)||(e.Stop(t),e.Release()));Vw.clearArray(s)}else{const e=this.GetFinishingTween();for(const n of this.AllTweens())n!==e&&(n.IsReleased()||this._IsInWaitingList(n)||(n.Stop(t),n.Release()));for(const e of this._activeTweens.keys())Vw.clearArray(this._activeTweens.get(e)),this._activeTweens.delete(e);this._activeTweens.clear()}}ReleaseAndCompleteTween(e){this.ReleaseTween(e,!0)}ReleaseAndCompleteTweens(){this.ReleaseTweens(NaN,!0)}GetPropertyValueByIndex(e){if(e===Ow)return this._enabled}SetPropertyValueByIndex(e,t){e===Ow&&(this._enabled=!!t)}_GetBehaviorType(e){const t=e.GetInstance().GetBehaviorInstances();for(const e of t){const t=e.GetBehaviorType();if(t.GetInstanceSdkCtor()===this.constructor)return t}}Trigger(e,t,n,s){return this._runtime?super.Trigger(e):t.Trigger(e,n,s)}_FinishTriggers(e){let t,n;if(this._finishingTween=e,Bw.Cnds.SetFinishingTween(e),this.GetRuntime())t=this._inst,n=this._runtime,this.Trigger(Bw.Cnds.OnTweensFinished),this.Trigger(Bw.Cnds.OnAnyTweensFinished),this.ReleaseTween(e);else{if(t=e.GetInstance(),!t)return;if(t&&t.IsDestroyed())return;n=t.GetRuntime();const s=this._GetBehaviorType(e);this.Trigger(Bw.Cnds.OnTweensFinished,n,t,s),this.Trigger(Bw.Cnds.OnAnyTweensFinished,n,t,s),e.Stop()}this._finishingTween=null,Bw.Cnds.SetFinishingTween(null),e.GetDestroyInstanceOnComplete()&&n.DestroyInstance(t)}_AddTween(e,t){const n=Bw.Maps.GetPropertyFromIndex(t);this._activeTweens.has(n)||this._activeTweens.set(n,[]),this._activeTweens.get(n).push(e)}_AddToWaitingList(e){const t=e.GetId();this._waitingForReleaseTweens.has(t)||this._waitingForReleaseTweens.set(t,[]),this._waitingForReleaseTweens.get(t).push(e),this.IsTicking2()||this._StartTicking2()}_IsInWaitingList(e){const t=e.GetId();return!!this._waitingForReleaseTweens.has(t)&&this._waitingForReleaseTweens.get(t).includes(e)}_ReleaseWaitingTweens(){if(this._waitingForReleaseTweens.size){for(const e of this._waitingForReleaseTweens.values()){for(const t of e)t.IsReleased()||t.Release();Vw.clearArray(e)}this._waitingForReleaseTweens.clear(),this.IsTicking2()&&this._StopTicking2()}}GetDebuggerProperties(){return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:"behaviors.tween.properties.enabled.name",value:this.IsEnabled(),onedit:e=>this.SetEnabled(e)}]}]}GetScriptInterfaceClass(){return self.ITweenBehaviorInstance}}}{const vw=self.C3;let Pw=null;vw.Behaviors.Tween.Cnds={OnAnyTweenLoop:()=>!0,OnTweensLoop(e){const t=this.GetTriggerTween();return!!t&&t.HasTags(e)},OnAnyTweenPingPong(e){const t=this.GetTriggerTween();return!!t&&(t.GetPingPongState()===e||2===e)},OnTweensPingPong(e,t){const n=this.GetTriggerTween();return!!n&&(n.GetPingPongState()===t||2===t)&&n.HasTags(e)},SetFinishingTween(e){Pw=e},OnTweensFinished:e=>Pw.HasTags(e),OnAnyTweensFinished:()=>!0,IsPlaying(e){return this.CheckTweensWithTags(e,vw.TweenState.IsPlaying)},IsAnyPlaying(){return this.CheckTweens(vw.TweenState.IsPlaying)},IsPaused(e){return this.CheckTweensWithTags(e,vw.TweenState.IsPaused)},IsAnyPaused(){return this.CheckTweens(vw.TweenState.IsPaused)},IsPingPong(e,t){return 0===t?this.CheckTweensWithTags(e,vw.TweenState.IsPing):1===t&&this.CheckTweensWithTags(e,vw.TweenState.IsPong)},IsAnyPingPong(e){return 0===e?this.CheckTweens(vw.TweenState.IsPing):1===e&&this.CheckTweens(vw.TweenState.IsPong)}}}{const ww=self.C3,Aw=self.Ease,Dw=ww.Behaviors.Tween;Dw.Acts={SetEnabled(e){this.SetEnabled(!!e)},async TweenOneProperty(...e){if(!this.IsEnabled()||!this.IsInstanceValid())return;const t=this.CreateTween(Dw.TweenArguments.OneProperty(this,...e));t.Play()&&await t.GetPlayPromise()},async TweenTwoProperties(...e){if(!this.IsEnabled()||!this.IsInstanceValid())return;const t=this.CreateTween(Dw.TweenArguments.TwoProperties(this,...e));t.Play()&&await t.GetPlayPromise()},async TweenValue(...e){if(!this.IsEnabled()||!this.IsInstanceValid())return;const t=this.CreateTween(Dw.TweenArguments.ValueProperty(this,...e));t.Play()&&await t.GetPlayPromise()},PauseTweens(e){if(this.IsEnabled()&&this.IsInstanceValid())for(const t of this.GetTweens(e))t.Stop()},PauseAllTweens(){if(this.IsEnabled()&&this.IsInstanceValid())for(const e of this.AllTweens())e.Stop()},ResumeTweens(e){if(this.IsEnabled()&&this.IsInstanceValid())for(const t of this.GetTweens(e))t.Resume()},ResumeAllTweens(){if(this.IsEnabled()&&this.IsInstanceValid())for(const e of this.AllTweens())e.Resume()},StopTweens(e){if(this.IsEnabled()&&this.IsInstanceValid())for(const t of this.GetTweens(e))this.ReleaseTween(t)},StopAllTweens(){if(this.IsEnabled()&&this.IsInstanceValid())for(const e of this.AllTweens())this.ReleaseTween(e)},SetOnePropertyTweensEndValue(e,t,n){if(!this.IsEnabled()||!this.IsInstanceValid())return;const s=ww.Behaviors.Tween.Maps.GetSinglePropertyFromIndex(t);for(const t of this.GetTweens(e))t.BeforeSetEndValues([s]),t.SetEndValue(n,s)},SetTwoPropertiesTweensEndValue(e,t,n,s){if(!this.IsEnabled()||!this.IsInstanceValid())return;const r=ww.Behaviors.Tween.Maps.GetRealProperties(t);for(const t of this.GetTweens(e))t.BeforeSetEndValues(r),t.SetEndValue(n,r[0]),t.SetEndValue(s,r[1])},SetValuePropertyTweensStartValue(e,t){if(this.IsEnabled()&&this.IsInstanceValid())for(const n of this.GetTweens(e,"value"))n.SetStartValue(t,"value")},SetValuePropertyTweensEndValue(e,t){if(this.IsEnabled()&&this.IsInstanceValid())for(const n of this.GetTweens(e,"value"))n.BeforeSetEndValues(["value"]),n.SetEndValue(t,"value")},SetTweensEase(e,t){if(!this.IsEnabled()||!this.IsInstanceValid())return;const n=Aw.GetEaseFromIndex(t);for(const t of this.GetTweens(e))t.SetEase(n)},SetAllTweensEase(e){if(!this.IsEnabled()||!this.IsInstanceValid())return;const t=Aw.GetEaseFromIndex(e);for(const e of this.AllTweens())e.SetEase(t)},SetTweensTime(e,t){if(this.IsEnabled()&&this.IsInstanceValid())for(const n of this.GetTweens(e))n.SetTime(t)},SetAllTweensTime(e){if(this.IsEnabled()&&this.IsInstanceValid())for(const t of this.AllTweens())t.SetTime(e)},SetTweensPlaybackRate(e,t){if(this.IsEnabled()&&this.IsInstanceValid())for(const n of this.GetTweens(e))n.SetPlaybackRate(t)},SetAllTweensPlaybackRate(e){if(this.IsEnabled()&&this.IsInstanceValid())for(const t of this.AllTweens())t.SetPlaybackRate(e)},SetTweensDestroyOnComplete(e,t){if(this.IsEnabled()&&this.IsInstanceValid())for(const n of this.GetTweens(e))n.SetDestroyInstanceOnComplete(!!t)},SetAllTweensDestroyOnComplete(e){if(this.IsEnabled()&&this.IsInstanceValid())for(const t of this.AllTweens())t.SetDestroyInstanceOnComplete(!!e)}}}self.C3.Behaviors.Tween.Exps={Time(e){const t=this.GetTweenIncludingWaitingForRelease(e);return t?t.GetTime():0},Progress(e){const t=this.GetTweenIncludingWaitingForRelease(e);return t?t.GetTime()/t.GetTotalTime():0},PlaybackRate(e){const t=this.GetTweenIncludingWaitingForRelease(e);return t?t.GetPlaybackRate():0},Value(e){const t=this.GetTweenIncludingWaitingForRelease(e,"value");return t?t.GetPropertyTrack("value").GetSourceAdapterValue():0},Tags(){let e=this.GetFinishingTween();return e?e.GetStringTags():(e=this.GetTriggerTween(),e?e.GetStringTags():"")}};{const Rw=self.C3,Fw=self.Ease,jw=["position","size","scale"],kw=["offsetX","offsetY","offsetWidth","offsetHeight","offsetAngle","offsetOpacity","offsetColor","offsetZElevation","offsetScaleX","offsetScaleY"],Lw=["value"],Ww=[].concat(jw).concat(kw).concat(Lw),Uw={position:["offsetX","offsetY"],size:["offsetWidth","offsetHeight"],scale:["offsetScaleX","offsetScaleY"]},Hw=Object.assign({},Ww.reduce((e,t)=>Object.assign({},e,{[t]:[t]}),{}),Uw);Rw.Behaviors.Tween.Maps=class{constructor(){}static GetEases(){return[...Fw.GetRuntimeEaseNames()]}static GetEaseFromIndex(e){return[...Fw.GetRuntimeEaseNames()][e]}static GetPropertyFromIndex(e){return Ww[e]}static GetPropertyIndexFromName(e){return Ww.indexOf(e)}static GetPairPropertyFromIndex(e){return jw[e]}static GetSinglePropertyFromIndex(e){return kw[e]}static GetValuePropertyFromIndex(e){return Lw[e]}static GetPairProperties(e){return Uw[e]}static GetRealProperties(e){return Rw.IsString(e)?Hw[e]:Hw[Ww[e]]}static IsPairId(e){return!!Uw[e]}static IsColorId(e){return"offsetColor"===e}static IsAngleId(e){return"offsetAngle"===e}static IsOpacityId(e){return"offsetOpacity"===e}static IsValueId(e){return"value"===e}}}{const zw=self.C3,Yw=zw.Behaviors.Tween,Xw=new Map;Yw.Config=class{constructor(){}static GetPropertyTracksConfig(e,t,n,s,r,o){0===Xw.size&&this._CreateConfigObjects();const a=Yw.PropertyTypes.Pick(e);let i=Xw.get(a);return zw.IsFiniteNumber(e)&&(e=Yw.Maps.GetPropertyFromIndex(e)),this._GetConfig(i,e,t,n,s,r,o)}static TransformValue(e,t){return zw.Behaviors.Tween.GetPropertyTracksConfig(e).valueGetter(t)}static _CreateConfigObjects(){const e=Yw.PropertyTypes,t=Yw.ValueGetters;this._AddConfigObject(e.PAIR,this._GetPairConfig,t._GetPropertyValue),this._AddConfigObject(e.COLOR,this._GetColorConfig,t._GetColorPropertyValue),this._AddConfigObject(e.ANGLE,this._GetAngleConfig,t._GetPropertyAngleValue),this._AddConfigObject(e.VALUE,this._GetValueConfig,t._GetPropertyValue),this._AddConfigObject(e.OTHER,this._GetCommonConfig,t._GetPropertyValue)}static _AddConfigObject(e,t,n){Xw.set(e,this._CreateConfigObject(e,t,n))}static _CreateConfigObject(e,t,n){return{name:e,configFunc:t,valueGetter:n}}static _GetConfig(e,t,n,s,r,o,a){return e.configFunc(t,e.valueGetter(n),e.valueGetter(s),r,o,a)}static _GetPairConfig(e,t,n,s,r,o){return Yw.Maps.GetPairProperties(e).map((e,o)=>({sourceId:"world-instance",property:e,type:"float",valueType:"numeric",startValue:t[o],endValue:n[o],ease:Yw.Maps.GetEaseFromIndex(s),resultMode:r}))}static _GetColorConfig(e,t,n,s,r,o){return zw.Plugins.Text&&o.GetPlugin()instanceof zw.Plugins.Text?{sourceId:"plugin",sourceArgs:[7],property:"color",type:"color",valueType:"color",startValue:t,endValue:n,ease:Yw.Maps.GetEaseFromIndex(s),resultMode:r}:{sourceId:"world-instance",property:e,type:"color",valueType:"color",startValue:t,endValue:n,ease:Yw.Maps.GetEaseFromIndex(s),resultMode:r}}static _GetAngleConfig(e,t,n,s,r,o){return{sourceId:"world-instance",property:e,type:"angle",valueType:"angle",startValue:t,endValue:n,ease:Yw.Maps.GetEaseFromIndex(s),resultMode:r}}static _GetCommonConfig(e,t,n,s,r,o){return{sourceId:"world-instance",property:e,type:"float",valueType:"numeric",startValue:t,endValue:n,ease:Yw.Maps.GetEaseFromIndex(s),resultMode:r}}static _GetValueConfig(e,t,n,s,r,o){return{sourceId:"value",property:e,type:"float",valueType:"numeric",startValue:t,endValue:n,ease:Yw.Maps.GetEaseFromIndex(s),resultMode:r}}}}{const qw=self.C3,Kw=qw.Behaviors.Tween,Jw={resultMode:"absolute"},$w=Object.assign({},Jw,{tags:"",property:"",time:0,ease:0,releaseOnComplete:0,loop:!1,pingPong:!1,repeatCount:1}),Zw=Object.assign({},$w,{initialValueMode:"current-state",startValue:0,endValue:0}),Qw=Object.assign({},$w,{initialValueMode:"current-state",startValue:[0,0],endValue:[0,0]}),eA=Object.assign({},$w,{initialValueMode:"current-state",startValue:[0,0,0],endValue:[0,0,0]}),tA=Object.assign({},Zw,{initialValueMode:"start-value"}),nA=0,sA=1,rA=0,oA=1,aA=2;Kw.TweenArguments=class{constructor(){}static _SetCommonProperties(e,t,n,s,r,o,a,i){e.tags=t,e.time=n,e.ease=s,e.releaseOnComplete=r,e.loop=o,e.pingPong=a,e.repeatCount=i}static OneProperty(e,t,n,s,r,o,a,i,l,d){const c="string"==typeof n?n:Kw.Maps.GetSinglePropertyFromIndex(n),u=Kw.Maps.IsColorId(c)?eA:Zw;return this._SetCommonProperties(u,t,r,o,a,i,l,d),Kw.Maps.IsColorId(c)?(eA.endValue[0]=qw.GetRValue(s),eA.endValue[1]=qw.GetGValue(s),eA.endValue[2]=qw.GetBValue(s),eA.property=Kw.Maps.GetPropertyIndexFromName(c)):Kw.Maps.IsOpacityId(c)?Zw.endValue=s/100:Zw.endValue=s,u.property=Kw.Maps.GetPropertyIndexFromName(c),u}static TwoProperties(e,t,n,s,r,o,a,i,l,d,c){this._SetCommonProperties(Qw,t,o,a,i,l,d,c);const u="string"==typeof n?n:Kw.Maps.GetPairPropertyFromIndex(n);return Qw.endValue[0]=s,Qw.endValue[1]=r,Qw.property=Kw.Maps.GetPropertyIndexFromName(u),Qw}static ValueProperty(e,t,n,s,r,o,a,i,l,d){return this._SetCommonProperties(tA,t,r,o,a,i,l,d),tA.startValue=n,tA.endValue=s,tA.property=Kw.Maps.GetPropertyIndexFromName("value"),tA}}}{const iA=self.C3,lA=iA.Behaviors.Tween,dA=[];lA.PropertyTypes=class{constructor(){}static Pick(e){if(0===dA.length){const e=dA;e.push({checkFunc:lA.Maps.IsPairId,result:this.PAIR}),e.push({checkFunc:lA.Maps.IsColorId,result:this.COLOR}),e.push({checkFunc:lA.Maps.IsAngleId,result:this.ANGLE}),e.push({checkFunc:lA.Maps.IsValueId,result:this.VALUE}),e.push({checkFunc:()=>!0,result:this.OTHER})}iA.IsFiniteNumber(e)&&(e=iA.Behaviors.Tween.Maps.GetPropertyFromIndex(e));for(const t of dA)if(t.checkFunc(e))return t.result}static get PAIR(){return"pair"}static get COLOR(){return"color"}static get ANGLE(){return"angle"}static get VALUE(){return"value"}static get OTHER(){return"other"}}}{const cA=self.C3,uA=cA.Behaviors.Tween;uA.ValueGetters=class{constructor(){}static _GetPropertyAngleValue(e){const t=cA.toRadians(parseFloat(e));return cA.clampAngle(t)}static _GetColorPropertyValue(e){return e.slice(0)}static _GetPropertyValue(e){return e}}}{let hA=function(e){pA.RequireString(e);const t=gA.ToInternal(e);let n;if(n=t?gA.GetIndexForEase(t,null):gA.GetIndexForEase(e,null),-1===n)throw new Error(`invalid ease name '${e}'`);return n},_A=function(e,t=!1){if(!(t&&null==e||"string"==typeof e||Array.isArray(e)))throw new Error("invalid tags")};getIndexForEase=hA,ValidateTags=_A;const GA=self.C3,pA=self.C3X,mA=self.IBehaviorInstance,gA=self.Ease,fA=GA.Behaviors.Tween,NA=new WeakMap,bA=new Map([["x",{name:"offsetX",type:"one"}],["y",{name:"offsetY",type:"one"}],["width",{name:"offsetWidth",type:"one"}],["height",{name:"offsetHeight",type:"one"}],["angle",{name:"offsetAngle",type:"one"}],["opacity",{name:"offsetOpacity",type:"one"}],["color",{name:"offsetColor",type:"color"}],["z-elevation",{name:"offsetZElevation",type:"one"}],["x-scale",{name:"offsetScaleX",type:"one"}],["y-scale",{name:"offsetScaleY",type:"one"}],["position",{name:"position",type:"two"}],["size",{name:"size",type:"two"}],["scale",{name:"scale",type:"two"}],["value",{name:"value",type:"value"}]]),SA={tags:"",destroyOnComplete:!1,loop:!1,pingPong:!1,repeatCount:1,startValue:0},xA={easeToIndexFunc:hA};self.ITweenBehaviorInstance=class extends mA{constructor(){super(),NA.set(this,mA._GetInitInst().GetSdkInstance())}startTween(e,t,n,s,r){const o=NA.get(this);if(!o.IsEnabled()||!o.IsInstanceValid())return null;const a=bA.get(e);if(!a)throw new Error("invalid tween property");"one"===a.type||"value"===a.type?pA.RequireNumber(t):(pA.RequireArray(t),"two"===a.type?(pA.RequireNumber(t[0]),pA.RequireNumber(t[1])):"color"===a.type&&(pA.RequireNumber(t[0]),pA.RequireNumber(t[1]),pA.RequireNumber(t[2]))),"angle"===e?t=GA.toDegrees(t):"opacity"===e?t*=100:"color"===e&&(t=GA.PackRGBEx(t[0],t[1],t[2]));const i=hA(s);let l;if(pA.RequireFiniteNumber(n),r=Object.assign({},SA,r),"value"===a.type&&pA.RequireNumber(r.startValue),_A(r.tags,!0),"one"===a.type||"color"===a.type?l=o.CreateTween(fA.TweenArguments.OneProperty(o,r.tags,a.name,t,n,i,!!r.destroyOnComplete,!!r.loop,!!r.pingPong,r.repeatCount)):"two"===a.type?l=o.CreateTween(fA.TweenArguments.TwoProperties(o,r.tags,a.name,t[0],t[1],n,i,!!r.destroyOnComplete,!!r.loop,!!r.pingPong,r.repeatCount)):"value"===a.type&&(l=o.CreateTween(fA.TweenArguments.ValueProperty(o,r.tags,r.startValue,t,n,i,!!r.destroyOnComplete,!!r.loop,!!r.pingPong,r.repeatCount))),l.SetBehaviorInstance(o.GetBehaviorInstance().GetSdkInstance()),!l.Play())throw new Error("failed to start tween");return l.GetITweenState(o,xA)}*allTweens(){const e=NA.get(this);for(const t of e.AllTweens())yield t.GetITweenState(e,xA)}*tweensByTags(e){_A(e);const t=NA.get(this);for(const n of t.GetTweens(e))yield n.GetITweenState(t,xA)}get isEnabled(){return NA.get(this).IsEnabled()}set isEnabled(e){NA.get(this).SetEnabled(e)}}}{const IA=self.C3;IA.Behaviors.Timer=class extends IA.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const yA=self.C3;yA.Behaviors.Timer.Type=class extends yA.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const EA=self.C3,TA=self.C3X,CA=self.IBehaviorInstance;EA.Behaviors.Timer.SingleTimer=class{constructor(e,t,n,s){this._current=EA.New(EA.KahanSum),this._current.Set(e||0),this._total=EA.New(EA.KahanSum),this._total.Set(t||0),this._duration=n||0,this._isRegular=!!s,this._isPaused=!1}GetCurrentTime(){return this._current.Get()}GetTotalTime(){return this._total.Get()}GetDuration(){return this._duration}SetPaused(e){this._isPaused=!!e}IsPaused(){return this._isPaused}Add(e){this._current.Add(e),this._total.Add(e)}HasFinished(){return this._current.Get()>=this._duration}Update(){if(this.HasFinished()){if(!this._isRegular)return!0;this._current.Subtract(this._duration)}return!1}SaveToJson(){return{c:this._current.Get(),t:this._total.Get(),d:this._duration,r:this._isRegular,p:this._isPaused}}LoadFromJson(e){this._current.Set(e.c),this._total.Set(e.t),this._duration=e.d,this._isRegular=!!e.r,this._isPaused=!!e.p}},EA.Behaviors.Timer.Instance=class extends EA.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._timers=new Map}Release(){this._timers.clear(),super.Release()}_StartTimer(e,t,n){const s=new EA.Behaviors.Timer.SingleTimer(0,0,e,n);this._timers.set(t.toLowerCase(),s),this._UpdateTickState()}_StopTimer(e){this._timers.delete(e.toLowerCase()),this._UpdateTickState()}_StopAllTimers(){this._timers.clear(),this._UpdateTickState()}_IsTimerRunning(e){return this._timers.has(e.toLowerCase())}_GetTimerCurrentTime(e){const t=this._timers.get(e.toLowerCase());return t?t.GetCurrentTime():0}_GetTimerNormalizedProgress(e){const t=this._timers.get(e.toLowerCase());return t?t.GetCurrentTime()/t.GetDuration():0}_GetTimerTotalTime(e){const t=this._timers.get(e.toLowerCase());return t?t.GetTotalTime():0}_GetTimerDuration(e){const t=this._timers.get(e.toLowerCase());return t?t.GetDuration():0}_HasTimerFinished(e){const t=this._timers.get(e.toLowerCase());return!!t&&t.HasFinished()}_SetTimerPaused(e,t){const n=this._timers.get(e.toLowerCase());n&&n.SetPaused(t)}_IsTimerPaused(e){const t=this._timers.get(e.toLowerCase());return!!t&&t.IsPaused()}_SetAllTimersPaused(e){for(const t of this._timers.values())t.SetPaused(e)}_UpdateTickState(){this._timers.size>0?(this._StartTicking(),this._StartTicking2()):(this._StopTicking(),this._StopTicking2())}SaveToJson(){const e={};for(const[t,n]of this._timers.entries())e[t]=n.SaveToJson();return e}LoadFromJson(e){this._timers.clear();for(const[t,n]of Object.entries(e)){const e=new EA.Behaviors.Timer.SingleTimer;e.LoadFromJson(n),this._timers.set(t,e)}this._UpdateTickState()}Tick(){const e=this._runtime.GetDt(this._inst);for(const[t,n]of this._timers)n.IsPaused()||(n.Add(e),n.HasFinished()&&this.DispatchScriptEvent("timer",!1,{tag:t}))}Tick2(){for(const[e,t]of this._timers.entries())t.Update()&&this._timers.delete(e)}GetDebuggerProperties(){return[{title:"behaviors.timer.debugger.timers",properties:[...this._timers.entries()].map(e=>({name:"$"+e[0],value:`${Math.round(10*e[1].GetCurrentTime())/10} / ${Math.round(10*e[1].GetDuration())/10}`}))}]}GetScriptInterfaceClass(){return self.ITimerBehaviorInstance}};const MA=["once","regular"];self.ITimerBehaviorInstance=class extends CA{#e;constructor(){super(),this.#e=CA._GetInitInst().GetSdkInstance()}startTimer(e,t,n="once"){TA.RequireFiniteNumber(e),TA.RequireString(t);const s=MA.indexOf(n);if(-1===s)throw new Error("invalid type");this.#e._StartTimer(e,t,1===s)}setTimerPaused(e,t){TA.RequireString(e),this.#e._SetTimerPaused(e,!!t)}setAllTimersPaused(e){this.#e._SetAllTimersPaused(!!e)}stopTimer(e){TA.RequireString(e),this.#e._StopTimer(e)}stopAllTimers(){this.#e._StopAllTimers()}isTimerRunning(e){return TA.RequireString(e),this.#e._IsTimerRunning(e)}isTimerPaused(e){return TA.RequireString(e),this.#e._IsTimerPaused(e)}getCurrentTime(e){return TA.RequireString(e),this.#e._GetTimerCurrentTime(e)}getNormalizedProgress(e){return TA.RequireString(e),this.#e._GetTimerNormalizedProgress(e)}getTotalTime(e){return TA.RequireString(e),this.#e._GetTimerTotalTime(e)}getDuration(e){return TA.RequireString(e),this.#e._GetTimerDuration(e)}hasFinished(e){return TA.RequireString(e),this.#e._HasTimerFinished(e)}}}self.C3.Behaviors.Timer.Cnds={OnTimer(e){return this._HasTimerFinished(e)},IsTimerRunning(e){return this._IsTimerRunning(e)},IsTimerPaused(e){return this._IsTimerPaused(e)}},self.C3.Behaviors.Timer.Acts={StartTimer(e,t,n){this._StartTimer(e,n,1===t)},StopTimer(e){this._StopTimer(e)},StopAllTimers(){this._StopAllTimers()},PauseResumeTimer(e,t){this._SetTimerPaused(e,0===t)},PauseResumeAllTimers(e){this._SetAllTimersPaused(0===e)}},self.C3.Behaviors.Timer.Exps={CurrentTime(e){return this._GetTimerCurrentTime(e)},NormalizedProgress(e){return this._GetTimerNormalizedProgress(e)},TotalTime(e){return this._GetTimerTotalTime(e)},Duration(e){return this._GetTimerDuration(e)}};{const VA=self.C3;VA.Behaviors.Sin=class extends VA.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const BA=self.C3;BA.Behaviors.Sin.Type=class extends BA.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const OA=self.C3,vA=self.C3X,PA=self.IBehaviorInstance,wA=0,AA=1,DA=2,RA=3,FA=4,jA=5,kA=6,LA=7,WA=8,UA=0,HA=1,zA=2,YA=3,XA=4,qA=5,KA=6,JA=7,$A=8,ZA=9,QA=0,eD=1,tD=2,nD=3,sD=4,rD=2*Math.PI,oD=Math.PI/2,aD=3*Math.PI/2,iD=[0,1,8,3,4,2,5,6,9,7];OA.Behaviors.Sin.Instance=class extends OA.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._i=0,this._movement=0,this._wave=0,this._period=0,this._mag=0,this._isEnabled=!0,this._basePeriod=0,this._basePeriodOffset=0,this._baseMag=0,this._periodRandom=0,this._periodOffsetRandom=0,this._magnitudeRandom=0,this._initialValue=0,this._initialValue2=0,this._lastKnownValue=0,this._lastKnownValue2=0,this._ratio=0,t&&(this._movement=iD[t[wA]],this._wave=t[AA],this._periodRandom=this._runtime.Random()*t[RA],this._basePeriod=t[DA],this._period=t[DA],this._period+=this._periodRandom,this._basePeriodOffset=t[FA],0!==this._period&&(this._periodOffsetRandom=this._runtime.Random()*t[jA],this._i=t[FA]/this._period*rD,this._i+=this._periodOffsetRandom/this._period*rD),this._magnitudeRandom=this._runtime.Random()*t[LA],this._baseMag=t[kA],this._mag=t[kA],this._mag+=this._magnitudeRandom,this._isEnabled=!!t[WA]),this._movement===qA&&(this._mag=OA.toRadians(this._mag)),this.Init(),this._isEnabled&&this._StartTicking()}Release(){super.Release()}SaveToJson(){return{i:this._i,e:this._isEnabled,mv:this._movement,w:this._wave,p:this._period,mag:this._mag,iv:this._initialValue,iv2:this._initialValue2,r:this._ratio,lkv:this._lastKnownValue,lkv2:this._lastKnownValue2}}LoadFromJson(e){this._i=e.i,this._SetEnabled(e.e),this._movement=e.mv,this._wave=e.w,this._period=e.p,this._mag=e.mag,this._initialValue=e.iv,this._initialValue2=e.iv2,this._ratio=e.r,this._lastKnownValue=e.lkv,this._lastKnownValue2=e.lkv2}Init(){const e=this._inst.GetWorldInfo();switch(this._movement){case UA:this._initialValue=e.GetX();break;case HA:this._initialValue=e.GetY();break;case zA:this._initialValue=e.GetWidth(),this._ratio=e.GetHeight()/e.GetWidth();break;case YA:this._initialValue=e.GetWidth();break;case XA:this._initialValue=e.GetHeight();break;case qA:this._initialValue=e.GetAngle();break;case KA:this._initialValue=e.GetOpacity();break;case JA:this._initialValue=0;break;case $A:this._initialValue=e.GetX(),this._initialValue2=e.GetY();break;case ZA:this._initialValue=e.GetZElevation()}this._lastKnownValue=this._initialValue,this._lastKnownValue2=this._initialValue2}WaveFunc(e){switch(e%=rD,this._wave){case QA:return Math.sin(e);case eD:return e<=oD?e/oD:e<=aD?1-2*(e-oD)/Math.PI:(e-aD)/oD-1;case tD:return 2*e/rD-1;case nD:return-2*e/rD+1;case sD:return e<Math.PI?-1:1}return 0}Tick(){const e=this._runtime.GetDt(this._inst);this._isEnabled&&0!==e&&(0===this._period?this._i=0:this._i=(this._i+e/this._period*rD)%rD,this._UpdateFromPhase())}_UpdateFromPhase(){const e=this._inst.GetWorldInfo();switch(this._movement){case UA:e.GetX()!==this._lastKnownValue&&(this._initialValue+=e.GetX()-this._lastKnownValue),e.SetX(this._initialValue+this.WaveFunc(this._i)*this._mag),this._lastKnownValue=e.GetX();break;case HA:e.GetY()!==this._lastKnownValue&&(this._initialValue+=e.GetY()-this._lastKnownValue),e.SetY(this._initialValue+this.WaveFunc(this._i)*this._mag),this._lastKnownValue=e.GetY();break;case zA:e.SetWidth(this._initialValue+this.WaveFunc(this._i)*this._mag),e.SetHeight(e.GetWidth()*this._ratio);break;case YA:e.SetWidth(this._initialValue+this.WaveFunc(this._i)*this._mag);break;case XA:e.SetHeight(this._initialValue+this.WaveFunc(this._i)*this._mag);break;case qA:e.GetAngle()!==this._lastKnownValue&&(this._initialValue=OA.clampAngle(this._initialValue+(e.GetAngle()-this._lastKnownValue))),e.SetAngle(this._initialValue+this.WaveFunc(this._i)*this._mag),this._lastKnownValue=e.GetAngle();break;case KA:e.SetOpacity(this._initialValue+this.WaveFunc(this._i)*this._mag/100);break;case $A:e.GetX()!==this._lastKnownValue&&(this._initialValue+=e.GetX()-this._lastKnownValue),e.GetY()!==this._lastKnownValue2&&(this._initialValue2+=e.GetY()-this._lastKnownValue2),e.SetX(this._initialValue+Math.cos(e.GetAngle())*this.WaveFunc(this._i)*this._mag),e.SetY(this._initialValue2+Math.sin(e.GetAngle())*this.WaveFunc(this._i)*this._mag),this._lastKnownValue=e.GetX(),this._lastKnownValue2=e.GetY();break;case ZA:e.SetZElevation(this._initialValue+this.WaveFunc(this._i)*this._mag)}e.SetBboxChanged()}_OnSpriteFrameChanged(e,t){}_SetPeriod(e){this._period=e}_GetPeriod(){return this._period}_SetMagnitude(e){this._mag=e}_SetMagnitude_ConvertAngle(e){5===this._movement&&(e=OA.toRadians(e)),this._SetMagnitude(e)}_GetMagnitude(){return this._mag}_GetMagnitude_ConvertAngle(){let e=this._GetMagnitude();return 5===this._movement&&(e=OA.toDegrees(e)),e}_SetMovement(e){5===this._movement&&5!==e&&(this._mag=OA.toDegrees(this._mag)),this._movement=e,this.Init()}_GetMovement(){return this._movement}_SetWave(e){this._wave=e}_GetWave(){return this._wave}_SetPhase(e){this._i=OA.clamp(e,0,2*Math.PI),this._UpdateFromPhase()}_GetPhase(){return this._i}_SetEnabled(e){this._isEnabled=!!e,this._isEnabled?this._StartTicking():this._StopTicking()}_IsEnabled(){return this._isEnabled}GetPropertyValueByIndex(e){switch(e){case wA:return this._movement;case AA:return this._wave;case DA:return this._basePeriod;case kA:return this._baseMag;case WA:return this._isEnabled}}SetPropertyValueByIndex(e,t){switch(e){case wA:this._movement=iD[t],this.Init();break;case AA:this._wave=t;break;case DA:this._basePeriod=t,this._period=this._basePeriod+this._periodRandom,this._isEnabled||(0!==this._period?(this._i=this._basePeriodOffset/this._period*rD,this._i+=this._periodOffsetRandom/this._period*rD):this._i=0);break;case kA:this._baseMag=t,this._mag=this._baseMag+this._magnitudeRandom,this._movement===qA&&(this._mag=OA.toRadians(this._mag));break;case WA:this._isEnabled=!!t}}GetDebuggerProperties(){const e="behaviors.sin";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".properties.enabled.name",value:this._IsEnabled(),onedit:e=>this._SetEnabled(e)},{name:e+".properties.period.name",value:this._GetPeriod(),onedit:e=>this._SetPeriod(e)},{name:e+".properties.magnitude.name",value:this._GetMagnitude_ConvertAngle(),onedit:e=>this._SetMagnitude_ConvertAngle(e)},{name:e+".debugger.value",value:this.WaveFunc(this._GetPhase())*this._GetMagnitude_ConvertAngle()}]}]}GetScriptInterfaceClass(){return self.ISineBehaviorInstance}};const lD=new WeakMap,dD=["horizontal","vertical","size","width","height","angle","opacity","value-only","forwards-backwards","z-elevation"],cD=["sine","triangle","sawtooth","reverse-sawtooth","square"];self.ISineBehaviorInstance=class extends PA{constructor(){super(),lD.set(this,PA._GetInitInst().GetSdkInstance())}set period(e){vA.RequireFiniteNumber(e),lD.get(this)._SetPeriod(e)}get period(){return lD.get(this)._GetPeriod()}set magnitude(e){vA.RequireFiniteNumber(e),lD.get(this)._SetMagnitude(e)}get magnitude(){return lD.get(this)._GetMagnitude()}set phase(e){lD.get(this)._SetPhase(e)}get phase(){return lD.get(this)._GetPhase()}set movement(e){vA.RequireString(e);const t=dD.indexOf(e);if(-1===t)throw new Error("invalid movement");lD.get(this)._SetMovement(t)}get movement(){return dD[lD.get(this)._GetMovement()]}set wave(e){vA.RequireString(e);const t=cD.indexOf(e);if(-1===t)throw new Error("invalid wave");lD.get(this)._SetWave(t)}get wave(){return cD[lD.get(this)._GetWave()]}get value(){const e=lD.get(this);return e.WaveFunc(e._GetPhase())*e._GetMagnitude()}updateInitialState(){lD.get(this).Init()}set isEnabled(e){lD.get(this)._SetEnabled(!!e)}get isEnabled(){return lD.get(this)._IsEnabled()}}}{const uD=self.C3;uD.Behaviors.Sin.Cnds={IsEnabled(){return this._IsEnabled()},CompareMovement(e){return this._GetMovement()===e},ComparePeriod(e,t){return uD.compare(this._GetPeriod(),e,t)},CompareMagnitude(e,t){return uD.compare(this._GetMagnitude_ConvertAngle(),e,t)},CompareWave(e){return this._GetWave()===e}}}self.C3.Behaviors.Sin.Acts={SetEnabled(e){this._SetEnabled(0!==e)},SetPeriod(e){this._SetPeriod(e)},SetMagnitude(e){this._SetMagnitude_ConvertAngle(e)},SetMovement(e){this._SetMovement(e)},SetWave(e){this._wave=e},SetPhase(e){const t=2*Math.PI;this._SetPhase(e*t%t)},UpdateInitialState(){this.Init()}},self.C3.Behaviors.Sin.Exps={CyclePosition(){return this._GetPhase()/(2*Math.PI)},Period(){return this._GetPeriod()},Magnitude(){return this._GetMagnitude_ConvertAngle()},Value(){return this.WaveFunc(this._GetPhase())*this._GetMagnitude_ConvertAngle()}};{const hD=self.C3;hD.Behaviors.Pin=class extends hD.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const _D=self.C3;_D.Behaviors.Pin.Type=class extends _D.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const GD=self.C3;GD.Behaviors.Pin.Instance=class extends GD.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._pinInst=null,this._pinUid=-1,this._mode="",this._propSet=new Set,this._pinDist=0,this._pinAngle=0,this._pinImagePoint=0,this._dx=0,this._dy=0,this._dWidth=0,this._dHeight=0,this._dAngle=0,this._dz=0,this._lastKnownAngle=0,this._destroy=!1,t&&(this._destroy=t[0]);const n=this._runtime.Dispatcher();this._disposables=new GD.CompositeDisposable(GD.Disposable.From(n,"instancedestroy",e=>this._OnInstanceDestroyed(e.instance)),GD.Disposable.From(n,"afterload",e=>this._OnAfterLoad()))}Release(){this._pinInst=null,super.Release()}_SetPinInst(e){e?(this._pinInst=e,this._StartTicking2()):(this._pinInst=null,this._StopTicking2())}_Pin(e,t,n){if(!e)return;const s=e.GetFirstPicked(this._inst);if(!s)return;this._mode=t,this._SetPinInst(s);const r=this._inst.GetWorldInfo(),o=s.GetWorldInfo();if("properties"===this._mode){const e=this._propSet;e.clear();for(const t of n)e.add(t);this._dx=r.GetX()-o.GetX(),this._dy=r.GetY()-o.GetY(),this._dAngle=r.GetAngle()-o.GetAngle(),this._lastKnownAngle=r.GetAngle(),this._dz=r.GetZElevation()-o.GetZElevation(),e.has("x")&&e.has("y")&&(this._pinAngle=GD.angleTo(o.GetX(),o.GetY(),r.GetX(),r.GetY())-o.GetAngle(),this._pinDist=GD.distanceTo(o.GetX(),o.GetY(),r.GetX(),r.GetY())),e.has("width-abs")?this._dWidth=r.GetWidth()-o.GetWidth():e.has("width-scale")&&(this._dWidth=r.GetWidth()/o.GetWidth()),e.has("height-abs")?this._dHeight=r.GetHeight()-o.GetHeight():e.has("height-scale")&&(this._dHeight=r.GetHeight()/o.GetHeight())}else this._pinDist=GD.distanceTo(o.GetX(),o.GetY(),r.GetX(),r.GetY())}SaveToJson(){const e=this._propSet,t=this._mode,n={uid:this._pinInst&&!this._pinInst.IsDestroyed()?this._pinInst.GetUID():-1,m:t,d:this._destroy};return"rope"===t||"bar"===t?n.pd=this._pinDist:"properties"===t&&(n.ps=[...this._propSet],e.has("imagepoint")?n.ip=this._pinImagePoint:e.has("x")&&e.has("y")?(n.pa=this._pinAngle,n.pd=this._pinDist):(e.has("x")&&(n.dx=this._dx),e.has("y")&&(n.dy=this._dy)),e.has("angle")&&(n.da=this._dAngle,n.lka=this._lastKnownAngle),(e.has("width-abs")||e.has("width-scale"))&&(n.dw=this._dWidth),(e.has("height-abs")||e.has("height-scale"))&&(n.dh=this._dHeight),e.has("z")&&(n.dz=this._dz)),n}LoadFromJson(e){const t=e.m,n=this._propSet;if(n.clear(),this._pinUid=e.uid,"number"!=typeof t){if(this._mode=t,e.hasOwnProperty("d")&&(this._destroy=!!e.d),"rope"===t||"bar"===t)this._pinDist=e.pd;else if("properties"===t){for(const t of e.ps)n.add(t);n.has("imagepoint")?this._pinImagePoint=e.ip:n.has("x")&&n.has("y")?(this._pinAngle=e.pa,this._pinDist=e.pd):(n.has("x")&&(this._dx=e.dx),n.has("y")&&(this._dy=e.dy)),n.has("angle")&&(this._dAngle=e.da,this._lastKnownAngle=e.lka||0),(n.has("width-abs")||n.has("width-scale"))&&(this._dWidth=e.dw),(n.has("height-abs")||n.has("height-scale"))&&(this._dHeight=e.dh),n.has("z")&&(this._dz=e.dz)}}else this._LoadFromJson_Legacy(e)}_LoadFromJson_Legacy(e){const t=this._propSet,n=e.msa,s=e.tsa,r=e.pa,o=e.pd;switch(e.m){case 0:this._mode="properties",t.add("x").add("y").add("angle"),this._pinAngle=r,this._pinDist=o,this._dAngle=n-s,this._lastKnownAngle=e.lka;break;case 1:this._mode="properties",t.add("x").add("y"),this._pinAngle=r,this._pinDist=o;break;case 2:this._mode="properties",t.add("angle"),this._dAngle=n-s,this._lastKnownAngle=e.lka;break;case 3:this._mode="rope",this._pinDist=e.pd;break;case 4:this._mode="bar",this._pinDist=e.pd}}_OnAfterLoad(){-1===this._pinUid?this._SetPinInst(null):(this._SetPinInst(this._runtime.GetInstanceByUID(this._pinUid)),this._pinUid=-1)}_OnInstanceDestroyed(e){this._pinInst===e&&(this._SetPinInst(null),this._destroy&&this._runtime.DestroyInstance(this._inst))}Tick2(){const e=this._pinInst;if(!e||e.IsDestroyed())return;const t=e.GetWorldInfo(),n=this._inst.GetWorldInfo(),s=this._mode;let r=!1;if("rope"===s||"bar"===s){const e=GD.distanceTo(n.GetX(),n.GetY(),t.GetX(),t.GetY());if(e>this._pinDist||"bar"===s&&e<this._pinDist){const e=GD.angleTo(t.GetX(),t.GetY(),n.GetX(),n.GetY());n.SetXY(t.GetX()+Math.cos(e)*this._pinDist,t.GetY()+Math.sin(e)*this._pinDist),r=!0}}else{const s=this._propSet;let o=0;if(s.has("imagepoint")){const[t,s]=e.GetImagePoint(this._pinImagePoint);n.EqualsXY(t,s)||(n.SetXY(t,s),r=!0)}else if(s.has("x")&&s.has("y")){const e=t.GetX()+Math.cos(t.GetAngle()+this._pinAngle)*this._pinDist,s=t.GetY()+Math.sin(t.GetAngle()+this._pinAngle)*this._pinDist;n.EqualsXY(e,s)||(n.SetXY(e,s),r=!0)}else o=t.GetX()+this._dx,s.has("x")&&o!==n.GetX()&&(n.SetX(o),r=!0),o=t.GetY()+this._dy,s.has("y")&&o!==n.GetY()&&(n.SetY(o),r=!0);s.has("angle")&&(this._lastKnownAngle!==n.GetAngle()&&(this._dAngle=GD.clampAngle(this._dAngle+(n.GetAngle()-this._lastKnownAngle))),o=GD.clampAngle(t.GetAngle()+this._dAngle),o!==n.GetAngle()&&(n.SetAngle(o),r=!0),this._lastKnownAngle=n.GetAngle()),s.has("width-abs")&&(o=t.GetWidth()+this._dWidth,o!==n.GetWidth()&&(n.SetWidth(o),r=!0)),s.has("width-scale")&&(o=t.GetWidth()*this._dWidth,o!==n.GetWidth()&&(n.SetWidth(o),r=!0)),s.has("height-abs")&&(o=t.GetHeight()+this._dHeight,o!==n.GetHeight()&&(n.SetHeight(o),r=!0)),s.has("height-scale")&&(o=t.GetHeight()*this._dHeight,o!==n.GetHeight()&&(n.SetHeight(o),r=!0)),s.has("z")&&(o=t.GetZElevation()+this._dz,o!==n.GetZElevation()&&(n.SetZElevation(o),this._runtime.UpdateRender()))}r&&n.SetBboxChanged()}GetDebuggerProperties(){const e="behaviors.pin.debugger";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".is-pinned",value:!!this._pinInst},{name:e+".pinned-uid",value:this._pinInst?this._pinInst.GetUID():0}]}]}}}self.C3.Behaviors.Pin.Cnds={IsPinned(){return!!this._pinInst},WillDestroy(){return this._destroy}},self.C3.Behaviors.Pin.Acts={PinByDistance(e,t){this._Pin(e,0===t?"rope":"bar")},PinByProperties(e,t,n,s,r,o,a){const i=[];t&&i.push("x"),n&&i.push("y"),s&&i.push("angle"),a&&i.push("z"),1===r?i.push("width-abs"):2===r&&i.push("width-scale"),1===o?i.push("height-abs"):2===o&&i.push("height-scale"),0!==i.length&&this._Pin(e,"properties",i)},PinByImagePoint(e,t,n,s,r,o){const a=["imagepoint"];n&&a.push("angle"),o&&a.push("z"),1===s?a.push("width-abs"):2===s&&a.push("width-scale"),1===r?a.push("height-abs"):2===r&&a.push("height-scale"),this._pinImagePoint=t,this._Pin(e,"properties",a)},SetPinDistance(e){"rope"!==this._mode&&"bar"!==this._mode||(this._pinDist=Math.max(e,0))},SetDestroy(e){this._destroy=e},Unpin(){this._SetPinInst(null),this._mode="",this._propSet.clear(),this._pinImagePoint=""},Pin(e,t){switch(t){case 0:this._Pin(e,"properties",["x","y","angle"]);break;case 1:this._Pin(e,"properties",["x","y"]);break;case 2:this._Pin(e,"properties",["angle"]);break;case 3:this._Pin(e,"rope");break;case 4:this._Pin(e,"bar")}}},self.C3.Behaviors.Pin.Exps={PinnedUID(){return this._pinInst?this._pinInst.GetUID():-1}};{const pD=self.C3;pD.Behaviors.DragnDrop=class extends pD.SDKBehaviorBase{constructor(e){super(e);const t=this._runtime.Dispatcher();this._disposables=new pD.CompositeDisposable(pD.Disposable.From(t,"pointerdown",e=>this._OnPointerDown(e.data)),pD.Disposable.From(t,"pointermove",e=>this._OnPointerMove(e.data)),pD.Disposable.From(t,"pointerup",e=>this._OnPointerUp(e.data,!1)),pD.Disposable.From(t,"pointercancel",e=>this._OnPointerUp(e.data,!0)))}Release(){this._disposables.Release(),this._disposables=null,super.Release()}_OnPointerDown(e){"mouse"===e.pointerType&&0!==e.button||this._OnInputDown(e.pointerId.toString(),e.pageX-this._runtime.GetCanvasClientX(),e.pageY-this._runtime.GetCanvasClientY())}_OnPointerMove(e){1&e.lastButtons&&!(1&e.buttons)?this._OnInputUp(e.pointerId.toString()):this._OnInputMove(e.pointerId.toString(),e.pageX-this._runtime.GetCanvasClientX(),e.pageY-this._runtime.GetCanvasClientY())}_OnPointerUp(e,t){"mouse"===e.pointerType&&0!==e.button||this._OnInputUp(e.pointerId.toString())}async _OnInputDown(e,t,n){const s=this.GetInstances();let r=null,o=null,a=0,i=0;for(const e of s){const s=e.GetBehaviorSdkInstanceFromCtor(pD.Behaviors.DragnDrop);if(!s.IsEnabled()||s.IsDragging()||e.IsDestroyed())continue;const l=e.GetWorldInfo(),d=l.GetLayer(),[c,u]=d.CanvasCssToLayer(t,n,l.GetTotalZElevation());if(!d.IsSelfAndParentsInteractive()||!l.ContainsPoint(c,u))continue;if(!r){r=e,o=s,a=c,i=u;continue}const h=r.GetWorldInfo();(d.GetIndex()>h.GetLayer().GetIndex()||d.GetIndex()===h.GetLayer().GetIndex()&&l.GetZIndex()>h.GetZIndex())&&(r=e,o=s,a=c,i=u)}r&&await o._OnDown(e,a,i)}_OnInputMove(e,t,n){const s=this.GetInstances();for(const r of s){const s=r.GetBehaviorSdkInstanceFromCtor(pD.Behaviors.DragnDrop);if(!s.IsEnabled()||!s.IsDragging()||s.IsDragging()&&s.GetDragSource()!==e)continue;const o=r.GetWorldInfo(),a=o.GetLayer(),[i,l]=a.CanvasCssToLayer(t,n,o.GetTotalZElevation());s._OnMove(i,l)}}async _OnInputUp(e){const t=this.GetInstances();for(const n of t){const t=n.GetBehaviorSdkInstanceFromCtor(pD.Behaviors.DragnDrop);t.IsDragging()&&t.GetDragSource()===e&&await t._OnUp()}}}}{const mD=self.C3;mD.Behaviors.DragnDrop.Type=class extends mD.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const gD=self.C3,fD=(self.C3X,self.IBehaviorInstance),ND=0,bD=1;gD.Behaviors.DragnDrop.Instance=class extends gD.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._isDragging=!1,this._dx=0,this._dy=0,this._dragSource="<none>",this._axes=0,this._isEnabled=!0,t&&(this._axes=t[ND],this._isEnabled=t[bD])}Release(){super.Release()}SaveToJson(){return{a:this._axes,e:this._isEnabled}}LoadFromJson(e){this._axes=e.a,this._isEnabled=e.e,this._isDragging=!1}_SetEnabled(e){this._isEnabled=!!e,this._isEnabled||(this._isDragging=!1)}IsEnabled(){return this._isEnabled}_SetAxes(e){this._axes=e}_GetAxes(){return this._axes}_Drop(){this._isDragging&&this._OnUp()}IsDragging(){return this._isDragging}GetDragSource(){return this._dragSource}async _OnDown(e,t,n){const s=this.GetWorldInfo();this._dx=t-s.GetX(),this._dy=n-s.GetY(),this._isDragging=!0,this._dragSource=e,this.DispatchScriptEvent("dragstart"),await this.TriggerAsync(gD.Behaviors.DragnDrop.Cnds.OnDragStart)}_OnMove(e,t){const n=this.GetWorldInfo(),s=e-this._dx,r=t-this._dy;0===this._axes?n.GetX()===s&&n.GetY()===r||(n.SetXY(s,r),n.SetBboxChanged()):1===this._axes?n.GetX()!==s&&(n.SetX(s),n.SetBboxChanged()):2===this._axes&&n.GetY()!==r&&(n.SetY(r),n.SetBboxChanged())}async _OnUp(){this._isDragging=!1,this.DispatchScriptEvent("drop"),await this.TriggerAsync(gD.Behaviors.DragnDrop.Cnds.OnDrop)}GetPropertyValueByIndex(e){switch(e){case ND:return this._GetAxes();case bD:return this.IsEnabled()}}SetPropertyValueByIndex(e,t){switch(e){case ND:this._SetAxes(t);break;case bD:this._SetEnabled(!!t)}}GetDebuggerProperties(){const e="behaviors.dragndrop",t=e+".properties.axes";let n="";return 0===this._axes?n=t+".items.both":1===this._axes?n=t+".items.horizontal-only":2===this._axes&&(n=t+".items.vertical-only"),[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".debugger.is-dragging",value:this.IsDragging()},{name:t+".name",value:[n]},{name:e+".properties.enabled.name",value:this.IsEnabled(),onedit:e=>this._SetEnabled(e)}]}]}GetScriptInterfaceClass(){return self.IDragDropBehaviorInstance}};const SD=new WeakMap,xD=["both","horizontal","vertical"];self.IDragDropBehaviorInstance=class extends fD{constructor(){super(),SD.set(this,fD._GetInitInst().GetSdkInstance())}set axes(e){const t=xD.indexOf(e);if(-1===t)throw new Error("invalid axes");SD.get(this)._SetAxes(t)}get axes(){return xD[SD.get(this)._GetAxes()]}drop(){SD.get(this)._Drop()}get isDragging(){return SD.get(this).IsDragging()}get isEnabled(){return SD.get(this).IsEnabled()}set isEnabled(e){SD.get(this)._SetEnabled(e)}}}self.C3.Behaviors.DragnDrop.Cnds={IsDragging(){return this.IsDragging()},OnDragStart:()=>!0,OnDrop:()=>!0,IsEnabled(){return this.IsEnabled()}},self.C3.Behaviors.DragnDrop.Acts={SetEnabled(e){this._SetEnabled(!!e)},SetAxes(e){this._SetAxes(e)},Drop(){this._Drop()}},self.C3.Behaviors.DragnDrop.Exps={};{const ID=self.C3;ID.Behaviors.Fade=class extends ID.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const yD=self.C3;yD.Behaviors.Fade.Type=class extends yD.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const ED=self.C3,TD=self.C3X,CD=self.IBehaviorInstance,MD=0,VD=1,BD=2,OD=3,vD=4;ED.Behaviors.Fade.Instance=class extends ED.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._fadeInTime=0,this._waitTime=0,this._fadeOutTime=0,this._destroy=!0,this._activeAtStart=!0,this._setMaxOpacity=!1,this._stage=0,this._stageTime=ED.New(ED.KahanSum),this._maxOpacity=this._inst.GetWorldInfo().GetOpacity()||1,t&&(this._fadeInTime=t[MD],this._waitTime=t[VD],this._fadeOutTime=t[BD],this._destroy=!!t[OD],this._activeAtStart=!!t[vD],this._stage=this._activeAtStart?0:3),this._activeAtStart&&(0===this._fadeInTime?(this._stage=1,0===this._waitTime&&(this._stage=2)):(this._inst.GetWorldInfo().SetOpacity(0),this._runtime.UpdateRender())),this._StartTicking()}Release(){super.Release()}SaveToJson(){return{fit:this._fadeInTime,wt:this._waitTime,fot:this._fadeOutTime,d:this._destroy,s:this._stage,st:this._stageTime.Get(),mo:this._maxOpacity}}LoadFromJson(e){this._fadeInTime=e.fit,this._waitTime=e.wt,this._fadeOutTime=e.fot,this._destroy=e.d,this._stage=e.s,this._stageTime.Set(e.st),this._maxOpacity=e.mo,3===this._stage?this._StopTicking():this._StartTicking()}Tick(){const e=this._runtime.GetDt(this._inst);this._stageTime.Add(e);const t=this._inst.GetWorldInfo();0===this._stage&&(t.SetOpacity(this._stageTime.Get()/this._fadeInTime*this._maxOpacity),this._runtime.UpdateRender(),t.GetOpacity()>=this._maxOpacity&&(t.SetOpacity(this._maxOpacity),this._stage=1,this._stageTime.Reset(),this.DispatchScriptEvent("fadeinend"),this.Trigger(ED.Behaviors.Fade.Cnds.OnFadeInEnd))),1===this._stage&&this._stageTime.Get()>=this._waitTime&&(this._stage=2,this._stageTime.Reset(),this.DispatchScriptEvent("waitend"),this.Trigger(ED.Behaviors.Fade.Cnds.OnWaitEnd)),2===this._stage&&(0!==this._fadeOutTime?(t.SetOpacity(this._maxOpacity-this._stageTime.Get()/this._fadeOutTime*this._maxOpacity),this._runtime.UpdateRender(),t.GetOpacity()<=0&&(this._stage=3,this._stageTime.Reset(),this.DispatchScriptEvent("fadeoutend"),this.Trigger(ED.Behaviors.Fade.Cnds.OnFadeOutEnd),this._destroy&&this._runtime.DestroyInstance(this._inst))):(this._stage=3,this._stageTime.Reset())),3===this._stage&&this._StopTicking()}_StartFade(){this._activeAtStart||this._setMaxOpacity||(this._maxOpacity=this._inst.GetWorldInfo().GetOpacity()||1,this._setMaxOpacity=!0),3===this._stage&&this.Start()}_RestartFade(){this.Start()}Start(){this._stage=0,this._stageTime.Reset(),0===this._fadeInTime?(this._stage=1,0===this._waitTime&&(this._stage=2)):(this._inst.GetWorldInfo().SetOpacity(0),this._runtime.UpdateRender()),this._StartTicking()}_SetFadeInTime(e){this._fadeInTime=Math.max(e,0)}_GetFadeInTime(){return this._fadeInTime}_SetWaitTime(e){this._waitTime=Math.max(e,0)}_GetWaitTime(){return this._waitTime}_SetFadeOutTime(e){this._fadeOutTime=Math.max(e,0)}_GetFadeOutTime(){return this._fadeOutTime}GetPropertyValueByIndex(e){switch(e){case MD:return this._GetFadeInTime();case VD:return this._GetWaitTime();case BD:return this._GetFadeOutTime();case OD:return this._destroy}}SetPropertyValueByIndex(e,t){switch(e){case MD:this._SetFadeInTime(t);break;case VD:this._SetWaitTime(t);break;case BD:this._SetFadeOutTime(t);break;case OD:this._destroy=!!t}}GetDebuggerProperties(){const e="behaviors.fade";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".properties.fade-in-time.name",value:this._GetFadeInTime(),onedit:e=>this._SetFadeInTime(e)},{name:e+".properties.wait-time.name",value:this._GetWaitTime(),onedit:e=>this._SetWaitTime(e)},{name:e+".properties.fade-out-time.name",value:this._GetFadeOutTime(),onedit:e=>this._SetFadeOutTime(e)},{name:e+".debugger.stage",value:[e+".debugger."+["fade-in","wait","fade-out","done"][this._stage]]}]}]}GetScriptInterfaceClass(){return self.IFadeBehaviorInstance}};const PD=new WeakMap;self.IFadeBehaviorInstance=class extends CD{constructor(){super(),PD.set(this,CD._GetInitInst().GetSdkInstance())}startFade(){PD.get(this)._StartFade()}restartFade(){PD.get(this)._RestartFade()}set fadeInTime(e){TD.RequireFiniteNumber(e),PD.get(this)._SetFadeInTime(e)}get fadeInTime(){return PD.get(this)._GetFadeInTime()}set waitTime(e){TD.RequireFiniteNumber(e),PD.get(this)._SetWaitTime(e)}get waitTime(){return PD.get(this)._GetWaitTime()}set fadeOutTime(e){TD.RequireFiniteNumber(e),PD.get(this)._SetFadeOutTime(e)}get fadeOutTime(){return PD.get(this)._GetFadeOutTime()}}}self.C3.Behaviors.Fade.Cnds={OnFadeOutEnd:()=>!0,OnFadeInEnd:()=>!0,OnWaitEnd:()=>!0},self.C3.Behaviors.Fade.Acts={StartFade(){this._StartFade()},RestartFade(){this._RestartFade()},SetFadeInTime(e){this._SetFadeInTime(e)},SetWaitTime(e){this._SetWaitTime(e)},SetFadeOutTime(e){this._SetFadeOutTime(e)}},self.C3.Behaviors.Fade.Exps={FadeInTime(){return this._GetFadeInTime()},WaitTime(){return this._GetWaitTime()},FadeOutTime(){return this._GetFadeOutTime()}};{const wD=self.C3;wD.Behaviors.Bullet=class extends wD.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const AD=self.C3;AD.Behaviors.Bullet.Type=class extends AD.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const DD=self.C3,RD=self.C3X,FD=self.IBehaviorInstance,jD=0,kD=1,LD=2,WD=3,UD=4,HD=5,zD=6;DD.Behaviors.Bullet.Instance=class extends DD.SDKBehaviorInstanceBase{constructor(e,t){super(e);const n=this.GetWorldInfo();this._speed=0,this._acc=0,this._g=0,this._bounceOffSolid=!1,this._setAngle=!1,this._isStepping=!1,this._isEnabled=!0,this._dx=0,this._dy=0,this._lastX=n.GetX(),this._lastY=n.GetY(),this._lastKnownAngle=n.GetAngle(),this._travelled=0,this._stepSize=Math.min(Math.abs(n.GetWidth()),Math.abs(n.GetHeight())/2),this._stopStepping=!1,t&&(this._speed=t[jD],this._acc=t[kD],this._g=t[LD],this._bounceOffSolid=!!t[WD],this._setAngle=!!t[UD],this._isStepping=!!t[HD],this._isEnabled=!!t[zD]);const s=n.GetAngle();this._dx=Math.cos(s)*this._speed,this._dy=Math.sin(s)*this._speed,this._isEnabled&&(this._StartTicking(),this._bounceOffSolid&&this._StartPostTicking())}Release(){super.Release()}SaveToJson(){const e={dx:this._dx,dy:this._dy,lx:this._lastX,ly:this._lastY,lka:this._lastKnownAngle,t:this._travelled};return 0!==this._acc&&(e.acc=this._acc),0!==this._g&&(e.g=this._g),this._isStepping&&(e.st=this._isStepping),this._isEnabled||(e.e=this._isEnabled),this._bounceOffSolid&&(e.bos=this._bounceOffSolid),this._setAngle&&(e.sa=this._setAngle),e}LoadFromJson(e){this._dx=e.dx,this._dy=e.dy,this._lastX=e.lx,this._lastY=e.ly,this._lastKnownAngle=e.lka,this._travelled=e.t,this._acc=e.hasOwnProperty("acc")?e.acc:0,this._g=e.hasOwnProperty("g")?e.g:0,this._isStepping=!!e.hasOwnProperty("st")&&e.st,this._bounceOffSolid=!!e.hasOwnProperty("bos")&&e.bos,this._setAngle=!!e.hasOwnProperty("sa")&&e.sa,this._SetEnabled(!e.hasOwnProperty("e")||e.e)}Tick(){if(!this._isEnabled)return;const e=this._runtime.GetDt(this._inst),t=this._inst.GetWorldInfo();if(t.GetAngle()!==this._lastKnownAngle){const e=t.GetAngle();if(this._setAngle){const t=DD.distanceTo(0,0,this._dx,this._dy);this._dx=Math.cos(e)*t,this._dy=Math.sin(e)*t}this._lastKnownAngle=e}let n=0,s=0;if(0!==this._acc){let r=DD.distanceTo(0,0,this._dx,this._dy),o=0;o=0===this._dx&&0===this._dy?t.GetAngle():DD.angleTo(0,0,this._dx,this._dy),r+=this._acc*e,n=Math.cos(o)*this._acc,s=Math.sin(o)*this._acc,r<0&&(r=0,n=0,s=0),this._dx=Math.cos(o)*r,this._dy=Math.sin(o)*r}if(0!==this._g&&(this._dy+=this._g*e,s+=this._g),this._lastX=t.GetX(),this._lastY=t.GetY(),0!==this._dx||0!==this._dy){const r=this._dx*e+.5*n*e*e,o=this._dy*e+.5*s*e*e,a=DD.distanceTo(0,0,r,o);if(this._MoveBy(r,o,a),this._travelled+=a,this._setAngle&&(0!==r||0!==o)){const e=DD.angleTo(0,0,r,o);t.SetAngle(e),this._lastKnownAngle=t.GetAngle()}t.SetBboxChanged()}}_MoveBy(e,t,n){const s=this.GetWorldInfo();if(!this._isStepping||n<=this._stepSize)return s.OffsetXY(e,t),s.SetBboxChanged(),void(this._isStepping&&this.Trigger(DD.Behaviors.Bullet.Cnds.OnStep));this._stopStepping=!1;const r=s.GetX(),o=s.GetY(),a=r+e,i=o+t,l=DD.angleTo(0,0,e,t),d=Math.cos(l)*this._stepSize,c=Math.sin(l)*this._stepSize,u=Math.floor(n/this._stepSize);for(let e=1;e<=u;++e)if(s.SetXY(r+d*e,o+c*e),s.SetBboxChanged(),this.Trigger(DD.Behaviors.Bullet.Cnds.OnStep),this._inst.IsDestroyed()||this._stopStepping)return;s.SetXY(a,i),s.SetBboxChanged(),this.Trigger(DD.Behaviors.Bullet.Cnds.OnStep)}PostTick(){if(!this._isEnabled||!this._bounceOffSolid||0===this._dx&&0===this._dy)return;const e=this._runtime.GetDt(this._inst),t=this._inst.GetWorldInfo(),n=this._runtime.GetCollisionEngine(),s=n.TestOverlapSolid(this._inst);if(s){n.RegisterCollision(this._inst,s);const r=DD.distanceTo(0,0,this._dx,this._dy),o=n.CalculateBounceAngle(this._inst,this._lastX,this._lastY);this._dx=Math.cos(o)*r,this._dy=Math.sin(o)*r,t.OffsetXY(this._dx*e,this._dy*e),t.SetBboxChanged(),this._setAngle&&(t.SetAngle(o),this._lastKnownAngle=t.GetAngle(),t.SetBboxChanged()),n.PushOutSolid(this._inst,this._dx/r,this._dy/r,Math.max(2.5*r*e,30))||n.PushOutSolidNearest(this._inst,100)}}GetPropertyValueByIndex(e){switch(e){case jD:return this._GetSpeed();case kD:return this._GetAcceleration();case LD:return this._GetGravity();case UD:return this._setAngle;case HD:return this._isStepping;case zD:return this._IsEnabled()}}SetPropertyValueByIndex(e,t){switch(e){case jD:this._SetSpeed(t);break;case kD:this._acc=t;break;case LD:this._g=t;break;case UD:this._setAngle=!!t;break;case HD:this._isStepping=!!t;break;case zD:this._SetEnabled(!!t)}}_SetSpeed(e){const t=DD.angleTo(0,0,this._dx,this._dy);this._dx=Math.cos(t)*e,this._dy=Math.sin(t)*e}_GetSpeed(){return DD.roundToDp(DD.distanceTo(0,0,this._dx,this._dy),6)}_SetAcceleration(e){this._acc=e}_GetAcceleration(){return this._acc}_SetGravity(e){this._g=e}_GetGravity(){return this._g}_SetAngleOfMotion(e){const t=DD.distanceTo(0,0,this._dx,this._dy);this._dx=Math.cos(e)*t,this._dy=Math.sin(e)*t}_GetAngleOfMotion(){return DD.angleTo(0,0,this._dx,this._dy)}_SetBounceOffSolids(e){e=!!e,this._bounceOffSolid!==e&&(this._bounceOffSolid=e,this._isEnabled&&(this._bounceOffSolid?this._StartPostTicking():this._StopPostTicking()))}_IsBounceOffSolids(){return this._bounceOffSolid}_SetDistanceTravelled(e){this._travelled=e}_GetDistanceTravelled(){return this._travelled}_SetEnabled(e){this._isEnabled=!!e,this._isEnabled?(this._StartTicking(),this._bounceOffSolid&&this._StartPostTicking()):(this._StopTicking(),this._StopPostTicking())}_IsEnabled(){return this._isEnabled}GetDebuggerProperties(){const e="behaviors.bullet";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".debugger.vector-x",value:this._dx,onedit:e=>this._dx=e},{name:e+".debugger.vector-y",value:this._dy,onedit:e=>this._dy=e},{name:e+".properties.speed.name",value:this._GetSpeed(),onedit:e=>this._SetSpeed(e)},{name:e+".debugger.angle-of-motion",value:DD.toDegrees(this._GetAngleOfMotion())},{name:e+".properties.gravity.name",value:this._GetGravity(),onedit:e=>this._SetGravity(e)},{name:e+".properties.acceleration.name",value:this._GetAcceleration(),onedit:e=>this._SetAcceleration(e)},{name:e+".debugger.distance-travelled",value:this._GetDistanceTravelled()},{name:e+".properties.enabled.name",value:this._IsEnabled(),onedit:e=>this._SetEnabled(e)}]}]}GetScriptInterfaceClass(){return self.IBulletBehaviorInstance}};const YD=new WeakMap;self.IBulletBehaviorInstance=class extends FD{constructor(){super(),YD.set(this,FD._GetInitInst().GetSdkInstance())}get speed(){return YD.get(this)._GetSpeed()}set speed(e){RD.RequireFiniteNumber(e),YD.get(this)._SetSpeed(e)}get acceleration(){return YD.get(this)._GetAcceleration()}set acceleration(e){RD.RequireFiniteNumber(e),YD.get(this)._SetAcceleration(e)}get gravity(){return YD.get(this)._GetGravity()}set gravity(e){RD.RequireFiniteNumber(e),YD.get(this)._SetGravity(e)}get angleOfMotion(){return YD.get(this)._GetAngleOfMotion()}set angleOfMotion(e){RD.RequireFiniteNumber(e),YD.get(this)._SetAngleOfMotion(e)}get bounceOffSolids(){return YD.get(this)._IsBounceOffSolids()}set bounceOffSolids(e){YD.get(this)._SetBounceOffSolids(!!e)}get distanceTravelled(){return YD.get(this)._GetDistanceTravelled()}set distanceTravelled(e){RD.RequireFiniteNumber(e),YD.get(this)._SetDistanceTravelled(e)}get isEnabled(){return YD.get(this)._IsEnabled()}set isEnabled(e){YD.get(this)._SetEnabled(e)}}}{const XD=self.C3;XD.Behaviors.Bullet.Cnds={CompareSpeed(e,t){const n=Math.hypot(this._dx,this._dy);return XD.compare(n,e,t)},CompareTravelled(e,t){return XD.compare(this._GetDistanceTravelled(),e,t)},OnStep:()=>!0,IsEnabled(){return this._IsEnabled()}}}{const qD=self.C3;qD.Behaviors.Bullet.Acts={SetSpeed(e){this._SetSpeed(e)},SetAcceleration(e){this._SetAcceleration(e)},SetGravity(e){this._SetGravity(e)},SetAngleOfMotion(e){this._SetAngleOfMotion(qD.toRadians(e))},Bounce(e){if(!e)return;const t=e.GetFirstPicked(this._inst);if(!t)return;const n=this._inst.GetWorldInfo(),s=this._runtime.GetCollisionEngine(),r=this._runtime.GetDt(this._inst),o=qD.distanceTo(0,0,this._dx,this._dy),a=s.CalculateBounceAngle(this._inst,this._lastX,this._lastY,t);this._dx=Math.cos(a)*o,this._dy=Math.sin(a)*o,n.OffsetXY(this._dx*r,this._dy*r),n.SetBboxChanged(),this._setAngle&&(n.SetAngle(a),this._lastKnownAngle=n.GetAngle(),n.SetBboxChanged()),0!==o&&(this._bounceOffSolid?s.PushOutSolid(this._inst,this._dx/o,this._dy/o,Math.max(2.5*o*r,30))||s.PushOutSolidNearest(this._inst,100):s.PushOut(this._inst,this._dx/o,this._dy/o,Math.max(2.5*o*r,30),t))},SetBounceOffSolids(e){this._SetBounceOffSolids(e)},SetDistanceTravelled(e){this._SetDistanceTravelled(e)},SetEnabled(e){this._SetEnabled(e)},StopStepping(){this._stopStepping=!0}}}{const KD=self.C3;KD.Behaviors.Bullet.Exps={Speed(){return this._GetSpeed()},Acceleration(){return this._GetAcceleration()},AngleOfMotion(){return KD.toDegrees(this._GetAngleOfMotion())},DistanceTravelled(){return this._GetDistanceTravelled()},Gravity(){return this._GetGravity()}}}{const JD=self.C3;JD.Behaviors.Platform=class extends JD.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const $D=self.C3;$D.Behaviors.Platform.Type=class extends $D.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{let ZD=function(e,t,n,s,r){const o=t*r,a=n*r;return QD.clamp(e*r+.5*s*r*r,o,a)};accelerate=ZD;const QD=self.C3,eR=self.C3X,tR=self.IBehaviorInstance,nR=0,sR=1,rR=2,oR=3,aR=4,iR=5,lR=6,dR=7,cR=8,uR=9,hR=.05;QD.Behaviors.Platform.Instance=class extends QD.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._keyboardDisposables=null,this._leftKey=!1,this._rightKey=!1,this._jumpKey=!1,this._jumped=!1,this._doubleJumped=!1,this._canDoubleJump=!1,this._ignoreInput=!1,this._simLeft=!1,this._simRight=!1,this._simJump=!1,this._lastFloorObject=null,this._loadFloorUid=-1,this._lastFloorX=0,this._lastFloorY=0,this._floorIsJumpthru=!1,this._wasOnFloor=!1,this._wasOverJumpthru=this._runtime.GetCollisionEngine().TestOverlapJumpthru(this._inst),this._loadJumpthruUid=-1,this._animMode="stopped",this._fallThroughTime=-1,this._isFirstTick=!0,this._dx=0,this._dy=0,this._downX=0,this._downY=0,this._rightX=0,this._rightY=0,this._g=1500,this._g1=1500,this._ga=QD.toRadians(90),this._maxSpeed=330,this._acc=1500,this._dec=1500,this._jumpStrength=650,this._maxFall=1e3,this._enableDoubleJump=!1,this._jumpSustain=0,this._sustainTime=0,this._defaultControls=!0,this._ceilingCollisionMode=0,this._isEnabled=!0,t&&(this._maxSpeed=t[nR],this._acc=t[sR],this._dec=t[rR],this._jumpStrength=t[oR],this._g=t[aR],this._maxFall=t[iR],this._enableDoubleJump=!!t[lR],this._jumpSustain=t[dR]/1e3,this._defaultControls=!!t[cR],this._isEnabled=!!t[uR]);const n=this._runtime.Dispatcher();this._disposables=new QD.CompositeDisposable(QD.Disposable.From(n,"instancedestroy",e=>this._OnInstanceDestroyed(e.instance)),QD.Disposable.From(n,"afterload",e=>this._OnAfterLoad())),this._defaultControls&&this._BindEvents(),this._isEnabled&&this._StartPostTicking(),this._UpdateGravity()}Release(){this._keyboardDisposables&&(this._keyboardDisposables.Release(),this._keyboardDisposables=null),this._lastFloorObject=null,this._wasOverJumpthru=null,super.Release()}_BindEvents(){if(this._keyboardDisposables)return;const e=this._runtime.Dispatcher();this._keyboardDisposables=new QD.CompositeDisposable(QD.Disposable.From(e,"keydown",e=>this._OnKeyDown(e.data)),QD.Disposable.From(e,"keyup",e=>this._OnKeyUp(e.data)),QD.Disposable.From(e,"window-blur",()=>this._OnWindowOrKeyboardBlur()),QD.Disposable.From(e,"keyboard-blur",()=>this._OnWindowOrKeyboardBlur()))}_UnBindEvents(){this._keyboardDisposables&&(this._keyboardDisposables.Release(),this._keyboardDisposables=null)}_OnInstanceDestroyed(e){this._lastFloorObject===e&&(this._lastFloorObject=null),this._wasOverJumpthru===e&&(this._wasOverJumpthru=null)}_OnKeyDown(e){switch(e.key){case"ArrowLeft":this._leftKey=!0;break;case"ArrowRight":this._rightKey=!0;break;case"ArrowUp":this._jumpKey=!0}}_OnKeyUp(e){switch(e.key){case"ArrowLeft":this._leftKey=!1;break;case"ArrowRight":this._rightKey=!1;break;case"ArrowUp":this._jumpKey=!1,this._jumped=!1}}_OnWindowOrKeyboardBlur(){this._leftKey=!1,this._rightKey=!1,this._jumpKey=!1,this._jumped=!1}SaveToJson(){return{ii:this._ignoreInput,lfx:this._lastFloorX,lfy:this._lastFloorY,lfo:this._lastFloorObject?this._lastFloorObject.GetUID():-1,am:this._animMode,en:this._isEnabled,fallt:this._fallThroughTime,ft:this._isFirstTick,dx:this._dx,dy:this._dy,ms:this._maxSpeed,acc:this._acc,dec:this._dec,js:this._jumpStrength,g:this._g,g1:this._g1,mf:this._maxFall,wof:this._wasOnFloor,woj:this._wasOverJumpthru?this._wasOverJumpthru.GetUID():-1,ga:this._ga,edj:this._enableDoubleJump,cdj:this._canDoubleJump,dj:this._doubleJumped,sus:this._jumpSustain,dc:this._defaultControls,cc:this._ceilingCollisionMode}}LoadFromJson(e){this._ignoreInput=e.ii,this._lastFloorX=e.lfx,this._lastFloorY=e.lfy,this._loadFloorUid=e.lfo,this._animMode=e.am;const t=e.en;this._fallThroughTime=e.fallt||-1,this._isFirstTick=e.ft,this._dx=e.dx,this._dy=e.dy,this._maxSpeed=e.ms,this._acc=e.acc,this._dec=e.dec,this._jumpStrength=e.js,this._g=e.g,this._g1=e.g1,this._maxFall=e.mf,this._wasOnFloor=e.wof,this._loadJumpthruUid=e.woj,this._ga=e.ga,this._enableDoubleJump=e.edj,this._canDoubleJump=e.cdj,this._doubleJumped=e.dj,this._jumpSustain=e.sus,this._defaultControls=e.dc,this._ceilingCollisionMode=e.cc||0,this._leftKey=!1,this._rightKey=!1,this._jumpKey=!1,this._jumped=!1,this._simLeft=!1,this._simRight=!1,this._simJump=!1,this._sustainTime=0,this._defaultControls?this._BindEvents():this._UnBindEvents(),this._SetEnabled(t),this._UpdateGravity()}_OnAfterLoad(){-1===this._loadFloorUid?this._lastFloorObject=null:this._lastFloorObject=this._runtime.GetInstanceByUID(this._loadFloorUid),-1===this._loadJumpthruUid?this._wasOverJumpthru=null:this._wasOverJumpthru=this._runtime.GetInstanceByUID(this._loadJumpthruUid)}_SetLastFloorObject(e){if(this._lastFloorObject=e,e){const t=e.GetWorldInfo();this._lastFloorX=t.GetX(),this._lastFloorY=t.GetY()}}_IsFallThroughEnabled(){return this._runtime.GetGameTime()>this._fallThroughTime+hR}_UpdateGravity(){this._downX=Math.cos(this._ga),this._downY=Math.sin(this._ga),this._rightX=Math.cos(this._ga-Math.PI/2),this._rightY=Math.sin(this._ga-Math.PI/2),this._downX=QD.roundToDp(this._downX,6),this._downY=QD.roundToDp(this._downY,6),this._rightX=QD.roundToDp(this._rightX,6),this._rightY=QD.roundToDp(this._rightY,6),this._g1=this._g,this._g<0&&(this._downX*=-1,this._downY*=-1,this._g=Math.abs(this._g))}_GetGDir(){return this._g<0?-1:1}_IsOnFloor(){const e=this._inst.GetWorldInfo(),t=this._runtime.GetCollisionEngine(),n=this._inst,s=this._lastFloorObject,r=e.GetX(),o=e.GetY();if(e.OffsetXY(this._downX,this._downY),e.SetBboxChanged(),!s||!t.TestOverlap(n,s)||s.GetObjectClass().HasSolidBehavior()&&!t.IsSolidCollisionAllowed(s,n)||s.GetObjectClass().HasJumpthruBehavior()&&!s._IsJumpthruEnabled()){let s=t.TestOverlapSolid(n),a=null;if(!s&&this._IsFallThroughEnabled()&&(a=t.TestOverlapJumpthru(n,!0)),e.SetXY(r,o),e.SetBboxChanged(),s)return t.TestOverlap(n,s)?null:(this._floorIsJumpthru=!1,s);if(a&&a.length){let e=0;for(let s=0,r=a.length;s<r;++s)a[e]=a[s],t.TestOverlap(n,a[s])||++e;if(e>=1)return this._floorIsJumpthru=!0,a[0]}return null}return e.SetXY(r,o),e.SetBboxChanged(),s}PostTick(){if(!this._isEnabled)return;const e=this._runtime.GetDt(this._inst);this._jumpKey||this._simJump||(this._jumped=!1);let t=this._leftKey||this._simLeft,n=this._rightKey||this._simRight,s=this._jumpKey||this._simJump,r=s&&!this._jumped;this._simLeft=!1,this._simRight=!1,this._simJump=!1,this._ignoreInput&&(t=!1,n=!1,s=!1,r=!1),s||(this._sustainTime=0),this._HandleFirstTick();const[o,a,i]=this._TrackMovingPlatform();let l=this._IsOnFloor();const d=l&&!this._wasOnFloor;let c=!1;if([c,l]=this._MaybePushOutSolid(l),c)return;this._TrackFloor(l,i,o,s),r=this._HandleJump(l,r,s),l||this._HandleAirTime(r,s,e),this._wasOnFloor=!!l;const u=this._CalculateHorizontalAcceleration(t,n);let h=!1,_=0;if(0!==this._dx&&([h,l]=this._HandleHorizontalMovement(e,u,l,r)),0!==this._dy){const[t,n]=this._HandleVerticalMovement(e,l);h=h||t,_=n}!h&&d&&this._dy<0&&_>0&&(this._dy=0,h=!0),this._ApplyHorizontalAcceleration(t,n,u,e),l&&!r||h||(this._dy=Math.min(this._dy+this._g*e,this._maxFall)),this._HandleAnimationTriggers(l,h,r),this._wasOverJumpthru=this._runtime.GetCollisionEngine().TestOverlapJumpthru(this._inst)}_HandleFirstTick(){if(!this._isFirstTick)return;const e=this._inst,t=this._runtime.GetCollisionEngine();(t.TestOverlapSolid(e)||t.TestOverlapJumpthru(e))&&t.PushOutSolid(e,-this._downX,-this._downY,4,!0),this._isFirstTick=!1}_TrackMovingPlatform(){const e=this._lastFloorObject,t=e?e.GetWorldInfo():null;let n=0,s=0,r=!1;if(e&&0===this._dy&&(t.GetY()!==this._lastFloorY||t.GetX()!==this._lastFloorX)){const e=this._inst,o=e.GetWorldInfo(),a=this._runtime.GetCollisionEngine(),i=t.GetX(),l=t.GetY();n=i-this._lastFloorX,s=l-this._lastFloorY,o.OffsetXY(n,s),o.SetBboxChanged(),this._lastFloorX=i,this._lastFloorY=l,r=!0;const d=a.TestOverlapSolid(e);d&&(a.RegisterCollision(e,d),a.PushOutSolid(e,-n,-s,2.5*QD.hypot2DFast(n,s)))}return[n,s,r]}_MaybePushOutSolid(e){let t=!1;const n=this._inst,s=n.GetWorldInfo(),r=this._runtime.GetCollisionEngine(),o=r.TestOverlapSolid(n);if(!o)return[!1,e];const a=Math.abs(s.GetWidth()),i=Math.abs(s.GetHeight());return r.PushOutSolid(n,-this._downX,-this._downY,i/8)?(r.RegisterCollision(n,o),e=o,this._SetLastFloorObject(o),this._floorIsJumpthru=!1,this._dy=0):r.PushOutSolidAxis(n,this._rightX,this._rightY,a/2)||r.PushOutSolidAxis(n,this._downX,this._downY,i/2)||r.PushOutSolidNearest(n,Math.max(a,i)/2)?r.RegisterCollision(n,o):t=!0,[t,e]}_TrackFloor(e,t,n,s){const r=this._inst,o=this._runtime.GetCollisionEngine();if(e){const s=this._downX,a=this._downY,i=this._rightX,l=this._rightY;if(this._doubleJumped=!1,this._canDoubleJump=!1,this._dy>0&&(this._wasOnFloor||(o.PushInFractional(r,-s,-a,e,16),this._wasOnFloor=!0),this._dy=0),this._lastFloorObject!==e)this._SetLastFloorObject(e),o.RegisterCollision(r,e);else if(t){const e=o.TestOverlapSolid(r);e&&(o.RegisterCollision(r,e),0!==n&&(n>0?o.PushOutSolid(r,-i,-l):o.PushOutSolid(r,i,l)),o.PushOutSolid(r,-s,-a))}}else s||(this._canDoubleJump=!0)}_HandleJump(e,t,n){if(e&&t||!e&&this._enableDoubleJump&&n&&this._canDoubleJump&&!this._doubleJumped){const n=this._inst,s=n.GetWorldInfo(),r=this._runtime.GetCollisionEngine(),o=s.GetX(),a=s.GetY();s.OffsetXY(-this._downX,-this._downY),s.SetBboxChanged(),r.TestOverlapSolid(n)?t=!1:(this._sustainTime=this._jumpSustain,this.Trigger(QD.Behaviors.Platform.Cnds.OnJump),this._animMode="jumping",this._dy=-this._jumpStrength,t=!0,e?this._jumped=!0:this._doubleJumped=!0),s.SetXY(o,a),s.SetBboxChanged()}return t}_HandleAirTime(e,t,n){t&&this._sustainTime>0?(this._dy=-this._jumpStrength,this._sustainTime-=n):this._lastFloorObject=null,e&&(this._jumped=!0)}_CalculateHorizontalAcceleration(e,t){let n=0;const s=this._acc,r=this._dec;return e&&!t&&(n=this._dx>0?-(s+r):-s),t&&!e&&(n=this._dx<0?s+r:s),n}_ApplyHorizontalAcceleration(e,t,n,s){const r=this._dec;e===t&&(this._dx<0?this._dx=Math.min(this._dx+r*s,0):this._dx>0&&(this._dx=Math.max(this._dx-r*s,0))),this._dx=QD.clamp(this._dx+n*s,-this._maxSpeed,this._maxSpeed);const o=this._runtime.GetCollisionEngine(),a=this._dx<0?this._GetWallObstacle(0,1,1):null;if(a)this._dx=0,o.RegisterCollision(this._inst,a);else{const e=this._dx>0?this._GetWallObstacle(1,1,1):null;e&&(this._dx=0,o.RegisterCollision(this._inst,e))}}_HandleHorizontalMovement(e,t,n,s){const r=this._inst,o=r.GetWorldInfo(),a=this._runtime.GetCollisionEngine(),i=this._downX,l=this._downY,d=this._rightX,c=this._rightY,u=this._maxSpeed;let h=!1;const _=new Set(a.TestOverlapJumpthru(r,!0));let G=o.GetX(),p=o.GetY();const m=ZD(this._dx,-u,u,t,e)*d,g=ZD(this._dx,-u,u,t,e)*c;o.OffsetXY(d*(this._dx>1?1:-1)-i,c*(this._dx>1?1:-1)-l),o.SetBboxChanged();let f=!1;const N=a.TestOverlapSolid(r);o.SetXY(G+m,p+g),o.SetBboxChanged();let b=a.TestOverlapSolid(r);if(!b&&n&&this._floorIsJumpthru&&(b=a.TestOverlapJumpthru(r),_.has(b)?b=null:f=!0),b){let t=Math.abs(this._dx*e)+2;N||!a.PushOutSolid(r,-i,-l,t,f,b)?(a.RegisterCollision(r,b),t=Math.max(Math.abs(this._dx*e*2.5),Math.floor(o.GetWidth())),a.PushOutSolid(r,d*(this._dx<0?1:-1),c*(this._dx<0?1:-1),t,!1)?!n||f||this._floorIsJumpthru||(G=o.GetX(),p=o.GetY(),o.OffsetXY(i,l),a.TestOverlapSolid(r)&&a.PushOutSolid(r,-i,-l,3,!1)||(o.SetXY(G,p),o.SetBboxChanged())):(o.SetXY(G,p),o.SetBboxChanged()),f||(this._dx=0)):!N&&!s&&Math.abs(this._dy)<Math.abs(this._jumpStrength/4)&&(this._dy=0,n||(h=!0))}else{const t=this._IsOnFloor();if(n&&!t){const t=Math.ceil(Math.abs(this._dx*e))+2;G=o.GetX(),p=o.GetY(),o.OffsetXY(i*t,l*t),o.SetBboxChanged();const s=a.TestOverlapJumpthru(r);let d=!1;s&&!_.has(s)&&a.PushOutSolid(r,-i,-l,t+2,!0,s)&&(n=s,this._SetLastFloorObject(s),this._floorIsJumpthru=!0,d=!0),d||(a.TestOverlapSolid(r)?a.PushOutSolid(r,-i,-l,t+2,!1):(o.SetXY(G,p),o.SetBboxChanged()))}else t&&(!n&&this._floorIsJumpthru&&(this._SetLastFloorObject(t),this._dy=0,h=!0),0===this._dy&&a.PushInFractional(r,-i,-l,t,16))}return[h,n]}_HandleVerticalMovement(e,t){const n=this._inst,s=n.GetWorldInfo(),r=this._runtime.GetCollisionEngine(),o=this._downX,a=this._downY;let i=!1,l=s.GetX(),d=s.GetY();const c=ZD(this._dy,-1/0,this._maxFall,this._g,e);s.OffsetXY(c*o,c*a);const u=s.GetX(),h=s.GetY();s.SetBboxChanged();let _=r.TestOverlapSolid(n),G=!1;if(!_&&this._dy>0&&!t){const e=this._IsFallThroughEnabled()?r.TestOverlapJumpthru(n,!0):null;if(e&&e.length){if(this._wasOverJumpthru){s.SetXY(l,d),s.SetBboxChanged();let t=0;for(let s=0,o=e.length;s<o;++s)e[t]=e[s],r.TestOverlap(n,e[s])||++t;QD.truncateArray(e,t),s.SetXY(u,h),s.SetBboxChanged()}e.length>=1&&(_=e[0])}G=!!_}if(_){r.RegisterCollision(n,_),this._sustainTime=0;let t=1.1;G&&!this._wasOverJumpthru&&(t=2);const c=Math.max(Math.abs(this._dy*e*t),2);r.PushOutSolid(n,o*(this._dy<0?1:-1),a*(this._dy<0?1:-1),c,G,_)?(this._SetLastFloorObject(_),this._floorIsJumpthru=G,this._dy>0&&(i=!0),(this._dy>0||0===this._ceilingCollisionMode)&&(this._dy=0),this._dy<0&&1===this._ceilingCollisionMode&&r.PushInFractional(n,o,a,_,32)):(s.SetXY(l,d),s.SetBboxChanged(),this._wasOnFloor=!0,G||(this._dy=0))}return[i,c]}_HandleAnimationTriggers(e,t,n){"falling"!==this._animMode&&this._dy>0&&!e&&(this.Trigger(QD.Behaviors.Platform.Cnds.OnFall),this._animMode="falling"),(e||t)&&this._dy>=0&&("falling"===this._animMode||t||n&&0===this._dy?(this.Trigger(QD.Behaviors.Platform.Cnds.OnLand),0===this._dx&&0===this._dy?this._animMode="stopped":this._animMode="moving"):("stopped"!==this._animMode&&0===this._dx&&0===this._dy&&(this.Trigger(QD.Behaviors.Platform.Cnds.OnStop),this._animMode="stopped"),"moving"===this._animMode||0===this._dx&&0===this._dy||n||(this.Trigger(QD.Behaviors.Platform.Cnds.OnMove),this._animMode="moving")))}_IsMoving(){return 0!==this._GetVectorX()||0!==this._GetVectorY()}_CheckIfStandingOnFloor(){if(0!==this._dy)return!1;const e=this._inst,t=this.GetWorldInfo(),n=this._runtime.GetCollisionEngine(),s=t.GetX(),r=t.GetY();t.OffsetXY(this._downX,this._downY),t.SetBboxChanged();const o=n.TestOverlapSolid(e);let a=null;if(!o&&this._IsFallThroughEnabled()&&(a=n.TestOverlapJumpthru(e,!0)),t.SetXY(s,r),t.SetBboxChanged(),o)return!n.TestOverlap(e,o);if(a&&a.length){let t=0;for(let s=0,r=a.length;s<r;++s)a[t]=a[s],n.TestOverlap(e,a[s])||t++;if(t>=1)return!0}return!1}_IsByWall(e,t=2,n=3){return!!this._GetWallObstacle(e,t,n)}_GetWallObstacle(e,t=2,n=3){const s=this._inst,r=this.GetWorldInfo(),o=this._runtime.GetCollisionEngine(),a=r.GetX(),i=r.GetY();if(0===e?r.OffsetXY(-this._rightX*t,-this._rightY*t):r.OffsetXY(this._rightX*t,this._rightY*t),r.SetBboxChanged(),!o.TestOverlapSolid(s))return r.SetXY(a,i),r.SetBboxChanged(),null;r.OffsetXY(-this._downX*n,-this._downY*n),r.SetBboxChanged();const l=o.TestOverlapSolid(s);return r.SetXY(a,i),r.SetBboxChanged(),l}_FallThroughJumpThru(){const e=this.GetWorldInfo(),t=e.GetX(),n=e.GetY();e.OffsetXY(this._downX,this._downY),e.SetBboxChanged();const s=this._runtime.GetCollisionEngine().TestOverlapJumpthru(this._inst,!1);e.SetXY(t,n),e.SetBboxChanged(),s&&(this._fallThroughTime=this._runtime.GetGameTime(),this._lastFloorObject=null)}_ResetDoubleJump(e){this._doubleJumped=!e}_GetSpeed(){return Math.hypot(this._dx,this._dy)}_GetMovingAngle(){return Math.atan2(this._dy,this._dx)}_IsJumping(){return this._dy<0}_IsFalling(){return this._dy>0}_SetMaxSpeed(e){this._maxSpeed=Math.max(e,0)}_GetMaxSpeed(){return this._maxSpeed}_SetAcceleration(e){this._acc=Math.max(e,0)}_GetAcceleration(){return this._acc}_SetDeceleration(e){this._dec=Math.max(e,0)}_GetDeceleration(){return this._dec}_SetJumpStrength(e){this._jumpStrength=Math.max(e,0)}_GetJumpStrength(){return this._jumpStrength}_SetMaxFallSpeed(e){this._maxFall=Math.max(e,0)}_GetMaxFallSpeed(){return this._maxFall}_SetGravity(e){if(this._g1===e)return;this._g=e,this._UpdateGravity();const t=this._runtime.GetCollisionEngine(),n=this.GetWorldInfo();t.TestOverlapSolid(this._inst)&&(t.PushOutSolid(this._inst,this._downX,this._downY,10),n.OffsetXY(2*this._downX,2*this._downY),n.SetBboxChanged()),this._lastFloorObject=null}_GetGravity(){return this._g}_SetGravityAngle(e){e=QD.clampAngle(e),this._ga!==e&&(this._ga=e,this._UpdateGravity(),this._lastFloorObject=null)}_GetGravityAngle(){return this._ga}_SetDoubleJumpEnabled(e){this._enableDoubleJump=!!e}_IsDoubleJumpEnabled(){return this._enableDoubleJump}_SetJumpSustain(e){this._jumpSustain=e}_GetJumpSustain(){return this._jumpSustain}_SetCeilingCollisionMode(e){this._ceilingCollisionMode=e}_GetCeilingCollisionMode(){return this._ceilingCollisionMode}_SetVectorX(e){this._dx=e}_GetVectorX(){return this._dx}_SetVectorY(e){this._dy=e}_GetVectorY(){return this._dy}_SimulateControl(e){if(this._isEnabled)switch(e){case 0:this._simLeft=!0;break;case 1:this._simRight=!0;break;case 2:this._simJump=!0}}_SetDefaultControls(e){e=!!e,this._defaultControls!==e&&(this._defaultControls=e,this._defaultControls?this._BindEvents():(this._UnBindEvents(),this._OnWindowOrKeyboardBlur()))}_IsDefaultControls(){return this._defaultControls}_SetIgnoreInput(e){this._ignoreInput=!!e}_IsIgnoreInput(){return this._ignoreInput}_SetEnabled(e){e=!!e,this._isEnabled!==e&&(this._isEnabled=e,this._isEnabled?this._StartPostTicking():(this._StopPostTicking(),this._lastFloorObject=null,this._simLeft=!1,this._simRight=!1,this._simJump=!1))}_IsEnabled(){return this._isEnabled}GetPropertyValueByIndex(e){switch(e){case nR:return this._GetMaxSpeed();case sR:return this._GetAcceleration();case rR:return this._GetDeceleration();case oR:return this._GetJumpStrength();case aR:return this._GetGravity();case iR:return this._GetMaxFallSpeed();case lR:return this._IsDoubleJumpEnabled();case dR:return 1e3*this._GetJumpSustain();case cR:return this._IsDefaultControls();case uR:return this._IsEnabled()}}SetPropertyValueByIndex(e,t){switch(e){case nR:this._SetMaxSpeed(t);break;case sR:this._SetAcceleration(t);break;case rR:this._SetDeceleration(t);break;case oR:this._SetJumpStrength(t);break;case aR:this._SetGravity(t);break;case iR:this._SetMaxFallSpeed(t);break;case lR:this._SetDoubleJumpEnabled(!!t);break;case dR:this._SetJumpSustain(t/1e3);break;case cR:this._SetDefaultControls(!!t);break;case uR:this._SetEnabled(!!t)}}GetDebuggerProperties(){const e="behaviors.platform";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".debugger.vector-x",value:this._GetVectorX(),onedit:e=>this._SetVectorX(e)},{name:e+".debugger.vector-y",value:this._GetVectorY(),onedit:e=>this._SetVectorY(e)},{name:e+".properties.max-speed.name",value:this._GetMaxSpeed(),onedit:e=>this._SetMaxSpeed(e)},{name:e+".properties.acceleration.name",value:this._GetAcceleration(),onedit:e=>this._SetAcceleration(e)},{name:e+".properties.deceleration.name",value:this._GetDeceleration(),onedit:e=>this._SetDeceleration(e)},{name:e+".properties.jump-strength.name",value:this._GetJumpStrength(),onedit:e=>this._SetJumpStrength(e)},{name:e+".properties.gravity.name",value:this._GetGravity(),onedit:e=>this._SetGravity(e)},{name:e+".debugger.gravity-angle",value:QD.toDegrees(this._GetGravityAngle()),onedit:e=>this._SetGravityAngle(QD.toRadians(e))},{name:e+".properties.max-fall-speed.name",value:this._GetMaxFallSpeed(),onedit:e=>this._SetMaxFallSpeed(e)},{name:e+".properties.double-jump.name",value:this._IsDoubleJumpEnabled(),onedit:e=>this._SetDoubleJumpEnabled(e)},{name:e+".properties.jump-sustain.name",value:1e3*this._GetJumpSustain(),onedit:e=>this._SetJumpSustain(e/1e3)},{name:e+".debugger.animation-mode",value:[e+".debugger.anim-"+this._animMode]},{name:e+".properties.enabled.name",value:this._IsEnabled(),onedit:e=>this._SetEnabled(e)}]}]}GetScriptInterfaceClass(){return self.IPlatformBehaviorInstance}};const _R=new WeakMap,GR=new Map([["left",0],["right",1],["jump",2]]);self.IPlatformBehaviorInstance=class extends tR{constructor(){super(),_R.set(this,tR._GetInitInst().GetSdkInstance())}fallThrough(){_R.get(this)._FallThroughJumpThru()}resetDoubleJump(e){_R.get(this)._ResetDoubleJump(!!e)}simulateControl(e){eR.RequireString(e);const t=GR.get(e);if("number"!=typeof t)throw new Error("invalid control");_R.get(this)._SimulateControl(t)}get speed(){return _R.get(this)._GetSpeed()}get maxSpeed(){return _R.get(this)._GetMaxSpeed()}set maxSpeed(e){eR.RequireFiniteNumber(e),_R.get(this)._SetMaxSpeed(e)}get acceleration(){return _R.get(this)._GetAcceleration()}set acceleration(e){eR.RequireFiniteNumber(e),_R.get(this)._SetAcceleration(e)}get deceleration(){return _R.get(this)._GetDeceleration()}set deceleration(e){eR.RequireFiniteNumber(e),_R.get(this)._SetDeceleration(e)}get jumpStrength(){return _R.get(this)._GetJumpStrength()}set jumpStrength(e){eR.RequireFiniteNumber(e),_R.get(this)._SetJumpStrength(e)}get maxFallSpeed(){return _R.get(this)._GetMaxFallSpeed()}set maxFallSpeed(e){eR.RequireFiniteNumber(e),_R.get(this)._SetMaxFallSpeed(e)}get gravity(){return _R.get(this)._GetGravity()}set gravity(e){eR.RequireFiniteNumber(e),_R.get(this)._SetGravity(e)}get gravityAngle(){return _R.get(this)._GetGravityAngle()}set gravityAngle(e){eR.RequireFiniteNumber(e),_R.get(this)._SetGravityAngle(e)}get isDoubleJumpEnabled(){return _R.get(this)._IsDoubleJumpEnabled()}set isDoubleJumpEnabled(e){_R.get(this)._SetDoubleJumpEnabled(!!e)}get jumpSustain(){return _R.get(this)._GetJumpSustain()}set jumpSustain(e){eR.RequireFiniteNumber(e),_R.get(this)._SetJumpSustain(e)}get ceilingCollisionMode(){return 0===_R.get(this)._GetCeilingCollisionMode()?"stop":"preserve-momentum"}set ceilingCollisionMode(e){eR.RequireString(e);const t=_R.get(this);if("stop"===e)t._SetCeilingCollisionMode(0);else{if("preserve-momentum"!==e)throw new Error("invalid mode");t._SetCeilingCollisionMode(1)}}get isOnFloor(){return _R.get(this)._CheckIfStandingOnFloor()}isByWall(e){eR.RequireString(e);const t=_R.get(this);if("left"===e)return t._IsByWall(0);if("right"===e)return t._IsByWall(1);throw new Error("invalid side")}get isMoving(){return _R.get(this)._IsMoving()}get isJumping(){return _R.get(this)._IsJumping()}get isFalling(){return _R.get(this)._IsFalling()}get vectorX(){return _R.get(this)._GetVectorX()}set vectorX(e){eR.RequireFiniteNumber(e),_R.get(this)._SetVectorX(e)}get vectorY(){return _R.get(this)._GetVectorY()}set vectorY(e){eR.RequireFiniteNumber(e),_R.get(this)._SetVectorY(e)}setVector(e,t){eR.RequireFiniteNumber(e),eR.RequireFiniteNumber(t);const n=_R.get(this);n._SetVectorX(e),n._SetVectorY(t)}getVector(){const e=_R.get(this);return[e._GetVectorX(),e._GetVectorY()]}get isDefaultControls(){return _R.get(this)._IsDefaultControls()}set isDefaultControls(e){_R.get(this)._SetDefaultControls(!!e)}get isIgnoringInput(){return _R.get(this)._IsIgnoreInput()}set isIgnoringInput(e){_R.get(this)._SetIgnoreInput(!!e)}get isEnabled(){return _R.get(this)._IsEnabled()}set isEnabled(e){_R.get(this)._SetEnabled(!!e)}}}{const pR=self.C3;pR.Behaviors.Platform.Cnds={IsMoving(){return this._IsMoving()},CompareSpeed(e,t){return pR.compare(this._GetSpeed(),e,t)},IsOnFloor(){return this._CheckIfStandingOnFloor()},IsByWall(e){return this._IsByWall(e)},IsJumping(){return this._IsJumping()},IsFalling(){return this._IsFalling()},IsDoubleJumpEnabled(){return this._IsDoubleJumpEnabled()},OnJump:()=>!0,OnFall:()=>!0,OnStop:()=>!0,OnMove:()=>!0,OnLand:()=>!0,IsEnabled(){return this._IsEnabled()}}}{const mR=self.C3;mR.Behaviors.Platform.Acts={SetMaxSpeed(e){this._SetMaxSpeed(e)},SetAcceleration(e){this._SetAcceleration(e)},SetDeceleration(e){this._SetDeceleration(e)},SetJumpStrength(e){this._SetJumpStrength(e)},SetMaxFallSpeed(e){this._SetMaxFallSpeed(e)},SetGravity(e){this._SetGravity(e)},SimulateControl(e){this._SimulateControl(e)},SetIgnoreInput(e){this._SetIgnoreInput(!!e)},SetVectorX(e){this._SetVectorX(e)},SetVectorY(e){this._SetVectorY(e)},SetGravityAngle(e){this._SetGravityAngle(mR.toRadians(e))},SetEnabled(e){this._SetEnabled(0!==e)},FallThrough(){this._FallThroughJumpThru()},SetDoubleJumpEnabled(e){this._SetDoubleJumpEnabled(0!==e)},SetJumpSustain(e){this._SetJumpSustain(e/1e3)},SetCeilingCollision(e){this._SetCeilingCollisionMode(e)},SetDefaultControls(e){this._SetDefaultControls(e)},ResetDoubleJump(e){this._ResetDoubleJump(e)}}}{const gR=self.C3;gR.Behaviors.Platform.Exps={Speed(){return this._GetSpeed()},MaxSpeed(){return this._GetMaxSpeed()},Acceleration(){return this._GetAcceleration()},Deceleration(){return this._GetDeceleration()},JumpStrength(){return this._GetJumpStrength()},Gravity(){return this._GetGravity()},GravityAngle(){return gR.toDegrees(this._GetGravityAngle())},MaxFallSpeed(){return this._GetMaxFallSpeed()},MovingAngle(){return gR.toDegrees(this._GetMovingAngle())},VectorX(){return this._GetVectorX()},VectorY(){return this._GetVectorY()},JumpSustain(){return 1e3*this._GetJumpSustain()}}}{const fR=self.C3;fR.Behaviors.LOS=class extends fR.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const NR=self.C3;NR.Behaviors.LOS.Type=class extends NR.SDKBehaviorTypeBase{constructor(e){super(e),this._obstacleTypes=[]}Release(){NR.clearArray(this._obstacleTypes),super.Release()}OnCreate(){}AddObstacle(e){if(!this._obstacleTypes.includes(e)){for(const t of this._obstacleTypes)if(t.IsFamily()&&t.FamilyHasMember(e))return;this._obstacleTypes.push(e)}}ClearObstacles(){NR.clearArray(this._obstacleTypes)}GetObstacleTypes(){return this._obstacleTypes}FindLOSBehavior(e){const t=this.GetBehaviorType();for(const n of e.GetBehaviorInstances())if(n.GetBehaviorType()===t)return n.GetSdkInstance();return null}}}{const bR=self.C3,SR=self.C3X,xR=self.IBehaviorInstance,IR=0,yR=1,ER=2,TR=3,CR=0,MR=[];bR.Behaviors.LOS.Instance=class extends bR.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._obstacleMode=0,this._range=1e4,this._cone=bR.toRadians(360),this._useCollisionCells=!0,this._ray=new bR.Ray,t&&(this._obstacleMode=t[IR],this._range=t[yR],this._cone=bR.toRadians(t[ER]),this._useCollisionCells=t[TR])}Release(){super.Release()}SaveToJson(){return{r:this._range,c:this._cone,om:this._obstacleMode,ucc:this._useCollisionCells,t:this.GetSdkType().GetObstacleTypes().map(e=>e.GetSID())}}LoadFromJson(e){this._range=e.r,this._cone=e.c,this._obstacleMode=e.om||0,this._useCollisionCells=!!e.ucc;const t=this.GetSdkType().GetObstacleTypes();bR.clearArray(t);for(const n of e.t){const e=this._runtime.GetObjectClassBySID(n);e&&t.push(e)}}HasLOSToInstance(e,t){const n=e.GetUID(),[s,r]=e.GetImagePoint(t);return this.HasLOSTo(s,r)||this._ray.DidCollide()&&this._ray.hitUid===n}HasLOSTo(e,t){const n=this.GetWorldInfo();let s=n.GetAngle();return n.GetWidth()<0&&(s+=Math.PI),this.HasLOSBetweenPositions(n.GetX(),n.GetY(),s,e,t)}HasLOSBetweenPositions(e,t,n,s,r){this._ray.Reset();const o=this._range;if(bR.distanceSquared(e,t,s,r)>o*o)return!1;const a=bR.angleTo(e,t,s,r);return!(bR.angleDiff(n,a)>this._cone/2)&&!this.CastRay(e,t,s,r,this._useCollisionCells).DidCollide()}_GetCollisionCandidates(e,t){if(t){const t=this.GetWorldInfo().GetLayer(),n=this._runtime.GetCollisionEngine();return this._obstacleMode===CR?n.GetSolidCollisionCandidates(t,e.rect,MR):n.GetObjectClassesCollisionCandidates(t,this._GetObstacleTypes(),e.rect,MR),MR}if(this._obstacleMode===CR){const e=this._runtime.GetSolidBehavior();return e?e.GetInstances():MR}for(const e of this._GetObstacleTypes())bR.appendArray(MR,e.GetInstances());return MR}_GetObstacleTypes(){return this.GetSdkType().GetObstacleTypes()}CastRay(e,t,n,s,r){const o=this._ray.Set(e,t,n,s),a=this._GetCollisionCandidates(o,r),i=this._runtime.GetCollisionEngine(),l=this._obstacleMode===CR,d=this._inst;for(let e=0,t=a.length;e<t;++e){const t=a[e];t!==d&&(l&&!i.IsSolidCollisionAllowed(t,d)||i.TestRayIntersectsInstance(t,o))}return o.Complete(),bR.clearArray(MR),o}_GetRay(){return this._ray}_GetRayHitX(){const e=this._ray;return e.DidCollide()?e.hitX:0}_GetRayHitY(){const e=this._ray;return e.DidCollide()?e.hitY:0}_GetRayHitDistance(){const e=this._ray;return e.DidCollide()?e.distance:0}_GetRayHitUID(){const e=this._ray;return e.DidCollide()?e.hitUid:-1}_GetRayNormalX(e){const t=this._ray;return t.DidCollide()?t.hitX+e*t.normalX:0}_GetRayNormalY(e){const t=this._ray;return t.DidCollide()?t.hitY+e*t.normalY:0}_GetRayNormalAngle(){const e=this._ray;return e.DidCollide()?e.hitNormal:0}_GetRayReflectionX(e){const t=this._ray;return t.DidCollide()?t.hitX+e*t.reflectionX:0}_GetRayReflectionY(e){const t=this._ray;return t.DidCollide()?t.hitY+e*t.reflectionY:0}_GetRayReflectionAngle(){const e=this._ray;return e.DidCollide()?Math.atan2(e.reflectionY,e.reflectionX):0}_SetRange(e){this._range=e}_GetRange(){return this._range}_SetConeOfView(e){this._cone=e}_GetConeOfView(){return this._cone}GetPropertyValueByIndex(e){switch(e){case IR:return this._obstacleMode;case yR:return this._range;case ER:return bR.toDegrees(this._cone);case TR:return this._useCollisionCells}}SetPropertyValueByIndex(e,t){switch(e){case IR:this._obstacleMode=t;break;case yR:this._range=t;break;case ER:this._cone=bR.toRadians(t);break;case TR:this._useCollisionCells=!!t}}GetDebuggerProperties(){const e="behaviors.los.properties";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".range.name",value:this._GetRange(),onedit:e=>this._SetRange(e)},{name:e+".cone-of-view.name",value:bR.toDegrees(this._GetConeOfView()),onedit:e=>this._SetConeOfView(bR.toRadians(e))}]}]}GetScriptInterfaceClass(){return self.ILOSBehaviorInstance}};const VR=new WeakMap;self.ILOSBehaviorInstance=class extends xR{constructor(){super();const e=xR._GetInitInst().GetSdkInstance();VR.set(this,e),this.ray=new self.ILOSBehaviorRay(e)}set range(e){SR.RequireFiniteNumber(e),VR.get(this)._SetRange(e)}get range(){return VR.get(this)._GetRange()}set coneOfView(e){SR.RequireFiniteNumber(e),VR.get(this)._SetConeOfView(e)}get coneOfView(){return VR.get(this)._GetConeOfView()}hasLOStoPosition(e,t){return SR.RequireNumber(e),SR.RequireNumber(t),VR.get(this).HasLOSTo(e,t)}hasLOSBetweenPositions(e,t,n,s,r){return SR.RequireNumber(e),SR.RequireNumber(t),SR.RequireNumber(n),SR.RequireNumber(s),SR.RequireNumber(r),VR.get(this).HasLOSBetweenPositions(e,t,n,s,r)}castRay(e,t,n,s,r=!0){return SR.RequireNumber(e),SR.RequireNumber(t),SR.RequireNumber(n),SR.RequireNumber(s),VR.get(this).CastRay(e,t,n,s,r),this.ray}addObstacle(e){const t=VR.get(this),n=t.GetRuntime()._UnwrapIObjectClass(e);t.GetSdkType().AddObstacle(n)}clearObstacles(){VR.get(this).GetSdkType().ClearObstacles()}},self.ILOSBehaviorRay=class{constructor(e){VR.set(this,e)}get didCollide(){return VR.get(this)._GetRay().DidCollide()}get hitX(){return VR.get(this)._GetRayHitX()}get hitY(){return VR.get(this)._GetRayHitY()}getHitPosition(){const e=VR.get(this);return[e._GetRayHitX(),e._GetRayHitY()]}get hitDistance(){return VR.get(this)._GetRayHitDistance()}get hitUid(){return VR.get(this)._GetRayHitUID()}getNormalX(e){return SR.RequireFiniteNumber(e),VR.get(this)._GetRayNormalX(e)}getNormalY(e){return SR.RequireFiniteNumber(e),VR.get(this)._GetRayNormalY(e)}getNormal(e){SR.RequireFiniteNumber(e);const t=VR.get(this);return[t._GetRayNormalX(e),t._GetRayNormalY(e)]}get normalAngle(){return VR.get(this)._GetRayNormalAngle()}getReflectionX(e){return SR.RequireFiniteNumber(e),VR.get(this)._GetRayReflectionX(e)}getReflectionY(e){return SR.RequireFiniteNumber(e),VR.get(this)._GetRayReflectionY(e)}getReflection(e){SR.RequireFiniteNumber(e);const t=VR.get(this);return[t._GetRayReflectionX(e),t._GetRayReflectionY(e)]}get reflectionAngle(){return VR.get(this)._GetRayReflectionAngle()}}}{const BR=self.C3,OR=new Set,vR=new Set;BR.Behaviors.LOS.Cnds={HasLOSToPosition(e,t){return this.HasLOSTo(e,t)},RayIntersected(){return this._ray.DidCollide()},HasLOSBetweenPositions(e,t,n,s,r){return this.HasLOSBetweenPositions(e,t,BR.toRadians(n),s,r)},HasLOSToObject(e,t){if(!e)return!1;const n=this._runtime.GetCurrentCondition(),s=n.GetEventBlock().IsOrBlock(),r=n.GetRuntime(),o=n.GetObjectClass().GetCurrentSol(),a=e.GetCurrentSol();let i=o.GetInstances(),l=a.GetInstances();o.IsSelectAll()?BR.clearArray(o._GetOwnElseInstances()):s&&(i=r.IsCurrentConditionFirst()&&!o._GetOwnElseInstances().length&&o._GetOwnInstances().length?o._GetOwnInstances():o._GetOwnElseInstances()),a.IsSelectAll()?BR.clearArray(a._GetOwnElseInstances()):s&&(l=r.IsCurrentConditionFirst()&&!a._GetOwnElseInstances().length&&a._GetOwnInstances().length?a._GetOwnInstances():a._GetOwnElseInstances());const d=n.IsInverted(),c=this.GetSdkType();for(const e of i){let n=!1;const s=c.FindLOSBehavior(e);if(0===l.length)d&&(n=!0);else for(const r of l)e!==r&&BR.xor(s.HasLOSToInstance(r,t),d)&&(n=!0,vR.add(r));n&&OR.add(e)}return s?(i===o._GetOwnElseInstances()?o.TransferElseInstancesToOwn(OR):(o.AddElseInstances(OR,i),o.SetSetPicked(OR)),l===a._GetOwnElseInstances()?a.TransferElseInstancesToOwn(vR):(a.AddElseInstances(vR,l),a.SetSetPicked(vR))):(o.SetSetPicked(OR),a.SetSetPicked(vR)),OR.clear(),vR.clear(),o.HasAnyInstances()}}}{const PR=self.C3;PR.Behaviors.LOS.Acts={SetRange(e){this._SetRange(e)},SetCone(e){this._SetConeOfView(PR.toRadians(e))},CastRay(e,t,n,s,r){this.CastRay(e,t,n,s,r)},AddObstacle(e){this.GetSdkType().AddObstacle(e)},ClearObstacles(){this.GetSdkType().ClearObstacles()}}}{const wR=self.C3;wR.Behaviors.LOS.Exps={Range(){return this._GetRange()},ConeOfView(){return wR.toDegrees(this._GetConeOfView())},HitX(){return this._GetRayHitX()},HitY(){return this._GetRayHitY()},HitDistance(){return this._GetRayHitDistance()},HitUID(){return this._GetRayHitUID()},NormalX(e){return this._GetRayNormalX(e)},NormalY(e){return this._GetRayNormalY(e)},NormalAngle(){return wR.toDegrees(this._GetRayNormalAngle())},ReflectionX(e){return this._GetRayReflectionX(e)},ReflectionY(e){return this._GetRayReflectionY(e)},ReflectionAngle(){return wR.toDegrees(this._GetRayReflectionAngle())}}}{const AR=self.C3;AR.Behaviors.EightDir=class extends AR.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const DR=self.C3;DR.Behaviors.EightDir.Type=class extends DR.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const RR=self.C3,FR=self.C3X,jR=self.IBehaviorInstance,kR=1/Math.sqrt(2),LR=0,WR=1,UR=2,HR=3,zR=4,YR=5,XR=6,qR=7;RR.Behaviors.EightDir.Instance=class extends RR.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._upKey=!1,this._downKey=!1,this._leftKey=!1,this._rightKey=!1,this._ignoreInput=!1,this._simUp=!1,this._simDown=!1,this._simLeft=!1,this._simRight=!1,this._dx=0,this._dy=0,this._maxSpeed=200,this._acc=600,this._dec=500,this._directions=3,this._angleMode=3,this._allowSliding=!1,this._defaultControls=!0,this._isEnabled=!0,t&&(this._maxSpeed=t[LR],this._acc=t[WR],this._dec=t[UR],this._directions=t[HR],this._angleMode=t[zR],this._allowSliding=!!t[YR],this._defaultControls=!!t[XR],this._isEnabled=!!t[qR]),this._isEnabled&&this._StartTicking(),this._defaultControls&&this._BindEvents()}_BindEvents(){if(this._disposables)return;const e=this._runtime.Dispatcher();this._disposables=new RR.CompositeDisposable(RR.Disposable.From(e,"keydown",e=>this._OnKeyDown(e.data)),RR.Disposable.From(e,"keyup",e=>this._OnKeyUp(e.data)),RR.Disposable.From(e,"window-blur",()=>this._OnWindowOrKeyboardBlur()),RR.Disposable.From(e,"keyboard-blur",()=>this._OnWindowOrKeyboardBlur()))}_UnBindEvents(){this._disposables&&(this._disposables.Release(),this._disposables=null)}Release(){super.Release()}SaveToJson(){return{dx:this._dx,dy:this._dy,e:this._isEnabled,ms:this._maxSpeed,acc:this._acc,dec:this._dec,d:this._directions,am:this._angleMode,dc:this._defaultControls,ii:this._ignoreInput}}LoadFromJson(e){this._dx=e.dx,this._dy=e.dy,this._SetEnabled(e.e),this._maxSpeed=e.ms,this._acc=e.acc,this._dec=e.dec,this._directions=e.d,this._angleMode=e.am,this._defaultControls=e.dc,this._ignoreInput=e.ii,this._upKey=!1,this._downKey=!1,this._leftKey=!1,this._rightKey=!1,this._simUp=!1,this._simDown=!1,this._simLeft=!1,this._simRight=!1,this._defaultControls?this._BindEvents():this._UnBindEvents()}_OnKeyDown(e){switch(e.key){case"ArrowLeft":this._leftKey=!0;break;case"ArrowUp":this._upKey=!0;break;case"ArrowRight":this._rightKey=!0;break;case"ArrowDown":this._downKey=!0}}_OnKeyUp(e){switch(e.key){case"ArrowLeft":this._leftKey=!1;break;case"ArrowUp":this._upKey=!1;break;case"ArrowRight":this._rightKey=!1;break;case"ArrowDown":this._downKey=!1}}_OnWindowOrKeyboardBlur(){this._upKey=!1,this._downKey=!1,this._leftKey=!1,this._rightKey=!1}Tick(){const e=this._runtime.GetDt(this._inst),t=this._runtime.GetCollisionEngine();let n=this._leftKey||this._simLeft,s=this._rightKey||this._simRight,r=this._upKey||this._simUp,o=this._downKey||this._simDown;if(this._simLeft=!1,this._simRight=!1,this._simUp=!1,this._simDown=!1,!this._isEnabled)return;let a=t.TestOverlapSolid(this._inst);if(a&&(t.RegisterCollision(this._inst,a),!t.PushOutSolidNearest(this._inst)))return;if(this._ignoreInput&&(n=s=r=o=!1),0===this._directions?n=s=!1:1===this._directions&&(r=o=!1),2===this._directions&&(r||o)&&(n=s=!1),n===s){const t=r===o&&0!==this._dy?kR:1;this._dx<0?this._dx=Math.min(this._dx+this._dec*t*e,0):this._dx>0&&(this._dx=Math.max(this._dx-this._dec*t*e,0))}if(r===o){const t=n===s&&0!==this._dx?kR:1;this._dy<0?this._dy=Math.min(this._dy+this._dec*t*e,0):this._dy>0&&(this._dy=Math.max(this._dy-this._dec*t*e,0))}let i=0,l=0;n&&!s&&(i=-1),s&&!n&&(i=1),r&&!o&&(l=-1),o&&!r&&(l=1);let d=0,c=0;if(0!==i){const e=0!==l?kR:1;d=Math.sign(this._dx)===-i?i*e*(this._acc+this._dec):i*e*this._acc}if(0!==l){const e=0!==i?kR:1;c=Math.sign(this._dy)===-l?l*e*(this._acc+this._dec):l*e*this._acc}if(this._dx+=d*e,this._dy+=c*e,0!==this._dx||0!==this._dy){let n=Math.hypot(this._dx,this._dy);const s=Math.atan2(this._dy,this._dx),r=this._maxSpeed*Math.cos(s),o=this._maxSpeed*Math.sin(s);n>this._maxSpeed&&(n=this._maxSpeed,this._dx=r,this._dy=o);const i=this._inst.GetWorldInfo(),l=i.GetX(),u=i.GetY(),h=i.GetAngle(),_=Math.abs(r)*e,G=Math.abs(o)*e,p=RR.clamp(this._dx*e+.5*d*e*e,-_,_),m=RR.clamp(this._dy*e+.5*c*e*e,-G,G);if(this._allowSliding){if(i.OffsetXY(p,m),i.SetBboxChanged(),a=t.TestOverlapSolid(this._inst),a){t.RegisterCollision(this._inst,a);const s=Math.atan2(this._dy,this._dx)+Math.PI/2;let r=!1;const o=(i.GetWidth()+i.GetHeight())/4;if(t.PushOutSolidAxis(this._inst,Math.cos(s),Math.sin(s),Math.max(2.5*n*e,o))){r=!0;const s=i.GetX(),o=i.GetY(),d=n*e,c=RR.distanceTo(l,u,s,o);if(c>1.01*d){const e=d/c,n=RR.lerp(l,s,e),h=RR.lerp(u,o,e);if(i.SetXY(n,h),i.SetBboxChanged(),a=t.TestOverlapSolid(this._inst),a){const e=RR.angleTo(l,u,s,o)+Math.PI/2,n=Math.cos(e),a=Math.sin(e),d=(i.GetWidth()+i.GetHeight())/2/10;t.PushOutSolidAxis(this._inst,n,a,Math.max(d,1))||(i.SetXY(l,u),i.SetBboxChanged(),r=!1)}}}if(!r){const s=Math.hypot(p,m),r=-p/s,a=-m/s;this._dx=0,this._dy=0,t.PushOutSolid(this._inst,r,a,Math.max(2.5*n*e,o))||(i.SetXY(l,u),i.SetBboxChanged())}}}else i.OffsetX(p),i.SetBboxChanged(),a=t.TestOverlapSolid(this._inst),a&&(t.PushOutSolid(this._inst,this._dx<0?1:-1,0,Math.max(Math.abs(Math.floor(p)),1))||(i.SetX(l),i.SetBboxChanged()),this._dx=0,t.RegisterCollision(this._inst,a)),i.OffsetY(m),i.SetBboxChanged(),a=t.TestOverlapSolid(this._inst),a&&(t.PushOutSolid(this._inst,0,this._dy<0?1:-1,Math.max(Math.abs(Math.floor(m)),1))||(i.SetY(u),i.SetBboxChanged()),this._dy=0,t.RegisterCollision(this._inst,a));const g=RR.roundToDp(this._dx,6),f=RR.roundToDp(this._dy,6);0===g&&0===f||!this._inst.GetPlugin().IsRotatable()||(1===this._angleMode?i.SetAngle(RR.toRadians(90*Math.round(RR.toDegrees(Math.atan2(f,g))/90))):2===this._angleMode?i.SetAngle(RR.toRadians(45*Math.round(RR.toDegrees(Math.atan2(f,g))/45))):3===this._angleMode&&i.SetAngle(Math.atan2(f,g))),i.SetBboxChanged(),i.GetAngle()!=h&&(a=t.TestOverlapSolid(this._inst),a&&(i.SetAngle(h),i.SetBboxChanged(),t.RegisterCollision(this._inst,a)))}}GetPropertyValueByIndex(e){switch(e){case LR:return this._GetMaxSpeed();case WR:return this._GetAcceleration();case UR:return this._GetDeceleration();case HR:return this._directions;case zR:return this._angleMode;case YR:return this._allowSliding;case XR:return this._IsDefaultControls();case qR:return this._IsEnabled()}}SetPropertyValueByIndex(e,t){switch(e){case LR:this._SetMaxSpeed(t);break;case WR:this._SetAcceleration(t);break;case UR:this._SetDeceleration(t);break;case HR:this._directions=t;break;case zR:this._angleMode=t;break;case YR:this._allowSliding=!!t;break;case XR:this._SetDefaultControls(!!t);break;case qR:this._SetEnabled(!!t)}}_Stop(){this._dx=0,this._dy=0}_Reverse(){this._dx*=-1,this._dy*=-1}_MaybeClampSpeed(){const e=Math.hypot(this._dx,this._dy);e>this._maxSpeed&&this._SetSpeed(e)}_SetSpeed(e){e=RR.clamp(e,0,this._maxSpeed);const t=Math.atan2(this._dy,this._dx);this._dx=e*Math.cos(t),this._dy=e*Math.sin(t)}_GetSpeed(){return Math.hypot(this._dx,this._dy)}_SetMaxSpeed(e){this._maxSpeed=Math.max(e,0)}_GetMaxSpeed(){return this._maxSpeed}_SetAcceleration(e){this._acc=Math.max(e,0)}_GetAcceleration(){return this._acc}_SetDeceleration(e){this._dec=Math.max(e,0)}_GetDeceleration(){return this._dec}_GetMovingAngle(){return Math.atan2(this._dy,this._dx)}_SetVectorX(e){this._dx=e,this._MaybeClampSpeed()}_GetVectorX(){return this._dx}_SetVectorY(e){this._dy=e,this._MaybeClampSpeed()}_GetVectorY(){return this._dy}_SimulateControl(e){if(this._isEnabled)switch(e){case 0:this._simLeft=!0;break;case 1:this._simRight=!0;break;case 2:this._simUp=!0;break;case 3:this._simDown=!0}}_SetDefaultControls(e){e=!!e,this._defaultControls!==e&&(this._defaultControls=e,this._defaultControls?this._BindEvents():(this._UnBindEvents(),this._OnWindowOrKeyboardBlur()))}_IsDefaultControls(){return this._defaultControls}_SetIgnoreInput(e){this._ignoreInput=!!e}_IsIgnoreInput(){return this._ignoreInput}_SetEnabled(e){this._isEnabled=!!e,this._isEnabled?this._StartTicking():(this._simLeft=!1,this._simRight=!1,this._simUp=!1,this._simDown=!1,this._StopTicking())}_IsEnabled(){return this._isEnabled}_SetAllowSliding(e){this._allowSliding=!!e}_IsAllowSliding(){return this._allowSliding}GetDebuggerProperties(){const e="behaviors.eightdir";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".debugger.vector-x",value:this._GetVectorX(),onedit:e=>this._SetVectorX(e)},{name:e+".debugger.vector-y",value:this._GetVectorY(),onedit:e=>this._SetVectorY(e)},{name:e+".debugger.speed",value:this._GetSpeed(),onedit:e=>this._SetSpeed(e)},{name:e+".debugger.angle-of-motion",value:RR.toDegrees(this._GetMovingAngle())},{name:e+".properties.max-speed.name",value:this._GetMaxSpeed(),onedit:e=>this._SetMaxSpeed(e)},{name:e+".properties.acceleration.name",value:this._GetAcceleration(),onedit:e=>this._SetAcceleration(e)},{name:e+".properties.deceleration.name",value:this._GetDeceleration(),onedit:e=>this._SetDeceleration(e)},{name:e+".properties.allow-sliding.name",value:this._IsAllowSliding(),onedit:e=>this._SetAllowSliding(e)},{name:e+".properties.enabled.name",value:this._IsEnabled(),onedit:e=>this._SetEnabled(e)}]}]}GetScriptInterfaceClass(){return self.I8DirectionBehaviorInstance}};const KR=new WeakMap,JR=new Map([["left",0],["right",1],["up",2],["down",3]]);self.I8DirectionBehaviorInstance=class extends jR{constructor(){super(),KR.set(this,jR._GetInitInst().GetSdkInstance())}stop(){KR.get(this)._Stop()}reverse(){KR.get(this)._Reverse()}simulateControl(e){FR.RequireString(e);const t=JR.get(e);if("number"!=typeof t)throw new Error("invalid control");KR.get(this)._SimulateControl(t)}get speed(){return KR.get(this)._GetSpeed()}set speed(e){FR.RequireFiniteNumber(e),KR.get(this)._SetSpeed(e)}get maxSpeed(){return KR.get(this)._GetMaxSpeed()}set maxSpeed(e){FR.RequireFiniteNumber(e),KR.get(this)._SetMaxSpeed(e)}get acceleration(){return KR.get(this)._GetAcceleration()}set acceleration(e){FR.RequireFiniteNumber(e),KR.get(this)._SetAcceleration(e)}get deceleration(){return KR.get(this)._GetDeceleration()}set deceleration(e){FR.RequireFiniteNumber(e),KR.get(this)._SetDeceleration(e)}get vectorX(){return KR.get(this)._GetVectorX()}set vectorX(e){FR.RequireFiniteNumber(e),KR.get(this)._SetVectorX(e)}get vectorY(){return KR.get(this)._GetVectorY()}set vectorY(e){FR.RequireFiniteNumber(e),KR.get(this)._SetVectorY(e)}setVector(e,t){FR.RequireFiniteNumber(e),FR.RequireFiniteNumber(t);const n=KR.get(this);n._SetVectorX(e),n._SetVectorY(t)}getVector(){const e=KR.get(this);return[e._GetVectorX(),e._GetVectorY()]}get isDefaultControls(){return KR.get(this)._IsDefaultControls()}set isDefaultControls(e){KR.get(this)._SetDefaultControls(!!e)}get isIgnoringInput(){return KR.get(this)._IsIgnoreInput()}set isIgnoringInput(e){KR.get(this)._SetIgnoreInput(!!e)}get isAllowSliding(){return KR.get(this)._IsAllowSliding()}set isAllowSliding(e){KR.get(this)._SetAllowSliding(!!e)}get isEnabled(){return KR.get(this)._IsEnabled()}set isEnabled(e){KR.get(this)._SetEnabled(!!e)}}}{const $R=self.C3;$R.Behaviors.EightDir.Cnds={IsMoving(){return this._GetSpeed()>1e-10},CompareSpeed(e,t){return $R.compare(this._GetSpeed(),e,t)},IsEnabled(){return this._IsEnabled()},IsAllowSliding(){return this._IsAllowSliding()}}}self.C3.Behaviors.EightDir.Acts={Stop(){this._Stop()},Reverse(){this._Reverse()},SetIgnoreInput(e){this._SetIgnoreInput(e)},SetSpeed(e){this._SetSpeed(e)},SetMaxSpeed(e){this._SetMaxSpeed(e)},SetAcceleration(e){this._SetAcceleration(e)},SetDeceleration(e){this._SetDeceleration(e)},SimulateControl(e){this._SimulateControl(e)},SetEnabled(e){this._SetEnabled(e)},SetVectorX(e){this._SetVectorX(e)},SetVectorY(e){this._SetVectorY(e)},SetDefaultControls(e){this._SetDefaultControls(!!e)},SetAllowSliding(e){this._SetAllowSliding(e)}};{const ZR=self.C3;ZR.Behaviors.EightDir.Exps={Speed(){return this._GetSpeed()},MaxSpeed(){return this._GetMaxSpeed()},Acceleration(){return this._GetAcceleration()},Deceleration(){return this._GetDeceleration()},MovingAngle(){return ZR.toDegrees(this._GetMovingAngle())},VectorX(){return this._GetVectorX()},VectorY(){return this._GetVectorY()}}}{const QR=self.C3;QR.Behaviors.Flash=class extends QR.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const eF=self.C3;eF.Behaviors.Flash.Type=class extends eF.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const tF=self.C3,nF=self.C3X,sF=self.IBehaviorInstance;tF.Behaviors.Flash.Instance=class extends tF.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._onTime=0,this._offTime=0,this._stage=0,this._stageTimeLeft=0,this._timeLeft=0,this._StartTicking()}Release(){super.Release()}_Flash(e,t,n){this._onTime=e,this._offTime=t,this._stage=1,this._stageTimeLeft=t,this._timeLeft=n,this._inst.GetWorldInfo().SetVisible(!1),this._runtime.UpdateRender()}_StopFlashing(){this._timeLeft=0,this._inst.GetWorldInfo().SetVisible(!0),this._runtime.UpdateRender()}_IsFlashing(){return this._timeLeft>0}SaveToJson(){return{on:this._onTime,off:this._offTime,s:this._stage,stl:this._stageTimeLeft,tl:this._timeLeft}}LoadFromJson(e){this._onTime=e.on,this._offTime=e.off,this._stage=e.s,this._stageTimeLeft=e.stl,this._timeLeft=null===e.tl?1/0:e.tl}Tick(){if(this._timeLeft<=0)return;const e=this._runtime.GetDt(this._inst);if(this._timeLeft-=e,this._timeLeft<=0)return this._timeLeft=0,this._inst.GetWorldInfo().SetVisible(!0),this._runtime.UpdateRender(),this.DispatchScriptEvent("flashend"),this.DebugTrigger(tF.Behaviors.Flash.Cnds.OnFlashEnded);this._stageTimeLeft-=e,this._stageTimeLeft<=0&&(0===this._stage?(this._inst.GetWorldInfo().SetVisible(!1),this._stage=1,this._stageTimeLeft+=this._offTime):(this._inst.GetWorldInfo().SetVisible(!0),this._stage=0,this._stageTimeLeft+=this._onTime),this._runtime.UpdateRender())}GetDebuggerProperties(){const e="behaviors.flash.debugger";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".on-time",value:this._onTime,onedit:e=>this._onTime=e},{name:e+".off-time",value:this._offTime,onedit:e=>this._offTime=e},{name:e+".is-flashing",value:this._timeLeft>0},{name:e+".time-left",value:this._timeLeft}]}]}GetScriptInterfaceClass(){return self.IFlashBehaviorInstance}};const rF=new WeakMap;self.IFlashBehaviorInstance=class extends sF{constructor(){super(),rF.set(this,sF._GetInitInst().GetSdkInstance())}flash(e,t,n){nF.RequireFiniteNumber(e),nF.RequireFiniteNumber(t),nF.RequireFiniteNumber(n),rF.get(this)._Flash(e,t,n)}stop(){rF.get(this)._StopFlashing()}get isFlashing(){return rF.get(this)._IsFlashing()}}}self.C3.Behaviors.Flash.Cnds={IsFlashing(){return this._IsFlashing()},OnFlashEnded:()=>!0},self.C3.Behaviors.Flash.Acts={Flash(e,t,n){this._Flash(e,t,n)},StopFlashing(){this._StopFlashing()}},self.C3.Behaviors.Flash.Exps={};{const oF=self.C3;oF.Behaviors.Orbit=class extends oF.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const aF=self.C3;aF.Behaviors.Orbit.Type=class extends aF.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const iF=self.C3,lF=self.C3X,dF=self.IBehaviorInstance,cF=0,uF=1,hF=2,_F=3,GF=4,pF=5,mF=6;iF.Behaviors.Orbit.Instance=class extends iF.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._speed=0,this._acceleration=0,this._isEnabled=!0,this._minorAxis=0,this._majorAxis=0,this._offsetAngle=0,this._matchRotation=!1,this._targetX=0,this._targetY=0,this._targetObject=null,this._targetUid=-1,this._rotation=0,this._totalRotation=0,this._totalAbsoluteRotation=0,t&&(this._speed=iF.toRadians(t[cF]),this._acceleration=iF.toRadians(t[uF]),this._isEnabled=t[mF],this._minorAxis=t[hF],this._majorAxis=t[_F],this._offsetAngle=iF.toRadians(t[GF]),this._matchRotation=t[pF]);const n=this._runtime.Dispatcher();this._disposables=new iF.CompositeDisposable(iF.Disposable.From(n,"instancedestroy",e=>this._OnInstanceDestroyed(e.instance)),iF.Disposable.From(n,"afterload",e=>this._OnAfterLoad())),this._SetEnabled(this._isEnabled);const s=this._inst.GetWorldInfo();this._targetX=s.GetX(),this._targetY=s.GetY(),this._rotation=s.GetAngle()}Release(){this._targetObject=null,super.Release()}_SetSpeed(e){this._speed=e}_GetSpeed(){return this._speed}_SetAcceleration(e){this._acceleration=e}_GetAcceleration(){return this._acceleration}_SetTargetXY(e,t){this._targetObject=null,this._targetX=e,this._targetY=t}_GetTargetX(){return this._targetX}_GetTargetY(){return this._targetY}_GetDistanceToTarget(){const e=this._minorAxis*Math.cos(this._rotation),t=this._majorAxis*Math.sin(this._rotation);return Math.hypot(e,t)}_SetRotation(e){this._rotation=e}_GetRotation(){return this._rotation}_SetOffsetAngle(e){this._offsetAngle=e}_GetOffsetAngle(){return this._offsetAngle}_SetMinorAxis(e){this._minorAxis=e}_GetMinorAxis(){return this._minorAxis}_SetMajorAxis(e){this._majorAxis=e}_GetMajorAxis(){return this._majorAxis}_SetMatchRotation(e){this._matchRotation=!!e}_IsMatchRotation(){return this._matchRotation}_SetTotalRotation(e){this._totalRotation=e}_GetTotalRotation(){return this._totalRotation}_SetTotalAbsoluteRotation(e){this._totalAbsoluteRotation=e}_GetTotalAbsoluteRotation(){return this._totalAbsoluteRotation}_SetPinInstance(e){if(e&&!e.GetWorldInfo())return;const t=this._isEnabled;t&&this._SetEnabled(!1),this._targetObject=e,t&&this._SetEnabled(!0)}_SetEnabled(e){this._isEnabled=!!e,this._ShouldTickLate()?this._isEnabled?this._StartTicking2():this._StopTicking2():this._isEnabled?this._StartTicking():this._StopTicking()}_IsEnabled(){return this._isEnabled}SaveToJson(){return{s:this._speed,a:this._acceleration,r:this._rotation,e:this._isEnabled,a1:this._majorAxis,a2:this._minorAxis,oa:this._offsetAngle,mr:this._matchRotation,tx:this._targetX,ty:this._targetY,tuid:this._targetObject?this._targetObject.GetUID():-1}}LoadFromJson(e){this._speed=e.s,this._acceleration=e.a,this._rotation=e.r,this._majorAxis=e.a1,this._minorAxis=e.a2,this._offsetAngle=e.oa,this._matchRotation=e.mr,this._targetX=e.tx,this._targetY=e.ty,this._targetUid=e.tuid,this._SetEnabled(e.e)}_OnAfterLoad(){-1===this._targetUid?this._targetObject=null:(this._targetObject=this._runtime.GetInstanceByUID(this._targetUid),this._targetUid=-1)}_OnInstanceDestroyed(e){this._targetObject===e&&(this._targetObject=null)}_Initialise(){if(!this._shouldInitialise)return;const e=this._inst.GetWorldInfo();this._targetX=e.GetX(),this._targetY=e.GetY(),this._rotation=e.GetAngle(),this._shouldInitialise=!1}_UpdateTarget(){if(!this._targetObject)return;const e=this._targetObject.GetWorldInfo();this._targetX=e.GetX(),this._targetY=e.GetY()}_ShouldTickLate(){return!!this._targetObject}Tick(){this._TickInternal()}Tick2(){this._TickInternal()}_TickInternal(){if(!this._isEnabled)return;const e=this._runtime.GetDt(this._inst);if(0===e)return;0!==this._acceleration&&(this._speed+=this._acceleration*e);const t=this._inst.GetWorldInfo(),n=this._speed*e;this._rotation=iF.clampAngle(this._rotation+n),this._totalRotation+=n,this._totalAbsoluteRotation+=Math.abs(n);const s=this._minorAxis*Math.cos(this._rotation),r=this._majorAxis*Math.sin(this._rotation),o=Math.cos(this._offsetAngle),a=Math.sin(this._offsetAngle);this._UpdateTarget(),t.SetXY(this._targetX+(s*o-r*a),this._targetY+(s*a+r*o)),this._matchRotation&&t.SetAngle(this._rotation+this._offsetAngle+.5*Math.PI),t.SetBboxChanged()}GetPropertyValueByIndex(e){switch(e){case cF:return iF.toDegrees(this._GetSpeed());case uF:return iF.toDegrees(this._GetAcceleration());case mF:return this._IsEnabled();case hF:return this._GetMinorAxis();case _F:return this._GetMajorAxis();case GF:return iF.toDegrees(this._GetOffsetAngle());case pF:return this._IsMatchRotation()}}SetPropertyValueByIndex(e,t){switch(e){case cF:this._SetSpeed(iF.toRadians(t));break;case uF:this._SetAcceleration(iF.toRadians(t));break;case mF:this._SetEnabled(t);break;case hF:this._SetMinorAxis(t);break;case _F:this._SetMajorAxis(t);break;case GF:this._SetOffsetAngle(iF.toRadians(t));break;case pF:this._SetMatchRotation(t)}}GetDebuggerProperties(){const e="behaviors.orbit";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".debugger.rotation",value:iF.toDegrees(this._GetRotation())},{name:e+".debugger.total-rotation",value:iF.toDegrees(this._GetTotalRotation())},{name:e+".debugger.total-absolute-rotation",value:iF.toDegrees(this._GetTotalAbsoluteRotation())},{name:e+".properties.speed.name",value:iF.toDegrees(this._GetSpeed()),onedit:e=>this._SetSpeed(iF.toRadians(e))},{name:e+".properties.acceleration.name",value:iF.toDegrees(this._GetAcceleration()),onedit:e=>this._SetAcceleration(iF.toRadians(e))},{name:e+".properties.primary-axis.name",value:this._GetMinorAxis(),onedit:e=>this._SetMinorAxis(e)},{name:e+".properties.secondary-axis.name",value:this._GetMajorAxis(),onedit:e=>this._SetMajorAxis(e)},{name:e+".properties.offset-angle.name",value:iF.toDegrees(this._GetOffsetAngle()),onedit:e=>this._SetOffsetAngle(iF.toRadians(e))},{name:e+".properties.match-rotation.name",value:this._IsMatchRotation(),onedit:e=>this._SetMatchRotation(!!e)},{name:e+".properties.enabled.name",value:this._IsEnabled(),onedit:e=>this._SetEnabled(e)}]}]}GetScriptInterfaceClass(){return self.IOrbitBehaviorInstance}};const gF=new WeakMap;self.IOrbitBehaviorInstance=class extends dF{constructor(){super(),gF.set(this,dF._GetInitInst().GetSdkInstance())}setTargetPosition(e,t){lF.RequireFiniteNumber(e),lF.RequireFiniteNumber(t),gF.get(this)._SetTargetXY(e,t)}getTargetPosition(){const e=gF.get(this);return[e._GetTargetX(),e._GetTargetY()]}pin(e){const t=gF.get(this),n=e?t.GetRuntime()._UnwrapIWorldInstance(e):null;t._SetPinInstance(n)}set speed(e){lF.RequireFiniteNumber(e),gF.get(this)._SetSpeed(e)}get speed(){return gF.get(this)._GetSpeed()}set acceleration(e){lF.RequireFiniteNumber(e),gF.get(this)._SetAcceleration(e)}get acceleration(){return gF.get(this)._GetAcceleration()}set rotation(e){lF.RequireFiniteNumber(e),gF.get(this)._SetRotation(e)}get rotation(){return gF.get(this)._GetRotation()}set offsetAngle(e){lF.RequireFiniteNumber(e),gF.get(this)._SetOffsetAngle(e)}get offsetAngle(){return gF.get(this)._GetOffsetAngle()}set primaryRadius(e){lF.RequireFiniteNumber(e),gF.get(this)._SetMinorAxis(e)}get primaryRadius(){return gF.get(this)._GetMinorAxis()}set secondaryRadius(e){lF.RequireFiniteNumber(e),gF.get(this)._SetMajorAxis(e)}get secondaryRadius(){return gF.get(this)._GetMajorAxis()}set isMatchRotation(e){gF.get(this)._SetMatchRotation(!!e)}get isMatchRotation(){return gF.get(this)._IsMatchRotation()}set totalRotation(e){lF.RequireFiniteNumber(e),gF.get(this)._SetTotalRotation(e)}get totalRotation(){return gF.get(this)._GetTotalRotation()}set totalAbsoluteRotation(e){lF.RequireFiniteNumber(e),gF.get(this)._SetTotalAbsoluteRotation(e)}get totalAbsoluteRotation(){return gF.get(this)._GetTotalAbsoluteRotation()}getDistanceToTarget(){return gF.get(this)._GetDistanceToTarget()}set isEnabled(e){gF.get(this)._SetEnabled(e)}get isEnabled(){return gF.get(this)._IsEnabled()}}}self.C3.Behaviors.Orbit.Cnds={IsEnabled(){return this._IsEnabled()}};{const fF=self.C3;fF.Behaviors.Orbit.Acts={SetSpeed(e){this._SetSpeed(fF.toRadians(e))},SetAcceleration(e){this._SetAcceleration(fF.toRadians(e))},SetTarget(e,t){this._SetTargetXY(e,t)},SetRotation(e){this._SetRotation(fF.toRadians(e))},SetOffsetAngle(e){this._SetOffsetAngle(fF.toRadians(e))},SetRadius(e,t){this._SetMinorAxis(e),this._SetMajorAxis(t)},SetMatchRotation(e){this._SetMatchRotation(!!e)},Pin(e){if(!e)return;const t=e.GetFirstPicked(this._inst);t&&this._SetPinInstance(t)},Unpin(){this._SetPinInstance(null)},SetEnabled(e){this._SetEnabled(e)},ResetTotalRotation(){this._SetTotalRotation(0),this._SetTotalAbsoluteRotation(0)}}}{const NF=self.C3;NF.Behaviors.Orbit.Exps={Speed(){return NF.toDegrees(this._GetSpeed())},Acceleration(){return NF.toDegrees(this._GetAcceleration())},PrimaryRadius(){return this._GetMinorAxis()},SecondaryRadius(){return this._GetMajorAxis()},OffsetAngle(){return NF.toDegrees(this._GetOffsetAngle())},Rotation(){return NF.toDegrees(this._GetRotation())},TotalRotation(){return NF.toDegrees(this._GetTotalRotation())},TotalAbsoluteRotation(){return NF.toDegrees(this._GetTotalAbsoluteRotation())},TargetX(){return this._GetTargetX()},TargetY(){return this._GetTargetY()},DistanceToTarget(){return this._GetDistanceToTarget()}}}{const bF=self.C3;bF.Behaviors.MoveTo=class extends bF.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const SF=self.C3;SF.Behaviors.MoveTo.Type=class extends SF.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const xF=self.C3,IF=self.C3X,yF=self.IBehaviorInstance,EF=0,TF=1,CF=2,MF=3,VF=4,BF=5,OF=6;xF.Behaviors.MoveTo.Instance=class extends xF.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._maxSpeed=200,this._acc=600,this._dec=600,this._rotateSpeed=0,this._setAngle=!0,this._stopOnSolids=!1,this._isEnabled=!0,this._speed=0,this._movingAngle=this.GetWorldInfo().GetAngle(),this._waypoints=[],t&&(this._maxSpeed=t[EF],this._acc=t[TF],this._dec=t[CF],this._rotateSpeed=xF.toRadians(t[MF]),this._setAngle=t[VF],this._stopOnSolids=t[BF],this._isEnabled=t[OF]),this._timelineInfo=null,this._lastTargetX=NaN,this._lastTargetY=NaN,this._lastTargetAngle=NaN,this._tRange=[0,0],this._timelineInfoProjectionRange={tRange:this._tRange}}Release(){this._timelineInfo&&(this._timelineInfo.Release(),this._timelineInfo=null),this._lastTargetX=NaN,this._lastTargetY=NaN,this._lastTargetAngle=NaN,this._tRange=null,this._timelineInfoProjectionRange=null,super.Release()}SaveToJson(){return{ms:this._maxSpeed,acc:this._acc,dec:this._dec,rs:this._rotateSpeed,sa:this._setAngle,sos:this._stopOnSolids,s:this._speed,ma:this._movingAngle,wp:this._waypoints.map(e=>({x:e.x,y:e.y})),e:this._isEnabled}}LoadFromJson(e){this._maxSpeed=e.ms,this._acc=e.acc,this._dec=e.dec,this._rotateSpeed=e.rs,this._setAngle=e.sa,this._stopOnSolids=e.sos,this._speed=e.s,this._movingAngle=e.ma,this._waypoints=e.wp.map(e=>({x:e.x,y:e.y})),this._SetEnabled(e.e),this._isEnabled&&this._waypoints.length>0&&this._StartTicking()}_AddWaypoint(e,t,n,s){n&&xF.clearArray(this._waypoints),this._waypoints.push({x:e,y:t,opts:s}),this._isEnabled&&this._StartTicking()}_GetWaypointCount(){return this._waypoints.length}_GetWaypointXAt(e){return(e=Math.floor(e))<0||e>=this._waypoints.length?0:this._waypoints[e].x}_GetWaypointYAt(e){return(e=Math.floor(e))<0||e>=this._waypoints.length?0:this._waypoints[e].y}_IsMoving(){return this._waypoints.length>0}_Stop(){xF.clearArray(this._waypoints),this._speed=0,this._StopTicking()}_GetTargetX(){return this._waypoints.length>0?this._waypoints[0].x:0}_GetTargetY(){return this._waypoints.length>0?this._waypoints[0].y:0}_GetTargetIsBezier(){if(this._waypoints.length>0){const e=this._waypoints[0];if(e.opts)return e.opts.isBezier}return!1}_GetTargetIsBezierFirst(){if(this._waypoints.length>0){const e=this._waypoints[0];if(e.opts)return e.opts.isBezier&&e.opts.isFirst}return!1}_GetTargetBezierAngle(){if(this._waypoints.length>0){const e=this._waypoints[0];if(e.opts)return e.opts.bezierAngle}return NaN}_SetSpeed(e){this._IsMoving()&&(this._speed=Math.min(e,this._maxSpeed))}_GetSpeed(){return this._speed}_SetMaxSpeed(e){this._maxSpeed=Math.max(e,0),this._SetSpeed(this._speed)}_GetMaxSpeed(){return this._maxSpeed}_IsRotationEnabled(){return 0!==this._rotateSpeed}Tick(){if(!this._isEnabled||!this._IsMoving())return;const e=this._runtime.GetDt(this._inst),t=this._inst.GetWorldInfo(),n=t.GetX(),s=t.GetY(),r=t.GetAngle();let o=this._speed,a=this._maxSpeed;const i=this._acc,l=this._dec,d=this._GetTargetX(),c=this._GetTargetY(),u=xF.angleTo(n,s,d,c);let h=!1;if(l>0&&1===this._waypoints.length){const e=.5*o*o/l*1.0001;if(h=xF.distanceSquared(n,s,d,c)<=e*e,h){const e=xF.distanceTo(n,s,d,c);o=Math.sqrt(2*l*e),a=o,this._speed=o}}if(this._IsRotationEnabled()){const e=xF.angleDiff(this._movingAngle,u);if(e>Number.EPSILON){const n=e/this._rotateSpeed,s=xF.distanceTo(t.GetX(),t.GetY(),d,c)/(2*Math.sin(e))*e;a=Math.min(a,xF.clamp(s/n,0,this._maxSpeed))}}let _=h?-l:i;const G=Math.min(o*e+.5*_*e*e,a*e);if(h){if(l>0&&(this._speed=Math.max(this._speed-l*e,0),0===this._speed))return void this._OnArrived(t,d,c)}else this._speed=0===i?a:Math.min(this._speed+i*e,a);if(xF.distanceSquared(t.GetX(),t.GetY(),d,c)<=G*G)this._OnArrived(t,d,c);else{if(this._IsRotationEnabled()?this._movingAngle=xF.angleRotate(this._movingAngle,u,this._rotateSpeed*e):this._movingAngle=u,t.OffsetXY(Math.cos(this._movingAngle)*G,Math.sin(this._movingAngle)*G),this._setAngle){const e=this._GetTargetIsBezier(),n=this._GetTargetIsBezierFirst();if(e&&!n){const e=xF.distanceTo(this._lastTargetX,this._lastTargetY,t.GetX(),t.GetY())/xF.distanceTo(this._lastTargetX,this._lastTargetY,d,c);t.SetAngle(xF.angleLerp(this._lastTargetAngle,this._GetTargetBezierAngle(),e))}else t.SetAngle(this._movingAngle),this._lastTargetX=NaN,this._lastTargetY=NaN,this._lastTargetAngle=NaN}t.SetBboxChanged(),this._CheckSolidCollision(n,s,r)}}_OnArrived(e,t,n){e.SetXY(t,n);const s=this._waypoints[0];s.opts&&s.opts.isBezier?(this._lastTargetX=s.x,this._lastTargetY=s.y,this._lastTargetAngle=s.opts.bezierAngle,this._setAngle&&e.SetAngle(this._lastTargetAngle)):(this._lastTargetX=NaN,this._lastTargetY=NaN,this._lastTargetAngle=NaN),e.SetBboxChanged(),this._waypoints.shift(),0===this._waypoints.length&&(this._timelineInfo&&(this._timelineInfo.Release(),this._timelineInfo=null,this._lastTargetX=NaN,this._lastTargetY=NaN,this._lastTargetAngle=NaN),this._speed=0,this._StopTicking()),this.DispatchScriptEvent("arrived"),this.Trigger(xF.Behaviors.MoveTo.Cnds.OnArrived)}_CheckSolidCollision(e,t,n){const s=this._runtime.GetCollisionEngine();if(this._stopOnSolids&&s.TestOverlapSolid(this._inst)){this._Stop();const r=this._inst.GetWorldInfo(),o=r.GetX(),a=r.GetY(),i=xF.angleTo(o,a,e,t),l=xF.distanceTo(o,a,e,t);s.PushOutSolid(this._inst,Math.cos(i),Math.sin(i),Math.max(l,1))||(r.SetXY(e,t),r.SetAngle(n),r.SetBboxChanged()),this.DispatchScriptEvent("hitsolid"),this.Trigger(xF.Behaviors.MoveTo.Cnds.OnHitSolid)}}_IsSetAngle(){return this._setAngle}_SetSetAngle(e){this._setAngle=!!e}_SetAngleOfMotion(e){if(this._movingAngle=e,this._isEnabled&&this._setAngle&&!this._IsMoving()){const e=this.GetWorldInfo();e.SetAngle(this._movingAngle),e.SetBboxChanged()}}_GetAngleOfMotion(){return this._movingAngle}_SetAcceleration(e){this._acc=Math.max(e,0)}_GetAcceleration(){return this._acc}_SetDeceleration(e){this._dec=Math.max(e,0)}_GetDeceleration(){return this._dec}_SetRotateSpeed(e){this._rotateSpeed=Math.max(e,0)}_GetRotateSpeed(){return this._rotateSpeed}_SetStopOnSolids(e){this._stopOnSolids=!!e}_IsStopOnSolids(){return this._stopOnSolids}_SetEnabled(e){e=!!e,this._isEnabled!==e&&(this._isEnabled=e,this._isEnabled&&this._IsMoving()?this._StartTicking():this._StopTicking())}_IsEnabled(){return this._isEnabled}GetPropertyValueByIndex(e){switch(e){case EF:return this._GetMaxSpeed();case TF:return this._GetAcceleration();case CF:return this._GetDeceleration();case MF:return xF.toDegrees(this._GetRotateSpeed());case VF:return this._IsSetAngle();case BF:return this._IsStopOnSolids();case OF:return this._IsEnabled()}}SetPropertyValueByIndex(e,t){switch(e){case EF:this._SetMaxSpeed(t);break;case TF:this._SetAcceleration(t);break;case CF:this._SetDeceleration(t);break;case MF:this._SetRotateSpeed(xF.toRadians(t));break;case VF:this._SetSetAngle(t);break;case BF:this._SetStopOnSolids(t);break;case OF:this._SetEnabled(t)}}GetDebuggerProperties(){const e="behaviors.moveto";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".debugger.speed",value:this._GetSpeed(),onedit:e=>this._SetSpeed(e)},{name:e+".debugger.angle-of-motion",value:xF.toDegrees(this._GetAngleOfMotion()),onedit:e=>this._movingAngle=xF.toRadians(e)},{name:e+".debugger.target-x",value:this._GetTargetX()},{name:e+".debugger.target-y",value:this._GetTargetY()},{name:e+".debugger.waypoint-count",value:this._GetWaypointCount()},{name:e+".properties.max-speed.name",value:this._GetMaxSpeed(),onedit:e=>this._SetMaxSpeed(e)},{name:e+".properties.acceleration.name",value:this._GetAcceleration(),onedit:e=>this._SetAcceleration(e)},{name:e+".properties.deceleration.name",value:this._GetDeceleration(),onedit:e=>this._SetDeceleration(e)},{name:e+".properties.rotate-speed.name",value:xF.toDegrees(this._GetRotateSpeed()),onedit:e=>this._SetRotateSpeed(xF.toRadians(e))},{name:e+".properties.enabled.name",value:this._IsEnabled(),onedit:e=>this._SetEnabled(e)}]}]}GetScriptInterfaceClass(){return self.IMoveToBehaviorInstance}};const vF=new WeakMap;self.IMoveToBehaviorInstance=class extends yF{constructor(){super(),vF.set(this,yF._GetInitInst().GetSdkInstance())}moveToPosition(e,t,n=!0){IF.RequireFiniteNumber(e),IF.RequireFiniteNumber(t),vF.get(this)._AddWaypoint(e,t,!!n)}getTargetX(){return vF.get(this)._GetTargetX()}getTargetY(){return vF.get(this)._GetTargetY()}getTargetPosition(){const e=vF.get(this);return[e._GetTargetX(),e._GetTargetY()]}getWaypointCount(){return vF.get(this)._GetWaypointCount()}getWaypointX(e){return IF.RequireFiniteNumber(e),vF.get(this)._GetWaypointXAt(e)}getWaypointY(e){return IF.RequireFiniteNumber(e),vF.get(this)._GetWaypointYAt(e)}getWaypoint(e){IF.RequireFiniteNumber(e);const t=vF.get(this);return[t._GetWaypointXAt(e),t._GetWaypointYAt(e)]}stop(){vF.get(this)._Stop()}get isMoving(){return vF.get(this)._IsMoving()}get speed(){return vF.get(this)._GetSpeed()}set speed(e){IF.RequireFiniteNumber(e),vF.get(this)._SetSpeed(e)}get maxSpeed(){return vF.get(this)._GetMaxSpeed()}set maxSpeed(e){IF.RequireFiniteNumber(e),vF.get(this)._SetMaxSpeed(e)}get acceleration(){return vF.get(this)._GetAcceleration()}set acceleration(e){IF.RequireFiniteNumber(e),vF.get(this)._SetAcceleration(e)}get deceleration(){return vF.get(this)._GetDeceleration()}set deceleration(e){IF.RequireFiniteNumber(e),vF.get(this)._SetDeceleration(e)}get angleOfMotion(){return vF.get(this)._GetAngleOfMotion()}set angleOfMotion(e){IF.RequireFiniteNumber(e),vF.get(this)._SetAngleOfMotion(e)}get rotateSpeed(){return vF.get(this)._GetRotateSpeed()}set rotateSpeed(e){IF.RequireFiniteNumber(e),vF.get(this)._SetRotateSpeed(e)}get isStopOnSolids(){return vF.get(this)._IsStopOnSolids()}set isStopOnSolids(e){vF.get(this)._SetStopOnSolids(e)}get isEnabled(){return vF.get(this)._IsEnabled()}set isEnabled(e){vF.get(this)._SetEnabled(e)}}}{const PF=self.C3;PF.Behaviors.MoveTo.Cnds={IsMoving(){return this._IsMoving()},CompareSpeed(e,t){return PF.compare(this._GetSpeed(),e,t)},IsEnabled(){return this._IsEnabled()},OnArrived:()=>!0,OnHitSolid:()=>!0}}{const wF=self.C3,AF=25;wF.Behaviors.MoveTo.Acts={MoveToPosition(e,t,n){this._AddWaypoint(e,t,0===n)},MoveToObject(e,t,n){if(!e)return;const s=e.GetPairedInstance(this._inst);if(!s||!s.GetWorldInfo())return;const[r,o]=s.GetImagePoint(t);this._AddWaypoint(r,o,0===n)},MoveAlongPathfindingPath(e){const t=this._inst.GetBehaviorSdkInstanceFromCtor(wF.Behaviors.Pathfinding);if(!t)return;const n=t._GetPath();if(0!==n.length)for(let t=0,s=n.length;t<s;++t){const s=n[t];this._AddWaypoint(s.x,s.y,0===t&&0===e)}},MoveAlongTimeline(e,t,n){const s=wF.New(wF.TimelineInfo,e,t);if(!s.WasInitialized())return void s.Release();s.SetOrigin(this._inst.GetWorldInfo());let r=!0;for(const e of s.segments())switch(e.GetType()){case"line":{const t=e.GetX(),s=e.GetY();this._AddWaypoint(t,s,r&&0===n),r=!1;break}case"cubic-bezier":for(let t=0;t<=e.GetStepCount();t++){const s=t*e.GetStepIncrement(),o=e.Map(s),a=o[0],i=o[1],l=this._GetWaypointXAt(this._GetWaypointCount()-1),d=this._GetWaypointYAt(this._GetWaypointCount()-1);!r&&wF.IsFiniteNumber(l)&&wF.IsFiniteNumber(d)&&wF.distanceSquared(l,d,a,i)<AF||(this._AddWaypoint(a,i,r&&0===n,{isBezier:!0,isFirst:r,bezierAngle:Math.atan2(i-d,a-l)}),r=!1)}}this._timelineInfo=s},MoveAlongTimelineByName(e,t,n){const s=this._runtime.GetTimelineManager().GetTimelineByName(e);s&&wF.Behaviors.MoveTo.Acts.MoveAlongTimeline.call(this,s,t,n)},Stop(){this._Stop()},SetMovingAngle(e){this._SetAngleOfMotion(wF.toRadians(e))},SetSpeed(e){this._SetSpeed(e)},SetMaxSpeed(e){this._SetMaxSpeed(e)},SetAcceleration(e){this._SetAcceleration(e)},SetDeceleration(e){this._SetDeceleration(e)},SetRotateSpeed(e){this._SetRotateSpeed(wF.toRadians(e))},SetStopOnSolids(e){this._SetStopOnSolids(e)},SetEnabled(e){this._SetEnabled(e)}}}{const DF=self.C3;DF.Behaviors.MoveTo.Exps={Speed(){return this._GetSpeed()},MaxSpeed(){return this._GetMaxSpeed()},Acceleration(){return this._GetAcceleration()},Deceleration(){return this._GetDeceleration()},MovingAngle(){return DF.toDegrees(this._GetAngleOfMotion())},RotateSpeed(){return DF.toDegrees(this._GetRotateSpeed())},TargetX(){return this._GetTargetX()},TargetY(){return this._GetTargetY()},WaypointCount(){return this._GetWaypointCount()},WaypointXAt(e){return this._GetWaypointXAt(e)},WaypointYAt(e){return this._GetWaypointYAt(e)}}}{const RF=self.C3;RF.Behaviors.Rotate=class extends RF.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const FF=self.C3;FF.Behaviors.Rotate.Type=class extends FF.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const jF=self.C3,kF=self.C3X,LF=self.IBehaviorInstance,WF=0,UF=1,HF=2;jF.Behaviors.Rotate.Instance=class extends jF.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._speed=0,this._acceleration=0,this._isEnabled=!0,t&&(this._speed=jF.toRadians(t[WF]),this._acceleration=jF.toRadians(t[UF]),this._isEnabled=t[HF]),this._isEnabled&&this._StartTicking()}Release(){super.Release()}_SetSpeed(e){this._speed=e}_GetSpeed(){return this._speed}_SetAcceleration(e){this._acceleration=e}_GetAcceleration(){return this._acceleration}SaveToJson(){return{s:this._speed,a:this._acceleration,e:this._isEnabled}}LoadFromJson(e){this._speed=e.s,this._acceleration=e.a,this._SetEnabled(e.e)}Tick(){if(!this._isEnabled)return;const e=this._runtime.GetDt(this._inst);if(0!==e&&(0!==this._acceleration&&(this._speed+=this._acceleration*e),0!==this._speed)){const t=this._inst.GetWorldInfo();t.SetAngle(t.GetAngle()+this._speed*e),t.SetBboxChanged()}}GetPropertyValueByIndex(e){switch(e){case WF:return jF.toDegrees(this._GetSpeed());case UF:return jF.toDegrees(this._GetAcceleration());case HF:return this._IsEnabled()}}SetPropertyValueByIndex(e,t){switch(e){case WF:this._SetSpeed(jF.toRadians(t));break;case UF:this._SetAcceleration(jF.toRadians(t));break;case HF:this._SetEnabled(t)}}_SetEnabled(e){this._isEnabled=!!e,this._isEnabled?this._StartTicking():this._StopTicking()}_IsEnabled(){return this._isEnabled}GetDebuggerProperties(){const e="behaviors.rotate";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".properties.speed.name",value:jF.toDegrees(this._GetSpeed()),onedit:e=>this._SetSpeed(jF.toRadians(e))},{name:e+".properties.acceleration.name",value:jF.toDegrees(this._GetAcceleration()),onedit:e=>this._SetAcceleration(jF.toRadians(e))},{name:e+".properties.enabled.name",value:this._IsEnabled(),onedit:e=>this._SetEnabled(e)}]}]}GetScriptInterfaceClass(){return self.IRotateBehaviorInstance}};const zF=new WeakMap;self.IRotateBehaviorInstance=class extends LF{constructor(){super(),zF.set(this,LF._GetInitInst().GetSdkInstance())}set speed(e){kF.RequireFiniteNumber(e),zF.get(this)._SetSpeed(e)}get speed(){return zF.get(this)._GetSpeed()}set acceleration(e){kF.RequireFiniteNumber(e),zF.get(this)._SetAcceleration(e)}get acceleration(){return zF.get(this)._GetAcceleration()}get isEnabled(){return zF.get(this)._IsEnabled()}set isEnabled(e){zF.get(this)._SetEnabled(e)}}}self.C3.Behaviors.Rotate.Cnds={IsEnabled(){return this._IsEnabled()}};{const YF=self.C3;YF.Behaviors.Rotate.Acts={SetSpeed(e){this._SetSpeed(YF.toRadians(e))},SetAcceleration(e){this._SetAcceleration(YF.toRadians(e))},SetEnabled(e){this._SetEnabled(e)}}}{const XF=self.C3;XF.Behaviors.Rotate.Exps={Speed(){return XF.toDegrees(this._GetSpeed())},Acceleration(){return XF.toDegrees(this._GetAcceleration())}}}{const qF=self.C3;qF.Behaviors.custom=class extends qF.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const KF=self.C3;KF.Behaviors.custom.Type=class extends KF.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const JF=self.C3,$F=0,ZF=1,QF=2;JF.Behaviors.custom.Instance=class extends JF.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._dx=0,this._dy=0,this._cancelStep=0,this._stepMode=0,this._pxPerStep=5,this._isEnabled=!0,t&&(this._stepMode=t[$F],this._pxPerStep=t[ZF],this._isEnabled=t[QF]),this._isEnabled&&this._StartTicking()}Release(){super.Release()}SaveToJson(){return{dx:this._dx,dy:this._dy,cs:this._cancelStep,sm:this._stepMode,px:this._pxPerStep,e:this._isEnabled}}LoadFromJson(e){this._dx=e.dx,this._dy=e.dy,this._cancelStep=e.cs,this._stepMode=e.sm,this._pxPerStep=e.px,this._SetEnabled(e.e)}GetSpeed(){return Math.hypot(this._dx,this._dy)}GetAngle(){return Math.atan2(this._dy,this._dx)}_Step(e,t,n){if(0===e&&0===t)return;const s=this.GetWorldInfo(),r=s.GetX(),o=s.GetY();let a=Math.round(JF.hypot2DFast(e,t)/this._pxPerStep);0===a&&(a=1);for(let i=1;i<=a;++i){let l=i/a;if(s.SetXY(r+e*l,o+t*l),s.SetBboxChanged(),this.Trigger(n),1===this._cancelStep)return i--,l=i/a,s.SetXY(r+e*l,o+t*l),void s.SetBboxChanged();if(2===this._cancelStep)return}}Tick(){if(!this._isEnabled||0===this._dx&&0===this._dy)return;const e=this._inst.GetWorldInfo(),t=this._runtime.GetDt(this._inst),n=this._dx*t,s=this._dy*t;this._cancelStep=0,0===this._stepMode?(e.OffsetXY(n,s),e.SetBboxChanged()):1===this._stepMode?this._Step(n,s,JF.Behaviors.custom.Cnds.OnCMStep):2===this._stepMode?(this._Step(n,0,JF.Behaviors.custom.Cnds.OnCMHorizStep),this._cancelStep=0,this._Step(0,s,JF.Behaviors.custom.Cnds.OnCMVertStep)):3===this._stepMode&&(this._Step(0,s,JF.Behaviors.custom.Cnds.OnCMVertStep),this._cancelStep=0,this._Step(n,0,JF.Behaviors.custom.Cnds.OnCMHorizStep))}GetPropertyValueByIndex(e){switch(e){case $F:return this._stepMode;case ZF:return this._pxPerStep;case QF:return this._isEnabled}}SetPropertyValueByIndex(e,t){switch(e){case $F:this._stepMode=t;break;case ZF:this._pxPerStep=t;break;case QF:this._SetEnabled(t)}}_SetEnabled(e){this._isEnabled=!!e,this._isEnabled?this._StartTicking():this._StopTicking()}GetDebuggerProperties(){const e="behaviors.custom";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".debugger.vector-x",value:this._dx,onedit:e=>this._dx=e},{name:e+".debugger.vector-y",value:this._dy,onedit:e=>this._dy=e},{name:e+".properties.pixels-per-step.name",value:this._pxPerStep,onedit:e=>this._pxPerStep=e},{name:e+".properties.enabled.name",value:this._isEnabled,onedit:e=>this._SetEnabled(e)}]}]}}}{const ej=self.C3;ej.Behaviors.custom.Cnds={IsMoving(){return 0!==this._dx||0!==this._dy},CompareSpeed(e,t,n){let s=0;switch(e){case 0:s=this.GetSpeed();break;case 1:s=this._dx;break;case 2:s=this._dy}return ej.compare(s,t,n)},OnCMStep:()=>!0,OnCMHorizStep:()=>!0,OnCMVertStep:()=>!0,IsEnabled(){return this._isEnabled}}}{const tj=self.C3;tj.Behaviors.custom.Acts={Stop(){this._dx=0,this._dy=0},Reverse(e){switch(e){case 0:this._dx*=-1,this._dy*=-1;break;case 1:this._dx*=-1;break;case 2:this._dy*=-1}},SetSpeed(e,t){let n=0;switch(e){case 0:n=this.GetAngle(),this._dx=Math.cos(n)*t,this._dy=Math.sin(n)*t;break;case 1:this._dx=t;break;case 2:this._dy=t}},Accelerate(e,t){const n=t*this._runtime.GetDt(this._inst);let s;switch(e){case 0:s=this.GetAngle(),this._dx+=Math.cos(s)*n,this._dy+=Math.sin(s)*n;break;case 1:this._dx+=n;break;case 2:this._dy+=n}},AccelerateAngle(e,t){t=tj.toRadians(t);const n=e*this._runtime.GetDt(this._inst);this._dx+=Math.cos(t)*n,this._dy+=Math.sin(t)*n},AcceleratePos(e,t,n){const s=this.GetWorldInfo(),r=e*this._runtime.GetDt(this._inst),o=Math.atan2(n-s.GetY(),t-s.GetX());this._dx+=Math.cos(o)*r,this._dy+=Math.sin(o)*r},SetAngleOfMotion(e){e=tj.toRadians(e);const t=this.GetSpeed();this._dx=Math.cos(e)*t,this._dy=Math.sin(e)*t},RotateAngleOfMotionClockwise(e){e=this.GetAngle()+tj.toRadians(e);const t=this.GetSpeed();this._dx=Math.cos(e)*t,this._dy=Math.sin(e)*t},RotateAngleOfMotionCounterClockwise(e){e=this.GetAngle()-tj.toRadians(e);const t=this.GetSpeed();this._dx=Math.cos(e)*t,this._dy=Math.sin(e)*t},StopStepping(e){this._cancelStep=e+1},PushOutSolid(e){let t,n,s;const r=this._inst,o=this.GetRuntime().GetCollisionEngine();switch(e){case 0:t=this.GetAngle(),n=Math.cos(t),s=Math.sin(t),o.PushOutSolid(r,-n,-s,Math.max(3*this.GetSpeed(),100));break;case 1:o.PushOutSolidNearest(r);break;case 2:o.PushOutSolid(r,0,-1,Math.max(3*Math.abs(this._dy),100));break;case 3:o.PushOutSolid(r,0,1,Math.max(3*Math.abs(this._dy),100));break;case 4:o.PushOutSolid(r,-1,0,Math.max(3*Math.abs(this._dx),100));break;case 5:o.PushOutSolid(r,1,0,Math.max(3*Math.abs(this._dx),100))}},PushOutSolidAngle(e){e=tj.toRadians(e);const t=Math.cos(e),n=Math.sin(e);this.GetRuntime().GetCollisionEngine().PushOutSolid(this._inst,t,n,Math.max(3*this.GetSpeed(),100))},SetEnabled(e){this._SetEnabled(e)}}}{const nj=self.C3;nj.Behaviors.custom.Exps={Speed(){return this.GetSpeed()},MovingAngle(){return nj.toDegrees(this.GetAngle())},dx(){return this._dx},dy(){return this._dy}}}{const sj=self.C3;sj.Behaviors.bound=class extends sj.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const rj=self.C3;rj.Behaviors.bound.Type=class extends rj.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const oj=self.C3,aj=0;oj.Behaviors.bound.Instance=class extends oj.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._mode=0,t&&(this._mode=t[aj]),this._StartTicking2()}Release(){super.Release()}SaveToJson(){return{m:this._mode}}LoadFromJson(e){this._mode=e.m}Tick2(){const e=this._inst.GetWorldInfo(),t=e.GetBoundingBox(),n=e.GetLayout();let s=!1;0===this._mode?(e.GetX()<0&&(e.SetX(0),s=!0),e.GetY()<0&&(e.SetY(0),s=!0),e.GetX()>n.GetWidth()&&(e.SetX(n.GetWidth()),s=!0),e.GetY()>n.GetHeight()&&(e.SetY(n.GetHeight()),s=!0)):(t.getLeft()<0&&(e.OffsetX(-t.getLeft()),s=!0),t.getTop()<0&&(e.OffsetY(-t.getTop()),s=!0),t.getRight()>n.GetWidth()&&(e.OffsetX(-(t.getRight()-n.GetWidth())),s=!0),t.getBottom()>n.GetHeight()&&(e.OffsetY(-(t.getBottom()-n.GetHeight())),s=!0)),s&&e.SetBboxChanged()}GetPropertyValueByIndex(e){if(e===aj)return this._mode}SetPropertyValueByIndex(e,t){e===aj&&(this._mode=t)}}}self.C3.Behaviors.bound.Cnds={},self.C3.Behaviors.bound.Acts={},self.C3.Behaviors.bound.Exps={};{const ij=self.C3;ij.Behaviors.solid=class extends ij.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const lj=self.C3;lj.Behaviors.solid.Type=class extends lj.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const dj=self.C3,cj=self.C3X,uj=self.IBehaviorInstance,hj=0,_j=1,Gj=new Set;dj.Behaviors.solid.Instance=class extends dj.SDKBehaviorInstanceBase{constructor(e,t){super(e),this.SetEnabled(!0),t&&(this.SetEnabled(t[hj]),this.SetTags(t[_j]))}Release(){super.Release()}SetEnabled(e){this._inst._SetSolidEnabled(!!e)}IsEnabled(){return this._inst._IsSolidEnabled()}SetTags(e){const t=this._inst.GetSavedDataMap();if(!e.trim())return void t.delete("solidTags");let n=t.get("solidTags");n||(n=new Set,t.set("solidTags",n)),n.clear();for(const t of e.split(" "))t&&n.add(t.toLowerCase())}GetTags(){return this._inst.GetSavedDataMap().get("solidTags")||Gj}_GetTagsString(){return[...this.GetTags()].join(" ")}SaveToJson(){return{e:this.IsEnabled()}}LoadFromJson(e){this.SetEnabled(e.e)}GetPropertyValueByIndex(e){if(e===hj)return this.IsEnabled()}SetPropertyValueByIndex(e,t){e===hj&&this.SetEnabled(t)}GetDebuggerProperties(){return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:"behaviors.solid.properties.enabled.name",value:this.IsEnabled(),onedit:e=>this.SetEnabled(e)},{name:"behaviors.solid.properties.tags.name",value:this._GetTagsString(),onedit:e=>this.SetTags(e)}]}]}GetScriptInterfaceClass(){return self.ISolidBehaviorInstance}};const pj=new WeakMap;self.ISolidBehaviorInstance=class extends uj{constructor(){super(),pj.set(this,uj._GetInitInst().GetSdkInstance())}set isEnabled(e){pj.get(this).SetEnabled(!!e)}get isEnabled(){return pj.get(this).IsEnabled()}set tags(e){cj.RequireString(e),pj.get(this).SetTags(e)}get tags(){return pj.get(this)._GetTagsString()}}}self.C3.Behaviors.solid.Cnds={IsEnabled(){return this.IsEnabled()}},self.C3.Behaviors.solid.Acts={SetEnabled(e){this.SetEnabled(e)},SetTags(e){this.SetTags(e)}},self.C3.Behaviors.solid.Exps={};{const mj=self.C3;mj.Behaviors.Follow=class extends mj.SDKBehaviorBase{constructor(e){super(e)}Release(){super.Release()}}}{const gj=self.C3;gj.Behaviors.Follow.Type=class extends gj.SDKBehaviorTypeBase{constructor(e){super(e)}Release(){super.Release()}OnCreate(){}}}{const fj=self.C3,Nj=self.C3X,bj=self.IBehaviorInstance,Sj=0,xj=1,Ij=2,yj=3,Ej=4,Tj=5,Cj=6,Mj=7,Vj=8,Bj=9,Oj=10,vj=11,Pj=12,wj=13,Aj=["x","y","z-elevation","width","height","angle","opacity","visibility","destroyed"],Dj=["step","linear","angular"],Rj=["time","distance"];fj.Behaviors.Follow.Instance=class extends fj.SDKBehaviorInstanceBase{constructor(e,t){super(e),this._mode="time",this._delay=2,this._maxDelay=2,this._historyRate=30;const n=fj.Behaviors.Follow.BuiltinPropertyState;this._followProps={x:new n("x","x",!0,"linear"),y:new n("y","y",!0,"linear"),zElevation:new n("z-elevation","z",!1,"linear"),width:new n("width","w",!1,"linear"),height:new n("height","h",!1,"linear"),angle:new n("angle","a",!1,"angular"),opacity:new n("opacity","o",!1,"linear"),visibility:new n("visibility","v",!1,"step"),destroyed:new n("destroyed","d",!0,"step")},this._followPropsByApiId=new Map,this._followPropsBySaveId=new Map;for(const e of Object.values(this._followProps))this._followPropsByApiId.set(e.GetApiId(),e),this._followPropsBySaveId.set(e.GetSaveId(),e);if(this._customPropsById=new Map,this._isEnabled=!0,this._followInst=null,this._loadFollowInstUid=-1,this._nextEntryTime=-1,this._history=[],this._isPaused=!1,this._pausedAtTime=0,this._clockOffset=0,t){this._mode=["time","distance"][t[Sj]],this._delay=t[xj],this._maxDelay=t[Ij],this._historyRate=t[yj];const e=this._followProps;e.x.SetEnabled(!!t[Ej]),e.y.SetEnabled(!!t[Tj]),e.zElevation.SetEnabled(!!t[Cj]),e.width.SetEnabled(!!t[Mj]),e.height.SetEnabled(!!t[Vj]),e.angle.SetEnabled(!!t[Bj]),e.opacity.SetEnabled(!!t[Oj]),e.visibility.SetEnabled(!!t[vj]),e.destroyed.SetEnabled(!!t[Pj]),this._isEnabled=!!t[wj]}const s=this._runtime.Dispatcher();this._disposables=new fj.CompositeDisposable(fj.Disposable.From(s,"instancedestroy",e=>this._OnInstanceDestroyed(e.instance)),fj.Disposable.From(s,"afterload",()=>this._OnAfterLoad()))}Release(){this._followInst=null,super.Release()}_OnInstanceDestroyed(e){if(this._followInst===e){if(this._followProps.destroyed.IsEnabled()){const e="distance"===this._mode,t=new fj.Behaviors.Follow.HistoryEntry(this._runtime.GetGameTime());t.SetData(this._followInst,{x:e,y:e,destroyed:!0}),this._history.push(t)}this._followInst=null}}Tick2(){this._followInst&&this._MaybeAddHistoryEntry(),this._MaybeRemoveHistoryEntries(),this._UpdateTicking(),this._UpdateInstance()}_GetFollowTime(){return this._isPaused?this._pausedAtTime:this._runtime.GetGameTime()-this._clockOffset}_MaybeAddHistoryEntry(){const e=this._GetFollowTime(),t="distance"===this._mode,n=1/this._historyRate;if(0===this._history.length||e>=this._nextEntryTime-.02*n){let s;const r=this._GetFollowWorldInfo();if(t&&r&&this._history.length>0){const[e,t]=r.GetXY(),n=this._history.at(-1),[o,a]=n.GetXY();e===o&&t===a&&(s=n)}s||(s=new fj.Behaviors.Follow.HistoryEntry(e),this._history.push(s));const o=this._followProps;s.SetData(this._followInst,{x:o.x.IsEnabled()||t,y:o.y.IsEnabled()||t,zElevation:o.zElevation.IsEnabled(),width:o.width.IsEnabled(),height:o.height.IsEnabled(),angle:o.angle.IsEnabled(),opacity:o.opacity.IsEnabled(),visibility:o.visibility.IsEnabled(),customProperties:this._GetCustomPropertyValuesForHistoryEntry()}),-1===this._nextEntryTime?this._nextEntryTime=e+n:(this._nextEntryTime+=n,this._nextEntryTime<e&&(this._nextEntryTime=e+n))}}_GetCustomPropertyValuesForHistoryEntry(){if(0===this._customPropsById.size)return null;const e=new Map;for(const t of this._customPropsById.values())e.set(t.GetId(),t.GetCurrentValue());return e}_MaybeRemoveHistoryEntries(){0!==this._history.length&&("time"===this._mode?this._MaybeRemoveHistoryEntries_Time():"distance"===this._mode&&this._MaybeRemoveHistoryEntries_Distance())}_MaybeRemoveHistoryEntries_Time(){const e=this._GetFollowTime()-this._maxDelay,t=this._history;for(let n=0,s=t.length;n<s;++n)if(t[n].GetTime()>e){n>=2&&t.splice(0,n-1);break}}_MaybeRemoveHistoryEntries_Distance(){const e=this._maxDelay;let t=0;const n=this._history;for(let s=n.length-2;s>=0;--s){const r=n[s],[o,a]=r.GetXY(),i=n[s+1],[l,d]=i.GetXY();if(t+=fj.hypot2DFast(o-l,a-d),t>e){s>=1&&n.splice(0,s);break}}}_UpdateInstance(){if(this._followInst===this._inst)return;const[e,t,n]=this._GetHistoryEntryPairForCurrentDelay();if(null===e)return;const s=this._inst,r=s.GetWorldInfo(),o=this._followProps;if(r){let s=!1,a=!1;if(o.x.IsEnabled()){const a=this._Interpolate(e.GetX(),t?.GetX(),n,o.x.GetInterpolation());null!==a&&a!==r.GetX()&&(r.SetX(a),s=!0)}if(o.y.IsEnabled()){const a=this._Interpolate(e.GetY(),t?.GetY(),n,o.y.GetInterpolation());null!==a&&a!==r.GetY()&&(r.SetY(a),s=!0)}if(o.zElevation.IsEnabled()){const a=this._Interpolate(e.GetZElevation(),t?.GetZElevation(),n,o.zElevation.GetInterpolation());null!==a&&a!==r.GetZElevation()&&(r.SetZElevation(a),s=!0)}if(o.width.IsEnabled()){const a=this._Interpolate(e.GetWidth(),t?.GetWidth(),n,o.width.GetInterpolation());null!==a&&a!==r.GetWidth()&&(r.SetWidth(a),s=!0)}if(o.height.IsEnabled()){const a=this._Interpolate(e.GetHeight(),t?.GetHeight(),n,o.height.GetInterpolation());null!==a&&a!==r.GetHeight()&&(r.SetHeight(a),s=!0)}if(o.angle.IsEnabled()){const a=this._Interpolate(e.GetAngle(),t?.GetAngle(),n,o.angle.GetInterpolation());null!==a&&a!==r.GetAngle()&&(r.SetAngle(a),s=!0)}if(o.opacity.IsEnabled()){const s=this._Interpolate(e.GetOpacity(),t?.GetOpacity(),n,o.opacity.GetInterpolation());null!==s&&s!==r.GetOpacity()&&(r.SetOpacity(s),a=!0)}if(o.visibility.IsEnabled()){const s=this._Interpolate(e.IsVisible(),t?.IsVisible(),n,o.visibility.GetInterpolation());null!==s&&s!==r.IsVisible()&&(r.SetVisible(s),a=!0)}s?r.SetBboxChanged():a&&this._runtime.UpdateRender()}o.destroyed.IsEnabled()&&e.IsDestroyEntry()&&this._runtime.DestroyInstance(s);for(const s of this._customPropsById.values()){const r=s.GetId(),o=this._Interpolate(e.GetCustomProperty(r),t?.GetCustomProperty(r),n,s.GetInterpolation());null!==o&&s.SetDelayedValue(o)}}_Interpolate(e,t,n,s){if(null==t)return e;if("string"==typeof e||"string"==typeof t)return n<1?e:t;switch(s){case"step":return n<1?e:t;case"linear":return fj.lerp(e,t,n);case"angular":return fj.angleLerp(e,t,n);default:throw new Error("bad interpolation type")}}_GetHistoryEntryPairForCurrentDelay(){let e=null,t=null,n=0;if("time"===this._mode){const s=this._GetFollowTime()-this._delay;[e,t]=this._GetHistoryEntryPairForTime(s),e&&t&&(n=fj.unlerp(e.GetTime(),t.GetTime(),s))}else if("distance"===this._mode){let s=null;const r=this._GetFollowWorldInfo();if(r&&this._history.length>0){const[e,t]=r.GetXY(),[n,o]=this._history.at(-1).GetXY();e===n&&t===o||(s=new fj.Behaviors.Follow.HistoryEntry(this._GetFollowTime()),s.SetData(this._followInst,{x:!0,y:!0}),this._history.push(s))}[e,t,n]=this._GetHistoryEntryPairForDistance(this._delay),s&&this._history.pop()}return[e,t,n]}_GetHistoryEntryPairForTime(e){const t=this._history;for(let n=0,s=t.length;n<s;++n){const r=t[n];if(r.GetTime()===e)return n<s-1?[r,t[n+1]]:n>=1?[t[0],r]:[r,null];if(r.GetTime()>e)return n>=1?[t[n-1],r]:[null,r]}return t.length>=1?[t.at(-1),null]:[null,null]}_GetHistoryEntryPairForDistance(e){let t=0;const n=this._history;for(let s=n.length-2;s>=0;--s){const r=n[s],[o,a]=r.GetXY(),i=n[s+1],[l,d]=i.GetXY(),c=t;if(t+=fj.hypot2DFast(o-l,a-d),t>=e)return[r,i,fj.unlerp(t,c,e)]}return n.length>=1?[null,n[0],0]:[null,null,0]}_ClearHistory(){this._history.length=0}_RewindHistory(e){if(e<=0)return;if(e>=this._maxDelay)return void this._ClearHistory();const t=this._GetFollowTime()-e;this._history=this._history.filter(e=>e.GetTime()<=t),this._IsPaused()?this._pausedAtTime-=e:this._clockOffset+=e,this._nextEntryTime=this._GetFollowTime()+1/this._GetHistoryRate()}_HasFollowData(){const[e]=this._GetHistoryEntryPairForCurrentDelay();return!!e}_GetHistoryEntryCount(){return this._history.length}_StartFollowingInstance(e,t=!1){if(!e)throw new Error("invalid instance");this._followInst!==e&&(this._followInst=e,t&&this._AddDelayedHistoryEntryForSelf(),this._UpdateTicking())}_StopFollowingInstance(){this._followInst&&(this._followInst=null,this._UpdateTicking())}_AddDelayedHistoryEntryForSelf(){const e="distance"===this._mode,t=this._followProps,n=new fj.Behaviors.Follow.HistoryEntry(this._GetFollowTime()-this._GetDelay());n.SetData(this._inst,{x:t.x.IsEnabled()||e,y:t.y.IsEnabled()||e,zElevation:t.zElevation.IsEnabled(),width:t.width.IsEnabled(),height:t.height.IsEnabled(),angle:t.angle.IsEnabled(),opacity:t.opacity.IsEnabled(),visibility:t.visibility.IsEnabled(),customProperties:this._GetCustomPropertyValuesForHistoryEntry()});let s=0,r=!1;for(const e of this._history){if(e.GetTime()>=n.GetTime()){this._history.splice(s,0,n),r=!0;break}++s}r||this._history.push(n)}_GetFollowInstance(){return this._followInst}_GetFollowWorldInfo(){return this._followInst?.GetWorldInfo()}_SetMode(e){this._mode!==e&&(this._mode=e,this._runtime.UpdateRender())}_GetMode(){return this._mode}_SetDelay(e){e=Math.max(e,0),this._delay!==e&&(this._delay=e,this._UpdateInstance())}_GetDelay(){return this._delay}_SetMaxDelay(e){this._maxDelay=Math.max(e,0)}_GetMaxDelay(){return this._maxDelay}_SetHistoryRate(e){this._historyRate=Math.max(e,0)}_GetHistoryRate(){return this._historyRate}_GetFollowPropertyInfo(e){return this._followPropsByApiId.get(e)}_SetFollowPropertyEnabled(e,t){t=!!t;const n=this._GetFollowPropertyInfo(e);n.IsEnabled()!==t&&(n.SetEnabled(t),this._runtime.UpdateRender())}_IsFollowPropertyEnabled(e){return this._GetFollowPropertyInfo(e).IsEnabled()}_SetFollowPropertyInterpolation(e,t){const n=this._GetFollowPropertyInfo(e);n.GetInterpolation()!==t&&(n.SetInterpolation(t),this._runtime.UpdateRender())}_GetFollowPropertyInterpolation(e){return this._GetFollowPropertyInfo(e).GetInterpolation()}_IsFollowingCustomProperty(e){return this._customPropsById.has(e.toLowerCase())}_StartFollowingCustomProperty(e,t){const n=e.toLowerCase(),s=this._customPropsById.get(n);s?s.SetInterpolation(t):this._customPropsById.set(n,new fj.Behaviors.Follow.CustomPropertyState(n,t))}_StopFollowingCustomProperty(e){this._customPropsById.delete(e.toLowerCase())}_SetCustomPropertyValue(e,t){const n=this._customPropsById.get(e.toLowerCase());n&&n.SetCurrentValue(t)}_GetDelayedCustomPropertyValue(e){const t=this._customPropsById.get(e.toLowerCase());return t?t.GetDelayedValue():null}_PropertyIndexToId(e){return Aj[e]}_InterpolationIndexToId(e){return Dj[e]}_ModeIndexToId(e){return Rj[e]}_SetEnabled(e){e=!!e,this._isEnabled!==e&&(this._isEnabled=e,this._UpdateTicking())}_IsEnabled(){return this._isEnabled}_SetPaused(e){e=!!e,this._isPaused!==e&&(e?this._pausedAtTime=this._GetFollowTime():this._clockOffset=this._runtime.GetGameTime()-this._pausedAtTime,this._isPaused=e,this._UpdateTicking())}_IsPaused(){return this._isPaused}_UpdateTicking(){this._IsEnabled()&&!this._IsPaused()&&(this._GetFollowInstance()||this._history.length>0)?this._StartTicking2():this._StopTicking2()}_SaveHistoryToJSON(e){const t=this._GetFollowTime();let n=this._history;return 0!==e&&(n=n.filter(n=>n.GetTime()>=t-e)),{h:n.map(e=>e.SaveToJson(t))}}_LoadHistoryJSON(e){const t=this._GetFollowTime();this._history.length=0;for(const n of e.h){const e=fj.Behaviors.Follow.HistoryEntry.CreateFromJson(n);e.OffsetTime(t),this._history.push(e)}this._history.length>0&&this._SetDelay(Math.min(t-this._history[0].GetTime(),this._GetMaxDelay())),this._UpdateTicking()}SaveToJson(){const e={};for(const[t,n]of this._followPropsBySaveId)n.IsDefault()||(e[t]=n.SaveToJson());return{m:Rj.indexOf(this._mode),d:this._delay,md:this._maxDelay,hr:this._historyRate,net:this._nextEntryTime,f:this._followInst?this._followInst.GetUID():-1,ps:e,cps:[...this._customPropsById.values()].map(e=>e.SaveToJson()),h:this._history.map(e=>e.SaveToJson()),p:this._isPaused,pt:this._pausedAtTime,co:this._clockOffset,e:this._isEnabled}}LoadFromJson(e){const t=Rj[e.m];"string"==typeof t&&(this._mode=t),this._delay=e.d,this._maxDelay=e.md,this._historyRate=e.hr,this._nextEntryTime=e.net,this._loadFollowInstUid=e.f,this._isPaused=!!e.p,this._pausedAtTime=e.pt,this._clockOffset=e.co,this._history.length=0;for(const t of e.h)this._history.push(fj.Behaviors.Follow.HistoryEntry.CreateFromJson(t));const n=new Set;for(const[t,s]of Object.entries(e.ps)){const e=this._followPropsBySaveId.get(t);e&&(e.LoadFromJson(s),n.add(t))}for(const[e,t]of this._followPropsBySaveId)n.has(e)||t.SetDefault();this._customPropsById.clear();for(const t of e.cps){const e=fj.Behaviors.Follow.CustomPropertyState.CreateFromJson(t);this._customPropsById.set(e.GetId(),e)}this._UpdateTicking()}_OnAfterLoad(){-1===this._loadFollowInstUid?this._followInst=null:(this._followInst=this._runtime.GetInstanceByUID(this._loadFollowInstUid),this._loadFollowInstUid=-1)}GetPropertyValueByIndex(e){switch(e){case xj:return this._GetDelay();case Ij:return this._GetMaxDelay();case yj:return this._GetHistoryRate();case Ej:return this._IsFollowPropertyEnabled("x");case Tj:return this._IsFollowPropertyEnabled("y");case Cj:return this._IsFollowPropertyEnabled("z-elevation");case Mj:return this._IsFollowPropertyEnabled("width");case Vj:return this._IsFollowPropertyEnabled("height");case Bj:return this._IsFollowPropertyEnabled("angle");case Oj:return this._IsFollowPropertyEnabled("opacity");case vj:return this._IsFollowPropertyEnabled("visibility");case Pj:return this._IsFollowPropertyEnabled("destroyed")}}SetPropertyValueByIndex(e,t){switch(e){case xj:this._SetDelay(t);break;case Ij:this._SetMaxDelay(t);break;case yj:this._SetHistoryRate(t);break;case Ej:this._SetFollowPropertyEnabled("x",t);break;case Tj:this._SetFollowPropertyEnabled("y",t);break;case Cj:this._SetFollowPropertyEnabled("z-elevation",t);break;case Mj:this._SetFollowPropertyEnabled("width",t);break;case Vj:this._SetFollowPropertyEnabled("height",t);break;case Bj:this._SetFollowPropertyEnabled("angle",t);break;case Oj:this._SetFollowPropertyEnabled("opacity",t);break;case vj:this._SetFollowPropertyEnabled("visibility",t);break;case Pj:this._SetFollowPropertyEnabled("destroyed",t)}}GetDebuggerProperties(){const e="behaviors.follow";return[{title:"$"+this.GetBehaviorType().GetName(),properties:[{name:e+".properties.mode.name",value:this._GetMode()},{name:e+".properties.delay.name",value:this._GetDelay(),onedit:e=>this._SetDelay(e)},{name:e+".properties.max-delay.name",value:this._GetMaxDelay(),onedit:e=>this._SetMaxDelay(e)},{name:e+".properties.history-rate.name",value:this._GetHistoryRate(),onedit:e=>this._SetHistoryRate(e)},{name:e+".properties.follow-x.name",value:this._IsFollowPropertyEnabled("x"),onedit:e=>this._SetFollowPropertyEnabled("x",e)},{name:e+".properties.follow-y.name",value:this._IsFollowPropertyEnabled("y"),onedit:e=>this._SetFollowPropertyEnabled("y",e)},{name:e+".properties.follow-z-elevation.name",value:this._IsFollowPropertyEnabled("z-elevation"),onedit:e=>this._SetFollowPropertyEnabled("z-elevation",e)},{name:e+".properties.follow-width.name",value:this._IsFollowPropertyEnabled("width"),onedit:e=>this._SetFollowPropertyEnabled("width",e)},{name:e+".properties.follow-height.name",value:this._IsFollowPropertyEnabled("height"),onedit:e=>this._SetFollowPropertyEnabled("height",e)},{name:e+".properties.follow-angle.name",value:this._IsFollowPropertyEnabled("angle"),onedit:e=>this._SetFollowPropertyEnabled("angle",e)},{name:e+".properties.follow-opacity.name",value:this._IsFollowPropertyEnabled("opacity"),onedit:e=>this._SetFollowPropertyEnabled("opacity",e)},{name:e+".properties.follow-visibility.name",value:this._IsFollowPropertyEnabled("visibility"),onedit:e=>this._SetFollowPropertyEnabled("visibility",e)},{name:e+".properties.follow-destroyed.name",value:this._IsFollowPropertyEnabled("destroyed"),onedit:e=>this._SetFollowPropertyEnabled("destroyed",e)},{name:e+".properties.enabled.name",value:this._IsEnabled(),onedit:e=>this._SetEnabled(e)},{name:e+".debugger.paused",value:this._IsPaused(),onedit:e=>this._SetPaused(e)},{name:e+".debugger.history-entry-count",value:this._GetHistoryEntryCount()}]}]}GetScriptInterfaceClass(){return self.IFollowBehaviorInstance}},fj.Behaviors.Follow.INTERP_ID_ARRAY=Dj;const Fj=new WeakMap,jj=new Set(Rj),kj=new Set(Dj),Lj=new Set(Aj);self.IFollowBehaviorInstance=class extends bj{constructor(){super(),Fj.set(this,bj._GetInitInst().GetSdkInstance())}startFollowing(e,t=!1){const n=Fj.get(this),s=n.GetRuntime()._UnwrapIInstance(e);n._StartFollowingInstance(s,t)}stopFollowing(){Fj.get(this)._StopFollowingInstance()}get followInstance(){const e=Fj.get(this)._GetFollowInstance();return e?e.GetInterfaceClass():null}set mode(e){if(!jj.has(e))throw new Error("invalid mode");Fj.get(this)._SetMode(e)}get mode(){return Fj.get(this)._GetMode()}set delay(e){Nj.RequireFiniteNumber(e),Fj.get(this)._SetDelay(e)}get delay(){return Fj.get(this)._GetDelay()}set maxDelay(e){Nj.RequireFiniteNumber(e),Fj.get(this)._SetMaxDelay(e)}get maxDelay(){return Fj.get(this)._GetMaxDelay()}set historyRate(e){Nj.RequireFiniteNumber(e),Fj.get(this)._SetHistoryRate(e)}get historyRate(){return Fj.get(this)._GetHistoryRate()}clearHistory(){Fj.get(this)._ClearHistory()}rewindHistory(e){Nj.RequireFiniteNumber(e),Fj.get(this)._RewindHistory(e)}get hasFollowData(){return Fj.get(this)._HasFollowData()}setFollowingProperty(e,t){if(!Lj.has(e))throw new Error("invalid property");Fj.get(this)._SetFollowPropertyEnabled(e,t)}isFollowingProperty(e){if(!Lj.has(e))throw new Error("invalid property");return Fj.get(this)._IsFollowPropertyEnabled(e)}setPropertyInterpolation(e,t){if(!Lj.has(e))throw new Error("invalid property");if(!kj.has(t))throw new Error("invalid interpolation mode");Fj.get(this)._SetFollowPropertyInterpolation(e,t)}getPropertyInterpolation(e){if(!Lj.has(e))throw new Error("invalid property");return Fj.get(this)._GetFollowPropertyInterpolation(e)}startFollowingCustomProperty(e,t){if(Nj.RequireString(e),!kj.has(t))throw new Error("invalid interpolation mode");Fj.get(this)._StartFollowingCustomProperty(e,t)}stopFollowingCustomProperty(e){Nj.RequireString(e),Fj.get(this)._StopFollowingCustomProperty(e)}isFollowingCustomProperty(e){Nj.RequireString(e),Fj.get(this)._IsFollowingCustomProperty(e)}setCustomPropertyValue(e,t){if(Nj.RequireString(e),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected number or string");Fj.get(this)._SetCustomPropertyValue(e,t)}getDelayedCustomPropertyValue(e){return Nj.RequireString(e),Fj.get(this)._GetDelayedCustomPropertyValue(e)}get isPaused(){return Fj.get(this)._IsPaused()}set isPaused(e){Fj.get(this)._SetPaused(!!e)}saveHistoryToJSON(e=0){return Nj.RequireFiniteNumber(e),Fj.get(this)._SaveHistoryToJSON(e)}loadHistoryFromJSON(e){Nj.RequireObject(e),Fj.get(this)._LoadHistoryJSON(e)}get isEnabled(){return Fj.get(this)._IsEnabled()}set isEnabled(e){Fj.get(this)._SetEnabled(e)}}}{const Wj=self.C3;Wj.Behaviors.Follow.Cnds={CompareMode(e){return this._GetMode()===this._ModeIndexToId(e)},CompareDelay(e,t){return Wj.compare(this._GetDelay(),e,t)},CompareMaxDelay(e,t){return Wj.compare(this._GetMaxDelay(),e,t)},CompareHistoryRate(e,t){return Wj.compare(this._GetHistoryRate(),e,t)},IsFollowingProperty(e){return this._IsFollowPropertyEnabled(this._PropertyIndexToId(e))},IsFollowingCustomProperty(e){return this._IsFollowingCustomProperty(e)},IsEnabled(){return this._IsEnabled()},IsFollowingObject(){return!!this._GetFollowInstance()},HasFollowData(){return this._HasFollowData()},IsPaused(){return this._IsPaused()}}}self.C3.Behaviors.Follow.Acts={SetMode(e){this._SetMode(this._ModeIndexToId(e))},SetDelay(e){this._SetDelay(e)},SetMaxDelay(e){this._SetMaxDelay(e)},SetHistoryRate(e){this._SetHistoryRate(e)},SetFollowingProperty(e,t){this._SetFollowPropertyEnabled(this._PropertyIndexToId(e),t)},SetPropertyInterpolation(e,t){this._SetFollowPropertyInterpolation(this._PropertyIndexToId(e),this._InterpolationIndexToId(t))},StartFollowingCustomProperty(e,t){this._StartFollowingCustomProperty(e,this._InterpolationIndexToId(t))},StopFollowingCustomProperty(e){this._StopFollowingCustomProperty(e)},SetCustomPropertyValue(e,t){this._SetCustomPropertyValue(e,t)},FollowObject(e,t){if(!e)return;const n=e.GetPairedInstance(this._inst);n&&this._StartFollowingInstance(n,t)},FollowSelf(){this._StartFollowingInstance(this._inst)},StopFollowing(){this._StopFollowingInstance()},SetEnabled(e){this._SetEnabled(e)},ClearHistory(){this._ClearHistory()},RewindHistory(e){this._RewindHistory(e)},SetPaused(e){this._SetPaused(e)},LoadHistoryJSON(e){let t=null;try{t=JSON.parse(e)}catch(e){return void console.warn("[Construct] Follow behavior failed to load history from JSON: ",e)}this._LoadHistoryJSON(t)}},self.C3.Behaviors.Follow.Exps={Delay(){return this._GetDelay()},MaxDelay(){return this._GetMaxDelay()},HistoryRate(){return this._GetHistoryRate()},FollowUID(){const e=this._GetFollowInstance();return e?e.GetUID():-1},DelayedCustomPropertyValue(e){return this._GetDelayedCustomPropertyValue(e)??0},HistoryAsJSON(e){return JSON.stringify(this._SaveHistoryToJSON(e))}};{const Uj=self.C3;Uj.Behaviors.Follow.HistoryEntry=class{constructor(e){this._time=e,this._props=new Map,this._customProps=null}SetData(e,t){const n=this._props,s=e?.GetWorldInfo();s&&(t.x&&n.set("x",s.GetX()),t.y&&n.set("y",s.GetY()),t.zElevation&&n.set("z",s.GetZElevation()),t.width&&n.set("w",s.GetWidth()),t.height&&n.set("h",s.GetHeight()),t.angle&&n.set("a",s.GetAngle()),t.opacity&&n.set("o",s.GetOpacity()),t.visibility&&n.set("v",s.IsVisible())),t.destroyed&&n.set("d",!0),t.customProperties&&(this._customProps=t.customProperties)}GetTime(){return this._time}OffsetTime(e){this._time+=e}GetX(){return this._props.get("x")??null}GetY(){return this._props.get("y")??null}GetXY(){return[this.GetX(),this.GetY()]}GetZElevation(){return this._props.get("z")??null}GetWidth(){return this._props.get("w")??null}GetHeight(){return this._props.get("h")??null}GetAngle(){return this._props.get("a")??null}GetOpacity(){return this._props.get("o")??null}IsVisible(){return!!this._props.get("v")}IsDestroyEntry(){return!!this._props.get("d")}GetCustomProperty(e){return this._customProps?.get(e)??null}SaveToJson(e){const t={};for(const[e,n]of this._props)t[e]=n;return{t:"number"==typeof e?this._time-e:this._time,p:t}}static CreateFromJson(e){const t=new Uj.Behaviors.Follow.HistoryEntry(e.t);for(const[n,s]of Object.entries(e.p))t._props.set(n,s);return t}}}{const Hj=self.C3;Hj.Behaviors.Follow.BuiltinPropertyState=class{constructor(e,t,n,s){this._apiId=e,this._saveId=t||this._apiId,this._isEnabled=!!n,this._interpolation=s,this._defaultIsEnabled=this._isEnabled,this._defaultInterpolation=this._interpolation}GetApiId(){return this._apiId}GetSaveId(){return this._saveId}SetEnabled(e){this._isEnabled=!!e}IsEnabled(){return this._isEnabled}SetInterpolation(e){this._interpolation=e}GetInterpolation(){return this._interpolation}IsDefault(){return this._isEnabled===this._defaultIsEnabled&&this._interpolation===this._defaultInterpolation}SetDefault(){this._isEnabled=this._defaultIsEnabled,this._interpolation=this._defaultInterpolation}SaveToJson(){return{e:this._isEnabled,i:Hj.Behaviors.Follow.INTERP_ID_ARRAY.indexOf(this._interpolation)}}LoadFromJson(e){this._isEnabled=!!e.e;const t=Hj.Behaviors.Follow.INTERP_ID_ARRAY[e.i];"string"==typeof t&&(this._interpolation=t)}},Hj.Behaviors.Follow.CustomPropertyState=class{constructor(e,t){this._id=e,this._interpolation=t,this._currentValue=null,this._delayedValue=null}GetId(){return this._id}SetInterpolation(e){this._interpolation=e}GetInterpolation(){return this._interpolation}SetCurrentValue(e){this._currentValue=e}GetCurrentValue(){return this._currentValue}SetDelayedValue(e){this._delayedValue=e}GetDelayedValue(){return this._delayedValue}SaveToJson(){return{id:this._id,i:Hj.Behaviors.Follow.INTERP_ID_ARRAY.indexOf(this._interpolation),cv:this._currentValue,dv:this._delayedValue}}static CreateFromJson(e){const t=e.id,n=Hj.Behaviors.Follow.INTERP_ID_ARRAY[e.i],s=new Hj.Behaviors.Follow.CustomPropertyState(t,n);return s._currentValue=e.cv,s._delayedValue=e.dv,s}}}{let zj=function(e){return"number"==typeof e?-e:e},Yj=function(e,t){return"number"==typeof e&&"number"==typeof t},Xj=function(e,t){return Yj(e,t)?e+t:e},qj=function(e,t){return Yj(e,t)?e-t:e},Kj=function(e,t){return Yj(e,t)?e*t:e},Jj=function(e,t){return Yj(e,t)?e/t:e},$j=function(e,t){return Yj(e,t)?e%t:e},Zj=function(e,t){return Yj(e,t)?Math.pow(e,t):e},Qj=function(e,t){if("string"==typeof e||"string"==typeof t){let n,s;return n="number"==typeof e?(Math.round(1e10*e)/1e10).toString():e,s="number"==typeof t?(Math.round(1e10*t)/1e10).toString():t,n+s}return e&&t?1:0},ek=function(e,t){return Yj(e,t)?e||t?1:0:e};unaryminus=zj,bothNumbers=Yj,add=Xj,subtract=qj,multiply=Kj,divide=Jj,mod=$j,pow=Zj,and=Qj,or=ek;const tk=self.C3;self.C3_ExpressionFuncs=[()=>"MainFont",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()},()=>"Text",()=>"IMPORTANT\n\nThis is a SNAPSHOT which is different from a STABLE release - it contains content that may have yet to be polished, several features may still be unstable, and everything is subject to change!\n\nIf you do run into an issue, feel free to report them on our Discord!\n\nThanks for reading, and enjoy using the V8 beta!",()=>400,()=>224,()=>"middle",()=>"",()=>1,()=>0,()=>-1,()=>"opacityToFull",()=>100,()=>.5,()=>2.5,()=>"opacityZero",()=>192,()=>"Touch or press enter to continue",()=>416,()=>16,()=>"opacityBlink",()=>50,()=>.25,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("OneUp")},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()},()=>"Title screen startup",()=>"{}",()=>"play",()=>26,()=>15,()=>"mapScreenWidth",()=>"mapScreenHeight",()=>240,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()},()=>2,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-1},()=>206,()=>176,()=>"createBasicMenu posY",()=>195,()=>.75,()=>"fadeToSemiTransparent opacity",()=>.65,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod();return()=>ek(Qj(t(n())>=24?1:0,11===s(r())?1:0),Qj(1===o(a())?1:0,0===i(l())?1:0))},()=>"colors1_16_1",()=>"TitleTheme",()=>"TitleMusic",()=>"gameVersionDisplay",()=>"posY",()=>8,()=>"Web",()=>"\n[scale=0.66]Windows Desktop build[/scale]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n())%2},()=>180,()=>"CRTMode",()=>4.68,()=>"TitleMusicHoliday",()=>"TitleThemeHoliday",()=>13.69,()=>"Title screen menus",()=>"createBasicMenu",()=>"FenceOverlay",()=>"FenceOverlayHUD",()=>"RoundedOverlay",()=>432,()=>128,()=>"HUD",()=>28,()=>72,()=>"buttonContainer",()=>"titleScreen",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+14},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-22},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("LSS",t.GetValue())},()=>"linkToLSS",()=>"regularButton",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("title-screen.tooltips.join-lss")},()=>-20,e=>{const t=e._GetNode(0);return()=>t.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("YouTube",t.GetValue())},()=>"linkToYouTube",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("title-screen.tooltips.lss-yt")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+22},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Discord",t.GetValue())},()=>"linkToDiscord",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("title-screen.tooltips.smc-discord")},()=>66,()=>"posX",()=>384,()=>256,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("LevelStats",t.GetValue())},()=>"openGameInfo",()=>"moveIntoPlace",()=>388,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MainLevelSettings",t.GetValue())},()=>"openOptions",()=>.1,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CardDisplay",t.GetValue())},()=>104,()=>96,()=>"goToLevelLoader",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("title-screen.buttons.play-level")},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()},()=>"buttonText",()=>-30,()=>-4,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Mario",t.GetValue())},()=>-25,()=>-12,()=>9,()=>32,()=>-5,()=>3,()=>"width",()=>.2,()=>208,()=>"goToLevelEditor",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("title-screen.buttons.level-editor")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Obj",t.GetValue())},()=>312,()=>"minigames",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("title-screen.buttons.extras")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+n.GetValue()},()=>"opacity",()=>.15,()=>"Notification",()=>"overlay",()=>"recordingNotice",()=>"notificationOverlay",()=>"Hovering over title buttons",()=>"HUDMessages",()=>7105644,()=>"resize",e=>{const t=e._GetNode(0);return()=>1.2*t.ExpObject()},()=>.3,()=>16777215,()=>"Pressing title buttons",()=>"transitionToOtherScreen",()=>"Level Select",()=>"Paste And Play",()=>"backToMainMenu",()=>"openMainMenu",e=>{const t=e._GetNode(0).GetVar();return()=>-1*t.GetValue()},()=>"scrollableText",()=>"stopBeingScrollable",()=>"pressedAnim1",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+4},()=>"keybindsMenuContainer",()=>"disabled",()=>"pressedAnim2",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-12},()=>"pressedAnim3",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+8},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-256,-512)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-192,192)},()=>"riseToTop",()=>-16,()=>"fadeToBlack",()=>"Title screen options",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),1)},()=>"rollAndOpenOptions",()=>.33,()=>424,()=>"moveToBottomForSettings posY",()=>"moveToBottomForSettings",()=>120,()=>288,()=>184,()=>270,()=>-90,()=>"moveIntoPlaceForSettings posX",()=>"moveIntoPlaceForSettings",()=>"main",()=>"preventUserInteraction",()=>"closePauseMenu",()=>"optionsDisappear posX",()=>"openExtraOptions",()=>"height",()=>504,()=>"moveLeftAndOpenExtraOptions posX",()=>"optionsDisappear",()=>480,()=>264,()=>"moveLeftAndOpenExtraOptions",()=>"Viewing game information",()=>"bumpUp",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-2},()=>"moveLeftAndOpenGameInfo",()=>-8,()=>40,()=>85,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Tab",t.GetValue())},()=>168,()=>12,()=>"gameInfo",()=>"About",()=>248,()=>"Credits",()=>"separator",()=>64,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.go-back")},e=>{const t=e._GetNode(0);return()=>.75*t.ExpInstVar_Family()},()=>152,()=>"[scale=0.75][color=#CCCCCC]Welcome to...[/color][/scale] \n[color=#C80018] Super Mario Construct [/color]\n\n[color=#FFFDD2]This tool aims to bridge the gap between user-friendly editors and advanced level making.[/color]\n\n[scale=0.75][color=#CCCCCC]- Disclaimer -\nNote that this game does not aim to be a competitor for Super Mario Maker or its sequel. The ideology behind both editors are very different and this is not intended to be a replacement for that game.\n\nThis is a Mario fangame made solely with love for the series, and does not have any profit intentions![/scale]\n\nAll rights to the Mario IP belong to Nintendo.[/color]",()=>20,()=>80,()=>376,()=>"Credits events",()=>"lb",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("FenceOverlayHUD")},()=>"FFFFFF",()=>"https://levelsharesquare.com/users/645e76a2cf92190299fa9fce",()=>"DevProfile_LB",()=>"009900",()=>"tfd",()=>"deaded",()=>"https://levelsharesquare.com/users/645e781ccf92190299faa034",()=>"DevProfile_TFD",()=>"fc83c1",()=>"smug",()=>"ffffff",()=>"https://levelsharesquare.com/users/645fb749050bf703394f9239",()=>"DevProfile_Smug",()=>"006900",()=>"nitrox",()=>"d6fae9",()=>"https://levelsharesquare.com/users/645fb7d3050bf703394f9566",()=>"DevProfile_Nitro",()=>"37ef91",()=>"cube",()=>"https://levelsharesquare.com/users/65db61820a9376cda93242c9",()=>"DevProfile_Cube",()=>"5e01ff",()=>"kc",()=>"https://levelsharesquare.com/users/65f602b492f14752e49fd23f",()=>"DevProfile_KC",()=>"f8c000",()=>"vibrallo",()=>"https://levelsharesquare.com/users/66ba58b89ceda85a76b504a2",()=>"DevProfile_Vibrallo",()=>"ff0878",()=>"vox",()=>"999999",()=>"https://levelsharesquare.com/users/645fb73d050bf703394f9204",()=>"DevProfile_Vox",()=>"414a4c",()=>"meep",()=>"https://levelsharesquare.com/users/645ff498050bf70339504a16",()=>"DevProfile_Meep",()=>"843442",()=>"solidfire",()=>"https://levelsharesquare.com/users/645fe757050bf70339503428",()=>"DevProfile_Solidfire",()=>"c01af1",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetVar();return()=>"- [background=#000000]Project lead & programmer[/background] -\n\n  [color=#"+t.GetValue()+"][tag=lb]Luigibonus[/tag][/color]\n\n- [background=#000000]Project assistance & community manager[/background] -\n\n  [color=#"+n.GetValue()+"][tag=tfd]The Flying Dutchman[/tag][/color]\n\n- [background=#000000]Sprite & art team members[/background] -\n\n[offsetx=4][color=#"+s.GetValue()+"][tag=smug]Smuglutena[/tag][/color][/offsetx]        [offsetx=-21][color=#"+r.GetValue()+"][tag=nitrox]Nitrox[/tag][/color][/offsetx]\n\n[offsetx=-16][color=#ffa61f]Evan. F[/color][/offsetx]        [offsetx=-16][color=#03eb48]Mist[/color][/offsetx]\n\n[offsetx=-19][color=#0a89ff]Fesh[/color][/offsetx]        [color=#fffbb3]Uniido[/color]\n\n[offsetx=-15][color=#"+o.GetValue()+"][tag=cube]cuB.e[/tag][/color][/offsetx]        [offsetx=1][color=#FF8A00]Noveni[/color][/offsetx]\n\n- [background=#000000]Composers[/background] -\n\n[color=#"+a.GetValue()+"][tag=kc]KookieCast[/tag][/color]\n\n[color=#"+i.GetValue()+"][tag=vibrallo]Vibrallo[/tag][/color]\n\n- [background=#000000]Code contributors[/background] -\n\n[color=#"+l.GetValue()+"][tag=vox]Vortoxium[/tag][/color]\n\n[color=#"+d.GetValue()+"][tag=meep]Fail Meep[/tag][/color]\n\n- [background=#000000]Promotional artists[/background] -\n\n[color=#22B573]T4ctical[/color]\n\n[color=#"+c.GetValue()+"][tag=solidfire]Solidfire[/tag][/color]\n\n- [background=#000000]Special Thanks[/background] -\n\n[color=#68eef2]BluSeven[/color]\n[scale=0.75][color=#CCCCCC]Promoting & video-editor[/color][/scale]\n\n[color=#ffb3d9]Tristaph[/color]\n[scale=0.75][color=#CCCCCC]Advisor & some sprite contributions[/color][/scale]\n\n[color=#ff56ff]Doram[/color]\n[scale=0.75][color=#CCCCCC]Designer of the LSS-icon SVG[/color][/scale]\n\n[color=#62c3ff]Brendan[/color]\n[scale=0.75][color=#CCCCCC]Providing great support for SMC[/color][/scale]\n\n -[background=#000000]Past Contributions[/background] -\n[scale=0.75][color=#CCCCCC]These people are no longer working on the game, but have contributed in some way in the past. Thank you all![/color][/scale]\n\n[color=#ff0000]SuperMakerPlayer[/color]\n[color=#ffff00]Bananaramen[/color]\n[color=#f3098e]Niplob[/color]\n[scale=0.75][color=#CCCCCC]Our previous talented sound team members helping shape the SMC soundtrack![/color][/scale]\n\n- [background=#000000]External[/background] -\n\n[color=#ffb3d9]Valtteri[/color]\n[scale=0.75][color=#CCCCCC]For extending some vanilla tilesets from Super Mario World[/color][/scale]\n\n[color=#E16D2B]codeman38[/color]\n[scale=0.75][color=#CCCCCC]Creator of ''Press Start 2P'' font used in text fields[/color][/scale]\n\n[color=#CC0000]Nintendo[/color]\n[scale=0.75][color=#CCCCCC]Creator and copyright holder of the Mario franchise[/color][/scale]"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+28},()=>"LB",()=>132,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+60},()=>"TFD",()=>110,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+94},()=>"Smug",()=>226,()=>"Nitro",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+126},()=>"Fesh",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+142},()=>"cuB.e",()=>"Noveni",()=>158,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+173},()=>"KC",()=>166,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+190},()=>"Vibrallo",()=>162,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+222},()=>"Vox",()=>164,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+286},()=>"Solidfire",()=>"BlockButton links",()=>"https://levelsharesquare.com",()=>"LSSWindow",()=>"https://www.youtube.com/c/LevelShareSquare/",()=>"YouTubeWindow",()=>"https://discord.com/invite/rmC5gnA",()=>"DiscordWindow",()=>"Title Screen letter events",()=>"Japanese Title Screen easter egg probability",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>ek("jp-JP"===t()?1:0,n(100)>=99?1:0)},()=>"Creating the Title Screen letters (function)",()=>"SMAS SMB1 Title Screen letters",()=>"JapaneseVer",()=>"lowS | lowU | lowP | lowE | lowR | lowM | lowA | lowR | lowI | lowO | lowC | lowO | lowN | lowS | lowT | lowR | lowU | lowC | lowT | subF | subO | subR | subS | subU | subP | subE | subR | subC | subR | subE | subA | subT | subO | subR | subS",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("GamestyleFont",t.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+12},()=>"",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-8},()=>"japaneseEasterEggSubtext",()=>"lowS | lowU | lowP | lowE | lowR | lowM | lowA | lowR | lowI | lowO | capC | capO | capN | capS | capT | capR | capU | capC | capT",e=>{const t=e._GetNode(0).GetVar();return()=>19+16*t.GetValue()},()=>"Logo",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>Qj(t.GetValue(),"_TS_")+n(s.GetValue(),r.GetValue()-1," | ")},()=>"Brightness",()=>"brightnessValue",()=>200,()=>"SMW Title Screen letters",()=>"titleLetterBrightness",()=>.16,()=>.08,()=>"ObjectLetters",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_TS_Three")},()=>"posXY",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("Text",n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("Text",n.GetValue()))+24},()=>"F83838",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("SUPER | MARIO | FLASH",n.GetValue()-1," | ")},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/60},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-24},e=>{const t=e._GetNode(0);return()=>t.ExpObject("JapaneseText")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("JapaneseText")-24},()=>"00DEFF",()=>"             ",()=>.083,e=>{const t=e._GetNode(0);return()=>t.ExpObject()+24},e=>{const t=e._GetNode(0).GetVar();return()=>19+t.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),"_TS_")+n("lowS | lowU | lowP | lowE | lowR | capM | capA | capR | capI | capO | capC | capO | capN | capS | capT | capR | capU | capC | capT | three",s.GetValue()-1," | ")},()=>25,()=>"default",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(1===t.GetValue()?1:0,9===n.GetValue()?1:0),15===s.GetValue()?1:0),18===r.GetValue()?1:0)},()=>3750399,()=>"red",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>ek(ek(ek(ek(ek(2===t.GetValue()?1:0,4===n.GetValue()?1:0),7===s.GetValue()?1:0),12===r.GetValue()?1:0),16===o.GetValue()?1:0),20===a.GetValue()?1:0)},()=>16768512,()=>"blue",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>ek(ek(ek(ek(3===t.GetValue()?1:0,8===n.GetValue()?1:0),11===s.GetValue()?1:0),14===r.GetValue()?1:0),19===o.GetValue()?1:0)},()=>2739967,()=>"yellow",()=>52736,()=>"green",()=>"october",()=>22776,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>ek(ek(ek(ek(2===t.GetValue()?1:0,4===n.GetValue()?1:0),7===s.GetValue()?1:0),12===r.GetValue()?1:0),16===o.GetValue()?1:0)},()=>33016,()=>49400,()=>"december",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>ek(ek(ek(ek(1===t.GetValue()?1:0,5===n.GetValue()?1:0),9===s.GetValue()?1:0),12===r.GetValue()?1:0),15===o.GetValue()?1:0)},()=>6,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_DecM")},()=>19,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_DecT")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(2===t.GetValue()?1:0,8===n.GetValue()?1:0),13===s.GetValue()?1:0),17===r.GetValue()?1:0)},()=>51200,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(3===t.GetValue()?1:0,7===n.GetValue()?1:0),11===s.GetValue()?1:0),16===r.GetValue()?1:0)},()=>16314600,()=>13138168,()=>"Objects",()=>156,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bell")},()=>260,e=>{const t=e._GetNode(0);return()=>-t.ExpBehavior()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()<21?n.GetValue()/30:1.08},()=>"appear opacity",()=>"moveIntoPlace zElevation",()=>"Title Screen letters Tween events",e=>{const t=e._GetNode(0);return()=>t.ExpObject("SemiSolid")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-16},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("titleLetterBrightness")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("brightnessValue")},()=>"Title Screen letters Touch events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"sub")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>"Editor/"+t("ToolbarClose|ToolbarOpen|ToolbarInteract|SpritePlacedYoshi|SpritePlacedTechnical|SpritePlacedItem|SpriteDeletedEnemy1|SpriteDeletedEnemy2|SpriteDeletedItem|ContainerFilled|CustomizationOpen",Math.floor(n(s("ToolbarClose|ToolbarOpen|ToolbarInteract|SpritePlacedYoshi|SpritePlacedTechnical|SpritePlacedItem|SpriteDeletedEnemy1|SpriteDeletedEnemy2|SpriteDeletedItem|ContainerFilled|CustomizationOpen","|"))),"|")},()=>"createCoinsAtSubtitle",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+2},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Coin")},e=>{const t=e._GetNode(0);return()=>1+.0625*(t.ExpObject()-1)},e=>{const t=e._GetNode(0);return()=>16===t.ExpObject()?1:0},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-1},()=>"everything",()=>-2,()=>-256,()=>-128,()=>"japaneseSubTextScale",()=>"japaneseSubTextScale jstsStep1",e=>{const t=e._GetNode(0);return()=>Qj("[scale=",t.ExpBehavior("japaneseSubTextScale"))+"][/scale]"},()=>"jstsStep1",()=>"japaneseSubTextScale jstsStep2",()=>.4,e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("updateMaxOffset")+2},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()>6?6:n.GetValue()},()=>"updateMaxOffset",()=>1.5,e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("updateMaxOffset")},e=>{const t=e._GetNode(0);return()=>"[color=#"+t.ExpInstVar()+"]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetBoundMethod();return()=>Qj(Qj("[offsetX=",t(-n.ExpInstVar(),s.ExpInstVar()))+"][offsetY=",r(-o.ExpInstVar(),a.ExpInstVar()))+"]"+i(l.ExpInstVar(),d(),1)+"[/offsetY][/offsetX]"},()=>"[/color]",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Blastoff")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>-1===t(n.ExpObject(),"sub")?1:0},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>8*t()},()=>"Coin",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-76,76)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>-t(112,288)},()=>10,()=>"Seasonal Title Screen Objects events",()=>"Toggle holiday Title Screen effects",()=>"holiday",()=>"snow",()=>"filters.snow.intensity",()=>"colors2_16_1",()=>"1_hill2",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>Qj(1===t(n())?1:0,0===s(r())?1:0)},()=>.8,()=>"Backgrounds",()=>4194304,()=>"opacity appear",()=>5,()=>2.9,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n())},()=>"LevelContents",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("LevelContents")+96},()=>124,()=>"5pxStar",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("LevelContents")-96},()=>"firework",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Explosion")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue().toString())},e=>{const t=e._GetNode(0).GetVar();return()=>148+40*t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>"Num"+t(n.GetValue().toString(),s.GetValue(),1)},()=>2.4,()=>"opacity disappearAndDestroy",()=>"Title Screen special object creation (function)",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/30},()=>"Title Jingle Bells",()=>"bell",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("MessageBlock")},()=>"stopSine",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject())},()=>"SparkleLooped",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(6,10)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(-8*-Math.sign(n.ExpObject()),3*-s.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(8,-48)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(56,72)},()=>11,e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+1},e=>{const t=e._GetNode(0);return()=>t.ExpObject("StompablePoint")},()=>"jumpRicochet posY",()=>"Collision",()=>"bellRang",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-2*n.ExpObject()},()=>"e88",e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?1:0},()=>"0",()=>"selectableItem",()=>"transformIntoSnowPokey",()=>"snowPokeyPartTween",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj("EditorSnowPokey",t.GetValue())+"_",n.ExpInstVar())},()=>"SpawnPoint",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16+16*t(n(s.ExpInstVar(),0,","))},()=>"onlyUp",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>(t(n.ExpInstVar())+1).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>16+16*t(n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("snowPokeyPartTween")},()=>"Themed title screen events",()=>"Gathering saved data",()=>"SMC_LevelMetaData",()=>"SMC_Settings",()=>"SMC_LoginSession",()=>"invis",()=>"slowmode",()=>"extra.css",()=>"tipsDisplayed",e=>{const t=e._GetNode(0);return()=>t.ExpObject("tipsDisplayed")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject()),0,"_")},()=>"dismissed",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject(r.ExpObject()),1,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-24192e5},()=>"token",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("Loading ",Math.round(100*t()))+"%"},()=>"checkBootProcess",()=>"fullscreen",()=>"p1_keybinds",e=>{const t=e._GetNode(0);return()=>t.ExpObject("p1_keybinds")},()=>"keyboard_keybinds",e=>{const t=e._GetNode(0);return()=>t.ExpObject("keyboard_keybinds")},()=>"gamepad_keybinds",e=>{const t=e._GetNode(0);return()=>t.ExpObject("gamepad_keybinds")},()=>"doAutosaveCycle",()=>"autosaveInterval",()=>300,()=>"doAutosaveNotification",()=>"automaticRestorePointInterval",()=>900,()=>"doPeriodicDownloadLevelPrompts",()=>"automaticDownloadLevelPromptInterval",()=>1800,()=>"favbar",()=>"open",()=>"miniToolbar",()=>"grid",()=>"inactiveLayerOpacity",()=>33,()=>"editorMusic",()=>"playEditorSounds",()=>"doToolbarAnimations",()=>"showCursorCoordinates",()=>"musicSortingID",()=>"musicVolume",()=>"soundVolume",()=>"skipDeathAnimation",()=>"fullscreenScalingMode",()=>"smoothLighting",()=>"trailFrameCount",()=>60,()=>"frameSkipping",()=>"reducedParticles",e=>{const t=e._GetNode(0);return()=>t.ExpObject("reducedParticles")?32:128},()=>"recorderQuality",()=>"recorderCodec",()=>"webm-vp9",()=>"recorderAudio",()=>"recorderAutoDownload",()=>"screenShakeDisabled",()=>"colorBlindMode",()=>"visualizedTimers",()=>"offscreenIndicators",()=>"lastVersion",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpObject("lastVersion"),s())},()=>"Welcome to a new version of Super Mario Construct!",()=>"updateSuccessfulNotice",()=>"Star",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("lastVersion"),"v8.beta32")},()=>"newUpdateContents",e=>{const t=e._GetNode(0);return()=>t.ExpObject("newUpdateContents")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n(),1)},()=>"s",()=>"Updating new feature highlights",()=>"newTilesets",()=>"2_vase|2_rope|2_retroSnow|2_retroDesert|2_retroForest|2_retroMountain",()=>"newSprites_1",()=>"b29|b30|o30|e184|e185|e186",()=>"newSprites_2",()=>"newMusic",()=>"newOrUpdatedPages",()=>"1_mainBlocks|1_mainObjects|1_mainEnemies|1_shellEnemies|2_mainBlocks|2_mainObjects|2_mainEnemies|2_shellEnemies",()=>"Updating language",()=>"activeLocale",()=>"en-US",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n(),0,"-")},()=>"en-GB",()=>"es",()=>"es-MX",()=>"la",()=>"de",()=>"nl",()=>"fr",()=>"pt",()=>"it",()=>"pl",()=>"ru",()=>"jp",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.GetValue()+"-"+n(s.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("activeLocale")},()=>"Gameboot special effects",()=>"createIcons",()=>13,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(12,16))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(0,25))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(0,13))},e=>{const t=e._GetNode(0);return()=>16*t.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Math.round(t(n.ExpObject()))},()=>.05,()=>"Filling arrays, dictionaries & function maps",()=>"menuToolbarCreation",()=>"generalTiles",()=>"tilesets",()=>"objects",()=>"enemies",()=>"tilepage",()=>"layers",()=>"layerSettings",()=>"warps",()=>"createNewDestination",()=>"createNewEntryway",()=>"effects",()=>"effectSettings",()=>"maps",()=>"createNewMap",()=>"settings",()=>"createEffectMenuElements",()=>"generator",()=>"getGradients",()=>"bgPalettes",()=>"tilemapPalettes",()=>"miscPalettes",()=>"tilemapMetadata",()=>"objectSidebarButtons_SMAS1",()=>"objectSidebarButtons_SMW",()=>"ID_sprite_pairs",()=>"tileConversionData",()=>"tileCollisions",()=>"tileEdgeCollisions",()=>"screenwrapCollisions",()=>"languageData",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>"Languages/"+t("en-US|en-GB|de-DE|nl-NL|fr-FR|es-MX|pt-PT|it-IT|pl-PL|ru-RU|jp-JP|la",n.GetValue(),"|")+".json"},()=>"curValue",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject()),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()),r(),",")},()=>"Menu initiation",()=>"createCodeBox",e=>{const t=e._GetNode(0);return()=>"{}"===t.ExpObject()?72:128},()=>"Color",()=>14589018,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>"{}"===t.ExpObject()?"":n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("regular-play.html.level-code-placeholder")},()=>352,()=>36,()=>"levelCode",()=>"background",()=>"#2D4E6F",()=>"clearAndPaste",()=>"pasteAndPlayMenu",()=>"Clear and paste next",()=>"Paste 'N' Play menu music",()=>"PasteAndPlayTheme",()=>"MenuMusic",()=>47.33,()=>"Insert code",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpObject("ver"),s())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.outdated-version")},e=>{const t=e._GetNode(0);return()=>Qj("maps.",t.ExpObject("start.map"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.missing-startpoint")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.unrecognized-code")},()=>"Create level preview & remove preview (functions)",e=>{const t=e._GetNode(0);return()=>t.ExpObject("start.map")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("style")},()=>216,()=>"playLevel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.play")},()=>"start.p1.power",e=>{const t=e._GetNode(0);return()=>t.ExpObject("start.p1.power")},()=>108,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"Walk0_"),n.GetValue())},()=>"timer",e=>{const t=e._GetNode(0);return()=>t.ExpObject("timer")},()=>68,()=>84,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("regular-play.labels.time")},()=>"right",()=>"displayTimeText",()=>92,()=>"left",()=>"displayLevelTimer",()=>"lives",e=>{const t=e._GetNode(0);return()=>t.ExpObject("lives")},()=>56,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"LivesDisplay")},()=>76,()=>"",()=>"displayLivesCount",()=>356,()=>58,e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(Qj(Qj(Qj(Qj(Qj(t.ExpObject("name"),"\n"),"[scale=0.7]"),n("regular-play.labels.made-by")),"[/scale] [offsety=2]"),s.ExpObject("authors")),"[/offsety]")},()=>24,()=>"desc",e=>{const t=e._GetNode(0);return()=>t.ExpObject("desc")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("regular-play.labels.no-desc")},()=>"levelDescription",()=>122,()=>"extendDescription",()=>"",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".bg"},()=>"Background",()=>"bg",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".mg"},()=>"Middleground",()=>"mg",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".fg"},()=>"Foreground",()=>"fg",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".bgc"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11),_=e._GetNode(12).GetVar();return()=>t(n(s(r.ExpObject("maps."+o.GetValue()+".bgc"),0,",")),a(i(l.ExpObject("maps."+d.GetValue()+".bgc"),1,",")),c(u(h.ExpObject("maps."+_.GetValue()+".bgc"),2,",")))},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".grd"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".grd")},()=>-10,()=>"toCamera zElevation",()=>"disappearAndDestroy",()=>"moveOffScreen",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()},()=>"scrollMenu",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()+120-n("FenceOverlayHUD")-12},()=>"fullLevelDescription",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t()+148+n.ExpObject()/2-s("FenceOverlayHUD")},()=>"Erroneous code info",()=>368,()=>"levelCodeErrorNotice",()=>"Playing level & Clearing code buttons",e=>{const t=e._GetNode(0);return()=>t.ExpObject("jump")},()=>"Extending (& collapsing) full description",()=>"extendToShowFullDescription",()=>328,()=>-72,()=>"Full description expanded",()=>"collapseDescription",()=>"collapseAndHideFullDescription",()=>"",()=>"Return to Title Screen",()=>"returnToTitleScreen",()=>"disappear",()=>"becomeOpaque opacity",()=>"coverScreenAndReturnToTitle",()=>"Advanced options menu",()=>"moveLeftAndSpawnButtons posX",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-8*n()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+8*n()},()=>-32,e=>{const t=e._GetNode(0);return()=>t.ExpObject()+32},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-32},()=>"moveLeftAndSpawnButtons",()=>"openTranslationTools",()=>"extraOptionsMenuSidebar",()=>"Translation file sync",()=>"openModernLevelCodeConvertor",()=>"Convert level code to latest release\n[scale=0.5][color=#CCCCCC]V8 or later[/color][/scale]",()=>"backToTitleScreenMenu",()=>"landing",()=>"moveRightAndExitMenu",()=>"Interacting with the sidebar buttons",()=>"translationTools",()=>"levelCodeConvertor",()=>"shrinkAndDisappear width",()=>"moveRightAndExitMenu posX",()=>496,()=>"moveOffscreen posY",()=>"moveAsActiveMenu posX",()=>"backToSidebar posX",()=>"Setting advanced menu page",()=>"Landing",()=>48,e=>{const t=e._GetNode(0);return()=>t.ExpObject()+64},()=>"[color=#607890]Navigate using the buttons on the left.[/color]",()=>"landingsPageText",()=>"Open translation tools",()=>"[color=#607890]This is a tool for community translators to sync language files with the en-US file, which always has the latest updates.[/color]",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+42},()=>9468e3,e=>{const t=e._GetNode(0);return()=>t.ExpObject()+48},()=>"Paste the contents of the JSON file here...",()=>"langFileInput",()=>"Customizer2",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+158},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-64},()=>"syncLangFile",()=>"extraOptionsMenu",()=>"Synchronize",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+172},()=>"Open level code updater to latest release (V8+)",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+36},()=>"[color=#607890]As the game gets updates, some level code structure or data changes can occur occasionally. When loading a level, these are converted automatically, but you can also use this form to do it manually.\n\nSupports conversion starting from SMC V8 Snapshot 12.[/color]",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+66},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+72},()=>"Paste a level code to convert here...",()=>"levelCodeConversionInput",()=>"convertLevelCode",()=>"Convert",()=>"moveIntoNewPosition posY",()=>"General textbox & button events + create form result function",()=>"font-size",()=>"1.6vw",()=>"6px",()=>"formResultNotice",()=>"copyConvertedCode",()=>"Level code copied!",()=>"langDataCopied",()=>"Backup",()=>"error",()=>"color",()=>7107839,()=>"Translation tools",()=>"locale",()=>"This is not a valid translation file input - make sure you've pasted the file entirely.",()=>"langFileInputError",()=>"Error",()=>"copyLangFile",()=>"Language data copied! You can just paste it over the existing language file data in your editor.",()=>"resetLangToolsMenu",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-48},()=>"Copy",()=>"Go back",()=>"Done! You can find untranslated strings by searching for the \\[!] prefix.",()=>"Level code convertor (V8+)",()=>"This is not a valid level code. Double-check if the code is pasted completely.",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(),s.ExpObject("ver"))},()=>"This level code is for a level created in a future version. You may need to update your game.",()=>"This level code is already compatible with the latest version.",()=>"Processing ...",()=>"resetLevelConvertorMenu",()=>"Updated the level code to be compatible with the latest version!",()=>"Extra options/tools menu music",()=>"ExtraOptionsTheme",()=>"ExtraOptionsMusic",()=>4.4,()=>"Level Select startup events & BlockButton navigation",()=>"edit",()=>"preventScrolling",()=>"fadeIn",()=>"levelSelectLabel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.labels.level-select")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>8*t(n.ExpObject())+16},()=>"pickGamestyleLabel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.labels.pick-gamestyle")},()=>"pickThemeLabel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.labels.pick-theme")},()=>"gameStyleNotice",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.gamestyle-notice")},()=>"levelThemeNotice",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.theme-notice")},()=>"clickForThemeInfo",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("themes.menu.pick-theme")},()=>"levelNameLabel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.labels.level-name")},()=>"sizePresetLabel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.labels.size-preset")},()=>"lssBackupNotice",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.cloud-backup-need-login")},()=>"newLevelName",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.html.level-name-placeholder")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>Qj(4<=t(n())?1:0,s(r())<=9?1:0)},()=>"AdjustHSL0",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>Qj(10<=t(n())?1:0,s(r())<=15?1:0)},()=>"AdjustHSL2",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>ek(22<=t(n())?1:0,s(r())<=3?1:0)},()=>"AdjustHSL4",e=>{const t=e._GetNode(0);return()=>t.ExpObject("musicVolume")},()=>"Menu1",()=>"Overlay",()=>"fadeOut",()=>"preventMenuMusicFade",()=>"returnToLevelSelect",()=>"scrollY",()=>"Menu2",()=>-100,()=>"returnToGameStyleSelect",()=>360,()=>39.8,()=>"Background movement",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-16*n()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+16*n()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+128},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-128},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+32*n()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-32*n()},()=>"Checking for levels + creating level cards",()=>"MenuContainer",()=>"MenuBack",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>208+224*t.GetValue()-n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("CardDisplay",t.ExpObject(n.GetValue(),1))},e=>{const t=e._GetNode(0).GetVar();return()=>208+224*t.GetValue()},()=>144,()=>"levelCard",()=>"empty",()=>"showLevelInfo",()=>6579300,()=>18,()=>272,()=>"levelDot",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+20*n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),1)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("GSIcon",t.ExpObject(n.GetValue(),1))},()=>"GSIcon1",()=>"OutlineColor",()=>2215663,()=>"GSIcon2",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/100},()=>"bounceIntoScreen posY",()=>222,()=>214,()=>"Scrolling through cards",()=>.01,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>-1*(t.GetValue()-n.ExpInstVar_Family())},()=>"screenMenuClosing",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()-n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+n.GetValue()},()=>"scrollSFX",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-224*n.GetValue()},()=>"shrink",()=>"grow",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("SMC_Level",t.GetValue())+"_Thumbnail"},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+1},()=>"requestFromBinary",()=>88,()=>100.8,()=>61.599999999999994,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("data:image/png;base64,",t())},()=>"getImage",()=>"Update Cards",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-58},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.labels.empty-card")},()=>236,()=>"cardHeader",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-96},()=>"createNewLevel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.buttons.create-new")},()=>"importLevelCode",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.buttons.import-code")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpInstVar_Family(),1)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(2===t.GetValue()?"":"[color=#000000]",n.ExpObject(s.ExpInstVar_Family(),2))+"[/color]"},()=>"displayLevelName",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-74},()=>102,e=>{const t=e._GetNode(0);return()=>t.ExpObject()+46},()=>148,e=>{const t=e._GetNode(0);return()=>t.ExpObject()-56},()=>160,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Play",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.tooltips.play")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-36},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("RestorePoints",t.GetValue())},()=>"openRestorePointMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.tooltips.restore-points")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("EditTriple",t.GetValue())},()=>"editLevel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.tooltips.open-editor")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Share",t.GetValue())},()=>"viewLevelCode",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.tooltips.view-code")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+56},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Close",t.GetValue())},()=>"deleteLevel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.tooltips.delete")},()=>"Selecting or playing a level",()=>"goToLevel",()=>"MenuFront",()=>"Creating a new level",()=>"Pressing create level & confirm gamestyle buttons",()=>33.9,()=>"confirmGameStyle",()=>600,()=>"Map 1",()=>"ver",()=>"style",()=>"name",()=>"Unnamed level",()=>"authors",e=>{const t=e._GetNode(0);return()=>t.ExpObject("username")},()=>"start.map",()=>"start.p1.X",()=>"start.p1.Y",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-7},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".size"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),","),n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>"maps."+t.GetValue()+".layers."+n(s("common.words.objects",2))+".dat"},()=>"o",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>"maps."+t.GetValue()+".layers."+n(s("common.words.tiles",2))+" 1.dat"},()=>"t",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>"maps."+t.GetValue()+".layers."+n(s("common.words.tiles",2))+" 2.dat"},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".editL"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.tiles",2))+" 1"},()=>55,()=>"Menu3",()=>67.8,()=>"createAndBackupLevelOnLSS",()=>"bupTextUpwards",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Default"),n.ExpInstVar())},()=>708,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.buttons.create-sync-level")},()=>"120,0,0,208,16",()=>"Default",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-4},()=>"Choosing gamestyle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t(n.ExpObject(),0,"Walk")+"Jump",s.ExpInstVar())+"_0"},()=>"moveToGameThumbnail",()=>1.2,()=>"startFlip",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+40},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_0"},()=>452,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.next")},()=>348,()=>"createLevel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.buttons.create-level")},()=>680,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.html.level-size-presets")},()=>"sizePreset",()=>150,()=>30,()=>"gamestylePreviewer",()=>"MenuBlend",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()/2+s.ExpObject()-2},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-96},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-20},()=>90,()=>"swap1",e=>{const t=e._GetNode(0);return()=>-1*t.ExpObject()},()=>"swap2",()=>"switchStyle",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Jump"),n.ExpInstVar())+"_0"},()=>"hoverResize",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2*1.1},()=>"sineUpAndDown",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("GameStyle",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()/2-s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+2*n.ExpObject()-4},()=>"Choosing pre-set level size",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t(n(s(r.GetValue(),o.ExpObject()," | "),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t(n(s(r.GetValue(),o.ExpObject()," | "),1,","))},()=>"Background preview events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+n.ExpInstVar()*s()},()=>-44,e=>{const t=e._GetNode(0);return()=>t.ExpObject()+640},()=>596,e=>{const t=e._GetNode(0);return()=>t.ExpObject()-640},()=>"Pressing the Create Level button",()=>"username",e=>{const t=e._GetNode(0);return()=>t.ExpObject("name")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("SMC_Level",t.GetValue())},()=>"code",e=>{const t=e._GetNode(0);return()=>t.ExpObject("token")},()=>"lssSync_levelID",()=>"lastEdited",()=>"Deleting a level",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("MenuFront","levelDeletionScreen")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#D80000]"+t("level-select.text.delete-warning")+"[/color]"},()=>"screenMenuText",()=>136,()=>"closeScreenMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.no")},()=>"confirmLevelDeletion",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.yes")},e=>{const t=e._GetNode(0).GetVar();return()=>224*t.GetValue()},()=>"PlainDot",()=>"Viewing/downloading a level code",()=>"Viewing level code",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("MenuFront","MenuFront")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.code-notice")},()=>350,()=>366,()=>"levelCodeContainer",()=>"levelSelectLayout",()=>"One moment, loading level code...",()=>"displayLevelCode",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-44},()=>"closeCodeMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.close")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+44},()=>"downloadCode",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.download")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-52},()=>"levelCodeViewer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#000000]"+t("level-select.buttons.compact")+"[/color]"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+52},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#000000]"+t("level-select.buttons.production")+"[/color]"},()=>8421504,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.compact-notice")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.production-notice")},()=>"text/plain",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj(t.ExpObject(n.GetValue(),2),".txt")},()=>"Compactify level code",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".favObj"},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".favTiles"},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".fx.hidden"},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".tpal"},()=>"Loading a level code",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("MenuFront","importLevelCode")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.import-code-notice")},()=>"importCodeNotice",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.html.import-code-placeholder")},()=>"levelCodeImportField",()=>"loadImportedLevelCode",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.load")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("level-select.text.first-paste-code")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"style")},()=>"Miscellaneous (visual/audio) menu events",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Menu1")},()=>35.37,()=>1.1,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Menu2")},()=>65.5,()=>39.83,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Menu3")},()=>103.9,()=>86.83,e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("scrollY")},()=>"menuThemes",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("Menu",t())},()=>"[h4]Loading Level[/h4]",()=>-500,()=>"HUDNormalParallax",()=>"preventTileOrObjPlacement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"|")-1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n(s.GetValue(),r(),"|"),"*",o.GetValue().toString())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n(),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),3)},()=>"scrollLevel_tilepage_2_global",()=>"selectedConveyorSpeed",()=>"selectedEscalatorSpeed",()=>"lastEditedMapName",e=>{const t=e._GetNode(0);return()=>t.ExpObject("lastEditedMapName")},()=>4,e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),4)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("start.map"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","noSpawnpointWarningOnPlay")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Death0")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.startpoint-missing.message-play")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Customizer",t.GetValue())},()=>"openEditorOrExitLevel",()=>"screenMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.startpoint-missing.open-editor")},()=>"getBackgrounds",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"Themes/Backgrounds_"+t()+".json"},()=>"getMusicTracks",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"Themes/Music_"+t()+".json"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue(),",")},()=>"HUDWithBlending",()=>"imageLoadingProgressDisplay",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>ek(0===t.GetValue()?1:0,n()<416?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),",",0,s.GetValue())},()=>"mapReadyToLoad",()=>"loaded",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".size"),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".size"),1,","))},e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()},()=>"This level uses the SMB1 NES gamestyle, which is no longer supported.",()=>"unsupportedGamestyle",()=>"exitEditor",e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()},()=>"Loading up anything not in below groups",e=>{const t=e._GetNode(0).GetVar();return()=>"mapData_"+t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("mapData_"+n.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".pal"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".pal")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("start.inv")?n.ExpObject("start.inv").toString():"empty"},()=>"uninitiated",()=>"start.inv",e=>{const t=e._GetNode(0);return()=>t.ExpObject("start.inv").toString()},()=>"-1",()=>"switchPalaceStates",e=>{const t=e._GetNode(0);return()=>t.ExpObject("switchPalaceStates")},()=>"switchPal",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("switchPal"),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject("switchPal"),r.GetValue(),","))},()=>"levelStats",e=>{const t=e._GetNode(0);return()=>t.ExpObject("levelStats")},()=>"creationDate",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".water"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".water"),0,","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".water")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>16*t(n(s.GetValue(),2,","))},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".camControl"},()=>"allowCameraControl",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".syncRotations"},()=>"syncRotationBases",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".disableOSI"},()=>"disableOffscreenIndicators",()=>"debuggerContainer",()=>"Setting up screen size",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".screenSize"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".screenSize"),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".screenSize"),1,","))},()=>"ScreenBorders",e=>{const t=e._GetNode(0);return()=>qj(26,t.ExpObject("mapScreenWidth"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>0===t()?4*n.GetValue():416-4*s.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>8*t.GetValue()},()=>"screenBorder",e=>{const t=e._GetNode(0);return()=>qj(15,t.ExpObject("mapScreenHeight"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>0===t()?4*n.GetValue():240-4*s.GetValue()},()=>"Loading backgrounds & effects",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".fx.hidden"),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".fx.hidden"),r.GetValue(),",")},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".fx"},e=>{const t=e._GetNode(0);return()=>"filters."+t.ExpObject()+".active"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".fx."+o.GetValue()),0,","))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("filters."+n.ExpObject()+".active")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".fx."+r.GetValue()),1,",")},e=>{const t=e._GetNode(0);return()=>"filters."+t.ExpObject()+".tags"},()=>14,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("intensity|movementAngle|variant|movementSpeed|createSFX|ignoreEnvironmentCollisions|additiveBlend|appearance|affectedAudio|volumeReduction|hexColorValue|toggleDuration|twoWayMovement|waterCheck",n.GetValue(),"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>"hexColorValue"===t.GetValue()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"filters."+t.GetValue()+"."+n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".fx."+r.GetValue()),o(a.GetValue(),i.GetValue()),",")},e=>{const t=e._GetNode(0).GetVar();return()=>"toggleDuration"===t.GetValue()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".fx."+o.GetValue()),a(i.GetValue(),l.GetValue()),","))},()=>"Loading generators",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".gens"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t(n.ExpObject("maps."+s.GetValue()+".gens."+r.ExpObject()),0,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue())},e=>{const t=e._GetNode(0);return()=>"generators."+t.ExpObject()+".type"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".gens."+r.GetValue()),0,",")},e=>{const t=e._GetNode(0);return()=>"generators."+t.ExpObject()+".active"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".gens."+o.GetValue()),1,","))},e=>{const t=e._GetNode(0);return()=>"generators."+t.ExpObject()+".tags"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".gens."+r.GetValue()),2,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>"generators."+t.GetValue()+"."+n(s.GetValue(),r.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".gens."+o.GetValue()),3+a.GetValue(),","))},()=>"Loading layers",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".layers"},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("LevelL",t.GetValue())},()=>"active",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject("maps."+n.GetValue()+".layers."+s.ExpObject()+".dat")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),0,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),1,",")},()=>"Setting layer properties",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),2,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),3,","))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+".layers."+n.GetValue()+".prop.dark"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".layers."+s.GetValue()+".prop.dark")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Effects",t.GetValue())},()=>"Creating EditorObjects",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+".layers."+n.GetValue()+".objects"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".layers."+r.GetValue()+".dat"),0,",")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject(Qj("maps."+n.GetValue()+".layers."+s.GetValue()+".objects.",r.GetValue()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Qj("LevelL",t(n.GetValue()))},()=>"placedObj",()=>"Creating Tilemaps",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+".layers."+n.GetValue()+".tilemaps"},()=>"_",e=>{const t=e._GetNode(0);return()=>t.ExpObject(0)},()=>"C",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(Qj(t.ExpObject(0),"_"),n.ExpObject(1))},e=>{const t=e._GetNode(0);return()=>t.ExpObject(2)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>Qj(Qj(t.GetValue(),","),n.GetValue())+","+s.GetValue()+","+r.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".layers."+r.GetValue()+".tilemaps."+o.ExpObject()),a.GetValue(),i.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>"during"+t.GetValue()},()=>"always",()=>"initializeEmissiveLight",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>ek(ek("Tilemap_1_Vine"===t.ExpObject()?1:0,"Tilemap_1_Pole"===n.ExpObject()?1:0),"Blocks"===s(r.ExpObject(),6)?1:0)},()=>"loopThroughTilemaps",()=>"tile",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject())},()=>"lastUsedTileStructure",()=>"tileStructure",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),0,"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),2,"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),3,"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),1,"|")},()=>"none",()=>"cursor",()=>"lastUsedTile",()=>"object",()=>"lastUsedObject",()=>"obj",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".destinations"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>"maps."+t.GetValue()+".destinations."+n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(r.GetValue()),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue()),1,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(r.GetValue()),2,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(r.GetValue()),3,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue()),4,",")},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".entryways"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>"maps."+t.GetValue()+".entryways."+n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t(n.ExpObject("maps."+s.GetValue()+".entryways."+r.ExpObject()),1,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue()),5,",")},()=>7,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(r.GetValue()),6,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(r.GetValue()),7,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(r.GetValue()),8,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(r.GetValue()),9,","))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()-1,7)},()=>"Preparing level when in [b]EDIT[/b] mode",()=>1/0,e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".editL")},()=>-208,()=>"VoidOverlay",e=>{const t=e._GetNode(0).GetVar();return()=>480+16*t.GetValue()},()=>"OoBLeft",()=>-120,()=>"OoBTop",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+208},()=>"OoBRight",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+120},()=>"OoBBottom",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("lastUsedTile"),0,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject("lastUsedTile"),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject("lastUsedTile"),2,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("lastUsedTile"),3,",")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("lastUsedTileStructure")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("lastUsedObject")},()=>"lastToolbarPages",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("lastToolbarPages"),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("lastToolbarPages"),s.GetValue(),",")},()=>"welcomePage",()=>"mainLevelSettings",()=>"favbarX",()=>"favbarY",()=>"closed",()=>"tileLayouts",()=>"camPosX",e=>{const t=e._GetNode(0);return()=>t.ExpObject("camPosX")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("camPosY")},e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()-120},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Style",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MiniToolbar",t.GetValue())},()=>"favbarType",()=>"toolbarOnly",e=>{const t=e._GetNode(0);return()=>t.ExpObject("favbarX")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("favbarY")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".tpal")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),r.GetValue(),","),0,":")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s(r.GetValue(),o.GetValue(),","),1,":"))},()=>"start.p2",()=>"lssSync_mode",()=>"Preparing level when in [b]PLAY[/b] mode",e=>{const t=e._GetNode(0);return()=>t.ExpObject("frameSkipping")?30:60},()=>"off",()=>"preventDespawning",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".wrap"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),s(r.ExpObject("maps."+o.GetValue()+".wrap")),",")},()=>"vertical",()=>"Bottom",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+416},()=>"levelBorder",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+16},e=>{const t=e._GetNode(0);return()=>Xj(Kj(t.ExpObject("start.p1.X"),16),8)},e=>{const t=e._GetNode(0);return()=>Xj(Kj(t.ExpObject("start.p1.Y"),16),8)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("spawnX")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("spawnY")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("spawnDestinationName")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("spawnEntrywayType"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("spawnEntrywayType")},()=>"start.p1",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+8},()=>"start.p1.M",()=>"subtractTime",()=>"PSwitchTimer",()=>"BrownPSwitchTimer",()=>"GrayPSwitchTimer",()=>"ExclamationSwitchTimer",()=>"Setting up music",e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".music"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".music")},()=>"map",()=>"LevelMusic",e=>{const t=e._GetNode(0);return()=>t.ExpObject("map","")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("map","")?1:0},()=>"YoshiBongos",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()>=0?0:1},()=>"activeEditorMusicID",()=>"music",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"map|switch|star|metal","|")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("music."+n.ExpObject())},()=>"customMusic",()=>"Level loading complete fade",()=>"coverLevelUntilLoadComplete",()=>"levelFadeInIsPlaying",()=>"size",()=>"Final events + autosave & backups setup",e=>{const t=e._GetNode(0);return()=>t.ExpObject("autosaveInterval",300)},()=>"performAutosave",()=>"showDownloadBackupPrompt",e=>{const t=e._GetNode(0);return()=>t.ExpObject("nextBackupPromptTimerDuration",1800)},()=>"[h4]Saving Level[/h4]",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue()*n.GetValue(),"x-1")},()=>"Saving level meta data & other editor-related things",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>Qj(Qj(t.GetValue()+",",n.GetValue())+",",s.GetValue())+","+r.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),n.ExpObject(s.GetValue()))+","},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),n.ExpObject(s.GetValue()))},()=>"nextBackupPromptTimerDuration",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>qj(t.ExpObject("nextBackupPromptTimerDuration",n.ExpObject("automaticDownloadLevelPromptInterval",1800)),s.ExpBehavior("showDownloadBackupPrompt"))},()=>"editingTime",()=>"Saving map info",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t())},()=>"camPosY",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject()+":",n.ExpObject())+","},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),0,s(r.GetValue())-1)},()=>"Saving (custom) music",e=>{const t=e._GetNode(0);return()=>t.ExpObject("map")},e=>{const t=e._GetNode(0).GetVar();return()=>"music."+t.GetValue()},()=>"Saving map effects & generators",()=>"filters",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+".fx."+n.GetValue()},()=>"generators",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+".gens."+n.GetValue()},()=>"Saving other data",()=>"Saving startpoint data",e=>{const t=e._GetNode(0);return()=>Qj("start.p",t.ExpInstVar()+1)},e=>{const t=e._GetNode(0);return()=>Qj("start.p",t.ExpInstVar()+1)+".X"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/16-.5},e=>{const t=e._GetNode(0);return()=>Qj("start.p",t.ExpInstVar()+1)+".Y"},e=>{const t=e._GetNode(0);return()=>(t.ExpObject()-1)/16-1},e=>{const t=e._GetNode(0);return()=>Qj("start.p",t.ExpInstVar()+1)+".M"},e=>{const t=e._GetNode(0);return()=>Qj("start.p",t.ExpInstVar()+1)+".L"},e=>{const t=e._GetNode(0);return()=>Qj("start.p",t.ExpInstVar()+1)+".power"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpInstVar())},()=>"Layered water data",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(Qj(Qj(2,","),t.ExpInstVar_Family())+",",n.ExpObject()/16)},()=>"Saving layer data",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj("maps."+t.GetValue()+".layers.",n.ExpObject(s.ExpObject()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj("maps."+t.GetValue()+".layers.",n.ExpObject(s.ExpObject()))+".dat"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8);return()=>Qj(Qj(Qj(t(n.ExpObject(s.ExpObject(),3),1)+",",r.ExpObject(o.ExpObject(),5))+",",a.ExpObject(i.ExpObject(),1))+",",l.ExpObject(d.ExpObject(),2))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj("maps."+t.GetValue()+".layers.",n.ExpObject(s.ExpObject()))+".prop.dark"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject(),4)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj("maps."+t.GetValue()+".layers."+n.ExpInstVar()+".objects.",s.GetValue())},()=>"levelTerrain",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(),s.GetValue())},e=>{const t=e._GetNode(0);return()=>"_"+t.ExpInstVar_Family()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>"maps."+t.GetValue()+".layers."+n.ExpInstVar_Family()+".tilemaps."+s.GetValue()},()=>"Saving data stored in arrays",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.GetValue()?Qj(n.GetValue()+",",s.ExpObject()):r.ExpObject().toString()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj("maps."+t.GetValue()+".favObj.",n.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t.GetValue()+",",n.ExpObject(s.ExpObject()))},()=>"reloadWithoutSyncing",()=>"lastRestorePointInEditingTime",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>qj(t.ExpObject("editingTime"),n.ExpObject("automaticRestorePointInterval",900))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("lastRestorePointInEditingTime")},()=>"createRestorePoint",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.other-notifs.level-saved-with-restore-point")},()=>"restorePointCreation",()=>"downloadLevel",()=>"fadeAndQuit",()=>"handleAutosaveCompletion",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.other-notifs.autosave-notice")},()=>"autosaveCompleteNotice",()=>"playTest",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","noStartpointWarning")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.startpoint-missing.message-edit")},()=>"resetStartpoint",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.reset-startpoint")},()=>172,()=>"playtestFromMap",()=>"switchToMap",()=>"switchToMapAndRefreshMapPage",()=>"HUDBelowToolbar",()=>"transitionToMap",()=>"openCreateDestinationMenuInOtherMap",()=>"reloadGame",()=>"EditorMusic",()=>"Autosave & backup",e=>{const t=e._GetNode(0);return()=>t.ExpObject("automaticDownloadLevelPromptInterval",1800)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.other-notifs.download-level-backup-prompt-1")+"\n[scale=0.75][color=#CCCCCC]"+n("misc-labels.other-notifs.download-level-backup-prompt-2")+"[/color][/scale]"},()=>"downloadLevelBackupPrompt",()=>"Accept|Deny",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t().toString()},e=>{const t=e._GetNode(0);return()=>t.ExpObject("editingTime")},()=>"Preloading all map contents into memory",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(Qj(t()+"/Music",n.GetValue())+"_",s.ExpObject(r.GetValue()))},()=>"preloading",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject(Qj("customMusic.",n.ExpObject(s.GetValue()))+".src")},()=>"audio/webm; codecs=opus",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n("GameplayHUDObjects|GamestyleFont*|ScoreFont*|BlockButtons|RoundedOverlay|Toolbox|PlayerSprite|ExtraPlayerSprites|ExtraEditorObjectDisplay|Solids|Particles|SpecialTiles|MiscGameplayPreloadedSprites",s(),"|"),"*",r.GetValue().toString())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()),"bg|mg|fg","|")},()=>"BGParts",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()),"grd","|")},()=>"GradientLine",()=>"SMW_ExtraHUD",()=>"SMW_Numbers",()=>"SMW_PlayerFont",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t(n.ExpObject("maps."+s.GetValue()+".layers."+r.ExpObject()+".dat"),1)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>"maps."+t.GetValue()+".layers."+n.ExpObject()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".objects"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".tilemaps"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject()),0,"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s(r.ExpObject()),1,"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(),s.GetValue(),1)},()=>"pal",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue(),n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue(),"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),"|",0,s.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>"Tilemap_"+t(n.GetValue(),s.GetValue(),"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject()),"rain|snow|sand|embers|leaf|current|fish|confetti","|")},()=>"EffectParticles",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject()),"dark","|")},()=>"Darkness",()=>"SmoothLight",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject()),"fog","|")},()=>"BackgroundOverlays",()=>"Load image memory by sprite ID",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),"")},()=>"o41",()=>"o44",()=>"o45",()=>"VineNinePatches",()=>"VineCreator|SMW_Vines",()=>"i1",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Qj(t()+"/Starman",n.GetValue())},()=>"music.star",()=>"i2",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Qj(t()+"/MetalTheme",n.GetValue())},()=>"music.metal",()=>"o6",()=>"o8",()=>"o10",()=>"o12",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Qj(t()+"/SwitchTheme",n.GetValue())},()=>"music.switch",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.GetValue(),r.GetValue(),"|"),"*",o.GetValue().toString())},()=>"Preload music in Editor Object & Preload Yoshi Bongos",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"E",0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(t()+"/Music",n.GetValue())+"_"+s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),1,"_"))},e=>{const t=e._GetNode(0).GetVar();return()=>"customMusic."+t.GetValue()+".src"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("customMusic."+n.GetValue()+".src")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_Bongos")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t()+"/YoshiBongos/Music",n.GetValue())+"_",s.GetValue())+"_Bongos"},()=>"Bulk preload objects by object type name",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),0,"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"|",0)},()=>"Preload sprites by data string",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"C")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),"C",s.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>"bs"===t(n.GetValue(),2)?1:0},()=>"c4",()=>"Misc. memory management events",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.loading-messages.loading-music")+" ... "},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>Qj((t.ExpObject()?"\n":"")+n("misc-labels.loading-messages.loading-images")+" ... ",Math.round(100*s()))+"%"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Qj((t.ExpObject()?"\n":"")+n("misc-labels.loading-messages.generating-palettes")+" ... ",s.GetValue())},()=>"[h2]Land enemies[/h2]",()=>"Goomba / Goombrat",()=>"Goomba initialize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(1===t.GetValue()?1:0,7===n.GetValue()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_MapPalettes"))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_GoombaShoes"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_GoombaSkins")},()=>"goombrat",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Sleep"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"stationary",()=>"raccoonGoomba",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Hover"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>320,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>ek(t.ExpInstVar(),2===n.GetValue()?1:0)},()=>"General Goomba custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Stomped"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"stomped",()=>"BouncyStomp",()=>"goombaStomp",e=>{const t=e._GetNode(0);return()=>3*t.ExpObject()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?"left":"right"},()=>"stopBeingShocked",e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*20)},()=>"Raccoon Goomba custom actions",()=>"Tail",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("RaccoonTail",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("raccoonTail",t.GetValue())},()=>"goombaTailHurtbox",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"raccoonTail"===t(n.ExpObject(),11)?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()?Qj("raccoonTail",n.GetValue()):Qj("raccoonTail",s.GetValue())+"_Spin"},()=>"land",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()*Math.sign(n.ExpObject())},()=>"jump",()=>"hover",()=>"upwardsSpawnMovement",()=>"PowerUpAppear",()=>"goombaSpawnLeaf",()=>"Extra Goomba stack events",()=>"alive",()=>"Goomba movement",()=>"mirrorSprite",()=>.14,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-t.ExpInstVar()*n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()*n.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/3},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"Goomba stacks",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar()-1},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+6},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2},()=>"Goomba health",()=>"goombasStomped",()=>"enemyStomp",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpInstVar_Family(),n.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject(),0,1)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sign(t.ExpObject()-n.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>ek(t.ExpInstVar_Family(),n(s.ExpObject(),"electricallyCharged"))},e=>{const t=e._GetNode(0).GetVar();return()=>64*t.GetValue()},()=>-192,e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()*n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()/(n.ExpInstVar()+1)*-64},()=>"GoombaKnockback",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("BouncyStomp")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(t.ExpObject()+n.ExpObject())/2},()=>"Raccoon Goomba events",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-t.ExpInstVar()*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()>0?1:0},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()<=0?1:0},()=>"jumpDelay",()=>1.8,()=>"performTailSpin",e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*60)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"TailSpinPrepare"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"TailSpin"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"Spin",()=>"tailSpin",()=>"turnAround",e=>{const t=e._GetNode(0);return()=>-t.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(0===t.ExpInstVar()?1:0,1===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"TailTurn"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("raccoonTail",t.GetValue())+"_Spin"},()=>1.3,()=>"Raccoon Goomba tail collisions",e=>{const t=e._GetNode(0);return()=>t.ExpObject("DummyHitbox")},()=>"flipAndFall",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.abs(t.ExpBehavior())*Math.sign(n.ExpObject()-s.ExpObject())},()=>"Sleeping Goomba snore particles",()=>"snoreParticleDelay",()=>.66,()=>"Galoomba / Goombud",()=>"Galoomba custom actions",()=>"Sprite",()=>"goombud",()=>"preventKnockback",()=>"flippedOver",()=>"getUp",()=>"startRecovery",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Flipped"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>Math.abs(t.GetValue())},()=>"toss",()=>"Galoomba movement",()=>"walking",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Parachute"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"Galoomba stomp / stun recovery",()=>"gettingUp",e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*24)},()=>"preventUnflipThisFrame",()=>"continueWalkingOnLand",()=>"Galoomba health",()=>"ignorePlayerOverlapEvents",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>((t.ExpObject()>=n.ExpObject()?160:-160)+s(r.ExpObject(),1,0)/2)/(1+o.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*8)},()=>"Shared Paragoomba events",()=>"Update [b]aliveAndActive[/b] booleans",()=>"Paragoomba custom actions",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-14},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CornerWing")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()*(0===n.GetValue()?Math.sign(s.ExpObject()):-Math.sign(r.ExpObject()))},e=>{const t=e._GetNode(0).GetVar();return()=>0===t.GetValue()?"FrontWing":"BackWing"},e=>{const t=e._GetNode(0);return()=>Math.sign(t.ExpObject())},()=>"Paragoomba jumping",()=>"startJumpCycle",e=>{const t=e._GetNode(0).GetVar();return()=>2/t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>.33/t.GetValue()},()=>"facePlayerCheck1",e=>{const t=e._GetNode(0).GetVar();return()=>1.66/t.GetValue()},()=>"facePlayerCheck2",e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*4)},()=>640,e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*36)},()=>"Fake Block",()=>"Fake Block custom actions & functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t("5,7,10",n.GetValue().toString(),",")?s.GetValue():0},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_BlockCommon"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())},()=>"appearing",()=>"Fake Block waking up",()=>"hiding",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject(),1)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject())},()=>"makingFirstTurn",()=>"turnToPlayer",()=>"Player standing on Fake Block",()=>"Fake Block attack cycle",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(t.GetValue(),"Face_")+(n.ExpObject()>s.ExpObject()?"Left":"Right")+"_",r.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>Math.floor(t.ExpObject()/2)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"Right","_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Face_Left_"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"Left","_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Face_Right_"),n.ExpInstVar())},()=>"confused",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),1,"_")},()=>"jumping",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),"Jump_")+n.GetValue()+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?120:240},e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*64)},()=>"preventLandingTrigger",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()>=0?1:0},()=>"spinningDown",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Spin"),n.ExpInstVar())},()=>1920,()=>"TailHitbox",()=>"GeneralAction",()=>"spindown",()=>"landed",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),"Face_")+n.ExpInstVar()+"_",s.ExpInstVar())},()=>960,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SmallDust")},()=>"Fake Block horizontal movement",e=>{const t=e._GetNode(0);return()=>-t.ExpInstVar()},()=>"Playering standing on Fake Block",()=>"fallingWithPlayer",()=>.6,()=>"Fake Block confused",()=>"confusedTurn",()=>"redetectedPlayer",()=>"Fake Block health & collisions",()=>"Poison Mushroom",()=>"Poison Mushroom movement",()=>"Poison Mushroom health",()=>"PoisonPoof",()=>"Wall Walkers",()=>"Wall Walkers functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("spikeTop_fuzzy_bigFuzzy_sparkie_hothead",n.ExpInstVar(),"_")},()=>"Middle",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Move"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()-90},()=>"mirrorSparky",()=>"Gameplay",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"HotheadEyes")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpBehavior()+n.GetValue()},()=>"turnDelay",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),2,0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,2)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),-2,0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,-2)},()=>"Wall Walkers visual animation timers",()=>"flipSparky",()=>"Spike Top timer triggers",()=>"climbingOnWall",e=>{const t=e._GetNode(0);return()=>90*Math.sign(t.ExpObject())},()=>"climbingOnFloor",e=>{const t=e._GetNode(0);return()=>-90*Math.sign(t.ExpObject())},()=>"jumpAndTurnAround",()=>"Wall Walkers movement",()=>"newWallClingDelay",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"GrabWall"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"GrabFloor"),n.ExpInstVar())},()=>"Wall Walkers miscellaneous events",()=>"horizontal",()=>"allAxis",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/2},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/2+1},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>16*t.GetValue()-n.ExpInstVar()/2},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>16*t.GetValue()-n.ExpInstVar()/2-1},e=>{const t=e._GetNode(0);return()=>0+t.ExpInstVar()},()=>"blink",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1,6)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+6*Math.cos(tk.toRadians(n.ExpBehavior()+135))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+6*Math.sin(tk.toRadians(n.ExpBehavior()+135))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+6*Math.cos(tk.toRadians(n.ExpBehavior()-135))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+6*Math.sin(tk.toRadians(n.ExpBehavior()-135))},()=>"Wall Walkers health",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>Qj(0===t.ExpInstVar_Family()?1:0,0===Qj(n(s.ExpObject(),"electricallyCharged"),Qj(3!==r.ExpInstVar()?1:0,4!==o.ExpInstVar()?1:0))?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),1)-4},()=>"spinBounce",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+n.ExpBehavior()*s()},()=>"Rex",()=>"Rex custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Squished")},e=>{const t=e._GetNode(0);return()=>2*t.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Stomped2")},()=>"Rex movement",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Walk")},()=>"Rex health",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-(n.ExpInstVar()-5)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Stomped1")},()=>"Ninji",()=>"Ninjis face player",()=>"Ninji jump pattern",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Idle")},()=>"ninjiJump",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Jump")},()=>-224,()=>-272,()=>-342,()=>.06,()=>"jumpBuffer",()=>"Dino-Torch",()=>"Dino-Torch functions",()=>"preparingSpewingFire",()=>"chooseSpewDirection",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Stomped")},()=>"Dino-Torch flame events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Start")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"End")},()=>"continueWalking",()=>"players",()=>"dinoTorchFlame",()=>"Dino-Torch movement",e=>{const t=e._GetNode(0);return()=>-304/(t.ExpInstVar()+1)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1,2.5)},()=>"Dino-Torch fire attack",()=>"stopToSpitFire",()=>"fireAttackQueued",()=>"spitFire",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SpitV")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(t.GetValue(),n("SpitH","SpitV"))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SpitH")},()=>"spewingFire",()=>"Flame",()=>"flame",e=>{const t=e._GetNode(0);return()=>-90*Math.sign(t.ExpObject())},()=>"Dino-Torch health",()=>"Dino Rhino",()=>"Dino Rhino functions",()=>"Dino Rhino movement",()=>"Dino Rhino fire attack (SMB1 exclusive)",()=>"chasing",()=>"dinoRhino",e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?180:0},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SpitRetract")},()=>"Dino Rhino health",()=>"Spike (enemy)",()=>"Spike custom actions",()=>"spitOutItem",e=>{const t=e._GetNode(0);return()=>t.ExpObject("SpriteSpawnPoint")},()=>"dropLooseObjects|syncSpriteWidth",()=>"coin",()=>"restartAnimationCycle",()=>"heldByObject",()=>1.25,e=>{const t=e._GetNode(0);return()=>Qj("ignore_",t.ExpObject())},()=>"itemOffsetFromMouth",()=>"horizontalSpriteOffset",()=>"Spike container: layering updates",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Hold")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Spit")},()=>"Spike movement",()=>"faceNearestPlayer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.5,2)},()=>"Spike throwing item cycle",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("itemOffsetFromMouth")},()=>"Arm",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SpikeArm")},()=>"throwHeldSprite",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject("SpriteSpawnPoint")-n.ExpBehavior("horizontalSpriteOffset")*Math.sign(s.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject("SpriteSpawnPoint")+16+(n.ExpObject()-s.ExpObject())-r.ExpBehavior("itemOffsetFromMouth")},()=>"throwPreparationOffset",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject("SpriteSpawnPoint")+n.ExpBehavior("throwPreparationOffset")*Math.sign(s.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"movingLinearly")},e=>{const t=e._GetNode(0);return()=>-Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sign(t.ExpObject())*(n.ExpInstVar()?48:96)},()=>"moveUp posY",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-3},()=>"Spike Ball",()=>"Spikeball initialize & collision custom action",()=>"Spikeball",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()?64:-64},e=>{const t=e._GetNode(0).GetVar();return()=>2*t.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>t.GetValue()<0?n.ExpObject():s.ExpObject()},()=>"GroundStomp",()=>"WallBounce",()=>"Spikeball slope rolling",()=>"Spikeball movement events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpBehavior()*s.ExpObject()*6},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject(),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()<n.ExpObject()?-64:64},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()<0?"left":"right"},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())},e=>{const t=e._GetNode(0);return()=>-Math.abs(t.ExpBehavior())},()=>"Spikeball collision events",()=>"spikeBall",()=>"Poof",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t(n.ExpObject())>s(r.ExpObject())?o.ExpObject():a.ExpObject()},()=>"Chain Chomp",()=>"Chain Chomp (& Chain) initialization",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Chomp")},()=>"chomp-post",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Chain")},()=>"Chain Chomp general custom actions",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpInstVar()+n(36,52)*(s.ExpObject()>r.ExpInstVar()?-1:1)},()=>"movingOnGround",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()>n.ExpInstVar()?16:-16},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpInstVar()+n(36,52)*-Math.sign(s.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-2*Math.abs(t.ExpObject()-n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-64,64)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-128,-256)},()=>"Chain Chomp biting custom actions",()=>"biting",()=>"hasOwnMovement",()=>"endBitingPhase",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t.ExpObject()-(n.ExpObject()+(s.ExpInstVar()-r.ExpObject())/o.ExpInstVar()*(a.ExpInstVar()-i.ExpInstVar()))},()=>"prepareBite",()=>"biteAtPlayer",()=>"Chain Chomp Post linking/unlinking custom actions",e=>{const t=e._GetNode(0);return()=>10*t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-1},e=>{const t=e._GetNode(0);return()=>10*t.ExpInstVar()+8},()=>"movingFreely",()=>"toChainChompPos posXY",e=>{const t=e._GetNode(0);return()=>(t.ExpInstVar()+1)/10},()=>"Chain Chomp chain creation",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+(n.ExpObject()-s.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>Kj(t.ExpObject(),n(1,-1))},()=>"Chain Chomp movement",()=>-96,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.75,1.5)},()=>"Chain Chomp biting",()=>"aboutToBite",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpInstVar(),r.ExpInstVar()-16))-(180+o(-30,30))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()+(10*n.ExpInstVar()+1)*Math.cos(tk.toRadians(s.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()+(10*n.ExpInstVar()+1)*Math.sin(tk.toRadians(s.ExpInstVar()))-16},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-16},()=>-180,()=>-360,e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()+(10*n.ExpInstVar()-16)*Math.cos(tk.toRadians(s.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()+(10*n.ExpInstVar()-16)*Math.sin(tk.toRadians(s.ExpInstVar()))-16},()=>"Chain Chomp stretched chain handling",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("biting"===t.ExpInstVar()?1:0,"hanging"===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t.ExpObject()+(n.ExpInstVar()-s.ExpObject())/r.ExpInstVar()*(o.ExpInstVar()-a.ExpInstVar())+i.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t.ExpObject("Chain")+(n.ExpInstVar()-s.ExpObject("Chain"))/r.ExpInstVar()*(o.ExpInstVar()-a.ExpInstVar())+i.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>320*t()},()=>"Chain Chomp getting tugged back by chain",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpInstVar(),r.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>10*(t.ExpInstVar()-1)},()=>-112,()=>112,()=>"Chain Chomp hanging from chain",()=>"hanging",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+10*n.ExpInstVar()-8},e=>{const t=e._GetNode(0);return()=>10*t.ExpInstVar()+6},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.sign(t.ExpObject()-n.ExpObject())*s.ExpObject()},()=>"keepSwingMomentum",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpObject(),1,0)-128*s()},e=>{const t=e._GetNode(0);return()=>Math.sign(t.ExpBehavior())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpObject(),1,0)+128*s()},()=>"Chain Chomp loose movement",()=>"Monty Moles",()=>"Monty Mole initialize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_",s.GetValue())},()=>"damageOnCollision",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("22,24",s.GetValue()-1,","))},()=>"Monty Mole activating",()=>"Monty Mole movement",()=>"Chase AI",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()>n.ExpObject()?"left":"right"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(-n.ExpInstVar(),s.ExpBehavior()-128*r())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(Math.abs(n.ExpInstVar()),60)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpInstVar(),s.ExpBehavior()+128*r())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(-Math.abs(n.ExpInstVar()),-60)},()=>"createSkidParticle",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpObject()/4-s.ExpBehavior()/16},()=>.07,()=>"Linear sprint AI",()=>"Leapin' Mole jumps",()=>"MoleHop",()=>"Bullies / Snailicorn",()=>"Bullies / Snailicorn initialize",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("bully,bigBully,chillBully,bigChillBully,snailicorn",n.GetValue(),",")},()=>"ShellHitbox",()=>"Bullies / Snailicorn general custom actions",()=>"idleTurn",()=>"chasePlayerAfterHop",e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*6)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()*Math.sign(n.ExpObject()-s.ExpObject())},()=>"snailicornPassedPlayer",()=>"noticePlayerDelay",()=>"Bullies / Snailicorn knockback custom actions",()=>"knockedBack",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t.GetValue()/(1+n.ExpInstVar())/s.ExpInstVar()*r.GetValue()},()=>"knockback",()=>"fall",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Defeated"),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()<n.ExpObject()?-1:1},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Math.sign(t.ExpObject()-n.ExpObject())*(96/s.ExpInstVar()/(1+r.ExpInstVar_Family()))},()=>"Bullies / Snailicorn idle movement",()=>"idleWalk",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-40},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+40},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-40},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpInstVar())},()=>"Bullies / Snailicorn noticing players",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject("HitboxCenter"))},()=>"Bullies / Snailicorn chasing players",()=>"chasingPlayer",()=>"preventChase",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(6,Math.abs(n.ExpBehavior())/8)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(18,Math.abs(n.ExpBehavior())/4)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sign(t.ExpObject())*(-48/(1+n.ExpInstVar()))},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()<0?"left":"right"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()?n.ExpInstVar()/2:s.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8);return()=>t.ExpInstVar()?n(s.ExpInstVar()-128*r(),o.ExpInstVar()/2):a(i.ExpInstVar()+128*l(),d.ExpInstVar())},()=>"Bullies chasing",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n.ExpBehavior()-s.GetValue()*r(),-o.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n.ExpBehavior()+s.GetValue()*r(),o.ExpInstVar())},()=>"Snailicorns chasing",()=>"Bullies / Snailicorn stopping at cliffs",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"left")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"right")},()=>"Bullies / Snailicorn being knocked back",()=>"dustDelay",()=>"Bullies / Snailicorn general sprite collisions",()=>"yoshi",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()<n.ExpObject()?"right":"left"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject(),1,1)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("DinoFlame"===t.ExpObject()?1:0,n.ExpInstVar()<=1?1:0)},()=>"player",()=>"superball",()=>"fire",()=>"player_hammer",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.abs(t.ExpBehavior())*(n.ExpObject()-s.ExpObject()>0?1:-1)},()=>"Ricochet",()=>"DinoFlame",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>96*Math.sign(t.ExpObject()-n.ExpObject())},()=>"Bullies / Snailicorn stomped by player",e=>{const t=e._GetNode(0);return()=>t.ExpObject("HitboxCenter")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(0===t.ExpInstVar()?1:0,Qj(1===n.ExpInstVar()?1:0,ek(s.ExpInstVar_Family(),r.ExpInstVar_Family())))},()=>"Bullies / Snailicorn running into players",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(t.ExpInstVar_Family()>n.ExpObject("HitboxCenter")?1:0,s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Idle4")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()<n.ExpObject()?"preventMovingLeft":"preventMovingRight"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.sign(t.ExpObject()-n.ExpObject())*(24/(1+s.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(t.ExpObject()+n.ExpObject("HitboxCenter"))/2},()=>"stomp",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Math.sign(t.ExpObject()-n.ExpObject())*(128*s.ExpInstVar()/(1+r.ExpInstVar_Family()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(2*t.ExpBehavior()*(12*n.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>192*Math.sign(t.ExpObject()-n.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Math.sign(t.ExpObject()-n.ExpObject())*(48*s.ExpInstVar()/(1+r.ExpInstVar_Family()))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Walk4")},()=>"Bullies / Snailicorn misc. events",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Parachute"),n.ExpInstVar())},()=>"[h2]Plant enemies[/h2]",()=>"Piranha Plant / Venus Fire Trap",()=>"Piranha Plant custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Piranha"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"venusFireTrap",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Piranha"),n.ExpInstVar())+"_",s.ExpInstVar())+"Down"},()=>"piranhaRise",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()*Math.sin(tk.toRadians(n.ExpObject()))+s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()*Math.cos(tk.toRadians(n.ExpObject()-180))+s.ExpObject()},()=>"riseDown",()=>"piranhaSink",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()*Math.sin(tk.toRadians(n.ExpObject()-180))+s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()*Math.cos(tk.toRadians(n.ExpObject()))+s.ExpObject()},()=>"queueGoingUp",()=>"Piranha Plant AI",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpObject()*Math.sin(tk.toRadians(s.ExpObject()-180))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpObject()*Math.cos(tk.toRadians(s.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("Top"),s.ExpObject("Top"),r.ExpInstVar(),o.ExpInstVar(),1)},()=>"Venus Fire Trap events",()=>1.6,()=>"spitFire2",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject("Projectile"),r.ExpObject(),o.ExpObject()-a.ExpInstVar_Family()/2)))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue()+45)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject("Check1"),r.ExpObject("Check1"))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject("Check2"),r.ExpObject("Check2"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()-45*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+45*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-20},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+20},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()-20*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+20*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Projectile")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Projectile")+4},()=>"Venus Fire Trap animations",()=>"Down",()=>"Up",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"Piranha"),n.ExpInstVar())+"_",s.ExpInstVar())+r.GetValue()},()=>"Piranha Plant health",e=>{const t=e._GetNode(0);return()=>t.ExpObject("JumpHitboxCenter")},()=>"Jumping Piranha",()=>"keepFirstAnimationHalf",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>Qj(t(n.ExpObject(),0,"_")+"_",s(r(o.ExpObject(),1,"_"))?0:1)},()=>"Jumping Piranha functions",()=>"jumpingPiranhaRise",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+72*Math.sin(tk.toRadians(n.ExpObject()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-72*Math.cos(tk.toRadians(n.ExpObject()))},()=>1.47,()=>"brieflyLockFirstAnimationHalf",()=>"spitOutFlames",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Mouth")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-90+(n.GetValue()?25:-25)},()=>220,()=>"Jumping Piranha AI",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject("SpawnOffset"),n.ExpObject("SpawnOffset"),s.ExpObject(),r.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t.ExpObject()+(n.ExpObject()-s.GetValue())*Math.sin(tk.toRadians(r.ExpObject()-180))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t.ExpObject()+(n.ExpObject()-s.GetValue())*Math.cos(tk.toRadians(r.ExpObject()))},()=>"hoverBackDown",()=>"jumpingPiranhaHoverDown",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-72*Math.sin(tk.toRadians(n.ExpObject()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+72*Math.cos(tk.toRadians(n.ExpObject()))},()=>3.17,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,"_")+"_0"},()=>"Jumping Piranha health",()=>"Muncher",()=>"Muncher initialize actions & animation timers",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Munch")},()=>"muncher",()=>"attachToTerrain",()=>"munch1",()=>"munch2",()=>"Muncher general events",()=>"Muncher stacking",()=>"Nipper Plant",()=>"Nipper Plant initialize",()=>"Nipper Plant functions",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpInstVar()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-n.GetValue()},e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*22)},()=>"Nipper Plant face player",()=>"Nipper Plant walk & jump at player",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),8)},e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*1.2)},()=>"turnAndWalk",()=>"Nipper Plant spitting fireballs",()=>"queueFirstFireCycle",()=>"startSecondFireCycle",()=>"fireDelay",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject("Mouth")-240},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>tk.distanceTo(0,0,t.GetValue(),n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>tk.toDegrees(tk.angleTo(0,0,t.GetValue(),n.GetValue()))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Fire")},()=>"Volcano Lotus",()=>"Volcano Lotus flame events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()*s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()*n.ExpObject()},()=>"toFallingPosition",()=>"sineAndSpeedMagnitude",e=>{const t=e._GetNode(0);return()=>2*t.ExpBehavior("sineAndSpeedMagnitude")},e=>{const t=e._GetNode(0);return()=>64*t.ExpBehavior("sineAndSpeedMagnitude")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>ek(t.ExpInstVar_Family(),n(s.ExpObject()))},()=>"Volcano Lotus custom actions",()=>"Mouth",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Flame")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(0===t.ExpInstVar()?1:0,ek(0===n.GetValue()?1:0,3===s.GetValue()?1:0))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(2===t.ExpInstVar()?1:0,ek(1===n.GetValue()?1:0,2===s.GetValue()?1:0))},()=>"toFallingPosition posXY",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t.ExpObject()-108*Math.cos(tk.toRadians(n.ExpObject()+s(r(o.GetValue(),a.GetValue(),","))))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t.ExpObject()-72*Math.sin(tk.toRadians(n.ExpObject()+s(r(o.GetValue(),a.GetValue(),","))))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t.ExpObject()-72*Math.cos(tk.toRadians(n.ExpObject()+s(r(o.GetValue(),a.GetValue(),","))))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t.ExpObject()-108*Math.sin(tk.toRadians(n.ExpObject()+s(r(o.GetValue(),a.GetValue(),","))))},()=>"Volcano Lotus firing cycle",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareSpew")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Spew")},()=>"Misc. Volcano Lotus events",()=>"Pokey",()=>"Pokey initialize",e=>{const t=e._GetNode(0);return()=>16*t.ExpInstVar()-3},()=>"snowPokey",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-16*n.GetValue()+1},()=>"parentHitbox",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/3%1},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Head"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"spinjumpable",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Body"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()%2},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-2},()=>"Pokey segment events",()=>"handledDestroyerCollisionThisFrame",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>128*Math.sign(t.ExpObject()-n.ExpObject())},()=>"preventDefaultDestroyerDefeat",()=>"snowPokeySegmentDefeat",()=>"ice",()=>"iceball",()=>"updatePositionInHitbox",()=>"reconnectBody posY",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-16*n.ExpInstVar()+1},()=>"Pokey custom actions",()=>"defeated",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>Xj(t.ExpObject(),Kj(n(6,10),s(1,-1)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(-8,8)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>ek(2===t.GetValue()?1:0,n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Headwear")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SP_Headwear")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>96*Math.sign(t.ExpObject("Headwear")-n.ExpObject())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Neckwear")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SP_Neckwear")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>64*Math.sign(t.ExpObject("Neckwear")-n.ExpObject())},()=>"Pokey movement",()=>"facePlayer",()=>"Pokey health",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>32*Math.sign(t.ExpObject()-n.ExpObject())},()=>"cryo",()=>"[h2]Castle enemies[/h2]",()=>"Bone (Dry Bones projectile) / Wrench (Rocky Wrench projectile)",()=>"wrenchProjectile",()=>"rockProjectile",()=>"basicStompable",()=>"updateAnimByAngle",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-90*Math.sign(n.ExpObject())},()=>"Dry Bones",()=>"Dry Bones custom actions",()=>27,()=>"BlueShoeColor",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Collapse"),n.ExpInstVar())},()=>"prepareGettingUp",()=>"BoneCollapse",()=>"collapse",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"PrepareGetUp"),n.ExpInstVar())},()=>"Dry Bones movement",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Turn"),n.ExpInstVar())},()=>"Dry Bones throwing bones",()=>"throwBone",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Charge"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Attack"),n.ExpInstVar())},()=>"Bone",()=>"Dry Bones health",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"GetUp"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject(),s.ExpObject(),0,"Default",r.ExpInstVar(),o.GetValue(),1,0,"")},()=>"Bony Beetle",()=>"Bony Beetle custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Collapse")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareGetUp")},()=>"Bony Beetle movement",()=>"finishWalkCycle",()=>"prepareSpikeAttack",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RetractSpikes")},()=>"Bony Beetle health",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-4},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(ek(t.ExpInstVar_Family(),n.ExpInstVar_Family()),s.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"GetUp")},()=>"Thwomp",()=>"Thwomp custom actions",()=>22,()=>" ignore-spinjump",()=>"up",()=>"superThwomp",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("52,52,44",s.GetValue(),","))},()=>"falling",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?320:1280},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?128:256},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),"Fall")+n.ExpInstVar(),s.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>1===t.ExpInstVar()?1:0},()=>"returnToHome",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+-1*n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(0===t.ExpInstVar()?1:0,Qj(1===n.ExpInstVar()?1:0,s.ExpInstVar_Family()>=2?1:0))},()=>"floatingPlatform",e=>{const t=e._GetNode(0);return()=>112+56*(1===t.ExpInstVar()?1:0)},()=>"thwompPostStomp",e=>{const t=e._GetNode(0);return()=>Math.round(Math.abs(t.ExpObject())/16)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.ExpObject(n.ExpObject()+2),"|"),s.ExpObject())+"|top|0"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.ExpObject(n.ExpObject()-2),"|"),s.ExpObject())+"|bottom|0"},()=>"cloudPlatform",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>1*t.ExpInstVar()+-1*n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>2*t.ExpInstVar()+-2*n.ExpInstVar()*(1+(1===s.ExpInstVar()?1:0))},e=>{const t=e._GetNode(0);return()=>0===t.ExpInstVar()?"Heavy":"Explosion"},()=>"ThwompLand",e=>{const t=e._GetNode(0);return()=>1===t.ExpInstVar()?2:1},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-Math.abs(n.ExpObject())/2+3*s.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+n.ExpInstVar()+s.ExpInstVar()*(-1*r.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BaddieDust3")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+Math.abs(n.ExpObject())/2-3*s.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpObject()+n.ExpInstVar()*(s.ExpObject()/2)+r.ExpInstVar()*(o.ExpObject()/-2)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-n.ExpObject()+4*s.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-4*n.GetValue()},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()+180},()=>"idle",()=>"Thwomp player detection",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-(34+n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+(34+n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),"Detect")+n.ExpInstVar(),s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()>n.ExpObject()?s.ExpObject():-r.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-(14+n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+(14+n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()-(2+s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+(42+n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()-(-18+s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+(22+n.ExpInstVar())},()=>"Thwomp landing & returning",e=>{const t=e._GetNode(0);return()=>Qj("ignoreObj_",t.ExpObject())},()=>1280,e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()-180},e=>{const t=e._GetNode(0);return()=>64-32*t.ExpInstVar()},()=>"returningHome",()=>"Thwomp interacting with environment",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>2*t.ExpInstVar()-2*n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(""===t.ExpInstVar()?1:0,0===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpObject(),n.ExpObject())},()=>"Thwomp water events",()=>"Thwomp health",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-(n.ExpInstVar()-18)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpBehavior())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()-n.ExpBehavior()*s()},()=>"Thwomp spinjump collision tagging",()=>"Thwimp",()=>"Thwimp custom actions",e=>{const t=e._GetNode(0);return()=>-1*t.ExpInstVar()},()=>"Thwimp jump cycle",()=>"performNextJump",()=>"foundWall",e=>{const t=e._GetNode(0);return()=>Qj("thwimpLand",t.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Bump")},()=>"waitingToLeaveWall",()=>"Bump",()=>"thwimpLand",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()>0?"right":"left"},()=>"Thwimp health",()=>"Thwimp spinjump collision tagging",()=>"Boss Flame",()=>"Boss Flame initialize & angle-updating (custom actions)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Flame"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"freezeFlame",()=>"kb_flame",()=>"Boss Flame movement",()=>"Boss Flame animation, particles & sound",()=>"bowserFlame",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Flame")},()=>"createParticle",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject("Particle")+n(-8,8)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"KingBooDust")},()=>"toRandomPos",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.1,.3)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FireDust")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"IceDust")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Particle")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+16},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(qj(n.ExpObject(),s(4,8)),Xj(r.ExpObject(),o(4,8)))},()=>"Podoboo / Dolphin / Fishbone",()=>"Podoboo / Dolphin / Fishbone: Initialize (action)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),n.ExpInstVar())},()=>"podoboo",()=>"poison",()=>"toxiboo",()=>"cryoboo",()=>"dolphin",()=>"dolphinSideways",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Top")},()=>"fishbone",()=>"leapingFishbone",()=>"Eyes",()=>-7,()=>21,e=>{const t=e._GetNode(0);return()=>-1*Math.abs(t.ExpInstVar())},()=>"Podoboo / Dolphin / Fishbone: Jump (action)",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpInstVar()+n(s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>Kj(t.ExpInstVar(),n(1,-1))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject("Left"),r.ExpObject("Left"))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject("Right"),r.ExpObject("Right"))},e=>{const t=e._GetNode(0).GetVar();return()=>-1*Math.abs(t.GetValue())},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpInstVar())},()=>512,()=>-512,()=>"jumpCycle",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>t.GetValue()*Math.sin(tk.toRadians(n.ExpInstVar()))+s.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>t.GetValue()*Math.cos(tk.toRadians(n.ExpInstVar()-180))+s.ExpObject()},()=>"startFallPhase",()=>"rising",()=>"Burn",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+"-jump"},()=>"Podoboo / Dolphin / Fishbone: Misc. custom actions",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpInstVar(),r.ExpInstVar()))-90},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Bottom")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"LavaSplash")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpInstVar()-(-1===n(s.ExpObject(),"dolphin")?0:1)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(2,4))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Spark")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Math.round(t(2,4))+6*(2===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-48,48)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar()/2.5,-2.5*s.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+90},()=>"Podoboo / Dolphin / Fishbone events",()=>"startJumpingCycle",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Dolphin")},()=>"Podoboo / Dolphin / Fishbone liquid splash particles",()=>"water",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("LiquidCheck"),s.ExpObject("LiquidCheck"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-10},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+10},()=>"hazardLiquid",e=>{const t=e._GetNode(0);return()=>t.ExpObject("LiquidCheck")},()=>"Podoboo / Dolphin / Fishbone health",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(ek("podoboo"===t.ExpInstVar()?1:0,"toxiboo"===n.ExpInstVar()?1:0),"cryoboo"===s.ExpInstVar()?1:0)},()=>"Grinder",()=>"Grinder init",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"Grinder"),n.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>20-10*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>28-14*t.GetValue()},()=>"Grinder movement",()=>"Grinder sounds",()=>"playMotorSFX",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Motor")},()=>"grinder",e=>{const t=e._GetNode(0);return()=>-t.ExpObject()/10},()=>"Grinder collisions",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(0===t.ExpInstVar()?1:0,n.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("removeElectricCharge")-n.ExpBehavior("removeElectricCharge")},()=>"Ball 'N' Chain",()=>"Ball 'N' Chain player collisions",()=>"chainballDetach",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("EnemyDefeat")},()=>"chainball",()=>"Ball 'N' Chain miscellaneous collisions",()=>"Falling Spike",()=>"Falling Spike custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Spike")},()=>"shaking",()=>"Falling Spike create semisolid",()=>"Falling Spike fall events",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-64-(n.ExpInstVar_Family()-8)},()=>"fallSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-90},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpInstVar()/(1+n.ExpInstVar())*s()},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("fallSpeed")},()=>"Falling Spike player collisions",()=>"[h2]Airship enemies[/h2]",()=>"Bob-omb",()=>"Bob-omb custom actions",e=>{const t=e._GetNode(0);return()=>t.ExpObject("WindupKey")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("bwkey",t.GetValue())},()=>"WindupKey",()=>"detonating",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"WalkAndDetonate")},()=>"explode",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("bwkey",t.GetValue())+"_detonate"},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"StandAndDetonate")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"StartDetonation")},()=>"Bob-omb detonation & related animation handling",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Detonate")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("explode")-n.ExpBehavior("explode")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Parachute")},()=>"Bob-omb movement",()=>"detonateStanding",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.5,1.5)},()=>"Bob-omb health",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(0===t.ExpInstVar()?1:0,Qj(1===n.ExpInstVar()?1:0,s.ExpInstVar_Family()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>ek(t.ExpObject()===Qj(n.GetValue(),"StartDetonation")?1:0,s.ExpObject()===Qj(r.GetValue(),"Detonate")?1:0)},()=>-64,()=>"Kab-omb",()=>"Kab-omb custom actions",()=>"runningIgnited",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RunIgnited1")},()=>"prepareLiftoff",()=>"kabombIgnite",()=>"Kab-omb parachute animation handling",()=>"Kab-omb regular movement",()=>"Kab-omb turning (in chase mode)",()=>"startTurning",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.3,.6)},()=>"movementSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("movementSpeed")},()=>"Kab-omb chase movement",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?512:1024},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod();return()=>t.ExpInstVar()?n(s.ExpInstVar()-1024*r(),48):o(a.ExpInstVar()+1024*i(),96)},()=>"Kab-omb collisions",()=>"Kab-omb liftoff & detonation",()=>"particleDelay",()=>"liftingOff",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject("Fuse")+n(-3,3)},()=>"kabombDetonate",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RunIgnited2")},()=>"prepareLiftOff",()=>"preparingLiftoff",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareLiftoff")},()=>"liftOff",()=>"toExplosionY posY",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-80},()=>"Blastoff",()=>"kabombLiftoff",()=>"toExplosionY",()=>"Bullet Bill",()=>"Bullet Bill custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Bullet"),n.ExpInstVar())},()=>"bullsEyeBill",()=>"banzaiBill",()=>"kingBill",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1)},()=>.925,()=>"cannonball",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()%3},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.GetValue()-n.GetValue()*s.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>1.5*t.GetValue()-n.GetValue()*s.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.GetValue()/2-n.GetValue()*s.ExpInstVar()},()=>"Eye",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Eye")},()=>"Exhaust",()=>"Emblem",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Emblem")},()=>"Bowtie",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bowtie")},()=>"Bullet Bill movement",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()<=1?"Explosion":"Heavy"},()=>"bulletSpawn",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject())),1-Math.pow(.25,i.ExpObject()))},()=>"Bullet Bill health",()=>"King Bill visual effects",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject())),1-Math.pow(.03,i.ExpObject()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("Eye")+4*Math.cos(tk.toRadians(n.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("Eye")+4*Math.sin(tk.toRadians(n.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("Eye")+6*Math.cos(tk.toRadians(n.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("Eye")+6*Math.sin(tk.toRadians(n.ExpInstVar()))},()=>.12,e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("Smoke",n.GetValue()))},()=>"toPositionAndDisappear",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+16*Math.cos(tk.toRadians(n.ExpInstVar()-180))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+16*Math.sin(tk.toRadians(n.ExpInstVar()-180))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(90===t.ExpObject()?1:0,180===n.ExpObject()?1:0)?"ExhaustTop":"ExhaustBottom"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.12)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t.ExpObject(n.GetValue())+Math.cos(tk.toRadians(s.ExpObject()))*(16*r.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t.ExpObject(n.GetValue())+Math.sin(tk.toRadians(s.ExpObject()))*(16*r.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Poof")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+n(8,16)*Math.cos(tk.toRadians(s.ExpInstVar()-180+r(-30,30)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+n(8,16)*Math.sin(tk.toRadians(s.ExpInstVar()-180+r(-30,30)))},()=>"King Bill collisions",()=>"Electrified Bill visual effects",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpInstVar(),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()+12,s.ExpObject()-12)},()=>"Bullet Bill Blasters",()=>"Bill Blaster init",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"BillBlasterBase"),n.ExpInstVar()%3)+"_",s.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("BaseBottom")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),0,","))},e=>{const t=e._GetNode(0).GetVar();return()=>32+t.GetValue()},e=>{const t=e._GetNode(0);return()=>-1*Math.abs(t.ExpObject()-8)},()=>"down",()=>"Top",()=>"Right",()=>"Left",()=>"billBlaster",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),2,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6);return()=>"resize"+t(n(s.ExpInstVar_Family()),1)+r(o.ExpInstVar_Family(),a(i.ExpInstVar_Family())-1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),3,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16*t(n(s.ExpInstVar(),4,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),5,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),6,","))},()=>"setNewBaseSize",e=>{const t=e._GetNode(0);return()=>-1*t.ExpInstVar_Family()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"Blaster"),n.GetValue()%3)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()+8},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()-8},()=>"Bill Blaster functions",()=>"Bill Blaster shoot cycle",()=>"fireBullet",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject("Left"),n.ExpObject("Left"),s.ExpObject(),r.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject("Right"),n.ExpObject("Right"),s.ExpObject(),r.ExpObject())},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+180},()=>"Bill Blaster Sniper events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()-8))+180},()=>"Detached Bill Blaster events",()=>"Cannons",()=>"Cannon init",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Cannon")},()=>"cannon",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Cannon"))},()=>"Cannon shoot cycle",()=>"cannonFire",()=>"moveToNewAngle",()=>"Cannon firing ammo",()=>"Front",e=>{const t=e._GetNode(0);return()=>12+t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>45*t.ExpInstVar()-90},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+16*Math.cos(tk.toRadians(45*n.ExpInstVar()-90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+16*Math.sin(tk.toRadians(45*n.ExpInstVar()-90))+8},e=>{const t=e._GetNode(0);return()=>192*Math.cos(tk.toRadians(45*t.ExpInstVar()-90))},e=>{const t=e._GetNode(0);return()=>256*Math.sin(tk.toRadians(45*t.ExpInstVar()-90))},()=>"bobOmbRelease",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Front")},()=>"Cannon rotating",e=>{const t=e._GetNode(0).GetVar();return()=>Math.sign(t.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+8},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-8},()=>"Cannon rotation cycle",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()*n.ExpInstVar()},()=>"Torpedo Ted",()=>"Torpedo Ted custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Torpedo"),n.ExpInstVar())},()=>"targetingTed",()=>"preventTurningToPlayer",()=>"explodingTed",()=>"detonate",()=>"preventDetonateFlashes",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(n.GetValue(),s.ExpObject())/180},()=>"targetToNewAngle forWaterAI",e=>{const t=e._GetNode(0).GetVar();return()=>1.5+t.GetValue()},()=>"detonationFlash",()=>"Torpedo Ted (out of) water checks",()=>"activatedThisFrame",()=>"WaterSplash",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.cos(tk.toRadians(t.ExpInstVar()))*n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sin(tk.toRadians(t.ExpInstVar()))*n.ExpInstVar()},()=>"Torpedo Ted movement (underwater)",()=>"setBulletSpeed forWaterAI",()=>"posY forWaterAI",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpBehavior()/16},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()/384},()=>"targetToNewAngle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject()-a.ExpObject()/2))+90,i.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()-o.ExpObject()/2))+90},()=>"detonationFlash color",()=>255,e=>{const t=e._GetNode(0);return()=>(12-t.ExpBehavior("detonate"))/16+.03},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+18*Math.cos(tk.toRadians(n.ExpObject()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+18*Math.sin(tk.toRadians(n.ExpObject()+90))},()=>"setBulletSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("setBulletSpeed")},()=>"Torpedo Ted check for water overlaps at front",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("Nose"),s.ExpObject("Nose"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?270:90},()=>"Torpedo Ted movement (outside of water)",()=>"forWaterAI",()=>"Torpedo Ted health",()=>"Torpedo Glove",()=>"Torpedo Glove init",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Glove")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_o39")},()=>"Torpedo Glove cycle",()=>"holdTorpedo",()=>"Torpedo Base create & release Ted",()=>"Torpedo",()=>"moveTorpedoDown",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+20},()=>"moveBackUp",()=>"releaseSinkY forWaterAI",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/32},()=>"Mechakoopa",()=>"Mechakoopa functions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Key")},()=>"stunned",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"KeyStunned")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Stunned")},()=>"Mechakoopa movement & Wind-up key animation",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RecoveryBlink")},()=>"Mechakoopa stomp / stun recovery",()=>"Mechakoopa health",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("stunned"===t.ExpInstVar()?1:0,"gettingUp"===n.ExpInstVar()?1:0)},()=>"Rocky Wrench",()=>"Rocky Wrench initialize",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_RockyWrench"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(Qj(r.GetValue(),"_RockyWrench")),0," -- ")," | ")},()=>"e167",()=>"e177",()=>"e182",()=>"Rocky Wrench custom actions",()=>"retreating",()=>"toHidingPos posXY",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),n.GetValue()),s.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("SemiSolid")+8},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Eyes")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RWEyes")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Stomp"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Defeat"),n.ExpInstVar())},()=>"Rocky Wrench semisolid events",()=>"peeking",()=>"performingAttack",()=>"preventPositionAligning",()=>"Rocky Wrench finding tilemap",()=>"Rocky Wrench attack cycle",()=>"attackCycleDelay",()=>"toPeekingPos",()=>"toPeekingPos posXY",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+3*Math.cos(tk.toRadians(n.ExpObject()-90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+3*Math.sin(tk.toRadians(n.ExpObject()-90))},()=>"stayInPeekMode",()=>"toAttackPos",()=>"toAttackPos posXY",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+8*Math.cos(tk.toRadians(n.ExpObject()-90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+8*Math.sin(tk.toRadians(n.ExpObject()-90))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Hold"),n.ExpInstVar())},()=>"throwItem",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Hand")},()=>"dontInstaCollect|syncSpriteWidth",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Throw"),n.ExpInstVar())},()=>"moveBackToHideSpot",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sign(t.ExpObject())*(n.ExpInstVar()?64:128)},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*28)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sign(t.ExpObject())*(n.ExpInstVar()?64:128)},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?80:160},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(t.ExpInstVar()?80:160)/(n.ExpObject()>0?3:1)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(2*t.ExpBehavior()*(n.ExpObject()<0?20:84))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(t.ExpInstVar()?-80:-160)/(n.ExpObject()<0?3:1)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(2*t.ExpBehavior()*(n.ExpObject()>0?20:84))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+11*Math.cos(tk.toRadians(n.ExpObject()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+11*Math.sin(tk.toRadians(n.ExpObject()+90))},()=>"toHidingPos",()=>"Rocky Wrench sprite collisions",()=>"Idle",()=>"Rocky Wrench player stomps / overlaps",()=>-384,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>64*Math.sign(t.ExpObject()-n.ExpObject())},()=>"stayInStompAnim",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpInstVar(),r.ExpInstVar())/40},()=>"Fall",()=>"[h2]Ghost enemies[/h2]",()=>"Eerie",()=>"Eerie functions",e=>{const t=e._GetNode(0);return()=>90*Math.round((t.ExpInstVar()+90)/90)},()=>"Eerie movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject())))},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-90},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar()-180)},()=>"initialMovementSine",()=>"routineMovementSine",()=>"initialMovementSine sinewave",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()/2*Math.cos(tk.toRadians(s.ExpInstVar()-90))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()/2*Math.sin(tk.toRadians(s.ExpInstVar()-90))},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/4},()=>"routineMovementSine sinewave",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()*Math.cos(tk.toRadians(s.ExpInstVar()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()*Math.sin(tk.toRadians(s.ExpInstVar()+90))},()=>"Ember Eerie particles",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject("Back")+n(-6,6)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"GhostlyDust")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.03,.15)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+Math.cos(tk.toRadians(n.ExpInstVar()+s(150,210)))*r(2,4)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+Math.sin(tk.toRadians(n.ExpInstVar()+s(150,210)))*r(2,4)},()=>"Eerie health",()=>"playerHammerDefeat",()=>"Boo Trails",()=>"Boo Trail handle defeat action",()=>"circle",()=>"snake",()=>"Boo Trail collisions",()=>"booTrail",()=>"Boo",()=>"Boo functions",()=>"bigBoo",()=>"boo",()=>"blockBoo",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Chase"),n.ExpInstVar())},()=>"terrisa",()=>"shrinkToDefaultSize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"FleeTurn"),n.ExpInstVar())},()=>.066,()=>"createTrail",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Boo"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Taunt"),n.ExpInstVar())},()=>"sineWave",()=>"Regular Boo AI",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Flee"),n.ExpInstVar())},()=>"slightlyDisappear",()=>"becomeOpaque",()=>"terrisaPeek",()=>"Boo hide & chase",()=>"preventHide",()=>"playIdleAnim",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(6,12))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.4)},()=>"Regular Boo movement",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpBehavior("sineWave")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpInstVar()*n()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>3*t.ExpInstVar()*n()},()=>-80,e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>tk.lerp(t.ExpInstVar(),-1*n.ExpInstVar(),1-Math.pow(s.ExpInstVar(),r()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>tk.lerp(t.ExpInstVar(),n.ExpInstVar(),1-Math.pow(s.ExpInstVar(),r()))},()=>"Terrisa re-detecting player",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Chase3")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Confused"),n.ExpInstVar())},()=>"terrisaLaugh",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>tk.lerp(t.ExpInstVar(),0,1-Math.pow(.1,n()))},()=>"Extra Block Boo events",()=>-48,()=>"Terrisa events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"DeathLaughPt1")},()=>"jitter",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(-16,16)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BaddieDust2")},()=>1.33,()=>"shrinkToDefaultSize size",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(360)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>8*Math.cos(tk.toRadians(t.GetValue()))+n.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>8*Math.sin(tk.toRadians(t.GetValue()))+n.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Hide"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Peek"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1,4)},()=>"Boo health",()=>"dead",()=>"Terrisa death laugh animation",()=>"endOfLifespan",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"DeathLaughPt2")},()=>"flash",()=>"TerrisaLaugh",()=>"toScreenCenter",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-4},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"DeathLaughPt3")},()=>"zElevation",()=>82,()=>"Boo Buddy Snake",()=>"Boo Buddy Snake init",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod();return()=>t.ExpInstVar()?Qj(Qj(n.GetValue(),"Buddy"),Math.round(s(5)))+"F":Qj(Qj(r.GetValue(),"Buddy"),Math.round(o(5)))},()=>"defeatedThisFrame",()=>"Boo Buddy Snake creation & movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpBehavior())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(Qj(t.GetValue(),"Buddy"),Math.round(n(5)))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(Qj(t.GetValue(),"Buddy"),Math.round(n(5)))+"F"},()=>"Boo Buddy Snake health",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2-2},()=>"Stretch",()=>"Stretch tilemap events",()=>"Stretch initialize",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Fall")},()=>"Stretch custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Slink")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+1*(180===n.ExpBehavior()?1:0)+-1*(0===s.ExpBehavior()?1:0)},()=>"tilemap",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()>0?n.ExpObject()+180:s.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpBehavior()-90)},()=>"floor",()=>"roof",()=>"rightWall",()=>"leftWall",()=>"scareDelay",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Scare")},()=>"StretchScare",()=>"Stretch find Stretch Bar on load",e=>{const t=e._GetNode(0);return()=>t.ExpObject("FloorCheck1")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("FloorCheck2")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Rise")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+90},()=>"Stretch on-bar movement",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>ek(t.ExpObject()===Qj(n.GetValue(),"Move")?1:0,s.ExpBehavior("findNewPlaceInBar")>0?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(48+96*t.ExpInstVar())*n.ExpObject()},e=>{const t=e._GetNode(0);return()=>t.ExpObject("FrontCheck")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Move")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(2,3)},()=>"sinkBackToBar",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Subtract")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.25,.75)},()=>"findNewPlaceInBar",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior("findNewPlaceInBar")+n(.25,.5)},()=>"riseOutOfBar",()=>"Stretch off-bar movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>ek(t(n.ExpObject(),-1),s(r.ExpObject(),1))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Slide")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Land")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()-n.ExpInstVar()*Math.sign(s.ExpObject())*r.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"floor")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+n.ExpInstVar()*Math.sign(s.ExpObject())*r.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"roof")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"rightWall")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"leftWall")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+88},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-88},e=>{const t=e._GetNode(0);return()=>1===t.ExpObject()?13:29},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"ScareEnd")},e=>{const t=e._GetNode(0);return()=>0===t.ExpObject()?13:7},()=>"Stretch Sliding (from slopes)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject()-s.ExpInstVar()/2,r.ExpObject()+1)},()=>"preventDecel",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior()-384*n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),-1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject()+s.ExpInstVar()/2,r.ExpObject()+1)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior()+384*n.ExpObject()},()=>"createSlidingParticle",()=>"Stretch health",()=>"Splunkin",()=>"Splunkin custom actions",()=>"Splunkin movement",()=>"Splunkin health",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Splunkin")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-144,-256)},()=>"Swoop",()=>"Swoop custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),n.GetValue()?"Fly":"Sleep"),s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Fly"),n.ExpInstVar())},()=>"wakeUp",()=>"hSpeed",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject())/96},()=>"toPlayerMidY posY",()=>"Swoop attaching to ceilings",()=>"Swoop player-checking & movement",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-23},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+80},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("hSpeed")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject())),1-Math.pow(.1,i.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpInstVar(),s.ExpInstVar(),1-Math.pow(.1,r.ExpObject()))},()=>"Crowber",()=>"Crowber functions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Turn")},()=>"moveUpY",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Fly")},()=>"faceSkyAngle angle",e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?90:270},()=>"animationSpeed",e=>{const t=e._GetNode(0);return()=>2*t.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FlyDown")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CrowberFeather")},()=>"toFinalPos posXY",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+24*Math.cos(tk.toRadians(n(360)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+24*Math.sin(tk.toRadians(n(360)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(12,24)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1,2)},()=>"Crowber movement",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sign(t.ExpInstVar())*n.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"HomeIn")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5);return()=>t.ExpObject()+(n.ExpInstVar()*s.ExpObject()+r(o.ExpObject(),1,0)*a.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RepeatFly")},e=>{const t=e._GetNode(0);return()=>512*t.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-168},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+168},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>tk.lerp(t.ExpInstVar(),0,1-Math.pow(.15,n.ExpObject()))},e=>{const t=e._GetNode(0);return()=>256*t.ExpObject()},e=>{const t=e._GetNode(0);return()=>384*t.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+108},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-108},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+24},()=>"targetY posY",e=>{const t=e._GetNode(0);return()=>768*t.ExpObject()},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("animationSpeed")},()=>"Green Bubble",()=>"Green Bubble initialize",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bubble")},()=>"additive",()=>"sourceAtop",()=>"destinationOut",()=>"Green Bubble main movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()))-180,1-Math.pow(.25,i.ExpObject()))},()=>"Green Bubble sinewave movement",()=>"initialBubbleMovementSine",()=>"routineBubbleMovementSine",()=>"initialBubbleMovementSine sinewave",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()/2*Math.cos(tk.toRadians(s.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()/2*Math.sin(tk.toRadians(s.ExpInstVar()))},()=>"routineBubbleMovementSine sinewave",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()*Math.cos(tk.toRadians(s.ExpInstVar()+180))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()*Math.sin(tk.toRadians(s.ExpInstVar()+180))},()=>"Broozer",()=>"Broozer custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Patrol")},()=>"continuePatrolTurn",()=>"startPatrolTurn",e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*12)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Punch")},()=>"patrolling",()=>"Broozer patrolling",e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?"right":"left"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()-o.ExpInstVar()/2)},()=>"Broozer chasing",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()%(n.ExpObject()/2)==0?1:0},()=>"broozerPunch",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?64:128},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod();return()=>t.ExpInstVar()?n(s.ExpInstVar()-128*r(),48):o(a.ExpInstVar()+128*i(),96)},()=>"grabBlock",()=>"Broozer stomped by player",()=>"recoverFromStomp",()=>"hpLossColor color",()=>"EnemyHurt",()=>"broozerStomped",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>112*Math.sign(t.ExpObject()-n.ExpObject())},()=>"Broozer damaging players",()=>"[h2]Water enemies[/h2]",()=>"Cheep Cheep / Blurp",()=>"Cheep Cheep initiation",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-3},()=>.7,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Swimming"),n.ExpInstVar())},()=>"Cheep Cheep functions",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?-24:24},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar()+16*n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar()-16*n.GetValue()},()=>"prepareLeap",()=>"leap",()=>"Cheep Cheep (out of) water checks",()=>"[h4]Cheep Cheep on-land behavior[/h4]",()=>"leaping",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Flopping"),n(0,1))+"_",s.ExpInstVar())},()=>"preventAnimationChange",()=>"sinewave",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-128,-192,-256)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-48,-24,24,48)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Flopping0_"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Flopping"),n.GetValue())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>-1*Math.abs(t.ExpBehavior())},()=>"[h4]Cheep Cheep in-water behavior[/h4]",()=>"ownEvents",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(),s.ExpObject()-r.ExpObject())},e=>{const t=e._GetNode(0);return()=>360-t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>-1*Math.abs(t.ExpObject())},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpObject())},()=>"Cheep Cheep swimming animations",()=>"Straight-swimming Cheep Cheep (W/ sine)",e=>{const t=e._GetNode(0);return()=>32*t.ExpObject()},()=>"Cheep Cheep swimming back & forth",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()*Math.cos(tk.toRadians(n.ExpInstVar()))+s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()*Math.sin(tk.toRadians(n.ExpInstVar()))+s.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(),Math.cos(tk.toRadians(s.ExpInstVar())),Math.sin(tk.toRadians(r.ExpInstVar())))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpInstVar(),r.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.abs(t.ExpInstVar())*n.ExpObject()},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-180},()=>"Circling Cheep Cheep",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>80*t()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject("Bottom1PX")))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject("Bottom1PX"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Bottom1PX")},()=>"Cheep Cheep rapidly swimming back & forth, then leaping upwards",()=>"inactive",()=>"completed",()=>"swimming",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-80*n.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+80*n.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()-n.ExpInstVar()},()=>"leapToY",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/160},()=>"Cheep Cheep leaping at surface",e=>{const t=e._GetNode(0);return()=>80*t.ExpObject()},()=>-288,()=>"landedInWater",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()/4},()=>"Deep & Eep Cheep",e=>{const t=e._GetNode(0);return()=>Math.round(t.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8).GetBoundMethod();return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()))-180*(i.ExpInstVar()-5),1-Math.pow(l.ExpInstVar(),d()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpInstVar(),s.ExpInstVar(),1-Math.pow(.1,r()))},()=>"Cheep Cheep health",e=>{const t=e._GetNode(0);return()=>0===t.ExpInstVar_Family()?1:0},()=>"Mecha Cheep",()=>"Mecha Cheep initiation",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Swimming")},()=>"Mecha Cheep (out of) water checks",()=>"[h4]Mecha Cheep on-land behavior[/h4]",()=>"preventDetoAnim",()=>"changeDetoAnim",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject()===Qj(n.GetValue(),"Swimming")?Qj(s.GetValue(),"Detonating"):Qj(r.GetValue(),"Swimming")},()=>"flop",()=>"[h4]Mecha Cheep in-water behavior[/h4]",()=>"createPoofParticle",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Key")},()=>"createBreathParticle",()=>"Mecha Cheep health",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("detonate")-n.ExpBehavior("detonate")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>48*Math.sign(t.ExpObject()-n.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar()-2},()=>"Spiny Cheep Cheep",()=>"Spiny Cheep Cheep init",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Default")},()=>"Spiny Cheep Cheep functions",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject("Middle"),s.ExpObject(),r.ExpObject("Middle")))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Angry")},()=>"Spiny Cheep Cheep (out of) water checks",()=>"Spiny Cheep Cheep on-land behavior",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Flopping")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject("Middle"),1)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject("Middle"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>Kj(t(24,48),Math.sign(n.ExpObject()-s.ExpObject()))},()=>"Spiny Cheep Cheep in-water behavior",()=>"Spiny Cheep Cheep: update facing position",()=>"Spiny Cheep Cheep swimming back & forth",()=>"Spiny Cheep Cheep chasing player",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject("Middle"),o.ExpObject(),a.ExpObject("Middle"))),1-Math.pow(.05,i.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>48*t()},()=>"Rip Van Fish",()=>"Rip Van Fish init",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Sleep")},()=>"Rip Van Fish custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Chase")},()=>"minimumChasePeriod",()=>"Rip Van Fish (out of) water checks",()=>"Rip Van Fish snore particles",()=>"Rip Van Fish on-land behavior",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(Qj(t.GetValue(),"Flopping"),n(0,1))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Flopping0")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"Flopping"),n.GetValue())},()=>"Rip Van Fish in-water behavior",()=>"Rip Van Fish sleeping",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()+64*n()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject("Middle"),s.ExpObject(),r.ExpObject("Middle"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpBehavior()-64*s(),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpBehavior()+64*s(),0)},()=>"Rip Van Fish chasing player",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpBehavior()-64*n()*Math.sign(.5-s.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpBehavior()+64*n()*Math.sign(.5-s.ExpInstVar_Family())},()=>"Rip Van Fish health",()=>"Big Chasing Fish (Big Bertha / Porcupuffer / Spike Bass / Cheep Chomp)",()=>"[b]Big Chasing Fish:[/b] Initialize & 'on-destroyed'-handling",()=>"waterCheckDelay",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("bigBertha|porcupuffer|spikeBass|cheepChomp",n.ExpInstVar(),"|")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Swim"),n.ExpInstVar())},()=>37,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t(n.ExpObject())>=1?tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject())):90},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject())>=1?"left"===s.ExpInstVar()?180:0:90},()=>"[b]Big Chasing Fish:[/b] general custom actions",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()*-Math.sign(n.ExpObject())},()=>"angle",()=>"toDefaultAngle angle",()=>"movingSpeed",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+" movingSpeed"},()=>"loopX",()=>"loopY",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpObject()-7+14*s("loopX"),r.ExpObject()-7+14*o("loopY"))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-7+14*n("loopX")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-7+14*n("loopY")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"MouthOpen"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>(t.ExpInstVar(),10)},e=>{const t=e._GetNode(0);return()=>0===t.ExpInstVar()?10:24},e=>{const t=e._GetNode(0);return()=>0===t.ExpInstVar()?14:24},e=>{const t=e._GetNode(0);return()=>t.ExpObject("EatingPoint")},()=>"playerEatingMouthHitbox",()=>"EatingPoint",()=>"Tint",()=>"adjustTint",()=>"cheepChompHurt",()=>"[b]Big Bertha / Cheep Chomp:[/b] eaten metal effect",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"EatMetal"),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+96*n()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+32*n.ExpBehavior()*s()},()=>.03,()=>"[b]Big Chasing Fish:[/b] picking player to chase",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpObject(),s(r.ExpObject(),1),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>tk.distanceTo(t.ExpObject(),n(s.ExpObject(),1),r.ExpObject(),o.ExpObject())},()=>"dashingInOnPlayer",()=>"[b]Big Bertha / Porcupuffer / Spike Bass:[/b] [u]Swimming underwater[/u]",()=>"spikeBassDashing",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod();return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject())),1-Math.pow(.1,i()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpInstVar()>=90?1:0,n.ExpInstVar()<270?1:0)?"left":"right"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5);return()=>ek(2===t(n.ExpObject(),s.ExpObject()-3)?1:0,4===r(o.ExpObject(),a.ExpObject()-3)?1:0)},e=>{const t=e._GetNode(0);return()=>1===t.ExpInstVar()?80:160},()=>"increaseSpeedToSurfaceSpeed",()=>"[b]Spike Bass:[/b] rolling towards player",()=>"spikeBassDashDelay",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()))},()=>3.6,()=>"startSpikeBassDash",e=>{const t=e._GetNode(0);return()=>1.1*t.ExpObject()},()=>"bassDashInit",()=>"increaseSpeedToRollDashSpeed",()=>"endSpikeBassDash",()=>"SpikeBass",()=>"bassDashStart",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+Math.sign(n.ExpObject())*(-s.ExpBehavior()*(25*r.ExpObject()))},()=>"breathBubbleDelay",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.1)},()=>"decreaseSpeedToUnderwaterSpeed",()=>"[b]Cheep Chomp:[/b] [u]Swimming underwater[/u]",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()-n.ExpInstVar()*s()},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-96},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+96},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()+n.ExpInstVar()*s()},()=>"eatingAttemptDelay",()=>3.2,()=>"toPlayerAngle angle",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+(n.ExpObject()<0?0:180)},()=>"speedUpDash",()=>"dashingSpeed movingSpeed",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.1,.4)},()=>"cheepChomp",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject("EatingPoint")+n(-8,8)},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?"right":"left"},()=>"preventClosingMouth",()=>"[b]Cheep Chomp:[/b] dashing into player (extra events)",()=>"makeCheepChompSound",()=>"CheepChomp",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject(),s.ExpInstVar()+(r.ExpObject()<0?0:180),1-Math.pow(.1,o.ExpObject()))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"MouthOpen3")},()=>"[b]Big Chasing Fish:[/b] [u]Surface movement[/u]",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-80},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+80},()=>-24,e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5);return()=>Qj(t.ExpObject()+n.GetValue()>s.ExpObject()-8?1:0,r.ExpObject()+o.GetValue()<a.ExpObject()+8?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(960*(t.ExpObject()-n.ExpObject()+16))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()-768*n()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5);return()=>ek(2===t(n.ExpObject(),s.ExpObject()-8)?1:0,4===r(o.ExpObject(),a.ExpObject()-8)?1:0)},()=>"[b]Big Bertha / Spike Bass:[/b] jumping, landing in water, and misc. gravity events",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()+480*n()},()=>"[b]Big Chasing Fish:[/b] Leaving / Entering water & mirroring",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("movingSpeed")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("movingSpeed")/10},()=>"[b]Big Bertha:[/b] opening mouth (underwater) & eating",()=>"digestPlayer",()=>"[b]Big Chasing Fish:[/b] Health events (& eating player)",()=>"YoshiSwallow",()=>"swallow",()=>"flyAwayFromMetalOrStatueDamage",()=>"toPlayerPos posXY",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject())/128},()=>"nudgeToPlayer posXY",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpObject()+8*Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject()))))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpObject()+8*Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject()))))},()=>"[b]Cheep Chomp:[/b] Fireball & Superball collisions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(255,n.ExpBehavior("adjustTint"),s.ExpBehavior("adjustTint"))},()=>"[b]Big Bertha / Cheep Chomp:[/b] eating metallic/statue players damage animation",()=>"chewedMetal",()=>"sizeBump",()=>"toFinalPosXY",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+32*Math.cos(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+32*Math.sin(tk.toRadians(n.GetValue()))},()=>"shootingAway",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>Kj(t(64,128),n(1,-1))},()=>"[b]Porcupuffer / Cheep Chomp:[/b] Checking for water bounds",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(0===t(n.ExpObject(),s.ExpObject())?1:0,r.ExpBehavior()>0?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(0===t(n.ExpObject()-8,s.ExpObject()-8)?1:0,r.ExpBehavior()<0?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(0===t(n.ExpObject()+8,s.ExpObject()-8)?1:0,r.ExpBehavior()>0?1:0)},()=>"Blooper",()=>"Blooper Baby events",()=>"Blooper Baby custom actions",()=>"orbitRadius",()=>"Lerping to Nanny",()=>"Blooper Baby orbit events",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("orbitRadius")},()=>"poofAway",()=>"Blooper Baby health",()=>"preventStomp",()=>"Blooper init",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Blooper"),n.ExpInstVar())},()=>"Blooper Nanny spawn baby (function)",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/10},()=>"Blooper (out of) water checks",()=>"Blooper on-land behavior",()=>"blooperMovement",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-128,-192,-256,-384)},()=>"Blooper in-water behavior",()=>"Blooper movement",()=>"swimLeft",()=>"swimLeft posX",()=>"swimRight",()=>"swimRight posX",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+32*n.ExpObject()},()=>"swimUp",()=>"setDefaultFrame",()=>"preventSwimming",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()-4},()=>"swimUp blooperMovement posY",()=>.45,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(Math.abs(n.ExpObject()-s.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(0,1)},()=>"swimLeft blooperMovement posX",()=>"swimRight blooperMovement posX",()=>"Blooper Nannies scattering & spawning babies",()=>"generateNewBaby",()=>"prepareUnleashingBabies",()=>8421631,()=>.075,()=>"unleashBabies",()=>"toParentBlooper",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject())/100},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(360))},e=>{const t=e._GetNode(0);return()=>64+16*t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>360/t.ExpInstVar()},()=>"Blooper health",()=>"Bulber",()=>"Bulber init",()=>"Bulber (out of) water checks",()=>"Bulber on-land behavior",()=>-160,()=>"Bulber in-water behavior",e=>{const t=e._GetNode(0);return()=>16*t.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+2*Math.cos(tk.toRadians(n.ExpInstVar()-90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+1*Math.sin(tk.toRadians(n.ExpInstVar()-90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+2*Math.cos(tk.toRadians(n.ExpInstVar()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+2*Math.sin(tk.toRadians(n.ExpInstVar()+90))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(),s.ExpObject()-r.ExpObject()+8)},()=>"Bulber health",()=>"Jelectro",()=>"Jelectro init",()=>"jelectro",()=>"doJelectroSparks",()=>"Jelectro activating",()=>"Jelectro (out of) water checks",()=>"Jelectro on-land behavior",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"OutOfWater")},()=>"Jelectro in-water behavior",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"InWater")},()=>"InWaterLandedPosition",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpBehavior()/20*Math.cos(tk.toRadians(s.ExpBehavior()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpBehavior()/20*Math.sin(tk.toRadians(s.ExpBehavior()))},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()/480},()=>"Floating Mine",()=>"Floating Mine initialize",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),5)},()=>"Chain",()=>"Chainball",()=>"detachedChainball",()=>"detachedChain",()=>"Floating Mine movement & environmental collision updates",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(),s.ExpObject()+r.ExpInstVar()/2)},()=>"Urchin",()=>"Urchin init & other custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Move5")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"UrchinEyes")},()=>"walled",()=>"preventUrchinMovement",()=>"Urchin (out of) water checks",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()/3},()=>"waterLandingVectorY",e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/384},()=>"floatInPlace",()=>"backAndForth",e=>{const t=e._GetNode(0);return()=>t.ExpObject("NearTop")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("waterLandingVectorY")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("Center")+16*Math.cos(tk.toRadians(s.ExpInstVar())),r.ExpObject("Center")+16*Math.sin(tk.toRadians(o.ExpInstVar())))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("Middle")+16*Math.cos(tk.toRadians(s.ExpBehavior())),r.ExpObject("Middle")+16*Math.sin(tk.toRadians(o.ExpBehavior())))},()=>"reverseGravityFalling",()=>"reverseWalledMovement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8);return()=>t(n.ExpObject("Middle")+12*Math.cos(tk.toRadians(s.ExpBehavior()+90*("left"===r.ExpInstVar()?1:0)-90*("right"===o.ExpInstVar()?1:0))),a.ExpObject("Middle")+12*Math.sin(tk.toRadians(i.ExpBehavior()+90*("left"===l.ExpInstVar()?1:0)-90*("right"===d.ExpInstVar()?1:0))))},()=>"Urchin movement",()=>"Urchin moving back-and-forth",()=>"Urchin moving on walls",()=>"Urchin miscellaneous events",()=>"Urchin eyes blinking animation",()=>"Fishbone",()=>"Fishbone initialize",()=>"Fishbone custom actions",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+56*Math.sign(n.ExpObject())},()=>"decelMovingSpeed speedChange",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Detect")},()=>"speedChange",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()-o.ExpInstVar()/2))+180*(a.ExpObject()<0?1:0)},()=>"startHomeIn",()=>"angledFishboneHitbox",()=>"Fishbone enable 8Direction",()=>"Fishbone (out of) water checks",()=>"Fishbone blinking",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1,3)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Blink"),n.ExpInstVar())},()=>"endBlink",()=>"Fishbone enabling water AI",()=>"noLiquidCollapse",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,-1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,1)},()=>"[h4]Fishbone linear AI[/h4]",()=>"accelWithTail",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("accelWithTail")*-Math.sign(n.ExpObject())},()=>1.66,()=>"keepAccelAnimGoing",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"TurnFinish"),n.ExpInstVar())},()=>"[h4]Fishbone chase/home behavior mode[/h4]",()=>"Fishbone patrol AI: moving about (not chasing)",()=>"toDefaultAngle",()=>"accelMovingSpeed speedChange",()=>"accelMovingSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("accelMovingSpeed")},()=>"decelMovingSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("decelMovingSpeed")},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-56},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+56},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),-1,0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),1,0)},()=>"Fishbone patrol AI: detecting player",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>Qj(t(n.ExpObject()),0===Qj(s(r.ExpObject()),o.ExpInstVar_Family())?1:0)},()=>"Fishbone patrol AI: chasing events",()=>"toPlayerAngle",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>48*Math.cos(tk.toRadians(t.ExpObject()>0?n.ExpObject()-180:s.ExpObject()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>48*Math.sin(tk.toRadians(t.ExpObject()>0?n.ExpObject()-180:s.ExpObject()))},()=>"MagikoopaBeam",()=>"fishbonePlayerChase",()=>"Fishbone patrol AI: cancelling player chase",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+2*Math.cos(tk.toRadians(n.ExpObject()>0?s.ExpObject():r.ExpObject()+180))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+2*Math.sin(tk.toRadians(n.ExpObject()>0?s.ExpObject():r.ExpObject()+180))},()=>"Fishbone patrol AI: terrain & other Fishbone collides",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(t(n.ExpObject(),1,0),s(r.ExpObject(),1,0)>0?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(t(n.ExpObject(),-1,0),s(r.ExpObject(),1,0)<0?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(t(n.ExpObject(),0,1),s(r.ExpObject(),1)>0?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(t(n.ExpObject(),0,-1),s(r.ExpObject(),1)<0?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>ek(Qj(t.ExpObject()<0?1:0,n(s.ExpObject(),1,0)<0?1:0),Qj(r.ExpObject()>0?1:0,o(a.ExpObject(),1,0)>0?1:0))},()=>"Fishbone disabling water AI",()=>"Fishbone out-of-water AI",e=>{const t=e._GetNode(0);return()=>"left"===t.ExpInstVar()?-64:64},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>"left"===t.ExpInstVar()?n.ExpObject():-s.ExpObject()},()=>"collapseAfterShake",()=>"[h2]Fiery & electric enemies[/h2]",()=>"Tail Flames player collisions",()=>"Amp",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Amp")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Electric"))},()=>"Amp activation",()=>"Amp health",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"frozen")},()=>"Amp electrifying other sprites",()=>"Fire Snake",()=>"Fire Snake custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Flame"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?"magma-block":"frost-block"},()=>"Fire Snake tail flame events",()=>"Fire Snake (chase) movement",()=>"hopToPlayer",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>Math.sqrt(Kj(2*t.ExpBehavior(),n(20,44)))},()=>"Fire Snake health",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(Qj("fire"===t.ExpInstVar()?1:0,1===n.ExpInstVar()?1:0),Qj("ice"===s.ExpInstVar()?1:0,0===r.ExpInstVar()?1:0))},()=>"Boundin' Fire",()=>"Boundin' Fire Fire Trail events",()=>"startDespawnFlash",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SmallPoof")},()=>"Boundin' Fire / Fire Trail initializations",()=>"Boundin' Fire movement",()=>"doNextHop",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>Math.sqrt(Kj(2*t.ExpBehavior(),n(28,36)))},e=>{const t=e._GetNode(0);return()=>-Math.abs(t.ExpInstVar())},()=>"Angry Sun",()=>"Angry Sun custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()?"active":"paused"},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Sun")},e=>{const t=e._GetNode(0);return()=>qj(160,Kj(qj(26,t.ExpObject("mapScreenWidth")),8))},e=>{const t=e._GetNode(0);return()=>Xj(-72,Kj(qj(15,t.ExpObject("mapScreenHeight")),8))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpInstVar()*(n.ExpObject()>s()?1:-1)},()=>"extraOffsetX",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>96*(t.ExpObject()>n()?1:-1)},()=>"extraOffsetY",()=>"allowDashCycle",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>96*Math.sign(t.ExpObject()-n())},()=>"stopped",()=>"disableVisibilityAndTangibility",()=>"terminated",()=>"despawn",()=>"DamageTint",()=>"damageTintUpdate",()=>"lostHP",()=>"Entering the screen",()=>"paused",()=>"Angry Sun dashing down",()=>"dashArcDelay",()=>4.5,()=>"preventGoingOffscreen",()=>"rotationOffsetX extraOffsetX circleScroll",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>48*Math.sign(t()-n.ExpObject())},()=>"rotationOffsetY extraOffsetY circleScroll",()=>"prepareDashArc",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>576*Math.sign(t()-n.ExpObject())},()=>"rotationOffsetY",()=>"circleScroll",()=>"performDash",()=>"rayRotationSpeed",()=>"newScrollOffsetX",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpInstVar()*Math.sign(n()-s.ExpObject())},()=>"newScrollOffsetY",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("newScrollOffsetX")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("newScrollOffsetY")},()=>"rayRotationSpeed resetRayAngle",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/6},()=>"Angry Sun leaving the screen",()=>"Angry Sun health",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(255,n.ExpBehavior("damageTintUpdate"),s.ExpBehavior("damageTintUpdate"))},()=>"Flame Chomp",()=>"Flame Chomp's tail flame events",()=>"rotate90d",()=>"newFollowDistance",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("newFollowDistance")},()=>"Flame Chomp initialization & other custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Shoot")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()-8},()=>"Flame Chomp movement",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()-32))},()=>2.67,()=>"startDetonating",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"RotatingFlame"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7);return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()-32+i.ExpBehavior())),1-Math.pow(.25,l.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()-32)),1-Math.pow(.25,i.ExpObject()))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Confused")},()=>"Flame Chomp shooting fire",()=>"shootFire",()=>2.17,e=>{const t=e._GetNode(0);return()=>t.ExpObject("Fireball")},()=>"Flame Chomp detonating",()=>"Flame Chomp extra health events",()=>"Blargg",()=>"Blargg initialize",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("40,56",s.GetValue()-1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar())-1},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Blargg"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("blargg|"+n.ExpInstVar())},()=>"freezeOnCollision",()=>"skeleBlargg",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Watch"),n.ExpInstVar())},()=>"Blargg general custom actions / functions",()=>"cycleResetDelay",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>-t(128,256)},()=>"retractingEarly",()=>"retractEarly",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>tk.distanceTo(0,t.ExpObject(),0,n.ExpInstVar())/32},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject("LiquidCheck"),s.ExpObject("LiquidCheck"))===r.ExpInstVar()+1?1:0},()=>"Blargg tint update handling",()=>"Blargg activating",()=>"movingBackIntoLiquid",()=>"lava",()=>"Blargg attack cycle",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-64*n()},()=>"peek1",()=>"Swim",()=>"peek",e=>{const t=e._GetNode(0);return()=>"water"===t.ExpInstVar()?1:0},e=>{const t=e._GetNode(0);return()=>"lava"===t.ExpInstVar()?1:0},e=>{const t=e._GetNode(0);return()=>"poison"===t.ExpInstVar()?1:0},e=>{const t=e._GetNode(0);return()=>"cryo"===t.ExpInstVar()?1:0},()=>"startPeeking",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-9},()=>.55,()=>"peek2",()=>"lookAtPlayer",()=>"stopPeeking",()=>"preparingAttack",()=>"attack",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+9},()=>"attacking",()=>"attackLeap posY",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-26},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+180*(n.ExpObject()>0?1:0)},e=>{const t=e._GetNode(0);return()=>64*t.ExpObject()},()=>"attackLeap",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>ek(Qj(4===t.ExpInstVar()?1:0,n.GetValue()),s.ExpInstVar()+1===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar()+384*s.ExpObject(),168)},()=>"Blargg collisions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject(),s.ExpObject(),r.ExpObject()-10,0,"Middle",o.ExpObject(),1)},()=>"[h2]Yoshi's Island enemies[/h2]",()=>"Goonie",()=>"Goonie initialize",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("10,12",s.GetValue()-1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("6,7",s.GetValue()-1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("16,39",s.GetValue()-1,","))},()=>"skeletonGoonie",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("18,20",s.GetValue()-1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("18,33",s.GetValue()-1,","))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),n.ExpInstVar()?"FlySkeletonWithSprite":"FloatWithSprite")},()=>"dontInstaCollect",()=>"heavyStone",()=>"Blocks",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),n.ExpInstVar()?"FlySkeleton":"FloatDown")},()=>"Goonie custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FloatDown")},()=>"floatingDown posY",e=>{const t=e._GetNode(0).GetVar();return()=>1.1*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>.8*t.GetValue()},()=>"setFlyingUpAnim",()=>"startUpwardsFlight",()=>"flyingUp posY",e=>{const t=e._GetNode(0).GetVar();return()=>.5*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FlyUp")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject("Attachment")+(n.ExpObject()-s.ExpObject("Parachute"))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t.ExpObject("Attachment")+(n.ExpObject()===s.ExpObject("Parachute")?r.ExpInstVar_Family():o.ExpObject()-a.ExpObject("Parachute"))},()=>"bouncingOnSpring",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Attachment")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Attachment")+8},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+3},()=>"Goonie activating",()=>"Goonie movement",()=>"Players / GameObjects standing on Goonies",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()/4},()=>-3,()=>-6,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>256*t()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>128*t()},()=>"Goonies carrying sprites events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+(n.ExpInstVar()?32:8)*s.ExpObject()},()=>"Goonie health",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()?0:1},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek("goonie"===t.ExpInstVar()?1:0,n.ExpInstVar_Family()>s.ExpObject()-4?1:0)},()=>"Flightless Goonie",()=>"Flightless Goonie initialize",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("10,10,9",s.GetValue(),","))},()=>"flightlessSkeletonGoonie",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Run"),n.ExpInstVar())},()=>"Flightless Goonie running around",()=>"startMoving",()=>"Hefty Goonie",()=>"Hefty Goonie custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Hefty")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("19,22",n.GetValue()-1,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("16,24",n.GetValue()-1,",")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"WallBounce")},()=>"endHoverPeriod",()=>"L",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-11},()=>"R",()=>"wallStretch size",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()*Math.sign(n.ExpObject())*.85},e=>{const t=e._GetNode(0);return()=>1.15*t.ExpObject()},()=>.18,()=>"Hefty Goonie activating & semi-solid updating",()=>"SemiSolid",()=>"Hefty Goonie movement",()=>"groundStretch size",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()*Math.sign(n.ExpObject())*1.15},e=>{const t=e._GetNode(0);return()=>.85*t.ExpObject()},()=>"jumpSfxDelay",()=>"groundStretch",()=>"airStretch size",e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*80)},()=>"heftyGooniePrepareJump",()=>"Hefty Goonie wall bounces",()=>"wallStretch",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+11},()=>"Bowling Goonie",()=>"Bowling Goonie initialize & activating",()=>"RollingSprite",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bowling")},()=>"Bowling Goonie rolling around",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>(-4-t.GetValue())*n()},()=>-3.5,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>(4-t.GetValue())*n()},()=>3.5,e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+10*n.ExpBehavior()*s.ExpObject()},()=>"[h4]Wonder enemies[/h4]",()=>"Outmaway",()=>"Outmaway initialize",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?4:3},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),n.ExpInstVar()?"Idle":"Walk")},()=>"Outmaway events during defeat",()=>"Outmaway running into kickable sprites",()=>"Outmaway movement & facing player",()=>"Outmaway kicking sprites",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RunIntoSprite")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Catch")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareKick")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Kick")},()=>"[h2]Hazards[/h2]",()=>"Icicles & Stalactites",()=>"Icicle custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),n.ExpInstVar()),s.ExpInstVar())},()=>"stalactite",()=>"icicle",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Ice"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("3,5,3",s.GetValue(),","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Cave"))},e=>{const t=e._GetNode(0);return()=>Qj("icicleCrumble_",t.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("BlockBreak")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>Kj(t(48,96),n(1,-1))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-192,-256)},()=>"Icicle attaching to ceilings",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek("icicle"===t.ExpInstVar()?1:0,Qj("stalactite"===n.ExpInstVar()?1:0,3===s.ExpInstVar()?1:0))},()=>"Icicle falling",()=>"Icicle dripping particles",()=>"spawnDripParticle",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1.5,3)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()+3,s.ExpObject()-3)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(3)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Icicle")},()=>"toFinalDrippingPos",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.8,1.2)},()=>"Icicle collisions",()=>"Boulder",()=>"Boulder initialize",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Ball")},()=>"intangible",()=>"Boulder movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.GetValue()*s(),r.ExpBehavior())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Math.sqrt(2*t.ExpBehavior()*n(s.ExpInstVar()/3,12))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Math.abs(t(n.ExpObject(),-1))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Math.abs(t(n.ExpObject(),1))},()=>"Boulder-Chuck link check",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"DigStart")},()=>"Meteors",()=>"Meteor",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Meteor"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("0,3,7",s.GetValue(),","))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-7},()=>"Meteor bursting action & palette function",()=>"BlockBreak",()=>"meteorBurst",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+8+n()%2*16},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+8+16*(n()>=2?1:0)},()=>"X",()=>"0,1,2,3",()=>",",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(16,64)*(n.GetValue()%2?-1:1)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-160,-320)},e=>{const t=e._GetNode(0);return()=>Qj("222,198,206 | 165,140,148 | 107,82,90 -- ",t.ExpObject("1_LavaCave"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_LavaCave")},()=>"Meteor visuals & sound",()=>"meteorFall",()=>"rotateAnimation",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+90*Math.sign(n.ExpObject())},()=>7368816,()=>"riseUp posY",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-n(3,6)},()=>"Meteor terrain collision events",()=>"moveOutOfGround",()=>"Meteor-Chuck link check",()=>"[h2]Koopa & beetle enemies[/h2]",()=>"Koopa Troopa",()=>"Koopa Troopa palette init",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Koopa"))},()=>"ReplaceColor0",()=>30720,()=>"ReplaceColor1",()=>47104,()=>"ReplaceColor2",()=>63488,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("ReplaceColor",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n(s.GetValue(),r.ExpInstVar()-1," -- "),o.GetValue()," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetVar();return()=>t(n(s(r.GetValue(),0,",")),o(a(i.GetValue(),1,",")),l(d(c.GetValue(),2,",")))},()=>"Koopa Troopa custom actions",()=>"flyToTarget",e=>{const t=e._GetNode(0);return()=>960/(1+3*t.ExpInstVar())},()=>"preventPlatformEnabling",()=>"walk",()=>"stationaryShell",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Shell"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"spin",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Spin"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>640/(1+3*t.ExpInstVar())},()=>"shellEntered",()=>"peekAndLeaveShell",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"ShellEntered"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"PeekFlipped"),n.ExpInstVar())},()=>"stationaryShellExplode",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Shell"),n.ExpInstVar())+"Ignited",s.ExpInstVar())},()=>"wallBump",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-6},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Star")},()=>"flySpeed",()=>.95,()=>"flyingKoopaTurn",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?48:-48},()=>1.9,()=>"jumpOut",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Jump"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*36)},()=>"slideOut",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()<=n.ExpObject()?"left":"right"},e=>{const t=e._GetNode(0);return()=>-192*Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Flipped"),n.ExpInstVar())},()=>"Koopa Troopa gamestyle specific",()=>"keepTossMomentumUntilWall",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Recover"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"beachKoopaJumpOut",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.75,3.5)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"LeaveShell"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Shell"),n.ExpInstVar())+"_1"},()=>"Koopa Troopa movement",()=>"Koopa Troopa walk/spin in shell",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Turn"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"Koopa jumping",e=>{const t=e._GetNode(0);return()=>416/(1+3*t.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sqrt(2*t.ExpBehavior()*n.ExpInstVar())},()=>"Green, red & bombshell Koopa flying",()=>"preventFlying",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()/(1+n.ExpInstVar())*s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.abs(t.ExpInstVar())/(1+n.ExpInstVar())*s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpInstVar(),r.ExpInstVar()))-180},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()*Math.cos(tk.toRadians(s.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()*Math.sin(tk.toRadians(s.ExpInstVar()))},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("flySpeed")},e=>{const t=e._GetNode(0);return()=>24-12*t.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpInstVar(),o.ExpInstVar())))},()=>"Blue Koopa flying",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpBehavior()+1.6*s(),1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpBehavior()-1.6*s(),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>tk.lerp(t.ExpInstVar(),4*(n.ExpInstVar()-s.ExpObject())-96,1-Math.pow(.33,r()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>tk.lerp(t.ExpInstVar(),4*(n.ExpInstVar()-s.ExpObject())+96,1-Math.pow(.33,r()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>tk.lerp(t.ExpInstVar(),4*(n.ExpInstVar()-s.ExpObject())-96,1-Math.pow(.25,r()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>tk.lerp(t.ExpInstVar(),4*(n.ExpInstVar()-s.ExpObject())+96,1-Math.pow(.25,r()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()*n.ExpBehavior()},()=>"Jumping yellow Koopa dodging obstacles & yellow Koopa flying",e=>{const t=e._GetNode(0);return()=>-2*t.ExpObject()},()=>"buildUpSpeed",()=>"flyFromBlock",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("buildUpSpeed")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+(n.ExpObject()-s.ExpObject())/3},()=>"Bombshell Koopa events",()=>"Koopa Troopa health",()=>"Koopa stomp, hurt & kick",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Turn"),n.ExpInstVar())+"_0"},()=>"pickupDelay",()=>"preventBeingCollected",()=>"cannotHurtPlayer",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Turn"),n.ExpInstVar())+"_1"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sign(t.ExpBehavior())+Math.sign(n.ExpBehavior())},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()+64},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior()-64)},()=>"EnemyDefeat",()=>"playerKick",()=>"Recovering from a stomp/fall",()=>"Beach Koopa",()=>"Beach Koopa initialize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Slide"),n.ExpInstVar())},()=>"sliding",()=>"ReplaceShoeColor1",()=>"ReplaceShoeColor2",()=>63736,()=>"Beach Koopa events during defeat",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Stomped"),n.ExpInstVar())},()=>"Beach Koopa movement",()=>"Beach Koopa walk",()=>"walkDelay",()=>"enterDelay",()=>"Beach Koopa Sliding",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()-384/n.GetValue()*s()},()=>"Yellow Beach Koopa dodging obstacles",e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*40)},()=>"Beach Koopa entering shell",e=>{const t=e._GetNode(0);return()=>-.5*t.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Shell")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Kick"),n.ExpInstVar())},()=>"Blue Koopa holding onto / kicking objects",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Catch"),n.ExpInstVar())},()=>"kickObject",()=>"preventSlideParticle",()=>"Beach Koopa health",()=>"Beach Koopa stomp/kick",()=>"Recovering from a flip-over",()=>"getUpAndWalk",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Walk2")},()=>"Kamikaze Shell",()=>"Kamikaze flashy effect",()=>"flashyEffect",()=>"AdjustHSL",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("flashyEffect")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(-12,12)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-n(4,18)},()=>"Sparkle",()=>"Kamikaze Shell movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpInstVar()-384*s(),-r.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpInstVar()+384*s(),r.ExpInstVar())},()=>"kamikazeBump",()=>"Kamikaze health",()=>"Climbing Koopa",()=>"Climbing Koopa functions",()=>"HurtboxCenter",()=>"136,0,0 _ 184,0,0 _ 248,0,0 | 64,64,216 _ 104,104,216 _ 136,136,248 | 248,120,0 _ 248,192,0 _ 248,248,0",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n(s.GetValue(),r.ExpInstVar()-1," | "),o.GetValue()," _ ")},()=>"targetIntervalled",()=>45,()=>"turningNetSideways",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()*Math.sign(n.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Hands")},()=>"updateTargetPosition",()=>"turningNetOnTop",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Hands")+3},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("turningNetOnTop")},()=>"front",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Behind"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Front"),n.ExpInstVar())},()=>"Climbing Koopa net collision checks",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5);return()=>ek(t(n.ExpInstVar(),s.ExpObject("HandsY")),r(o.ExpInstVar(),a.ExpObject("HandsY")))},()=>"doFastPanelFlip",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()*n()},()=>"Climbing Koopa movement",()=>"Climbing Koopa: linear movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()-2,s.ExpObject("HandsY"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()+2,s.ExpObject("HandsY"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject("HandsY")-3)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject()-3)},()=>"Climbing Koopa: chasing (blue)",()=>"justUsedFlipPanel",()=>"flipPanelUsageCooldown",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()-6,s.ExpObject("HandsY"))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod();return()=>-1!==t.ExpInstVar()?n(s.ExpBehavior()-192*r(),-48):o(a.ExpBehavior()+192*i(),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()+6,s.ExpObject("HandsY"))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod();return()=>-1!==t.ExpInstVar()?n(s.ExpBehavior()+192*r(),48):o(a.ExpBehavior()-192*i(),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject("HandsY")-8)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject("HandsY")+4)},()=>"Climbing Koopa: target intervals (yellow)",()=>"Climbing Koopa: turning net",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("Hands"),s.ExpObject("Hands"))},()=>"behind",e=>{const t=e._GetNode(0);return()=>0+180*("left"===t.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject("Hands")+3)},()=>"Climbing Koopa health",()=>"climbingKoopa",()=>"Spiny / Buzzy Beetle",()=>"Spiny / Buzzy Beetle functions",()=>"recover",()=>"fallDownAndSpin",()=>"Spiny / Buzzy Beetle gamestyle specific events",()=>"Spiny / Buzzy Beetle movement",()=>"Spiny/beetle walk/spin",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_1"},e=>{const t=e._GetNode(0);return()=>Qj("KoopaBump",t.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Egg"),n.ExpInstVar())},()=>"Spiny/beetle falling from ceiling",()=>"preventFallingWhileInitiating",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,-6)},()=>"Spiny / Buzzy Beetle health",()=>"Spiny/Buzzy Beetle stomp, hurt & kick",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Spin"),n.ExpInstVar())+"_1"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Recover"),n.ExpInstVar())},()=>"Spiny/Buzzy recovering from a stomp",()=>"Hammer / Boomerang / Fire / Ice Bros",()=>"Bros. projectile events",()=>"Hammer Bro's hammers",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Hammer"),n.ExpInstVar())},()=>"powerUpProjectile",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()*-Math.sign(n.ExpObject())},()=>"2Hammer0",()=>"2Hammer1",()=>"Boomerang Bro's boomerangs",()=>"Boomerang projectile custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Boomerang")},()=>"newMovementSpeed",()=>"Boomerang movement",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()-n.ExpInstVar()*s()},()=>"turn",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("newMovementSpeed")},()=>"Boomerang collisions",()=>"Bros functions",()=>"hammerBro",()=>"boomerangBro",()=>"fireBro",()=>"iceBro",()=>"Bros walking / chasing",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Attack2")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Attack3")},e=>{const t=e._GetNode(0);return()=>Qj("2Attack",t.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>-32/(t.ExpInstVar()+1)},()=>-448,e=>{const t=e._GetNode(0);return()=>32/(t.ExpInstVar()+1)},()=>"preventRapidTurning",()=>"Bros jumping",()=>"switchFloor",()=>"enableBlockCollisionWhenFalling",()=>-40,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("enableBlockCollisionWhenFalling","enableBlockCollisionOnBlockPassed")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+18},()=>"FromTop",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,8)},()=>"enableBlockCollisionOnBlockPassed",e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*72)},()=>"block",()=>"fragile-brick-block",()=>"fragile-flip-block",()=>"Bros attack cycle",()=>"startProjectileFiring",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.round(t(n.ExpInstVar(),s.ExpInstVar()))},()=>"waitOutDelay",()=>"Hammer",()=>"jumpWithProjectile",()=>"Boomerang",()=>"Hammer Bros throwing hammers",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-176,-208)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(80,120)},()=>"throwHammer",()=>"resumeWalking",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1.2,1.6)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(2.1,2.7)},()=>"Boomerang Bros throwing boomerangs",e=>{const t=e._GetNode(0);return()=>128*Math.sign(t.ExpObject())},()=>"boomerangThrow",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-35},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-45},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1.6,2.4)},()=>"Fire / Ice Bros spitting fire / iceballs",()=>"Ball",()=>"enemy",()=>140,()=>"Fireball",()=>"HBFireOrIceball",()=>"revertToFirstFrame",()=>"Lakitu",()=>"Lakitu drop item (function)",()=>"gameObj",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Walk0_"),n.ExpInstVar())},()=>"snowball",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>2===t.GetValue()?n.ExpObject()>0?-64:64:0},()=>-320,()=>"dropLooseObjects",()=>"e11",()=>"Other Lakitu functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16*t(n(s.ExpInstVar(),3,","))+8},e=>{const t=e._GetNode(0);return()=>t.ExpObject("HookLine")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("HookLine")+n.ExpObject()},e=>{const t=e._GetNode(0);return()=>t.ExpObject("RodHandle")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("LakituRod_Hook",t.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("HookLine")+1},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpInstVar_Family()/2},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Handle")},()=>"Lakitu spawning / attaching sprite on fishing rod",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Cloud")},()=>"Lakitu movement",()=>"Active Lakitus movement",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpBehavior()/2.5},e=>{const t=e._GetNode(0);return()=>64+Math.abs(t.ExpBehavior())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+40+16*n.ExpObject()},e=>{const t=e._GetNode(0);return()=>224*t.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()-40-16*n.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+128+n.ExpBehavior()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-128+n.ExpBehavior()/2},()=>"Lakitu stopping / disabling (by tagging)",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-256},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+256},()=>"Lakitu visuals (mirroring and rod Y updates)",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Rod")},()=>"Lakitu dropping sprites",()=>"grabItem",()=>2.2,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Throw")},()=>"queueItemRelease",()=>"returnToFirstFrame",()=>"Lakitu health",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()+8},()=>"Pipe Lakitu",()=>"Pipe Lakitu initialize",()=>"Pipe Lakitu general custom actions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("SpriteSpawnPoint"),s.ExpObject("SpriteSpawnPoint"))},()=>315,e=>{const t=e._GetNode(0);return()=>-3*t.ExpObject()},()=>135,()=>225,e=>{const t=e._GetNode(0);return()=>3*Math.abs(t.ExpObject())},e=>{const t=e._GetNode(0);return()=>-3*Math.abs(t.ExpObject())},()=>"spiny",()=>"toPeekPosition",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpInstVar()/3*2*Math.cos(tk.toRadians(s.ExpObject()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpInstVar()/3*2*Math.sin(tk.toRadians(s.ExpObject()+90))},()=>"turnHead",()=>"Pipe Lakitu cycle",()=>"peekOutOfPipe",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()+n.GetValue()*Math.cos(tk.toRadians(s.ExpObject()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()+n.GetValue()*Math.sin(tk.toRadians(s.ExpObject()+90))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject("Top"),s.ExpObject("Top"),Math.round(r.ExpObject()/90),21,1)},()=>"toThrowingPosition",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpInstVar()/3*Math.cos(tk.toRadians(s.ExpObject()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpInstVar()/3*Math.sin(tk.toRadians(s.ExpObject()+90))},()=>"grabItemFromPipe",()=>"returnToPipe",()=>"moveBackToPipe",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()*Math.cos(tk.toRadians(s.ExpObject()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()*Math.sin(tk.toRadians(s.ExpObject()+90))},()=>"Pipe Lakitu health",()=>"Green Spiny Egg",()=>"Green Spiny Egg movement",()=>"Buster Beetle",()=>"Buster Beetle general custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Grab")},()=>"holdingOntoObject",()=>"Buster Beetle throw action",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Hand")+1},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*32)},e=>{const t=e._GetNode(0);return()=>224*-Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0);return()=>160*-Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*16)},e=>{const t=e._GetNode(0);return()=>128*-Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*320)},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*64)},()=>"Buster Beetle semi-collision updating",()=>"Buster Beetle movement",()=>"Buster Beetle finding & grabbing items",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpInstVar_Family()/2-3},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar_Family()/2+3},e=>{const t=e._GetNode(0);return()=>-4*Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t.GetValue()>0?1:0,0===n(s.ExpObject(),"right")?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t.GetValue()<0?1:0,0===n(s.ExpObject(),"left")?1:0)},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?1.6:.8},()=>"throwBlock",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar_Family()?-Math.sqrt(2*n.ExpBehavior()*20):-Math.sqrt(2*s.ExpBehavior()*32)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()?16:32*Math.sign(n.ExpObject())},()=>"Buster Beetle throwing items",()=>"Para-Beetle",()=>"Para-Beetle custom actions",e=>{const t=e._GetNode(0);return()=>1.5*t.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_ParaBeetle"))},()=>"heavyParaBeetle",()=>"Para-Beetle semisolid creation",()=>"Para-Beetle movement",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()-n.ExpInstVar()*s.ExpObject()*Math.sign(r.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"FlyDown"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("SemiSolid")+2},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"FlyUp"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>102.4*t()},()=>"Para-Beetle health",()=>"[h2]Sports enemy events[/h2]",()=>"Chucks (all behaviors)",()=>" Chuck initialize",()=>"Head",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Front")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Duck")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Sideways")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"DigIdle")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"ThreeQuarterView")},()=>"ShovelColor",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t(n(s.ExpObject(Qj(r.GetValue(),"_Shovel")),o.ExpInstVar()," -- "))},()=>"idleUntilStomped",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Chucks"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),0," -- ")," | ")},()=>" Chuck custom actions",()=>"startCharging",()=>"stopCharging",()=>"startWandering",()=>"stopWandering",()=>"performLeap",()=>"throwBall",()=>"prepareThrowBall",()=>"endThrowAnimation",()=>"proceedAirThrowAnim",()=>"enableGravity",()=>"preventNewThrowCycle",()=>"kickBall",()=>"enterIdleMode",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()===Qj(n.GetValue(),"LookLeft")?"left":"right"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Math.sqrt(2*t.ExpBehavior()*n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,-5)},()=>560,()=>52,()=>"leapingToPlayer",()=>"Spring",()=>"chuckJump",()=>"Baseball",()=>1.36,()=>"whistling",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"LookUp")+(n.ExpObject()>0?"R":"L")},()=>"stopWhistling",()=>"Whistle",()=>"chuckWhistle",()=>"start",()=>" Chuck return functions",()=>"Chargin' Chuck: looking, charge timers & animation handling",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"LookRight")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"LookLeft")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),"Look")+(n.ExpObject()===Qj(s.GetValue(),"LookRight")?"Left":"Right")},()=>"wandering",()=>"charging",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Charge")},e=>{const t=e._GetNode(0).GetVar();return()=>1===t.GetValue()?"front":"behind"},()=>"queueIdle",()=>"chargeSFXDelay",()=>"chuckCharge",()=>"awaitingFallAfterSplit",()=>"awaitingLandAfterSplit",()=>"Chargin' Chuck: charge (chase) movement",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.2,.6)},()=>"hitNonDestructedBlock",e=>{const t=e._GetNode(0);return()=>1.6*t.ExpBehavior()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(2*t.ExpBehavior()*36)+n.ExpBehavior()},()=>"Chargin' Chuck: wander movement",()=>"Clappin' Chuck",e=>{const t=e._GetNode(0);return()=>t.ExpObject()<0?1:0},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Clap")},()=>"BubblePop",()=>"chuckClap",()=>"Bouncin' Chuck",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Shake")},()=>"bouncingToPlayer",()=>"Pitchin' Chuck",()=>"throwingBall",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareThrow")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareThrowJump1")},()=>"throwingBallAirborne",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareThrowJump2")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"ThrowJump")},()=>"awaitingLandAfterBaseballThrow",()=>"Passin' / Kickin' Chuck",()=>"preventNewKickCycle",()=>"createBall",()=>"enterPauseState",()=>1.76,e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(0===t.ExpInstVar()?1:0,n.ExpInstVar()<s.ExpInstVar()?1:0)},()=>"prepareKickingBall",()=>"Football",()=>"pausing",()=>1.06,()=>"kickingBall",()=>.26,e=>{const t=e._GetNode(0);return()=>-180*Math.sign(t.ExpObject())},()=>"chuckKick",()=>"Diggin' Chuck",()=>"preventNewDiggingCycle",()=>"startDigging",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(0===t(n.ExpObject())?1:0,"none"!==s.ExpInstVar()?1:0)},()=>"digging",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject("DiggedObject"))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+1)},()=>"meteor",e=>{const t=e._GetNode(0);return()=>t.ExpObject("DiggedObject")},()=>"boulder",()=>"DiggedObject",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+2)},()=>"moveOutOfGround posY",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"DigEnd")},()=>.9,e=>{const t=e._GetNode(0);return()=>-80*Math.sign(t.ExpObject())},()=>"Splittin' Chuck",()=>"splitIntoThree",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"paletteID")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>56*t.GetValue()/(n.ExpInstVar()+1)},()=>"Whistlin' Chuck",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()>n.ExpObject()?1:0},()=>"whistleCooldown",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r(o.ExpObject()))},()=>"faceScreen",()=>.13,()=>"Stomping on Chucks",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("stunned"===t.ExpInstVar()?1:0,n.ExpInstVar()>1?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-4*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Shovel")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>Kj(t(48,96),n(-1,1))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-256,-384)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Shovel"))},()=>"headVerticalOffset offset1",()=>"chuckStomp",()=>"offset1",()=>"headVerticalOffset offset2",()=>"offset2",()=>"queueRecoveryAnimIfPossible",()=>"headVerticalOffset offset3",()=>"offset3",()=>"headVerticalOffset offset4",()=>"offset4",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Recover")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t.GetValue(),"Look")+(n.ExpObject()<s.ExpObject()?"Left":"Right")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(Qj(t.GetValue(),"Look"),n("Left","Right"))},()=>"Chucks damaging player",()=>"Chucks & power-up projectile interactions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),1,0)>0?96:-96},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*24)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+(Qj(n.ExpInstVar()>-90?1:0,s.ExpInstVar()<=90?1:0)?-90:90)},()=>"tailSpinAttack",()=>"ShortPoof",()=>" Football custom actions",()=>"26,46,98",e=>{const t=e._GetNode(0);return()=>t.ExpObject(",")},()=>"Football movement",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Math.sqrt(2*t.ExpBehavior()*n(s(r.ExpInstVar(),0,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),",",0)},e=>{const t=e._GetNode(0).GetVar();return()=>40-10*t.GetValue()},()=>"Football-Chuck link check",()=>"[h2]Blocks[/h2]",()=>"[h4]General Block Events[/h4]",()=>"Block collision setup / removal",()=>"Block",()=>"arcadePowBlock",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("BrickBlock"===t.ExpObject()?1:0,"FlipBlock"===n.ExpObject()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(""===t.ExpInstVar_Family()?1:0,0===n.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0);return()=>"fragile-"+("BrickBlock"===t.ExpObject()?"brick":"flip")+"-block"},()=>"Activating blocks",()=>"blockTimer",()=>"scale",()=>"hitWithItemInstantlyReleased",()=>"hitAndReleaseItem",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+" releaseItemOnFinish posY"},()=>"bounceObjectsAndUntriggerBlock",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(0===t.ExpInstVar_Family()?1:0,"player_hammer"===n.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+4+6*n.ExpInstVar_Family()},()=>"Blocks releasing items",()=>"Pre-item handling events",()=>"spyglassPreview",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+23},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+7},()=>"blowUpwards",()=>"beanstalk",()=>"Special events for some GameObjects",()=>"switch",()=>"SwitchPressed",()=>"switchPressed",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Unpressed"),n.ExpInstVar())+"_",s.ExpInstVar())+"_0"+r.ExpInstVar()},()=>"bubbleFlower",()=>"wrapIntoBubble",()=>"preventBlockInteractions",()=>"Releasing the GameObject",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()%2},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>-16*t.GetValue()/(1+n.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>(16*t.GetValue()-16)/(1+n.ExpInstVar_Family())},()=>-28,e=>{const t=e._GetNode(0).GetVar();return()=>-48*t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-8*n.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>48*t.GetValue()-16},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+8*n.GetValue()},()=>"top",()=>"bosses",()=>"superLeaf",()=>"capeFeather",()=>"comingOutOfBlock",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-15},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+15},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+16*Math.cos(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+16*Math.sin(tk.toRadians(n.GetValue()))},()=>"o1",()=>"it1",()=>"hit",()=>"Miscellaneous general block events",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()?-128:-256},()=>"preventJumping",()=>"defeatThroughBlock",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family(),0,",")},()=>"i3",()=>"i15",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Monitor")},()=>"EmptyMonitor",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Celeste0")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Celeste1")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Chozo")},()=>"EmptyChozo",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Kirby")},()=>"EmptyKirby",()=>"emptyBlock",()=>"Empty",e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_BlockCommon")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5);return()=>ek(t(n.ExpObject(),0)>=s.ExpObject()?1:0,r(o.ExpObject(),1)>=a.ExpObject()?1:0)},()=>"spawnedByBlockThisFrame",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CheckeredBrick")},()=>"Ring",()=>"KirbyCoin",()=>"Detach WalledSprites from block",()=>"Block destruction",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpInstVar_Family()?n.ExpInstVar_Family():Qj(s.GetValue(),"MiscBlocks")},e=>{const t=e._GetNode(0);return()=>Qj("blockBreak",t.ExpObject())},()=>-308,e=>{const t=e._GetNode(0);return()=>Qj("hardBlock",t.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(n.GetValue(),s.ExpInstVar_Family(),"|")},()=>"Invisible Block collision tagging",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue()+" ",n.ExpObject())},()=>"Block - GameObject interaction events",()=>"Blocks getting triggered by GameObjects",()=>"dashing",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(0===t("BrickBlock,FlipBlock",n.ExpObject(),",")?1:0,ek(""!==s.ExpInstVar_Family()?1:0,r.ExpInstVar_Family()>0?1:0))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj("RockBlock"===t.ExpObject()?1:0,n(s.ExpObject()))},()=>"blockTrigger",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpInstVar_Family()},()=>"Enable / Disable GameObject Brick & Flip Block solid collisions",()=>"Assist BlockObject",()=>"Empty Block",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"EmptyBlock")},()=>"Item Block",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar()?n.GetValue():0},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BlockSnow")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+4*n()+2},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SnowDust")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+n(4,7)*Math.cos(tk.toRadians(10*s()-105+r(-15,15)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+n(4,7)*Math.sin(tk.toRadians(10*s()-105+r(-15,15)))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.08,.15)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Math.floor(t(n.ExpObject()-1))},()=>"P-Item Block",()=>"Brick Block",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BrickBlock")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Snowy"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(t(n.ExpObject(s.ExpInstVar_Family(),0)),0===r.ExpInstVar_Family()?1:0)},()=>"bumped",()=>"reduceParticlesIfBroken",()=>"CoinAppear",()=>"Flip Block",()=>"Flip Block initialize",()=>"Flip Block block triggering",()=>"Flip Block flipping",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Flip")},()=>"stopFlipping",()=>"flipBlockFrame",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("flipBlockFrame")},()=>"Flip Block objects breaking out",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+96},()=>"letObjectBreakOut",()=>"FBBreak",()=>"Note Block",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-1.1},e=>{const t=e._GetNode(0);return()=>-256/(1+t.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>-344/(1+t.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_jump")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>-(t.GetValue()<=1?504:360)/(1+n.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.GetValue()<=1?1280:n(s.ExpObject())},()=>"noteBlockBounce",()=>"On/Off Switch Blocks",()=>"switchBlock",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("SwitchPressed")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Transition"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Transition")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"On")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Off")},()=>"toggledOnOffBlocksThisFrame",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"On"),n.ExpInstVar())},()=>"nearest",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Off"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>-t.ExpInstVar_Family()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_OnOffTalkingFlowers"))},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?0:1},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?2:3},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+"Transition"},()=>"resetTimer",()=>"On/Off Timer Blocks",()=>"countOnOffTimerBlockDown",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Red")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Blue")},()=>"On/Off Tag Blocks",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?8:9},()=>"pause",()=>"Gray Block",()=>"Rock Blocks",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RockBlock")},()=>"chuck",()=>"broozer",()=>"Skull Block",()=>"Spike Block",()=>"spikeTile",()=>"Message Block",()=>"preventActivation",()=>"Magma Block",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Magma")},e=>{const t=e._GetNode(0);return()=>"FireAndIceball"===t.ExpObject()?1:0},()=>"magmaBlock",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("4,7,4",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(0,1,1)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(-6,6)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"MagmaBlock")},()=>"Frost Block",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Frost")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("customizablePlatform",n.ExpInstVar())},()=>"preventPlatformDeletion",()=>"appearAsSmallPlatform",()=>"frostBlock",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FrostBlock")},()=>"brightness",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.75,1.25)},e=>{const t=e._GetNode(0);return()=>10*Math.round(t.ExpBehavior("brightness"))},e=>{const t=e._GetNode(0);return()=>5*Math.round(t.ExpBehavior("brightness"))},()=>"spawnNewParticle",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.2,1.2)},()=>"Dotted Line Blocks",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),"On"),n.ExpInstVar())+s.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),"Off"),n.ExpInstVar())+s.ExpInstVar()},()=>"Grab Block",()=>"Red POW Block",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"POW")},()=>"preparingTremor scale",()=>"pow",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Heavy")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("enemies"===t.ExpInstVar_Family()?1:0,"bosses"===n.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>64*Math.sign(t.ExpObject()-n.ExpObject())},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*26)},()=>"preparingTremor",()=>"growToSizeAndDestroy",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?1:-1},()=>"Arcade POW Block",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Block"),n.ExpInstVar())},()=>"flipOverIfSupported",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),"Block"),n.ExpInstVar())+s.ExpInstVar()},()=>"[h2]Bosses[/h2]",()=>"Boss gates",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Gate0")},()=>"becomeSolid",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Gate1")},()=>"deactivate",()=>"bossGateAppear",()=>"bossGateDisappear",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BossGate")},()=>"General boss events",()=>"waitingForNearbyPlayer",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Hit"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Hit")},()=>"[h3]Boom Boom[/h3]",()=>"Boom Boom initiation",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"ShellAttack"),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_BoomBoomTorso"))},()=>"General Boom Boom events",()=>"Chase behavior",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()%3},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Pinch")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Winged")},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()%2},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()-n.ExpInstVar()/2*s.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpBehavior()-(n.ExpInstVar()-s.ExpInstVar()*(r.ExpInstVar()/2))*o.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpBehavior()+(n.ExpInstVar()-s.ExpInstVar()*(r.ExpInstVar()/2))*o.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpBehavior()+n.ExpInstVar()*s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpBehavior()-n.ExpInstVar()*s.ExpObject()},()=>"Shell (spike) attack",e=>{const t=e._GetNode(0);return()=>2*t.ExpBehavior()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpBehavior()/40},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Uncover"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>-256/(1+t.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>-1*(t.ExpInstVar()-n.ExpInstVar()/2*s.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>1+4*t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>2*t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>4*t.ExpInstVar()},()=>"Jump attack",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()/(1+n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>-1.3*t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>1.3*t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>.7*t.ExpBehavior()},()=>"Dive attack (winged)",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"IdleWings")},()=>"diveToPlayer",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Dive")},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/1.5},()=>"leapBackIntoAir",()=>"Boom Boom health",()=>"Boom Boom collisions w/ player, destroyers & more",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"electricallyCharged")},()=>"weakHit adjustTint",()=>"toDefeatPosition",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+32*Math.cos(tk.toRadians(n.ExpBehavior()+180))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+32*Math.sin(tk.toRadians(n.ExpBehavior()+180))},()=>.125,()=>"Boom Boom lose HP (custom action)",()=>"endHurtPhase",()=>"hpLost",()=>"HPZeroFlash",()=>.0625,()=>"Boom Boom HP loss handling",()=>"flipHurtSprite",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("HPZeroFlash")},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()*(2/3)+1},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()*(1/3)+1},()=>"performDefeatEvents",()=>"BossDefeat",()=>"bossDefeat",()=>"AnimatedStar",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+56*Math.cos(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+56*Math.sin(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"OrbFlipped")},()=>"createElectricSpark",()=>"[h3]Bowser[/h3]",()=>"Bowser initiation",()=>46,e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Bowser"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(Qj(r.GetValue(),"_Bowser")),0," -- ")," | ")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PeachDisguise1")},()=>"nonePlaying",()=>"tweenCamX",()=>"tweenCamY",()=>"flyingFromScreen",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject())-16},()=>"Bowser intro / appearance animations",()=>"FrontObjects",()=>"bowserEntryFade",()=>"jumpingIntoScreen",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Jumping")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("Gameplay")+n.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>-Math.sqrt(2*t.ExpBehavior()*(n.ExpObject()-s.ExpInstVar()))-64},()=>"BowserReturns",()=>"bowserIntroJump",()=>"hoveringDownInClownCar",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-(n.ExpObject("Rotors")-s.ExpObject())-16},()=>"groundBowserAppearanceAnim",()=>"moveDownToReleasePos",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()-160},()=>"flipClownCopter",()=>"playingTransformAnim",e=>{const t=e._GetNode(0);return()=>160+32*(1===t.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t.ExpObject()===n.ExpObject()?s.ExpObject():Math.sign(r.ExpObject()-o.ExpObject())*a.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()?0:1},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>(t.ExpObject()-(n.ExpObject()-(s.ExpObject()-r())))/2},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("tweenCamX")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("tweenCamY")},()=>"Bowser intro animation 1: Jumping from below",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-24+n.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Landed")},()=>"Bowser intro animation 2: Clown Copter entrance",()=>"comeOutOfClownCopter",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"LookOutVehicle")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"JumpOutVehicle")},()=>"jumpingOutOfCopter",()=>"bowserJumpOutClownCopter",()=>"Bowser intro animation 3: Peach Disguise",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PeachDisguise2")},()=>"Scroll",()=>"bowserDisguise",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PeachDisguise3")},()=>"Bowser general custom actions",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.4)+.4},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareJump")},e=>{const t=e._GetNode(0);return()=>1-.15*t.ExpInstVar()},()=>"continueJump",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?320:640},()=>"stepRight",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("stepRight")-n.ExpBehavior("stepRight")},()=>"stepLeft",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("stepLeft")-n.ExpBehavior("stepLeft")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpBehavior("stepLeft")>0?Qj(n.GetValue(),"WalkL"):Qj(s.GetValue(),"WalkR")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpBehavior("stepRight")>0?Qj(n.GetValue(),"WalkL"):Qj(s.GetValue(),"WalkR")},()=>"magicWand",()=>"shellDash",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()*(1+.2*n.ExpInstVar())},()=>"Heavy",()=>"BowserLand",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("Foot",n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+16*Math.sign(n.ExpObject()-s.ExpObject())},()=>"Misc. Bowser events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"ShellDash")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Hammer")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Hammer")-4},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareHammer")},e=>{const t=e._GetNode(0);return()=>0===t.ExpObject()?90:180},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SwingHammer")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_BowserFire"))},()=>"Bowser defeat events, animations & dropping item",()=>"risingDefeated",()=>"fallingDefeated",()=>"startFallDefeat",()=>"BowserFall",()=>"bowserFallDefeat",()=>"createDefeatQuake",()=>"despawningWithBubbleRelease",()=>"releaseItemWithBubble",()=>"damagedFlash",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("damagedFlash")},()=>"bowserDefeatQuake",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Collapse")},()=>"defaultBehavior|wrapIntoBubble",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()-96},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("WorldClear",t.GetValue())},()=>"bowserDefeat",()=>"o46",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>2===t.GetValue()?Qj("BossDefeatedCutscene",n.GetValue()):Qj("LevelClear",s.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject("StunnedBubble")+n(-14,14)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject("StunnedBubble")+n(-6,6)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"StunnedBubble")},()=>"Bowser imposter reveal",()=>"ignoreOnscreenEnemyDestruction",()=>"Bowser idling / walking",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue()<=1?1:0,0===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(1,1.2)-.3*n.ExpInstVar()},()=>"inIdleOrWalkingPhase",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(2.2,2.6)-.7*n.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.2)+.2},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4),a=e._GetNode(5);return()=>ek(Qj(t.ExpObject()===Qj(n.GetValue(),"Idle")?1:0,0===s.ExpObject()?1:0),Qj(r.GetValue()<=1?1:0,o.ExpBehavior("stepLeft")+a.ExpBehavior("stepRight")===0?1:0))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(2.4)+1.8},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()>n.ExpInstVar()?s("stepLeft","stepLeft","stepLeft","stepRight"):r("stepLeft","stepRight","stepRight","stepRight")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("stepLeft")>0?"left":"right"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()>n.ExpObject()?"stepLeft":"stepRight"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.6)+.4},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()>n.ExpInstVar()?s("stepLeft","stepLeft","stepRight"):r("stepLeft","stepRight","stepRight")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"WalkL")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"WalkR")},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/16+3},()=>"Bowser wall collisions",()=>"awaitingLanding",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()/1.3},()=>"Bowser jumping",()=>"Bowser turning",()=>"startRapidHammerThrowing",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>ek(t.GetValue()>=2?1:0,0===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>0===t.ExpInstVar()?Qj(n.GetValue(),"Idle"):Qj(s.GetValue(),"Walk")},()=>"[b][u]Bowser attacks[/u][/b]",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(2===t.GetValue()?1:0,Qj(1===n.GetValue()?1:0,ek("spitFire"===s.ExpObject(0)?1:0,"magicWand"===r.ExpObject(0)?1:0)))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(100)<n.ExpInstVar()?1:0},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpInstVar()+Math.round(n(s.ExpInstVar()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(0===t(n.ExpObject(),-4,0)?1:0,0===s(r.ExpObject(),4,0)?1:0)},()=>"Bowser spewing fire",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareFire")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SpewFire")},()=>"bw_flame",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()-n.ExpObject()%16+8+16*Math.round(s(Math.ceil(r.ExpObject()/16-1)))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()*(1+.2*n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>.8-.15*t.ExpInstVar()},()=>"endSpewFireAnim",()=>"Bowser swinging hammers",e=>{const t=e._GetNode(0);return()=>3-t.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-200,-400)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5);return()=>(t.ExpObject()-n.ExpObject())*s(.7,1.3)+r(o.ExpBehavior(),a.ExpBehavior()/2)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(-32,-128)*Math.sign(n.ExpObject())},()=>"spawnAnotherHammer",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>(t(64,96)+n(s.ExpBehavior(),r.ExpBehavior()/2))*-Math.sign(o.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-280,-320)},e=>{const t=e._GetNode(0);return()=>.33-.1*t.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"ReleaseHammer")},()=>"endThrowHammerAnim",()=>"Bowser using wand",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"GrabWand")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareWand")},()=>"prepareWand",e=>{const t=e._GetNode(0);return()=>5-t.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"UseWand")},()=>"useWand",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(tk.toDegrees(tk.angleTo(n.ExpObject("Wand"),s.ExpObject("Wand"),r.ExpObject(),o.ExpObject())))},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()<=1?3:1},()=>"Wand",e=>{const t=e._GetNode(0);return()=>64+12*t.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/5},()=>"activateDelayedMagic",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PutWandBack")},()=>"Bowser's Shell Dash",()=>"accelerating",()=>"shellDashAcceleration",()=>"shellDashStart",()=>17,e=>{const t=e._GetNode(0);return()=>t.ExpObject()%2},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("shellDashAcceleration")},()=>"dashOnLand",e=>{const t=e._GetNode(0);return()=>128+64*t.ExpInstVar()},()=>"endShellDash",()=>"shellDashDashing",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()>n.ExpObject()?"right":"left"},()=>"shellDashBump",()=>"decelerateShellDash",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("decelerateShellDash")},()=>"stopOnLand",()=>"decelerateAnimSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("decelerateAnimSpeed")},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/192},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/128},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,-11)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()<n.ExpObject()?s.ExpObject():-r.ExpObject()},()=>"Bowser health",()=>"Bowser collisions w/ player, destroyers & more",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar_Family(),s.ExpObject())},()=>"bowser",()=>"Bowser lose HP (custom action)",()=>"bossHit",e=>{const t=e._GetNode(0);return()=>t.ExpObject("StunnedStar")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SmallStar")},e=>{const t=e._GetNode(0).GetVar();return()=>0+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>.25+t.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()<=1?Qj(n.GetValue(),"Hit"):Qj(s.GetValue(),"Defeated")},()=>"BossFall",()=>"[h3]King Boo[/h3]",()=>"King Boo initiation",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"DummyBoo")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Appear")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject()-64,s.ExpObject(),r.ExpObject()))-180},()=>"King Boo custom actions",()=>"fadeOutAndSwapBlendMode",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?33:100},()=>"dash",()=>"bottleOrPepper",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-192,-512)},e=>{const t=e._GetNode(0);return()=>Qj("spawnFlamePumpkin",t.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("MagikoopaBeam")},()=>"toPosXY",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t.ExpObject()+Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(n.GetValue(),s.GetValue(),r.ExpObject(),o.ExpObject()))))*(a.ExpInstVar()<32?i.ExpInstVar():32)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t.ExpObject()+Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(n.GetValue(),s.GetValue(),r.ExpObject(),o.ExpObject()))))*(a.ExpInstVar()<32?i.ExpInstVar():32)},()=>"newOpacityAfterSwap",()=>"King Boo intro / appearance animations",()=>"inAppearAnimation",()=>"[h2]Particle events[/h2]",()=>"kingBooEntryFade",()=>"squashAndStretching",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>1.2*t.ExpObject()*Math.sign(n.ExpObject())},()=>"stretchAnim_Part1",()=>"playingDustIntroduction",e=>{const t=e._GetNode(0);return()=>12*Math.sign(t.ExpObject())},()=>"createAndSuckInPoofParticle",()=>"preventCollisionParticles",()=>"dustAppearAnim_Part2",()=>"transformingFromDummyBoo",()=>"poofAppearAnim_part2",()=>"restoreTimeAndBeginFight",()=>"King Boo intro animation 1: Squash 'N' Stretch",e=>{const t=e._GetNode(0);return()=>Qj("kingBooAppear",t.ExpObject())},()=>"stretchAnim_Part1 width",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>.8*t.ExpObject()*Math.sign(n.ExpObject())},()=>"stretchAnim_Part2 height",e=>{const t=e._GetNode(0);return()=>1.33*t.ExpObject()},()=>"stretchAnim_Part2",()=>"stretchAnim_Part3 height",e=>{const t=e._GetNode(0);return()=>.8*t.ExpObject()},()=>"stretchAnim_Part4 width",()=>"stretchAnim_Part3",()=>"stretchAnim_Part5 height",()=>"stretchAnim_Part6 width",()=>"King Boo intro animation 2: Poof Into Existence",()=>"kingBooAppear",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+64*Math.cos(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+64*Math.sin(tk.toRadians(n.GetValue()))},()=>"toKingBooPos posXY",()=>"Motor",()=>"kingBooAppear2",()=>"growToDefaultSize",()=>"kingBooAppear3",()=>"dustAppearAnim_Part3",()=>"setBrightness",()=>"King Boo intro animation 3: Dummy Boo Poof",()=>"poofAppearAnim_part3",()=>"poofAppearAnim_part4",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+20*Math.cos(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+20*Math.sin(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>1.66*t.ExpObject()*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0);return()=>1.66*t.ExpObject()},()=>"toDefaultSize",()=>"King Boo update layering of child objects",e=>{const t=e._GetNode(0);return()=>"BooTrail"===t.ExpObject()?1:0},()=>"King Boo movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod();return()=>t(n.ExpInstVar(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()-72)),1-Math.pow(.5,i()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("DarknessCheck"),s.ExpObject("DarknessCheck"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("DarknessCheck")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpInstVar()+n.ExpInstVar()*(s.GetValue()/100)},()=>"King Boo turning animation",()=>"[h4]King Boo attacks[/h4]",()=>"performNextAttack",()=>"King Boo attack 1: spewing fire",()=>"spittingFire",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpInstVar()>135?1:0,n.ExpInstVar()<225?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpInstVar()>315?1:0,n.ExpInstVar()<45?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"PrepareSpew"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Spew"),n.ExpInstVar())},()=>"King Boo attack 2: dash",()=>"dashToPlayer",()=>"homingIn",()=>"KingBooDash",e=>{const t=e._GetNode(0);return()=>192*t.ExpObject()},()=>"trailDelay",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"KingBoo")},()=>"King Boo attack 3: pumpkin & pepper",()=>"spittingFood",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareSpew1")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SpewFood")},()=>"foodSpitDelay",()=>"squashAndStretch size",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(64,160)*Math.sign(n.ExpInstVar()%2-.5)},()=>"startDespawnBlink",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>Kj(t(32,128),n(-1,1))},()=>"King Boo attack 4: magic bottles",()=>"launchingBottles",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SpewBottles")},()=>"bottleSpitDelay",()=>"fairy",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>Kj(t(64,160),n(-1,1))},()=>"King Boo: protective rings defense",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"OrbitFlame"),n.ExpInstVar())},()=>"King Boo health",()=>"King Boo collisions w/ player, destroyers & more",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpBehavior()+64*Math.sign(n.ExpObject()-s.ExpObject())},()=>"flamePumpkin",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar_Family()},()=>"stunnedByPepper",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("setBrightness")},()=>"King Boo lose HP",()=>"inHurtAnimation",()=>"hurtSineMagnitude",()=>"mouthBurnSine",()=>"KingBooHurt",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("EnemyHurt")},()=>"stopHurtPhase",()=>"fallDownFromDefeat",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("hurtSineMagnitude")},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+.3},()=>"endInvincibilityPeriod",()=>"King Boo defeat animation",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Defeat")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Spin")},()=>"King Boo stunned/blinded",()=>"blinded",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Blinded0")},()=>"stunnedGrowAndShrink size",()=>"slowStunAnimation",()=>"stunnedGrowAndShrink",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Blinded1")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+12*n.ExpObject()},()=>"stunSFX",()=>"slowAnimSpeedAndStopStun",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("slowAnimSpeedAndStopStun")},()=>"King Boo eating pepper",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"AtePepper")},()=>"KingBooSwallow",()=>"Yoshi/YoshiSwallow",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"TooSpicy")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Flames")},()=>4.8,()=>"slowMouthBurning",()=>"mouthBurnSine posY",()=>3.8,()=>540,()=>"burningMouth",()=>"pumpkinDelay",()=>.025,e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject("Mouth")+n(-8,8)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod();return()=>t.ExpObject()+Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject()))))*a(12,24)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod();return()=>t.ExpObject()+Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject()))))*a(12,24)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.2,.4)},()=>"slowAnimSpeedAndStopBurn",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("slowAnimSpeedAndStopBurn")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("orbittingFlamesRotationSpeed")},()=>"orbittingFlamesRotationSpeed",()=>"Bowser's fiery hammers",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()-n.GetValue()%90+45},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t.GetValue(),"Fiery"),(n.GetValue()-s.GetValue()%45)%2)},()=>"sparkParticleDelay",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.05,.3)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-96,-192)},()=>65280,()=>"Wand magic",()=>"Wand magic initialization",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Magic"),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>ek(0===t.ExpInstVar()?1:0,Qj(2===n.GetValue()?1:0,1===s.ExpInstVar()?1:0))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("Par",n.GetValue()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"BowserMagic"),n.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>120*t.GetValue()},()=>"Wand magic general events",()=>"updateOrbitRadius",()=>"updateOrbitSpeed",()=>"disappearAndDestroy opacity",()=>"Wand magic visual events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BowserMagicSparkle")},()=>"King Boo crown events",()=>"stopCrownStun",()=>"createPulseParticle",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-n(16)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()<n.ExpObject()?-96:96},()=>"crownStunned",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Hide")},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/2},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Flash")},()=>"crownSpark",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FlashEnd")},()=>-52,()=>"defaultBehavior|dropLooseObjects",()=>"kingBooCrownExplode",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(32,96)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+Math.cos(tk.toRadians(n.GetValue()))*s.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+Math.sin(tk.toRadians(n.GetValue()))*s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1,1.6)},e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+32},e=>{const t=e._GetNode(0);return()=>-448/(1+t.ExpInstVar())},()=>"createHazardLiquidParticle",()=>"liquidParticleDelay",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.04,.08)},()=>"Falling Flame",e=>{const t=e._GetNode(0).GetVar();return()=>1===t.GetValue()?"fallingFreezeFlame":"fallingGhostFlame"},()=>"dimOut",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(-16)},()=>"moveHorizontally",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()<0?"left":"right"},()=>"King Boo bottles",()=>"King Boo bottles custom actions",()=>"ghostFlame",()=>"preventPlayerDamaging",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+40*Math.sign(n.ExpObject()-s.ExpObject())},()=>"inactiveFairy",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"StaySpark")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bottle")},()=>"pumpkinBurst",()=>"Flame Bottles shattering & fairy timeout",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+15},()=>"startBurstingOpen",()=>"blinkAndBurstOpen",()=>"blinkAndBurstOpen opacity",()=>"King Boo bottles particles",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()%5},()=>"King Boo bottles stomping",()=>"Fairy (Wanda)",()=>"Fairy functions",e=>{const t=e._GetNode(0);return()=>1.5*t.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()<n.ExpObject()?-32:32},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-32,32)},()=>"Fairy general events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Spawning")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+24*n.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Appearing")},()=>"fairyAppear",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject())/200+.2},()=>"decreaseOffsetX",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()>n.ExpObject()?48:-48},()=>"decreaseOffsetY",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+.1},()=>"stunKingBoo",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()-s.ExpBehavior("extraOffsetY")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("decreaseOffsetX")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("decreaseOffsetY")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Stun")},()=>"stunning extraOffsetY",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Gameplay")},()=>"moveHorizontallyTowardsPlayer posX",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+n.ExpObject()*Math.sign(s.ExpObject()-r.ExpObject())},()=>"stunnedUpwards",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+(n.ExpObject()<s.ExpObject()?-48:32)},()=>"kingBooStunned",()=>"fairyWandStun",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.GetValue()+n(24,48)*Math.cos(tk.toRadians(10*s.GetValue()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.GetValue()+n(24,48)*Math.sin(tk.toRadians(10*s.GetValue()))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.3,.5)},()=>"destroy",()=>"stunning",()=>"flyAway",e=>{const t=e._GetNode(0);return()=>448*t.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod();return()=>t.ExpObject()+n(6)*Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()))+i(-45,45)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod();return()=>t.ExpObject()+n(6)*Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()))+i(-45,45)))},()=>"King Boo pumpkin's & pepper",()=>"Pumpkin events",()=>"Pumpkin custom actions",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(2))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Pumpkin"),n.ExpInstVar())},()=>"burstIntoFlame",()=>"burstColor color",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(-4,4)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()-n.ExpInstVar()/2+s(-4,4)},()=>"General Pumpkin events",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>3+Math.round(t(3))},()=>"startBursting",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior("burstIntoFlame")?.15:n(.3,.5)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()-n.ExpInstVar()/2+s(-6,6)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod();return()=>t.ExpObject()+Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject()))))*a(6,10)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod();return()=>t.ExpObject()+Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject()))))*a(6,10)},()=>"Pumpkin collisions",()=>"Pepper events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Pepper")},()=>"finalDespawnBlink",()=>"Orbitting Flame",()=>"[h2]Enemies[/h2]",()=>"[h4] Common enemy functions / custom actions[/h4]",()=>"Pipe enemy functions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>ek(t.GetValue(),Qj(n.GetValue()-5<s.ExpObject()?1:0,r.GetValue()+5>o.ExpObject()?1:0))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+5},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-5},()=>"Create hurtbox",()=>"General fiery sprite functions / custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("FB",t.GetValue())},()=>"moveAtAngle",()=>"Dimmed",()=>"fireSnake",()=>"boundingFire",()=>"fireDim",()=>"Shared Beach Koopa & Outmaway events",()=>"Sprite catch-and-kickers: Checking for kickable sprites",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sign(t.ExpObject())*-n.ExpInstVar_Family()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4);return()=>ek(t.ExpInstVar(),n.ExpObject()===Qj(Qj(Qj(s.GetValue(),"Shell"),r.ExpInstVar())+"_",o.ExpInstVar())?1:0)},()=>"BeachKoopa",e=>{const t=e._GetNode(0);return()=>2*-Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0);return()=>-4*Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("Broozer"===t.ExpObject()?1:0,n.ExpInstVar_Family())},()=>"Sprite catch-and-kickers: Catching sprites",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10);return()=>t.ExpObject()>0?n(s.ExpObject(),r(o.ExpObject())-a.ExpInstVar_Family()/2-1):i(l.ExpObject(),d(c.ExpObject())+u.ExpInstVar_Family()/2+1)},e=>{const t=e._GetNode(0).GetVar();return()=>tk.clamp(t.GetValue(),-128,128)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t.ExpObject()>0?n.ExpBehavior()<s.GetValue()?1:0:r.ExpBehavior()>o.GetValue()?1:0},()=>"Sprite catch-and-kickers: Kicking sprites",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("Outmaway"===t.ExpObject()?1:0,"Broozer"===n.ExpObject()?1:0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("KickParticle")},()=>"spriteKicked",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-224*Math.sign(t.ExpObject())/(1+n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-224*Math.sign(t.ExpObject())/(1+n.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),1,0)/3},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>64*Math.sign(t.ExpObject())/(1+n.ExpInstVar())},()=>"Sprite catch-and-kickers: Misc. events",()=>"Container enemies throwing sprites",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>-t.GetValue()*(n.ExpInstVar()?96:192)},()=>"Waking up sleeping enemies",()=>"letSpriteJumpOut",()=>"Frosted Sprites initialize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),n.ExpInstVar_Family())},()=>"thwomp",()=>"thwimp",()=>"spriteFrosted",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+45*Math.cos(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+45*Math.sin(tk.toRadians(n.GetValue()))},()=>"Misc. enemy functions",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpInstVar_Family(),n.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t.ExpInstVar_Family(),n(s.ExpObject(),"electricallyCharged"))},()=>"[h4] General enemy events[/h4]",()=>"General fiery sprite movement & collision handling",()=>"Muncher & Jelectro damager hitbox events",()=>"Extra Lakitu rod events",()=>"Common enemy-player collision handling",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(0===t.ExpInstVar_Family()?1:0,Qj(1===n.ExpInstVar_Family()?1:0,ek(s.ExpInstVar_Family(),r.ExpInstVar_Family())))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(n.GetValue(),s.ExpInstVar_Family(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("floatingMine,greenBubble,leapingFishbone",n.ExpInstVar_Family(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("spinyCheepCheep,pokeySegment,chainChomp,urchin,fishbone,leapingFishbone,bowser",n.ExpInstVar_Family(),",")},()=>"Dino flame (from enemies) collision handling",()=>"Shared Fire Snake & Bounding Fire events",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("left","right")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>"left"===t.ExpInstVar_Family()?n.ExpObject():-s.ExpObject()},e=>{const t=e._GetNode(0);return()=>48*t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*20)},()=>"Frosted sprites general events",()=>"damageTint",()=>"damageTint color",()=>12632319,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Ice")},()=>"iceCubeBreak",()=>"[h2]Mounts[/h2]",()=>"General mount events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family()," ","sprite-only","player-only")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family()," ","player-only","sprite-only")},()=>"Syncing stats with riding player (custom action)",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+12*Math.sign(n.ExpObject())},()=>"bottom",()=>"Anti-Mount Sign",e=>{const t=e._GetNode(0);return()=>"right"===t.ExpInstVar_Family()?-128:128},e=>{const t=e._GetNode(0);return()=>"right"===t.ExpInstVar_Family()?"left":"right"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>"right"===t.ExpInstVar_Family()?-n.ExpObject():s.ExpObject()},()=>"Yoshi",()=>"Yoshi egg events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Hatch")},()=>"Yoshi/EggHatches",e=>{const t=e._GetNode(0);return()=>Qj("Egg",t.ExpObject())},()=>"spawnYoshi",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"HatchingEgg")},()=>"Yoshi/Yoshi",e=>{const t=e._GetNode(0);return()=>Qj("Yoshi",t.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Grow")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Unmounted"),n.ExpInstVar())},()=>"Yoshi init & idle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("21,16",s.GetValue()-1,","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Yoshi"))},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*4)},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()/1.25},()=>"[h2]Yoshi movement[/h2]",()=>"Yoshi jump & fall",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar(),"_jump")},()=>"allowCoyoteTimeJump",()=>"endPowerupHover",()=>"aboutToFall",()=>"onFloor",()=>"Yoshi duck / slide",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar(),"_duck")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar())?13:22},()=>"Yoshi tongue",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar(),"_usePowerup")},()=>"prepareExtendTongue",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t.ExpInstVar(),0===n(s.ExpObject())?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"RideCommand"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},()=>"Yoshi spitting out objects",()=>"preventSpitting",()=>"[h2]Yoshi animations[/h2]",()=>"swallowObject",()=>"instantChew",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("swallowObject")-n.ExpBehavior("swallowObject")},()=>"chewing",()=>"chewOnObj",()=>"preventAnimOverride",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Grow"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Skid"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/8+8},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Fall"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Spinjump"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Duck"),n.ExpInstVar())},()=>"playMountedAnimation",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(),5)===Qj(s.GetValue(),"Spit")?1:0},()=>"preventRoofbumpSFX",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Spit0")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Spit1")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(t.GetValue(),n(s.ExpObject())?"Idle":"Jump"),r.ExpInstVar())},()=>"Yoshi saddling & dismounting",()=>"mountedYoshi",()=>"invisFrames",()=>"preventInvisFrameFlashing",()=>"mounted",()=>"inactivePlayer",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(Qj(t.ExpInstVar(),"_"),n.ExpInstVar())},()=>"preventTerrainCollisionEnabling",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+2*Math.sign(n.ExpObject())},()=>"preventManualCloudDismount",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>ek(1!==t.ExpInstVar()?1:0,n(s.ExpObject()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sign(t.ExpObject())/(1+n.ExpInstVar())*-88},()=>"YoshiFlee",()=>"yoshiFlee",()=>"fleeing",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("blooperBaby,boneProjectile,bro_boomerang,bro_hammer,fireball,vl_flame,bw_flame,kb_flame,wandMagic",n.GetValue(),",")},()=>"Riding Yoshi: player animations",e=>{const t=e._GetNode(0);return()=>t.ExpObject("saddle")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("saddle")+8},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"RideCommand"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Ride"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Warp"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"RideBack"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"RideTurn"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"RideDuck"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Hover"),n.ExpInstVar())+"_",s.ExpInstVar())+"_7"},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar(),"_spinjump")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Ride"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},()=>"Tongue events (& swallowing)",()=>"Extending tongue events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PrepareTongue")},()=>"extendTongue",()=>"YoshiTongue",()=>"yoshiTongue",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Tongue")},()=>"Tongue",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Tongue",t.GetValue())},()=>"TongueEnd",()=>"tongueAnim tongueEmpty",e=>{const t=e._GetNode(0);return()=>48*-Math.sign(t.ExpObject())},()=>"Yoshi tongue animation handling",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar(),"_lookUp")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"TongueHigh")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Tongue")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>Qj(1===t(n.ExpInstVar())?1:0,s.ExpObject()===Qj(r.GetValue(),"TongueHigh")?1:0)?27:o.ExpInstVar()},()=>"Object attaching to tongue",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(0===t.ExpInstVar_Family()?1:0,n.ExpInstVar())},()=>"tongueEmpty",e=>{const t=e._GetNode(0);return()=>.25*t.ExpBehavior("tongueEmpty")},()=>"retract",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>ek(Qj("key"===t.ExpInstVar_Family()?1:0,2===n.GetValue()?1:0),"objectLetter"===s.ExpInstVar_Family()?1:0)},()=>"movingCoin",()=>"flashSlow",()=>"flashFast",()=>"objectLetter",()=>"spring",()=>"sidewaysSpring",()=>"iceCube",()=>"npc",()=>"koopa",()=>"bro_boomerang",()=>"pokeySegment",()=>"chainChomp",()=>"crowber",()=>"preventSplashParticle",e=>{const t=e._GetNode(0);return()=>t.ExpObject("ObjectPos")},()=>"bulletBill",()=>"tongueAnim",()=>"pepper",()=>"lightBlock",()=>"kamikazeShell",()=>"changeHSL",()=>"black",()=>"bobomb",()=>"powerUp",()=>"superStar",e=>{const t=e._GetNode(0);return()=>Qj("PowerUp",t.ExpObject())},()=>"PowerUp",()=>"steethan",()=>"oneUp",()=>"threeUp",()=>"goalOrb",()=>"tongueAnim tongueHasObject",()=>"Yoshi swallow",()=>"yoshiSwallow",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpInstVar_Family(),"_")+n.ExpInstVar_Family().toString()},()=>"gravityClock",()=>"poisonMushroom",()=>"coinFromSwallow",()=>"Ending Yoshi tongue cycle (functions)",()=>"Misc. Yoshi events / actions",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("changeHSL")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.ExpObject()+",",n.ExpObject())+",",s.ExpObject())+",",r.ExpBehavior("changeHSL"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Sprite")},()=>"Spitting out objects (functions/custom actions)",e=>{const t=e._GetNode(0);return()=>t.ExpObject("tongue")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>Qj(t.ExpObject()===Qj(n.GetValue(),"Turn1")?1:0,0===s.ExpObject()?1:0)?-1*r.ExpObject():o.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Spit"),n.ExpInstVar())},()=>"yoshiFire",()=>345,()=>165,()=>"YoshiSpit",()=>"yoshiSpit",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("Tongue")+n.ExpInstVar_Family()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()>0?n.ExpObject():s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>(t.ExpInstVar()?83:166)*Math.sign(n.ExpObject())+s.ExpBehavior()},()=>"soccerBall",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"destroysOnToss")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()<0?"left":"right"},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()+32},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())+32},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(1===t.ExpObject(Qj(n.ExpInstVar(),"_duck"))?1:0,s(r.ExpObject()))},e=>{const t=e._GetNode(0);return()=>224*Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),1,0)/2},()=>"bro_hammer",()=>"cantDamagePlayer",e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?0:180},()=>"Fleeing Yoshi",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-t.ExpInstVar()/(1+n.ExpInstVar())},()=>"Yoshi shell abilities",()=>"Yoshi flames (red Yoshi/shell)",()=>"Yoshi flying (blue Yoshi/shell)",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Wing")},()=>"makeFlyingSound",()=>"Yoshi/YoshiTongue",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar(),"_right")},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar(),"_left")},()=>"Yoshi pepper-flames ability",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t.ExpObject(Qj(n.ExpInstVar(),"_left")),s.ExpBehavior()<0?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t.ExpObject(Qj(n.ExpInstVar(),"_right")),s.ExpBehavior()>0?1:0)},()=>"Yoshi working with player's power-ups",()=>"Hovering with Yoshi",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>(9===t.ExpInstVar()?12:60)+30*n(s.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"Hover")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"RideDuck"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Hover"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))+"_6"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Hover"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))+"_7"},()=>"Misc. Yoshi events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar())?19:28},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar())?24:28},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar())?10:6},()=>"Riding Lakitu's Cloud",()=>"Lakitu Cloud creation (& misc. Lakitu events)",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpInstVar()/96},()=>"Lakitu's Cloud init",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Back")},()=>"Lakitu's Cloud despawn timer",()=>"blink1",()=>"blink2",()=>"despawnCloud",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Disappear")},()=>"Lakitu's Cloud saddling, dismounting & basic player ride animations",()=>"ridingCloud",()=>"mountedLakituCloud",()=>"controlledByPlayer",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(1===t.ExpObject(Qj(n.ExpInstVar_Family(),"_jump"))?1:0,1===s.ExpObject(Qj(r.ExpInstVar_Family(),"_spinjump"))?1:0)},()=>"lakituCloud",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject())&&1===s.ExpObject(Qj(r.ExpInstVar_Family(),"_spinjump"))?1:0},()=>"Lakitu's Cloud movement",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_left")},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_right")},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_lookUp")},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_duck")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()+128*n()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()-128*n()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject())?32:16},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(-64,n.ExpBehavior()-128*s())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(64,n.ExpBehavior()+128*s())},()=>"Clown Copter",()=>"Clown Copter basic events",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"Copter")+n.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Rotors")},()=>"[h2]Objects[/h2]",()=>"[h3]General object events[/h3]",()=>"Shared block-based GameObjects events",()=>"Shared Switch-pressing check (custom action)",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpInstVar()>0?1:0,n.ExpInstVar()<180?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()+4},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpInstVar()<0?1:0,n.ExpInstVar()>-180?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpInstVar()<-90?1:0,n.ExpInstVar()>90?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpInstVar()>-90?1:0,n.ExpInstVar()<90?1:0)},()=>"Shared POW Block events",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-160},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+160},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-128,-192)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(16)},e=>{const t=e._GetNode(0);return()=>"POWBlock"===t.ExpObject()?"up":"down"},()=>"Linear projectiles custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+90},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()+(n.ExpInstVar_Family()<90?-90:90)},e=>{const t=e._GetNode(0);return()=>90*Math.sign(t.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()+(n.ExpInstVar_Family()<-90?-90:90)},()=>" Coin",()=>"Initiating coins",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),n.ExpInstVar_Family()),s.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Coin"),n.ExpInstVar())},()=>"transformToCoin",()=>"1",()=>"endHiddenStatus",()=>"hiddenCoinAppear",()=>"Coin collecting",e=>{const t=e._GetNode(0);return()=>Qj("Collected_",t.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpInstVar_Family(),r.ExpInstVar_Family()))},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+2},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"_")+n.ExpInstVar().toString()},()=>1e4,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CoinSpark")},()=>"BigSparkle",()=>"Moving coins (creation)",()=>"MovingCoin",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),s.ExpInstVar())},()=>"coinCollect",()=>-232,()=>"destroyWithSparkle",()=>"Moving coins (movement)",()=>"Coin layering & animation syncing",()=>"Shroom / Dragon Coins",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(Qj(s.GetValue()+".",r.GetValue())),0,",")},()=>"o43",()=>"o49",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(Qj(s.GetValue()+".",r.GetValue())),"C",0)},()=>"Coin creation handling (by containers)",()=>"setDragonCoinMaxFallSpeed posY",()=>"setDragonCoinMaxFallSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("setDragonCoinMaxFallSpeed")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"GlitterSparkle")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpBehavior()/12},()=>"Coin despawn timer action & events",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-2},()=>"Coins transforming into blocks",()=>"Misc. Coin events / functions",()=>"Collectable",()=>"StrawberryCoin",()=>"Strawberry",()=>" Goal Orb",()=>"ignorePicking",()=>"faceCameraWithPeaceSign",()=>"flashDelay",()=>"disableInvertEffect",()=>"Inverse",()=>" Springboards / Springballs",()=>"Regular springboards",()=>"Springboard initialize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Spring"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"staticSpring",()=>"Springboard custom action: prepare to bounce GameObject",()=>"objectOffset",()=>"bounceObjectsOnTop",()=>.09,()=>"launchingFromSpring",()=>"Sprites landing on Springboard",()=>"Springboard launching objects upwards (Timer trigger)",e=>{const t=e._GetNode(0);return()=>-400/(1+t.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>-320/(1+t.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>-648/(1+t.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>-192/(1+t.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>1280*(t.ExpInstVar_Family()+1)},e=>{const t=e._GetNode(0);return()=>-1424/(1+t.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>-384/(1+t.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>-480/(1+t.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>-640/(1+t.ExpInstVar_Family())},()=>"Springboard bounce animation",()=>"parachute",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-(32+n.ExpInstVar_Family())+s.ExpBehavior("objectOffset")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-16+n.ExpBehavior("objectOffset")},()=>"Springboard collision assist & carryableness (extra events)",()=>"doPickUpCheck",e=>{const t=e._GetNode(0);return()=>Qj("checkPickUpWith_",t.ExpObject())},()=>"Sideways springboards",()=>"Sideways springboard initialize",()=>"staticSidewaysSpring",e=>{const t=e._GetNode(0);return()=>Qj("Sideways",t.ExpInstVar())},()=>"Sideways springboard bouncing GameObjects (custom action)",()=>"bouncedFrom width",()=>"goombaShoe",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Spring")},()=>"setMaxSpeed",()=>"endTossedStatusIfSubmerged",()=>"preventMovingRight",e=>{const t=e._GetNode(0).GetVar();return()=>1.5*t.GetValue()},()=>"preventMovingLeft",e=>{const t=e._GetNode(0).GetVar();return()=>-t.GetValue()},()=>"Sideways Springboard collision checking",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Top")+1},()=>"Sideways Springboard animation handling",e=>{const t=e._GetNode(0);return()=>0===t.ExpInstVar()?22:12},()=>" Switches",()=>"Switch initialize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(Qj(t.GetValue(),"Unpressed"),n.ExpInstVar())+"_",s.ExpInstVar())+"_",r.ExpInstVar())},()=>"Switch pressing & reset",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Pressed"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>90*t.ExpInstVar()},()=>"solid",()=>"switchMusicIsPlaying",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("switch")},()=>12.3,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>Qj(Qj(Qj(Qj(t.GetValue(),"Unpressed"),n.ExpInstVar())+"_",s.ExpInstVar())+"_",r.ExpInstVar())+o.ExpInstVar()},()=>"Default (blue) P-Switch",e=>{const t=e._GetNode(0);return()=>Xj(0,Kj(t.ExpObject(8),50))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject(),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject(),1)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject(),2)},()=>"Brown P-Switch",()=>"Gray P-Switch",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sign(t.ExpObject()-n.ExpObject()).toString()},()=>"!-Switch",()=>"Miscellaneous switch events",()=>" Palace Switches",()=>"Palace Switch initialize & state reset",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Unpressed"),n.ExpInstVar())},()=>"Palace Switch pressing",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpInstVar(),0)?0:1},()=>"Miscellaneous Palace Switch events",()=>" Boss bridge & axe",()=>"startDestruction",()=>"axeHit",()=>"breakNearestBridge",()=>"bridgeCollapse",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bridge")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BossBridge")},()=>" Toggleable light sources",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6);return()=>Qj(t(n.ExpObject(),s(r.ExpObject())-1),o(a(i.ExpObject(),1))+1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6);return()=>Qj(t(n.ExpObject(),s(r.ExpObject())-1),o(a(i.ExpObject(),1))-1)},()=>" Baddie / Goodie Box",()=>"Baddie Box init",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Middle")},()=>"baddieBox",()=>"player-only",()=>"Block2x",()=>"Baddie Box main cycle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8),c=e._GetNode(9),u=e._GetNode(10),h=e._GetNode(11),_=e._GetNode(12),G=e._GetNode(13),p=e._GetNode(14);return()=>t(n.ExpObject()+s.ExpInstVar()-r.ExpInstVar()/2,o.ExpObject()+a.ExpInstVar()+i.ExpInstVar()/2,l.ExpObject()+d.ExpInstVar()-c.ExpInstVar()/2,u.ExpObject()+h.ExpInstVar()+_.ExpInstVar()/2,G.ExpObject(),p.ExpObject())},()=>"preventCycleStart",()=>"openLidIfPossible",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Release"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Blocked"),n.ExpInstVar())},()=>"Baddie Box release item",()=>"Lid",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Lid")},()=>"lidOpen",()=>"releaseItem",()=>"lidClose",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"CatchLid"),n.ExpInstVar())},()=>"BaddieBox particles",e=>{const t=e._GetNode(0);return()=>1+2*t.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-16*n.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"BaddieDust"),1+2*n.GetValue())},()=>"moveUp",()=>"moveH",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+16*n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>qj(t(2,3),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()+n(-12*(1+s.ExpInstVar()/2),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()-16*n.ExpInstVar()-s(3,12)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"BaddieDust"),2+2*n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(12,20)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()+n(-6*(1+s.ExpInstVar()/2),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-n(6)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.25,.33)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()+n(0,12*(1+s.ExpInstVar()/2))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()-16*n.ExpInstVar()-s(3,9)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()+n(0,6*(1+s.ExpInstVar()/2))},()=>"BaddieBox object creation",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>tk.clamp(t.ExpInstVar()+n(0,s.ExpInstVar()),-256,256)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpInstVar()+s(0,r.ExpInstVar()),-512)},()=>"Baddie Box extra functions",()=>"sprite-only",()=>"semiSolid",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BoxLid")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>Kj(t(16,48),n(-1,1))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>-t(64,256)},()=>"dustParticles",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?7:3},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6);return()=>t()%2?n(s.ExpObject(),r.ExpObject()):o(a.ExpObject(),i.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"BoxDust"),Math.ceil((n.ExpInstVar()+1)/2))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(6,12)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(48)*(n()%2?-1:1)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>-t(96,196)},()=>" One-Way Walls",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Up"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Down"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Left"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Right"),n.ExpInstVar())},()=>"shake",()=>"shake angle",()=>" Ice cube events",()=>"Ice cube initialize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Cube"),n.ExpInstVar())},()=>"Ice cube custom actions",()=>"shatteringFrame",()=>"spinyCheepCheep",()=>"iceCubeCollision",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"FrostDeath"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-1,1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("middle")},()=>"iceCubeMelt",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.GetValue()/(n.ExpInstVar()+1)+s.GetValue()},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()>0?"right":"left"},()=>"IceCubeKicked",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+6*Math.cos(tk.toRadians(120*n.GetValue()+30))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+6*Math.sin(tk.toRadians(120*n.GetValue()+30))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpInstVar_Family()),r.ExpInstVar_Family()," -- ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue()," | ")},()=>"Ice cube kicking & moving",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>Qj(0===t(n.ExpObject(),"frozen")?1:0,s(r.ExpObject(),o.ExpObject(),0,1))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>224*(t.ExpObject()>n.ExpObject()?-1:1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Math.abs(t(n.ExpObject(),1,0))},()=>"preventEvents",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Shake"),n.ExpInstVar())},()=>"regainGravity",()=>"Ice cube object interactions",()=>"Object inside ice cube breaking out",()=>"objectStartsBreakingFree",()=>"objectBreaksFree",e=>{const t=e._GetNode(0);return()=>t.ExpObject("SpriteSpot")},()=>"Misc. Ice cube events",()=>" Light Block / Bulb",()=>"Light Block custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),n.ExpInstVar()?"Lit":"Unlit")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Lit")},()=>"sparkleLeft",()=>"CorrectBuzzer",()=>"lightBlockToggleOn",()=>"Electric",()=>"lightBlockElectrify",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+6*Math.cos(tk.toRadians(45*n()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpObject())+6*Math.sin(tk.toRadians(45*s()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+16*Math.cos(tk.toRadians(45*n()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+16*Math.sin(tk.toRadians(45*n()))},()=>"Light Block falling & landing bounce",()=>"Light Block particles",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-n(0,12)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()-n.ExpInstVar()+s(-12,12)},()=>"sparkleRight",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(0,12)},()=>"Light Block falling into lava",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Explode")},()=>"lightBlockDetonation",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Fireball")},()=>"dimLight",()=>"lightBlockExplode",()=>"detonatedLightBlock",()=>1248,()=>1872,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(8,16)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>416*Math.cos(tk.toRadians(5.625*t.GetValue()))+n.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>416*Math.sin(tk.toRadians(5.625*t.GetValue()))+n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(16,144)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1.2,2.4)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.GetValue()*Math.cos(tk.toRadians(n.GetValue()))+s.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.GetValue()*Math.sin(tk.toRadians(n.GetValue()))+s.ExpObject()},()=>"extraSpeed",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>t.GetValue()+n(3,6)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>t.GetValue()+n(1.5,2.5)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(64)},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("extraSpeed")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpBehavior("extraSpeed")*n()*Math.cos(tk.toRadians(s.ExpInstVar()))+r.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpBehavior("extraSpeed")*n()*Math.sin(tk.toRadians(s.ExpInstVar()))+r.ExpObject()},()=>"Light Block turning on",()=>"Misc Light Block events",()=>" Heavy stone",()=>"Heavy Stone landing",()=>"heavyStoneLand",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.ExpObject(n.ExpObject()+2),"|"),s.ExpObject())+"|top|1"},()=>"Heavy Stone falling",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(t.ExpObject(n.ExpObject()-s.ExpInstVar()-2),"|"),r.ExpObject())+"|bottom|0"},()=>"Heavy Stone destroyer events",()=>"Misc Heavy Stone events",()=>" POW Block (object form)",()=>"POW Block initialize",()=>"POW Block triggering",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue(),"Hit_")+n.GetValue()},()=>"particles",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()+n()*s.ExpObject()},()=>"POW Block wall & landing events",()=>"POW Block destroy-state updates & collisions",()=>"Kicking POW Blocks (SMB1 gamestyles)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>(160*t.GetValue()+n(s.ExpObject(),1,0)/2)/(1+r.ExpInstVar())},()=>"Toss",()=>" Clocks",e=>{const t=e._GetNode(0);return()=>10+90*t.ExpInstVar_Family()},()=>"clockPickup",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("WrongBuzzer")},()=>" Key",()=>"Key initialize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Key"),n.ExpInstVar())},()=>"General key events",()=>"keyPickup",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BaddieDust4")},()=>"toPos",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>16*Math.cos(tk.toRadians(t.GetValue()))+n.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>16*Math.sin(tk.toRadians(t.GetValue()))+n.ExpObject()},()=>"containedInsideObject",()=>" Spikes",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Spike"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"Invisible",()=>" Vine Beans",()=>"Small vine bean",e=>{const t=e._GetNode(0);return()=>18/(t.ExpInstVar()+1)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"VineNinePatch"),n.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-n(-8,8)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t.ExpObject()+n(8,16)*Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()))))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t.ExpObject()+n(8,16)*Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()))))},()=>"Large vine bean",()=>"emitParticle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t(n.ExpObject(Qj(s.GetValue(),"_Vine")),r.ExpObject()," -- ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),1," | ")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Opened")},()=>"vineBeanCracked",()=>"VineCreatorSpawn",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(t.ExpObject()-8+n.ExpObject())/2},()=>" Interactable NPC",()=>"NPC skin initiation",()=>"toad",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("19,19,20",s.GetValue(),","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_ToadPalettes"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(Qj(r.GetValue(),"_ToadPalettes")),0," -- ")," | ")},()=>"princesses",()=>29,()=>31,e=>{const t=e._GetNode(0);return()=>10===t.ExpInstVar()?20:13},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())},()=>"hopping",()=>"peaceAfterGift",()=>"wander",()=>"sit",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Sit"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("17,17,16",s.GetValue(),","))},()=>"floatAround",()=>"solidCheckerLeft",()=>"solidCheckerRight",()=>"glad",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Glad"},e=>{const t=e._GetNode(0);return()=>10===t.ExpInstVar()?24:36},()=>"menuContainer",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Jump"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Peace"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Walk"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Float"},()=>"Other NPC custom actions",()=>"npcPopupText",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/1.5+8},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+204},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-204},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Talk"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_FloatTalk"},()=>"switchDirection",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("8,8,10",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("18,18,20",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("10,10,14",s.GetValue(),","))},()=>"NPC 'on-activation' events",()=>"NPC interaction & spawning items",()=>"spawnItem",()=>"doPeaceSign",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()+16,s.ExpObject(),0,"Bottom",14,14,1,0,"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()-16,s.ExpObject(),0,"Bottom",14,14,1,0,"")},()=>"defaultBehavior|dontCopyPersistenceData",()=>"NPC behavior",()=>"NPCs facing the player",()=>"NPCs special idle events",()=>"NPCs blinking",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(7)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Blink"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Front"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_FrontBlink"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_WalkBlink"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_SwimIdle"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_SwimBlink"},()=>"unblinkToSwimIdle",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_SitBlink"},()=>"NPCs hopping",()=>"NPCs wandering around",()=>"NPC wander: handle land/water transition",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>ek(Qj("idle"===t.ExpInstVar()?1:0,n(s.ExpObject())),0===r(o.ExpObject())?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"NPC"),n.ExpInstVar())+"_Swim"},()=>"NPC wander: start walking / swimming",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(2.4,3.6)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()>0?n(90,270):s(-90,90)},()=>"randomAngleChange",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.8,1.8)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.6,2.4)},()=>"NPC wander: walking",e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/5},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/3},()=>"NPC wander: swimming",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>4===t(n.ExpObject(),s.ExpObject())?1:0},e=>{const t=e._GetNode(0);return()=>360-t.ExpBehavior()},()=>"NPC wander: turning",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()+n.ExpBehavior("randomAngleChange")*s()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1.5,3.5)},()=>"turning",()=>"NPCs floating around",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()+256*n()},()=>"floatDelay",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(2.4,6.4)},()=>"floatUpwards",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject()-s.ExpInstVar()/2-3,r.ExpObject()-o.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()-256*n()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject()+s.ExpInstVar()/2+3,r.ExpObject()-o.ExpInstVar())},()=>"floatingDown",()=>"NPCs floating in place",()=>"Rosalina float particles (SMW)",()=>"starmanSparkleDelay",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()+n(s.ExpObject()/2)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(-7,3)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+n(8,16)*Math.cos(tk.toRadians(s.ExpBehavior()+r(150,210)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+n(-5,5)*Math.sin(tk.toRadians(s.ExpBehavior()+r(150,210)))},()=>"Snowpeep leaving behind snowballs",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+8*Math.cos(tk.toRadians(n.ExpBehavior()+180))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+8*Math.sin(tk.toRadians(n.ExpBehavior()+180))},()=>"preventOtherObjectCollisions",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>96*Math.cos(tk.toRadians(t.ExpBehavior()+90*Math.sign(n.GetValue())))},e=>{const t=e._GetNode(0);return()=>256*Math.sin(tk.toRadians(t.ExpBehavior()+180))},()=>"Flower NPCs rooting",()=>"NPC pop-up message",()=>"preventNPCPopupMessages",()=>" Snowball",()=>"Snowball initialize & collision custom action",()=>"startDespawning",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>(64+Math.abs(t(n.ExpObject(),"vectorX")))*-Math.sign(s.ExpObject()-r.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(2*t.ExpBehavior()*20)-Math.abs(n.ExpBehavior()/2)},()=>"Snowball custom actions",()=>"pickUpDelay",()=>"Snowball general events",()=>"Snowball collisions",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>(Math.abs(t.ExpBehavior())<160?Math.abs(n.ExpBehavior()):160)*-Math.sign(s.ExpObject()-r.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>(t.ExpObject()<n.ExpObject()?80:-80)/(1+s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(2*t.ExpBehavior()*20)-n.ExpBehavior()},()=>"snowballToss",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(0===t.ExpInstVar()?1:0,n.ExpBehavior()>0?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>(64+Math.abs(t(n.ExpObject(),1,0)))*-Math.sign(s.ExpObject()-r.ExpObject())},()=>"burn",()=>"snowballMelt",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sign(t.ExpObject())/(1+n.ExpInstVar())*64},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(2*t.ExpBehavior()*36)-n.ExpBehavior()},()=>"Snowball slope rolling",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()+(128-32*Math.abs(n.GetValue()))*s()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()-(128-32*n.GetValue())*s()},()=>"rolling",()=>"Snowball & Chuck extra events",()=>" Soccer Ball",()=>"Soccer Ball initialize",()=>"Soccerball",()=>"Soccer Ball receiving knockback (custom action)",()=>"soccerBallToss",()=>"Soccer Ball collisions: GameObjects",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>1.4*t(n.ExpObject())},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*52)},()=>"Soccer Ball collisions: other Soccer Balls",()=>"SoccerBall_Collision",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpBehavior(),n.ExpBehavior())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7);return()=>tk.toDegrees(tk.angleTo(t(n.ExpObject()),s(r.ExpObject()),o(a.ExpObject()),i(l.ExpObject())))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t(n.ExpObject(),s.ExpBehavior(),r.ExpBehavior(),o.ExpBehavior(),a.ExpBehavior())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Math.cos(tk.toRadians(t.GetValue()))*n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Math.sin(tk.toRadians(t.GetValue()))*n.GetValue()},()=>"doubleBallBounce",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t(n.ExpObject(),s.GetValue(),r.GetValue(),o.GetValue(),a.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Math.cos(tk.toRadians(t.GetValue()-180))*n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Math.sin(tk.toRadians(t.GetValue()-180))*n.GetValue()},()=>"Soccer Ball collisions: Players",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8),c=e._GetNode(9);return()=>Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()))))*o(a.ExpObject(),i.ExpBehavior(),l.ExpBehavior(),d.ExpBehavior(),c.ExpBehavior())},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*160)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()))))*o.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()))))*o.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Math.abs(t(n.ExpObject(),1,0))*-Math.sign(s.ExpObject()-r.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>-Math.sqrt(2*t.ExpBehavior()*84)-n(s.ExpBehavior()/2,0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>(32+Math.abs(1.4*t(n.ExpObject(),1,0)))*-Math.sign(s.ExpObject()-r.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7);return()=>-Math.sqrt(2*t.ExpBehavior()*(4+Math.abs(n(s.ExpObject(),"vectorX"))/8))-r(o.ExpBehavior()/2,0)- -a(i(l.ExpObject(),1),0)},()=>"Soccer Ball collisions: Power-up projectiles",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()>n.ExpObject()?-96:96},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"lastInteractedWithPlayerID")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()>n.ExpObject()?-160:160},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*80)},()=>"Soccer Ball ground/slope bounces",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sqrt(2*t.ExpBehavior()*(n.ExpInstVar()/3))},()=>"ballBounce",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>tk.toDegrees(tk.angleTo(0,0,t.ExpInstVar(),n.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>.67*Math.sqrt(Math.pow(Math.abs(t.ExpInstVar()),2)+Math.pow(Math.abs(n.ExpInstVar()),2))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>2*t(n.GetValue())-s.GetValue()},e=>{const t=e._GetNode(0);return()=>.8*t.ExpInstVar()},()=>"Soccer Ball horizontal movement",()=>"jumpedThisFrame",()=>"rolledThisFrame",()=>"goingThruCurrent",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpInstVar()-s.ExpInstVar()*r(),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpInstVar()+s.ExpInstVar()*r(),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Math.abs(t.ExpInstVar())*(n(s.ExpObject())?.6:1)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>-Math.abs(t.ExpInstVar())*(n(s.ExpObject())?.6:1)},()=>"Soccer Ball & Chuck extra events",()=>"Soccer Ball destroyer/tossed-boolean toggles & visual events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpObject()+768*s(),100)},()=>"toBallMovingAngle angle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpObject()-768*s(),0)},()=>"paletteUpdateDelay",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_SoccerBall"))},()=>"updateFlame",()=>" Gift",()=>"Gift init, update & knockback custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"_")+n.ExpInstVar()},()=>"Gift preview in-editor",()=>"Gift compatible gift items (return function)",()=>"i1|i2|i3|i4|i5|i6|i7|i9|i10|i11|i12|i13|i15|il1|il2|it1|it2|o1|o43|o5|o5,1|e16|e5,1|e6,1|e7,1|e8,1|e9,1",()=>"i1|i2|i3|i4|i5|i6|i7|i9|i10|i11|i12|i15|il1|il2|it1|it2|o3|o3,1|o3,2|o3,3|o3,4|m3|o1|o2|o5|o5,1|o6|o6,1|o8|o8,1|o10|o10,1|o12|o12,1|o28|o43|o45|e16|e5,1|e6,1|e7,1|e8,1|e9,1|t12",()=>"Gift opening up custom actions",()=>"squashAndStretch",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+1.6},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-1.6},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),0,",")},()=>"o2",()=>"GoalOrb",()=>"o3",()=>"DragonCoin",()=>"PSwitch",e=>{const t=e._GetNode(0).GetVar();return()=>"PSwitchCB-"+t.GetValue()},()=>"ExcSwitch",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Wrap")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue(),"Sticker_")+n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(96,-96)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-144,-288)},()=>"i4",()=>"i5",()=>"i6",()=>"i9",()=>"i11",()=>"Green",()=>"i7",()=>"Penguin",()=>"i12",()=>"Frog",()=>"Aqua",()=>"i10",()=>"Raccoon",()=>"il2",()=>"Moon",()=>"it2",()=>"Steethan",()=>"o5",()=>"Switch1",()=>"Switch2",()=>"Switch3",()=>"o28",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"1"===t(n.ExpInstVar(),1,",")?1:0},()=>"Key2",()=>"Key1",()=>"Bean",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("koopaTroopa",n.GetValue())},()=>"Koopa",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue(),"Gift_")+n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-48,-96)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(48,96)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-32*Math.cos(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-32*Math.sin(tk.toRadians(n.GetValue()))},()=>.35,()=>"defaultBehavior",()=>"Gift collisions",()=>"Other gift events",()=>" Big Bubble",()=>"Big Bubble initialize & pop custom actions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bubble0")},e=>{const t=e._GetNode(0);return()=>0+32*(t.ExpInstVar()>=1?1:0)},()=>"fallingWith8DirectionBackup",()=>"nothing",()=>"o52",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bubble1")},()=>44,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bubble2")},()=>"bubblePop",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("BubblePop")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"BubblePop")},()=>"Big Bubble movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpBehavior()-180)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpBehavior(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject())),1-Math.pow(.25,i.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpBehavior(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject()))-180,1-Math.pow(.25,i.ExpObject()))},()=>"Big Bubble collisions",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>96*Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()))))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>96*Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()))))},()=>"poppedBubbleThisFrame",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>128*Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject()))))-128},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>ek(Qj("right"===t.ExpInstVar_Family()?1:0,n.ExpObject()<s.ExpObject()?1:0),Qj("left"===r.ExpInstVar_Family()?1:0,o.ExpObject()>a.ExpObject()?1:0))},()=>" Target Bubble",()=>"Target Bubble movement",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpBehavior(),tk.toDegrees(tk.angleTo(s.ExpObject(),r.ExpObject(),o.ExpInstVar(),a.ExpInstVar())),1-Math.pow(.25,i.ExpObject()))},()=>"setMovementSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("setMovementSpeed")},()=>"Target Bubble collisions",()=>" Parachutes",()=>"Parachutes initialize",()=>"ignoresSolids",()=>"destroyedByLava",()=>"destroyedByPoison",()=>"frozenByCryo",()=>"affectedByElectricity",()=>"Parachutes general custom actions",()=>"Parachutes activating",()=>"Parachutes player-controlled",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()-14},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject())?64:32},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_spinjump")},()=>"Parachuting sprites moving & landing",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(t.ExpInstVar_Family(),n.ExpInstVar())?s.ExpInstVar()/2:r.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()/(n.ExpInstVar()+1)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>(t.ExpObject()>n.ExpObject()?-32:32)/(s.ExpInstVar()+1)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()-192*n()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()+192*n()},()=>" Arrow Signpost",()=>"Arrow Signpost: return functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(1,n(s(r(o.GetValue()),0,"__")," -- "))},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpObject("1_MainDeco"),"__3__5")},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpObject("1_Grass"),"__3__9")},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpObject("2_Ship"),"__3__0")},()=>" Object Signs",()=>"Object Sign initialize & update function",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Sign"),n.ExpInstVar())},()=>"SignMiddle",()=>"pinToPosWithoutAngle",e=>{const t=e._GetNode(0);return()=>t.ExpObject("SignMiddle")},()=>"?",()=>"question",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue(),"SignIcon_")+n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"!"!==n.GetValue()?1:0),"1"!==s.GetValue()?1:0),""!==r.GetValue()?1:0)},()=>"Object Sign general events",()=>" Grab Block (as object)",()=>"Grab Block custom actions",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject(Qj(Qj(n.GetValue(),"_GrabBlock"),s.ExpInstVar()))},()=>"cyclePalette",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"GrabBlock_"),n.ExpInstVar())},()=>6.5,()=>"startSlowerCycling",()=>"Grab Block general events",()=>"Grab Block thrown events",()=>"Grab Block & object interactions",()=>"Grab Block misc. events",()=>" Flip Panel",()=>"Flip Panel init & net generation",e=>{const t=e._GetNode(0);return()=>.1+t.ExpObject()/400},()=>"Flip Panel flipping",()=>"flipWidth",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()*n.ExpInstVar_Family()},()=>"movePlayerInFrontOrBehindNet",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("FlipPanel_Halfway",t.GetValue())},()=>"flipPanel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("GeneralAction")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-2*(n.ExpObject()-s.ExpObject())},()=>"firstPanelFlip",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()-(n.ExpObject()-s.ExpObject())-4*Math.sign(r.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"ClimbFlip"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"secondPanelFlip",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>80*Math.sign(t.ExpObject()-n.ExpObject())},()=>"Flip Panel animation events (during flip)",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("firstPanelFlip")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("secondPanelFlip")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>100-100*t(n.ExpBehavior("flipWidth"),2)},()=>" Arrow Cloud",()=>"Arrow Cloud initialize",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"ArrowCloud")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Arrow")},()=>"Arrow Cloud functions / custom actions",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_ArrowCloud"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),s.ExpObject().toString(),",")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()+(n.ExpObject()-s(r.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar(),",",0,s.GetValue().toString())},()=>"arrowCloud_redirect",()=>"offsetFromArrowCloud posXY",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+12*Math.cos(tk.toRadians(n.ExpObject()-90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+12*Math.sin(tk.toRadians(n.ExpObject()-90))},()=>"growAndShrink size",()=>"shrinkAndGrow",()=>"TorpedoTed",()=>"redirectedByArrowClouds",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),160)},()=>"extraMomentum",()=>"slowDown",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpInstVar_Family(),"HammerProjectile"===n.ExpObject()?1:0)},()=>"preventClimbing",()=>"preventDirectionalSwimmingMaxSpeedUpdate",e=>{const t=e._GetNode(0);return()=>160*Math.cos(tk.toRadians(t.ExpObject()-90))},e=>{const t=e._GetNode(0);return()=>160*Math.sin(tk.toRadians(t.ExpObject()-90))},()=>314,()=>"preventMovingDown",()=>134,()=>"preventMovingUp",()=>316,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.cos(tk.toRadians(t.ExpObject()-90))*(200/(n.ExpInstVar_Family()+1))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t.ExpInstVar_Family(),1===n.ExpObject(Qj(s.ExpInstVar_Family(),"_jump"))?1:0)?640:1280},()=>285,()=>75,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(2*t.ExpBehavior()*Math.abs(80*Math.sin(tk.toRadians(n.ExpObject()-90))))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.sin(tk.toRadians(t.ExpObject()-90))*(200/(n.ExpInstVar_Family()+1))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(t(n.ExpObject())>90?1:0,s(r.ExpObject())<270?1:0)?"left":"right"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.cos(tk.toRadians(t.ExpObject()-90))*(200/(n.ExpInstVar()+1))},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()?0:.24},()=>"arrowCloud_disappear",()=>"Arrow Cloud object collisions",()=>"Arrow Cloud object filtering",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpInstVar(),r.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar(),",",s.GetValue())},()=>"Arrow Cloud rotations",e=>{const t=e._GetNode(0);return()=>45*t.ExpInstVar()},()=>" Mole Holes (as object)",()=>"Mole Hole initialize",()=>536704,()=>1599608,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(n.GetValue(),s.ExpInstVar_Family()," | ")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Tiles")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Crumbling"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),"Empty_")+(n("montyMole",s.GetValue())?"Mole":"Generic")},()=>"Mole Hole custom actions",()=>"updateMoundVisual",()=>"moundReleaseSprite",()=>"defaultBehavior|queueTerrainCollisions",e=>{const t=e._GetNode(0);return()=>4+2*t.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-6*Math.cos(tk.toRadians(n.ExpObject()+s.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-6*Math.sin(tk.toRadians(n.ExpObject()+s.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>-224*Math.cos(tk.toRadians(t.ExpObject()+n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>-384*Math.sin(tk.toRadians(t.ExpObject()+n.GetValue()))},()=>-68,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpObject(),0)-s(r.ExpObject())},()=>-361.33087330035886,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Jump"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"Empty_Mole",()=>"Mole Hole detecting player & releasing items",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-100*(90!==n.ExpObject()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+100*(270!==n.ExpObject()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>Xj(t.ExpObject(),n(90,180,270))},()=>"[h2]Player[/h2]",()=>"[h4] Player initialization[/h4]",()=>"Init startpoint sprite (in editor)",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("start.p",t.GetValue()+1)+".L"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj("LevelL",t(n.ExpObject(Qj("start.p",s.GetValue()+1)+".L")))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Xj(Kj(t.ExpObject(Qj("start.p",n.GetValue()+1)+".X"),16),8)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Xj(Kj(t.ExpObject(Qj("start.p",n.GetValue()+1)+".Y"),16),17)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>Qj(t.ExpObject(0),n())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Idle"),n.GetValue())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("start.p",n.GetValue()+1)+".L")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("start.p",t.GetValue()+1)+".M"},()=>"Init player (gameplay)",()=>304,()=>338,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("start.p",t.GetValue()+1)+".power"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("start.p",n.GetValue()+1)+".power")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},()=>"[h4] Global player input & movement handling[/h4]",()=>"Handling common walk/run/sprint input",()=>"Player Walk & Run",()=>"checkForIdle",()=>"Reducing run timer (applies to all gamestyles)",()=>"running",()=>"sprinting",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpInstVar_Family()-60*s(),0)},()=>"Running in SMAS SMB1 (no third phase)",()=>"Running in SMW (has extra running phase)",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpInstVar_Family()*n(s.ExpObject())},()=>"Reverting back to walk / idle modes",()=>"Player swimming",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("PlayerHitbox"===t.ExpObject()?1:0,n.ExpInstVar_Family()>0?1:0)},()=>"strongSwimUpwards",()=>"PlayerSwim",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpBehavior()-(96-64*(1===n.ExpObject(Qj(s.ExpInstVar_Family(),"_duck"))?1:0))},()=>"Handling common slide inputs",()=>"PlayerHitbox",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(Qj(Qj("player"===t.ExpInstVar_Family()?1:0,0===n.ExpInstVar_Family()?1:0),4!==s.ExpInstVar_Family()?1:0),"mountedYoshi"===r.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject()-s.ExpInstVar_Family()/2,r.ExpObject()+1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject()+s.ExpInstVar_Family()/2,r.ExpObject()+1)},()=>"[h4] Global player functions / actions[/h4]",()=>"Reset lives & player can get hurt check",()=>"General movement checks",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>ek(t(n.ExpObject()),s(r.ExpObject(),"runningOverWater"))},()=>"Enable or disable movement",()=>"Updating player hitbox height",()=>"[b]Player facing direction (custom actions)[/b]",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Math.sign(t.ExpObject())!==n.GetValue()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"TurnHold"),n.ExpInstVar_Family())+"_",s.ExpInstVar())},()=>"turningWithItem",()=>"[b]Player walking/running general actions & functions[/b]",()=>"walkRightTick",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>1+t(n.ExpObject(),1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n.ExpBehavior()+s.ExpInstVar_Family()*r(),o.ExpInstVar_Family())},()=>"walkLeftTick",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n.ExpBehavior()-s.ExpInstVar_Family()*r(),-o.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()?"walking":"idle"},()=>"[b]Player running-specific actions & functions[/b]",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(0===t.ExpInstVar_Family()?1:0,n.ExpInstVar_Family()+s.ExpInstVar_Family()===2?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(0===t.ExpInstVar_Family()?1:0,n.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_run")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj("right"===t.ExpInstVar_Family()?1:0,0===n(s.ExpObject(),"walkRightTick")?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj("left"===t.ExpInstVar_Family()?1:0,0===n(s.ExpObject(),"walkLeftTick")?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpInstVar_Family()+120*s(),112)},()=>"[b]Player is walking left/right check (functions)[/b]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),1,1)},()=>"[b]Jumping & related functions[/b]",()=>"bounceJumpedThisFrame",()=>"preventUnducking",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8);return()=>ek(ek(t(n.ExpObject()),s(r.ExpObject())),Qj(0===o(a.ExpObject())?1:0,i(l.ExpObject(),d.ExpObject())))},e=>{const t=e._GetNode(0);return()=>.9*t.ExpBehavior()},()=>"retainSpinjumpProperties",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()-16},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(96+Math.abs(n.ExpBehavior()),336)},()=>336,e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()+24},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()+16},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar_Family()+32-16*n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar_Family()+48-16*n.GetValue()},()=>"earlySprintJumpAnim",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>0===t.ExpObject(n.ExpInstVar_Family())?"JumpSmall":"JumpSuper"},()=>"playerJump",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()?"Spin":"Jump"},()=>"jumpingCheckFrameDelay",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()?12:24},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>-Math.sqrt(2*t.ExpBehavior()*n.GetValue())},()=>"lowerjump",e=>{const t=e._GetNode(0).GetVar();return()=>56+32*t.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.GetValue()/(1+n(s.ExpObject()))},e=>{const t=e._GetNode(0);return()=>-512/(t.ExpInstVar_Family()+1)},()=>"spinjumpCooldown",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>-Math.sqrt(2*t.ExpBehavior()*(56+32*n.GetValue()))},()=>"spinjumpFXCooldown",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(t.GetValue()>=2?1:0,"spinBounce"===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Ready")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>640+160*t(n.GetValue())},()=>"[b]Extra landing checks[/b]",()=>"spinjumpLandPeriod",()=>"registerAsFloored",e=>{const t=e._GetNode(0);return()=>Qj("groundStomp_",t.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("GroundStomp")},()=>"rockBlock",()=>"spinjump",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(0===t(n.ExpObject(s.ExpInstVar_Family()))?1:0,r.ExpInstVar_Family())},()=>"statueland",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior()-64*Math.sign(n.ExpObject())},()=>"[b]Swimming & related functions[/b]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(-96,n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Swim"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>tk.lerp(t.ExpBehavior(),128*Math.sign(n.ExpObject()),1-Math.pow(.15,s()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpBehavior()-256*s(),-64)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpBehavior()-80*s(),64)},()=>"[b]Holding item actions & extra events[/b]",()=>"Custom Action: Picking up item",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("iceCube|grabBlock|snowball|galoomba|goombud|koopa|spiny|bobomb|buzzyBeetle|mechakoopa",n.ExpInstVar_Family(),"|")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"UsePowerup"),n.ExpInstVar())+"_5"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Spinjump"),n.ExpInstVar())+"_5_1"},()=>"Holding item animations",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"TurnHold"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),"directionalSwimming")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()-3-n.ExpObject()/s.ExpObject()-2*r.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()/s.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Spinjump"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},()=>"inverted",()=>"back",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(Qj(t.GetValue(),"UsePowerup"),n.ExpInstVar())+"_",3)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(Qj(t.GetValue(),"UsePowerup"),n.ExpInstVar())+"_",5)},()=>"directionalSwimming",()=>"standard",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+Math.round(10.67*Math.sign(n.ExpObject()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()*Math.sign(n.ExpObject())*-1},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-Math.round(10.67*Math.sign(n.ExpObject()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+Math.round(n.ExpObject()/2.5)},()=>"Custom Action: Releasing items",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"hasExtraKickVelocity")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(1===t.ExpObject(Qj(n.ExpInstVar(),"_duck"))?1:0,s.ExpInstVar())},()=>"buzzyBeetle",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>(64+t.ExpBehavior()+96*n.GetValue())/(1+s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>(-64+t.ExpBehavior()-96*n.GetValue())/(1+s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>ek(ek(1===t.ExpObject(Qj(n.ExpInstVar(),"_duck"))?1:0,s.ExpInstVar()),r.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+4*Math.sign(n.ExpObject())},()=>"putDown",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-Math.sqrt(2*t.ExpBehavior()*("heavyStone"!==n.ExpInstVar_Family()?136:68))},()=>"thrownUp",()=>"galoomba",()=>"mechakoopa",()=>"Misc. holding items events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue(),0,1)},()=>"Ducking (& Unducking) related functions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Duck"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>13-4*t(n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-2*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>13-4*t.GetValue()},()=>"YoshiHitbox",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpInstVar_Family()))},()=>"Player climbing functions",()=>"pole",()=>"hang",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2.5},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2.5},()=>"preventPoleClimbingStart",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))+o()+a()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"ClimbPunch")+n.ExpInstVar(),s.ExpInstVar())+"_",r.ExpInstVar())},()=>"punchingFence",()=>"netPunch",()=>"flip",()=>"Extra player animation functions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"UsePowerup"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Flight"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Slide"),n.ExpInstVar())+"_7"},e=>{const t=e._GetNode(0);return()=>Qj("_",t.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Duck"),n.ExpInstVar())+"_",s.GetValue())+r()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())+"_",s.GetValue())+r()},()=>"Ground stomp",()=>"Freezing / Unfreezing player",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("ignore_",t.GetValue())},()=>"Walking to a target (functions)",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()-8},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>16*t.GetValue()+n.ExpObject()},e=>{const t=e._GetNode(0);return()=>Math.round(t.ExpObject())},()=>"bubbleToTarget",()=>"swimDelay",()=>"bubblingToTarget",()=>"bubbleCreate",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Large")},()=>"movePlayerToTarget",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()-8},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpInstVar_Family(),r.ExpInstVar_Family()-8)/128},()=>"targetReached",()=>"walkingToTarget",()=>"goalTape",()=>"doLevelFadeOutWhenReady",()=>"walkingToTargetForFadeout",()=>"fadingOut",()=>"waitingForFade",()=>"Toggling liquid control actions",()=>"Do roofbump check",()=>"roofBump",()=>"Other player helper functions",()=>"Update player hitbox sizes",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-n.GetValue()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+n.GetValue()/2},()=>"Player picking",()=>"Movement helper functions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"UsePowerup"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"Extra Player-Sprite interaction functions",()=>"Turn invisible & intangible",()=>"resumeVisibility",()=>"statueExpireWarning",()=>"leaveStatueForm",()=>"Update player & hazardous liquid-immunity",()=>"[h4] Main player movement (inputs)[/h4]",()=>"Player jump & fall",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(1===t.ExpObject(Qj(n.ExpInstVar(),"_spinjump"))?1:0,2===s.GetValue()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>1===t.ExpObject(Qj(n.ExpInstVar(),"_spinjump"))?1:0},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(1===t.ExpObject(Qj(n.ExpInstVar(),"_jump"))?1:0,1===s.ExpObject(Qj(r.ExpInstVar(),"_spinjump"))?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>2===t.GetValue()&&1===n.ExpObject(Qj(s.ExpInstVar(),"_spinjump"))?1:0},()=>"preventCoyoteJumpTimer",()=>"Player duck / slide",()=>"Player looking up",()=>"Using power-ups",()=>"Using Fire / Ice power",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),"hasFireOrIceBall")},()=>"Transforming into Statue",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpObject(),s.ExpObject(),r.ExpObject(),0,"Top",o.ExpObject(),a.ExpInstVar()-i.ExpObject())},()=>"Using shared Raccoon / Tanooki powers",()=>"Throwing hammers with the Hammer Suit",e=>{const t=e._GetNode(0);return()=>-Math.sign(t.ExpInstVar()-.5)},()=>"Throwing superballs with the Superball Flower",()=>"Using cloud creating power",()=>"Sliding with the Penguin Suit",()=>"slideCancelCooldown",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>.75*t(n.ExpObject(),0,0)},()=>"Running over water with the Frog Suit",()=>"runningOverWater",()=>"Using Bubble power",()=>"Hovering with the Bunny power-up",()=>"Player swimming: 8-directional controls",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar(),"_run")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpInstVar()+512*s(),128)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpInstVar()-512*s(),64)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(-n.ExpInstVar(),s.ExpBehavior()-r.ExpBehavior()*o())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpInstVar(),s.ExpBehavior()+r.ExpBehavior()*o())},()=>"Player picking up, holding & releasing items",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar(),"_holdItem")},e=>{const t=e._GetNode(0);return()=>8*Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0);return()=>4*Math.sign(t.ExpObject())},()=>"Player standard climbing",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue()+1,s.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue()-1,s.GetValue())},e=>{const t=e._GetNode(0);return()=>24*t.ExpInstVar()-64},e=>{const t=e._GetNode(0);return()=>64-24*t.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(),s.GetValue()-8)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>128/t.GetValue()-48/n.GetValue()*s.ExpInstVar()},()=>"turnClimbSprite",()=>"net",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+2},()=>"Player pole climbing",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()-n.ExpObject()+(8-4*s(r.ExpInstVar()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"PoleClimb"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()-n.ExpObject()+(12-4*s(r.ExpInstVar()))},()=>"climbSFX",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Climb",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),18,0)},e=>{const t=e._GetNode(0);return()=>-16+t.ExpBehavior("tweenCamX")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),-18,0)},e=>{const t=e._GetNode(0);return()=>16+t.ExpBehavior("tweenCamX")},e=>{const t=e._GetNode(0);return()=>128-48*t.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>qj(-48,Kj(t.ExpObject(Qj(n.ExpInstVar(),"_left")),24))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Xj(48,Kj(t.ExpObject(Qj(n.ExpInstVar(),"_right")),24))},()=>"Player hang climbing",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),0,12+16*s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+6},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-6},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()-1},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2-4},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2+3},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2+4},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2-3},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Hang"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2+2},()=>"[h4] Global player events[/h4]",()=>"Adjusting speed based on slope & misc other things",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()*(n.ExpInstVar_Family()?.5:.75)},e=>{const t=e._GetNode(0).GetVar();return()=>Math.ceil(t.GetValue())},()=>1.15,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),1))},()=>.85,e=>{const t=e._GetNode(0).GetVar();return()=>Math.floor(t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Math.ceil(t(n.ExpObject(),-1))},()=>"Player sliding",e=>{const t=e._GetNode(0);return()=>1.25*t.ExpBehavior()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>ek(Qj(t.ExpBehavior()<0?1:0,n.GetValue()),Qj(s.ExpBehavior()>0?1:0,r.GetValue()))?64:128},()=>-45,()=>-22.5,()=>-12.25,()=>22.5,()=>12.25,()=>"targetSlidingAngle angle",()=>"offsetY posY",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+Math.abs(n.GetValue())/11.25+1},()=>"slidingThisFrame",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()-n.GetValue()*s()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()+n.GetValue()*s()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Math.abs(t(n.ExpObject(),0,0))*Math.sign(s.ExpObject()-r.ExpObject())},()=>"targetSlidingAngle",()=>"offsetY",()=>"[b]Player deceleration[/b]",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(t.ExpInstVar_Family(),Qj(n(s.ExpObject()),0===r.ExpInstVar_Family()?1:0))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()-80*n()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()+80*n()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpBehavior()-s.ExpInstVar_Family()*r(),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpBehavior()+s.ExpInstVar_Family()*r(),0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_12"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())+"_12"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject())?0:.75*s.ExpBehavior()},()=>"SMW skidding",()=>563,e=>{const t=e._GetNode(0);return()=>Math.sign(t.ExpInstVar_Family())},()=>720,()=>880,()=>1040,()=>"Ceiling jumps",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.floor((t.ExpObject()-n.ExpObject()/2-16)/16)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.floor((t.ExpObject()-n.ExpObject()-16)/16)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.floor((t.ExpObject()-n.ExpObject()/2)/16)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.floor((t.ExpObject()-n.ExpObject()/2+16)/16)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+n.ExpInstVar_Family()*s.GetValue()*r()},()=>"preventVectorStoreUpdates",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+Math.abs(n.ExpInstVar_Family())*s.GetValue()*r()},()=>"Releasing projectiles during spinjump",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpInstVar()%26==4?1:0,n.ExpInstVar()%26==10?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()*Math.sign(n.ExpObject())*(s.ExpInstVar()%26==4?1:-1)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()%26==4?n.ExpObject()>0?"right":"left":s.ExpObject()<0?"right":"left"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()%26==4?n.ExpObject()>0?1:-1:s.ExpObject()<0?1:-1},()=>"Physics accuracy",()=>"uncleared",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?12:225},e=>{const t=e._GetNode(0);return()=>225-197*t.ExpInstVar_Family()},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()?0:512},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(Qj("player"===t.ExpInstVar_Family()?1:0,0===n.ExpInstVar_Family()?1:0),"mountedYoshi"===s.ExpInstVar_Family()?1:0)},()=>"affectedByCurrent",()=>-144,()=>"Handling additional liquid transitions as player",()=>"Walking to a target (main events)",()=>"stuckAtIncorrectY",()=>"preventMirroring",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()-1},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()+1},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()-3},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()+3},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()-40},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()+40},()=>"fadeToBlackAndQuitPlayMode",()=>"Extra walking to target NPC events",()=>"endLevelWhenDialogueCloses",()=>"noNPCDialogue",()=>"targetNPCDestroyed",()=>"Off-screen indicators",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Xj(t("HUDNormalParallax")+16,Kj(qj(15,n.ExpObject("mapScreenHeight")),8))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Player"),n.ExpInstVar())},()=>"[h4] Player animations[/h4]",()=>"Player animation custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))+o()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Kick"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"cloudHat",()=>"Hat",()=>"Main bulk of animation handling",()=>"General player animations",()=>"Run",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),n.GetValue()),s.ExpInstVar())+"_",r.ExpInstVar())+o()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Skid"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t.ExpBehavior()>0?1:0,0===n(s.ExpObject(),"walkRightTick")?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t.ExpBehavior()<0?1:0,0===n(s.ExpObject(),"walkLeftTick")?1:0)},()=>"Walk",()=>"FrogHop",()=>"frogHop",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(1===t.ExpObject(Qj(n.ExpInstVar(),"_left"))?1:0,1===s.ExpObject(Qj(r.ExpInstVar(),"_right"))?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),n.GetValue()),s.ExpInstVar())+"_",r.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),n.GetValue()),s.ExpInstVar())+"_",r.ExpObject(o.ExpInstVar(),0))+a()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.abs(t.ExpBehavior())/12+8*(n.ExpInstVar()+1)},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/24+8},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/12+8},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/6+8},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>Qj(Qj(12===t.ExpInstVar()?1:0,n.ExpObject()===Qj(Qj(s.GetValue(),"Hop"),r.ExpInstVar())+"_12"?1:0),o.ExpObject()<a.ExpObject()-1?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),n.ExpInstVar()?"LookUp":"Idle"),s.ExpInstVar())+"_",r.ExpInstVar())+o()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"RunJump"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Jump"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Fall"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"LiquidDash"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"SwimFloat"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Slide"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Climb")+n.ExpInstVar(),s.ExpInstVar())+"_",r.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"PoleClimb"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Hang"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"LookUp"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},e=>{const t=e._GetNode(0);return()=>Math.round(t.ExpBehavior())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7);return()=>Qj(t.GetValue(),"Swim")+(n.ExpInstVar()?Qj(Qj(s.ExpInstVar(),"_"),r.ExpInstVar())+o():Qj(Qj(a.ExpBehavior()<0?"Up":"Down",i.ExpInstVar())+"_",l.ExpInstVar()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"SwimIdle"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},()=>"Player animations: on-fall & on-landed animation handling",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Jump"),n.ExpInstVar())+"_",3)+s()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Jump"),n.ExpInstVar())+"_",10)+s()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Duck"),n.ExpInstVar())+"_",3)+s()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Duck"),n.ExpInstVar())+"_",10)+s()},()=>"Player animations: skidding",()=>"HandleSkidSound",()=>"Skid",()=>"skid",()=>"Player animations: extra pole climbing animations (SMW-only)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"PoleFlip"),n.ExpInstVar_Family())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"PoleClimb"),n.ExpInstVar_Family())+"_",s.ExpInstVar())},()=>"Player particles: breathing underwater",()=>"createBubbleParticle",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()+6},()=>"[h4] Player Health[/h4]",()=>"Invincibility frame animations (blinking)",()=>"unblink",()=>"Player damaging functions + i-frame animations",()=>"fireFlame",()=>"PipeAndPowerDown",()=>"playerHurt",()=>"Player death handling",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>16*t.GetValue()+n.ExpObject()+16},()=>"preventPitDeath",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Death"),n.ExpInstVar())},()=>"turnDeathSprite",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"star","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"metal","")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("PlayerDown",t.GetValue())},()=>"PlayerDown",()=>-2.5,()=>"fadeOutAfterDeath",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("spawnMapName",n.ExpObject("start.map"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("spawnMap")},()=>"Player ghostlyness",()=>"Ghostness",()=>"[h2]Power-ups[/h2]",()=>"General power-up events",()=>"hasFireOrIceBall",()=>"[h4] Fire / Ice Flower events[/h4]",()=>"Throwing fireball / iceball",()=>"fireOrIceball",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>Qj(Qj("0Walk",t.ExpInstVar())+"_",n.ExpInstVar())+s()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"SwimIdle"),n.ExpInstVar())+"_",s.ExpInstVar())+"_1"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,-14)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Ball")},()=>"Fireball / Iceball element initiation actions",()=>"frost-block",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("IB",t.GetValue())},()=>"magma-block",()=>"Fireball / Iceball bullet behavior functions",()=>"Fireball / Iceball sprite events",()=>"Fireball / Iceball movement",()=>"platform",e=>{const t=e._GetNode(0);return()=>-1*t.ExpBehavior()},()=>"newSpeed",()=>"fireballBurnout",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("newSpeed")},()=>"Fireball / Iceball particles",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(-3,3)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()-n.ExpObject()/2+s(-3,3)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FireballDust")},()=>"riseUp",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-n(2,4)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"IceballDust")},()=>"randomPos",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+n(-2,2)},()=>"Enemy fireball / iceball handling",()=>"Misc. fireball / iceball collisions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),n.ExpInstVar())+"Spark"},()=>"[h4] Raccoon / Tanooki / Bunny events[/h4]",()=>"Raccoon / Tanooki: Tailspin",e=>{const t=e._GetNode(0);return()=>t.ExpObject("TailHitbox")},()=>"tailWag",()=>"Raccoon / Tanooki / Bunny: Hover",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>t.GetValue()/4*(1+ek(n.ExpInstVar(),s.ExpInstVar()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"Jump"),n.ExpInstVar())+"_",s.ExpInstVar())+r.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Hover"),n.ExpInstVar())+"_",s.ExpInstVar())+"_0"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Hover"),n.ExpInstVar())+"_",s.ExpInstVar())+"_4"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())+"_",s.ExpInstVar())+r.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Hover"),n.ExpInstVar())+"_",s.ExpInstVar())+"_3"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_",s.ExpInstVar())+r.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(Qj(t.GetValue(),"Hover"),n.ExpInstVar())+"_",s.ExpInstVar())+"_",r.ExpObject()%3+1)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"Slide"),n.ExpInstVar())+"_",s.ExpInstVar())+r.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"RunJump"),n.ExpInstVar())+"_",s.ExpInstVar())+r.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"Fall"),n.ExpInstVar())+"_",s.ExpInstVar())+r.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"Duck"),n.ExpInstVar())+"_",s.ExpInstVar())+r.GetValue()},()=>"slidingDownPole",()=>"Raccoon / Tanooki: P-Meter main events",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(3===t.ExpInstVar()?1:0,10===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0);return()=>Math.floor(t.ExpInstVar()/16)},()=>"decreasePMeter",()=>"playPMeterChargedSFX",()=>"PMeter",()=>"pMeter",()=>"increasePMeter",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>0===t(n.ExpObject())?1:0},()=>.24,()=>"Raccoon / Tanooki: Flight",()=>"flightPeriod",()=>"tailFlight",()=>"flying",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Flight"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Jump"),n.ExpInstVar())+"_",s.ExpInstVar())+"_1"},()=>"Tanooki Suit: statue events",()=>"Transforming into statue form",()=>"statueExpire",()=>"PowerUpRaccoon",()=>"statueCreate",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Statue"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(Math.round(n(s.ExpObject()-1)-Math.floor(r(4))),0)},()=>"statuePoofVisible",()=>.36,()=>"statueExpirePrevention",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"StatueOrb")},()=>"End statue form",()=>"toggleVisibilityDelay",()=>"Tanooki Statue: extra events during transformation",()=>"statueLand",e=>{const t=e._GetNode(0);return()=>Qj("2Statue",t.ExpInstVar())},()=>"statueSparkleDelay",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()+6,s.ExpObject()-6)},()=>"[h4] Hammer Suit events[/h4]",()=>"Throwing hammers (custom action)",()=>"HammerThrow",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>1===t.ExpObject(Qj(n.ExpInstVar(),"_lookUp"))?-312:-240},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>64*t.GetValue()+(Math.sign(n.ExpBehavior())===s.GetValue()?r.ExpBehavior():0)},e=>{const t=e._GetNode(0);return()=>64*Math.sign(t.ExpBehavior())},()=>"Player hammer collisions",()=>"Player hammer despawn",()=>"Misc. Hammer Projectile events",()=>"[h4] Superball Flower[/h4]",()=>"Throwing Superballs",()=>"SuperBallThrow",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_SuperBall")},()=>"startFading",()=>"despawnSuperBall",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>0===t.ExpInstVar()?1===n.ExpObject(Qj(s.ExpInstVar(),"_lookUp"))?-45:45:1===r.ExpObject(Qj(o.ExpInstVar(),"_lookUp"))?-135:135},()=>"Superball sprite collisions",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>ek(t.ExpInstVar_Family(),n("freezeFlame | fireFlame | fallingFlame | bw_flame | kb_flame | fallingGhostFlame | spikeBall | floatingMine | grinder | amp",s.ExpInstVar_Family()," | "))},()=>"rockyWrench",()=>"Superball terrain collisions",e=>{const t=e._GetNode(0);return()=>192*Math.cos(tk.toRadians(t.ExpInstVar()))},e=>{const t=e._GetNode(0);return()=>192*Math.sin(tk.toRadians(t.ExpInstVar()))},()=>"superBallBounce",()=>"Superball Trail",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue().toString()},()=>"Superball Despawn",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>ek(t.ExpObject()<0?1:0,n.ExpObject()>16*s.GetValue()+r.ExpObject()?1:0)},()=>"[h4] Cloud Flower events[/h4]",()=>"Create Cloud Buddy platform",()=>"cloudCreate",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/5},()=>"toImageSize size",e=>{const t=e._GetNode(0);return()=>8*Math.round(t.ExpObject()/8)},e=>{const t=e._GetNode(0);return()=>16*Math.round((t.ExpObject()+8)/16)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod();return()=>0===t.ExpInstVar()?Qj(Qj(Qj(n.GetValue(),"UsePowerup"),s.ExpInstVar())+"_",r.ExpInstVar()):Qj(Qj(Qj(o.GetValue(),"Spinjump"),a.ExpInstVar())+"_",i.ExpInstVar())+l()},()=>35,()=>"-4,0,4",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()+n(s.ExpObject())},e=>{const t=e._GetNode(0);return()=>0+.33*t.ExpObject()},()=>"Initialize Cloud Buddy Platform",()=>"startDespawn",()=>"Face",()=>"Cloud Buddy Platform despawning",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Despawning")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()<=1?Qj(n.GetValue(),"CloudPoof"):"Poof"},()=>"Creating & Updating Cloud Buddies",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Inactive")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()<=1?Qj(n.GetValue(),"CloudPoof"):"ShortPoof"},()=>"Cloud availability queue",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(t(n.ExpObject()),s.ExpInstVar())},()=>"Remove Cloud Buddies",e=>{const t=e._GetNode(0);return()=>.075*(t.ExpInstVar()+1)},()=>"[h4] Penguin / Frog Suit events[/h4]",()=>"Penguin / Frog Suit: enabling, disabling & checking 8-directional swimming",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t.ExpInstVar(),n(s.ExpInstVar(),"directionalSwimming"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>ek(t(n.ExpObject()),0===s(r.ExpInstVar(),"directionalSwimming")?1:0)},()=>"Penguin Suit functions",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(7===t.ExpInstVar()?1:0,"sliding"===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>64*Math.sign(t.ExpObject()-n.ExpObject())+s(r.ExpObject(),1,0)},()=>"bellySlideCancel",()=>"Penguin Suit: extra sliding events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>ek(t(n.ExpObject()),s(r.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpBehavior(),0)},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()+.5},()=>"Frog Suit: can hop check (function)",()=>"Frog Suit: stop on land / running on water",()=>"[h4] Bubble Flower events[/h4]",()=>"Blowing bubble",()=>"blowBubble",()=>"preventPoppingByPlayer",()=>"extraMomentum posX",e=>{const t=e._GetNode(0).GetVar();return()=>0+180*(t.GetValue()<0?1:0)},e=>{const t=e._GetNode(0);return()=>1.33*Math.abs(t.ExpBehavior())+32},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpBehavior())/2+32},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Small")},()=>"Blowing bubble cooldowns",()=>"bubbleCooldown",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>ek(ek(ek(t.ExpInstVar(),n.ExpInstVar()),s(r.ExpObject())),1===o(a.ExpObject())?1:0)},()=>"Player Bubble movement",()=>"Player Bubble collisions",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s(r.ExpObject()),o(a.ExpObject()))},()=>"enclosing",()=>"enclosingInPlayerBubble",()=>"toObjectPos",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar_Family()/2},()=>"objectPoof",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Poof")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+16*Math.cos(tk.toRadians(n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+16*Math.sin(tk.toRadians(n.GetValue()))},()=>"Player Bubble despawning",()=>"Power-up Movement",()=>"Mushroom movement",()=>"Starman movement & color tweens",()=>"color1",()=>"color2",e=>{const t=e._GetNode(0);return()=>Math.sqrt(2*t.ExpBehavior()*42)},()=>"Super Leaf custom actions & movement",()=>"statueLeaf",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Container"),n.ExpInstVar())},()=>"glideDownwards",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+19},()=>"glideRight",()=>"glideLeft",()=>"glideUpwards",()=>"Penguin Suit movement & initialize",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Penguin")},()=>"Frog Suit movement",()=>"Bubble Flower & bubble events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"WakeUp")},()=>"Circular",()=>"marioCollisionChecker",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>32*t()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),0,1-Math.pow(.25,s.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),180,1-Math.pow(.25,s.ExpObject()))},()=>"Collecting / Setting Power-ups",()=>1e3,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"ReserveBox")},e=>{const t=e._GetNode(0);return()=>Qj("i",t.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("13,13,14",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("0,0,5",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("25,25,22",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("12,12,9",s.GetValue(),","))},()=>"powerUpTransitioning",()=>"startShrinking",()=>"superToMiddleTransition",()=>"smallToMiddleTransition",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,12)},()=>"regularTransition",()=>"appearAfterPoof",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(t(n.ExpObject(),0,"_")+"_",s.ExpInstVar())+r()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("PowerUpRaccoon")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(3===t.GetValue()?1:0,10===n.GetValue()?1:0)},()=>"Title Screen",()=>"changeTransitionFrame1",()=>"changeTransitionFrame2",()=>"middleToSuperTransition",()=>"superToSmallTransition",()=>"middleToSmallTransition",()=>.04,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t(n.ExpObject(),0,"_")+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"SwimFloat"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar()))+o()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Ride"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar()))},()=>"Collecting live increasers",()=>"ScoreBonus",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("ScoreBonus")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_3UP")},()=>3e4,()=>"Starman events",()=>"endStarman",()=>"StarTimer",()=>"starmanMusicIsPlaying",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("star")},()=>"starmanColor1",()=>"starmanHSL",()=>"starmanOutline",()=>"ReplaceOutlineColor",()=>"starmanColor2",()=>"starmanRunningOut",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("endStarman")-n.ExpBehavior("endStarman")},()=>8454016,()=>"updateStarHSLDelay",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("starmanHSL")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6);return()=>t(n(s.ExpBehavior("starmanRunningOut")),r(o.ExpBehavior("starmanRunningOut")),a(i.ExpBehavior("starmanRunningOut")))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>.05+.2*(t.ExpBehavior("endStarman")-n.ExpBehavior("endStarman")<=3?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+n(-s.ExpInstVar_Family(),r.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()-n(s.ExpInstVar_Family())},()=>"Steethan / Metallic powers events",()=>"Steethan particles & blinking",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.3,6)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Blink")},()=>"Becoming / Leaving Metal Powers",()=>"endMetal",()=>"SteethanTimer",()=>"metalMusicIsPlaying",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("metal")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Swerve")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>40*Math.sign(t.ExpObject()-n.ExpObject())},()=>"General Metal Powers events",()=>"metalRicochetParticleDelay",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpBehavior()>=96?1:0,"meteor"===n.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0);return()=>Qj("MetalRicochet_",t.ExpObject())},()=>"Metal effects",()=>"Grayscale",()=>"MetalGamma",()=>"MetalDarkener",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>tk.lerp(t.ExpObject(),n.ExpObject(),1-Math.pow(.05,s()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>tk.lerp(t.ExpObject(),n.ExpObject()-(Math.abs(s.ExpObject()-r.ExpObject())>21?6:26),1-Math.pow(.05,o()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpObject()+6*Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpInstVar(),o.ExpInstVar()))))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpObject()+6*Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpInstVar(),o.ExpInstVar()))))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpObject()+4*Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpInstVar(),o.ExpInstVar()))))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpObject()+4*Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpInstVar(),o.ExpInstVar()))))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>960*t()},()=>"flickerMetalOn",()=>"flickerMetalOff",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("endMetal")-n.ExpBehavior("endMetal")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("endMetal")-n.ExpBehavior("endMetal")>1?.1:.03},()=>"Charged Metal players collision handling",()=>"sparkie",()=>"hothead",()=>"Power-up collisions with other sprites",e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*60)},()=>"P-Meter HUD",()=>"PMeterContainer",()=>"moveOutOfScreen",()=>"moveIntoScreen",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("PMeter",t.GetValue())},()=>488,e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject()+8*(1===n.GetValue()?1:0)+12*(2===s.GetValue()?1:0)+8*r.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("PArrow",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("PCharge",t.GetValue())},()=>408,e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(t.ExpInstVar()===n.ExpInstVar()-1?1:0,s.ExpInstVar())},()=>"Misc Power-up functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t("toolbar.sprite-tooltips."+n("super-mushroom|fire-flower|super-leaf|hammer-suit|cloud-flower|ice-flower|penguin-suit|carrot|tanooki-suit|superball-flower|frog-suit|small-fire-flower|bubble-flower",s.GetValue(),"|"))+"|"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t("toolbar.sprite-tooltips."+n("super-mushroom|fire-flower|super-leaf|hammer-flower|cloud-flower|ice-flower|penguin-suit|carrot|statue-leaf|superball-flower|frog-suit|bubble-flower",s.GetValue(),"|"))+"|"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s(r.GetValue())-1)},()=>"[h2]Technical objects[/h2]",()=>"Persistent Area Tile",()=>"Area Object Loader (L-tile)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject(),a.ExpObject(),i.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8);return()=>t(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject(),a(i.ExpObject()),l(d.ExpObject()))},()=>"Tag Tile",()=>"Invisible sprite spawner",()=>"Invisible sprite spawner initialize",()=>"whenLoaded",()=>"isOnScreen",()=>"isInCustomRange",()=>"Invisible sprite spawner activation / de-activation",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()-s.ExpInstVar()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpInstVar()+s.ExpInstVar()/2},()=>"spawnSprite",()=>"startSpawningCycle",()=>"Invisible sprite spawner can spawn check (function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t(n.ExpObject(Qj("Front",s.GetValue())),r.ExpObject(Qj("Front",o.GetValue())),a.GetValue()-1,16,0)},()=>"Invisible Sprite Spawner spawning sprite",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()%2?n.ExpObject():s.ExpObject()},()=>"comingOutOfSpawner",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue()/32,1)},()=>"Current generator",()=>"GameObjects: check for currents (custom action)",()=>"Init current generator",()=>"pull",e=>{const t=e._GetNode(0).GetVar();return()=>-.5*t.GetValue()+8},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/16},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()/1024},e=>{const t=e._GetNode(0);return()=>.25-.1*t.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()/(1e3*n.ExpInstVar())},()=>"Triangle",()=>"Current Generator: update strength vectors",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpInstVar()*Math.cos(tk.toRadians(n.GetValue()-90))*s.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpInstVar()*Math.sin(tk.toRadians(n.GetValue()-90))*s.ExpInstVar()},()=>"Current stream particles",()=>"preventParticles",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(.03,n.ExpInstVar())},()=>"Bubble",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/16},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject(s.GetValue()+"Left"),r.ExpObject(o.GetValue()+"Right"))},()=>"push",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpObject("TopLeft"),s.ExpObject("TopRight"))+r(-6,6)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(.5*n.ExpInstVar(),s.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpObject("BottomLeft"),s.ExpObject("BottomRight"))+r(-6,6)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject("Bottom")+n(-6,6)},()=>"Current push / pull custom action",()=>"Current Generator: Water checks",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("Bottom")+2*Math.cos(tk.toRadians(s.ExpObject()-90)),r.ExpObject("Bottom")+2*Math.sin(tk.toRadians(o.ExpObject()-90)))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("Top")+2*Math.cos(tk.toRadians(s.ExpObject()-90)),r.ExpObject("Top")+2*Math.sin(tk.toRadians(o.ExpObject()-90)))},()=>"Handling platform influencer tile overlaps",()=>"Direction Tile",()=>"enablePlatformBehavior",()=>"changePlatformAngleOfMovement",()=>"platformSpeed",()=>"decelerate slowdownFromDirectionTile platformSpeed",()=>"slowdownFromDirectionTile",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("slowdownFromDirectionTile")},()=>"accelerate speedUpFromArrowTile platformSpeed",()=>"Speed Changer Tile",()=>"settingSpeedChangerTileSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("settingSpeedChangerTileSpeed")},()=>"Platform Action Tile",e=>{const t=e._GetNode(0);return()=>Qj("performPlatformAction_",t.ExpInstVar())},()=>"Tag Changer Tile",()=>"[h2]General sprite events[/h2]",()=>"Loading in & despawning",()=>"Activating / Respawning sprites",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6),l=e._GetNode(7).GetVar();return()=>ek(ek(ek(t.ExpObject()<n.GetValue()?1:0,s.ExpObject()>r.GetValue()?1:0),o.ExpObject()<a.GetValue()?1:0),i.ExpObject()>l.GetValue()?1:0)},()=>"autoActivateSprite",()=>"Despawning",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-208},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+208},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-296},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+296},()=>"e60",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+240},()=>"Poofing away GameObjects (custom action)",()=>"poofingAwayThisFrame",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family(),"fishbone")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family(),"goonie")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>-1===t(n.ExpInstVar_Family(),"skeleton")?"BubblePop":"BoneCollapse"},()=>"fakeBlock",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Mechakoopa")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar()/3},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-40,-80)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(-96,-144)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(40,80)},e=>{const t=e._GetNode(0);return()=>10-3*t.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()-Math.cos(tk.toRadians(n.ExpObject()+180*(s.ExpObject()<0?1:0)))*(r.ExpInstVar()/2)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()-Math.sin(tk.toRadians(n.ExpObject()+180*(s.ExpObject()<0?1:0)))*(r.ExpInstVar()/2)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Fishbone"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>-48*Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>-t(64)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>Kj(t(24,32),n(1,-1))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+Math.cos(tk.toRadians(n.ExpObject()))*(s.ExpInstVar()/2)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+Math.sin(tk.toRadians(n.ExpObject()))*(s.ExpInstVar()/2)},e=>{const t=e._GetNode(0);return()=>48*Math.sign(t.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Fishbone1")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"GoonieFeather")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"GoonieBone")},()=>"Sprite Activation Assist creation (function)",()=>"Enemy health",()=>"Defeat / Stun enemies (function)",()=>"flipEnemy",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"LookAround")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Defeated")},()=>"destroyInstantly",()=>"burnAway",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FireSpark")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-2*n.ExpInstVar_Family()},()=>107,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/2},()=>"Fire / Iceball collisions",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()?0:n.ExpBehavior()/2},()=>"Sprites exploding (function)",e=>{const t=e._GetNode(0).GetVar();return()=>.8+.4*(2===t.GetValue()?1:0)},()=>"Ground Stomp Poof collisions",e=>{const t=e._GetNode(0);return()=>32*Math.sign(t.ExpObject())},()=>"Combos",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("100,200,400,800,1000,2000,4000,8000",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.GetValue()-8+1<=n.GetValue()?s.GetValue()-8+1:r.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>1e4*(t.GetValue()-8+1<=n.GetValue()?s.GetValue()-8+1:r.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.GetValue()-20*n(s.GetValue().toString())+40*r.GetValue()+20},()=>"10000",()=>"stompMaxPoints",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-24},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.GetValue()-16*n(s.GetValue().toString())+32*r.GetValue()+16},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+24},()=>"Mushroom2",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>"EnemyDefeat"===t.GetValue()?1+n.ExpInstVar_Family()/8:1},()=>"Flipping certain enemies over",()=>"enemyDefeat",()=>"Crushing",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()%2},()=>"solidOverlapDeathGracePeriod",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(),s.ExpObject()-r.ExpInstVar_Family())},()=>"Frozen sprites",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>ek("cryo"===t.GetValue()?1:0,0===n.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject("SpriteSpot")-(n(s.ExpObject(),0)-r.ExpObject())},()=>"auto",()=>"small",()=>"large",()=>"tall",()=>"long",()=>"frozen",()=>"fireball",()=>" [b]Lava & Poison interactions[/b]",()=>"defeatedByLava",()=>"enemyBurn",()=>" [b]Cryo interactions[/b]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("thwomp,superThwomp,thwimp,grinder,floatingMine,spikeBall,bigBertha,porcupuffer,spikeBass,cheepChomp,amp,bully,bigBully,chillBully,bigChillBully,snailicorn",n.ExpInstVar_Family(),",")},e=>{const t=e._GetNode(0);return()=>Math.floor((t.ExpObject()-16)/16)},e=>{const t=e._GetNode(0);return()=>Math.floor(t.ExpObject()/16)},e=>{const t=e._GetNode(0);return()=>Math.floor((t.ExpObject()+16)/16)},e=>{const t=e._GetNode(0);return()=>Qj("iceCube_",t.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PlayerShine")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FrostDeath")},()=>" [b]Electricity:[/b] Tilemap + Sprite interactions",()=>"electricity",()=>" [b]Electricity:[/b] GameObject custom actions",()=>"dontFlashElectricCharge",()=>"removeElectricCharge",()=>"electricCharge",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>4*t.ExpInstVar()+8*n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+8+16*n.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("wavy",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-8*Math.cos(tk.toRadians(n.ExpObject()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-8*Math.sin(tk.toRadians(n.ExpObject()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+8*Math.cos(tk.toRadians(n.ExpObject()+90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+8*Math.sin(tk.toRadians(n.ExpObject()+90))},()=>"general",()=>" [b]Electricity:[/b] Misc. Electrifiable sprites electricity conducting",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("ElectricPoint",t.GetValue())},()=>" [b]Ice physics[/b]",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(ek(t.ExpObject(),n.ExpObject()),s.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()-144*n()},()=>"isOnIcySlope",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()+144*n()},()=>"snailicorn",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+.1},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+1+n.GetValue()%2},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-n.ExpInstVar_Family()/2+s.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.ExpInstVar_Family()/2-s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar();return()=>t(n.ExpObject(),s.ExpObject(r.ExpObject(o.GetValue()),a.ExpObject(i.GetValue())),l.GetValue(),1)},()=>"Slope",()=>" Snow physics",()=>" [b]Water checks & physics[/b]",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()+384*n()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"statueForm")},()=>"enableWhenSubmerged",()=>"waterAudioIsMuffled",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>tk.clamp(t(n.GetValue()),1,16*s.GetValue()-1)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>tk.clamp(t.ExpObject(),1,16*n.GetValue()-1)},()=>"Environmental movement speed",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpInstVar_Family()*(n.ExpInstVar_Family()/s.GetValue())},()=>"GameObject deceleration",()=>" [b]Wind & Currents:[/b] is GameObject compatible (return function)",()=>"insertedKey",()=>" [b]Wind & Currents:[/b] Sprites being pushed/pulled",e=>{const t=e._GetNode(0).GetVar();return()=>2*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/4},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/1.25},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar_Family()*-Math.sign(n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()*-Math.sign(n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpObject(),1,0)+s.GetValue()*r()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpBehavior()*-Math.sign(n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>ek(ek(t(n.ExpObject()),s.ExpInstVar_Family()),0===r(o.ExpObject(),"platformEnabled")?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()+n.ExpInstVar_Family()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()+n.ExpInstVar_Family()*s()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()-n.ExpInstVar_Family()*s()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(0===t.ExpBehavior()?1:0,0===n.ExpBehavior()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"platformEnabled")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpBehavior()+n.ExpBehavior()*s()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior()+n.ExpBehavior()},e=>{const t=e._GetNode(0);return()=>-t.ExpBehavior()/4},()=>"Cliff detection",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetVar();return()=>"left"===t.GetValue()?-1:1},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.ExpInstVar_Family()/2*s.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject()+n.ExpInstVar_Family()/2*s.GetValue()+r.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.ExpInstVar_Family()/2*-s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject(),s.ExpObject(Math.floor(r.ExpBehavior()/16),Math.floor(o.ExpBehavior()/16)),0,0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.ExpInstVar_Family()/3*s.GetValue()},()=>"Slope detection",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+-.5*Math.abs(n.ExpInstVar_Family())+s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5),i=e._GetNode(6).GetVar();return()=>t(n.ExpObject(),s.ExpObject(r.ExpObject(o.GetValue()),a.ExpObject(i.GetValue())),0,0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t.GetValue()<0?n(s.ExpObject()):r(o.ExpObject())},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpInstVar())-9},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5),i=e._GetNode(6).GetVar();return()=>Math.abs(t(n.ExpObject(),s.ExpObject(r.ExpObject(o.GetValue()),a.ExpObject(i.GetValue())),0,0))-9},()=>337.5,()=>348.75,()=>292.5,()=>11.25,()=>67.5,()=>"Steep slope sliding",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-(32+64*("player"===t.ExpInstVar_Family()?1:0))*Math.sign(n.ExpObject())},()=>"isOnSteepSlope",()=>"Objects being tossed",e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>-1*Math.abs(t.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>tk.clamp(t.ExpBehavior(),-64,64)},()=>" Explosions",()=>"endExplosion",()=>"explosion",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(Qj(t.GetValue(),n("Yellow","Green","Red")),"Firework")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar()/2)%4},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.ExpObject()+s.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5),i=e._GetNode(6);return()=>t.GetValue()<n.ExpObject()?s.ExpObject(r.ExpObject()+o.GetValue()):a.ExpObject(i.ExpObject())},()=>"Stackables",e=>{const t=e._GetNode(0);return()=>1*t.ExpObject()},()=>"Sprites following sprites",()=>"Containers dropping items (function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"dontInstaCollect","|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"dontCopyPersistenceData","|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"syncSpriteWidth","|")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(t.ExpObject()>0?180:0)+n.ExpObject()},()=>"blockObj",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"defaultBehavior","|")},()=>"temporallyPowerUp",()=>"lifeIncreaser",()=>"hazards",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"wrapIntoBubble","|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"dropLooseObjects","|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"queueTerrainCollisions","|")},()=>"Containers creating Sprite Activation Assists",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()<n.ExpObject()?s.ExpObject():r.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>(t.ExpObject()>n.ExpObject()?s.ExpObject():r.ExpObject())-o.ExpObject()},()=>" More sprite events",()=>"Objects floating in water",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"liquids")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpBehavior()+32*n()},()=>"liquids",()=>"Objects floating in cryo",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"cryo")},()=>"sinkingOrRising",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()/10},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+n.ExpInstVar_Family()*s()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>16*t()},()=>"atSurface",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>64*t()},()=>"notInCryo",()=>"Collision attaching support events",()=>"Queue terrain collision enabling",()=>"Objects respawning on defeat",()=>"respawnSprite",()=>"containerData.1",()=>"extraValues",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("extraValues"),",",2,"0","")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-240},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+240},e=>{const t=e._GetNode(0);return()=>t.ExpObject("objectID")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("visualID")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("angle")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("extraValues")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("tags")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("containerData")},()=>"Sprite Spawners restocking & misc 'on destroyed' events",()=>" Sprite helper functions",()=>"General sprite helper functions",()=>"defeatedByDestroyEnemyFunction",()=>"Turning sprites around",e=>{const t=e._GetNode(0);return()=>-Math.abs(t.ExpInstVar_Family())},()=>"heftyGoonie",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()>0?-Math.abs(n.ExpBehavior()):Math.abs(s.ExpBehavior())},()=>"dryBones",()=>"bonyBeetle",()=>"stretch",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar())-180},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(),s.ExpObject(),r.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()>=n.ExpObject()?"left":"right"},()=>"Position-setting helper functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(),0)+s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject())+s.GetValue()},()=>"Updating hitbox variables",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar_Family()/2+n.GetValue()},()=>"Sprite animation helper functions",()=>"Sprite visual updates",()=>"GameObject data obtaining functions",()=>"platformEnabled",()=>"Y",()=>"vectorX",()=>"vectorY",()=>"lastVectorX",()=>"lastVectorY",()=>"tossed",()=>"submerged",()=>"electricallyCharged",()=>"lastInteractedWithPlayerID",()=>"statueForm",()=>"metallic",()=>"paletteID",()=>"movingLinearly",()=>"hasExtraKickVelocity",()=>"destroysOnToss",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>ek("enemies"===t.ExpInstVar_Family()?1:0,n(s.GetValue(),r.ExpInstVar_Family(),","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t.ExpBehavior(n.GetValue())-s.ExpBehavior(r.GetValue())},()=>"GameObject get hitbox coordinates",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()-n.ExpInstVar_Family()/2-(s.ExpObject()-r.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6);return()=>t.GetValue()?n.ExpObject()-s.ExpInstVar_Family()/2-r.ExpObject()-o.ExpInstVar_Family():a.ExpObject()-i.ExpInstVar_Family()/2},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.GetValue()?n.ExpObject()-s.ExpObject()-r.ExpInstVar_Family():o.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("fishbone"===t.ExpInstVar_Family()?1:0,"stretch"===n.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()-n.ExpInstVar_Family()-(s.ExpObject()-r.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-(n.ExpObject()-s.ExpInstVar_Family())-1},e=>{const t=e._GetNode(0);return()=>"stretch"===t.ExpInstVar_Family()?1:0},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+n.ExpInstVar_Family()/2-(s.ExpObject()-r.ExpInstVar_Family())-1},()=>"Get ReplaceColor effect count",()=>"blargg",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>ek("lava"===t(n.GetValue(),1,"|")?1:0,"cryo"===s(r.GetValue(),1,"|")?1:0)},()=>"Collision (with environment) helper functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar_Family(),s.ExpInstVar_Family())},()=>"oppositeAngle",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.GetValue(),n.GetValue(),s.ExpObject(),r.ExpObject())},()=>"chain",()=>"tileEnemies",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family()," ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar_Family(),s.GetValue()," ")},()=>"Assist object creation",()=>"gatePole",()=>"WaterChecker",()=>"Overlap Checker Assist functions",()=>"InvisibleDestroyer functions",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>ek(0===t.ExpInstVar_Family()?1:0,Qj(n.ExpInstVar_Family(),s(r.ExpObject(),"electricallyCharged")))},e=>{const t=e._GetNode(0);return()=>-Math.sqrt(2*t.ExpBehavior()*92)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpBehavior()*Math.sign(n.ExpObject()-s.ExpObject())},()=>"Disable & Re-enable movement behaviors",()=>"Physics helper functions",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(ek(t.ExpInstVar_Family(),"skullRaft"===n.ExpInstVar_Family()?1:0),"floatingPlatform"===s.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>ek(0===t.ExpInstVar_Family()?1:0,n(s.ExpObject(),"statueForm"))},e=>{const t=e._GetNode(0);return()=>1.25*t.ExpInstVar_Family()},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()/6},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()/2},e=>{const t=e._GetNode(0);return()=>Math.round(t.ExpInstVar_Family()/1.66)},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()/10},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),0,1)},()=>"resizingVertically",()=>"destroyOnFall",()=>-768,e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject("Middle")+Math.cos(tk.toRadians(n.ExpBehavior()-45*Math.sign(s.ExpObject())))*(r.ExpInstVar_Family()+2)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject("Middle")+Math.sin(tk.toRadians(n.ExpBehavior()-45*Math.sign(s.ExpObject())))*(r.ExpInstVar_Family()+2)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8),c=e._GetNode(9),u=e._GetNode(10);return()=>t(n.ExpObject(),s.ExpObject("Middle")+Math.cos(tk.toRadians(r.ExpBehavior()-45*Math.sign(o.ExpObject())))*(a.ExpInstVar_Family()+2),i.ExpObject("Middle")+Math.sin(tk.toRadians(l.ExpBehavior()-45*Math.sign(d.ExpObject())))*(c.ExpInstVar_Family()+2),u.ExpBehavior())},()=>"Vector setting/obtaining for all movement behaviors",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>t.GetValue()/(n.ExpInstVar()-s.ExpInstVar())},()=>"paraBeetle",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpInstVar_Family()/(n.ExpInstVar_Family()+1)*-Math.sign(s.ExpObject())-r.ExpBehavior()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),1,0)},()=>"Launching newly created GameObjects",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>-Math.sqrt(2*t.ExpBehavior()*-n.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>"right"===t.ExpInstVar()?n.ExpInstVar():-s.ExpInstVar()},()=>"bigBubble",()=>"Objects bouncing",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()*-n.ExpInstVar_Family()},()=>"floatingMine",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>ek(t(n.GetValue(),0,1),s(r.GetValue(),0,-1))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>ek(t(n.GetValue(),1,0),s(r.GetValue(),-1,0))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Math.sqrt(Math.pow(t.GetValue(),2)+Math.pow(n.GetValue(),2))},()=>"Objects rolling (MomentumObjects)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>(128-32*Math.abs(t.GetValue()))*(n()/(s.ExpInstVar_Family()+1))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>(128-32*t.GetValue())*(n()/(s.ExpInstVar_Family()+1))},()=>"Unattaching from objects",()=>"invReleaseOpacityCycle",()=>"Lookup & returning linked objects",()=>"helper",()=>"Handle common after-defeat collisions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"preventDefaultDestroyerDefeat","|")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>Math.abs(t.ExpBehavior())*Math.sign(qj(n.ExpObject(),s(r.GetValue(),"X")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>1.4*t(n.GetValue())},()=>"Set GameObject time scale & freezing all sprites",()=>"Move objects to liquid layer & Set object to liquid color",()=>"Move object to liquid layer (function)",()=>"Set palette by liquid ID (custom action)",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>ek(t.ExpObject()===Qj(n.GetValue(),"Podoboo")?1:0,s.ExpObject()===Qj(r.GetValue(),"_e21")?1:0)},()=>"podoboos",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6),l=e._GetNode(7).GetVar();return()=>ek(ek(ek(t.ExpObject()===Qj(n.GetValue(),"Dolphin")?1:0,s.ExpObject()===Qj(r.GetValue(),"DolphinSideways")?1:0),o.ExpObject()===Qj(a.GetValue(),"_o32")?1:0),i.ExpObject()===Qj(l.GetValue(),"_o33")?1:0)},()=>"dolphins",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("0,8,6",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("0,16,11",s.GetValue(),","))},()=>"40,8,128 | 144,48,232 | 144,168,248",()=>"136,136,248 | 104,104,216 | 64,64,216",()=>"216,32,24 | 248,152,0 | 248,224,40",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(Qj(s.GetValue(),"_Liquids")),r.GetValue()," -- ")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("LiquidColor",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject(Qj(s.GetValue(),"_Liquids")),r.GetValue()-o.GetValue()," -- ")},()=>"Liquid compatibility and type checks",()=>23,()=>"o32",()=>"o33",()=>"e21",()=>"e155",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()+6},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()+11},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("0,24,15",s.GetValue(),","))},()=>"Set EditorObject to liquid color",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("1,8,6",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("1,8,5",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("1,8,4",s.GetValue(),","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar_Family()+n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpInstVar_Family()+n.GetValue()+s.GetValue()*r.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t.ExpInstVar_Family()+n.GetValue()+s.GetValue()*r.GetValue()+o.GetValue()*a.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(ek("o32"===t.ExpInstVar()?1:0,"o33"===n.ExpInstVar()?1:0),0===s.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar();return()=>t.ExpInstVar_Family()+n.GetValue()+s.GetValue()*r.GetValue()+o.GetValue()*a.GetValue()+i.GetValue()*l.GetValue()},()=>"Object can collide with player",()=>"Step 1: Overlap Tracker check",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar_Family(),s.GetValue().toString(),",")},()=>"Step 2: Net Separation check",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t((n.GetValue()+s.GetValue())/2,(r.GetValue()+o.GetValue())/2)},()=>"Return results",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()===n.GetValue()+s.GetValue()?1:0},()=>"Extra net-separation-check functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(Qj(n.ExpObject(),".")+s(r.ExpObject(),5))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t.ExpObject(),".")+n(s.ExpObject(),5)},()=>"Objects with 4-sided semi-collisions",()=>"palaceSwitch",()=>"Push objects out of semi-solids",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()>n.ExpObject()?1:0,s.GetValue()<r.ExpObject()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar_Family()/2-1},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()<n.ExpObject()?1:0,s.GetValue()>=r.ExpObject()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpInstVar_Family()/2+1},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6).GetVar(),l=e._GetNode(7);return()=>Math.sign((t.ExpObject()-n.ExpObject())*(s.GetValue()-r.ExpObject())-(o.ExpObject()-a.ExpObject())*(i.GetValue()-l.ExpObject()))},()=>"Searching for solids (functions)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()/2+Math.sign(s.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+n.ExpObject()/2-Math.sign(s.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>("right"===t.ExpInstVar_Family()?n.ExpObject():s.ExpObject())+Math.sign(r.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>("left"===t.ExpInstVar_Family()?n.ExpObject():s.ExpObject())-Math.sign(r.ExpObject())},()=>"Overlap Tracking",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar_Family(),",",0,s.GetValue().toString())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar_Family(),",",s.GetValue().toString())},()=>"Warping",()=>"Getting data for warping",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".destinations."+o.GetValue()),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".destinations."+r.GetValue()),1,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>16*t(n(s.ExpObject("maps."+r.GetValue()+".destinations."+o.GetValue()),2,","))+8},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>16*t(n(s.ExpObject("maps."+r.GetValue()+".destinations."+o.GetValue()),3,","))+16},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".destinations."+r.GetValue()),4,",")},()=>"pipeDown",()=>"pipeUp",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+24-n.ExpObject()},()=>"pipeLeft",()=>"pipeRight",()=>"Entering entryway",()=>"enterPipe",()=>"invisibleWarp",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(t(n.ExpObject(),"left"),1===s.ExpObject(Qj(r.ExpInstVar_Family(),"_left"))?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(t(n.ExpObject(),"right"),1===s.ExpObject(Qj(r.ExpInstVar_Family(),"_right"))?1:0)},()=>"rightIntoPipe",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+Math.abs(n.ExpObject())},e=>{const t=e._GetNode(0);return()=>Math.abs(t.ExpObject())/32},()=>"leftIntoPipe",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-Math.abs(n.ExpObject())},()=>"downIntoPipe",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpBehavior()<=0?1:0,n.ExpInstVar_Family()<=0?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+(n.ExpObject()-4)},()=>"upIntoPipe",()=>"door",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+4+4*n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-4-4*n.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"_"),n.ExpInstVar())},()=>"unlocked",()=>-720,()=>"mirrorWidth",()=>"Creating & starting/ending warps",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj("LevelL",t(n.ExpObject(s.GetValue(),2)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Xj(Kj(t.ExpObject(n.GetValue(),3),16),8)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Xj(Kj(t.ExpObject(n.GetValue(),4),16),8)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),2)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),7)},()=>"misc",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>14+8*t(n.ExpObject(s.GetValue(),8))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>14+8*t(n.ExpObject(s.GetValue(),9))},()=>"pipes",()=>"WarpPipe",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),8)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),9)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),10)},()=>"doors",()=>"Door",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"_"),n.GetValue())},()=>"doorWarp",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"DoorWarp"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Warp"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"untilFade")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"untilDoorClose")},()=>"warpCover",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(n.GetValue(),s.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),0,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),s.ExpObject())},()=>"Finishing warps",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),r.GetValue()))},()=>"comingUpOutOfPipe",()=>"upOutOfPipe",()=>"comingDownOutOfPipe",()=>"downOutOfPipe",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()+5},()=>"comingRightOutOfPipe",()=>"rightOutOfPipe",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+(14+7*n.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+30},()=>"comingLeftOutOfPipe",()=>"leftOutOfPipe",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-(14+7*n.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-30},()=>"regainControls",()=>"Regaining controls after warping",()=>"Misc warp related events",()=>"Destination & Entryway animation-setting",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Destination"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Entryway5_"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Entryway"),n.ExpInstVar())},()=>"Set position to destination",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()-24},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+3*n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+8*n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-8*n.GetValue()},()=>"Pipe entering & leaving animations",()=>"Horizontal pipe warping animations",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_",s.ExpInstVar())+r()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"WalkInPipe"),n.ExpInstVar())},()=>"Vertical pipe warping animations",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"Win"),n.ExpInstVar())+"_",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"RideTurn"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},()=>"Creating door visuals (function)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(Qj(t.GetValue(),"_"),n.GetValue())+"_",s.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n(s(r.GetValue()),0," -- ")," | ")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Lock")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Lock"),n.ExpInstVar())},()=>"1Lock2",e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_DoorsB")},()=>"2Lock2",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_DoorsB")},()=>"2Lock3",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_GHOuter")},()=>"2Lock4",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_CastleE")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"DoorGate"),n.ExpInstVar())},()=>"replaceDoorColor",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("0,4,2",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("ReplaceColor",t("replaceDoorColor"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Gate"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("1_0_1 | 1_0_2 | 1_1_1 | 1_2_1 | 1_2_2 | 1_3_1 | 1_4_1 | 1_5_1 | 1_6_1 | 1_7_1 | 2_0_3 | 2_2_3",n.ExpObject()," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("1_0_2 | 1_2_2 | 2_0_3 | 2_2_3",n.ExpObject()," | ")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Part",t.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue(),"_")+(n.GetValue()%2?"YellowSmallDoor":"YellowDoor")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_BasicDoor"))},()=>"1_0_2",()=>"1_0_3",()=>"1_2_2",()=>"1_2_3",()=>"1_BossDoor",()=>"2_0_3",()=>"2_2_3",()=>"2_GhostDoor",()=>"Other general door functions",()=>"untilDoorClose",()=>"untilFade",()=>"doorSlam",()=>"Basic / Static particle events",()=>"playAnim",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("updateOrbitRadius")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("updateOrbitSpeed")},()=>"Star explosion particle creation (functions)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.GetValue()+32*Math.cos(tk.toRadians(n.GetValue()+36*s.GetValue()+r.GetValue()%2*36))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.GetValue()+32*Math.sin(tk.toRadians(n.GetValue()+36*s.GetValue()+r.GetValue()%2*36))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"ExplosionStar")},e=>{const t=e._GetNode(0).GetVar();return()=>.14*t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>24*Math.cos(tk.toRadians(t(n("-30,30,150,210",s.GetValue(),","))))+r.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>24*Math.sin(tk.toRadians(t(n("-30,30,150,210",s.GetValue(),","))))+r.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>12*Math.cos(tk.toRadians(45+90*t.GetValue()))+n.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>12*Math.sin(tk.toRadians(45+90*t.GetValue()))+n.ExpObject()},()=>"Physics particle events",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>-1===t.GetValue()?Math.round(n(s.ExpObject()))-1:r.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>1280*Math.sign(t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior()*Math.sign(n.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),10)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"GrabBlock")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject(Qj(n.GetValue(),"_GrabBlock")+s(r.ExpObject(),1,"_"))},()=>"cycleGrabBlockPalette",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_GrabBlock")+s(r.GetValue(),1,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(0,0,0,1)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()?n.ExpInstVar():s.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(t.GetValue()===Qj(n.GetValue(),"BrickBlock")?1:0,s.GetValue()===Qj(r.GetValue(),"EmptyBlock")?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"MiscBlocks")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_MiscBlockPalettes"))},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-4},e=>{const t=e._GetNode(0).GetVar();return()=>-64*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>-308*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+4},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+2*n.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>-192*t.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+3*n.GetValue()},()=>"rotate",()=>"2EmptyBlock",()=>"2HardBlock",()=>"2BossGate",()=>"2MountainBridge",()=>"2MiscBlocks",()=>"advanceFrame",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.03,.1)},()=>"Swerving particle events",()=>"sparkleDelay",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"StatueOrbSparkle")},()=>"Breath bubble particle events",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-48*n()},()=>"Snore / Sleep particle events",()=>"SnoreParticle",()=>"toPopPosition",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-8*Math.sign(n.ExpObject())},()=>"toDefaultScale",()=>"Pop",()=>"toFinalScale",()=>"Droplet particle events",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Stalactite")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Water")},()=>"Charged GameObjects electricity particles",()=>"electricChargeParticleDelay",()=>"reAppear",()=>"Smaller re-usable particle functions",()=>"fallDownAndDestroy",()=>"splashParticleDelay",e=>{const t=e._GetNode(0).GetVar();return()=>.2/(Math.abs(t.GetValue())/64)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpBehavior()>0?n.ExpObject():s.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("WaterSplash")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-n.GetValue()/16},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-Math.abs(n.GetValue())/16},()=>"[h2]Platforms[/h2]",()=>"Constructing platform visuals",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),1,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>tk.clamp(t(n(s.ExpInstVar(),0,",")),0,r(o(a.GetValue(),i.GetValue(),",")))},()=>"o68",()=>"FloatingPlatform",()=>"favoritedItem",()=>"containedItemInOtherEditorObject",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>tk.clamp(t.ExpInstVar_Family(),0,n(s(r.GetValue(),o.GetValue(),",")))},e=>{const t=e._GetNode(0);return()=>"FloatingPlatform_Hitbox"===t.ExpObject()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t.GetValue(),"_")+n.GetValue()+"_",s.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-(n.ExpObject()-s.ExpObject())/2},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),2,"_"))},()=>"FP",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t.GetValue(),n.GetValue())+"_Small",s.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-n.ExpObject()/2+16*s.GetValue()+8},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject()),r.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t.GetValue(),n.GetValue())+"_Left",s.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t.GetValue(),n.GetValue())+"_Middle",s.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t.GetValue(),n.GetValue())+"_Right",s.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>ek(ek("1_AdvancedPlatform_7"===t.ExpObject()?1:0,Qj("2_AdvancedPlatform_6"===n.ExpObject()?1:0,5===s.GetValue()?1:0)),Qj("2_FloatingPlatform_0"===r.ExpObject()?1:0,5===o.GetValue()?1:0))},e=>{const t=e._GetNode(0);return()=>"2_AdvancedPlatform_6"===t.ExpObject()?1:0},e=>{const t=e._GetNode(0);return()=>"2_FloatingPlatform_0"===t.ExpObject()?1:0},()=>"IcyOutline",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5),i=e._GetNode(6).GetVar(),l=e._GetNode(7),d=e._GetNode(8).GetVar();return()=>ek(ek(ek(ek("1_AdvancedPlatform_3"===t.ExpObject()?1:0,Qj("1_AdvancedPlatform_2"===n.ExpObject()?1:0,3===s.GetValue()?1:0)),Qj("1_FloatingPlatform_0"===r.ExpObject()?1:0,3===o.GetValue()?1:0)),Qj("2_AdvancedPlatform_6"===a.ExpObject()?1:0,1===i.GetValue()?1:0)),Qj("2_FloatingPlatform_0"===l.ExpObject()?1:0,1===d.GetValue()?1:0))},()=>"Set customizable platform palette & get palette count & key [small](shared custom action)[/small]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>t(n(s.ExpObject()),r(o(a.ExpObject(),2,"_")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),0," -- ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue()," -- ")},()=>"Get CustomizablePlatform properties [small](shared return functions)[/small]",()=>"o40",()=>"advanced",()=>"floating",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"advanced"===t()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),r.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"floating"===t()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),r.GetValue())," -- ")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_GirderPlatform")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Forest"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_MushPlatform")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Cave")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Ice")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Factory")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Ghost")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Cloud")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_LavaCave")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Crystal")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Beach")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Ocean")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Ruins")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_GreenHill")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_ForsCity")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_ButterBld")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Boneyard")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_GirderPlatform")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_MushPlatform")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_Cloud")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_GrassPlatform"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_CommonPlatform")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_YIPlatform")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_Ship")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_FloatingBar"))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_CommonPlatform"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),0,","))},()=>"Shared Flowing Platform action: Flow in liquid",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),s.ExpObject()+1)},()=>"preventRising",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpInstVar_Family()+s.ExpInstVar_Family()*r.ExpObject(),o.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpInstVar_Family()*s.ExpObject()},()=>"preventRiseSpeedReset",()=>"Advanced Platforms",()=>"Platform init",e=>{const t=e._GetNode(0);return()=>16*t.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpBehavior()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>.75+t.GetValue()/n.GetValue()},()=>"Common Platform functions",()=>"accelerate",()=>"decelerate",()=>"performPlatformAction",()=>"accelerate platformSpeed",()=>"decelerate platformSpeed",()=>"Platform activation",()=>"Platform movement",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("platformSpeed")},()=>"Platform moving (only) with player",()=>"Platform screenwrapping (in-build)",e=>{const t=e._GetNode(0);return()=>0-t.ExpInstVar()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()+16*n.GetValue()+s.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>16*t.GetValue()+n.ExpInstVar()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()-16*n.GetValue()-s.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()+16*n.GetValue()+s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()-16*n.GetValue()-s.ExpObject()},()=>"Platform actions",()=>"performPlatformAction_1",()=>"performPlatformAction_2",()=>"performPlatformAction_3",()=>"performPlatformAction_4",()=>"playerCanResetActionTimer",()=>"Platform interacting with platform influencer tiles",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-8*Math.cos(tk.toRadians(n.ExpBehavior()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-8*Math.sin(tk.toRadians(n.ExpBehavior()))+8},()=>"Platform semisolid: isMoving update",()=>"Platform applying events to specific GameObjects",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0)-1},()=>"Floating Platform",()=>"Floating Platform functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t(n(s("0 -- 14,7 -- 14,14,11,8",r.GetValue()," -- "),o.ExpInstVar(),","))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpInstVar_Family()<n.ExpObject()?s.ExpInstVar_Family():r.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpInstVar()<n.ExpObject()?s.ExpInstVar():r.ExpObject()},()=>"Floating Platform activation",()=>"Sprites standing on Floating Platform",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpInstVar()+48*s(),-24)},()=>"Floating Platform liquid flow",()=>"Floating Platform surface sine",()=>"Floating Platform: prevent sprite platform aligning",()=>"Donut Block",()=>"Donut Block init",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),"Donut")+n("0,1,0,1,2,3,2,3",s.GetValue(),",")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(t.GetValue()%4==2?1:0,n.GetValue()%4==3?1:0)},()=>"Donut Block [b]fall & stop fall[/b] functions",e=>{const t=e._GetNode(0);return()=>1-t.ExpInstVar()/2},()=>"Donut Block main events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()+n.ExpInstVar()*(s()/(r.ExpInstVar()+1))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>384*t()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+480},()=>"Donut Block collision tags",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpInstVar_Family()?n.ExpObject():s(r.ExpObject(),0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpInstVar()+" ",n.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+" "+n.ExpInstVar()},()=>"Donut Block liquid interactions",()=>"Skull Rafts",()=>"Skull Rafts functions & custom actions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n("44,66,22",s.ExpInstVar(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("14,13,14",s.GetValue(),","))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Raft"),n.ExpInstVar())},()=>"skullRaft",e=>{const t=e._GetNode(0).GetVar();return()=>3*t.GetValue()},()=>"Skull Raft activating",()=>"raftTopLeniency",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpInstVar_Family(),"active"===n.ExpInstVar_Family()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>Qj(ek(t.ExpInstVar(),0===n(s.ExpObject())?1:0),ek("left"===r.ExpInstVar()?1:0,"right"===o.ExpInstVar()?1:0))},()=>"Skull Raft stood-on events (& guiding player up)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject(),s.ExpObject()-1,0,"Bottom",r.ExpObject(),o.ExpObject(),1,0,"roof")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+n(s.ExpObject(),1,0)*r()},()=>"Skull Raft flowing in liquids",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>ek(t.ExpInstVar(),0===n(s.ExpObject())?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),1)?0:s.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),-1)?0:-s.ExpInstVar()},()=>"Conveyor Belts",()=>"Conveyor Belt tilemap initiation & updating speed",e=>{const t=e._GetNode(0);return()=>1/(Math.abs(t.ExpInstVar_Family())/2)},()=>"updateFrame",()=>"Escalator tilemap initiation & updating speed",()=>"advanceEscalators",e=>{const t=e._GetNode(0);return()=>1/Math.abs(t.ExpInstVar_Family())},()=>"enabled",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()+-Math.sign(n.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()+-Math.sign(n.ExpInstVar_Family())/2},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),3,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),2,"_")},()=>"Escalator tilemap: update motor hitboxes",()=>"Full",e=>{const t=e._GetNode(0);return()=>t.ExpObject("SlopeCheck")},()=>"Transition",()=>"Conveyor Belt & Escalator: enabling/disabling",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()?"offline":"disabled"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"PSwitchTimer")},()=>"Conveyor Belt - checking for sprite overlaps",e=>{const t=e._GetNode(0);return()=>90===t.ExpBehavior()?1:-1},e=>{const t=e._GetNode(0);return()=>0===t.ExpBehavior()?1:-1},e=>{const t=e._GetNode(0);return()=>90===t.ExpBehavior()?-1:1},e=>{const t=e._GetNode(0);return()=>0===t.ExpBehavior()?-1:1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(0===t(n.ExpObject())?1:0,-s.ExpInstVar_Family()>r.ExpBehavior()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpObject(),0)+s.ExpInstVar_Family()*r()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(0===t(n.ExpObject())?1:0,s.ExpInstVar_Family()>r.ExpBehavior()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpObject(),0)-s.ExpInstVar_Family()*r()},()=>"Conveyor Belt - handling 8-direction conveyor overlaps (custom action)",()=>"Conveyor Belt - special PlayableCharacter events",()=>"[h2]Goals & Checkpoints[/h2]",()=>"Level clear functions & extra events",()=>"levelClearMusicIsPlaying",()=>"pokey",()=>"LevelClearMusic",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(Qj(t.GetValue(),"RideWin"),n.ExpInstVar())+"_",s.ExpInstVar())},()=>"Creating draggable target for goals & checkpoints (functions)",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()+8*n(s(r.ExpInstVar(),2,","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()+8*n(s(r.ExpInstVar(),3,","))},()=>"Goal / Midway Tape palettes setup",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_TapePoles"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Math.floor(t(n(s.GetValue(),0," -- ")," | ")/2)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.GetValue(),0," -- "),r.GetValue()+o.GetValue()," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t(n(s.GetValue(),r.GetValue()," -- "),o.GetValue()+a.GetValue()," | ")},()=>"Flagpole",()=>"Flagpole init",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()+14},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Flagpole")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()+s.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"PlayerFlag")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpInstVar()+8},()=>"Reaching flagpole",()=>"flag",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()+16},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.round((t.ExpObject()-n.ExpObject())/8/(s.ExpObject()/8)*8)},()=>"flagpole",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar().toString(),2)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),1)},()=>"Flagpole animation",()=>"slideDown",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>120*t()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()+24},()=>"jumpOffPole",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("LevelClear",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()*Math.sign(n.ExpObject()-s.ExpInstVar_Family())},()=>"jumpingFromPole",()=>"complete",()=>"Flagpole fireworks",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()+n(-160,160)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()-n(96)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n(16,96),s(320,400))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(16,96)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(3))},()=>"Flagpole skip prevention",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpBehavior()},()=>"General gate functions",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj(t.ExpInstVar_Family()+"FrontPole",n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),n.ExpInstVar())+"Connect",s.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("SolidOffsetChecker")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject("TileChecker"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t(n.ExpObject(),s.ExpObject(r.ExpObject("TileChecker")),o.ExpObject(a.ExpObject("TileChecker")))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpObject(n.ExpObject(s.ExpObject("TileChecker")),r.ExpObject(o.ExpObject("TileChecker")))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),n.ExpInstVar())+"Round",s.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("LevelL",t.GetValue()-1)},()=>"Giant Gate (Goaltape)",()=>"Giant Gate functions",()=>"tapeOffsetFromGate",e=>{const t=e._GetNode(0);return()=>(t.ExpObject()-8)/72},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpBehavior("tapeOffsetFromGate")},()=>"Reaching Giant Gate",()=>"setSameColorToAllLayers",()=>"levelClearFadeForGoalTape",()=>"Player",()=>"goalTapeHit",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.round((t.ExpObject()-n.ExpObject()-4)/9/(s.ExpObject()/9)*9)},()=>"posing",()=>"resumeGoalTapeAnimation",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_",s.ExpInstVar_Family())+r()},()=>"Goal Tape jump-over prevention",()=>"Global Checkpoint activation function (& data restore)",()=>"clear",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Clear")},()=>"activatedInMap",()=>"spawnMap",()=>"spawnX",()=>"spawnY",()=>"spawnDestinationName",()=>"spawnEntrywayType",()=>"savedDragonCoins",()=>"pressedPalaceSwitches",()=>"parentObjIID",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Checkpoint"),n.ExpInstVar())},()=>"sineMagnitude",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>24*Math.cos(tk.toRadians(t.GetValue()))+n.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>24*Math.sin(tk.toRadians(t.GetValue()))+n.ExpObject()},e=>{const t=e._GetNode(0);return()=>t.ExpObject("savedDragonCoins")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("pressedPalaceSwitches")},()=>"Checkpoint Flag",()=>"Checkpoint Flag position updates",()=>"Checkpoint Flag sine tweens",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("sineMagnitude")},()=>"Midway Gate",()=>"Midway Gate: Pole tile animations",e=>{const t=e._GetNode(0);return()=>(t.ExpObject()-16)/8},()=>"advanceThinBonusTileFrame1",()=>"advanceThinBonusTileFrame2",()=>"advanceThinBonusTileFrame3",()=>"advanceThinBonusTileFrame4",()=>"isTimerPlaying",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("advanceThinBonusTileFrame",t("isTimerPlaying"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("isTimerPlaying")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("advanceThinBonusTileFrame",t("isTimerPlaying")+1)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("isTimerPlaying")-1},()=>"Midway Gate: Tape positioning & update check",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject("LowestTapePosition")-8*n(s(r.ExpInstVar(),6,","))},()=>"Level clear fadeout",()=>"Keyhole exit",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("KeyholeExit",t.GetValue())},()=>"keyhole",()=>"KeyholeFX",()=>"Editing checkpoint/goal targets & related features",()=>"checkpointRespawnMap",()=>"checkpointRespawnDestination",()=>"checkpointRespawnDeterminationMode",e=>{const t=e._GetNode(0);return()=>t.ExpObject().toString()},()=>"16",()=>"Customizing Midway Gate tape position",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()-n()%8+4},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject("LowestTapePosition")-8*n(s(r.ExpInstVar(),0,","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject("LowestTapePosition")-8*n(s(r.ExpInstVar(),0,","))-8},e=>{const t=e._GetNode(0);return()=>t.ExpObject("LowestTapePosition")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.round((t.ExpObject()-n.ExpObject())/8).toString()},()=>"Walled sprites",()=>"Walled Sprites: Attach to terrain (custom action)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),2,"_"),8)},()=>"Conveyor",()=>"WalledSprites: Detach from terrain",()=>"volcanoLotus",()=>"objectSign",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-(n.ExpObject()-s.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+(2===n.ExpInstVar_Family()?24:12)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),"Unpressed"),n.ExpInstVar())+s.ExpInstVar()},()=>"Collision check walled sprites (function)",()=>"Walled Sprites: check if inside solids",()=>"resizingHorizontally",()=>"Rotation Base events",()=>"Rotation Base init",()=>"Rotation Base activation & de-activation",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s(),r())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+208+n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()+416+n.ExpInstVar()+s.ExpInstVar()},()=>"spreadBooCircle",()=>"shrinkBooCircle",()=>"Rotation Base linking to tile & destruction",()=>"DetachedObject",()=>"Chain0",()=>"Chain1",()=>"1Fire0",()=>"2Fire0",()=>"2Ice0",()=>"1Fire1",()=>"1Fire2",()=>"2Fire1",()=>"2Fire2",()=>"2Ice1",()=>"2Ice2",()=>"1Ice0",()=>"1Ice1",()=>"1Ice2",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"IceSpark")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject("OuterEdge"),n.ExpObject("OuterEdge"),s.ExpObject(),r.ExpObject())/8+4},()=>"Player interacting with base chain items",()=>"ghost",()=>"firebarFlame",()=>"Rotation Base Boo Circle events",()=>"spreadOrShrinkBooCircle",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar()+n.GetValue()},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("spreadOrShrinkBooCircle")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7);return()=>(t.ExpInstVar()+n.ExpInstVar())*Math.cos(tk.toRadians(s.ExpObject()+r.ExpInstVar()*o(a(i.ExpInstVar(),5,","))-90))+l.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7);return()=>(t.ExpInstVar()+n.ExpInstVar())*Math.sin(tk.toRadians(s.ExpObject()+r.ExpInstVar()*o(a(i.ExpInstVar(),5,","))-90))+l.ExpObject()},()=>"Rotation Base specific chain object events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16*(t(n(s.ExpInstVar(),5,","))+1)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"_AdvancedPlatform_"),n.GetValue())},()=>"[h2]Environmental Changers[/h2]",()=>"Music Changer",()=>"Music Changer Initialize (action)",()=>"Music Changer activating",()=>"Music Changer: can change music",()=>".d",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".music").toString()},()=>"Music Changer: Perform transition",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MIndex",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("LevelMusic")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>-1===t.GetValue()?n.ExpObject("map"):s.GetValue().toString()},()=>"levelMusicFadeOut",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("levelMusicFadeOut")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("levelMusicFadeOut musicCrossFade musicFade_MIndex",t.GetValue())},()=>"levelMusicFadeIn",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("levelMusicFadeIn")},()=>"levelMusicFadeIn musicCrossFade",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MIndex",t.GetValue())+"_Bongos"},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("levelMusicFadeOut queuedMusicFadeOut musicFade_MIndex",t.GetValue())},()=>"queuedMusicFadeOut",()=>"[h2]Misc. sprite events[/h2]",()=>"Growing vine",()=>"Growing Vine Init",()=>"beanstalkGrow",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Beanstalk")},e=>{const t=e._GetNode(0);return()=>90*t.ExpInstVar()-90},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("Helper",n.GetValue()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(0===t.GetValue()?1:0,180===n.GetValue()?1:0)?2:14},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(0===t.GetValue()?1:0,180===n.GetValue()?1:0)?14:2},()=>"Vine Creator init: SMB1 gamestyles",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Vine"),3*n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Vine"),2+3*n.ExpInstVar())},()=>"Vine Creator init: Super Mario World",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Plant"),n.ExpInstVar())},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar().toString()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj("Tilemap_",t.GetValue())+"_Vine"+n.GetValue()},()=>"Vine Creator attaching to parent",()=>"VineCreator growing & creating vines",()=>"Extending vine tilemap (custom action for SMW gamestyle)",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/16-1},()=>"Creating new vine when screenwrapped (custom action)",()=>"VineCreator main movement / growing events",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior()-16},()=>"Vine growing in Super Mario Bros 1 gamestyles",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+16*n.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Vine"),1+3*n.ExpInstVar())},()=>"Vine growing in Super Mario World",()=>"Vine growing screenwrap handling",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+24},e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+8},()=>"VineCreator OoB and collision checks",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(Qj("Helper",n.ExpObject()))},()=>"VineCreator colliding with terrain",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,-3)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),3,0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,3)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),-3,0)},()=>"VineCreator going out-of-bounds",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+48},()=>"Stop VineCreators from creating vines (custom action)",()=>"VineCreator destroyed events",()=>"Object pipe initiation (palettes & spawners)",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(8)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),"0")},()=>"t6",()=>"t7",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_Pipes"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(2===t.GetValue()?1:0,9===n.GetValue()?1:0)},()=>"IceOutline",()=>"Getting pipe entrance coordinates",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-n.ExpObject()+s.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.ExpObject()-s.GetValue()},()=>"Supported pipe objects: pipe position updates",()=>"Expandable objects events",()=>"Expandable objects activating",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8),c=e._GetNode(9),u=e._GetNode(10),h=e._GetNode(11),_=e._GetNode(12),G=e._GetNode(13),p=e._GetNode(14);return()=>t(n.ExpObject()+s.ExpInstVar_Family()-r.ExpInstVar_Family()/2,o.ExpObject()+a.ExpInstVar_Family()+i.ExpInstVar_Family()/2,l.ExpObject()+d.ExpInstVar_Family()-c.ExpInstVar_Family()/2,u.ExpObject()+h.ExpInstVar_Family()+_.ExpInstVar_Family()/2,G.ExpObject(),p.ExpObject())},()=>"Expandable objects grow/shrink cycle",()=>"setNewBaseSize resizingVertically",()=>"setNewBaseSize resizingHorizontally",()=>"resetToBaseHeight",()=>"toDefaultSize resizingVertically",()=>"toDefaultSize resizingHorizontally",()=>"alwaysActive",()=>"Expandable objects: updating player & walled-sprite positions",()=>"Droplets",()=>"startDrip",()=>"1Lava",()=>"2Water",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(2,5)},()=>"2Stalactite",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(13,25)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("DripSpawn")},()=>"[h2]Tile events[/h2]",()=>"Get tile state at position",()=>"Get tilemap property / tile count (functions)",()=>"mode",()=>"identifierName",()=>"palette",()=>"x",()=>"y",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject(n("x"),s("y"))},()=>"Check if tile is slope",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject(n.GetValue(),s.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(17===t.GetValue()?1:0,45===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(21===t.GetValue()?1:0,22===n.GetValue()?1:0),49===s.GetValue()?1:0),50===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar();return()=>ek(ek(ek(ek(ek(ek(ek(29===t.GetValue()?1:0,30===n.GetValue()?1:0),31===s.GetValue()?1:0),32===r.GetValue()?1:0),57===o.GetValue()?1:0),58===a.GetValue()?1:0),59===i.GetValue()?1:0),60===l.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(73===t.GetValue()?1:0,74===n.GetValue()?1:0),81===s.GetValue()?1:0),82===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(18===t.GetValue()?1:0,46===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(23===t.GetValue()?1:0,24===n.GetValue()?1:0),51===s.GetValue()?1:0),52===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar();return()=>ek(ek(ek(ek(ek(ek(ek(33===t.GetValue()?1:0,34===n.GetValue()?1:0),35===s.GetValue()?1:0),36===r.GetValue()?1:0),61===o.GetValue()?1:0),62===a.GetValue()?1:0),63===i.GetValue()?1:0),64===l.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(75===t.GetValue()?1:0,76===n.GetValue()?1:0),83===s.GetValue()?1:0),84===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(19===t.GetValue()?1:0,47===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(25===t.GetValue()?1:0,26===n.GetValue()?1:0),53===s.GetValue()?1:0),54===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar();return()=>ek(ek(ek(ek(ek(ek(ek(37===t.GetValue()?1:0,38===n.GetValue()?1:0),39===s.GetValue()?1:0),40===r.GetValue()?1:0),65===o.GetValue()?1:0),66===a.GetValue()?1:0),67===i.GetValue()?1:0),68===l.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(77===t.GetValue()?1:0,78===n.GetValue()?1:0),85===s.GetValue()?1:0),86===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(20===t.GetValue()?1:0,48===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(27===t.GetValue()?1:0,28===n.GetValue()?1:0),55===s.GetValue()?1:0),56===r.GetValue()?1:0)},()=>-11,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar();return()=>ek(ek(ek(ek(ek(ek(ek(41===t.GetValue()?1:0,42===n.GetValue()?1:0),43===s.GetValue()?1:0),44===r.GetValue()?1:0),69===o.GetValue()?1:0),70===a.GetValue()?1:0),71===i.GetValue()?1:0),72===l.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(79===t.GetValue()?1:0,80===n.GetValue()?1:0),87===s.GetValue()?1:0),88===r.GetValue()?1:0)},()=>-13,()=>"Check if tilemap is icy",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t("1_Ice | 2_Ice",n(s(r.GetValue()),0," ")," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("2_Pipes9 | 2_Vase9 | 2_Arch4 | 2_Escalator8 | 2_Grass5 | 2_Cave3 | 2_Castle8 | 2_Forest9 | 2_StarWorld4 | 2_LavaCave5",n.GetValue()," | ")},()=>"Sprite is on snowy tilemap",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t("1_Snow | 1_Global | 1_ForsCity | 2_Snow | 2_SnowD | 2_RetroS",n(s(r.GetValue()),0," ")," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("1_Island3 | 1_Forest3 | 1_Hedge3 | 1_Beach6 | 2_Grass6 | 2_Forest6 | 2_Night4 | 2_Fall3 | 2_Beach5 | 2_Desert2 | 2_Hedge2",n.GetValue()," | ")},()=>"Check if tile has any collision (function)",()=>"Small Tilemap helper functions / custom actions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>Qj(Qj(t.GetValue(),","),n(s.ExpInstVar_Family()))+","+r.ExpInstVar_Family()+","+o.ExpInstVar_Family()},()=>"Post-stomping events",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+16*n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue())+s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),1,"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),3,"|"))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue())-8},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue())+8},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,15)},()=>-15,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,-15)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>16*t.GetValue()+n.ExpInstVar_Family()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod();return()=>Qj(Qj(Qj(t.ExpObject(n.GetValue())>s("Gameplay")?1:0,r.ExpObject(o.GetValue())<a("Gameplay")?1:0),i.ExpObject(l.GetValue())>d("Gameplay")?1:0),c.ExpObject(u.GetValue())<h("Gameplay")?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>16*t.GetValue()+(n.GetValue()?12:4)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+(n.GetValue()?16:-16)},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+3},()=>"Mountain bridge updating",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod();return()=>Qj(Qj(Qj(t.ExpObject(n.GetValue()+1)>s("Gameplay")?1:0,r.ExpObject(o.GetValue()-1)<a("Gameplay")?1:0),i.ExpObject(l.GetValue()+1)>d("Gameplay")?1:0),c.ExpObject(u.GetValue()-1)<h("Gameplay")?1:0)},()=>"Vine Tilemaps: update tail vine",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/16-2},()=>"Misc. small Tilemap events",()=>"Crystal sparkles (crystal tilemaps)",()=>"createSpark",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject(n()-208)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject(n()-120)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>16*t.GetValue()+n(16)},()=>"Initiating tile special collisions",()=>"Tile checks for both play & edit mode",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("1_Candle_",t.GetValue()-7)},()=>51,()=>54,()=>47,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj("1_Grass_",t.GetValue()-n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("1_MainDeco")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("1_Cloud_",t.GetValue()-55)},()=>61,()=>"1_DecoFlag_0",()=>62,()=>"1_DecoFlag_1",()=>93,()=>"1_Ghost_Candle_0",()=>94,()=>"1_Ghost_Candle_1",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("1_Grass_",t.GetValue()-94)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Grass")},()=>"1_Candle_0",e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Castle")},()=>149,()=>"1_Candle_1",()=>113,()=>"1_Tiki_Torch_0",()=>114,()=>"1_Tiki_Torch_1",()=>"2_Escalator_Motor",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_EscalatorMotor")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>ek(ek(1===t.GetValue()?1:0,4===n.GetValue()?1:0),6===s.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(2===t.GetValue()?1:0,3===n.GetValue()?1:0),5===s.GetValue()?1:0),7===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>ek(ek(9===t.GetValue()?1:0,12===n.GetValue()?1:0),14===s.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(8===t.GetValue()?1:0,10===n.GetValue()?1:0),11===s.GetValue()?1:0),13===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>15===t.GetValue()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>ek(ek(16===t.GetValue()?1:0,21===n.GetValue()?1:0),24===s.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(17===t.GetValue()?1:0,19===n.GetValue()?1:0),22===s.GetValue()?1:0),25===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(18===t.GetValue()?1:0,20===n.GetValue()?1:0),23===s.GetValue()?1:0),26===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>30===t.GetValue()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>ek(ek(29===t.GetValue()?1:0,35===n.GetValue()?1:0),38===s.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(28===t.GetValue()?1:0,32===n.GetValue()?1:0),34===s.GetValue()?1:0),37===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(ek(ek(27===t.GetValue()?1:0,31===n.GetValue()?1:0),33===s.GetValue()?1:0),36===r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("2_Escalator_Slope_",t.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_Castle")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>16*t.GetValue()+(0===n.GetValue()?19:-3)},e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+16+3},e=>{const t=e._GetNode(0).GetVar();return()=>0===t.GetValue()?16:-16},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>16*t.GetValue()+(4===n.GetValue()?19:-3)},e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+19},e=>{const t=e._GetNode(0).GetVar();return()=>4===t.GetValue()?16:-16},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>16*t.GetValue()+(5===n.GetValue()?19:-3)},e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+11},e=>{const t=e._GetNode(0).GetVar();return()=>5===t.GetValue()?16:-16},()=>91,()=>"2_Ghost_Candle_0",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_GHMain")},()=>"2_Ghost_Candle_2",()=>"2_Ghost_Candle_1",()=>"2_Ghost_Candle_3",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("2_Jack-O-Lantern_",t.GetValue()-54)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_Pumpkins")},()=>"2_Factory_Light",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_Factory")},()=>38,()=>"2_Star-Flower_0",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_StarWorldD")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("2_TT-Candle_",t.GetValue()-19)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_TurtleD")},()=>78,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("2_Cloud_",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("2_Rainbow_",t.GetValue())},()=>43,()=>170,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("2_RetroMush_",t.GetValue()-165)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("2_RetroMush",Math.floor((n.GetValue()-165)/3)+1))},()=>163,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("2_RetroC_Candle_",t.GetValue()-162)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_RetroC")},()=>"Water tilemap collision assists",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s.GetValue(),r.GetValue())},e=>{const t=e._GetNode(0);return()=>"Tilemap_1_Water"===t.ExpObject()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(0===t.GetValue()?1:0,4===n.GetValue()?1:0)?1:0},e=>{const t=e._GetNode(0);return()=>"Tilemap_2_Water"===t.ExpObject()?1:0},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()<=1?1:0},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("Tilemap_2_DBWater"===t.ExpObject()?1:0,"Tilemap_2_CWater"===n.ExpObject()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(0===t.GetValue()?1:0,7===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(1===t.GetValue()?1:0,4===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(2===t.GetValue()?1:0,5===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(0===t.GetValue()?1:0,5===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(1===t.GetValue()?1:0,6===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(2===t.GetValue()?1:0,7===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(3===t.GetValue()?1:0,4===n.GetValue()?1:0)},e=>{const t=e._GetNode(0);return()=>"Tilemap_2_RWater"===t.ExpObject()?1:0},()=>"Tile checks for play mode only",()=>"Assigning tile collisions",()=>49,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-.5},()=>53,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+.5},()=>57,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-.25},()=>59,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-.75},()=>63,()=>65,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+.25},()=>67,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+.75},()=>69,()=>70,()=>71,()=>81,()=>83,()=>86,()=>87,()=>123,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t.GetValue()-120+n(s.GetValue(),r.GetValue(),o.GetValue())%4},()=>127,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t.GetValue()-124+n(s.GetValue(),r.GetValue(),o.GetValue())%4},()=>101,()=>"Edge",()=>103,()=>105,()=>106,()=>109,()=>111,()=>119,()=>117,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-112},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-117},()=>"2_RetroD",()=>"2_RetroM",()=>"1_LavaCave",()=>143,()=>"Lava",()=>"1_Vine",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>Qj(Qj(t.GetValue(),"Vine"),n.ExpObject(s.GetValue(),r.GetValue())+3*o.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>Qj(Qj(t.GetValue(),"Vine"),n.ExpObject(s.GetValue(),r.GetValue())-3+3*o.ExpInstVar_Family())},()=>"1_Pole",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>Qj(Qj(t.GetValue(),"Pole"),n.ExpObject(s.GetValue(),r.GetValue())+3*o.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>Qj(Qj(t.GetValue(),"Pole"),n.ExpObject(s.GetValue(),r.GetValue())-3+3*o.ExpInstVar_Family())},()=>"2_ShipR",()=>"Handling Block Tilemaps",()=>"Handling tile P-Doors",()=>"Assigning snow assist tiles",e=>{const t=e._GetNode(0);return()=>"Tilemap_1_Snow"===t.ExpObject()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetVar(),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetVar(),_=e._GetNode(12).GetVar();return()=>ek(ek(ek(ek(ek(ek(ek(ek(ek(Qj(t.GetValue()>=0?1:0,n.GetValue()<=2?1:0),9===s.GetValue()?1:0),Qj(r.GetValue()>=12?1:0,o.GetValue()<=15?1:0)),20===a.GetValue()?1:0),24===i.GetValue()?1:0),56===l.GetValue()?1:0),57===d.GetValue()?1:0),Qj(c.GetValue()>=69?1:0,u.GetValue()<=71?1:0)),82===h.GetValue()?1:0),83===_.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(40===t.GetValue()?1:0,72===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(41===t.GetValue()?1:0,73===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(48===t.GetValue()?1:0,76===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(49===t.GetValue()?1:0,77===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(50===t.GetValue()?1:0,78===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek(51===t.GetValue()?1:0,79===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>ek(ek(16===t.GetValue()?1:0,22===n.GetValue()?1:0),44===s.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>ek(ek(17===t.GetValue()?1:0,23===n.GetValue()?1:0),45===s.GetValue()?1:0)},e=>{const t=e._GetNode(0);return()=>"Tilemap_1_Global"===t.ExpObject()?1:0},e=>{const t=e._GetNode(0);return()=>"Tilemap_1_ForsCity"===t.ExpObject()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetVar();return()=>ek(ek(ek(ek(ek(ek(Qj(t.GetValue()>=0?1:0,n.GetValue()<=2?1:0),9===s.GetValue()?1:0),Qj(r.GetValue()>=12?1:0,o.GetValue()<=15?1:0)),36===a.GetValue()?1:0),70===i.GetValue()?1:0),71===l.GetValue()?1:0),Qj(d.GetValue()>=87?1:0,c.GetValue()<=95?1:0))},()=>34,e=>{const t=e._GetNode(0);return()=>"Tilemap_2_SnowD"===t.ExpObject()?1:0},()=>39,()=>41,e=>{const t=e._GetNode(0);return()=>"Tilemap_2_RetroS"===t.ExpObject()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetVar(),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetVar();return()=>ek(ek(ek(ek(ek(ek(ek(Qj(t.GetValue()>=0?1:0,n.GetValue()<=2?1:0),9===s.GetValue()?1:0),Qj(r.GetValue()>=12?1:0,o.GetValue()<=15?1:0)),29===a.GetValue()?1:0),30===i.GetValue()?1:0),41===l.GetValue()?1:0),Qj(d.GetValue()>=146?1:0,c.GetValue()<=151?1:0)),Qj(u.GetValue()>=158?1:0,h.GetValue()<=166?1:0))},()=>115,()=>116,()=>"Looping & spawning blocks from tilemaps",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())},()=>"1_Blocks",()=>"invisibleBarrierTile",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-6},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"HardBlock")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-10},()=>42,()=>"IceAssist",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-21},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-24},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-31},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-45},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-49},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-56},()=>"2_Blocks",()=>"2Default",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-14},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-17},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-28},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-32},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue())-40},()=>"Creating block functions",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()?2:3},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("PBlock",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SkullBlock")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"Off"),n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"On"),n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"Spike"),n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"Chain"),n.GetValue()-1)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"Gate"),n.GetValue())},()=>"Tilemaps spawning blocks/sprites",()=>"InvisibleCollision",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+16*n.GetValue()+8},()=>"Spawning SpecialTiles for tilemaps",()=>"Linking with Tilemap",()=>"Animation categories",()=>"Grass",()=>"Cloud",()=>"smas1BushAndCloud",()=>"Special Tiles that give off light",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CommonCandle")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"TikiTorch")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"GHCandle")},()=>"2_Jack-O-Lantern_0",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"JackOLantern")},()=>"2_Jack-O-Lantern_1",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"2FactoryLight")},()=>"2_TT-Candle_0",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"TipsyTurtle")},()=>"2_TT-Candle_1",()=>"2_RetroC_Candle_0",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RetroCastleCandle")},()=>"2_RetroC_Candle_1",()=>"Syncing animations with other SpecialTiles",()=>"Tilemap palettes: palette rendering",()=>"generating",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(),s.GetValue(),2)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(),s.GetValue(),3)},e=>{const t=e._GetNode(0);return()=>"Tilemap_"+t.ExpInstVar()},()=>"imageLoadingReady",()=>"paletteImage",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("loopX")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("loopY")},()=>"Tilemap palettes: palette applying",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj(t.ExpInstVar_Family(),n.GetValue())},()=>"Tilemap palettes: retrieving RGB data (function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),1,"_")},()=>"ConveyorS",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n(s.GetValue(),0,"_")+"_OnOffColors")},()=>"1_MainDecoS",e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_MainDeco")},()=>"1_ShipA",()=>"1_ShipR",e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_Ship")},()=>"1_RuinsB",()=>"1_RuinsD",()=>"2_WaterF",()=>"2_RWater",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_DBWater")},()=>"2_RLava",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_Lava")},()=>"2_RPoison",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_Poison")},()=>"2_RCryo",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_Cryo")},()=>"2_LavaF",()=>"2_PoisonF",()=>"2_CryoF",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t.ExpObject(n(s.GetValue(),r(o.GetValue())-1))},()=>"2_Escalator",()=>"2_Vase",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_Pipes")},()=>"2_ShipP",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_ShipA")},()=>"2_RetroCA",()=>"2_RetroOA",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_RetroO")},()=>"Tilemap palettes: getting safe RGB (function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),",",0,(s(r(o.GetValue(),0,","))-3).toString(),"0")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),",",0,(s(r(o.GetValue(),0,","))+3).toString(),"0")},()=>"Set up animated tilemap images",()=>"loadingFrames",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("AnimatedTilemaps/"+t.ExpInstVar_Family(),n.GetValue())+".png"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>ek("Lighting"===t.ExpObject()?1:0,"Effects"===n(s.ExpObject(),7)?1:0)},()=>"initialized",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(n.GetValue(),s.ExpInstVar_Family()," -- ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t(n.GetValue(),s(r.GetValue(),o.GetValue()," | "),a.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s(r.ExpInstVar_Family()),0," -- ")," | ")},()=>"Spawning Water Assist Tilemap",()=>"[h2]Terrain collisions[/h2]",()=>"Create invisible solid",()=>"global",()=>"SemiFloor creation functions",e=>{const t=e._GetNode(0);return()=>64+Math.abs(t.ExpObject())},e=>{const t=e._GetNode(0);return()=>Qj("semiSolid yB",t.ExpObject()/16)},e=>{const t=e._GetNode(0).GetVar();return()=>64+Math.abs(t.GetValue())},()=>"SemiLeftWall creation functions",e=>{const t=e._GetNode(0);return()=>Qj("semiSolid xL",t.ExpObject()/16)},()=>"SemiRightWall creation functions",e=>{const t=e._GetNode(0);return()=>Qj("semiSolid xR",t.ExpObject()/16-1)},e=>{const t=e._GetNode(0);return()=>Qj("semiSolid xR",t.ExpObject()/16)},()=>"SemiRoof creation functions",e=>{const t=e._GetNode(0);return()=>Qj("semiSolid yT",t.ExpObject()/16-1)},e=>{const t=e._GetNode(0);return()=>Qj("semiSolid yT",t.ExpObject()/16)},()=>"SemiSlope creation functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4),a=e._GetNode(5);return()=>t(n.ExpObject(),s.ExpObject(r.GetValue()+1,o.ExpObject(a.ExpObject()-1)),0,0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("SemiCol")},e=>{const t=e._GetNode(0).GetVar();return()=>"Default"===t.GetValue()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4),a=e._GetNode(5);return()=>t(n.ExpObject(),s.ExpObject(r.GetValue()-1,o.ExpObject(a.ExpObject()-1)),0,0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?1:2},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue()-Math.floor(s.GetValue()),2)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?4:5},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?3:6},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?10:11},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?9:12},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?8:13},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>0?7:14},()=>"SemiRoofSlope creation functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject(),s.ExpObject(r.GetValue()+1,o.GetValue()),0,0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("SemiCol")-.5},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject(),s.ExpObject(r.GetValue()-1,o.GetValue()),0,0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("SemiCol")+.5},()=>"Exclusive Semisolid creation functions",()=>"Common tagging exceptions for SemiFloor",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(t.ExpInstVar_Family(),Qj(n(s.ExpObject(),"electricallyCharged"),r.ExpInstVar_Family()))},()=>"Semisolids activating",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpInstVar_Family(),r.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>4-t.ExpObject()%4},()=>"deactivateIfNecessary",()=>"Semisolids de-activating",()=>"Semisolids activation-updating self",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()+32},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()-32},()=>"SemiFloor updating events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()-Math.abs(n.ExpObject())/2-Math.abs(s.ExpObject())/2-Math.abs(r.ExpBehavior())/4},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+Math.abs(n.ExpObject())/2+Math.abs(s.ExpObject())/2+Math.abs(r.ExpBehavior())/4},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-Math.abs(n.ExpObject())-Math.abs(s.ExpBehavior())/4},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>(t.ExpInstVar_Family()?n.ExpObject():s(r.ExpObject(),0))-2*(o.ExpBehavior()>0?1:0)},e=>{const t=e._GetNode(0);return()=>Qj(" ",t.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>(t.ExpInstVar_Family()?n.ExpObject():s(r.ExpObject(),0))-2*(o.ExpBehavior()>=0?1:0)},()=>"SemiLeftWall updating events",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()+80},()=>"SemiRightWall updating events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+Math.abs(n.ExpObject())+Math.abs(s.ExpBehavior())/4},()=>"SemiRoof updating events",()=>"SemiSlope updating events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10),h=e._GetNode(11),_=e._GetNode(12),G=e._GetNode(13);return()=>((t.ExpInstVar_Family()?n.ExpObject()+s.ExpInstVar_Family()/2:r(o.ExpObject()))-a.ExpObject("Bottom"))*-i.ExpObject()-((l.ExpInstVar_Family()?d.ExpObject():c(u.ExpObject(),0))-2*(h.ExpBehavior()>=0?1:0)-_.ExpObject("Bottom"))*G.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10),h=e._GetNode(11),_=e._GetNode(12),G=e._GetNode(13);return()=>((t.ExpInstVar_Family()?n.ExpObject()-s.ExpInstVar_Family()/2:r(o.ExpObject()))-a.ExpObject("Bottom"))*-i.ExpObject()-((l.ExpInstVar_Family()?d.ExpObject():c(u.ExpObject(),0))-2*(h.ExpBehavior()>=0?1:0)-_.ExpObject("Bottom"))*G.ExpObject()},()=>"SemiRoofSlope updating events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8),c=e._GetNode(9),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11),_=e._GetNode(12),G=e._GetNode(13);return()=>((t.ExpInstVar_Family()?n.ExpObject()+s.ExpInstVar_Family()/2:r(o.ExpObject()))-a.ExpObject("Bottom"))*-i.ExpObject()-((l.ExpInstVar_Family()?d.ExpObject()-c.ExpInstVar_Family():u(h.ExpObject(),0))-_.ExpObject("Bottom"))*-G.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8),c=e._GetNode(9),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11),_=e._GetNode(12),G=e._GetNode(13);return()=>((t.ExpInstVar_Family()?n.ExpObject()-s.ExpInstVar_Family()/2:r(o.ExpObject()))-a.ExpObject("Bottom"))*-i.ExpObject()-((l.ExpInstVar_Family()?d.ExpObject()-c.ExpInstVar_Family():u(h.ExpObject(),0))-_.ExpObject("Bottom"))*-G.ExpObject()},()=>"Exclusive SemiFloor updating events",e=>{const t=e._GetNode(0);return()=>" "+t.ExpObject().toString()},()=>"Exclusive SemiWalls updating events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>ek(Qj("Left"===t.ExpObject()?1:0,n.ExpObject()>=s.ExpObject()?1:0),Qj("Right"===r.ExpObject()?1:0,o.ExpObject()<=a.ExpObject()?1:0))},()=>"Raycast initiations",()=>"GameObject collision tag updating",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()?"nothing":n.ExpInstVar_Family()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8);return()=>Qj(Qj(Qj(Qj(t.ExpInstVar_Family()+" xL",Math.floor((n.ExpObject()+s.ExpInstVar_Family()/2)/16)+1)+" xR",Math.ceil((r.ExpObject()-o.ExpInstVar_Family()/2)/16)-2)+" yT",Math.floor((a.ExpObject()-i.ExpInstVar_Family())/16)-1)+" yB",Math.ceil((l.ExpObject()-2*(d.ExpBehavior()>0?1:0))/16))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8),c=e._GetNode(9);return()=>Qj(Qj(Qj(Qj(t.ExpInstVar_Family()+" xL",Math.floor(n(s.ExpObject())/16)+1)+" xR",Math.ceil(r(o.ExpObject())/16)-2)+" yT",Math.floor(a(i.ExpObject(),0)/16)-1)+" yB",Math.ceil((l(d.ExpObject(),0)-(c.ExpBehavior()>0?1:0))/16))},()=>"Inserting & Removing collision tags",e=>{const t=e._GetNode(0).GetVar();return()=>" "+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar_Family()," ",s.GetValue())},()=>"Check if collision tag exists",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue()," ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue()," ")},()=>"EditorObject colorblind mode checks",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("b29,b30,i1,il1,o8,o10,o60,o61,o62,o63",n.GetValue(),",")},()=>"Toggling color blind mode",()=>"#",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+"#"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpObject(),s(r.ExpObject())-1)},()=>"b14",()=>"b15",()=>"b16",()=>"b17",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?1:2},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"#","")},()=>"Visualized Timers",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>Qj("SwitchTimer"===t(n.GetValue(),11)?1:0,s("switch"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj("endStarman"===t.GetValue()?1:0,n("star"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj("endMetal"===t.GetValue()?1:0,n("metal"))},()=>"timerVisualizerContainer",()=>"leaveScreenAndDestroy",()=>"intoPosition posX",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>16+20*t()},()=>"displayLeftoverTime",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpBehavior(n.ExpInstVar())-s.ExpBehavior(r.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>Qj(t(n.GetValue()),".")+s(Math.floor(10*(r.GetValue()-o(a.GetValue()))),1)},e=>{const t=e._GetNode(0);return()=>32+t.ExpObject()},()=>"backToDefaultColor color",()=>"leaveScreenAndDestroy posX",()=>"updateVerticalPos posY",e=>{const t=e._GetNode(0);return()=>16+20*t.ExpInstVar()},()=>"Misc. Language/Locale events",()=>"Creating the toolbox / overlay",()=>"Level",()=>"assistToolboxOverlay",()=>232,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Toolbox")},()=>"Editor",()=>"exitLevel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.edit")},()=>"containsButtonsForRegularPlay",()=>"ExitTransparent",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.exit")},()=>"0Camera",()=>"camera",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.toolbox.camera")},()=>"0Record",()=>"record",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.toolbox.record")},()=>"0Debug",()=>"debug",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.toolbox.debug")},()=>"moveOffscreen",()=>"Main Toolbox Events",()=>"playtestingTime",()=>"Opening / closing the toolbox",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>Qj(t.ExpObject(n.GetValue()),s(r.GetValue(),o.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t("misc-labels.toolbox."+n(s.GetValue(),r.GetValue(),","))},()=>"positionXIntoOverlay",e=>{const t=e._GetNode(0).GetVar();return()=>52+20*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("0Camera",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>44+20*t.GetValue()},()=>"transparency",()=>"jump1",()=>"jump2",()=>"0_toolbox",()=>"Pressing assist toolbox buttons",()=>"growAndShrink",()=>"closeSnapshot",()=>"thumbnailPreviewFrame",()=>"downloadSnapshot",e=>{const t=e._GetNode(0);return()=>Qj("Screenshot of ",t.ExpObject("name"))+".jpg"},()=>"stopRecording",()=>"invincibility",e=>{const t=e._GetNode(0);return()=>t.ExpObject(2)?0:1},()=>"moonjump",e=>{const t=e._GetNode(0);return()=>t.ExpObject(3)?0:1},()=>"trail",e=>{const t=e._GetNode(0);return()=>t.ExpObject(4)?0:1},()=>"clock",e=>{const t=e._GetNode(0);return()=>t.ExpObject(5)?0:1},e=>{const t=e._GetNode(0);return()=>t.ExpObject(5)?.5:1},()=>"frameadvance",e=>{const t=e._GetNode(0);return()=>t.ExpObject(6)?0:1},e=>{const t=e._GetNode(0);return()=>t.ExpObject(6)},()=>"flashlight",e=>{const t=e._GetNode(0);return()=>t.ExpObject(7)?0:1},e=>{const t=e._GetNode(0);return()=>t.ExpObject(7)},()=>"spyglass",e=>{const t=e._GetNode(0);return()=>t.ExpObject(8)?0:1},e=>{const t=e._GetNode(0);return()=>t.ExpObject(9)?0:1},()=>"Toolbox Buttons Animation Handling",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject(2),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject(3),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject(4),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject(5),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject(6),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject(7),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject(8),n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject(9),n.ExpInstVar())},()=>"Appear / Disappear (during regular play)",()=>"containsButtonsForRegularPlay_LOCKED",()=>"Taking a photo",()=>"HUDAboveBlending",()=>"snapshot",()=>"jumpY",e=>{const t=e._GetNode(0).GetVar();return()=>"data:image/png;base64,"+t.GetValue()},()=>"Close",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-20},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Download",t.GetValue())},()=>"Download snapshot",()=>"posXIntoScreen",()=>"thumbnailPreviewBackground",()=>"Recording",()=>"recordingDownload",()=>"Sorry! Recording isn't supported on this device.",()=>"recordingUnsupported",()=>"Video",e=>{const t=e._GetNode(0);return()=>Math.round(Xj(250,Kj(t.ExpObject("recorderQuality"),27.5)))},()=>"mpeg-4",()=>"The selected codec is not supported. Please choose a different codec in the recorder settings.",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(Qj("Recording of ",n.ExpObject("name")),".","")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.other-notifs.recording-ready")},()=>292,()=>"shrinkRecordingNotice",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+68},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"Recording!\n"+t()},()=>"icon",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()+"\n"+n()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()-12},()=>"StopRecording",()=>"End recording",()=>"bumpX",()=>"Invincibility",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+n(s.ExpObject()/2*-1,r.ExpObject()/2)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()-n(s.ExpObject())},()=>"Flashlight (Fullbright)",()=>"Spyglass",()=>"Arrow",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+8*Math.cos(tk.toRadians(n.ExpObject()-90))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+8*Math.sin(tk.toRadians(n.ExpObject()-90))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_t7")},()=>3188825,()=>12411696,()=>8390696,()=>"Player Trail",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>tk.distanceTo(t.ExpObject(n.ExpObject()-1,1),s.ExpObject(r.ExpObject()-1,2),o.ExpObject(),a.ExpObject())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("trailFrameCount")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Xj(t.ExpObject(n.GetValue(),2),1)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),6)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Kj(t.ExpObject(),n.ExpObject(s.GetValue(),5))},()=>"Frame Advance",()=>"frameAdvanceInfoBackground",()=>"Press + to advance a single frame",()=>"frameAdvanceInfo",()=>"Debugger menu",()=>"Toggling debugger (function)",()=>"viewingDebugger",()=>"keybindCustomizer",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()+" - Windows Desktop version - "+n()},()=>"debuggerHeader",()=>"\\[View tags]",()=>"viewTagsInDebugger",()=>"\\[View objects]",()=>"viewObjectsInDebugger",()=>"\\[View player stats]",()=>"viewPlayerStatsInDebugger",()=>"\\[View platform info]",()=>"viewPlatformInfoInDebugger",()=>"...",()=>"hardwareStats",()=>"objectStats",()=>"showGameRunTime",()=>"tags",()=>"Tag viewer",()=>"tagActivityList",()=>"\\[Back]",()=>"returnToMainDebuggerPage",()=>"Object viewer",()=>"debuggerObjectList",()=>"playerStats",()=>"Player statistics",()=>"debuggerPlayerStats",()=>"platformInfo",()=>"Platform info",()=>"debuggerPlatformInfo",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-24},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2+24},()=>"\\[Copy]",()=>"copyPlatformInfoInDebugger",()=>"Debugger: general functions",()=>"50C878",()=>"FFC300",()=>"C70039",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod();return()=>Qj(Qj("[background=#000000]Renderer:[/background] "+t()+" | "+n()+" | ",Math.round(s()))+" x ",Math.round(r()))+"\n[background=#000000]Frame Skipping:[/background] "+(o.ExpObject("frameSkipping")?"True":"False")+"\n\n"+a()+"\n - \n"+i()},()=>"Debugger common font events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>ek(ek(ek(ek(ek("returnToMainDebuggerPage"===t.ExpInstVar()?1:0,"viewTagsInDebugger"===n.ExpInstVar()?1:0),"viewObjectsInDebugger"===s.ExpInstVar()?1:0),"viewPlayerStatsInDebugger"===r.ExpInstVar()?1:0),"viewPlatformInfoInDebugger"===o.ExpInstVar()?1:0),"copyPlatformInfoInDebugger"===a.ExpInstVar()?1:0)},()=>13421772,()=>"Changing debugger page",()=>"Debugger general page",()=>"AFE1AF",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod();return()=>Qj(Qj(Qj(Qj(Qj("FPS: [color=#"+t.GetValue()+"]",n())+"[/color]\nCPU: ",Math.round(100*s()))+"%\nGPU: ",Math.round(100*r()))+"%\nVRAM: ",Math.round(o()))+"\nDT: [color=#"+(.017===a(i(),3)?"AFE1AF":"FFFFFF")+"]",l(d(),3))+"[/color]"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar();return()=>Qj(Qj(Qj(t.GetValue()," semi active")+"\n",n.GetValue())+" obj loaded\n",s.GetValue())+" obj queued\n(De)Spawns:\n "+(r.GetValue()?Qj("[color=#50C878]+ ",o.GetValue())+"[/color]":Qj(" + ",a.GetValue()))+" | "+(i.GetValue()?Qj("[color=#C70039]- ",l.GetValue())+"[/color]":Qj("- ",d.GetValue()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t()+" | Running for "+n(Math.floor(s()))+"\n"},()=>"Debugger tag viewer",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>"[background=#000000]"+t(n.ExpObject())+"[/background] "+(s.ExpObject("filters."+r.ExpObject()+".tags")?Qj("[color=#CCCCCC]'",o.ExpObject("filters."+a.ExpObject()+".tags"))+"'[/color]":"[color=#C70039]*[/color]")+" "},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>"[color=#"+t(n.ExpInstVar_Family())+"]"+(s.ExpObject(),"active[/color]")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>(t.ExpObject()?" - ":"")+"["+n.GetValue()+"]"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>"[background=#000000]"+t.ExpInstVar_Family()+"[/background] "+(n.ExpInstVar_Family()?"[color=#CCCCCC]'"+s.ExpInstVar_Family()+"'[/color]":"[color=#C70039]*[/color]")+" "},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>"[color=#"+t(n.ExpInstVar_Family())+"]"+s.ExpInstVar_Family()+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"[color=#"+t(n.ExpInstVar_Family())+"]paused[/color]"},()=>"\n\nModified tags: ",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5);return()=>Qj(t.ExpObject()+" ([color=#"+n(s.ExpObject())+"]",r.ExpObject())+"[/color])"+(o.GetValue()===a.ExpObject()?"":", ")},()=>"No info to display.",()=>"Debugger object viewer",()=>"objectListHeader",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj(Qj("Object viewer (",t.ExpObject())+" total, ",n.GetValue())+" queued)"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Xj(t.ExpObject(n.ExpInstVar_Family()),1)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>Qj(t.ExpObject()+"[offsetx=3]*[/offsetx] ",n.ExpObject(s.ExpObject()))+(r.GetValue()===o.ExpObject()?"":", ")},()=>"Debugger player stats viewer",()=>"Platform mode",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11);return()=>t.ExpInstVar_Family()+" / "+n.ExpInstVar_Family()+"\nMax spd: "+s(Math.round(r.ExpInstVar_Family()),3)+" / G: "+o(Math.round(a.ExpBehavior()),4)+" / A: "+i(Math.round(l.ExpInstVar_Family()),4)+" / D: "+d(Math.round(c.ExpInstVar_Family()),3)+" / P: "+u(Math.round(h.ExpInstVar_Family()),3)},()=>"Cloud control mode",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("Time left: ",t.ExpBehavior("despawnCloud")-Math.ceil(n.ExpBehavior("despawnCloud")))},()=>"Parachute mode",()=>"Standard climber mode",()=>"Pole climber mode",()=>"Hang climber mode",()=>"8-direction swim mode",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>"Max spd: "+t(Math.round(n.ExpInstVar()),3)+" / A: "+s(Math.round(r.ExpBehavior()),4)+" / D: "+o(Math.round(a.ExpBehavior()),3)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetVar();return()=>Qj(Qj(Qj(Qj(Qj("[background=#000000]Player ",t.ExpInstVar_Family()+1)+"[/background] C(",Math.round(n.ExpObject()))+", ",Math.round(s.ExpObject()))+") T(",Math.floor(r.ExpObject()/16))+", ",Math.floor(o.ExpObject()/16))+")\n"+a("Vector X: "+i(Math.round(l(d.GetValue(),1,0)),3)," -","-")+c(" / Vector Y: "+u(Math.round(h(_.GetValue(),1)),3)," -","-")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"\n\n[background=#000000]"+t.GetValue()+"[/background]\n"+n.GetValue()},()=>"Debugger platform info viewer",()=>"Copied text to clipboard!",()=>"platformInfoCopied",()=>"Info",()=>"Auto-detecting login session (from LSS)",()=>"levelsharesquare.com",()=>"Logging into LSS w/ form & viewing profile",()=>"loginToLSS",()=>"linkToRegisterLSS",()=>"https://levelsharesquare.com/auth",()=>"NewWindow",()=>"viewLSSProfile",()=>"id",e=>{const t=e._GetNode(0);return()=>Qj("https://levelsharesquare.com/users/",t.ExpObject("id"))},()=>"LSS_Profile",()=>"lssPasswordField",()=>"lssEmailField",()=>"awaitingServerLoginResponse",()=>"email",()=>"password",e=>{const t=e._GetNode(0);return()=>t.ExpObject("result")},()=>"accountSettings_loggedIn",()=>"Sorry, something went wrong. Double-check your email & password and try again.",()=>"lssLoginNotice",()=>"Warn",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.log-in")},e=>{const t=e._GetNode(0).GetVar();return()=>"No connection to the Level Share Square servers could be made. "+t.GetValue()},()=>"accountSettings_loggedOut",()=>"Logging out from LSS",()=>"logoutFromLSS",()=>"accountSettings_confirmLogout",()=>"confirmLogout",()=>"backToAccountSettingsPauseMenu",()=>"Requesting account data",e=>{const t=e._GetNode(0);return()=>t.ExpObject("_id")},()=>"avatar",e=>{const t=e._GetNode(0);return()=>t.ExpObject("avatar")},()=>"levelCount",e=>{const t=e._GetNode(0);return()=>t.ExpObject("levels")},()=>"Going online/offline",()=>"offlineNotice",()=>"accountSettings",()=>"levelSyncMenu_unavailable",()=>"accountOverviewHeader",()=>"levelSyncMenu_connect",()=>"levelSyncMenu_edit",()=>"LSS levels cloud sync",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"[color=#EF9000]"+t(n("common.words.paused"))+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"[color=#65FE08]"+t(n("common.words.active"))+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#65FE08]"+t("toolbar.labels.sync-on-exit")+"[/color]"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>t.GetValue()+"\n"+n("toolbar.buttons.edit-sync-settings")},()=>"lssSyncSetup",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>"[color=#DB4657]"+t(n("common.words.inactive"))+"[/color]\n"+s("common.buttons.click-configure")},()=>-360112037592063,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.currently-offline")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.not-logged-in")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>"[color=#DB4657]"+t(n("common.words.unavailable"))+"[/color]\n"+s.GetValue()},()=>"Time",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t("toolbar.tooltips.last-sync")+"\n[scale=0.75][color=#CCCCCC]"+n(s.ExpObject(r.GetValue(),5))+"[/color][/scale]"},()=>"handleSuccessfullSync",()=>"site",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-new.sync-success")},()=>"lssSync_success",()=>"lssLevelSync_connect",()=>"lssLevelSync_edit",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-edit.sync-cancelled")},()=>"Warning",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-20},()=>"[Super Mario Construct] Level synchronizated with Level Share Square.",e=>{const t=e._GetNode(0);return()=>t.ExpObject("levelSelected")},()=>"LSS levels cloud sync (screen menu creation)",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","lssLevelSync_connect")},()=>"HUDScreenMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-new.enter-link")},()=>"lssSyncLabel",()=>"https://",()=>"lssSyncLevelID",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.cancel")},()=>252,()=>"syncUpLevelID",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.proceed")},()=>344,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.how-it-works")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("screen-menus.level-sync-new.info-label-1")+"\n*\n"+n("screen-menus.level-sync-new.info-label-2")},()=>"lssSyncInfo",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","lssLevelSync_edit")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("screen-menus.level-sync-edit.sync-select")+"\n[scale=0.66][color=#CCCCCC]"+n("screen-menus.level-sync-edit.cooldown-notice")+"[/color][/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-edit.sync-options")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("lssSync_mode")},()=>"lssLevelsync_intervalMode",()=>310,()=>131,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-edit.desync")},()=>188,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>6*t(n("screen-menus.level-sync-edit.cancel-sync"))},()=>"cancelLevelSync",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-edit.cancel-sync")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("screen-menus.level-sync-edit.cancel-notice-1")+"\n*\n"+n("screen-menus.level-sync-edit.cancel-notice-2")},()=>"LSS levels cloud sync - connect (screen menu events)",()=>"checkLevelExists",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n(s.ExpObject(),r(o.ExpObject(),"/")-1,"/"),0,"?")},()=>"getTargetLevelSyncData",e=>{const t=e._GetNode(0).GetVar();return()=>"https://levelsharesquare.com/api/levels/"+t.GetValue()},()=>"level.author._id",e=>{const t=e._GetNode(0);return()=>t.ExpObject("id")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("level._id")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.other-notifs.not-your-level")+" "+n("misc-labels.other-notifs.visit-level-list")},()=>"lssSync_levelNotFound",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.other-notifs.level-not-found")+" "+n("misc-labels.other-notifs.visit-level-list")},()=>"Proceed",()=>"LSS levels cloud sync - edit (screen menu events)",()=>"cancelLevelSync_confirm",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.confirm-click")},()=>"LSS level sync - check which code is newer",e=>{const t=e._GetNode(0);return()=>t.ExpObject("lssSync_levelID")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("lastEdited")},e=>{const t=e._GetNode(0);return()=>Math.floor(Jj(t.ExpObject("lastEdited"),1e3))+20},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","compareCodeWithLSS")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("screen-menus.level-sync-compare.new-ver-on-site")+"\n*\n"+n("screen-menus.level-sync-compare.restore-point-notice")},()=>"compareCodesContainer",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/4},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2-16},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-compare.local-version")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+35},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("screen-menus.level-sync-compare.last-edited")+"\n[offsety=2][scale=0.75][color=#CCCCCC]"+n(s.ExpObject("lastEdited"))+"[/offsety][/color][/scale]"},()=>"lastEditedLabel",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+13},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Qj(t("screen-menus.restore-points.code-size")+"\n[offsety=2][scale=0.75][color=#CCCCCC]",n(s.ExpObject()))+" "+r("common.words.characters")+"[/offsety][/color][/scale]"},()=>"codeSizeLabel",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/4-10},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2-28},()=>"keepLocalLevelAndSync",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-compare.keep-local-version")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-13},()=>"downloadLocalCopy",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-compare.download-copy")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/4},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-compare.cloud-version")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("screen-menus.level-sync-compare.last-edited")+"\n[offsety=2][scale=0.75][color=#CCCCCC]"+n(Kj(s.ExpObject("lastEdited"),1e3))+"[/offsety][/color][/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>Qj(t("screen-menus.restore-points.code-size")+"\n[offsety=2][scale=0.75][color=#CCCCCC]",n.ExpObject("sizeOnSite"))+" "+s("common.words.characters")+"[/offsety][/color][/scale]"},()=>"reloadWithCloudLevel",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.level-sync-compare.use-cloud-version")},()=>"downloadCloudCopy",()=>"Fetch cloud-stored level code (JavaScript)",()=>"LSS level sync - compare local and cloud (screen menu events)",()=>"compareCodeWithLSS",()=>"application/json",e=>{const t=e._GetNode(0);return()=>Qj(Qj(t.ExpObject("name")," [Local version]"),".json")},()=>"downloadCloudCopyOfLevel",()=>"game",()=>"reloadWithCloudCopy",()=>"reloadWithCloudLevel_loading",e=>{const t=e._GetNode(0);return()=>t.ExpObject("newLevel.code")},e=>{const t=e._GetNode(0);return()=>Qj(Qj(t.ExpObject("newLevel.name")," [Cloud version]"),".json")},()=>"Handle account authentication errors",()=>204,()=>440,()=>"Your Level Share Square login credentials have expired. You will need to re-login.",()=>"LSS_error",()=>"LSS",()=>"Map Screenshot",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue()-1)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+416},e=>{const t=e._GetNode(0).GetVar();return()=>16.01*t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj(Qj(Qj(Qj(Qj(Qj(t.ExpObject("name")," - "),n.GetValue())," ["),s.ExpObject("authors")),"]"),".png")},()=>"displayMapSnapOptions",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDNormalParallax")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-12},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2-8},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CMClose",t.GetValue())},()=>"closeCustomizationMenu",()=>"onTopOf9PatchMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.mapsnap.info")},()=>"customizationOptionName",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/4-4},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/5},()=>"MapSnapDefault",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.mapsnap.default-button")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/4-8},()=>"MapSnapFixed",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.mapsnap.fixed-button")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/4+36},()=>"HelpTransparent",()=>"optionInfo",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.mapsnap.default-info")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/4+32},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.mapsnap.fixed-info")},()=>"Synchronizing language files",()=>"languageFileSyncing",()=>"targetLang",()=>"getDefaultLocaleForSync",()=>"defaultLang",e=>{const t=e._GetNode(0);return()=>t.ExpObject("targetLang.locale")},()=>"defaultLang.strings",()=>"sortedLang",e=>{const t=e._GetNode(0);return()=>t.ExpObject("sortedLang")},()=>"Failed to fetch source en-US language file for comparison.",e=>{const t=e._GetNode(0).GetVar();return()=>"defaultLang.strings."+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),6)},()=>"common",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s(r.GetValue(),".")-1,".")},()=>"pluralSupportCheck",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("days,hours,minutes,seconds,layers,effects,filters,generators,objects,tiles,destination,entryway,maps,themes,tags,degrees",n(),",")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>"defaultLang.strings."+t.GetValue()+"."+n(s.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("defaultLang.strings."+n.GetValue()+".other")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+"."+n.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>"targetLang.strings."+t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("[!]",t.ExpObject("defaultLang.strings."+n.GetValue()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("targetLang.strings."+s.GetValue()),"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("defaultLang.strings."+s.GetValue()),"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetVar();return()=>t(n.ExpObject("defaultLang.strings."+s.GetValue()),"|")-(r(o.ExpObject("defaultLang.strings."+a.GetValue()),"|")-i(l.ExpObject("targetLang.strings."+d.GetValue()),"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetVar();return()=>t(n.ExpObject("defaultLang.strings."+s.GetValue()),"|")-r(o.ExpObject("targetLang.strings."+a.GetValue()),"|")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>Qj(Qj(t.ExpObject("targetLang.strings."+n.GetValue()),"|[!]"),s(r.ExpObject("defaultLang.strings."+o.GetValue()),a.GetValue(),"|"))},()=>"Background picker (screen menu) events",()=>"Creating background selection (function)",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDAboveBlending","backgroundSelect")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"_")+n.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>76*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>62*t.GetValue()},()=>"custom",e=>{const t=e._GetNode(0).GetVar();return()=>56+76*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>36+62*t.GetValue()},()=>"removeBackground",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.remove")},()=>"zoom zElevation",()=>"Creating backgrounds cards",()=>"representingBackground",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".grd"),0,"_")},()=>"Picking background by card / removing background",()=>"preventChangingBackground",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpObject(s(r.ExpInstVar(),1,"_")),1,"_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+"."+n.GetValue()+".src"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar()+(n.ExpInstVar()?Qj("_",s.ExpInstVar()):"")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+"."+n.GetValue()+".dat"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),0,s(r(o.GetValue(),0,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),1,s(r(o.GetValue(),1,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),2,s(r(o.GetValue(),2,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),3,s(r(o.GetValue(),3,",")))},()=>"customBackgroundMenu",()=>"cbgPreview",()=>"toCBGMenuPosition",()=>"newSize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+"."+n.GetValue()},()=>"backToBackgroundList",()=>"backgroundSelect",()=>"Laying out background palettes",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue())," -- ")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+5*n.GetValue()},()=>"Custom background setup (screen menu)",()=>"Enter a link to a custom background below:",()=>"toolbarText",()=>"Enter a custom background URL here",()=>"cbgURL",()=>"Back",()=>244,()=>"Done",()=>"[offsety=-2]Background dimensions: 512 x 432 pixels[/offsety]\n[scale=0.7]One screen: 416 x 240 (widescreen) or 320 x 240 (CRT)[/scale]\n\n[offsety=-2]Notes regarding animated backgrounds[/offsety]\n[scale=0.7]The supported format for animated backgrounds is webm.\nNote that due to technical limitations, animated backgrounds cannot be scaled automatically.[/scale]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+"."+r.GetValue()+".src"),8)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+"."+s.GetValue()+".src")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),1,6)},()=>"Level music screen menu",()=>"Creating the music manager menu",()=>"HUDScreenMenuAboveBlending",()=>"HUDScreenMenuWithBlending",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","musicManager")},()=>"musicManagerOverlay",()=>"musicManager",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-72},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.music-selector")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.manage-custom-music")},()=>"destinationAtop",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Customizer",t.GetValue())+"_T"},()=>"Setting music manager tab",()=>"|",()=>"ovw|udg|udw|des|bch|mnt|volc|space|bz|fort|gh|ship|fact|boss|misc",()=>"ovw|udg|udw|des|bch|mnt|volc|sky|space|bz|fort|gh|ship|fact|boss|misc",()=>"smas1-v|smc-1|crossover-1",()=>"smw-v|smc-2|smb1|sml|nsmb|misc",()=>"MusicOverlayLMR",e=>{const t=e._GetNode(0).GetVar();return()=>0===t.GetValue()?"changeMusicSorting":"useInbuildTheme"},()=>"ReplaceMiddleColor",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>0===t.GetValue()?Qj("SortTransparent",n.GetValue()):"ReturnTransparent"},()=>"musicOverlayButton",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod();return()=>0===t.GetValue()?n("misc-labels.music-manager.sort-by-"+(1===s.GetValue()?"level-theme":"game-origin")):r("misc-labels.music-manager.use-default-music")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-28},()=>"menuInfo",()=>"ReplaceColor",()=>6540335,()=>"removeMusic",()=>8355839,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("RemoveMusic",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.remove-music")},()=>"WarnTransparent",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.remove-music-warning")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t("misc-labels.music-manager."+n(s.GetValue(),r.GetValue(),"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("9,12",s.GetValue()-1,","))},()=>"MusicOverlayL",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+12+n.GetValue()%3*112},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.GetValue()+20*s.GetValue()},()=>"previewMusic",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("PlayTransparent",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.preview")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+.5},()=>"verticalSeparator",()=>"MusicOverlayR",()=>"selectMusic",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject(n.ExpObject(s.ExpObject()),3)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject(n.ExpObject(s.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject("newMusic"),Qj(Qj(s.GetValue(),"_"),r.ExpObject(o.GetValue(),3)),"|")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()+64},e=>{const t=e._GetNode(0).GetVar();return()=>20+20*(t.GetValue()+1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("common.labels.nothing-to-see")+"\n[scale=0.75][color=#CCCCCC]"+n("misc-labels.music-manager.timed-custom-music-notice")+"[/color][/scale]"},()=>"noMusicCategoriesMessage",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.npc-press-play")},()=>"npcMusicMessage",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("scrollLevel_"+n.GetValue())},()=>"customMusicManager",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+17},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.custom-music-tab-header")},()=>"customMusicTabInfo",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+52+30*n.GetValue()},()=>"MusicOverlayM",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-68},()=>"editCustomMusic",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("EditTransparent",t.GetValue())},()=>"editMusic",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.edit-music")},()=>"deleteCustomMusic",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("DeleteTransparent",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.delete")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+48+30*n.GetValue()},()=>"addCustomMusic",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("PlusTransparent",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.add-custom-music")},()=>"Music manager: UI events",()=>"screenMenuOpening",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpInstVar(),3)},()=>"Picking music in the toolbar's music menu",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject(n(s.ExpInstVar()))},()=>"selectedMusicName",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar(),s.GetValue(),-1)},()=>"Picking music for EditorObjects",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>-1===t.GetValue()?n.ExpInstVar():s.GetValue().toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),s.ExpInstVar(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(0,n.GetValue(),s.ExpInstVar())},()=>"changeMusicSorting",e=>{const t=e._GetNode(0);return()=>t.ExpObject("musicSortingID")?0:1},()=>"useInbuildTheme",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"music."+t(n.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family(),1,-1)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"toolbarMusicMenu"===t()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"editorObject"===t()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),0,-1)},()=>"Music manager: NPC easter egg",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t("HUD"),n("HUD"),s.ExpObject(),r.ExpObject()-8)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>216?1:0},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"NPC8")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"NPC8_Talk")},()=>"Music manager: adding, editing & removing custom music",()=>"menuPressedThisFrame",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.unnamed-music")},e=>{const t=e._GetNode(0).GetVar();return()=>"customMusic."+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Qj(t("misc-labels.music-manager.unnamed-music")+" ",n.GetValue()+1)},()=>"leaveCustomMusicEditMode",()=>"confirmCustomMusicDeletion",e=>{const t=e._GetNode(0);return()=>"customMusic."+t.ExpInstVar()},e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".music"},e=>{const t=e._GetNode(0);return()=>"music."+t.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),0===s.ExpInstVar()?0:1,-1)},e=>{const t=e._GetNode(0);return()=>0===t.ExpInstVar()?0:1},()=>"Music manager: transitioning custom music editing / deleting mode (3 functions)",()=>"currentlyEditingCustomMusic",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.custom-music-tab-help")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.name"))+":"},()=>"customMusicEditingMenuLabel",()=>"customMusicName",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+156},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.loop"))+":"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+176},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("customMusic."+n.ExpInstVar()+".loop").toString()},()=>"0.000",()=>"customMusicLoopPoint",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Jj(t.ExpObject("customMusic."+n.ExpInstVar()+".vol"),-5)},()=>"customMusicVolumeAdjustment",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("customMusic."+n.ExpInstVar()+".src")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.source-url")},()=>500,()=>"customMusicSourceURL",()=>"ReturnTransparent",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.custom-music-delete-prompt")},()=>"customMusicDeletingMenuLabel",()=>15771736,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>"[color=#CCCCCC]"+(t.GetValue()?n.GetValue():s("misc-labels.music-manager.insert-url"))+"[/color]"},()=>"Music manager: editing custom music elements",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),".,")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("customMusic."+n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t("toolbarMusicMenu"===n()?s.GetValue():0,-1,-1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>ek(t(n.ExpObject(),"://")>=0?1:0,"/"===s(r.ExpObject(),1)?1:0)},e=>{const t=e._GetNode(0);return()=>"customMusic."+t.ExpInstVar()+".src"},e=>{const t=e._GetNode(0);return()=>"customMusic."+t.ExpInstVar()+".loop"},e=>{const t=e._GetNode(0);return()=>"customMusic."+t.ExpInstVar()+".vol"},e=>{const t=e._GetNode(0);return()=>-5*t.ExpObject()},()=>"Get music menu origin",()=>"musicSettings",()=>"toolbarMusicMenu",()=>"editorObject",()=>"[h3]Menu element spawning[/h3]",()=>"Creating overlays",()=>"scrollableToolbarSeparator",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t.GetValue()?n.ExpObject()-4:8*s(r.GetValue())},()=>"Creating fonts",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()>0?n.GetValue():1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>8*t(n.GetValue())*s.GetValue()},()=>"toolbarScrollableText",()=>"textBackground",()=>"Creating HTML elements",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"[!]","")},()=>"Creating buttons",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-6},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject())*s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),"[sub]","[scale=0.75][color=#CCCCCC]"),"[/sub]","[/color][/scale]")},()=>2152696,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),2)},()=>"CM",()=>"Creating checkboxes",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t.GetValue()+n(s(r.GetValue(),0,","))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t.GetValue()+n(s(r.GetValue(),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),4,","))},()=>"Creating preview frames",()=>"mapPreview",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".bgc")},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".fg.src"},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".mg.src"},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".bg.src"},()=>"Creating separators",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-12},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()/2-n.GetValue()/2-4},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()-n.GetValue()/2-s.GetValue()/2},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()+n.GetValue()/2+s.GetValue()/2},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CurlySeparatorBottom",t.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+4-4*n.GetValue()},()=>"curlySeparatorText",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CurlySeparatorTop",t.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+(2===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("GrassSeparator",t.GetValue())},()=>"Creating any other misc menu-related elements",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),7)},()=>"1Number",()=>18632,()=>"2Number",()=>"Sliders",()=>"Slider creation & updating",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("SliderLine",t.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("LineStart")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("LineStart")+n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Math.round(t.ExpObject()-n.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>(t.GetValue()-100)/3.3},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Xj(Kj(t.ExpObject(n.GetValue()),3.3),100)},()=>"Slider dragging",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"%")},()=>"Slider start/stop dragging",()=>"displaySliderPercent",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("PowerUp","PipeAndPowerDown","Poof","PowerUpAppear","Spring","BouncyStomp","SwitchPressed","Fireball")},()=>"soundEffectVolumeTest",()=>"Clicking slider icons",e=>{const t=e._GetNode(0);return()=>2===t.ExpObject()?1:0},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()+"_LAST"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpInstVar()+"_LAST")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject()+n(s.ExpInstVar())},()=>"Scrollbar",()=>"Scrollbar creation & visibility",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("ScrollbarLine",t.GetValue())},()=>"preventScrollbarHandleUpdating",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t.ExpObject()+Math.abs(n.GetValue())*(s.ExpObject()/Math.abs(r()))},()=>"Scrollbar dragging",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>(t("HUD")-n.ExpObject())/(s.ExpObject()/Math.abs(r()))*-1},()=>"Scrollbar start/stop dragging",()=>"Global button events",()=>"displayPressedFrame",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()-(n()-120)},()=>"preventMenuInteraction",()=>12632256,()=>14803425,()=>14737632,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(255-n.GetValue(),255-s.GetValue(),255-r.GetValue())},()=>"Tooltips",()=>"Determine if menu element can display tooltip",e=>{const t=e._GetNode(0);return()=>t.ExpObject(0,1)},()=>"Prepare tooltip (custom action)",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpInstVar_Family()+4},()=>"HUDTooltips",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),13)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(0===t(n.ExpObject())?1:0,0===s(r.ExpObject())?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpInstVar_Family()?n.ExpInstVar_Family():s.ExpObject()},()=>"Creating tooltip (function)",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+4},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject())-4},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject())+4},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>"TileSelectHitbox"===t.ExpObject()?n.ExpObject():s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-1},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+2},()=>"LayerIconT",()=>"Tooltip Z-index updating events",()=>"Custom dropdowns",()=>"Creating custom dropdowns",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("DropdownParent",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpInstVar_Family()+"|"+n(s.GetValue(),r.GetValue(),"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family(),"|")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("DropdownChild",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()+(n.GetValue()+1)*s.ExpObject()},()=>"layerSwitching",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+12},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("LayerIcon",t.ExpObject(n.GetValue(),3))},()=>"layerNameInLayerDropdown",()=>4749312,()=>13065254,()=>5789784,()=>"moveBack",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-(n.ExpInstVar_Family()+1)*s.ExpObject()},()=>"Interacting with custom dropdowns",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+(n.ExpInstVar_Family()+1)*s.ExpObject()},()=>"selectedAnimation",()=>"Layer dropdown extra events",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t.GetValue()+"|",n.ExpObject(s.ExpObject()))},()=>330,()=>"Checkbox",()=>"Checkbox toggle events for dedicated settings",()=>"Checkboxes inside the [u]map settings[/u] menu",()=>"toggleCameraControl",()=>"toggleRotationSynchronization",()=>"toggleDisableOffscreenIndicators",()=>"Checkboxes inside [u]toolbar settings[/u] menu",()=>"toggleGrid",()=>"toggleFavoritesBar",()=>"toggleMiniToolbar",()=>"toggleToolbarAnimations",()=>"toggleEditorSounds",()=>"toggleCursorCoordinatesDisplay",()=>"Checkbox inside [u]map creation[/u] menu",()=>"copyThemeToNewMap",()=>"Checkbox inside [u]effects[/u] menu",()=>"toggleEffectActiveOnStart",()=>"filter",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family(),1,"_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.GetValue()+"s."+n(s.ExpInstVar_Family(),1,"_")+".active"},()=>"toggleEffectSFX",e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".createSFX"},()=>"ignoreEnvironmentCollisions",e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".ignoreEnvironmentCollisions"},()=>"toggleAdditiveBlending",e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".additiveBlend"},()=>"toggleEffectTwoWayMovement",e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".twoWayMovement"},()=>"toggleEffectWaterCheck",e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".waterCheck"},()=>"windGeneratorSFXToggle",e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".playWindSFX"},()=>"windGeneratorOnlyAffectPlayer",e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".onlyAffectPlayer"},()=>"Checkboxes inside [u]backup settings[/u] menu",()=>"toggleAutosave",()=>"toggleAutosaveNotifications",()=>"togglePeriodicDownloadLevelPrompts",()=>"Checkboxes for toggling [u]Palace Switch[/u] states",()=>"palaceSwitchToggle",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpInstVar())?0:1},e=>{const t=e._GetNode(0);return()=>Qj("b",t.ExpInstVar()+14)},()=>"Checkboxes inside the [u]pause[/u] menu",()=>"toggleFrameSkipping",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?30:60},()=>"toggleStricterParticleCap",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?32:128},()=>"toggleCRTFilter",()=>"toggleSmoothLighting",()=>"toggleRecorderAudio",()=>"toggleRecorderAutoDownload",()=>"toggleColorBlindnessMode",()=>"toggleScreenShakePrevention",()=>"toggleVisualizedTimers",()=>"toggleOffscreenIndicators",()=>"Checkbox toggle events for EditorObjects",()=>"editorObjExtraValue",()=>"toggleExtraValueAndResetVisuals",()=>"beingPreviewed",()=>"editorObjExtraValue_reversed",e=>{const t=e._GetNode(0);return()=>(t.ExpInstVar()?0:1).toString()},()=>"editorObjAnimFrame",()=>"addOrSubtractVisualAppearanceID",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+(n.ExpInstVar()?1:-1)},()=>"sinewaveToggle",e=>{const t=e._GetNode(0);return()=>(3*t.ExpInstVar()).toString()},()=>"nonstopProjectilesToggle",()=>"projectilesInCycleLabel",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpInstVar()?n(128,128,128):s(255,255,255)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()?0:n.ExpObject()},()=>"toggleDefaultFlagPoleBaseTile",()=>"toggleExtraValueAndRestockContainer",()=>"toggleTorpedoBase",()=>"toggleFishingRod",e=>{const t=e._GetNode(0);return()=>16*Math.round(t.ExpObject()/16-.5)+8},()=>"toggleBossAttack",()=>"bossBattleAttackFrequency",()=>"bs3",e=>{const t=e._GetNode(0);return()=>13===t.ExpInstVar()?"4":"1"},()=>"bossBattleAttackProjectileCount",()=>"bs2",()=>"Miscellaneous checkbox toggle events",()=>"toggleResetWarpOnEntryway",()=>"Tab elements",e=>{const t=e._GetNode(0).GetVar();return()=>"[color=#000000]"+t.GetValue()+"[/color]"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+1},()=>"9-Directional buttons",()=>"Creating 9-Directional buttons",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("On",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Off",t.GetValue())},()=>-17,()=>"outwards",()=>"inwards",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+17*n.GetValue()},()=>"MinusIcon",()=>"shrinkBackToDefault",()=>"Pressing 9-Directional buttons",()=>"storeAngleToEditorObjectExtraValue",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r.ExpObject(),o.ExpObject()))+90).toString()},()=>"9DirectionalAngleInputAlternative",()=>"t8",()=>"setBackgroundOrigin",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(n.GetValue(),1,s.ExpInstVar())},()=>"windGeneratorBlowDirection",e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".windAngle"},()=>"Misc. 9-Directiomal buttons functions",()=>247.5,()=>112.5,()=>202.5,()=>157.5,()=>"Converting seconds to time string",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue()," sec.")},()=>3600,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(Math.floor(t.GetValue()/60)," min. "),n.GetValue()%60)+" sec."},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(Qj(Math.floor(t.GetValue()/3600)," hr. "),Math.floor(n.GetValue()/60)%60)+" min. ",s.GetValue()%60)+" sec."},()=>"Level-ending statistics",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t()/n.GetValue()},()=>"LevelEndStatContainer",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>10*t.GetValue()+24-(10*n.GetValue()+24)%8},()=>"levelEndStatisticsDisplay",()=>"moveToScreen posY",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(Qj("",t.ExpInstVar())+"*50= ",50*n.ExpInstVar())},()=>"convertingTimeToPoints",()=>" deaths= 0",()=>"deathCountDisplay",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>" playtime= "+t(0)},()=>"levelPlaytimeDisplay",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5);return()=>t.ExpObject()===n.GetValue()?" all shroom coins get!":Qj(" missed ",s.GetValue()-r.ExpObject())+" shroom coin"+(o.GetValue()-a.ExpObject()===1?"":"s")},()=>"dragonCoinCollectionDisplay",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj("[color=",t.ExpObject("usernameColour","#D83818"))+"]"+n(s.ExpObject("username"))},()=>"displayCharacterName",()=>"GamestyleFont2",()=>"COURSE CLEAR!",e=>{const t=e._GetNode(0).GetVar();return()=>.6+.6*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>100+16*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>116+16*t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>132+16*t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5);return()=>t.ExpObject()===n.GetValue()?" all dragon coins collected!":Qj(" missed ",s.GetValue()-r.ExpObject())+" dragon coin"+(o.GetValue()-a.ExpObject()===1?"":"s")},()=>49344,e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2-16},()=>"SingleStar",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2+16},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(Qj("",t.ExpInstVar_Family())+"*50= ",50*n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),3)},()=>"count",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CountComplete",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj(" deaths= ",t.ExpInstVar_Family()-n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>" playtime= "+t(Math.round(n.ExpInstVar_Family()-s.GetValue()))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()%4},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Count",t.GetValue())},()=>"Theme picker",()=>"Creating theme menu & cards",()=>"themePicker",()=>"representingTheme",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue(),1),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11),_=e._GetNode(12).GetVar();return()=>t(n(s(r.ExpObject(o.GetValue(),1),0,",")),a(i(l.ExpObject(d.GetValue(),1),1,",")),c(u(h.ExpObject(_.GetValue(),1),2,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue(),1),"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue(),1),0,"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(r.GetValue(),7),0,","))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj("LayeredWater",t.GetValue())+"_"+n(s.ExpObject(r.GetValue(),7),1,",")+"_Preview"},()=>12.5,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetVar();return()=>Qj(t.GetValue(),"_")+n(s.ExpObject(r.GetValue(),2),0,"_")+"_"+o(a.ExpObject(i.GetValue(),2),1,"_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetVar();return()=>Qj(t.GetValue(),"_")+n(s.ExpObject(r.GetValue(),3),0,"_")+"_"+o(a.ExpObject(i.GetValue(),3),1,"_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetVar();return()=>Qj(t.GetValue(),"_")+n(s.ExpObject(r.GetValue(),4),0,"_")+"_"+o(a.ExpObject(i.GetValue(),4),1,"_")},()=>"Setting theme (function)",()=>"preventChangingTheme",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar();return()=>Qj(t.GetValue(),"_")+n(s.GetValue(),0,"_")+(r(o(a.GetValue(),1,"_"))?"_"+i(l.GetValue(),1,"_"):"")},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".bg.dat"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),2,"_")},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".mg.dat"},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".fg.dat"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),5)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj("2,",t(n(s.ExpObject(r.GetValue(),7),1,",")))+",12"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>"maps."+t.GetValue()+".fx."+n(s.GetValue(),0,"_")},()=>"Updating the theme previewer",()=>"themePreviewer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("themes.menu.change-theme")},()=>"displayThemeName",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue(),0)},e=>{const t=e._GetNode(0);return()=>1/(432/(t.ExpObject()-2))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Math.round(t.ExpObject()/(512*n.GetValue()))+2},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(s.GetValue(),r.GetValue()),2,"_")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t.ExpObject()-n.ExpObject()/2-256*s.GetValue()+r.GetValue()*(512*o.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar();return()=>Qj(t.GetValue(),"_")+n(s.ExpObject(r.GetValue(),o.GetValue()),0,"_")+"_"+a(i.ExpObject(l.GetValue(),d.GetValue()),1,"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),2,","))/2},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),3,","))/2},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-n.GetValue()*(512*s.GetValue())},()=>"Hovering over theme cards",()=>"grow size",()=>"shrink size",()=>"Opening the theme list",()=>"selectTheme",()=>"disappear opacity",()=>"Level restore point menu events",()=>"Restore point menu creation",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","LevelRestorePointList")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.restore-points.none-found")},()=>"showRestoreMenuInfo",()=>"restorePointInfoContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.restore-points.header")},()=>"restorePointsHeader",()=>392,e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("Close",t.ExpObject(n.GetValue(),1))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.GetValue(),s.ExpObject(r.ExpObject()))},e=>{const t=e._GetNode(0);return()=>224+40*t.ExpObject()},()=>"Peekaboo",()=>"Create restore point cards",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>64+40*t.GetValue()+n.GetValue()},()=>"restorePointContainer",e=>{const t=e._GetNode(0).GetVar();return()=>40*t.GetValue()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-112},()=>"showRestorePointDate",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(t("screen-menus.restore-points.code-size")+"\n[scale=0.8]",n(s.ExpObject(r.GetValue().toString())))+" char.[/scale]"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("Customizer",t.ExpObject(n.GetValue(),1))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+108},()=>"restoreLevelFromRestorePoint",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.restore-points.restore")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("Download",t.ExpObject(n.GetValue(),1))},()=>"downloadCodeFromRestorePoint",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.restore-points.download")},()=>-56,e=>{const t=e._GetNode(0);return()=>.5*t.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.05)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("screen-menus.restore-points.confirm-prompt")},()=>"restoreLevelFromRestorePoint_Confirm",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.confirm")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("Return",t.ExpObject(n.GetValue(),1))},()=>"cancelLevelRestoration",()=>"Restoring a level to a previous state & downloading",()=>"LevelRestorePointList",()=>"disappearing",()=>"shrinkAndReplaceWithConfirmLevelRestorationCard",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpInstVar_Family().toString())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s.ExpObject(r.GetValue()))},()=>"shrinkAndReplaceWithLevelRestorationCard",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpInstVar().toString())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.ExpObject(n.GetValue(),2)," (backup created at "),s(r.ExpInstVar())),").txt")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.other-notifs.level-restored-prev-ver")},()=>"levelRecovery",()=>"New feature highlights",()=>"[color=#FFD700]new[/color]",()=>"newFeatureHighlight",()=>"jump posY",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("newSprites_",n.GetValue()))},e=>{const t=e._GetNode(0);return()=>t.ExpObject("newTilesets")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("newTilesets"),"|",s.ExpObject())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("newOrUpdatedPages")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("newOrUpdatedPages"),"|",s.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("newSprites_",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t(n.ExpObject(Qj("newSprites_",s.GetValue())),"|",r.ExpObject())},e=>{const t=e._GetNode(0);return()=>t.ExpObject("newMusic")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue(),"_"),n.ExpObject(s.ExpInstVar(),3))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("newMusic"),"|",s.ExpObject())},()=>"Retrieving menu elements data",()=>"optionalID",()=>"environment",()=>"Miscellaneous menu element events",()=>"Dragging 9PatchMenus",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-n()},()=>"textOpacity",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t()+n.GetValue()},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("textOpacity").toString()},()=>"Get past-time string",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>(t()-n.GetValue())/1e3/60},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>(t()-n.GetValue())/1e3/60/60},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod();return()=>t(n.GetValue())+" "+s(r.GetValue())+"\n[scale=0.75]"+o("common.time.just-now")+"[/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetBoundMethod();return()=>t(n.GetValue())+" "+s(r.GetValue())+"\n"+o("common.time.notation",Qj("[scale=0.75]",Math.round(a.GetValue()))+" "+i("common.time.minutes",Math.round(l.GetValue())),d("common.time.ago")+"[/scale]")},()=>1440,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod();return()=>t(n.GetValue())+" "+s(r.GetValue())+"\n"+o("common.time.notation",Qj(Qj("[scale=0.75]",Math.floor(a.GetValue()/60))+" "+i("common.time.hours",Math.floor(l.GetValue()/60))+", ",Math.round(d.GetValue()%60))+" "+c("common.time.minutes",Math.round(u.GetValue())),h("common.time.ago")+"[/scale]")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod();return()=>t(n.GetValue())+" "+s(r.GetValue())+"\n"+o("common.time.notation",Qj(Qj("[scale=0.75]",Math.floor(a.GetValue()/24))+" "+i("common.time.days",Math.floor(l.GetValue()/24))+", ",Math.round(d.GetValue()%24))+" "+c("common.time.hours",Math.round(u.GetValue()%24)),h("common.time.ago")+"[/scale]")},()=>"Extendable line",()=>"Wave",()=>"settingSineByTarget",()=>"Textbox & Dropdown CSS + extra events & custom actions",()=>"font-family",()=>"ps2p",()=>"1.3vw",()=>"font-weight",()=>"bolder",()=>"border",()=>"transparent",()=>"1.0vw",()=>15219,()=>"Miscellaneous text / font events",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(t.ExpObject()<n.ExpObject()?1:0,s.ExpObject()<r.ExpObject()?1:0)},e=>{const t=e._GetNode(0);return()=>.9*t.ExpObject()},()=>"Miscellaneous menu events (functions)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod();return()=>t("common.menu-options.standard")+" "+n("common.words.volume")+"|-5 "+s("common.words.decibels")+"|-10 "+r("common.words.decibels")+"|-15 "+o("common.words.decibels")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("0,0,0 | 0,0,0 | 88,168,240",n.GetValue()," | ")},()=>"Extra dropdown events",()=>"Filling dropdown (custom action)",()=>"Fill dropdown with layers",()=>"Dropdown power-up events",()=>"defaultPowerupP1",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Idle0_"),n.ExpInstVar())},()=>"defaultInventoryContent",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Qj("i",t(n.ExpObject()-1))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(0))},()=>"Fence Overlay events",()=>"Hovering over MenuDots",()=>"Scrolling through menus",()=>"Update menu elements to right position",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+n.ExpInstVar_Family()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+n.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar();return()=>"scrollLevel_"+t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(Qj("scrollLevel_",t.ExpObject(0))+"_",n.ExpObject(s.GetValue()))},()=>"inTilebar",()=>"hoveredOverJump",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+72+18*n.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+72+18*n.ExpObject()},e=>{const t=e._GetNode(0);return()=>Qj("scrollLevel_",t.ExpObject(0))},()=>"mapDisplay",()=>"mapDeletionDisplay",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+80+56*Math.round((n.ExpInstVar_Family()-1)/2)},()=>"createNewMapButton",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+67+56*Math.round((n.ExpInstVar_Family()-1)/2)},()=>"importMapCodeButton",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+93+56*Math.round((n.ExpInstVar_Family()-1)/2)},()=>"destinationDisplay",()=>"createNewDestinationButton",()=>"detinationDeletionDisplay",e=>{const t=e._GetNode(0);return()=>152+t.ExpInstVar_Family()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>t.GetValue()+280+56*Math.round((n.ExpInstVar_Family()-1)/2)+s.ExpInstVar_Family()},()=>"destinationSeparator",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+234+n.ExpInstVar()},()=>"mapNameDisplay",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+246+n.ExpInstVar()},()=>"WarpMenu",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+112},()=>"effectSettingsContainer",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+84+28*n.ExpInstVar_Family()},()=>"effectAdditionContainer",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+88+28*n.ExpInstVar_Family()},()=>"destinationSaperator",()=>"scrollLevel_musicSettings",()=>"levelMusicContainer",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+72+36*n.ExpInstVar_Family()},e=>{const t=e._GetNode(0);return()=>56+t.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+36+n.ExpInstVar()},()=>"advancedPlatformVisualPicker",()=>"advancedPlatformPreview",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+64+n.ExpInstVar_Family()},e=>{const t=e._GetNode(0);return()=>208+t.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t()-n.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>264+Math.abs(t.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("scrollMenu")},()=>"Basic scrolling menu events (functions)",()=>"preventScrollingInMenu",()=>"Get max scroll level (function)",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-t.ExpObject()+n.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+n.ExpObject()/2},e=>{const t=e._GetNode(0).GetVar();return()=>-Math.abs(188-t.GetValue())},e=>{const t=e._GetNode(0);return()=>-1*Math.abs(20*t.ExpObject())+96},e=>{const t=e._GetNode(0).GetVar();return()=>-1*Math.abs(28*t.GetValue())+56},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>-1*Math.abs(t.ExpInstVar_Family()+192+28*n.ExpInstVar_Family())},e=>{const t=e._GetNode(0);return()=>-1*Math.abs(28*t.ExpInstVar_Family())-48},e=>{const t=e._GetNode(0);return()=>-1*Math.abs(36*t.ExpInstVar())+96},e=>{const t=e._GetNode(0);return()=>-1*t.ExpInstVar()+106},e=>{const t=e._GetNode(0);return()=>-1*t.ExpInstVar()+168},e=>{const t=e._GetNode(0);return()=>-1*Math.abs(t.ExpInstVar())+120},e=>{const t=e._GetNode(0);return()=>-1*Math.abs(t.ExpInstVar_Family()+40)},e=>{const t=e._GetNode(0);return()=>-1*t.ExpObject()+120},()=>"Check if inside scrollable menu (function)",()=>"preventMenuScrolling",()=>"Scrolling methods",()=>-36,()=>"Screen Menu events",()=>"BlurH",()=>"BlurV",()=>"Creating screen menu (functions)",()=>"Close screen menu (function) + common close triggers",e=>{const t=e._GetNode(0);return()=>t.ExpObject("scrollLevel_musicSettings",0)},()=>"Clear screen menu UI contents (function)",()=>"Notifications",()=>"Creating notifications & layering",()=>"dismissNotif",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>-1*t(n.GetValue(),"|")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.ExpObject()+3+14*s.GetValue()},()=>"notificationText",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>36*(t.ExpObject()-1)-36*n.ExpObject()+32},()=>"Dismissing notifications",()=>"moveOffScreenAndDisappear",()=>"Interacting with notifications (pressing buttons)",()=>"Deny",()=>"newUpdateReady",()=>"Refresh",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Qj("Level"===t()?1:0,"edit"===n.GetValue()?1:0)},()=>"Saving level and reloading...",()=>"Accept",e=>{const t=e._GetNode(0);return()=>Qj("https://levelsharesquare.com/levels/user/",t.ExpObject("id"))},()=>"lssLevelList",()=>"Error display",e=>{const t=e._GetNode(0).GetVar();return()=>"Warning: "+t.GetValue()},()=>"errorOrWarning",e=>{const t=e._GetNode(0).GetVar();return()=>"[Super Mario Construct] "+t.GetValue()},()=>"Tip notifications",()=>"TipNotification",()=>"tipNotification",()=>"notificationLayer",e=>{const t=e._GetNode(0).GetVar();return()=>"tip_"+t.GetValue()},()=>"tipNotificationText",()=>"CloseTipNotif",()=>"closeTipNotif",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>"Tilemap_"+t(n.GetValue(),1,"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),2,"|"))},()=>"tipNotificationIcon",()=>"editorObj",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpInstVar(),s(r.ExpInstVar())-4)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("dismissed_",t())},()=>"Update availability alerts",()=>"A new update has been detected! It will install in the background, you'll be notified when it's ready.",()=>"newUpdateDetected",()=>"A new version is now available! Refresh to update when you're ready.",()=>"Refresh|Deny",()=>"Windows Desktop",()=>"Linux Desktop",()=>"desktopVersionUpdateCheck",()=>"https://levelsharesquare.com/api/accesspoint/gameversion/SMC",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t(n.ExpObject("version"),s())},e=>{const t=e._GetNode(0);return()=>Qj("A new update is available (",t.ExpObject("version"))+")! Update the game on the Itch App or download the latest version."},()=>"newDesktopUpdateReady",()=>"[h4]Pausing[/h4]",()=>"Toggling pause",e=>{const t=e._GetNode(0);return()=>t.ExpObject("pause")},()=>"editingKeybinds",()=>"pauseBG",()=>"pausePageInfo",()=>"Setting & clearing pause menu pages",()=>"General pause menu page creation events",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.game-paused")},()=>"pausedLabel",()=>"Pause page: main/general",()=>"pauseMenuSeparator",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.in-game-username")},()=>284,()=>"editUsername",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.in-game-username-colour")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("usernameColour")},()=>"editUsernameColour",()=>289,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"MusicVolume")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("musicVolume")},()=>138,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"SoundVolume")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("soundVolume")},()=>290,()=>"deathAnimation",()=>333,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("ControlConfig",t.GetValue())},()=>"openControlConfig",()=>"pauseMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.edit-keybinds")},()=>355,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("GraphicsSettings",t.GetValue())},()=>"openGraphicsSettings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.graphics-settings")},()=>377,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("AccountSettings",t.GetValue())},()=>"openAccountSettings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.account-settings")},()=>399,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Accessibility",t.GetValue())},()=>"openAccessibilityMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.accessibility-options")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"Title Screen"===t()?"closePauseMenu":"exitToMainMenu"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>"Title Screen"===t()?n("common.buttons.go-back"):s("pause-options.buttons.main-menu")},()=>196,()=>"restartFromBeginning",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.restart")},()=>378,()=>"restartFromCheckpoint",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.restart-c")},()=>"unavailable",()=>8355711,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.extra-options-tools")},()=>"Pause page: graphics settings",()=>"graphicsSettings",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("pause-options.labels.graphics-settings"))},()=>"accessibilityHeader",()=>79,()=>"openRecorderSettings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.recorder-settings")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.frame-skip")},()=>"54,0,0,84,16",e=>{const t=e._GetNode(0);return()=>t.ExpObject("frameSkipping")},()=>"pauseMenuTooltip",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.frame-skip")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.reduced-particles")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("reducedParticles")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.reduced-particles")},()=>146,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.crt-filter")},()=>"66,0,0,108,16",e=>{const t=e._GetNode(0);return()=>t.ExpObject("CRTMode")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.smooth-lighting")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("smoothLighting")},()=>340,()=>182,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.fullscreen-scaling")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("pause-options.labels.fill-screen")+"|"+n("pause-options.labels.perfect-resolution")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("fullscreenScalingMode")},()=>"backToMainPauseMenu",()=>"Pause page: recorder settings",()=>"recorderSettings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.recorder-settings")},()=>"Codec",()=>297,()=>"MPEG-4/AAC (mp4)|WEBM VP9/OPUS (webm)",e=>{const t=e._GetNode(0);return()=>"webm-vp9"===t.ExpObject("recorderCodec")?1:0},()=>"changeRecorderCodec",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.recorder-quality")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"RecorderQuality")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("recorderQuality")},()=>142,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.recorder-quality-notice")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.record-audio")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("recorderAudio")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.record-download")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("recorderAutoDownload")},()=>"Pause page: account settings (checking account status) & confirm-logout",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.offline-notice")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.log-out-confirmation")},()=>"confirmLogoutNotice",()=>"Pause page: account settings (logged out)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("pause-options.labels.account-settings"))},()=>"accountSettingsHeader",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?"awaitingServerLoginResponse":"linkToRegisterLSS"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpInstVar()?"...":n("pause-options.buttons.register")},e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?"awaitingServerLoginResponse":"loginToLSS"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpInstVar()?"...":n("pause-options.buttons.log-in")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.email")},()=>"type",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.password")},()=>"Pause page: account settings (logged in)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("pause-options.labels.logged-in-as",n.ExpObject("username"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("pause-options.labels.x-levels-on-lss",n.ExpObject("levelCount"))},()=>"lssLevelCount",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.lss-profile")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.logout")},()=>"Pause page: accessibility",()=>"accessibility",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("pause-options.labels.accessibility"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>ek("en-US"===t()?1:0,"en-GB"===n()?1:0)?"Language":"[scale=0.75]Language / "+s(r("common.words.language"))+"[/scale]"},()=>74,()=>"English (North America)|English (British)|German / Deutsch|Dutch / Nederlands|French / Franais|Spanish / Espaol (Mexico)|Portuguese / Portugus|Italian / Italiano|Polish / Polski|Russian / |Japanese / |Latin / Latina",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n(),"en-US|en-GB|de-DE|nl-NL|fr-FR|es-MX|pt-PT|it-IT|pl-PL|ru-RU|jp-JP|la","|")},()=>"selectedLanguage",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.colorblind-mode")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("colorBlindMode")},()=>"Accessibility",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.disable-screenshake")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("screenShakeDisabled")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.visualized-timers")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("visualizedTimers")},()=>190,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.offscreen-indicators")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("offscreenIndicators")},()=>"Pause page: keybinds & debugger",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("pause-options.labels.editing-control-keybinds")+"\n("+n("pause-options.labels.close-menu-to-return")+")"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("pause-options.labels.viewing-debugger")+"\n("+n("pause-options.labels.close-menu-to-return")+")"},()=>"openKeybindsMenu",()=>"Interacting with pause menu options",()=>"exitToMainMenu",()=>"fadeAndQuitToTitleScreen",()=>"fadeAndRestart",()=>"fadeAndRestartFromCheckpoint",()=>"enterFullscreen",()=>"exitFullscreen",()=>"disableDeathAnimation",()=>"enableDeathAnimation",()=>"enableCRTMode",()=>"disableCRTMode",()=>"enableSmoothLighting",()=>"disableSmoothLighting",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("en-US|en-GB|de-DE|nl-NL|fr-FR|es-MX|pt-PT|it-IT|pl-PL|ru-RU|jp-JP|la",n.ExpObject(),"|")},()=>"Creating pause menu buttons",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Fullscreen",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.enable-fullscreen")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("ExitFullscreen",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.disable-fullscreen")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("DisableDeathAnimation",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.skip-death-anim")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("EnableDeathAnimation",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.play-death-anim")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("EnableCRTMode",t.GetValue())},()=>"Enable CRT mode",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("DisableCRTMode",t.GetValue())},()=>"Disable CRT mode",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("EnableSmoothLighting",t.GetValue())},()=>"Enable Smooth Lighting",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("DisableSmoothLighting",t.GetValue())},()=>"Disable Smooth Lighting",()=>"Special events for sprites during pausing",()=>"[h4]Keybinds customization[/h4]",()=>"Keybinds menu creation",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-50},()=>"keyboardKeybinds",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.keyboard"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+50},()=>"gamepadKeybinds",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.controller"))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+11},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.control-config-k")},()=>"controlMenuHeader",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-76},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Move left: "+t(n.ExpObject("left"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+76},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Move right: "+t(n.ExpObject("right"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-31},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Jump: "+t(n.ExpObject("jump"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Duck: "+t(n.ExpObject("duck"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Spinjump: "+t(n.ExpObject("spinjump"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Hold item: "+t(n.ExpObject("holdItem"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Run: "+t(n.ExpObject("run"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Use powerup: "+t(n.ExpObject("usePowerup"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Look up: "+t(n.ExpObject("lookUp"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Inventory: "+t(n.ExpObject("inventory"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+37},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Pause: "+t(n.ExpObject("pause"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Toolbox: "+t(n.ExpObject("toolbox"))},()=>"Camera",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.tooltips.camera-keybinds")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-114},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+60},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Cam : "+t(n.ExpObject("camLeft"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-38},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Cam : "+t(n.ExpObject("camRight"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+38},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Cam : "+t(n.ExpObject("camUp"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+114},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"Cam : "+t(n.ExpObject("camDown"))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-32},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CMDefaults",t.GetValue())},()=>"resetToDefaultKeybinds",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.menu-options.reset-to-default")},()=>"closeKeybindsMenu",()=>"keyboard",()=>"gamepad",()=>"Closing keybinds menu",()=>"shrinkAndDestroy",()=>"waitingForKeyInput",()=>"Switching keybinds menu page",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.labels.control-config-g")},()=>"Customizing keybinds",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.press-any-key")},()=>14811135,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("left,right,jump,duck,spinjump,holdItem,run,usePowerup,lookUp,inventory,pause,toolbox,camLeft,camRight,camUp,camDown",n.ExpInstVar_Family(),",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(0)},()=>-50,()=>"analog_0_-1",()=>"analog_0_1",()=>"analog_1_-1",()=>"analog_1_1",()=>"analog_2_-1",()=>"analog_2_1",()=>"analog_3_-1",()=>"analog_3_1",()=>"Updating keybind button text",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.move-left")+": "+n(s.ExpObject("left"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.move-right")+": "+n(s.ExpObject("right"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.jump")+": "+n(s.ExpObject("jump"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.duck")+": "+n(s.ExpObject("duck"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.spinjump")+": "+n(s.ExpObject("spinjump"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.hold")+": "+n(s.ExpObject("holdItem"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.run")+": "+n(s.ExpObject("run"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.use-power-up")+": "+n(s.ExpObject("usePowerup"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.look-up")+": "+n(s.ExpObject("lookUp"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.inventory")+": "+n(s.ExpObject("inventory"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.pause")+": "+n(s.ExpObject("pause"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.toolbox")+": "+n(s.ExpObject("toolbox"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.cam")+" : "+n(s.ExpObject("camLeft"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.cam")+" : "+n(s.ExpObject("camRight"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.cam")+" : "+n(s.ExpObject("camUp"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("misc-labels.controls.cam")+" : "+n(s.ExpObject("camDown"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.move-left")+": "+n("left")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.move-right")+": "+n("right")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.jump")+": "+n("jump")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.duck")+": "+n("duck")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.spinjump")+": "+n("spinjump")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.hold")+": "+n("holdItem")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.run")+": "+n("run")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.use-power-up")+": "+n("usePowerup")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.look-up")+": "+n("lookUp")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.inventory")+": "+n("inventory")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.pause")+": "+n("pause")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.toolbox")+": "+n("toolbox")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.cam")+" : "+n("camLeft")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.cam")+" : "+n("camRight")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.cam")+" : "+n("camUp")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("misc-labels.controls.cam")+" : "+n("camDown")},()=>" ",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.controls.space")},()=>"[color=CCCCCC]...[/color]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue()),0,"_")},()=>"analog",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetVar();return()=>t(n.ExpObject(s.GetValue()),1,"_")+"_"+r(o.ExpObject(a.GetValue()),2,"_")},()=>"0_-1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.controls.leftAnalog")+" "},()=>"0_1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.controls.leftAnalog")+" "},()=>"1_-1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.controls.leftAnalog")+" "},()=>"1_1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.controls.leftAnalog")+" "},()=>"2_-1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.controls.rightAnalog")+" "},()=>"2_1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.controls.rightAnalog")+" "},()=>"3_-1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.controls.rightAnalog")+" "},()=>"3_1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.controls.rightAnalog")+" "},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue()).toString()},()=>"Misc. keybinds functions",()=>"inputs",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("left,right,jump,duck,spinjump,holdItem,run,usePowerup,lookUp,inventory,pause,toolbox,camLeft,camRight,camUp,camDown",n(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n("37,39,90,40,67,88,88,32,38,16,80,17,65,68,87,83",s(),","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>"KeyboardKeybinds"===t.ExpObject()?n(s("37,39,90,40,67,88,88,32,38,16,80,17,65,68,87,83",r(),",")):-1},()=>"Keeping keybind customization menu in-bounds",()=>"backIntoScreenX",()=>"backIntoScreenY",()=>"CRT mode (visual filter)",()=>"Noise",()=>"ScanLines",()=>"Vignette",()=>"Toggling (smooth) light mode",()=>"Level may need to be restarted for all lights to update properly.",()=>"lightingUpdatedNotice",()=>"Lighting",()=>"Editing username / username colour",()=>"usernameColour",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t.ExpObject("username")?Qj("[color=",n.ExpObject("usernameColour",1===s.GetValue()?"#FFFFFF":"#D83818"))+"]"+r(o.ExpObject("username")):"mario"},()=>"Game Over screen",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("GameOver",t.GetValue())},()=>"GameOver",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"GameOver")},()=>"appear",()=>"shrinkToSize",()=>"moveToScreen",()=>"appearToSemiTransparent",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("common.buttons."+(n.GetValue()?"exit":"editor"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("pause-options.buttons.main-menu")},()=>"[h2]End of frame events[/h2]",()=>"Looping through tilemaps after creation",()=>"Wrapping up sprite activation",()=>"createFourSidedCollisions",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-.1},()=>"Other activation timers",()=>"createAndApplyPaletteImage",()=>"initializeAnimationFrames",()=>"uninitialized",()=>"GameObject environmental updates",()=>"Final animation updates",()=>"Coming out of (pipe) spawners",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject()-s.ExpBehavior("comingOutOfSpawner")-(r.ExpObject()-o.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject()-s.ExpObject()-r.ExpBehavior("comingOutOfSpawner"))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-2-(n.ExpObject()-s.ExpObject())},()=>"End skidding SFX if necessary",()=>"SMAS SMB1 Cloud Mario's hat updating",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Hat")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()/(n.ExpObject()/s.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>Qj(t.GetValue(),"CloudHat_")+(Math.sign(n.ExpObject())===Math.sign(s(r.GetValue(),1,0))?"Move":"Idle")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>Qj(t.GetValue(),"CloudHat_")+(Qj(Math.sign(n.ExpObject())===Math.sign(s(r.GetValue(),1,0))?1:0,Math.abs(o(a.GetValue(),1,0))>64?1:0)?"Move":"Idle")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),"CloudHat_")+(n(s.GetValue(),1)<0?"Jump":"Fall")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetVar(),l=e._GetNode(7),d=e._GetNode(8),c=e._GetNode(9).GetBoundMethod();return()=>ek(t.ExpObject()===Qj(Qj(Qj(n.GetValue(),"Swim"),s.ExpInstVar())+"_",r.ExpInstVar())+o()?1:0,a.ExpObject()===Qj(Qj(Qj(i.GetValue(),"SwimFloat"),l.ExpInstVar())+"_",d.ExpInstVar())+c()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),"CloudHat_")+(n(s.GetValue(),1)<0?"Idle":"Fall")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),1)<=0?1:0},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CloudHat_Idle")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CloudHat_FallSide")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t.GetValue(),"CloudHat_")+n("Front,SpinSide,Back,SpinSide",s.ExpObject(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>-1!==t(n.ExpObject(),"Ride")?1:0},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CloudHat_RideCommand")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CloudHat_Ride")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Math.abs(t(n.ExpInstVar(),1,0))>64?1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>2+(t(n.ExpInstVar(),1)>0?1:0)},()=>"Update electricity particles",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+6-8*n.ExpInstVar()},()=>"Objects bumping into eachother",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek("enemies"===t.GetValue()?1:0,"bosses"===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),Qj("ignore_",s.GetValue()))},()=>"Objects defeating other objects / Turning",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>96*Math.sign(qj(t(n.GetValue(),"X"),s.ExpObject()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>ek(Qj("right"===t.GetValue()?1:0,n.GetValue()<s.GetValue()?1:0),Qj("left"===r.GetValue()?1:0,o.GetValue()>a.GetValue()?1:0))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>ek(Qj("right"===t.GetValue()?1:0,n.GetValue()>s.GetValue()?1:0),Qj("left"===r.GetValue()?1:0,o.GetValue()<a.GetValue()?1:0))},()=>"Correcting movement to proper values",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar_Family()?40:80},()=>"Input booleans updating",()=>"Aligning 4-sided collision semis (+ dedicated single-semis)",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>ek(0==(t.ExpObject()===n.ExpInstVar_Family()?1:0)?1:0,0==(s.ExpObject()===r.ExpInstVar_Family()?1:0)?1:0)},e=>{const t=e._GetNode(0);return()=>Math.floor(t.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>"heavyStone"===t.ExpInstVar_Family()?n.ExpObject("SemiSolid"):s.ExpObject()},()=>"busterBeetle",()=>"montyMole",()=>"Remove dynamic layers",()=>"Finalizing sprite positions at end of frame",()=>"Final Angry Sun events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t()+n.ExpInstVar()+s.ExpBehavior("extraOffsetX")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t()+n.ExpInstVar()+s.ExpBehavior("extraOffsetY")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("rayRotationSpeed")},()=>"Chuck head positioning (when un-pinned)",()=>"headVerticalOffset",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("headVerticalOffset")},()=>"Clear CollisionTaggingCooldown if applicable",()=>"Synchronizing behavior properties",()=>"[h2]Global end of frame events[/h2]",()=>"DraggableObjects EoF-events",()=>"Wind generator: wind noise events",()=>"Wind",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".blowingWind"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".playWindSFX"},e=>{const t=e._GetNode(0);return()=>"generators."+t.ExpObject()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".mode"},()=>"buildingUp",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>qj(1,Jj(t.ExpObject(n.ExpObject()+".buildupProgress"),s.ExpObject(r.ExpObject()+".buildup")))},()=>"fullyActive",()=>"coolingDown",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>qj(1,Jj(t.ExpObject(n.ExpObject()+".cooldownProgress"),s.ExpObject(r.ExpObject()+".cooldown")))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Xj(15*-t.GetValue(),n.ExpObject("soundVolume"))},()=>"Fading music looping & volume adjustment checking",e=>{const t=e._GetNode(0);return()=>Qj("musicFade_",t.ExpObject())},()=>"updateMuffleFilterMix",()=>"muffle",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("updateMuffleFilterMix")},()=>"Storing previous coordinates / vectors",()=>"[h2]Start of frame events[/h2]",()=>"Update camera viewport variables",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>qj(t(),Kj(n.ExpObject("mapScreenWidth"),8))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Xj(t(),Kj(n.ExpObject("mapScreenWidth"),8))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>qj(t(),Kj(n.ExpObject("mapScreenHeight"),8))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Xj(t(),Kj(n.ExpObject("mapScreenHeight"),8))},()=>"Sprite collision tagging on creation",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject()," ")+"global block fragile-brick-block fragile-flip-block chomp-post magma-block frost-block "+("player"===n.ExpInstVar_Family()?"player-only":"sprite-only")},()=>"General resets",()=>"DraggableObjects SoF-events",()=>"Is able to move independently",()=>"Handle moving off conveyor belts",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpBehavior()+s.ExpBehavior(),r.ExpBehavior())},()=>"Movement speed resetting",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t.ExpObject(1)-n.ExpObject()/2*Math.abs(Math.cos(tk.toRadians(s.ExpObject())))-r.ExpObject()/2*Math.abs(Math.sin(tk.toRadians(o.ExpObject())))-a.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t.ExpObject(1)+n.ExpObject()/2*Math.abs(Math.cos(tk.toRadians(s.ExpObject())))+r.ExpObject()/2*Math.abs(Math.sin(tk.toRadians(o.ExpObject())))+a.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t.ExpObject(1)-n.ExpObject()/2*Math.abs(Math.cos(tk.toRadians(s.ExpObject())))-r.ExpObject()/2*Math.abs(Math.sin(tk.toRadians(o.ExpObject())))-a.ExpObject()/2},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>t.ExpObject(1)+n.ExpObject()/2*Math.abs(Math.cos(tk.toRadians(s.ExpObject())))+r.ExpObject()/2*Math.abs(Math.sin(tk.toRadians(o.ExpObject())))+a.ExpObject()/2},()=>"Updating overlap-checker array",()=>"Overlap-Trackers: clean up tracked UIDs",()=>"Update GameObject's semi-solid updatability",()=>"Update GameObject's hitbox sizes",()=>"Textboxes: 'on text changed'-corrections",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject(),s(r.ExpInstVar(),o.GetValue()," "),"")},()=>"Creating HTML-layers in editor-mode",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"Level"===t()?1:0},()=>"HUDMiddleHTML",()=>"HUDBottomHTML",()=>"HUDBottom",()=>"[h2]End of frame events (UI)[/h2]",()=>"UI events for specific languages",e=>{const t=e._GetNode(0);return()=>6*t.ExpObject()},()=>"Updating cursor coordinates / swapped-to layer positions",()=>"cursorCoordinatesContainer",()=>"swappedLayerNameContainer",()=>"Sound Effects",()=>"Play Sound (function)",e=>{const t=e._GetNode(0).GetVar();return()=>4+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("_index",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t()+"/"+n.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>"Global/"+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),0,"_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>t.GetValue()+n()},e=>{const t=e._GetNode(0).GetVar();return()=>"SFX "+t.GetValue()},()=>"SFX",()=>"filters.echo.active",()=>"filters.echo.affectedAudio",()=>"echo",()=>"filters.muffle.active",()=>"filters.muffle.affectedAudio",e=>{const t=e._GetNode(0);return()=>t.ExpObject("muffle",0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()*n.GetValue()},()=>"Sound capping & mutes",()=>"Stop sound effects",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8).GetVar();return()=>Qj(t(n.ExpObject(s.ExpObject(),1),r.GetValue(),"_"),ek(0===o.GetValue()?1:0,a(i.ExpObject(l.ExpObject(),1),d.GetValue().toString(),"_")))},()=>"Get sound path by name",e=>{const t=e._GetNode(0).GetVar();return()=>"Global/Yoshi/"+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("Clear,CorrectBuzzer,ScoreBonus,SwitchTimerEnding,WrongBuzzer",n.GetValue(),",")},e=>{const t=e._GetNode(0).GetVar();return()=>"Global/Events/"+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("ReserveDrop,Ring,Strawberry,StockReserve",n.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(t()+"/"+n.GetValue(),s.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>ek("Boss"===t(n.GetValue(),4)?1:0,"Bowser"===s(r.GetValue(),6)?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>"Global/Boss/"+t.GetValue()},()=>"GameObjects playing SFX (custom action)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue()+"_",n.ExpObject())},()=>"Misc. sound effect functions",e=>{const t=e._GetNode(0);return()=>t.ExpObject("soundVolume")},()=>"filters.vol",()=>"filters.vol.active",()=>"filters.vol.affectedAudio",e=>{const t=e._GetNode(0);return()=>t.ExpObject("filters.vol.volumeReduction")},()=>"Music system",()=>"Main music events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t()+"/Music",n.GetValue())+"_",s.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>"Remote_"+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(" MIndex",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("musicVolume"))},e=>{const t=e._GetNode(0).GetVar();return()=>"Music "+t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Xj(t.ExpObject("customMusic."+n.GetValue()+".vol"),s.ExpObject("musicVolume"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>1===t.GetValue()?n("Music "+s.GetValue())-3:0},()=>"Music",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"LevelMusic"," ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("TitleMusic|TitleMusicHoliday|MenuMusic|ExtraOptionsMusic|EditorMusic|LevelMusic|LevelClearMusic|SwitchMusic|StarmanMusic|MetalMusic|GameOver",n.GetValue(),"|")},()=>"stopMusicPreview",()=>"Music effects",e=>{const t=e._GetNode(0).GetVar();return()=>"SFX"===t.GetValue()?.2:.4},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj("Music"===t.GetValue()?1:0,"edit"===n.GetValue()?1:0)?100*(2===s.ExpObject("editorMusic")?1:0):0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"echo|muffle","|")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".affectedAudio")},()=>"filters.muffle.toggleDuration",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>qj(t.ExpObject("filters.muffle.toggleDuration"),n.ExpBehavior("updateMuffleFilterMix"))},()=>"Updating music volume (function)",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("customMusic."+n.GetValue()+".vol")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>-15-t("Wind")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.GetValue()+n.GetValue()+s.GetValue()+r.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>"LevelMusic"===t("TitleMusic|TitleMusicHoliday|MenuMusic|ExtraOptionsMusic|EditorMusic|LevelMusic|LevelClearMusic|SwitchMusic|StarmanMusic|MetalMusic|GameOver",n.GetValue(),"|")?1:0},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("customMusic."+n.ExpObject()+".vol")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+n.ExpBehavior("levelMusicFadeOut")},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpObject(),"_Bongos")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(),Qj("MIndex",s.GetValue()))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+n.ExpBehavior("levelMusicFadeIn")},()=>"Continue level music (function)",e=>{const t=e._GetNode(0);return()=>""===t.ExpObject("map","")?0:1},()=>"Music previewing",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()?n.GetValue():s.GetValue().toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue())-2.5},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("StopTransparent",t.GetValue())},()=>"Looping music",e=>{const t=e._GetNode(0).GetVar();return()=>"Music LevelMusic "+t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Xj(t.ExpObject(n.GetValue()+".vol"),s.ExpObject("musicVolume"))},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+".loop"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue()+".loop")},()=>"Music EditorMusic",()=>24.03,()=>4.77,()=>"Switch music events",e=>{const t=e._GetNode(0);return()=>t.ExpObject("switch","")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()?n.GetValue():Qj("SwitchTheme",s.GetValue())},()=>"SwitchMusic",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()?1:0},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("SwitchTheme",t.GetValue())},()=>10.52,e=>{const t=e._GetNode(0);return()=>Qj("customMusic.",t.ExpObject("switch"))+".loop"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(Qj("customMusic.",n.ExpObject("switch"))+".loop")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("PSwitchTimer")-n.ExpBehavior("PSwitchTimer")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("SwitchTimerEnding")},()=>"switchNotification",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("BrownPSwitchTimer")-n.ExpBehavior("BrownPSwitchTimer")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("GrayPSwitchTimer")-n.ExpBehavior("GrayPSwitchTimer")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpBehavior("ExclamationSwitchTimer")-n.ExpBehavior("ExclamationSwitchTimer")},()=>"Starman music events",e=>{const t=e._GetNode(0);return()=>t.ExpObject("star","")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()?n.GetValue():Qj("Starman",s.GetValue())},()=>"StarmanMusic",()=>"star",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Starman",t.GetValue())},e=>{const t=e._GetNode(0);return()=>Qj("customMusic.",t.ExpObject("star"))+".loop"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(Qj("customMusic.",n.ExpObject("star"))+".loop")},()=>"Metal music events",e=>{const t=e._GetNode(0);return()=>t.ExpObject("metal","")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()?n.GetValue():Qj("MetalTheme",s.GetValue())},()=>"MetalMusic",()=>"metal",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MetalTheme",t.GetValue())},()=>4.02,e=>{const t=e._GetNode(0);return()=>Qj("customMusic.",t.ExpObject("metal"))+".loop"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(Qj("customMusic.",n.ExpObject("metal"))+".loop")},()=>"Switching music using string ID",()=>".k",()=>"Editor music functions",e=>{const t=e._GetNode(0);return()=>qj(t.ExpObject("editorMusic"),3)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Qj("Editor",t(n.ExpObject("activeEditorMusicID")))},()=>"Misc. music functions/events",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("LevelMusic")-3},()=>"Yoshi Bongos",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("2_1|2_2|2_3|2_5",n.GetValue(),"|")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj("SMW/YoshiBongos/Music",t.GetValue())+"_",n.GetValue())+"_Bongos"},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Music YoshiBongos MIndex",t.GetValue())+"_Bongos"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(Qj("MIndex",n.GetValue()))},()=>"Set editor music by date",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Editor",t.GetValue()+1)},()=>"Player Camera functions",e=>{const t=e._GetNode(0);return()=>Kj(t.ExpObject("mapScreenWidth"),8)},e=>{const t=e._GetNode(0);return()=>Kj(t.ExpObject("mapScreenHeight"),8)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("mapScreenWidth")},()=>"scrolledCameraHorizontally",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t(n.GetValue()-64*s(),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t(n.GetValue()+64*s(),0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("mapScreenHeight")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>tk.clamp(t.GetValue(),n.GetValue(),16*s.GetValue()-r.GetValue())},e=>{const t=e._GetNode(0);return()=>qj(64,Kj(qj(15,t.ExpObject("mapScreenHeight")),4))},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+16},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>tk.clamp(t.GetValue()+n.GetValue(),s.GetValue(),16*r.GetValue()-o.GetValue())},()=>"shakeCamX",()=>"shakeCamY",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpBehavior("shakeCamX"),-1*s.ExpBehavior("shakeCamX"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpBehavior("shakeCamY"),-1*s.ExpBehavior("shakeCamY"))},()=>"Nudging camera (manual controls)",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_camUp")},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_camDown")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>qj(16*t.GetValue(),Kj(n.ExpObject("mapScreenHeight"),8))},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_camLeft")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.GetValue()-128*s(),Kj(zj(qj(26,r.ExpObject("mapScreenWidth"))),8))},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_camRight")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>qj(16*t.GetValue(),Kj(n.ExpObject("mapScreenWidth"),8))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.GetValue()+128*s(),Kj(qj(26,r.ExpObject("mapScreenWidth")),8))},()=>"cameraScrollSoundDelay",()=>"cameraScroll",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Scroll")},()=>"Player camera updating",()=>"Editor Camera functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n()-s.GetValue(),-208)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n()+s.GetValue(),16*r.GetValue()+208)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n()-s.GetValue(),-120)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n()+s.GetValue(),16*r.GetValue()+120)},()=>"fastScroll",()=>1024,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>tk.clamp(t(),-208,16*n.GetValue()+208)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>tk.clamp(t(),-120,16*n.GetValue()+120)},()=>"Editor Camera input handling",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>t.GetValue()*n()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()+8-(n()+8)%16},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()+8-(n()+8)%16-8},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-208},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>480*t()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+208},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-120},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+120},()=>"Update editor screen size cutout",()=>"editorScreenSizeOverlay",()=>"editorScreenSizeCutout",()=>"screenSizeCutout",e=>{const t=e._GetNode(0);return()=>Xj(Kj(t.ExpObject("mapScreenWidth"),16),2)},e=>{const t=e._GetNode(0);return()=>Xj(Kj(t.ExpObject("mapScreenHeight"),16),2)},e=>{const t=e._GetNode(0);return()=>Kj(t.ExpObject("mapScreenWidth"),16)},e=>{const t=e._GetNode(0);return()=>Kj(t.ExpObject("mapScreenHeight"),16)},()=>"Enabling/Disabling cinematic camera",()=>"Cinematic Camera events",()=>"preventCinematicCameraLoop",()=>"cinematicCamX",e=>{const t=e._GetNode(0);return()=>208+t.ExpBehavior("cinematicCamX")},e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()-416},()=>"Background events",()=>"Setting up & creating backgrounds",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t("topLeft|top|topRight|left|middle|right|bottomLeft|bottom|bottomRight",n(s(r.ExpObject("maps."+o.GetValue()+"."+a.GetValue()+".dat"),1,",")),"|")},()=>364,()=>210,()=>"topLeft",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()*(n.GetValue()/2)+s.GetValue()/2},()=>"topRight",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()*n.GetValue()+s.GetValue()},()=>"bottomLeft",()=>"bottomRight",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+"."+r.GetValue()+".dat"),0,",")},()=>464,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+512},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+432},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),4)},()=>"webm",()=>"https",e=>{const t=e._GetNode(0).GetVar();return()=>"Custom"+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+"."+o.GetValue()+".dat"),2,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+"."+o.GetValue()+".dat"),3,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"webm")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()-2*n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),0,"_")+"_"+s(r.GetValue(),1,"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),2,"_"))},()=>"Background movement & other events",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+1024},()=>736,e=>{const t=e._GetNode(0);return()=>t.ExpObject()-1024},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+864},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-864},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t()/2-n.ExpObject()},()=>-640,()=>-528,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t()/4-n.ExpObject()},()=>-704,()=>269,()=>-592,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t()/8-n.ExpObject()},()=>-560,()=>992,()=>768,()=>589,()=>576,()=>525,()=>-336,()=>622,()=>-304,()=>"Miscellaneous background functions",()=>"1_cloud",()=>"1_hill",()=>"1_rock",()=>"1_ocean",()=>"1_ruins",()=>"1_castlewall",()=>"1_beach",()=>"2_rhill",()=>"BackgroundCanvas creation (custom action)",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>ek(ek("Foreground"===t.ExpObject()?1:0,"Middleground"===n.ExpObject()?1:0),"Background"===s.ExpObject()?1:0)},()=>"storedBgPosX",()=>"storedBgPosY",()=>"storedBgLayerID",()=>"storedScrollX",()=>"storedScrollY",()=>"LevelL9",e=>{const t=e._GetNode(0);return()=>t.ExpObject("storedScrollX")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("storedScrollY")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("storedBgPosX")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("storedBgPosY")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("storedBgLayerID")},()=>"Events for Background Parts",()=>"1_cave",()=>"CaveLantern",()=>"1_CaveLantern",()=>"1_star",()=>"Stars",()=>"1_Stars",()=>"Waterfall",()=>"1_RockyFallsL",()=>"Splash",()=>"1_RockyFallsSplashL",()=>"1_RockyFallsR",()=>"1_RockyFallsSplashR",()=>"1_cave2",()=>"LavaCracks",()=>"1_LavaCracks",()=>"1_castlefinal",()=>"CastleTorch",()=>"1_CastleTorchLight",()=>"1_CastleTorch",()=>"1_bonus",()=>"BonusLamp",()=>"1_BonusLamp",()=>"1_cave3fg",()=>"Torch",()=>"1_IceCaveTorch",()=>"1_cave3bg",()=>"Lantern",()=>"1_IceCaveLantern",()=>"1_factorybg",()=>"1_FactoryFans",()=>"1_greenhillfg",()=>"1_GreenHillWaterfall",()=>"2_fcave",()=>"2_CaveSparklesF",()=>"2_bcave",()=>"2_CaveSparklesB",()=>"2_ocean",()=>"Seaweed",()=>"2_Seaweed",()=>"2_stars",()=>"2_Stars",()=>"2_fcastlearch",()=>"2_Torch",()=>"2_TorchLight",()=>"2_waterhill",()=>"2_WaterfallHill",()=>"2_ghosthouse",()=>"2_GhostHouseLantern",()=>"2_ghosthouse2",()=>"2_BetaGHLantern",()=>"2_bossarena2",()=>"2_ArenaTorch",()=>"2_rcave",()=>"2_RetroLantern",()=>"2_rocean",()=>"SeaweedSmall",()=>"2_RetroSeaweedSmall",()=>"SeaweedLarge",()=>"2_RetroSeaweedLarge",()=>"2_factoryfg",()=>"2_FactoryLantern",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(3,11))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(8,24))},()=>"Background palettes",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue()," | ")},()=>"1_pillar3",e=>{const t=e._GetNode(0);return()=>t.ExpObject("1_pillar2")},()=>"2_cloud2",()=>"2_cloud3",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_cloud")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_bcave")},()=>"2_ghostship",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_ghosthouse2")},()=>"2_rhill2",()=>"2_rhill3",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_rockymountain")},()=>"2_rcloud",e=>{const t=e._GetNode(0);return()=>t.ExpObject("2_ocean")},()=>"Animated tilemaps & tiled backgrounds",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("LayeredLiquids/"+t.ExpInstVar_Family(),n.ExpInstVar_Family())+".png"},()=>"Tilemap palettes",()=>"Applying palettes to tilemaps",()=>"Layered Liquids events",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj("LayeredWater",t.GetValue())+"_",n.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+"_Bottom"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>16*t.GetValue()-n.ExpObject()},()=>"WarpObjectMask",()=>"0|2.5|0|0.3|0|1",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+"_Front"},()=>"EffectMaskers",()=>"imageScaleY",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("imageScaleY")},()=>"Effect Mask Object events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),r.GetValue(),"|"))},()=>13529922,()=>"Water effects",()=>"WarpObject",()=>"layoutWaterAdditivity",()=>"Circular fade-out",()=>832,()=>"circularFadeoutOverlay",()=>"fadeoutCircle",()=>"shrinkToZero",()=>"fadeOutSFX",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("FadeOut",t.GetValue())},()=>"Particle text / fonts",()=>"textParticleCycleHue",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("textParticleCycleHue")},()=>"SpecialTiles visual updating",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t(7,14))},()=>"General object palette handling",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),s.GetValue()-r.GetValue()+o.GetValue()," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n(s.GetValue(),r.ExpInstVar_Family(),"--"),o.GetValue()," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n(s.GetValue(),r.ExpInstVar_Family()+1,"--"),o.GetValue()," | ")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("red",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("green",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("blue",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpBehavior("red0"),s.ExpBehavior("green0"),r.ExpBehavior("blue0"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpBehavior("red1"),s.ExpBehavior("green1"),r.ExpBehavior("blue1"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpBehavior("red2"),s.ExpBehavior("green2"),r.ExpBehavior("blue2"))},()=>"[h4]Setting EditorObject properties[/h4]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("b9,o14,o32,o33,o40,o46,o67,o70,e21,e27,e28,e34,e44,e95,e122,e136,t7",n.ExpInstVar(),",")},()=>"previewDisabled",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("o1,o2,o3,o5,o6,o8,o10,o12,o13,o19,o20,o21,o22,o23,o25,o26,o27,o28,o30,o32,o33,o40,o41,o44,o45,o46,o48,o51,o52,o56,o57,o58,o64,o65,o68,o72,o73,o74",n.ExpInstVar(),",")},()=>"o50",()=>"e",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("e13,e14,e22,e23,e27,e28,e29,e32,e34,e39,e40,e44,e54,e60,e61,e87,e88,e95,e108,e109,e110,e111,e114,e120,e129,e130,e140,e155,e156,e166",n.ExpInstVar(),",")},()=>"b",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),1,"_"),2)},()=>"bs",()=>"bs1",()=>"i",()=>"m",()=>"o60",()=>"o61",()=>"o62",()=>"o63",()=>"o65",()=>"t1",()=>"t3",()=>"t4",()=>"t5",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),2)},()=>"pi",()=>"t2",()=>"o14",()=>"b9",()=>"e121",()=>"e122",()=>"Light",()=>"e53",()=>"e139",()=>"e24",()=>"e83",()=>"e10",()=>"e124",()=>"e137",()=>"e138",()=>"e54",()=>"e84",()=>"e136",()=>"o19",()=>"e140",()=>"Is in EditorObject group (checked by ID)",()=>"coins",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("o1,o7,o9,o11,o43,o52,o55,o73,o74",n.GetValue(),",")},()=>"customizablePlatform",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("o40,o68",n.GetValue(),",")},()=>"goomba",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("e1,e2,e3,e4,e74,e77,e112,e113,e148,e149,e150,e151,e152,e153",n.GetValue(),",")},()=>"goombaWithoutPalettes",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("e74,e152",n.GetValue(),",")},()=>"koopaTroopa",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("e5,e6,e7,e8,e9",n.GetValue(),",")},()=>"bullet",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("e37,e38,e39,e40,e41,e56,e57,e58",n.GetValue(),",")},()=>"linearFlame",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("e24,e25,e26",n.GetValue(),",")},()=>"linearProjectiles",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("e24,e25,e26,e37,e38,e41,e56,e57,e58,e79,e167,e177,e182",n.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("e158,e159,e160,e161,e162,e163,e164,e165",n.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("e168,e169,e170,e171,e172,e173,e174,e175,e176",n.GetValue(),",")},()=>"oneWayWall",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("to1,to2,to3,to4,to5,to6,to7,to8",n.GetValue(),",")},()=>"Taggable Objects: general functions ",()=>"Check if tag exists (function)",()=>"Add / Remove tags from taggables",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar_Family()+" "+s.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+" "+n.GetValue()},()=>"Starting, pausing & stopping tags",()=>"start,pause,stop,kill",()=>"active,paused,stopped,terminated",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("filters."+n.ExpObject()+".tags")},()=>"effectTagCount",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue()," ")-1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod();return()=>t(n.GetValue(),s(r.GetValue(),o()," ")," ")},()=>"stop",()=>"kill",e=>{const t=e._GetNode(0);return()=>"filters."+t.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("generators."+n.ExpObject()+".tags")},e=>{const t=e._GetNode(0);return()=>"generators."+t.ExpObject()+".tagState"},()=>"permaStopped",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject(),5)},()=>"layerTagCount",e=>{const t=e._GetNode(0);return()=>Qj("LevelL",t.ExpObject())},()=>"offline",()=>"Freezing / Unfreezing time(scale)",()=>"Enabling / Disabling gameplay events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>"[h2]"+t("General sprite events | Player | Mounts | Goals & Checkpoints | Generators | Power-ups | Objects | Platforms | Blocks | Enemies | Land enemies | Koopa & beetle enemies | Sports enemy events | Plant enemies | Castle enemies | Airship enemies | Ghost enemies | Water enemies | Fiery & electric enemies | Yoshi's Island enemies | Hazards | Bosses | Particle events | Tile events | Technical objects | Environmental Changers | Misc. sprite events | End of frame events",n.GetValue()," | ")+"[/h2]"},()=>"[h2]Helper functions[/h2]",()=>"Cleaning strings",()=>"charLoop",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue())-1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod();return()=>t(n.GetValue(),s(r.GetValue(),o("charLoop"),1),"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),".","&p")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",","&c")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"&p",".")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"&c",",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"0123456789")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar();return()=>t(n(s.GetValue(),1))+r(o.GetValue(),a(i.GetValue())-1)},()=>"Building strings",()=>"numbersToAdd",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(t.GetValue(),n("numbersToAdd"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",")-1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar();return()=>t(n.GetValue(),s(r(o.GetValue(),a(),",")),i.GetValue())},()=>"Manipulating token-separated strings",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),",",s.GetValue(),"","")},()=>"JSON-specific functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s.ExpObject(),r.GetValue())},()=>"Dictionary-specific functions",()=>"Array-specific functions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(t.GetValue()+n.GetValue(),s.ExpObject(r.ExpObject()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.ExpObject(),s.GetValue())},()=>"Non-game related math",e=>{const t=e._GetNode(0).GetVar();return()=>(t.GetValue()+360)%360},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()>n.GetValue()?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()<n.GetValue()?1:0},()=>"Color functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"#","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue(),1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("0123456789ABCDEF",n.GetValue())},()=>"Effects (overlay/filter) menu",()=>"[h2][b][u]Creating effects menu[/u][/b][/h3]",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.effects")},()=>"miniToolbarText",()=>"scrollLevel_effects",e=>{const t=e._GetNode(0);return()=>t.ExpObject("scrollLevel_effects")},()=>"effectsMenu",()=>234,e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+68},()=>280,()=>"autoscroll",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.filters",2))},()=>278,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.generators",2))},()=>"[h2][b][u]Set effects tab[/u][/b][/h2]",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(Qj(t.ExpObject(),","),n.ExpObject())+",sidebarContent"},()=>193,()=>"[h2][b][u]Creating effect settings menu[/u][/b][/h2]",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+"s"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.additional-x-settings","effect")},()=>"separatorText",()=>"separatorWithCubes",()=>"dontCreateEffectOverlay",()=>"effectBasicPropsContainer",()=>"settingInsideToolbar",()=>"effectLabel",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-108},()=>"effectIdentifierName",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.name")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.tags",2))+":"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue()+"s."+s.GetValue()+".tags")},()=>"effectTags",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+145},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.tags")},()=>155,()=>"effectPropertySettingsContainer",()=>"effectsMenuContainer",()=>"Adding a new effect",()=>"Creating the [u]add effect[/u] menu container",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+88+28*n.GetValue()},()=>"addEffectMenu",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-70},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.add-effect")},()=>"overlayTags",()=>"Filters dropdown",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>"filters."+t(n(s.GetValue(),r.GetValue(),"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue(),"_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.GetValue()+"|"+n(s.GetValue(),r.GetValue(),"_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetVar();return()=>t.GetValue()?n.GetValue()+"|"+s(r(o.GetValue(),a.GetValue(),"|")):i(l(d.GetValue(),c.GetValue(),"|"))},()=>"effectStringName",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+112},()=>"addNewMapEffect",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.create")},()=>"Generators dropdown",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t("effects.names."+n("wind-g",s.GetValue(),"|"))+"|"},()=>"wind",()=>"Pressing [u]create effect[/u] button",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),s.ExpObject(),"|")},()=>"Button press for creating a filter",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),"|",s.ExpObject())},()=>"Button press for creating a generator",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>Qj(t(n.GetValue())+" #",s(r.GetValue())+1)},()=>"newYPosInMenu",()=>187,()=>"Creating effect menu cloud",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue()+"Menu",n.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>"effects"===t.ExpObject(0)?n.GetValue()+84+28*s.GetValue():64},e=>{const t=e._GetNode(0).GetVar();return()=>"overlayFor_"+t.GetValue()},e=>{const t=e._GetNode(0);return()=>.2*t.ExpObject()},()=>"growToSize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(2===t.GetValue()?1:0,"filter"===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(t(n.GetValue())+"Menu",s.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-n.ExpObject()/2+14+s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[scale=0.6][color=#000000]"+t("common.labels.active-on-start")+"[/color][/scale]"},()=>"26,1,1,35,24",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue()+"s."+s.GetValue()+".active")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject()+n.ExpObject()/2-52-s.GetValue()+20*("filter"!==r.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Settings",t.GetValue())},()=>"openEffectSettings",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n("common.labels.x-settings",s("common.words.effects",1)))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.ExpObject()/2-12-s.GetValue()},()=>"deleteEffect",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("View",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Unhide",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.ExpObject()/2-32-s.GetValue()},()=>"effectVisibility",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("common.buttons.hide")+"/"+n("common.buttons.view")},()=>"FilterMenu",()=>"rain",()=>"current",()=>"fish",()=>"sand",()=>"vol",()=>"embers",()=>"heat",()=>"dark",()=>"fog",()=>"leaf",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(Qj(s.GetValue(),"_FilterMenuClouds")),r.GetValue()," -- ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("4,7",s.GetValue()-1,","))},()=>"Set up visual effects for effect menu containers",()=>"095870",()=>"899499",()=>"843108",()=>"780000",()=>"HeatRipples",()=>"sil",()=>"000000",()=>"404040",()=>"005810",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.ExpObject("generators."+n(s.ExpInstVar_Family(),1,"_")+".type")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>8*t(n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar_Family(),1,"_")+"\n[scale=0.5]"+s.GetValue()+"[/scale]"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"[color=#"+t.GetValue()+"]"+n.GetValue()+"[/color]"},()=>"editEffectSettings",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2-12},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),2)+"_"+s.GetValue()},()=>2171169,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11);return()=>8*t(n(s.ExpInstVar_Family(),1,"_"))>2.5*r(o(a.ExpObject(),1,"\n"))?8*i(l(d.ExpInstVar_Family(),1,"_")):2.5*c(u(h.ExpObject(),1,"\n"))},()=>"Opening the effect settings",()=>"moveUpAndOpenEffectSettingsMenu",()=>"Hiding effects in-editor",()=>"Deleting effects",e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpInstVar()?n.ExpInstVar()+"|"+s.GetValue():r.GetValue()},()=>"Editing generator / autoscroll identifier name & tags (including for filters)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),".,_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+"s."+n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6);return()=>t(n(s.ExpObject(),0,"\n"),r.GetValue(),o.GetValue())+"\n"+a(i.ExpObject(),1,"\n")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("generators."+n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9);return()=>8*t(n.GetValue())>2.5*s(r(o.ExpObject(),1,"\n"))?8*a(i.GetValue()):2.5*l(d(c.ExpObject(),1,"\n"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.text.duplicate-name")},()=>"duplicateName",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+"s."+n.GetValue()+".tags"},()=>"Create customization menus for generators/autoscrolls",()=>"Opening & closing toolbar",()=>"outsideToolbarMenu",()=>"Opening the toolbar",()=>"opening",()=>"toolbarOpenings",()=>"toolbarBackground",()=>47.5,()=>"hideSidebarButtonsTop",()=>"hideSidebarButtonsBottom",()=>"toolbarSFX",()=>"Editor/ToolbarOpen",()=>"zoomIn",()=>"growToDefault",()=>"posToToolbar",()=>"regenFavItems",()=>"getInBounds",()=>"openToolbar",()=>"takeSnappyOfMappy",()=>"openSearchMenu",()=>"toolbarOpacity",()=>"Closing the toolbar",()=>"Editor/ToolbarClose",()=>"closing",()=>"zoomOut",()=>"returnToPos",()=>"returnMiniToolbarToOriginalPosition",()=>"eyedropper",()=>"Eyedropper",()=>"hideMenuContentsTop",()=>"hideMenuContentsBottom",()=>"Toolbar Menus",()=>"[h2]Creating toolbar menus[/h2]",()=>"Preparing tileset or sprite menu (function)",e=>{const t=e._GetNode(0).GetVar();return()=>"Tilemap_"+t.GetValue()},()=>"curX",()=>"curY",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject(s("curX"),r("curY"),o.GetValue()),0,"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>t(n(s.ExpObject(r("curX"),o("curY"),a.GetValue()),1,"_"),i.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj("|Tilemap_",t.GetValue())+"_"+n.GetValue()},()=>"createdTileSegmentingButton",()=>390,()=>"madeScrollbar",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t.ExpObject(n("curX"),s("curY"),r.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.GetValue()+(n("curY")+1)*s.GetValue()},()=>"tilesPage",()=>"madePalettePicker",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(s.GetValue()),r.GetValue())},()=>"Laying out tiles and objects inside the toolbar (function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n(s(r.GetValue()),1,"|"))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue(),r.GetValue())},()=>"f",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),"$",s.GetValue().toString())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),"%",s.GetValue().toString())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),8,"_")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>t.GetValue()+8+n.GetValue()*s.GetValue()+r(o(a.GetValue(),4,"_"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>t.GetValue()+8+n.GetValue()*s.GetValue()+r(o(a.GetValue(),5,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),7,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),3,"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),6,"_"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>""===t.GetValue()?"":"{"===n(s.GetValue(),1)?r.GetValue():o(a.GetValue(),0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>Qj(t.GetValue(),"_")+n(s(r.GetValue(),1,"_"),o.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),5,"_"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>t.GetValue()+n.GetValue()*s.GetValue()+r(o(a.GetValue(),3,"_"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>t.GetValue()+n.GetValue()*s.GetValue()+r(o(a.GetValue(),4,"_"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t.GetValue()?n(s("toolbar.tile-tooltips."+r.GetValue()),"[s]","\n[scale=0.66][color=#CCCCCC]"):""},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()!==n.GetValue()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),6,"_"),"@",r.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>t.GetValue()+n.GetValue()*s.GetValue()+r(o(a.GetValue(),4+2*i.GetValue(),"_"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>t.GetValue()+n.GetValue()*s.GetValue()+r(o(a.GetValue(),5+2*i.GetValue(),"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),8,"_"),"@",r.GetValue())},()=>"selectableStructure",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t(n.GetValue(),s(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),0,"."))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),1,"."))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()+n.GetValue()*s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t("toolbar.text."+n(s.GetValue(),1,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),2,"_"))-4},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),3,"_"))-4},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>"Tilemap_"+t(n(s.GetValue()),0,"|")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>0===t.ExpInstVar_Family()?n.ExpInstVar_Family():Qj(s.ExpInstVar_Family(),r.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject(s.GetValue(),r.GetValue(),o.GetValue()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t(n(s.ExpObject(r.GetValue(),o.GetValue(),a.GetValue()),1,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue()),0,"|")},()=>"Grabbing tiles & tile structures out of the toolbar",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUD")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),0,0)===s.ExpInstVar()?1:0},()=>"inEyedropperMenu",e=>{const t=e._GetNode(0);return()=>t.ExpObject(0,0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),0,0)},()=>"Tile structures",e=>{const t=e._GetNode(0).GetVar();return()=>"selectableStructure"===t.GetValue()?"HUDWithBlending":"LevelContents"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s(r.GetValue(),o.GetValue(),","),0,"."))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s(r.GetValue(),o.GetValue(),","),1,"."))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject(n("HUD"))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(t.ExpInstVar(),"|")+n.ExpInstVar()+"|"+s.ExpInstVar_Family()+"|"+r.ExpInstVar_Family()},()=>"Toolbar Buttons",()=>"Creating toolbar buttons",e=>{const t=e._GetNode(0).GetVar();return()=>90+29*t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t("toolbar.bottom-buttons."+n(s(r.GetValue(),o.GetValue(),",")))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>Qj(t.GetValue(),"_")+n(s.GetValue(),r.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.bottom-buttons.general-tiles")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.bottom-buttons.save-quit")},()=>46.5,()=>"Toolbar button visuals",()=>"hoverDelay",e=>{const t=e._GetNode(0);return()=>.66*t.ExpObject()},()=>"startAngleSine",()=>125,()=>"toCorner",()=>"Pressing toolbar buttons",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_playtest")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_exitEditor")},()=>"pixelateAndDestroy",()=>"Pixelate",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("pixelateAndDestroy")},()=>"playtestCount",()=>"Clear Toolbar page contents (function)",()=>"sidebarContent",()=>"inFavoritesBar",()=>"palettePicker",()=>"toggleSegmentedTileDisplay",()=>"expandPalettes",()=>"Mini toolbar",()=>"Mini toolbar creation/deloading",()=>"Mini toolbar basics",()=>382,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MapSnap",t.GetValue())},()=>402,e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Toolbox",t.GetValue())},()=>"search",()=>334,()=>"Palette picker",()=>"Creating palette picker",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("PalettePickerOverlay",t.GetValue())},()=>"PaintBucket",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family(),"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>11+10*t(n.ExpInstVar_Family(),"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue()," -- ")-1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n(s.GetValue(),r()," -- "),o.GetValue()," | ")+"_"},()=>"Laying out & expanding / collapsing palettes",()=>"collapsePalettes",()=>372,()=>"ExpandPalettes",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.expand-palettes")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>302+10*(t.ExpInstVar_Family()<=8?n.GetValue():s.GetValue()%7)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>30-10*(t.ExpInstVar_Family()<=8?0:Math.floor(n.GetValue()/7))},()=>"tilePalettePicker",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14),m=e._GetNode(15).GetVar();return()=>t(n(s(r(o.ExpInstVar_Family(),a.GetValue(),"_"),0,",")),i(l(d(c.ExpInstVar_Family(),u.GetValue(),"_"),1,",")),h(_(G(p.ExpInstVar_Family(),m.GetValue(),"_"),2,",")))},()=>"expandPaletteMenu height",e=>{const t=e._GetNode(0);return()=>20+10*Math.floor(t.ExpInstVar_Family()/9)},()=>"expandPaletteMenu",()=>"CollapsePalettes",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.collapse-palettes")},()=>"collapsePaletteMenu height",()=>"collapsePaletteMenu",()=>"Expand palettes",()=>"User interacting with PalettePicker UI",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(t(n.ExpInstVar()),s.ExpInstVar()?r.ExpInstVar():"")},()=>"Editor/ToolbarInteract",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),1,"_")},()=>"icyPalettes",e=>{const t=e._GetNode(0).GetVar();return()=>"icyPalettes_"+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(Qj(n.GetValue(),"_")+s.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"ice")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.tip-notifs.icy-palette")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>Qj("tilemap|"+t(n(Qj(s.GetValue(),"_")+r.GetValue()),0,"|")+"|1|",o.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpInstVar(),0))},e=>{const t=e._GetNode(0).GetVar();return()=>1===t.GetValue()?25:100},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>"Tilemap_"+t(n(Qj(s.ExpInstVar_Family(),r.ExpInstVar()?o.ExpInstVar():"")),0,"|")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Tile")},()=>"palettePreview",()=>"Miscellaneous toolbar events / helper functions",()=>"Scissor button",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Scissors",t.GetValue())},()=>"insideToolbar",()=>"Convert characters to tilemap",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),"*",s(r.GetValue(),1,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),"#",s(r(o.GetValue()),1,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),"$",s.GetValue())},()=>"Okapi easter egg",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("okapi",n.GetValue(),1)},()=>"e77",()=>"e153",e=>{const t=e._GetNode(0);return()=>"e77"===t.ExpInstVar()?"e1":"e148"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("toolbar.sprite-tooltips."+("e1"===n.ExpInstVar()?"":"para")+"goomba")},()=>"e1",()=>"e148",e=>{const t=e._GetNode(0);return()=>"e1"===t.ExpInstVar()?"e77":"e153"},e=>{const t=e._GetNode(0);return()=>"e77"===t.ExpInstVar()?"Okapi":"Para-Okapi"},()=>"Layer menu",()=>"[h2][b][u]Creating layer menu[/b][/u][/h2]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Qj(Qj(t("toolbar.mini-toolbar.layers")+" ",n.ExpObject())+"/",10)},()=>"scrollLevel_layers",e=>{const t=e._GetNode(0);return()=>t.ExpObject("scrollLevel_layers")},()=>"layerMenu",()=>"Creating a layer menu segment",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+72+18*n.GetValue()},()=>"preventInteraction",()=>"layerDisplay",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+8},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Edit",t.GetValue())},()=>"editLayerName",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.buttons.rename")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-130},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod();return()=>t(n("toolbar.tooltips.layer-type",s(r(o.ExpObject(a.GetValue(),3),"t",i("common.words.tiles",1)),"o",l("common.words.objects",1))))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("[scale=0.9]",t.ExpObject(n.GetValue()))+"[/scale]"},()=>"displayingLayerName",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-68},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject(n.GetValue(),2)?Qj("Unlock",s.GetValue()):Qj("Lock",r.GetValue())},()=>"lockLayer",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("common.buttons.lock")+"/"+n("common.buttons.unlock")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-48},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject(n.GetValue(),1)?Qj("Unhide",s.GetValue()):Qj("View",r.GetValue())},()=>"layerVisibility",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-28},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n("common.labels.x-settings",s("common.words.layers",1)))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("t")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-8},()=>"deleteLayer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("o")},e=>{const t=e._GetNode(0).GetVar();return()=>72+18*t.GetValue()},()=>"Adding a new layer",()=>154,()=>"addTileLayer",()=>"Plus",()=>"addObjectLayer",()=>-2098175,()=>"LayerIconO",()=>"addMap",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj(t(n("common.words.layers",1))+" ",s.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+"+"},()=>"Selecting editing layers & editing layer name",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+4},()=>"selectedLayerOutline",()=>"moveToLayerRow",()=>"changeLayerName",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),".,\\")},e=>{const t=e._GetNode(0).GetVar();return()=>"[scale=0.9]"+t.GetValue()+"[/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.numeric-layer-name-error")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject()))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.duplicate-layer-name-error")},()=>"Hiding / unhiding & locking / unlocking layers",()=>"moveUpAndOpenLayerSettingsMenu",()=>"dontCreateLayerOverlay",()=>"inMovementAnimation",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Lock",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Unlock",t.GetValue())},()=>"visibility",()=>"Dragging and re-ordering layers",()=>"dragDelay",e=>{const t=e._GetNode(0);return()=>Qj("draggingLayerBar_",t.ExpObject())},()=>"revertDragAndDrop",()=>"reOrderGrow size",()=>"reOrderShrink size",()=>296,e=>{const t=e._GetNode(0);return()=>t.ExpObject()-18},()=>"reOrderComplete size",()=>"Swapping layers (function)",()=>"Selected layer outline events",()=>318,()=>"Deleting layers",()=>"preventLayerDeletion",()=>"deleteLayerConfirm",()=>"cancelLayerDeletion",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Return",t.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-27},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.press-x-again-to-confirm","X")},()=>"confirmLayerDeletion",()=>"[h2][b][u]Creating layer settings menu[/u][/b][/h2]",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.additional-x-settings","layer")},()=>"layerTagContainer",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n("common.labels.x-tags",s("common.words.layers",1)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n(s.GetValue()),5)},()=>"layerTags",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.layer-tags")},()=>"darknessSettingContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.layer-darkness")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.html.darkness-values")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Jj(t.ExpObject(n(s.GetValue()),4),25)},()=>"layerDarknessCasting",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.layer-darkness")},()=>"Layer settings menu",e=>{const t=e._GetNode(0);return()=>25*t.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Qj("Effects",t(n.GetValue()))},()=>"Maps menu",()=>"[h2][u]Creating maps menu[/u][/h2]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t("toolbar.mini-toolbar.maps")+" ",n.GetValue())+"/",100)},()=>"scrollLevel_maps",e=>{const t=e._GetNode(0);return()=>t.ExpObject("scrollLevel_maps")},()=>"mapsMenu",()=>"Maps menu: main events",()=>"Switching through maps",()=>"goToMap",()=>"Creating a map display card",e=>{const t=e._GetNode(0).GetVar();return()=>152+164*Math.round(t.GetValue()%2)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+80+56*Math.round((n.GetValue()-1)/2)},()=>"displayingMapName",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-16},()=>"editMapName",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.rename-map")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("EditDouble",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.go-to-map")},()=>"viewMapCode",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.map-code")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+62},()=>"deleteMap",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.delete-map")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.cannot-delete-only-map")},()=>"Editing map name",()=>"E.g. 'bonus area'",()=>"changeMapName",()=>"preventUnmounting",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject("maps."+n.GetValue()+".entryways."+s.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),5,",")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+","+n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.GetValue()+","+n(s.GetValue(),r.GetValue(),",")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("maps")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("maps."+n.ExpObject())},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()},()=>"Deleting maps",()=>"shrinkAndReplaceWithMapDeletionCard",()=>"[scale=0.8]Are you sure you want to delete this map?[/scale]",()=>"confirmMapDeletion",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-62},()=>"cancelMapDeletion",()=>"Cancel",()=>"deleteMapConfirm",()=>"Confirm",()=>"shrinkAndReplaceWithRegularMapCard",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("maps.",t.ExpObject(n.GetValue()))+".entryways"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t(n.ExpObject(Qj("maps.",s.ExpObject(r.GetValue()))+".entryways."+o.ExpObject()),5,",")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj("maps.",t.ExpObject(n.GetValue()))+".entryways."+s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("mapData_",t.ExpObject(n.ExpInstVar()))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("maps.",t.ExpObject(n.ExpInstVar()))},()=>"shrinkAndReloadMapCards",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(Qj("Maps ",t.GetValue())+"/",100)},()=>"Viewing map code",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","ViewingMapCode")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.view-map-code")},()=>"mapCodeContainer",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject(Qj("maps.",n.ExpObject(s.ExpInstVar())))},()=>"displayMapCode",()=>"downloadMapCode",()=>"Create new / import map button",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+67+56*Math.round((n.GetValue()-1)/2)},()=>"buttonInMapsOverview",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.create-new-map")},()=>"createNewMapText",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+93+56*Math.round((n.GetValue()-1)/2)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.import-map")},()=>"Importing map code",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","importMapCodeMenu")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.import-map-code")},()=>"Map code",()=>"displayImportedMapCodeInfo",()=>"mapCodeToImport",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-30},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("common.labels.new-x-name",n("common.words.maps",1))},()=>"displayImportedMapNameInfo",()=>"Enter map name",()=>"importedMapName",()=>"loadMapCode",()=>"Load",()=>"Adding a new map",()=>"104,136,252",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>"maps."+t.GetValue()+".layers."+n.ExpObject()+".dat"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".bg")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".mg")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".fg")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".fx")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".screenSize")},()=>"newMapSizePreset",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t(n(s(r.GetValue(),o.ExpObject()-1," | "),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t(n(s(r.GetValue(),o.ExpObject()-1," | "),1,","))},()=>"newMapWidth",()=>"newMapHeight",()=>"newMapSizeDisplay",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>"[color=#D80000]"+t("common.labels.min-tiles",Qj(Qj(Qj(Qj(Qj(n.ExpObject("mapScreenWidth"),"x"),s.ExpObject("mapScreenHeight"))," ("),r("common.labels.one-screen")),")"))+"[/color]"},()=>5e4,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>Qj(Qj(Qj(t("common.labels.surface-area")+"\n",n.GetValue()*s.GetValue())+" "+r("common.words.tiles",2)+"\n[scale=0.75](",o.GetValue())+" x ",a.GetValue())+")[/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("common.labels.surface-area")+"\n[color=#D80000]"+n("common.labels.max-tiles",5e4)+"[/color]"},()=>"generateNewMap",()=>"newMapName",()=>"copyLayersToNewMap",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue()+",",n.ExpInstVar())},()=>"[scale=0.75][color=D80000]Please insert a name[/color][/scale]",()=>"[scale=0.75][color=D80000]Map name already exists[/color][/scale]",()=>"backToMapMenu",()=>"Maps menu: extra screen menu events & functions",()=>"Map name is available (function)",()=>"Map menu related screen menus",()=>"ViewingMapCode",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("Map code of ",t.ExpObject(n.ExpInstVar()))+".txt"},()=>"importMapCodeMenu",()=>"[color=#D80000]Invalid map code[/color]",()=>"Code is from a newer version",()=>"Code is for another gamestyle",e=>{const t=e._GetNode(0).GetVar();return()=>"[color=#F00818]"+t.GetValue()+"[/color]"},()=>"[color=#F00818]Map name already exists[/color]",()=>"[color=#F00818]Map name is empty[/color]",()=>"New map name",()=>"[h2][u]Creating the 'make new map'-menu[/u][/h2]",()=>"toolbarSidebar",()=>139,()=>"e.g. 'bonus room'",()=>230,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t("common.labels.current-map-size")+"|"+n("level-select.html.level-size-presets")+"|"+s(r("common.words.custom"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.width"))},()=>2e3,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.height"))},()=>324,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.surface-area")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"[color=#000000]"+t("common.labels.select-x",n("common.words.themes",1))+"[/color]"},()=>126,()=>178,()=>"mapCreationMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.copy-current-layer-list")},()=>"128,0,0,224,16",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.copy-current-theme")},()=>"Warps menu",()=>"[h2][u]Creating warps menu[/u][/h2]",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.warps")},()=>"scrollLevel_warps",e=>{const t=e._GetNode(0);return()=>t.ExpObject("scrollLevel_warps")},()=>"warpsMenu",()=>"List destinations per map",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+234+n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+246+n.GetValue()},e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".destinations"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject("maps."+n.GetValue()+".destinations."+s.ExpObject())},()=>"Creating entryway picker card",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+24},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+116},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Palette",t.GetValue())},()=>"editDoorPalette",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.edit-palette")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-147},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.labels.door-type-list")},()=>"doorTypeInEntrywayPicker",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.labels.door-type")},()=>"doorTypeDisplay",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+24.5},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-60},()=>"entrywayLargeDoorPage",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()===n.GetValue()?0:1},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+26},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+86},()=>"Changing doors in entryway picker card",()=>"entrywayPickerMenu",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+2*n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("0 _ 2 | 8 _ 2 | 0 _ 3 | 0 _ 4",n.ExpInstVar()," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t(n(s.GetValue(),0," _ "))+2*r.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),1," _ "))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n.ExpInstVar(),s(r(o.ExpInstVar())," -- ")-1)},()=>"Adding an entryway",()=>"addEntryway",()=>"creatingEntryway",()=>"inEntrywayCreationMenu",()=>"editingEntryway",()=>"inEntrywayEditingMenu",()=>"placedEntryway",()=>"level",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpInstVar()+"\n[scale=0.65]("+n("common.labels.this-map")+")[/scale]"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+"\n[scale=0.65]in "+n.ExpInstVar()+"[/scale]"},()=>"enterEntrywayName",()=>"Duplicate name",()=>"placingEntryway",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>8*Math.round(t()/8)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(0,0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()-1,5)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()-1,6)},()=>"Adding a destination",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()+280+56*Math.round((n.GetValue()-1)/2)+s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.new-destination")},()=>"createNewDestinationText",()=>"creatingDestination",()=>"inDestinationCreationMenu",()=>"editingDestination",()=>"inDestinationEditingMenu",()=>"placedDestination",()=>"enterDestinationName",()=>"Oops!\n[scale=0.5]Duplicate name[/scale]",()=>"placingDestination",()=>"selectDestinationOutputLayer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.above-all-layers")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("common.labels.on-layer")+" [color=#90A8F8]"+n.ExpInstVar()+"[/color][/scale]"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar();return()=>t.ExpInstVar()+"[scale=0.65]\n[color=#50C018]"+n(s("common.words.destination",1))+" [/color]"+r("common.labels.on-layer")+" [color=#90A8F8]"+o.ExpInstVar()+"[/color]\n\n"+a("common.labels.puts-player")+" "+i.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7);return()=>t.ExpInstVar()+"[scale=0.65]\n[color=#F89800]"+n(s("common.words.entryway",1))+"[/color] "+r("common.labels.on-layer")+" [color=#90A8F8]"+o.ExpInstVar()+"[/color]\n\n"+a("common.labels.warps-to")+" [color=#50C018]"+i("common.words.destination",1)+" [/color][/color][/scale]\n"+l.ExpInstVar()},()=>"Creating a destination display card",()=>"displayDestinationName",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("AddEntryway",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.add-entryway")},()=>"testFromDestination",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.test-level-from-destination")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("GoToDestination",t.GetValue())},()=>"goToDestination",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.visit-destination")},()=>"deleteDestination",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.delete-destination")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject(Qj("maps.",n.ExpObject(s.GetValue()))+".destinations."+r.GetValue()+".type")},()=>"Deleting destinations",()=>"shrinkAndReplaceWithDestinationDeletionCard",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.delete-destination-prompt")},()=>"cancelDestinationDeletion",()=>"deleteDestinationConfirm",()=>"shrinkAndReplaceWithRegularDestinationCard",()=>"shrinkAndReloadDestinationCards",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(Qj(t.ExpObject(),","),n.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+".destinations."+n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t(n.ExpObject(Qj("maps.",s.ExpObject(r.GetValue()))+".entryways."+o.ExpObject()),4,",")},()=>"Deleting entryways",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+".entryways."+n.GetValue()},()=>"Teleporting to & testing from destination",()=>"setCameraToDestinationCoords",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(s.ExpInstVar_Family()),r.ExpInstVar_Family())},()=>"spawnMapName",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue())-8},()=>"Destination / entryway position updates",()=>"Return to warps menu (button)",()=>"goBackToWarpMenu",()=>"[h3][u]Creating add new destination menu[/u][/h3]",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+13},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.new-destination-name")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+7},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.html.destination-name-example")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-152},()=>"helpDisplay",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t("customizers.warps.tooltips.warp-name-tips",n("common.words.destination",1),s("common.words.destination",2))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.new-destination-output-layer")},()=>"newPlayerLayer",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.labels.above-all-layers"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.destination-layer-output-info")},()=>"[h3][u]Creating add new entryway menu[/u][/h3]",()=>"CardDisplay",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n("common.words.entryway",1))+" "+s("common.words.name")+":"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.html.entryway-name-example")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t("customizers.warps.tooltips.warp-name-tips",n("common.words.entryway",1),s("common.words.entryway",2))},()=>"SetColor",()=>3158064,()=>" Favorites Bar",()=>"Creating the favorites bar",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject("maps."+n.GetValue()+".favObj."+s.ExpObject())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".favTiles"),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".favTiles"),r.GetValue(),",")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("FavoritesBar",t.GetValue())},()=>"Basic favorites bar functions & events",e=>{const t=e._GetNode(0);return()=>16*Math.round(t.ExpObject()/16)},()=>"alignWithGrid",()=>"Generating objects in the favorites bar",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+24*n.GetValue()+32},()=>"Generating tiles in the favorites bar",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t.GetValue(),"_"),n.ExpObject(s.GetValue()))},()=>"Putting objects in the favorites bar",()=>"growOnHoverWithObj",()=>"shrinkBackFromObjHover",()=>"Putting tilesets in the favorites bar",()=>"clickedOn",()=>"Removing items from the favorites bar",()=>"Settings menu",()=>"[h3][u]Settings pages creation[/u][/h3]",e=>{const t=e._GetNode(0);return()=>t.ExpObject(5)},()=>"levelDescriptionSettings",e=>{const t=e._GetNode(0);return()=>t.ExpObject("levelSettingsSidebarPage",0)},()=>"Main level settings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.level-settings")},()=>"defaultPowerUpContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.start-with")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("common.menu-options.no-power-up")+"|"+n()},e=>{const t=e._GetNode(0);return()=>t.ExpObject("startpoint.p1.powerup")},()=>"timerContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.level-timer")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+22},()=>"",()=>"levelTimer",()=>9999,e=>{const t=e._GetNode(0);return()=>t.ExpObject("timer").toString()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.inventory")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod();return()=>2===t.GetValue()?n("common.menu-options.disabled")+"|"+s("common.menu-options.empty")+"|"+r():o("common.words.unavailable")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("inventory")},e=>{const t=e._GetNode(0).GetVar();return()=>2===t.GetValue()?0:1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n(s(r.GetValue(),"i","")))+1},()=>"livesContainer",()=>"Heart",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.start-lives")},()=>"startLives",()=>1110,e=>{const t=e._GetNode(0);return()=>t.ExpObject("lives").toString()},()=>308,()=>"nameDescAuthorContainer",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-82},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.level-name")},()=>"levelName",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.authors")},()=>"levelAuthors",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+49},e=>{const t=e._GetNode(0);return()=>t.ExpObject("authors")},()=>"Level settings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.level-desc")},()=>"levelDescriptionContainer",()=>"levelDescriptionEditing",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.editing")},()=>"levelDescriptionPreview",()=>"Level stats",()=>"viewLevelStats",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.level-stats")},()=>"levelStatisticsContainer",()=>"generalStats",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.main-stats")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.object-stats")},()=>"tilemapStats",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.tilemap-stats")},()=>"miscStats",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.misc-stats")},()=>"Creating map settings",()=>"mapSettings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.map-settings")},()=>"waterModeContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.water-mode")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+84},()=>"HelpDisplay",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.water-mode")},()=>"|Layered water (classic)|Layered water (modern)",()=>"|Layered water",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(Qj("toolbar.html.",n.GetValue())+"_water-modes")},()=>"waterMode",e=>{const t=e._GetNode(0);return()=>2+t.ExpInstVar_Family()},()=>"screenWrapContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.screenwrap")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t("common.menu-options.disabled")+"|"+n("common.menu-options.horizontal")+"|"+s("common.menu-options.vertical")+"|"+r("common.menu-options.both-axes")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".wrap")},()=>"screenwrapMode",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.screenwrap")},()=>"defaultPaletteContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.map-palette")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(Qj("constants.",n.GetValue())+"_map-palettes")},()=>"mapPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(Qj("constants.",s.GetValue())+"_map-palettes"),"|")},()=>121,()=>"cameraControlContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.allow-camera-control")},()=>"38,0,0,52,20",e=>{const t=e._GetNode(0);return()=>t.ExpObject("allowCameraControl",1)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.allow-camera-control")},()=>286,()=>"screenSizeContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[background=#000000]"+t("toolbar.labels.screen-size")+"[/background]"},e=>{const t=e._GetNode(0);return()=>t.ExpObject("mapScreenWidth").toString()},e=>{const t=e._GetNode(0);return()=>t.ExpObject("mapScreenHeight").toString()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+152},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("level-select.labels.size-preset"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+120},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t("toolbar.html.screen-size-presets")+"|"+n(s("common.words.custom"))},()=>"mapScreenPreset",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.map-screen-size")},()=>151,()=>"rotationSynchronizationContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.rotating-sprite-sync")},()=>"64,0,0,104,20",e=>{const t=e._GetNode(0);return()=>t.ExpObject("syncRotationBases",0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t("toolbar.tooltips.sync-rotating-sprites",n("toolbar.sprite-tooltips.ball-n-chain"),s("toolbar.sprite-tooltips.boo-circle"))},()=>313,()=>"offscreenIndicatorsContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.disable-offscreen-indicators")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("disableOffscreenIndicators",0)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.disable-offscreen-indicators")},()=>"Creating toolbar settings",()=>"toolbarSettings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.toolbar-settings")},()=>"toolbarOptions",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.grid-toggle")},()=>"28,0,0,40,20",e=>{const t=e._GetNode(0);return()=>t.ExpObject("grid")},()=>219,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.favorites-bar-toggle")},()=>"56,0,0,96,16",e=>{const t=e._GetNode(0);return()=>"toolbarOnly"===t.ExpObject("favbar")?1:0},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.favorites-bar")},()=>346,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.mini-toolbar-toggle")},()=>"34,0,0,52,16",e=>{const t=e._GetNode(0);return()=>t.ExpObject("miniToolbar")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.mini-toolbar")},()=>"layerOpacityContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.inactive-layer-opacity")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+1.5},e=>{const t=e._GetNode(0);return()=>t.ExpObject("inactiveLayerOpacity").toString()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+41},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.inactive-layer-opacity")},()=>243,()=>"editorMusicContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.editor-music")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.html.editor-music")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("editorMusic"))},()=>"trailFrameCountContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.trail-tool-frame-count")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("trailFrameCount").toString()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+28},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.trail-tool-frame-count")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.toolbar-animations-toggle")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("doToolbarAnimations")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.editor-sounds-toggle")},()=>"26,0,0,36,16",e=>{const t=e._GetNode(0);return()=>t.ExpObject("playEditorSounds")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.cursor-coords-toggle")},()=>"50,0,0,84,16",e=>{const t=e._GetNode(0);return()=>t.ExpObject("showCursorCoordinates")},()=>"Creating background settings",()=>"backgroundSettings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.bg-settings")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CardDisplay",t.GetValue())+"_T"},()=>233,()=>306,()=>"backgroundSettingsContainer",()=>"bgColorDisplay",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.origin")},()=>"bgOptionInfo",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-122},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".bg.dat"),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.scroll-loop-method")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.html.bg-loop-methods")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+"."+o.GetValue()+".dat"),0,","))},()=>"BGLoopMethod",()=>"bgHelp",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.bg-loop-notice")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.h-autoscroll")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.html.bg-scroll-speed-h")},()=>"BGHorizontalAutoscroll",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.v-autoscroll")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+25},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.html.bg-scroll-speed-v")},()=>"BGVerticalAutoscroll",()=>"menuContainerBackground",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-57},()=>"displayBackgroundsInBar",()=>"hideImageBelow",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-2},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-100},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.foreground")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.middleground")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+100},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.background")},()=>"editBG",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.change-bg")},()=>"editBGPalette",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.change-bg-palette")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+51.2*n.GetValue()+25.6},()=>"Creating gradient settings",()=>"gradientSettings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.bgc-settings")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[background=#000000]"+t("toolbar.labels.bg-color-header")+"[/background]"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-136},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.pick-color")},()=>"bgColorOptionInfo",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.custom-rgb")},()=>"bgColorRGB",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+102},()=>"198,255,255 _ 82,140,165 _ 173,206,198 _ 255,255,255 _ 231,90,0 _ 16,16,64 _ 0,24,112 _ 0,0,0",()=>"0,99,189 _ 156,231,231 _ 222,255,222 _ 255,231,181 _ 255,255,255 _ 16,72,56 _ 24,49,74 _ 0,0,0",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue()," _ ")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-92+20*n.GetValue()},()=>"setBackgroundColor",()=>3289650,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[background=#000000]"+t("toolbar.labels.bg-gradient-header")+"[/background]"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-98},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.pick-gradient")},()=>"gradientOptionInfo",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-138},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.menu-options.none")+"|Sky 1|Sky 2|Night 1|Colors 1|Colors 2|Sunset 1|Sunset 2|Dark 1|Dark 2|Ocean 1"},()=>"selectGradient",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.offset-y")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".grd"),1,"_")},()=>"gradientOffset",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+98},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.gradient-scale")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+58},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+".grd"),2,"_"))<.1?"1":o(a.ExpObject("maps."+i.GetValue()+".grd"),2,"_")},()=>"gradientScale",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(r.GetValue())," ",""))},()=>"Creating music settings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.music-settings")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>72+36*t.GetValue()+n.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MusicIcon",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t("toolbar.labels."+n("map-theme|switch-theme|starman-theme|metal-theme",s.GetValue(),"|"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-97},()=>"Creating autosave & backup settings",()=>"backupSettings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.mini-toolbar.backup-settings")},()=>"restorePointsSettingsContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"- "+t("toolbar.labels.autosave-header")+" -"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-140},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.autosave-toggle")},()=>"44,0,0,64,18",e=>{const t=e._GetNode(0);return()=>t.ExpObject("doAutosaveCycle",1)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.autosave-notif")},()=>"64,0,0,104,18",e=>{const t=e._GetNode(0);return()=>t.ExpObject("doAutosaveNotification",0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+104},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("toolbar.labels.autosave-interval")+"[/color]"},()=>"LSSMenuPatch",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"- "+t("toolbar.labels.lss-level-sync")+" -"},()=>"backupSettingsContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"- "+t("toolbar.labels.restore-point-header")+" -"},()=>"",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+68},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.restore-point-interval")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+117},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod();return()=>"5 "+t("common.time.minutes",5)+"|10 "+n("common.time.minutes",10)+"|15 "+s("common.time.minutes",15)+"|20 "+r("common.time.minutes",20)+"|25 "+o("common.time.minutes",25)+"|30 "+a("common.time.minutes",30)+"|1 "+i("common.time.hours",1)},()=>"restorePointInterval",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.backup-interval-notice")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-116},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.prompt-backup-notice")},()=>"62,1,1,104,0",e=>{const t=e._GetNode(0);return()=>t.ExpObject("doPeriodicDownloadLevelPrompts")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+130},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod();return()=>"10 "+t("common.time.minutes",10)+"|20 "+n("common.time.minutes",20)+"|30 "+s("common.time.minutes",30)+"|40 "+r("common.time.minutes",40)+"|50 "+o("common.time.minutes",50)+"|1 "+a("common.time.hours",1)+"|1.5 "+i("common.time.hours",1.5)+"|2 "+l("common.time.hours",2)},()=>"downloadBackupPromptInterval",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/4+20},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.create-restore-point")},()=>"openRestorePointsList",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.buttons.view-restore-points")},e=>{const t=e._GetNode(0);return()=>qj(Jj(t.ExpObject("automaticRestorePointInterval"),300),1)},e=>{const t=e._GetNode(0);return()=>qj(Jj(t.ExpObject("automaticDownloadLevelPromptInterval"),600),1)},()=>5400,()=>7200,()=>"Switching menus",()=>"globalLevelSettings",()=>"themeSettings",()=>"scrollSidebarDown",()=>"scrollSidebarUp",()=>"levelSettingsSidebarPage",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sidebar.general-level-settings")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MapSettings",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sidebar.map-settings")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Backgrounds",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sidebar.bg-settings")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Gradient",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sidebar.bgc-settings")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Music",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sidebar.music-settings")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MoveDown",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.menu-options.more-buttons")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MoveUp",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("LevelDescription",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sidebar.level-desc")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sidebar.level-stats")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("ToolbarSettings",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sidebar.toolbar-settings")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("BackupSettings",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sidebar.backup-settings")},()=>"Global level settings",()=>"Level description settings",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.html.level-desc-placeholder")},()=>169,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>Qj("[scale=0.8]",t(n.ExpObject("desc")))+"/2000 "+s("common.words.characters")+"[/scale]"},()=>"levelDescriptionCharacterCount",()=>326,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.labels.text-formatting")},()=>"textFormattingInfo",()=>374,()=>"textFormattingTooltip",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.text-formatting")},()=>-88,()=>"levelDescriptionPreviewing",()=>"levelDescriptionPreviewText",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>Qj("[scale=0.8]",t(n.ExpObject()))+"/2000 "+s("common.words.characters")+" [/scale]"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t.GetValue()-(n.GetValue()-s())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+32},()=>"Level statistics",()=>"Calculating level statisics",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Xj(t.ExpObject(n.GetValue()),1)},e=>{const t=e._GetNode(0).GetVar();return()=>Math.floor(t.GetValue()/60)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(Math.floor(t.GetValue()/60)," minute[/scale] was")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(Math.floor(t.GetValue()/60)," minutes[/scale] were")},e=>{const t=e._GetNode(0).GetVar();return()=>Math.floor(t.GetValue()/3600*100)/100},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(Math.floor(t.GetValue()/3600*100)/100," hour[/scale] (60 min)[/scale] was")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(Math.floor(t.GetValue()/3600*100)/100," hours[/scale] ("),n.GetValue())+" min) were"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),"was",""),"were","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>Xj(t.ExpObject(n.GetValue()),s(r()-o.ExpInstVar()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s(r.GetValue())-1)+"ies"},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+" has"},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+" have"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>Qj(Qj(Qj("[scale=",t.GetValue())+"]",n.GetValue())+"[/scale] [scale=",s.GetValue())+"]"+r.GetValue()+"[/scale]"},()=>"Creating statisics menu",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11),_=e._GetNode(12);return()=>Qj(Qj(Qj("This map is [scale=1] ",t.GetValue())+" [/scale] tiles long, and [scale=1] ",n.GetValue())+" [/scale] tiles tall, making for a surface area of [scale=1] ",s.GetValue()*r.GetValue())+" [/scale] tiles.\n\nThis level was created on...[scale=1]\n"+o(a.ExpObject("creationDate"))+"[/scale]\n\n[scale=1]"+i(l.ExpObject("editingTime"),0)+" spent in the editor\n[scale=1]"+d(c.ExpObject("playtestingTime"),0)+"[/scale] spent playtesting\n\nTOTAL TIME: "+u(Xj(h.ExpObject("editingTime"),_.ExpObject("playtestingTime")),1)},()=>"displayingLevelStats",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("coins",n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t.GetValue()-n.GetValue()-s.GetValue()-r.GetValue()-o.GetValue()-a.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar();return()=>t(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj("[scale=0.8]There are [scale=1.4]",n.GetValue())+"[/scale] objects in this map, out of which...\n\n[scale=1.2]",s.GetValue())+"[/scale] are [background=#996515]coins[/background]...\n[scale=1.2]",r.GetValue())+"[/scale] are [background=#1260CC]blocks[/background]...\n[scale=1.2]",o.GetValue())+"[/scale] are [background=#00854D]objects[/background]...\n[scale=1.2]",a.GetValue())+"[/scale] are [background=#AA336A]items[/background]...\n[scale=1.2]",i.GetValue())+"[/scale] are [background=#CC0000]enemies[/background]...\n[scale=1.2]",l.GetValue())+"[/scale] are [background=#FF5F1F]bosses[/background]...\n[scale=1.2]",d.GetValue())+"[/scale] are [background=#AA336A]miscellaneous[/background].\n[/scale]","are [scale=1.4]1[/scale] objects","is [scale=1.4]1[/scale] object")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t.GetValue()+"--- [scale=1.2]",n.ExpObject(s.ExpObject()))+"[/scale] ---\n\n"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(t.GetValue()+n(s.ExpInstVar_Family(),1,"_")+" (",r.GetValue())+" [scale=0.8]tiles[/scale])\n"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue()+"\nLayer total: [scale=1.2]",n.GetValue())+"[/scale]\n"},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+"[color=#C0C0C0](No tilemaps)[/color]\n"},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+"\n"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>Qj(Qj(Qj(Qj("[scale=0.8]Total tiles:[/scale] [scale=1.2]",t.GetValue())+"[/scale] | [scale=0.8]Total tile slots:[/scale] [scale=1.2]",n.GetValue()*(s.GetValue()*r.GetValue()))+"[/scale]\n[scale=0.8]Total tile layers:[/scale] [scale=1.2]",o.GetValue())+"[/scale] | [scale=0.8]Total tilemaps:[/scale] [scale=1.2]",a.GetValue())+"[/scale]\n\n[scale=0.65]Total tile slots is the amount of tiles that can be placed:\n[background=#000000]Total tilemap * (level's width * height)[/background][/scale]\n\n"+i.GetValue()},()=>"displayingTilemapStats",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13);return()=>"[scale=0.8]The toolbar has been opened[/scale] "+t(n.ExpObject("toolbarOpenings"),"time",1.2,.8,0)+"\n[scale=0.8]Level has been playtested[/scale] "+s(r.ExpObject("playtestCount"),"time",1.2,.8,0)+"\n[scale=0.8]Objects have been placed[/scale] "+o(a.ExpObject("placedAnObjectCount"),"time",1.2,.8,0)+"\n[scale=0.8]Objects have been deleted[/scale] "+i(l.ExpObject("deletedAnObjectCount"),"time",1.2,.8,0)+"\n"+d(c.ExpObject("itemInsertions"),"item",1.2,.8,1)+"[scale=0.8] been inserted into containers[/scale]\n"+u(h.ExpObject("objectCustomizations"),"object property",1.2,.8,1)+"[scale=0.8] been customized[/scale]\n"+_(G.ExpObject("goombasStomped"),"Goomba",1.2,.8,0)+"[scale=0.8] stomped in the making of this level[/scale]"},()=>"Map settings",()=>"openOverlayMenu",()=>"overlayMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t()/16)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj("2,",t.GetValue())+",",n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s("26x15 | 20x15 | 16x14 | 15x10",r.ExpObject()," | "),0,"x"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s("26x15 | 20x15 | 16x14 | 15x10",r.ExpObject()," | "),1,"x"))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(Qj(t.ExpObject("mapScreenWidth"),","),n.ExpObject("mapScreenHeight"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n(s("26x15 | 20x15 | 16x14 | 15x10",r.GetValue()," | "),0,"x"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n(s("26x15 | 20x15 | 16x14 | 15x10",r.GetValue()," | "),1,"x"))},()=>"Toolbar settings",e=>{const t=e._GetNode(0);return()=>t.ExpObject("editorMusic")},()=>"jigglyMusicNote",()=>"         ",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>Qj("[offsetY=",-2*Math.sin(tk.toRadians(300*t()+-30*n())))+"]"+s("         ",r(),1)+"[/offsetY]"},()=>"Background settings",()=>"Update backgrounds & their data string (functions)",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+"."+s.GetValue()+".dat")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar();return()=>Qj(t.GetValue(),",")+n(s.GetValue(),1,",")+","+r(o.GetValue(),2,",")+","+a(i.GetValue(),3,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar();return()=>Qj(t(n.GetValue(),0,",")+",",s.GetValue())+","+r(o.GetValue(),2,",")+","+a(i.GetValue(),3,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar();return()=>Qj(t(n.GetValue(),0,",")+","+s(r.GetValue(),1,",")+",",o.GetValue())+","+a(i.GetValue(),3,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>Qj(t(n.GetValue(),0,",")+","+s(r.GetValue(),1,",")+","+o(a.GetValue(),2,",")+",",i.GetValue())},()=>"Updating background setting visuals",()=>"CustomBGNotice",()=>"This layer has a custom background",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject("maps."+r.GetValue()+"."+o.GetValue()+".dat"),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("-72,-36,-24,-12,-3,0,3,12,24,36,72",s.GetValue(),","))},()=>"Changing background settings",()=>"shadowOverBackgrounds",()=>"Edit background",()=>"editBGTooltipText",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+"."+r.GetValue()+".src"),0,"_")+"_"+o(a.ExpObject("maps."+i.GetValue()+"."+l.GetValue()+".src"),1,"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>t(n.GetValue(),"BGHorizontalAutoscroll"===s.ExpInstVar()?2:3,r(o("-72,-36,-24,-12,-3,0,3,12,24,36,72",a.ExpObject(),",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(n.GetValue(),0,s.ExpObject())},()=>"Gradient / BG color settings",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),2,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9);return()=>t(n(s(r.ExpObject(),0,",")),o(a(i.ExpObject(),1,",")),l(d(c.ExpObject(),2,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject(r.ExpObject())," ",""))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()+"_"+n.ExpObject()},()=>"Level music settings",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>ek(0===t.GetValue()?1:0,Qj(n.GetValue(),"musicManager"===s.ExpInstVar_Family()?1:0))},()=>4210752,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7);return()=>t(n(s.ExpInstVar(),r.ExpInstVar(),","))?o(a(i.ExpInstVar(),l.ExpInstVar(),",")):-1},()=>"Create music overlay card",e=>{const t=e._GetNode(0);return()=>"HUDWithBlending"===t.ExpObject()?"settingInsideToolbar":"editorObjectCustomizationMenu"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>-1===t.GetValue()?n.GetValue():s.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n(s.GetValue()),"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar(),s.GetValue(),",")},()=>"musicMenu",()=>"Play music",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>t.GetValue()-n.ExpObject()-1},()=>"changeMusicButton",()=>"Music Overlay: previewing music (functions & custom action)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.stop"))},e=>{const t=e._GetNode(0).GetVar();return()=>-1===t.GetValue()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n("misc-labels.music-manager.npc-play-prompts"),Math.round(s(2)),"|")+" "},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(t("SwitchTheme|Starman|MetalTheme",n.GetValue()-1,"|"),s.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("SwitchMusic|StarmanMusic|MetalMusic",n.GetValue()-1,"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("toolbar.buttons.preview"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("map|switch|star|metal",n.GetValue(),"|")},()=>"Get music string by ID (function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.silent"))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetBoundMethod();return()=>Qj(Qj(Qj(Qj(Qj(t.ExpObject(n.ExpObject()),"\n"),"[scale=0.5][offsety=1]"),s(Qj("misc-labels.music-manager.",r.ExpObject(o.ExpObject(),1)))),2===a(i.ExpObject(l.ExpObject(),1),"-")?"":" ("+d(c("common.words.remix"))+")"),"[/offsety][/scale]")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("misc-labels.music-manager.default-theme")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n(s.GetValue()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"\n[scale=0.5][offsety=1]"+t(n("misc-labels.music-manager.custom"))+"[/offsety][/scale]"},()=>"Autosave & Backup settings",()=>"downloadCurrentLevel",e=>{const t=e._GetNode(0);return()=>300+300*t.ExpObject()},e=>{const t=e._GetNode(0);return()=>600+600*t.ExpObject()},()=>"Tileset toolbar menus",()=>"[h2][u]Creating tileset master menu[/u][/h2]",()=>231,()=>"textBG",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tileset-menu.footer")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+24*n.ExpObject()+32},()=>"favoritesBarSlot",()=>"global_mainDeco_mainDecoS_mushroom_island_grass_cave_castle_snow_ice_underwater_desert_desertTemple_beach_mountain_lavaCave_cloudAndBeanstalk_ghostHouse_starWorld_forest_hedge_garden_ship_sewer_ruins_bonus_factory_boneyard_coGreenHill_coForsakenCity_coNorfair_coButterBuilding",()=>"global_arch_turnip_bunting_vase_grass_cave_castle_castleOuter_forest_foliage_snow_ice_ghBrick_ghMain_ghOuter_night_mountain_fall_beach_desert_sewer_starWorld_lavaCave_ashland_tipsyTurtle_cloud_skyVariety_hedge_garden_ship_rope_factory_retroGrass_retroCave_retroCastle_retroUnderwater_retroSnow_retroDesert_retroForest_retroMountain_bonus",e=>{const t=e._GetNode(0).GetVar();return()=>91+t.GetValue()%14*22},e=>{const t=e._GetNode(0).GetVar();return()=>66+22*t.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>Qj(t.GetValue(),"_")+n(s.GetValue(),r.GetValue(),"_")},()=>"tilesetMasterMenuSlot",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()%14==0?1:0},()=>"Tileset master menu: extra functions & events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n("toolbar.tilemap-tooltips."+s(r.ExpInstVar(),1,"_")),"[s]","\n[scale=0.66][color=#CCCCCC]")},()=>"draggableToBar",()=>"Creating tilepage menu functions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_grass")},()=>"Open tileset menu (function)",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject(Qj(Qj("scrollLevel_",n.ExpObject(0))+"_",s.ExpObject(2)),0)},()=>"backToTilesetsMasterMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tileset-menu.go-back")},()=>"Super Mario Bros 1 All-Stars tilesets",()=>"1_global",()=>"1_Global",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),10)},()=>"1_mainDeco",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>"1_"+t(n(s.GetValue(),1,"_"))},()=>"1_MainDeco",()=>"mainDeco",()=>"1_mushroom",()=>"248,208,128_232,171,103_186,179,130_255,156,115_224,144,32_206,175,133_206,175,133_206,175,133",()=>"mushroom",()=>"1_Mushroom",e=>{const t=e._GetNode(0);return()=>t.ExpObject("mushroom","")},e=>{const t=e._GetNode(0).GetVar();return()=>"1_Mushroom"+t.GetValue()},()=>"1_island",()=>"1_Island",()=>"forest",()=>"1_grass",()=>"1_Grass",()=>"grass",()=>17.5,()=>"1_Cave",()=>"cave",()=>"1_castle",()=>"1_Castle",()=>"castle",()=>"1_snow",()=>"1_Snow",()=>"1_ice",()=>"1_Ice",()=>"1_Crystal",()=>325,()=>"1_underwater",()=>"1_Ocean",()=>"ocean",()=>"1_desert",()=>"1_Desert",()=>"desert",()=>"1_desertTemple",()=>"1_DesertT",()=>"1_Beach",()=>"beach",()=>"1_mountain",()=>"1_Mountain",()=>"mountain",()=>"1_lavaCave",()=>"lavacave",()=>"Tilemap_1_Crystal",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>""===t.GetValue()?"1_Crystal8":Qj("1_Crystal",3*n(s.GetValue())+8)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>""===t.GetValue()?"1_Crystal9":Qj("1_Crystal",3*n(s.GetValue())+9)},()=>272.5,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>""===t.GetValue()?"1_Crystal10":Qj("1_Crystal",3*n(s.GetValue())+10)},()=>"1_cloudAndBeanstalk",()=>"1_Cloud",()=>"cloud",()=>"1_Sky",()=>"1_ghostHouse",()=>"1_Ghost",()=>"1_starWorld",()=>"1_StarWorld",()=>"starWorld",()=>"1_forest",()=>"1_Forest",()=>"1_hedge",()=>"1_Hedge",()=>"1_garden",()=>"1_Garden",()=>"1_ship",()=>"1_Ship",()=>"ship",()=>"1_sewer",()=>"1_Sewer",()=>"sewer",()=>"1_Ruins",()=>"ruins",()=>"1_Bonus",()=>"bonus",()=>"1_factory",()=>"1_Factory",()=>"factory",()=>"1_coGreenHill",()=>"1_GreenHill",()=>"coGreenHill",()=>"1_coForsakenCity",()=>"1_ForsCity",()=>"coForsakenCity",()=>"1_coNorfair",()=>"1_Norfair",()=>"coNorfair",()=>"1_coButterBuilding",()=>"1_ButterBld",()=>"coButterBuilding",()=>"1_boneyard",()=>"1_Boneyard",()=>"boneyard",()=>"Super Mario World tilesets",()=>"2_global",()=>"2_Global",()=>"2_arch",()=>"2_Arch",()=>"arch",()=>"2_turnip",()=>"2_Turnip",()=>"2_bunting",()=>"2_Bunting",()=>"bunting",()=>73,()=>"2_vase",()=>"2_Pipes",()=>"2_grass",()=>"2_Grass",()=>"2_cave",()=>"2_Cave",()=>"2_castle",()=>"2_Castle",()=>"2_castleOuter",()=>"2_CastleE",()=>"castleExterior",()=>"2_forest",()=>"2_Forest",()=>"2_foliage",()=>"2_Foliage",()=>"2_snow",()=>"2_Snow",()=>"2_SnowD",()=>"2_ghBrick",()=>"2_GHBrick",()=>"2_ghMain",()=>"2_GHMain",()=>"2_ghOuter",()=>"2_GHOuter",()=>"2_night",()=>"2_Night",()=>"night",()=>"2_mountain",()=>"2_Mountain",()=>"2_fall",()=>"2_Fall",()=>"autumn",()=>"2_FallD",()=>"2_beach",()=>"2_Beach",()=>"2_BeachD",()=>"2_desert",()=>"2_Desert",()=>"2_DesertD",()=>"2_DesertB",()=>"2_ice",()=>"2_Ice",()=>"Tilemap_2_Crystal",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Qj("2_Crystal",t(n.GetValue())+8)},()=>172.5,()=>291,()=>156.5,()=>"1,2,3,4",()=>307.5,()=>"2_sewer",()=>"2_Sewer",()=>"2_starWorld",()=>"2_StarWorld",()=>"2_StarWorldD",()=>"2_lavaCave",()=>"2_LavaCave",()=>"lavaCave",()=>"2_ashLand",()=>"2_AshLand",()=>"ashLand",()=>"2_tipsyTurtle",()=>"2_Turtle",()=>"tipsyTurtle",()=>"2_TurtleD",()=>"2_cloud",()=>"2_Cloud",()=>"sky",()=>"2_skyVariety",()=>"2_Beanstalk",()=>"2_Rainbow",()=>"2_hedge",()=>"2_Hedge",()=>"garden",()=>"2_garden",()=>"2_Garden",()=>"2_ship",()=>"2_Ship",()=>"2_rope",()=>"2_Rope",()=>"2_factory",()=>"2_Factory",()=>"2_retroGrass",()=>"2_RetroG",()=>"retroGrass",()=>"2_retroCave",()=>"2_RetroU",()=>"retroCave",()=>77,()=>"2_retroCastle",()=>"2_RetroC",()=>"retroCastle",()=>"2_retroUnderwater",()=>"2_RetroO",()=>"retroOcean",()=>"2_retroSnow",()=>"2_RetroS",()=>"retroSnow",()=>"2_retroDesert",()=>"retroDesert",()=>"2_retroForest",()=>"2_RetroF",()=>"retroForest",()=>"2_retroMountain",()=>"retroMountain",()=>"2_bonus",()=>"2_Bonus",()=>"Navigating to tile page / Returning to master menu",()=>"Sprite toolbar menus",()=>"[h2][b][u]Creating sprite menus[/u][/b][/h3]",()=>"mainBlocks",e=>{const t=e._GetNode(0);return()=>t.ExpObject(1)},()=>"mainObjects",e=>{const t=e._GetNode(0);return()=>t.ExpObject(3)},()=>"mainEnemies",e=>{const t=e._GetNode(0);return()=>t.ExpObject(4)},()=>"Handle sprite menu opening",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue()+"SidebarPage",0)},()=>"Sprites menu events: Blocks, Objects & Enemies",()=>"Loading up block pages",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject(Qj(Qj("scrollLevel_",n.ExpObject(0))+"_",s.ExpObject(1)),0)},()=>"objPipes",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(Qj(s.GetValue(),"_Pipes")),2)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_Pipes")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("pipes","")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.obj-pipe")},()=>"pi1",()=>"2",()=>"pi3",()=>242,()=>"pi2",()=>"pi4",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.pipe-sprite-spawner")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.invisible-sprite-spawner")},()=>"0,4,2,3,1,1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("e1",0)},()=>"conveyors",e=>{const t=e._GetNode(0);return()=>t.ExpObject("selectedConveyorSpeed")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_Conveyor")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("0,67,81",s.GetValue(),","))},()=>"conveyor",()=>"1_Pipes",e=>{const t=e._GetNode(0).GetVar();return()=>10+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>6+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>39+2*(t.GetValue()-4)},e=>{const t=e._GetNode(0).GetVar();return()=>39+2*(t.GetValue()-4)+1},e=>{const t=e._GetNode(0).GetVar();return()=>58+2*(t.GetValue()-8)},e=>{const t=e._GetNode(0).GetVar();return()=>58+2*(t.GetValue()-8)+1},()=>"1_Water",()=>"1_Lava",()=>"1_Poison",()=>"1_Cryo",()=>"1_Electric",()=>"electric",()=>"spikes",()=>"climbables",()=>"1_Doors",()=>"2_Joints",()=>"2_CWater",()=>"2_DBWater",()=>"2_Lava",()=>"2_CLava",()=>"2_Poison",()=>"2_Cryo",()=>"2_Electric",()=>"escalators",e=>{const t=e._GetNode(0);return()=>t.ExpObject("selectedEscalatorSpeed")},()=>"escalator",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("2_Vine"),1)},()=>"vines",()=>"2_Vine",e=>{const t=e._GetNode(0);return()=>t.ExpObject("vines","")},()=>"2_Net",()=>"2_Doors",()=>"Loading up object pages",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject(Qj(Qj("scrollLevel_",n.ExpObject(0))+"_",s.ExpObject(3)),0)},()=>"switches",e=>{const t=e._GetNode(0).GetVar();return()=>126+60*t.GetValue()},()=>"16,0,1,0,0",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.persistent-area-tile")},()=>"26,18",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.persistent-area-tile")},()=>"insideToolbarPage",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.area-object-loader")},()=>"26,18,14,0",()=>246,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.area-object-loader")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.tag-tile")},()=>"13,9",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.tag-tile")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.light-caster")},()=>"16,16",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.light-caster")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.darkness-caster")},()=>"16,16,100",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.darkness-caster")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.invis-sprite-spawner")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.current-generator")},()=>"0,1,1,5,1",()=>174,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.current-gen")},()=>"b10",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.on-off-tag-block")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.tag-block")},()=>"envChangers",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.music-changer")},()=>"16,16,1",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.text.music-changer")},()=>"o15",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("15,",t())+",14,0,1"},()=>"powerUps",()=>"goals",()=>254,()=>"platforms",()=>"Loading up enemy pages",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject(Qj(Qj("scrollLevel_",n.ExpObject(0))+"_",s.ExpObject(4)),0)},e=>{const t=e._GetNode(0).GetVar();return()=>2===t.GetValue()?54:60},()=>"shellEnemies",()=>"waterEnemies",()=>223,()=>"castleEnemies",()=>"ghostEnemies",()=>"1_Stretch",()=>"artillery",()=>"1_Artillery",()=>"moles",()=>"1_Holes",()=>"chucks",e=>{const t=e._GetNode(0);return()=>t.ExpObject("chucks","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("1_Chucks"),2)},()=>"plantEnemies",()=>"dinoEnemies",()=>"fieryEnemies",()=>"yiEnemies",()=>"wonderEnemies",()=>"poweredEnemies",()=>"2_Stretch",()=>209,()=>"2_Artillery",()=>"2_Holes",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("2_Chucks"),1)},()=>"Creating toolbar buttons (function)",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject(0))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(Qj(n.ExpObject(0),"_tooltips"))},e=>{const t=e._GetNode(0).GetVar();return()=>5*t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),"|")-5*s.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>78+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t("toolbar.sidebar."+n(s.GetValue(),r.GetValue(),"|"))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_pipes")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_objPipes")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("pipes",""))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>Math.floor((t(n.GetValue(),"|")-1)/5)},()=>"Navigating blocks/objects/enemies pages",e=>{const t=e._GetNode(0);return()=>Qj(t.ExpObject(0),"SidebarPage")},()=>"Changing Conveyor Belt / Escalators movement speed",()=>"conveyorBeltSpeedContainer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.speed")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.tooltips.conveyor-speed")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>"selected"+t(n.GetValue())+"Speed"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("toolbar.html.bg-scroll-speed-h"),"1,2,3,5,7,8,9","|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue()),"-64,-32,-16,0,16,32,64",",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("-64,-32,-16,0,16,32,64",n.ExpObject(),",")},()=>"[h2]Generators[/h2]",()=>"Verify if generator exists",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("wind",n.GetValue(),"_")},()=>"Get generator property keys",()=>"windAngle,intensity,playWindSFX,buildup,duration,cooldown,cycleDelay,repeats,onlyAffectPlayer",()=>"Set default values for generators",e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".type"},e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".active"},e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".tags"},e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".intensity"},e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".buildup"},e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".duration"},e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".cooldown"},e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".cycleDelay"},e=>{const t=e._GetNode(0).GetVar();return()=>"generators."+t.GetValue()+".repeats"},()=>"Generator string conversion functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("effects.names."+n.GetValue()+"-g")},()=>"Get generator type count",()=>"Check if generator supports property",()=>"intensity",()=>"Compile generator properties into data string",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>"type,active,tags,"+t(n.ExpObject("generators."+s.GetValue()+".type"))},()=>"propertyLoop",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod();return()=>Qj(t.ExpObject("generators."+n.GetValue()+"."+s(r.GetValue(),o("propertyLoop"),",")),",")},()=>"Creating generator UI elements",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("generators."+n.GetValue()+".type")},()=>"Wind Generator UI elements",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject("generators."+s.GetValue()+".windAngle"))},()=>"Speed",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.intensity")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-75},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.html.wind-types")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>24===t.ExpObject("generators."+n.GetValue()+".intensity")?0:Jj(s.ExpObject("generators."+r.GetValue()+".intensity"),64)},()=>"windGeneratorIntensity",()=>"Recycle",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+27},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.repeats")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t.ExpObject("generators."+n.GetValue()+".repeats")>=0?s.ExpObject("generators."+r.GetValue()+".repeats").toString():""},()=>"Inf.",()=>"windGeneratorRepeats",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+61},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t("effects.properties.intensity")+"\n[sub]"+n("effects.tooltips.wind-strength")+"[/sub]\n\n"+s("common.labels.repeats")+"\n[sub]"+r("effects.tooltips.wind-repeats")+"[/sub]"},()=>"generatorsMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.play-wind-sfx")},()=>"36,0,0,48,12",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("generators."+n.GetValue()+".playWindSFX")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.only-affect-player")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("generators."+n.GetValue()+".onlyAffectPlayer")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+70},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-54},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.buildup")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-54-24+4},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("generators."+n.GetValue()+".buildup").toString()},()=>"windGeneratorBuildUpTime",()=>"ObjDirection",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.duration")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-24+4},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t.ExpObject("generators."+n.GetValue()+".duration")>=0?s.ExpObject("generators."+r.GetValue()+".duration").toString():""},()=>"windGeneratorDuration",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+54},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.cooldown")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+54-24+4},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("generators."+n.GetValue()+".cooldown").toString()},()=>"windGeneratorCooldownTime",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+81},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.delay")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+108-24+4},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("generators."+n.GetValue()+".cycleDelay").toString()},()=>"windGeneratorCycleDelay",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-17},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod();return()=>t("effects.properties.buildup")+"\n[sub]"+n("effects.tooltips.wind-buildup")+"[/sub]\n\n"+s("common.labels.duration")+"\n[sub]"+r("effects.tooltips.wind-duration")+"[/sub]\n\n"+o("effects.properties.cooldown")+"\n[sub]"+a("effects.tooltips.wind-cooldown")+"[/sub]\n\n"+i("common.labels.delay")+"\n[sub]"+l("effects.tooltips.wind-cycle-delay")+"[/sub]"},()=>"Sprite Generator UI elements",()=>"sprite",()=>"Editing properties of generators",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>0===t.ExpObject()?24:64*n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject())<=-1?"":s.ExpObject()},()=>"[h3] Generators gameplay loop[/h3]",()=>"Wind generators",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".type"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".active"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".initiated"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".tagState"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".buildup"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".duration"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".cooldown"},e=>{const t=e._GetNode(0);return()=>"Wind Generator '"+t.ExpObject()+"' is not properly configured: buildup, duration & cooldown cannot all be 0."},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".repeats"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".subtractFromCycleCount"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".cyclesLeft"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+".repeats")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".cycleDelay"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".waitingOutInitialDelay"},()=>"waitingOutDelay",()=>"nextCycleQueued",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".buildupProgress"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+".buildup")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".durationProgress"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+".duration")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".cooldownProgress"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".cycleDelayProgress"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>1===t.ExpObject(n.ExpObject()+".onlyAffectPlayer")?"player"===s.ExpInstVar_Family()?1:0:r.ExpInstVar_Family()===o.ExpInstVar_Family()?1:0},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+".intensityPixelsX")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+".intensityPixelsY")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Xj(t.ExpObject(),Kj(Kj(n.ExpObject(s.ExpObject()+".intensityPixelsX"),4),r()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Xj(t.ExpObject(),Kj(Kj(n.ExpObject(s.ExpObject()+".intensityPixelsY"),4),r()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Xj(t.ExpObject(),Kj(Kj(n.ExpObject(s.ExpObject()+".intensityPixelsX"),3),r()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>Xj(t.ExpObject(),Kj(Kj(n.ExpObject(s.ExpObject()+".intensityPixelsY"),3),r()))},()=>"Wind generator function group",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".intensityPixelsX"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Kj(t.ExpObject(n.ExpObject()+".intensity"),Math.cos(tk.toRadians(qj(s.ExpObject(r.ExpObject()+".windAngle"),90))))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".intensityPixelsY"},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Kj(t.ExpObject(n.ExpObject()+".intensity"),Math.sin(tk.toRadians(qj(s.ExpObject(r.ExpObject()+".windAngle"),90))))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Jj(t.ExpObject(n.ExpObject()+".buildup"),s.ExpObject(r.ExpObject()+".buildupProgress"))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Jj(t.ExpObject(n.ExpObject()+".cooldown"),s.ExpObject(r.ExpObject()+".cooldownProgress"))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Jj(t.ExpObject(n.ExpObject()+".intensityPixelsX"),s.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Jj(t.ExpObject(n.ExpObject()+".intensityPixelsY"),s.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>Kj(t.ExpObject(n.ExpObject()+".buildup"),Jj(s.ExpObject(r.ExpObject()+".cooldownProgress"),o.ExpObject(a.ExpObject()+".cooldown")))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5);return()=>Kj(t.ExpObject(n.ExpObject()+".cooldown"),Jj(s.ExpObject(r.ExpObject()+".buildupProgress"),o.ExpObject(a.ExpObject()+".buildup")))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+".cooldown")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+".cycleDelay")},()=>"retired",e=>{const t=e._GetNode(0);return()=>"generators."+t.ExpObject()+".blowingWind"},e=>{const t=e._GetNode(0);return()=>"generators."+t.ExpObject()+".playWindSFX"},()=>"Starting, pausing, stopping & resuming generators",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+".type")},e=>{const t=e._GetNode(0);return()=>"generators."+t.ExpObject()+".mode"},()=>"[h2]Map filters (particles, overlays & audio effects)[/h2]",()=>"Verify if effect exists",()=>"Set default values for effects",e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".active"},e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".tags"},e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".intensity"},e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".movementAngle"},e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".movementSpeed"},e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".toggleDuration"},e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".affectedAudio"},e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".variant"},e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".hexColorValue"},e=>{const t=e._GetNode(0).GetVar();return()=>"leaf"===t.GetValue()?180:0},()=>"58a7ef",e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".volumeReduction"},()=>"-15",()=>"Get effect property value index",()=>"movementAngle",()=>"variant",()=>"toggleDuration",()=>"createSFX",()=>"additiveBlend",()=>"appearance",()=>"hexColorValue",()=>"twoWayMovement",()=>"waterCheck",()=>"affectedAudio",()=>"volumeReduction",()=>"Check if effect supports property",()=>"[u]Enabling / Disabling effects[/u]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n("10,35,80",s.ExpObject("filters."+r.GetValue()+".intensity"),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()+n(-256,256)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n("Gameplay")-48,s("Gameplay")+48)},e=>{const t=e._GetNode(0);return()=>qj(t.ExpObject("filters.rain.movementAngle"),180)},()=>"Rain",e=>{const t=e._GetNode(0);return()=>t.ExpObject("filters.rain.appearance")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("filters.rain.ignoreEnvironmentCollisions")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n("6,18,40",s.ExpObject("filters."+r.GetValue()+".intensity"),","))},()=>"Snow",e=>{const t=e._GetNode(0);return()=>t.ExpObject("filters.snow.appearance")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("filters.snow.ignoreEnvironmentCollisions")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Kj(t.ExpObject("filters."+n.GetValue()+".intensity"),5)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".movementAngle")},e=>{const t=e._GetNode(0).GetVar();return()=>6*t.GetValue()+10},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()+n(-309,309)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()+n(-221,221)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod();return()=>t(qj(n.GetValue(),Kj(s.ExpObject("filters."+r.GetValue()+".twoWayMovement"),o(0,180))))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".appearance")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".movementSpeed")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>qj(1,t.ExpObject("filters."+n.GetValue()+".waterCheck"))},()=>"fadeIn opacity",()=>"filters.heat.active",()=>"filters.flash.active",()=>"filters.flash.variant",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(3,9)},()=>"doBackgroundFlash",()=>"doLayoutFlash",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".intensity")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.GetValue()?0:n.ExpObject("filters."+s.GetValue()+".toggleDuration")},()=>"ColorOverlay",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>""===t.ExpObject("filters."+n.GetValue()+".hexColorValue")?"255,255,255":s(r.ExpObject("filters."+o.GetValue()+".hexColorValue"))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Fog",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>qj(t.ExpObject("filters."+n.GetValue()+".movementAngle"),90)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".additiveBlend")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>""===t.ExpObject("filters."+n.GetValue()+".hexColorValue")?"":s(r.ExpObject("filters."+o.GetValue()+".hexColorValue"))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>""===t.ExpObject("filters."+n.GetValue()+".hexColorValue")?"0,0,0":s(r.ExpObject("filters."+o.GetValue()+".hexColorValue"))},()=>"filters.muffle.waterCheck",()=>"adjustVolumeReductionByFilter",e=>{const t=e._GetNode(0);return()=>t.ExpObject("filters.vol.toggleDuration")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".volumeReduction")},()=>"fadeOut opacity",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"Embers")+n.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("fog",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".toggleDuration")},()=>"Effect string conversion functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("effects.names."+n.GetValue()+"-f")},()=>"sandstorm",()=>"heat ripples",()=>"darkness",()=>"sfx echo",()=>"leaves",()=>"silhouette",()=>"color overlay",()=>"muffled audio",()=>"volume reduction",()=>"Level overlay effects",e=>{const t=e._GetNode(0).GetVar();return()=>"Overlay_"+t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.round(t.ExpObject()/n.ExpObject())*s.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()>0?0:n.GetValue()},()=>864,()=>"disappearing opacity",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpInstVar_Family()*n()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t()-n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t()+n.ExpObject()},()=>"Creating effect particles",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()?n.GetValue():""},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj(t.GetValue(),n.GetValue())+s.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-90},()=>"NotFound",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"Rain")+n.ExpInstVar()},()=>"roofskip",()=>"downfall",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"Snow")+n.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n(12,24),s(-12,-24))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"Sand")+n.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>t.GetValue()-90+n(-6,6)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15).GetVar(),g=e._GetNode(16).GetBoundMethod(),f=e._GetNode(17),N=e._GetNode(18).GetBoundMethod(),b=e._GetNode(19).GetBoundMethod(),S=e._GetNode(20).GetBoundMethod(),x=e._GetNode(21).GetBoundMethod(),I=e._GetNode(22).GetBoundMethod(),y=e._GetNode(23).GetVar(),E=e._GetNode(24).GetBoundMethod(),T=e._GetNode(25),C=e._GetNode(26).GetBoundMethod(),M=e._GetNode(27).GetBoundMethod(),V=e._GetNode(28).GetBoundMethod(),B=e._GetNode(29).GetBoundMethod(),O=e._GetNode(30).GetBoundMethod(),v=e._GetNode(31).GetBoundMethod(),P=e._GetNode(32).GetVar(),w=e._GetNode(33).GetBoundMethod(),A=e._GetNode(34),D=e._GetNode(35).GetBoundMethod(),R=e._GetNode(36).GetBoundMethod(),F=e._GetNode(37).GetBoundMethod(),j=e._GetNode(38).GetBoundMethod(),k=e._GetNode(39).GetBoundMethod(),L=e._GetNode(40).GetVar(),W=e._GetNode(41).GetBoundMethod(),U=e._GetNode(42),H=e._GetNode(43).GetBoundMethod(),z=e._GetNode(44).GetBoundMethod(),Y=e._GetNode(45).GetBoundMethod(),X=e._GetNode(46).GetBoundMethod(),q=e._GetNode(47).GetBoundMethod(),K=e._GetNode(48).GetVar(),J=e._GetNode(49).GetBoundMethod(),$=e._GetNode(50),Z=e._GetNode(51).GetBoundMethod(),Q=e._GetNode(52).GetBoundMethod(),ee=e._GetNode(53).GetBoundMethod(),te=e._GetNode(54).GetBoundMethod(),ne=e._GetNode(55).GetBoundMethod(),se=e._GetNode(56).GetBoundMethod(),re=e._GetNode(57).GetVar(),oe=e._GetNode(58).GetBoundMethod(),ae=e._GetNode(59),ie=e._GetNode(60).GetBoundMethod(),le=e._GetNode(61).GetBoundMethod(),de=e._GetNode(62).GetBoundMethod(),ce=e._GetNode(63).GetBoundMethod(),ue=e._GetNode(64).GetBoundMethod(),he=e._GetNode(65).GetVar(),_e=e._GetNode(66).GetBoundMethod(),Ge=e._GetNode(67),pe=e._GetNode(68).GetBoundMethod(),me=e._GetNode(69).GetBoundMethod(),ge=e._GetNode(70).GetBoundMethod(),fe=e._GetNode(71).GetBoundMethod(),Ne=e._GetNode(72).GetBoundMethod(),be=e._GetNode(73).GetVar(),Se=e._GetNode(74).GetBoundMethod(),xe=e._GetNode(75),Ie=e._GetNode(76).GetBoundMethod(),ye=e._GetNode(77).GetBoundMethod(),Ee=e._GetNode(78).GetBoundMethod(),Te=e._GetNode(79).GetBoundMethod(),Ce=e._GetNode(80).GetBoundMethod(),Me=e._GetNode(81).GetBoundMethod(),Ve=e._GetNode(82).GetVar(),Be=e._GetNode(83).GetBoundMethod(),Oe=e._GetNode(84),ve=e._GetNode(85).GetBoundMethod(),Pe=e._GetNode(86).GetBoundMethod(),we=e._GetNode(87).GetBoundMethod(),Ae=e._GetNode(88).GetBoundMethod(),De=e._GetNode(89).GetBoundMethod(),Re=e._GetNode(90).GetVar(),Fe=e._GetNode(91).GetBoundMethod(),je=e._GetNode(92),ke=e._GetNode(93).GetBoundMethod(),Le=e._GetNode(94).GetBoundMethod(),We=e._GetNode(95).GetBoundMethod(),Ue=e._GetNode(96).GetBoundMethod(),He=e._GetNode(97).GetBoundMethod(),ze=e._GetNode(98).GetVar(),Ye=e._GetNode(99).GetBoundMethod(),Xe=e._GetNode(100);return()=>t(n(s(r(o(a(i("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",l.GetValue()-1,"?"),d(c.ExpInstVar()),"|"),0,"_"),0,",")),u(h(_(G(p("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",m.GetValue()-1,"?"),g(f.ExpInstVar()),"|"),0,"_"),1,",")),N(b(S(x(I("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",y.GetValue()-1,"?"),E(T.ExpInstVar()),"|"),0,"_"),2,","))),C(M(V(B(O(v("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",P.GetValue()-1,"?"),w(A.ExpInstVar()),"|"),1,"_"),0,",")),D(R(F(j(k("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",L.GetValue()-1,"?"),W(U.ExpInstVar()),"|"),1,"_"),1,",")),H(z(Y(X(q("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",K.GetValue()-1,"?"),J($.ExpInstVar()),"|"),1,"_"),2,","))),Z(Q(ee(te(ne(se("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",re.GetValue()-1,"?"),oe(ae.ExpInstVar()),"|"),2,"_"),0,",")),ie(le(de(ce(ue("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",he.GetValue()-1,"?"),_e(Ge.ExpInstVar()),"|"),2,"_"),1,",")),pe(me(ge(fe(Ne("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",be.GetValue()-1,"?"),Se(xe.ExpInstVar()),"|"),2,"_"),2,","))),Ie(ye(Ee(Te(Ce(Me("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",Ve.GetValue()-1,"?"),Be(Oe.ExpInstVar()),"|"),3,"_"),0,",")),ve(Pe(we(Ae(De("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",Re.GetValue()-1,"?"),Fe(je.ExpInstVar()),"|"),3,"_"),1,",")),ke(Le(We(Ue(He("224,144,32_192,112,32_160,80,8_128,48,8|248,152,112_232,112,72_184,64,24_144,32,8|217,176,144_185,143,100_153,110,65_106,73,38|248,208,88_216,168,48_184,136,16_128,88,32|120,149,190_102,114,166_86,83,143_68,56,102|239,237,227_198,194,173_149,145,122_104,100,76|255,156,115_192,136,144_160,104,112_128,72,112|252,229,150_226,183,91_203,142,67_168,102,35?247,212,101_212,151,46_177,92,45_133,24,24|240,248,160_220,185,69_216,160,56_136,88,24|255,255,255_200,224,248_184,216,240_144,168,176|232,192,160_192,152,120_112,80,48_72,48,16|192,192,120_152,144,64_72,80,88_40,48,72|200,200,248_152,160,248_104,104,176_64,48,160|176,168,144_120,112,104_96,88,80_72,64,56|251,205,188_231,119,134_184,92,92_120,36,58",ze.GetValue()-1,"?"),Ye(Xe.ExpInstVar()),"|"),3,"_"),2,","))))},()=>"AboveLighting",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(4,12)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>t.GetValue()*n(.7,1.3)},()=>"ZElevation",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(10)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"Leaf")+n.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"Current")+n.ExpInstVar()},()=>"speedOffset random",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>Kj(t.ExpInstVar()/n(1.5,3),s(-1,1))},()=>"posXY sinewave firstWave",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+Math.cos(tk.toRadians(n.ExpBehavior()+90))*s(16,32)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+Math.sin(tk.toRadians(n.ExpBehavior()+90))*s(16,32)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(.7,2.1)},()=>"posXY sinewave secondWave",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+Math.cos(tk.toRadians(n.ExpBehavior()+90))*s(-32,-16)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+Math.sin(tk.toRadians(n.ExpBehavior()+90))*s(-32,-16)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"Fish")+n.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("","1")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(7,9)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>t.GetValue()*n(.8,1.2)},()=>"Downfall effects",e=>{const t=e._GetNode(0);return()=>"filters."+t.ExpInstVar()+".ignoreEnvironmentCollisions"},()=>"Downfall particles relocating",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+512},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-512},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Gameplay")+48},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n()-310,s()+310)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("Gameplay")-n(48)},()=>"Downfall particles movement & landing",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>(48+8*t.ExpObject())*n()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"player-only")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"sprite-only")},()=>"Downfall particles landing handling",()=>"scatteredDownfall",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"RainLand")+n.ExpInstVar()},()=>"Non-colliding effect particle events",()=>"Non-colliding particles moving & relocating",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-310},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+618},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n()-222,s()+222)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+310},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-618},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-222},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+442},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+222},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-442},()=>"Leaf & Current Tweens",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()+n.ExpBehavior("speedOffset")},()=>"speedOffset",()=>"speedOffset speedUp",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>-t.ExpInstVar()/n(1.5,3)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpInstVar()/n(1.5,3)},()=>"speedUp",()=>"speedOffset slowDown",()=>"firstWave",()=>"Effect Particle water checks",()=>"filters.current.active",()=>"filters.current.waterCheck",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(0===t(n.ExpObject(),s.ExpObject())?1:0,""===r.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(1===t(n.ExpObject(),s.ExpObject())?1:0,"1"===r.ExpInstVar()?1:0)},()=>"filters.fish.active",()=>"filters.fish.waterCheck",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("WaterChecker"),s.ExpObject("WaterChecker"))},()=>"Create effect properties for customization",()=>"effectPropertyPage",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>234-16*t.GetValue()+32*n.GetValue()+16},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"Number"),n.GetValue()+1)},()=>"downwardsTilt",()=>"upwardsTilt",()=>"environmentCollisionToggle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(Qj("effects.palettes.",n.GetValue())+"_rain")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(Qj("effects.palettes.",n.GetValue())+"_snow")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(Qj("effects.palettes.",n.GetValue())+"_sand")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(Qj("effects.palettes.",n.GetValue())+"_embers")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(Qj("effects.palettes.",n.GetValue())+"_leaf")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.palettes.current")},()=>"effectPropertyContainer",()=>"Create effect property UI container",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n("common.labels.x-tags",s("common.words.effects",1)))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".tags")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.intensity")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.html.intensity")},()=>"effectParticleIntensity",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.movement-angle")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.movement-angle")+"\n0  90  180  270"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".movementAngle").toString()},()=>"effectParticleMovementAngle",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.downfall-tilt")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.downfall-tilt")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.html.tilt-options")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Jj(Xj(Kj(t.ExpObject("filters."+n.GetValue()+".movementAngle"),-1),8),8)},()=>"effectParticleMovementAngle_TopParticles",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.upwards-tilt")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.upwards-tilt")},()=>"Left|None|Right",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Jj(Xj(t.ExpObject("filters."+n.GetValue()+".movementAngle"),45),45)},()=>"effectParticleMovementAngle_BottomParticles",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.environment-collisions")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+16},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.environment-collisions")},()=>"62,0,0,92,16",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".ignoreEnvironmentCollisions")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.movement-speed")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.movement-speed")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".movementSpeed").toString()},()=>"effectParticleMovementSpeed",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.flash-type")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.flash-type")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.html.flash-type")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".variant")},()=>"effectVariant",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.toggle-sfx")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.flash-thunder")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".createSFX")},()=>"25%|50%|75%",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.html.opacity-options")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.opacity"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.opacity")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>qj(Jj(t.ExpObject("filters."+n.GetValue()+".intensity"),25),1)},()=>"effectOpacity",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.fade-duration")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.fade-duration")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".toggleDuration").toString()},()=>"filterToggleDuration",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.additive-blend")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.additive-blend")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.color-hex")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.color-hex")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>"#"+t.ExpObject("filters."+n.GetValue()+".hexColorValue").toString()},()=>"effectHexColorValue",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.appearance")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.palette")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.palette")},()=>"effectAppearance",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.two-way-movement")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.two-way-movement")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".twoWayMovement")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.water-check-player")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.water-check")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.water-check")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".waterCheck")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.affected-audio")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.affected-audio")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.html.affected-audio")},()=>"filter_affectedAudio",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.properties.volume-reduction")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("effects.tooltips.volume-reduction")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod();return()=>"-5 "+t("common.words.decibels")+"|-10 "+n("common.words.decibels")+"|-15 "+s("common.words.decibels")+"|-20 "+r("common.words.decibels")+"|-25 "+o("common.words.decibels")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>qj(Jj(t.ExpObject("filters."+n.GetValue()+".volumeReduction"),-5),1)},()=>"filter_volumeReduction",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+3*(0===n.ExpInstVar_Family()?1:0)},()=>"Changing filter properties",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"#"+t(n.ExpObject())},e=>{const t=e._GetNode(0);return()=>8-8*t.ExpObject()},e=>{const t=e._GetNode(0);return()=>45*t.ExpObject()-45},e=>{const t=e._GetNode(0);return()=>25*(t.ExpObject()+1)},e=>{const t=e._GetNode(0).GetVar();return()=>"filters."+t.GetValue()+".appearance"},e=>{const t=e._GetNode(0);return()=>5*-(t.ExpObject()+1)},()=>"Compile filter properties into data string",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("filters."+n.GetValue()+".active")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue()+",",n.ExpObject("filters."+s.GetValue()+".tags"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>Qj(t.GetValue()+",",n.ExpObject("filters."+s.GetValue()+"."+r.GetValue()))},()=>"Flash filter",e=>{const t=e._GetNode(0);return()=>Kj(Xj(t.ExpObject("filters.flash.intensity"),1),3)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>9-t(n.GetValue())},()=>"bgColorBrightness",()=>"backgroundFlash decreaseOpacity",()=>"filters.flash.createSFX",()=>"thunder",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("bgColorBrightness")},()=>"setLayoutBrightness",()=>"decreaseOpacity",()=>"layoutFlash1 decreaseOpacity",e=>{const t=e._GetNode(0);return()=>100+t.ExpBehavior("setLayoutBrightness")},e=>{const t=e._GetNode(0);return()=>100-t.ExpBehavior("setLayoutBrightness")},()=>"SilhouetteColor",()=>"layoutFlash1",()=>"layoutFlash2 decreaseOpacity",()=>"Volume reduction filter",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("adjustVolumeReductionByFilter")},()=>"Silhouette filter",()=>"Fade-to-color (using Tint layer effect) for [u]layers[/u]",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("setSameColorToAllLayers")},()=>"Darkness & Color Overlay opacity handling",()=>"darknessFading",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("darknessFading")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar_Family()-n.ExpBehavior("decreaseOpacity")},()=>"Darkness filter",()=>"Darkness init",()=>448,()=>"Darkness light source creation",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Light")},()=>"toFullOpacity",()=>"gameObject",()=>"Crystal Platforms in Darkness",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+"_Shine"},()=>"Darkness light source removal",()=>"Darkness update",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_t4")},()=>"Create light sources from tiles",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"identifierName")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"palette")},()=>"lightCasting",()=>"Light & Darkness caster object",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>12*t(n(s.ExpInstVar(),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>12*t(n(s.ExpInstVar(),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),3,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Qj("Effects",t(n(s.ExpInstVar(),3,","))-1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>20*t(n(s.ExpInstVar(),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>20*t(n(s.ExpInstVar(),1,","))},()=>"Misc. dark & light functions",()=>"adjustOwnSize",()=>"Color Overlay filter",()=>"colorOverlayFadingOut opacity",()=>"colorOverlayFadingUpdate opacity",()=>"colorOverlayFadingIn opacity",()=>"Screenwrap",()=>"particle",()=>"technical",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()+(16*n.GetValue()+2*s.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()-(16*n.GetValue()+2*s.ExpInstVar_Family())},()=>" Loop through tilemap edges for tile extensions",()=>"levelWidth",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("levelWidth")},()=>"levelHeight",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("levelHeight")},()=>" Extend tile collision (if applicable)",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t.ExpObject(n.ExpObject(s.GetValue(),r.GetValue()),o.ExpInstVar_Family())},()=>"Roofskip/Floorskip prevention",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t.ExpObject(n.ExpObject(s.GetValue(),0),r.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),s(r.ExpObject(),o.GetValue(),0))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t.ExpObject(n.ExpObject(s.GetValue(),r.GetValue()-1),o.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t(n.GetValue(),s(r.ExpObject(),o.GetValue(),a.GetValue()-1))},()=>"Horizontal tile extensions (screenwarp)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek("horizontal"===t.GetValue()?1:0,"allAxis"===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>ek(0===t.GetValue()?1:0,n.GetValue()===s.GetValue()-1?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("H",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("H",n.GetValue()))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("HL",n.GetValue()),"")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("HR",n.GetValue()),"")},()=>"S",()=>"F",()=>"FR",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>0===t.GetValue()?-24:16*n.GetValue()+24},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>0===t.GetValue()?-48:16*n.GetValue()},()=>"Vertical tile extensions (screenwrap)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>ek("vertical"===t.GetValue()?1:0,"allAxis"===n.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("V",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj("V",n.GetValue()))},()=>"LW",()=>"LRW",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>0===t.GetValue()?0:16*n.GetValue()+48},()=>"RW",()=>" Get edge collision value from rotation",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()%4},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("2,3,5,6",n.GetValue().toString(),",")?2:3},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("1,2,6,7",n.GetValue().toString(),",")?2:3},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("0,3,4,5",n.GetValue().toString(),",")?2:3},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("0,1,4,7",n.GetValue().toString(),",")?2:3},()=>"[h4]Customizing containers[/h4]",()=>"Creating container preview box",()=>"PreviewFrame",()=>"showContainerItem",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+14},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-14},()=>"editContainerItem",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.edit-item")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CopyTransparent",t.GetValue())},()=>"copyContainerItem",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.copy-item")},()=>"o16",()=>"o31",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"i"+t(n.ExpInstVar(),4,",")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue().toString())},()=>"containerObjectCount",()=>"Is (global) container checks + Object is compatible with container (functions)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("b2,b3,b4,b5,b12,b13,b14,b15,b16,b17,b20,b21,b22,b23,b24,b25,b26,b27,b28,o14,o46,o49,o50,o51,e60,e61,e89,e114,e141,e166,bs1,bs2,bs3,t6,o71",n.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("b2,b3,b4,b5,b12,b13,b14,b15,b16,b17,b20,b21,b22,b23,b24,b25,b26,b27,b28,o14,o46,o50,o51,e60,e61,e89,e114,e141,e166,bs1,bs2,bs3,t6,o71",n.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),"objID"))},()=>"o51",()=>"e141",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_o51")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>Qj("b"===t(n(s.ExpObject(),1,"_"),1)?1:0,0==("bs"===r(o(a.ExpObject(),1,"_"),2)?1:0)?1:0)},()=>"b19",()=>"o22",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_e141")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("o32,o33,o50,e21,e24,e25,e26,e30,e33,e36,e37,e38,e39,e40,e41,e56,e57,e58,e98,e122,e132,e133,e134,e135",n.ExpInstVar(),",")},()=>"e98",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_o49")},()=>"m1",()=>"compatibleIDs",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n(),"|")-1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t(n(s(),r(),"|"),0,",")},()=>"Item insert data handling (function)",()=>"Check how many items one container can carry (function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),2)},()=>"e61",()=>"Dragging items into container",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"placedObj"===t(n.ExpObject(),"objMode")?1:0},()=>"canContainItem sizeChange",()=>"canContainItem",()=>"itemInsertions",()=>"objectCustomizations",()=>"shrinkIntoContainer",()=>"itemInserted sizeChange",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>2*t.ExpObject()*Math.sign(n.ExpObject())},()=>"containerContentIcon",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_t6")},()=>"e116",()=>"e117",()=>"o66",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),1,"_"),1)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_b12")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_b13")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("koopaTroopa",n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_e89")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_e166")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("linearProjectiles",n.ExpInstVar())},()=>"itemInserted",()=>"Update 'copy item button'-availability",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),1),"C")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("0"),0,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("o41|t12",n.GetValue(),"|")},()=>"Copy item to cursor + Pick container item through a submenu",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpInstVar().toString()),0,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(s.ExpInstVar().toString()),",",0,r.GetValue(),"")},()=>"deleteContainerItem",()=>"menuSFX",()=>"Editor/CustomizationClose",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("SubMenu",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2-32},()=>"b21",()=>"b22",()=>"blockItemsWithRing",()=>"b27",()=>"b28",()=>"blockItemsWithKirbyCoin",()=>"e114",()=>"blockItemsWithoutVine",()=>"commonHelpfulItems",()=>"giftBoxItems",()=>"bubbleItems",()=>"o71",()=>"montyMoles",()=>"lakituItems",()=>"e89",()=>"rollingItems",()=>"e166",()=>"rockyWrenchItems",()=>"bowserImposters",()=>"Delete item",()=>"Editor/CustomizationOpen",()=>"inSubMenu",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Qj(t.ExpObject()+"|",n.ExpObject())+"|"+s.ExpInstVar()},()=>"pos",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),2,"|"),"i","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),2,",")},()=>"Filling submenu w/ item presets",()=>"generalBlockItems",()=>"o1|o41|i1|i2|i3|i4|i5|i6|i7|i9|i10|i11|i12|i13|i15|it1|o3|e16",()=>"o1|o41|i1|i2|i3|i4|i5|i6|i7|i9|i10|i11|i12|i15|it1|o3|e16",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+"|il1"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"|","o41")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"|",0,"o73","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"|",0,"o74","")},()=>"i1|i2|i3|i4|i5|i6|i7|i9|i10|i11|i12|i13|i15",()=>"i1|i2|i3|i4|i5|i6|i7|i9|i10|i11|i12|i15",()=>"e1|e2|e3|e4|e18|e17",()=>"o1|i1|i15|il1|e2|e17",()=>"e158|e159|e160|e161|e162|e163|e164|e165",()=>"i1|o5|o6|o28|o2",()=>"e11|e62",()=>"e90|e62|o48",()=>"e1|e5|e12|e11|e60|e52|e19|e6|e42|e37,,270",()=>"e167|e17,3|e182",()=>"|o52",e=>{const t=e._GetNode(0).GetVar();return()=>8+20*t.GetValue()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-328},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()/2+s.ExpObject()/2-16},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-n.ExpObject()/2+s.GetValue()%16*20+14},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+16+20*Math.floor(n.GetValue()/16)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),r.GetValue(),"|"),0,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s(r.GetValue(),o.GetValue(),"|"),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s(r.GetValue(),o.GetValue(),"|"),2,","))},()=>"customizationSubMenu",()=>"Removing / Unattaching EditorObjects from containers",()=>"[h4]Events for special containers[/h4]",()=>"On-item-inserted special events (for containers)",e=>{const t=e._GetNode(0);return()=>""===t.ExpInstVar()?0:1},()=>"Dragging [b]invisible spawners[/b] or [b]current generators[/b] into pipes",()=>"hoveredOver",()=>"Attaching [b]any container item[/b] onto [b]fishing rods[/b]",()=>"[h2]Open sprite customization menus[/h2]",()=>"Editing EditorObject values (by function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpInstVar(),",",s.GetValue(),r.GetValue(),"")},()=>"[h4]Editing EditorObject extra values[/h4] using HTML elements",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject()).toString()},()=>"editorObjExtraValue_minusOne",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>(t(n.ExpObject())-1).toString()},()=>"bossBattleAttackRandomProjectileCount",()=>"editorObjectAngle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject()))},()=>"o67",()=>"e27",()=>"e28",()=>"e34",()=>"e95",()=>"rotatorSpeedOrPeriod",()=>"pendulumAmplitude",()=>"circlingPlatformSize",()=>"o38",()=>"o70",()=>"cannon_ammoPerShot",()=>"cannonOrArrowCloud_rotationsInCycle",()=>"arrowCloud_rotationDelay",()=>"resizablePlatformLength",()=>"firstPopupMessage",()=>"secondPopupMessage",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7);return()=>t.ExpObject()?n(s.ExpInstVar(),r.ExpInstVar_Family().toString(),o.ExpObject()):a(i.ExpInstVar(),l.ExpInstVar_Family().toString())},()=>"objectSignCharacter",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ!?",n.GetValue(),1)},()=>"booAmountInCircle",()=>"booCircleAngleInterval",e=>{const t=e._GetNode(0);return()=>t.ExpObject()?"F":""},()=>"e44",()=>"fishAmountInCircle",()=>"fishCircleAngleInterval",()=>"fishingRodHeight",()=>"editorObjVisualAppearance",()=>"editorObjExtraValue_regenerateParts",()=>"targetLayerIncludingAboveAllLayerOption",()=>"flameBallSize",e=>{const t=e._GetNode(0);return()=>8*(t.ExpInstVar()+1)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpInstVar()*n(s(r.ExpInstVar(),0,","))},()=>"setBarsInCircleCount",()=>"rotatorMovementSetting",()=>"45",()=>"e30",()=>"linearMovementMode",()=>"boomBoomWingedOption",()=>"512",()=>"bowserIntroAnimation",()=>"kingBooIntroAnimation",()=>"expandableObjectResizingMode",()=>"editorObjActivationRange",()=>"o17",()=>"frontPoleLayer",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpInstVar(),r.ExpInstVar(),","))},()=>"o34",()=>"o35",()=>"o36",()=>"o37",()=>"billBlasterBulletType",()=>"o39",()=>"torpedoTedType",()=>"npcBehaviorID",()=>"npcPopupAction",()=>"e120",()=>"bubbleMovementMode",()=>"o58",()=>"billBlasterFireRate",()=>"objectBase",()=>"cannon_ammoType",()=>"cannonOrArrowCloud_Mode",()=>"cannonOrArrowCloud_rotationDegrees",()=>"o42",()=>"signPostSkinType",()=>"signPostIncludedBase",()=>"casterOpacity",e=>{const t=e._GetNode(0);return()=>(25*t.ExpObject()+25).toString()},()=>"t11",()=>"tagChangerTileTagChangingOption",()=>"musicChangerTransitionMode",()=>"In-cursor object editing (CTRL)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.GetValue()<n()-1?s.GetValue()+1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar(),",",0,s.GetValue().toString(),"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod();return()=>t(n.ExpInstVar(),",",1,(s.GetValue()>=r()?o.GetValue()-1:a()-1).toString(),"")},()=>"In-cursor object editing (SHIFT)",()=>"Quick double-click customizations",()=>"preventDoubleClickEdits",()=>"to9",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),1,","))?"0":"1"},()=>"Editor Object mirroring & frame cycling",()=>"Mirroring functions",()=>"e113",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("i1,i7,i12,it1,il1,o52,o69,e1,e2,e3,e4,e5,e6,e7,e8,e9,e11,e12,e16,e17,e18,e46,e50,e55,e62,e63,e64,e65,e66,e67,e74,e75,e76,e77,e80,e81,e82,e83,e84,e85,e87,e88,e89,e90,e91,e92,e93,e96,e99,e107,e111,e112,e115,e116,e117,e119,e121,e123,e127,e138,e141,e142,e143,e144,e145,e146,e148,e149,e150,e151,e152,e153,e157,e159,e161,e163,e165,e166,e171,e172,e173,e174,e178,e179,e183,e184,e185,e186",n.GetValue(),",")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Arrow")},()=>"o69",()=>"e62",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("goomba",n.ExpInstVar())},()=>"e115",()=>"e87",()=>"objDirection",()=>"e50",()=>"Pressing mirror button",()=>"Frame cycling",e=>{const t=e._GetNode(0).GetVar();return()=>8*(2===t.GetValue()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(Qj(s.GetValue(),"_ArrowCloud"))," -- ")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9);return()=>ek(ek(ek(ek(ek(ek(ek("b2"===t.ExpInstVar()?1:0,"b4"===n.ExpInstVar()?1:0),"b23"===s.ExpInstVar()?1:0),"o16"===r.ExpInstVar()?1:0),"e114"===o.ExpInstVar()?1:0),"bs1"===a.ExpInstVar()?1:0),i("goomba",l.ExpInstVar())),d("montyMole",c.ExpInstVar()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("goombaWithoutPalettes",n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("constants.1_map-palettes"),"|")},()=>"e112",()=>"b29",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("constants.1_map-palettes"),"|")+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n(),s(r(o.ExpInstVar(),0,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("oneWayWall",n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(Qj(s.GetValue(),"_TapePoles"))," -- ")},()=>"e29",()=>"e132",()=>"e133",e=>{const t=e._GetNode(0).GetVar();return()=>7*(2===t.GetValue()?1:0)},()=>"e134",()=>"e135",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("chuck",n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(Qj(s.GetValue(),"_Chucks"))," -- ")},()=>"e180",()=>"e181",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n()," -- ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject())-1},()=>"Changing object palettes / frames",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>ek(ek(t("goomba",n.ExpInstVar()),s("montyMole",r.ExpInstVar())),"bs1"===o.ExpInstVar()?1:0)},()=>"b2",()=>"b4",()=>"b23",()=>"b3",()=>"o4",()=>"o24",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),1,","))-1},()=>"editPalette",()=>"paletteSelector",()=>"Setting EditorObject text content",()=>"editorObjectTextContentCharacterLimit",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>Qj(Qj(t("customizers.text.text-content")+"[scale=0.75]\n",n(s.ExpObject()))+"/",r.ExpInstVar_Family())+" "+o("common.words.characters")+"[/scale]"},()=>"editorObjectTextContent",()=>"Setting EditorObject tags",()=>"editorObjectTags",()=>"Customizing layered water",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()-16},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>8*Math.round(t()/8-.5)+8},()=>"Music settings editing",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+n.GetValue()+14},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+n.GetValue()+30},()=>"Don't change music|Use map default|Change music to:",()=>"setMusicOnEditorObject",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>"."===t(n(s.ExpInstVar(),r.GetValue(),","),1)?1:0},()=>"Customizating sprites with IconSelecterButtons",()=>"growToHoverSize",()=>"growToHoverSize size",()=>"shrinkToHoverSize",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_ObjSign_question")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>2*t.ExpInstVar()+n.ExpInstVar()%2},()=>"Setting paths / directions with PathArrows",()=>"PathArrow creation & updating functions",()=>"SinePathArrow",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpInstVar(),r.GetValue(),","))-90},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+"Shadow"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>16*t(n(s.ExpInstVar(),r.GetValue(),","))*(1+o.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()/(1+n.ExpInstVar_Family())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>tk.distanceTo(t(),n(),s.ExpObject("right"),r.ExpObject("right"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>ek(1===t(n(s.ExpInstVar(),0,","))?1:0,2===r(o(a.ExpInstVar(),0,","))?1:0)},()=>"e5",()=>"e6",()=>"e9",e=>{const t=e._GetNode(0);return()=>180*Math.round(t.ExpObject()/180)+180},e=>{const t=e._GetNode(0);return()=>90*Math.round(t.ExpObject()/90)+180},()=>"Interacting with PathArrows",e=>{const t=e._GetNode(0);return()=>(Math.round(t.ExpObject())+90).toString()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(Math.round(t.ExpObject()/16*10)/10/(1+n.ExpInstVar_Family())).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod();return()=>t(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r(),o())))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s(),r()))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9);return()=>tk.distanceTo(t.ExpObject(),n.ExpObject(),s(),r())*(1+o.ExpInstVar_Family())-tk.distanceTo(a.ExpObject(),i.ExpObject(),l(),d())*(1+c.ExpInstVar_Family())%8},()=>95,()=>130,()=>175,()=>185,()=>265,()=>275,()=>"Editing chained & rotating objects",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6);return()=>t(n(s.ExpInstVar(),r(o.ExpInstVar()),","))/a(i.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>-t()},()=>"textForRotationSpeedOrPeriod",()=>"Rotation\nspeed",()=>"Rotation speed in\n[color=#C0C0C0]angles / sec[/color]\nNegative values will rotate counter-clockwise.",()=>"Pendulum\nperiod",()=>"The time in seconds of one full swing. Lower numbers mean faster swings.",()=>"Editing expanding / shrinking objects resizing animation",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),s.ExpInstVar_Family(),",")},()=>"Special visual appearance updates for EditorObjects",()=>"Making sure rotatable objects aren't upside-down ",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("o42,e24,e25,e26,e35,e37,e38,e39,e40,e56,e57,e58,e98",n.ExpInstVar(),",")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(0===t.ExpObject()?1:0,90===n.ExpObject()?1:0)},()=>"Boo Buddy Circle in-editor visuals",e=>{const t=e._GetNode(0).GetVar();return()=>.15/t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()-8*n(s(r.ExpInstVar(),4,","))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Qj(Qj(t.GetValue(),"Buddy"),Math.round(n(5)))+s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(),-1*s.ExpObject())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()-n(s(r.ExpInstVar(),5,","))},()=>"Cheep Cheep Circle in-editor visuals",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()-8*n(s(r.ExpInstVar(),1,","))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Cheep",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()-n(s(r.ExpInstVar(),2,","))},()=>"Adjusting separate sprites to correct position",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("sp_headwear",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-16*n.GetValue()-7},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("sp_neckwear",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-16*(n.GetValue()-1)},()=>"Editing music data on EditorObjects",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>"MusicOverlay"===t(n.ExpObject(),12)?1:0},()=>"placeholderSpace",()=>"editorObjectCustomizationMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.menu-options.unapplicable")},()=>"Editing sine magnitudes & periods",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),0,"_")},()=>"sineMagnitudeValue",()=>"sinePeriodValue",()=>"sinePeriodOffsetValue",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),1,"_"))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("sineMagnitudeValue_",t.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/32},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("sinePeriodOffsetValue_",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Math.abs(t.GetValue())/2},()=>"e47",()=>"e48",e=>{const t=e._GetNode(0).GetVar();return()=>3*Math.abs(t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Math.round(100*t.GetValue())/100},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("sinePeriodValue_",t.GetValue())},()=>"EditorObject text / dialogue storage events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("b9,o46",n.GetValue(),",")},()=>"Customization text updates",()=>"tagChangerOptionDisplay",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.tags-to-insert")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.replacement-tags")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.tags-to-remove")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("common.menu-options.unapplicable")+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.unavailable"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.one-or-more-tags")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("cannonOrArrowCloud_rotationsInCycle"===t.ExpInstVar()?1:0,"arrowCloud_rotationDelay"===n.ExpInstVar()?1:0)},()=>"cannonRotationLimit",()=>"cannonRotationLimitInfo",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.rotations-in-cycle")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.rotation-count-1")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.max-rotations-from-init-pos")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.rotation-count-2")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"\n[scale=0.75][color=#CCCCCC]"+t("customizers.objects.cannon.rotation-count-disabled")+"[/color][/scale]"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(45*t.GetValue()," ")+n("common.words.degrees",2)},()=>"Customizable Platform customization (menu tabs, platform preview, platform edit screen menu)",()=>"Create platform preview inside customization menu",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),0,",")+",2"},()=>"Platform skin picker (screen menu)",()=>"editCustomizablePlatformCosmetic",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("HUDScreenMenu","advancedPlatformVisualPicker")},e=>{const t=e._GetNode(0).GetVar();return()=>16+t.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>208-32*(t.GetValue()-1)+64*n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),","),n.GetValue()-1)},e=>{const t=e._GetNode(0);return()=>8+t.ExpObject()},e=>{const t=e._GetNode(0);return()=>(t.ExpInstVar()-1).toString()},e=>{const t=e._GetNode(0);return()=>"o68"===t.ExpInstVar()?-54:-84},()=>"Platform palette picker",()=>"editCustomizablePlatformPalette",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.edit-platform-palette")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.no-palettes-available")},()=>"Setting platform sines w/ cursor target",()=>"setUpSinesByTarget",()=>"Target",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(t.ExpObject()-n.ExpObject())/16},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5),i=e._GetNode(6).GetVar();return()=>t(tk.distanceTo(n.ExpObject(),s.ExpObject(),r.ExpObject()+o.GetValue(),a.ExpObject()+i.GetValue())/2,1)},()=>"Platform customization menu tabs",()=>"advancedPlatformMenu",()=>-84,()=>"customizationMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.edit-platform-appearance")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.platform-length")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>(t(n(s.ExpInstVar(),1,","))+1).toString()},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+82},()=>"hoverTooltip",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.platform-width-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.linear-movement")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.active-on-start")},()=>"12,0,0.75,0,16",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),4,","))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.shared.text.quick-and-precise-angle")+"[/color]"},()=>"infoInsideCustomizationMenu",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-84},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s(r.ExpInstVar(),2,",")))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.angle-of-movement")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+33},()=>359,e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.angle-of-movement-info")+"[scale=0.75][color=#CCCCCC]0 =  | 90 =  | 180 =  | 270 = [/color][/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.platform-speed")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.platform-speed-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[scale=0.75]"+t("customizers.sines.select-target-position")+"[/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.menu-options.horizontal")},()=>"",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-104},()=>"12,0,0.75,0,12",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),11,","))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.sines.magnitude")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),8,",")},()=>"sineMagnitudeValue_0",()=>-1e3,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t("customizers.sines.magnitude-info",n("customizers.sines.the-platform"),s("common.words.right"),r("common.words.left"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.sines.period")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),9,",")},()=>"sinePeriodValue_0",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t("customizers.sines.cycle-duration-info",n(s("common.menu-options.horizontal")))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.sines.period-offset")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),10,",")},()=>"sinePeriodOffsetValue_0",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.sines.period-offset-example",n("customizers.sines.the-platform"))},()=>"seperator",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+74},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.menu-options.vertical")},()=>"\n",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),15,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),12,",")},()=>"sineMagnitudeValue_1",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+106},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t("customizers.sines.magnitude-info",n("customizers.sines.the-platform"),s("common.words.down"),r("common.words.up"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),13,",")},()=>"sinePeriodValue_1",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t("customizers.sines.cycle-duration-info",n(s("common.menu-options.vertical")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),14,",")},()=>"sinePeriodOffsetValue_1",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-39},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.player-activation")},()=>"42,0,0.75,60,18",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.objects.advanced-platform.player-activation-info")+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.action-setup")},()=>"PlayerJump",()=>"",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>"[scale=2][/scale]\n\n"+t(n("common.words.wait"))+"\n\n\n\n[scale=0.75]"+s("common.time.seconds",2)+"[/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),6,",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.action-then")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.action-options")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),7,","))},()=>"Tag",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.words.tags",2)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.tagging-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.objects.advanced-platform.optional-movement-notice")+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.acceleration-length")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),16,",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.acceleration-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.deceleration-length")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),17,",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.deceleration-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.angle-change")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),18,",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.angle-change-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.only-move-with-player")},()=>"44,0,0,64,12",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),19,","))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.dont-unload")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),20,","))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.screenwrap-h")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),21,","))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.screenwrap-v")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),22,","))},()=>"NPC customization",()=>"NPC customization menu tabs",()=>"npcMenu",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.pop-up-msg")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),"1")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.keep-this-short")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.speech-bubble-info")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/4+2},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.after-dialogue")},()=>"inObjCustomizationMenu",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2-24},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.pop-up-options")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),8,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),"2")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.pop-up-update-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.npc-attributes")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+67},()=>"Item",()=>"Either give an item just once, or give the NPC infinite stock to respawn an item when it gets used up or destroyed.",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-33},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.give-item")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+51},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.item-options")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.item-stock-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.behavior")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+69},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.stay-idle")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.behavior-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.hop-repeatedly")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.peace-after-dialogue")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.wander-around")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.sit-face-left")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.sit-face-right")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.float-in-place")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.glad")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.wander-walk-swim")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("lastNPCSkinPage",0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-77},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.text.text-content")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.text.text-formatting")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-37},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.text.previewing-text")},()=>"textPreviewNotice",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-78},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>"[scale=0.75]\\[color=#CC0000][color=#CC0000]\n"+t("customizers.text.red-text")+"\n[/color]\\[/color]\n[color=#58A8F0]-----[/color]\n\\[background=#00008b][background=#00008b]\n"+n("customizers.text.blue-background")+"\n[/background]\\[/background]\n[color=#58A8F0]-----[/color]\n\\[scale=0.5][scale=0.5]\n"+s("customizers.text.small-text")+"\n[/scale]\\[/scale]\n[/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.dialogue-placeholder")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.text.appearance-separator")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/4+4},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+59},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.text.text-orientation")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2-8},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod();return()=>t(n("common.words.left"))+"|"+s(r("common.words.middle"))+"|"+o(a("common.words.right"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+77},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.text.display-text-at")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.text.text-area-options")},()=>"NPC skin picker: laying out NPC's",()=>"lastNPCSkinPage",()=>"npcSkinPickerPaging",()=>"First NPC skin page: Toad, Princess/Pauline, Snowpeep & Talking Flower",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-69},()=>"Toad colors",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-72+18*n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("Red|Orange|Yellow|Green|Blue|Purple|Pink|Gray|Black",n.GetValue(),"|")+" Toad"},()=>"npcSkinOption",()=>"Other Toads",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-48-13+26*n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("Toadette|Toadsworth",n.GetValue(),"|")},()=>"Princesses",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+48-22+22*n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("Peach|Daisy|Rosalina",n.GetValue(),"|")},()=>"Other NPCs",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.ExpObject()-14*(n("6_Pauline|7_Snowpeep|8_Talking Flower|9_Red Talking Flower|10_Penguin|11_Baby Penguin","|")-1)+28*s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n(s("6_Pauline|7_Snowpeep|8_Talking Flower|9_Red Talking Flower|10_Penguin|11_Baby Penguin",r.GetValue(),"|"),0,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("6_Pauline|7_Snowpeep|8_Talking Flower|9_Red Talking Flower|10_Penguin|11_Baby Penguin",s.GetValue(),"|"),1,"_")},()=>"Second NPC skin page",()=>"Empty menu here! I'm just a text to test if paging is working, so I can be removed.",()=>"NPC skin picker: picking/hovering skins & paging",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj(t.ExpObject()===n.GetValue()?1:0,s.ExpInstVar()===r.GetValue()?1:0)},()=>"NPC skin & behavior preview",()=>"npcBehaviorPreview",()=>"NPC second pop-up message menu update",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.keep-this-short-too")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7);return()=>t.ExpObject()?n(s.ExpInstVar(),r.ExpInstVar().toString(),o.ExpObject()):a(i.ExpInstVar(),l.ExpInstVar().toString())},()=>"Boom Boom customization",()=>"boomBoomCustomization",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+48},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-66},()=>"HP",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-73},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t("customizers.bosses.tooltips.hp-info",n("toolbar.sprite-tooltips.boom-boom"))+"\n[sub]"+s("customizers.bosses.tooltips.hp-info-fireball")+"[/sub]"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-34},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.attack-phase")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-55},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.html.bb-attack-phases")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bb-attack-phase")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-43},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.attack-frequency")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.html.bb-attack-frequencies")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bb-attack-frequency")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.separators.chase-stats")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+10},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),5,",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bb-movement-speed")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+102},()=>"Traction",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.traction")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bb-traction")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.separators.jumping-stats")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+47},()=>"Jump",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-46},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.jump-strength")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),7,",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.jump-strength")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.takeoff-strength")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bb-takeoff-strength")},()=>"Wing",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.wings")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t("common.menu-options.disabled")+"|"+n("common.menu-options.enabled")+"|"+s("customizers.bosses.html.switch-when-hit")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bb-wings")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.music.headers.boss-start-common",n("toolbar.sprite-tooltips.boom-boom"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.music.headers.boss-defeat-common",n("toolbar.sprite-tooltips.boom-boom"))},()=>"Bowser customization",()=>"Bowser customization tabs",()=>"bowserCustomization",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-65},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-85},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.bosses.tooltips.hp-info",n("toolbar.sprite-tooltips.bowser"))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-59},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.mode")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.html.bw-modes")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-51},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-41},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.on-defeated")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.html.bw-defeat-events")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bw-defeat-events")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.movement"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bw-movement-speed")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.walking-mode")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.html.bw-walk-modes")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bw-walking-mode")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.attacking")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.min-attacks-for-jump")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bw-minimum-jumps")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.chance-of-jumping-minimum")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+55},()=>"%",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bw-jumping-chance")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.attack-speed")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+73},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.html.bw-attack-speeds")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.bw-attack-speed")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.viewing-attack")},()=>"bowserAttackBrowser",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.separators.attack-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.separators.browse-attacks")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.bosses.labels.attack-frequency-info")+"[/color]"},()=>"bowserAttackCycleInfo",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.bosses.tooltips.attack-cycle-info",n("toolbar.sprite-tooltips.bowser"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.bosses.text.boss-intro-anim-info",n("toolbar.sprite-tooltips.bowser"))+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.separators.set-animation")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.html.bw-intro-animations")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.bosses.text.intro-anim-unavailable")+"[/color]"},()=>"bowserIntroPreview",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.separators.disguised-enemy")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.text.disguised-enemy")},()=>"customizationOptionInfo",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.music.headers.boss-start-common",n("toolbar.sprite-tooltips.bowser"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.music.headers.boss-defeat-common",n("toolbar.sprite-tooltips.bowser"))},()=>"Bowser menu browsing through attacks",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14),m=e._GetNode(15).GetBoundMethod();return()=>(Math.sign(t(n(s.ExpInstVar(),12,",")))?"":"")+" "+r("customizers.bosses.labels.spew-flame")+"|"+(Math.sign(o(a(i.ExpInstVar(),15,",")))?"":"")+" "+l("customizers.bosses.labels.rocking-hammer")+"|"+(Math.sign(d(c(u.ExpInstVar(),18,",")))?"":"")+" "+h("customizers.bosses.labels.mecha-wand")+"|"+(Math.sign(_(G(p.ExpInstVar(),21,",")))?"":"")+" "+m("customizers.bosses.labels.shell-dash")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10),h=e._GetNode(11).GetBoundMethod();return()=>(Math.sign(t(n(s.ExpInstVar(),12,",")))?"":"")+" "+r("customizers.bosses.labels.spew-flame")+"|"+(Math.sign(o(a(i.ExpInstVar(),15,",")))?"":"")+" "+l("customizers.bosses.labels.blazing-hammer")+"|"+(Math.sign(d(c(u.ExpInstVar(),18,",")))?"":"")+" "+h("customizers.bosses.labels.mecha-wand")},()=>"bowserAttackInfo",()=>"BWAttack",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.text.bw-attack-desc-flame")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("customizers.bosses.text.bw-attack-desc-"+(1===n.GetValue()?"rocking-hammers":"blazing-hammers"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.text.bw-attack-desc-mecha-wand")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.text.bw-attack-desc-shell-dash")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("BWAttack",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/4+8},e=>{const t=e._GetNode(0).GetVar();return()=>"[color=#CCCCCC]"+t.GetValue()+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.menu-options.enabled")},()=>"30,0,0,42,12",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Math.sign(t(n(s.ExpInstVar(),12+3*r.GetValue(),",")))},e=>{const t=e._GetNode(0).GetVar();return()=>12+3*t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"| "+t(n("common.words.frequency"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar(),12+3*s.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("customizers.bosses.labels."+(3===n.GetValue()?"dash-duration":"projectile-count"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>(t(n(s.ExpInstVar(),13+3*r.GetValue(),","))+1).toString()},e=>{const t=e._GetNode(0).GetVar();return()=>13+3*t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>0===t(n(s.ExpInstVar(),12+3*r.GetValue(),","))?1:0},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-42},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("customizers.bosses.labels."+(3===n.GetValue()?"random-dash-duration":"extra-random-projectiles"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar(),14+3*s.GetValue(),",")},e=>{const t=e._GetNode(0).GetVar();return()=>14+3*t.GetValue()},()=>"Bowser intro animation preview",()=>"King Boo customization",()=>"King Boo customization tabs",()=>"kingBooCustomization",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.bosses.tooltips.hp-info",n("toolbar.sprite-tooltips.king-boo"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.invincibility-period")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.kb-invincibility-period")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.attack-delay")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.attack-delay-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.base-speed")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),4,",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.kb-base-speed")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.darkness-boost")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.tooltips.kb-darkness-boost")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.separators.environmental-blending")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+39},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.bosses.labels.king-boo-blend-info")+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.menu-options.standard")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t("common.menu-options.none")+"|"+n("customizers.shared.html.additive")+"|"+s("customizers.shared.html.appear-above-objects")+"|"+r("customizers.shared.html.camouflage")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.labels.when-hurt")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+65},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+63},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.shared.tooltips.blend-modes",n("toolbar.sprite-tooltips.king-boo"))},()=>"kingBooAttackBrowser",()=>"kingBooAttackCycleInfo",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.bosses.tooltips.attack-cycle-info",n("toolbar.sprite-tooltips.king-boo"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.bosses.text.boss-intro-anim-info",n("toolbar.sprite-tooltips.king-boo"))+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.html.kb-intro-animations")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.music.headers.boss-start-kb")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.music.headers.boss-defeat-common",n("toolbar.sprite-tooltips.king-boo"))},()=>"King Boo menu browsing through attacks",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetVar(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15),g=e._GetNode(16).GetBoundMethod();return()=>(Math.sign(t(n(s.ExpInstVar(),10,",")))?"":"")+" "+r("customizers.bosses.labels.spew-flame")+"|"+(Math.sign(o(a(i.ExpInstVar(),11,",")))?"":"")+" "+l("customizers.bosses.labels.homing-dash")+"|"+(Math.sign(d(c(u.ExpInstVar(),12,",")))?"":"")+" "+h("customizers.bosses.labels."+(1===_.GetValue()?"magic-bottles":"pumpkins-and-pepper"))+"|"+(Math.sign(G(p(m.ExpInstVar(),13,",")))?"":"")+" "+g("customizers.bosses.labels.protective-flames")},()=>"kingBooAttackInfo",()=>"KBAttack",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.text.kb-attack-desc-flame")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.text.kb-attack-desc-dash")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("customizers.bosses.text.kb-attack-desc-"+(1===n.GetValue()?"bottle":"pepper"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.bosses.text.kb-attack-desc-ring")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Math.sign(t(n(s.ExpInstVar(),10+r.GetValue(),",")))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>"| "+(t.GetValue()<=2?n(s("common.words.frequency")):r("customizers.bosses.labels.ring-count"))+":"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpInstVar(),10+s.GetValue(),",")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("KBAttack",t.GetValue())},()=>"King Boo intro animation preview",()=>"kingBooIntroPreview",()=>"Extra boss customization events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>(t(n.ExpObject())-(s.ExpInstVar()?0:1)).toString()},()=>"Arrow Signpost customizing events",()=>"editArrowSignpostPalette",()=>"Setting default values for specific EditorObjects",()=>"UI functions for specific EditorObjects",()=>"Music Changer: update fade fields",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject())<s.ExpInstVar()?1:0},()=>"Previewing objects",()=>"previewObject",()=>"unpreviewable",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?"resumePreviewWhenDropped":"previewDisabled"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()?"resumePreviewWhenDropped":"previewDisabled"},()=>"dialogueContainer",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n.GetValue(),s(r(o.ExpInstVar(),5,",")),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),1,","))},()=>"Create contained-item-preview on container",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"progressive")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"starChainer")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_o50")},()=>"center",()=>"betweenEditorObjAndExtraObj",()=>"pipe",()=>"fishingRod",e=>{const t=e._GetNode(0);return()=>t.ExpObject("ItemPreview")-4},e=>{const t=e._GetNode(0);return()=>t.ExpObject("ItemPreview")},e=>{const t=e._GetNode(0).GetVar();return()=>-6-9*t.GetValue()},e=>{const t=e._GetNode(0);return()=>t.ExpObject("ItemPreview")+4},e=>{const t=e._GetNode(0).GetVar();return()=>6+9*t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject("ItemPreview")+4*n.GetValue()-4*s.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+10*n.GetValue()-10*s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),4,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>t(n(s.GetValue(),3,","))*r(o(a.GetValue(),0,","))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()*(n.ExpObject()/s.ExpObject())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>10*t.GetValue()-10*n.GetValue()},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Parachute")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()+(n.ExpObject()-s.ExpObject("Parachute"))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()-2},()=>"containerSFX",()=>"Editor/ContainerFilled",()=>"appearAnimation toPos",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_o71")},()=>"b5",()=>"b20",()=>"b24",()=>"b25",()=>"progressive",()=>"starChainer",()=>"Dragging startpoint, destinations, entryways & targets",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>8*Math.round((t.ExpObject()-n())/8)},()=>"scaleGrow",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Walk"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>8*Math.round(t()/8)+n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>8*Math.round(t()/8)+n.GetValue()+1},()=>"scaleReset",e=>{const t=e._GetNode(0);return()=>8*Math.round(t.ExpObject()/8)+1},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())+"_",s.ExpObject(r.ExpInstVar(),0))},()=>"Editing a destination",()=>"Bringing up the Destination customization menu",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.name"))},()=>"changeDestinationLayerName",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.labels.destination-own-layer")},()=>"changeDestinationLayer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.tooltips.destination-own-layer")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.labels.destination-output-layer")},()=>"On top of all",()=>"changeDestinationOutputLayer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.tooltips.destination-output-layer")},()=>"pickNewDestinationType",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.buttons.warp-type")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CMDelete",t.GetValue())},()=>"deleteDestinationFromMenu",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("common.buttons.delete")+" "+n("common.words.destination",1)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-52},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CMPlay",t.GetValue())},()=>"playtestFromDestination",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.playtest-from-here")},()=>"Destination customization menu events",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>"maps."+t.GetValue()+".destinations."+n.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"mode")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.labels.choose-new-destination-type")},()=>"destinationContainer",()=>"growToSizeWithCloseButton",()=>"deleteDestinationFromMenuConfirmed",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.press-again-to-confirm")},()=>"colorFlash",()=>"Editing an entryway",()=>"Bringing up the Entryway customization menu",()=>"changeEntrywayLayerName",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"[scale=0.65]"+t(n("common.labels.on-layer"))+"[/scale]"},()=>"changeEntrywayLayer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.tooltips.entryway-layer")},()=>"pickNewEntrywayType",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-10},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.buttons.reset-warp-toggle")},()=>"68,0,0.75,112,0",()=>"deleteEntrywayFromMenu",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("common.buttons.delete")+" "+n("common.words.entryway",1)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CMGoToDestination",t.GetValue())},()=>"visitLinkedDestination",()=>"Entryway customization menu events",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>"maps."+t.GetValue()+".entryways."+n.ExpInstVar()},()=>"Customizer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.warps.labels.choose-new-entryway-type")},()=>"entrywayContainer",()=>"deleteEntrywayFromMenuConfirmed",()=>"Spawn Entryway range preview (custom action)",()=>"growToSize size",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>16+8*t(n.ExpObject(s.ExpObject(),8))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>16+8*t(n.ExpObject(s.ExpObject(),9))},()=>"Door palette functions",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(Qj(n.GetValue(),"_DoorsB"))},()=>"Startpoint resetting",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("start.p",t.GetValue()+1)+".X"},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("start.p",t.GetValue()+1)+".Y"},()=>"Dropping power-ups on top of the startpoint",()=>"il",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),"i",""))},()=>"e16",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod();return()=>Qj(Qj(t.GetValue(),"Idle"),n.ExpInstVar())+"_0"+s()},()=>"itemInserted size",e=>{const t=e._GetNode(0);return()=>1.25*t.ExpObject()},e=>{const t=e._GetNode(0);return()=>-1.25*t.ExpObject()},()=>"Startpoint customization menu",()=>"Bringing up the Startpoint customization menu",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()-24},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CMMirror",t.GetValue())},()=>"mirrorStartpoint",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.change-initial-direction")},()=>"playtestFromStartpoint",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.startpoint.labels.start-layer")},()=>"playerStartLayer",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.startpoint.tooltips.start-layer")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.startpoint.labels.start-powerup")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.startpoint.tooltips.start-powerup")},()=>"Startpoint customization menu events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>Qj("LevelL",t(n.ExpObject()))},()=>"[h2]Customizing sprites: Menu Creation[/h2]",()=>"Customizer sprites w/ shared events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>ek(t("o51",n.ExpInstVar(),","),Qj(1===s.GetValue()?1:0,"e114"===r.ExpInstVar()?1:0))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("e141",n.ExpInstVar(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("o51,e114,e141",n.ExpInstVar(),",")},()=>"Podoboo",()=>" Main properties",()=>"Jump\n[scale=0.5]In blocks[/scale]",e=>{const t=e._GetNode(0).GetVar();return()=>"The amount of blocks/tiles the "+t.GetValue()+" will jump, from lava to the highest point in its jump."},()=>"[scale=0.7]Jump\nduration[/scale]",()=>"The duration of the jump (including both rising & falling)",()=>"[scale=0.8]Random extra\njump height[/scale]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar(),1,",")},()=>"Every jump, a random amount of jump strength from 0 to this number, is added on top of the standard jump strength. This makes the jump height unpredictable.\n[color=#808080](NOTE: jumps always cap at 20 blocks)[/color]",()=>"  Delays ",()=>"Jump\ndelay",e=>{const t=e._GetNode(0).GetVar();return()=>"The delay inbetween jumps (this starts counting once the "+t.GetValue()+" has landed)"},()=>"Start\ndelay",e=>{const t=e._GetNode(0).GetVar();return()=>"Once the "+t.GetValue()+" activates, it will wait out this delay before jumping."},()=>"[scale=0.8]Random extra\njump delay[/scale]",e=>{const t=e._GetNode(0).GetVar();return()=>"Extra randomised delay (from 0 to this value) to wait on top of the standard delay. This makes the jump pattern of the "+t.GetValue()+" less predictable."},()=>"  movement ",()=>"[scale=0.5]Sideways\nmove speed[/scale]",()=>"Additional movement, besides jumping. Preferably, this is used in areas where the lava is flat.",()=>"[scale=0.5]Random extra\nspeed[/scale]",e=>{const t=e._GetNode(0).GetVar();return()=>"When the "+t.GetValue()+" jumps, a random value from 0 to this number will be chosen to add onto the Podoboo's sideways movement speed."},()=>"[scale=0.7]Sideways movement[/scale]",()=>"Disabled|Go left|Go right|Go left & reverse|Go right & reverse|Randomise each jump|Jump towards player",e=>{const t=e._GetNode(0);return()=>"o67"===t.ExpInstVar()?114:90},e=>{const t=e._GetNode(0).GetVar();return()=>2===t.GetValue()?1:0},()=>"Circling Platform|platforms",()=>"Ball 'N' Chain|chainballs",()=>"Movement mode",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2-20},()=>"Rotate|Pendulum",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>"The way the "+t(n.GetValue(),0,"|")+" will move. Pendulum mode makes it swing back and forth."},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+34},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2-34},()=>"warningTooltip",()=>"Be careful with immense high speeds, they can lead to collision issues. \n[sub]Please note collision issues as a result of high speeds are not suitable for bug reports.[/sub]",()=>"Bars in circle",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+45},()=>"1|2|3|4|5|6|7|8",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>"The amount of "+t(n.GetValue(),1,"|")+" that will spin around the center point, and act as clones of eachother at fixed intervals."},()=>"Pendulum only",()=>"Amplitude",()=>"The movement in angles of the pendulum swing. Values above 360 will swing larger than a whole circle.",()=>"Platform",()=>"Size\n[scale=0.5][color=#CCCCCC](In tiles)[color][/scale]",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+94},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>(t(n(s.ExpInstVar(),5,","))+1).toString()},()=>"Customizing blocks",()=>"b26",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject())>1?1:0},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.labels.object-count")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>(t(n(s.ExpInstVar(),0,","))+1).toString()},()=>999,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("customizers.blocks.tooltips.amount-in-block"+("b5"===n.ExpInstVar()?"-optional":""))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.labels.timer-optional")},()=>"-",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.tooltips.timer-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.buttons.progressive")},()=>"8,0,0.8,0,0",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.tooltips.progressive-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.buttons.star-chainer")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.tooltips.star-chainer-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.buttons.invisible")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.tooltips.invisible-info")},e=>{const t=e._GetNode(0);return()=>"b5"===t.ExpInstVar()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.tooltips.amount-in-block-optional")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.labels.coins-before-item")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.tooltips.coins-before-item-info")},e=>{const t=e._GetNode(0).GetVar();return()=>1===t.GetValue()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.tooltips.amount-in-block")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.buttons.object-breaks-nearby-player")},()=>"42,0,0.5,68,0",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.tooltips.object-breaks-nearby-player-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.buttons.is-on-default")},()=>"84,0,0,144,12",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.separators.tag-toggling")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.blocks.labels.tags-entered-below")+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.tags",2))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-21},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.blocks.tooltips.tag-block-toggle")},()=>"Object count",()=>"Customizing objects",()=>212,e=>{const t=e._GetNode(0);return()=>t.ExpObject()-53},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-29},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-47},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box.appearances")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+92},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box.cosmetic-notice")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.object-cap")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box.object-cap")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2-14},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.separators.spawn-intervals")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.spawn-delay")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.start-delay")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box.delays")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2+16},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box.launch-vectors")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box..launch-vector","X")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+21},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box..launch-vector","Y")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+29},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box.launch-velocity")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box.random-vector","X")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.baddie-box.random-vector","Y")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.remove-default-base-tile")},()=>"64,2,0,108,16,0",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.flagpole-hard-block")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.flagpole-skip-prevention")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.flagpole-skip-notice")},e=>{const t=e._GetNode(0);return()=>96+32*("o31"===t.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("o31"===t.ExpInstVar()?1:0,2===n.GetValue()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-21-n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-39-n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-28-n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.respawn-point-determination")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-18-n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.player-respawn-points")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-12-n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.player-respawn-points-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.advanced")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+15-n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.target-map")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+8-n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+14-n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.respawning-map")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+33-n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.words.destination",1)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+26-n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+32-n.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.respawning-destination")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.pole-layering")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.rightwards-pole-layer")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("common.labels.above-all-layers")+"|"+n("|")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.rightwards-pole-layering")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.activation")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.extend-hitbox-upwards")},()=>"66,2,0,112,16",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.goal-and-checkpoints.extend-hitbox-upwards-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.bill-blasters.cannon-type")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.bill-blasters.aiming")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.bill-blasters.sniper-notice")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.firing-rate")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.bill-blasters.fire-rates")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.bill-blasters.fire-rate-notice")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.bullet-bill")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.bullet-bill")+"|"+n("toolbar.sprite-tooltips.bullet-bill-fast")+"|"+s("toolbar.sprite-tooltips.bullet-bill-slow")+"|"+r("toolbar.sprite-tooltips.missile-bill")+"|"+o("toolbar.sprite-tooltips.missile-bill-fast")+"|"+a("toolbar.sprite-tooltips.missile-bill-slow")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.bill-blasters.types-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.separators.grow-and-shrink")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.size-changing")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.html.size-change-modes")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.expanding-obj-cycle-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.size-change-tiles")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.expanding-obj-size-change-tiles")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.grow-shrink-duration")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.expanding-obj-size-change-duration")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.delay-in-sec")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.expanding-obj-size-change-delay")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/4-2},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.attached-to")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.html.attachment-options")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.base-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.artillery")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.ammo")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t("toolbar.sprite-tooltips.cannonball")+"|"+n("toolbar.sprite-tooltips.cannonball-fast")+"|"+s("toolbar.sprite-tooltips.cannonball-slow")+"|"+r("toolbar.sprite-tooltips.bob-omb")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.ammo-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.cannonballs-per-shot")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>(t(n(s.ExpInstVar(),2,","))+1).toString()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.cannonballs-per-shot-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.fire-rotation-delay")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.delay")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.rotation"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.modes")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.mode-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.rotation-intervals")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.cannon.degrees-travel-rotation")},()=>"Release\nmode",()=>"Default|Release left|Release right|Target player angle",()=>"This determines the initial direction of the Ted. The last option will face the released Teds directly towards the player.",()=>"Torpedo\ntype",()=>"Standard Ted|Fast Standard Ted|Slow Standard Ted|Targeting Ted|Fast Targeting Ted|Slow Targeting Ted|Exploding Ted|Fast Exploding Ted|Slow Exploding Ted",()=>"Standard Torpedo Teds will move in a straight line, unless they hit the surface of the water.\nTargeting Teds occasionally spin around to face the player, including Exploding Teds, which detonate after 12 seconds.",()=>"Release\ndelay",()=>"Time (in seconds) between the glove releasing a Torpedo Ted and grabbing a new one.",()=>"Drop Y",()=>"Additional distance (in pixels) that the Torpedo Ted will sink once released.",()=>"Don't include a\nTorpedo Base Box",e=>{const t=e._GetNode(0);return()=>Qj("64,0,0.75,",t.ExpObject()-16)+",16"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()-92},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.main"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.sines")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.advanced-platform.actions")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.labels.other"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod();return()=>t(n.GetValue(),"|",s(),r("customizers.objects.arrow-signpost."+o(a.GetValue(),i(),"|")))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.arrow-signpost.sign-type")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.arrow-signpost.post-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.npc.skins")},()=>"",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.movement-mode-sinewave-independent")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod();return()=>t(n("common.words.stationary"))+"|"+s("customizers.shared.html.linear")+"|"+r("customizers.shared.html.linear-dynamic")+"|"+o("customizers.shared.html.chase-player")+"|"+a("customizers.shared.html.evade-player")},e=>{const t=e._GetNode(0);return()=>"o50"===t.ExpInstVar()?54:46},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.separators.sinewave-movement")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.enable-sinewave-motion")},()=>"76,0,0,128,12",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Math.sign(Math.abs(t(n(s.ExpInstVar(),3,","))))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.period")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2-36},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.period")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.shared.text.sinewave-tool")+"[/color]"},()=>"Icon\n[scale=0.5][color=#CCCCCC](Character)[/color][/scale]",()=>"The icon/character that will be on display.\n\n[sub]Supported characters:[/sub]\nA-Z  0-9\n\n[sub]Arrows and misc. characters can be found below.[/sub]",()=>"Quick picker",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+20*(n.GetValue()%5-2)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()+10+20*n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),"_ObjSign_")+n("||||||0||!|question",s.GetValue(),"|")},()=>"objectSignIcon",()=>-54,()=>"Optional movement",()=>"Horizontal speed",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.movement-speed")},()=>"Disable movement until player steps on platform",()=>"Already moves when loaded",()=>"64,0,0,108,16,0",()=>"This activates surrounding rafts as well, including ones that don't have this setting enabled.\n[sub]Note: for a raft to active properly, put it in the range of a L-Tile.[/sub]",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.one-time-usage")},()=>"62,0,0,104,8,0",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.arrow-cloud.one-time-usage-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.arrow-cloud.can-toss-player")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.arrow-cloud.can-toss-player-info")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("customizers.objects.cannon.modes"),"|",3)},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.arrow-cloud.mode-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.rotation-delay")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.rotation-delay")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.tagging")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+146},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+138},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.tagging-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.tag-is-active")},()=>"62,0,0,104,12,0",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.arrow-cloud.tagging-rotation-info")},()=>"Hole type",()=>"moleHoleTypes",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-50+24*n()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(Qj(t.GetValue(),"_MoleHole_"),n())},()=>"editorObjectCustomizer",()=>"Customizing enemies",()=>"e19",()=>"e20",()=>"Bros.\nProjectile",()=>"Hammers|Boomerangs|Fire|Ice",()=>"Chase mode",()=>"Don't chase|Chase (to the left)|Chase (to the right)|Chase (both directions)",e=>{const t=e._GetNode(0).GetVar();return()=>"The way the "+t.GetValue()+"bar will move. Pendulum mode makes it swing back and forth."},()=>"Flame size",()=>"Small|Medium|Large",e=>{const t=e._GetNode(0).GetVar();return()=>"The size of the "+t.GetValue()+"balls in the chain. Aside from different hitbox sizes, they all behave the same."},e=>{const t=e._GetNode(0).GetVar();return()=>"The amount of "+t.GetValue()+"bars that will spin around the center point, and act as clones of eachother at fixed intervals."},()=>"Linear movement",()=>"Disabled|Follow arrow|Follow arrow (dynamic)|Target player on load",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-25},()=>"Linear movement (independent from sinewave), its angle can be set by the arrow.\n[scale=0.75][color=#CCCCCC]The dynamic option will mirror the Eerie's movement if the player approaches them from the back.[/color][/scale]",()=>"Linear\nSpeed",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2+8},()=>"Movement in pixels / sec.\n[scale=0.75][color=#CCCCCC](1 tile = 16 pixels)[/color][/scale]",()=>"Sinewave movement",()=>"Magnitude",()=>"Amount of tiles it swerves up, then down to original position, and then it repeats in the opposite direction.",()=>"Period",()=>"Time (in seconds) for a complete sine-wave cycle.",()=>"[scale=0.65][color=#CCCCCC]Rotate/resize the circle by dragging the Boos[/color][/scale]",()=>"The way the Boo circle will move. Pendulum mode makes it swing back and forth.",()=>"Boo count",()=>"The amount of Boos that will be in the circle.",()=>"Angle intervals",()=>"The interval of angles between each Boo (from the first one in the circle).",()=>"Circle growth",()=>"[scale=0.65][color=#CCCCCC]Optional: grow & shrink circle over time[/color][/scale]",()=>"Diameter increase",()=>"The amount (in tiles) that will be added to the current diameter of the circle.",()=>"Delay between resizing",()=>"The delay (in seconds) between it growing or shrinking. This can also be ignored to have no delay.",()=>"e35",()=>"[scale=0.8]Movement speed[/scale]",()=>"Movement speed of the snake (pixels / sec).",()=>"[scale=0.85]Max Boos[/scale]\n[scale=0.65][color=#CCCCCC]at once[/color][/scale]",()=>"The maximum amount of Boos that can be part of the snake at once.",()=>"[scale=0.85]Gravity[/scale]\n[scale=0.65][color=#CCCCCC]optional[/color][/scale]",()=>-1024,()=>"[color=#C0C0C0]- Optional -[/color]\nForce of gravity, always bringing the snake to the floor, and then bouncing back up.",()=>"e42",()=>"Period\n[scale=0.5][color=#CCCCCC]Cannot be less than magnitude[/color][/scale]",()=>"[scale=0.5][color=#CCCCCC]Rotate/resize the circle by dragging the Cheep Cheeps[/color][/scale]",()=>"Cheep Cheep count",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2+4},()=>"The amount of Cheep Cheeps that will be in the circle.",()=>"Cheep Cheep intervals",()=>"The interval of angles between each Cheep Cheep (from the first one in the circle).",()=>"e45",()=>"[scale=0.5][color=#CCCCCC]This Cheep Cheep will rapidly swim back-and-forth, then jump in the middle of its home once it has turned 3 times.[/color][/scale]",()=>"Swimming\nmagnitude",()=>"The amount of tiles, from its home/spawnpoint, that the Cheep Cheeps will swim to before turning.",()=>"Leap height\n[scale=0.5][color=#CCCCCC](in tiles)[/color][/scale]",()=>"e46",()=>"[scale=0.5][color=#CCCCCC]This Cheep Cheep will hop a set number of times, and then perform a large leap.[/color][/scale]",()=>"Hops before jump",()=>"e52",()=>"Can float in mid-air",()=>"38,1,0.75,56,16",()=>"Becomes a Sky Blooper when checked. These Bloopers always act as if they're underwater, even when they're in the air.",()=>"Blooper Nanny",()=>"[color=#CCCCCC](Optional)[/color]",()=>"BlooperBaby",()=>"Blooper babies",()=>"The amount of Blooper Babies that will follow the Blooper Nanny.",()=>"Release babies\nwhen close",()=>"50,1,0.75,80,16",()=>"When the player gets close, the Blooper Nanny will unleash its babies in a circle-like motion. It will then restock its babies over time, and repeat the process.",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/2+54},()=>"Respawn on defeat",()=>"46,1,0.75,66,16",()=>"Respawns after 8 seconds on defeat.",()=>"Object cap",()=>"Max sprite count, thrown by this Lakitu, that can be active at a time.",()=>"Fishing rod",()=>"Has a\nfishing rod",()=>"FishingRod",()=>"Lakitus can carry a fishing rod with an item attached to it. The rod will disappear when the item is used/defeated.\n\nIf empty, the rod will pick up the first compatible item that it collides with.",()=>"Rod height",()=>"The height of the rod line, in tiles.",()=>"Tags",()=>"Tags\n[scale=0.5][color=#CCCCCC](optional)[/color][/scale]",()=>118,()=>"One or more tags (separated by spaces) to reference this Lakitu during gameplay.",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-19},()=>"Max sprite count, thrown by this Spike, that can be active at a time.",()=>"Stands still",()=>"e93",()=>"Chain count",()=>"Each chain provides approx. 10 pixels of extra bite range.",()=>"e97",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()-n.ExpObject()/4+5},()=>"Jump strength",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/2-32},()=>"The initial vertical speed (in pixels / sec) when performing a jump.\n[scale=0.75][color=#CCCCCC]Default gravity acceleration pulls down the Thwimp 16 pixels / sec.[/color][/scale]",()=>"Horizontal\njump speed",()=>"Horizontal (left-right) movement speed at the start of a jump.\n[scale=0.75][color=#CCCCCC]Negative values jump to the left, positive values to the right - and of course, enter 0 to not move horizontally at all![/color][/scale]",()=>"Extra jumps\n'till turning",()=>"Optional - additional jumps to perform before turning around.",()=>"Drop Super Leaf on defeat",e=>{const t=e._GetNode(0);return()=>t.ExpObject()-63},()=>"25% (Nearly invisible)|50%|75%|100% (Opaque)",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+53},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.opacity")},()=>"Blend",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+71},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.shared.tooltips.blend-modes",n("toolbar.sprite-tooltips.green-bubble"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t("customizers.sines.magnitude-info",n("customizers.sines.the-amp"),s("common.words.right"),r("common.words.left"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.sines.period-offset-example",n("customizers.sines.the-amp"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>t("customizers.sines.magnitude-info",n("customizers.sines.the-amp"),s("common.words.down"),r("common.words.up"))},()=>"e147",e=>{const t=e._GetNode(0);return()=>"e137"===t.ExpInstVar()?1:0},()=>"Tail flames",()=>"Amount of flames that make up the tail.\n[sub]These flames trail behind the head.[/sub]",()=>"Respawns after 16 seconds on defeat.",()=>"Tagging",()=>"One or more tags (separated by spaces) to reference the Angry Sun during gameplay.\n[sub]\nFor example, entering 'sun1' here, will activate this Angry Sun when the player goes through a Tag Tile range that also has 'sun1' as a tag.[/sub]",()=>"Tag is active\non start",()=>"[color=#CCCCCC]When ticked off, Angry Sun won't start swerving immediately. He can be activated with tagging.[/color]",()=>"Max sprite count, thrown by this Rocky Wrench, that can be active at a time.",()=>"Recover from basic stomps",()=>"60,0,0,96,12",()=>"Whether or not the Rocky Wrench can re-appear after regular stomps or spinjumps.\n[sub]Stronger stomps can always take out the enemy, for example statue landings.[/sub]",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+57},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.shared.text.lock-unlock-direction")+"[/color]"},()=>"Rocky Wrench headgear",()=>"headGearTypes",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()+14+20*n()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(Qj(t.GetValue(),"_RWHeadGear_"),n())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("Best camouflage, is semi-solid|Immune to small projectiles & explosions|No special protections, can't be stood on",n(),"|")+"[/color]"},()=>"e171",()=>"e172",()=>"e173",()=>"e174",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>80+18*ek("e172"===t.ExpInstVar()?1:0,"e173"===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.projectiles",2))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.nonstop-mode")},()=>"76,0,0,128,6",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.nonstop-projectiles")},()=>"ChuckProjectiles",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(t.ExpObject()+n.ExpObject())/2+18},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.projectiles-in-cycle")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>0===t(n(s.ExpInstVar(),0,","))?1:0},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.projectiles-before-pause")},()=>"Forbidden",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.projectile-limit")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.shared.tooltips.projectile-limit")+n("customizers.shared.tooltips.projectile-limit-ignore")},()=>"e176",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.enemies.chucks.idle-until-stomped")},()=>"66,0,0,108,12",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.enemies.chucks.idle-until-stomped-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.labels.tags-to-activate")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.enemies.chucks.whistling-chuck-info")+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.tags-to-activate")},()=>"Customizing bosses",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.music"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("customizers.bosses.buttons.attacks"))},()=>"[scale=0.75][offsety=-1][/offsety][/scale]",()=>"[scale=0.75][offsety=-1][/offset][/scale]",()=>"Customizing technical tiles",()=>"Events like generators, effects & platforms can be referenced by their tag. The Tag Tile will perform an action to these tags when the player gets in range.",()=>"[scale=0.6]Seperate multiple tags by spaces[/scale]",()=>"[scale=0.65]When the player's in range, perform an action on tags[/scale]",()=>"[scale=0.8]Action[/scale]",()=>"Stop tag|Permanently stop tag|Pause tag|Start/Resume tag",()=>"The action to perform on tags, when the player gets in range.",()=>"One-time usage",()=>"66,2,0.8,112,8,0",()=>"The Tag Tile will only function if the player gets in their range for the first time (during this map's lifespan)",()=>"[scale=0.65]Opacity[/scale]",()=>"25% (Ambience)|50%|75%|100% (Blindness)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>(t(n(s.ExpInstVar(),2,","))-25)/25},()=>"The intensity of the darkness. 25% is still easily see-through, 100% cannot be seen through without a light source.",()=>"[scale=0.65]Casting layer[/scale]",()=>"Above all layers",()=>"The layer that will cast the darkness: this means the darkness will go behind this layer.",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.invis-spawner.spawn-delay-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.invis-spawner.start-delay-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.invis-spawner.sprite-cap-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.invis-spawner.tagging-info")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+31},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.shared.text.tagging-notice")+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("common.labels.activity")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.invis-spawner.spawning-objects")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.invis-spawner.spawn-conditions")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-14},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.invis-spawner.spawn-conditions-info")},()=>"Current\ntype",()=>"Push sprites away|Pull sprites in",()=>"Whether to blow sprites away or suck them in.\nNote: most aquatic sprites are immune to currents whilst swimming.",()=>"Current\nintensity",()=>"Weak|Normal|Strong|Turbo",()=>"The strength of the current, stronger strenghts will make sprites get pushed or pulled in faster.",()=>"Activity",()=>"Current\nlength",()=>"The amount, in tiles, from the beginning of the current generator, to the point where the particles stop.",()=>"Generator\nlength",()=>"The length, in tiles, of the generator itself - the point of where the current begins. This makes the current wider.",()=>"One or more tags (separated by spaces) to reference this current generator during gameplay.",()=>"[color=#CCCCCC]When ticked off, the current generator can be made active by calling any of its tags (e.g. through a Tag Tile).[/color]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s(r.ExpInstVar(),0,",")))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.new-angle")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.tooltips.precise-angle-alternative")+"\n[scale=0.75][color=#CCCCCC]0 =  | 90 =  | 180 =  | 270 = [/color][/scale]"},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.transition-options")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.turn-type")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.turn-type-options")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.turn-type-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.turn-time")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.turn-time-info")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n("common.words.optional"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.tagging-info",n("toolbar.sprite-tooltips.direction-changer-tile"))},()=>"t9",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.new-movement-speed")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.new-movement-speed-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.speed-change-time")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.speed-change-time-info")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.tagging-info",n("toolbar.sprite-tooltips.speed-changer-tile"))},()=>"t10",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"[color=#CCCCCC]"+t("customizers.objects.platform-influencers.action-tile-header")+"[/color]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>" "+t(n("common.words.wait"))},()=>"sec",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.action-tile-delay")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.perform-action")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.action-tile-update")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.tagging-info",n("toolbar.sprite-tooltips.platform-action-tile"))},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.current-tags")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.current-tags-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.tag-updating-method")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.tag-updating-method-list")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.tag-updating-method-info")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.platform-influencers.tags-to-update-info")},()=>"Customizing miscellanous objects",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.obj-pipes.resize-when")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.obj-pipes.resize-when-options")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.objects.obj-pipes.resize-options-info")},()=>"Customizing environmental changers",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.music.headers.music-changer")},()=>"Transition method",()=>"Instant|Cross-fade|Queued fade",()=>"Fade time OUT / IN",()=>"/",()=>"Dynamic",()=>"35,0,0,48,16,0",()=>"If enabled, the new music will start at the same point in time as were the current song is.",()=>"The Music Changer will only function if the player gets in their range for the first time (during this map's lifespan)",()=>"Check if EditorObject has customization menu (return function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("b2,b3,b4,b5,b9,b10,b14,b15,b16,b17,b20,b21,b22,b23,b24,b25,b26,b27,b28,o14,o15,o16,o17,o31,o32,o33,o34,o35,o36,o37,o38,o39,o40,o42,o46,o49,o50,o51,o58,o65,o67,o68,o69,o70,o71,e19,e20,e21,e27,e28,e30,e34,e35,e42,e44,e45,e46,e47,e48,e52,e60,e61,e89,e93,e95,e97,e112,e114,e120,e122,e136,e137,e140,e141,e147,e166,e171,e172,e173,e174,e176,bs1,bs2,bs3,t3,t5,t6,t7,t8,t9,t10,t11,pi1,pi2,pi3,pi4,c1,c2,c3,c4",n.GetValue(),",")},()=>"Creating customization menu, buttons & shortcuts",()=>"onTopOfCustomizationMenu",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CMPreview",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.preview")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t.ExpObject()+n.ExpObject()/2-32-20*s.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CMRange",t.GetValue())},()=>"editRange",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("customizers.shared.buttons.edit-range")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CMPalette",t.GetValue())},()=>"Closing & Clearing customization menu",()=>"Can resize/rotate/edit check (including EditorObject checks)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("e13,e14,e15,e21,e24,e25,e26,e27,e28,e29,e34,e35,e37,e38,e39,e40,e41,e44,e56,e57,e58,e61,e79,e80,e81,e82,e83,e84,e95,e98,e107,e119,e129,e130,e131,e166,e167,e177,e182,o6,o8,o10,o12,o38,o42,o58,o60,o61,o62,o63,o65,o67,o70,t7",n.GetValue(),",")},()=>"Creating ResizerDots (custom action)",()=>"resizeLeft",()=>"resizeRight",e=>{const t=e._GetNode(0).GetVar();return()=>"resizeLeft"===t.GetValue()?-1:1},()=>"resizeUp",()=>"resizeDown",e=>{const t=e._GetNode(0).GetVar();return()=>"resizeUp"===t.GetValue()?-1:1},()=>"multiAxis",()=>"Resizing EditorObject parts: functions & custom actions",()=>"resizeUpLeft",()=>"resizeUpRight",()=>"resizeDownLeft",()=>"resizeDownRight",()=>"Resizing EditorObject parts: main events",()=>"growVerySlightly size",()=>"One-axis resizing",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t()+4-(n()+4)%s.ExpInstVar_Family()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>(t.ExpObject()-n.ExpObject()-s.ExpInstVar_Family())*r.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>((t.GetValue()-n.ExpInstVar_Family())/s.ExpInstVar_Family()).toString()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+n.GetValue()%16},()=>"Multi-axis resizing",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar(),a=e._GetNode(5);return()=>Math.round((t()+4-(n()+4)%s.ExpInstVar_Family()-r.ExpObject())*o.GetValue()+a.ExpInstVar_Family())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>(t.ExpObject()+n.GetValue())/2},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject()/16-.5,2)},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()/8-2},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2);return()=>Math.round((t.GetValue()-n.ExpInstVar_Family())/s.ExpInstVar_Family()).toString()},()=>"Special events for EditorObjects during resizing",()=>"o47",()=>"size opacity",()=>"ResizerDot & OriginPoint: toggling visibility",()=>"ResizerDot: offset-display events",e=>{const t=e._GetNode(0);return()=>"Offset_"+t.ExpInstVar()},()=>"Rotating EditorObjects: RotatorDot creation & after-rotation handling",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Rotator")},()=>"Rotator",e=>{const t=e._GetNode(0);return()=>Math.round(t.ExpObject()/45)},()=>"Rotating EditorObjects: main events",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()%(n.ExpObject()/4)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>Math.round(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s(),r()))/o.GetValue())*a.GetValue()+90},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar(),d=e._GetNode(8),c=e._GetNode(9).GetVar();return()=>t(Math.round(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r(),o()))/a.GetValue())*i.GetValue()+90)/l.GetValue()*d.ExpInstVar()+c.GetValue()},e=>{const t=e._GetNode(0);return()=>Math.round(t.ExpObject()).toString()},()=>"RotatorDot: toggling visibility",()=>"Editing RotationBases objects",e=>{const t=e._GetNode(0);return()=>t.ExpObject("OuterEdge")},()=>"OuterEdge",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod();return()=>5*Math.round(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s(),r()))/5)+90},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5);return()=>Math.round(tk.distanceTo(t.ExpObject(),n.ExpObject(),s(),r())/o.ExpInstVar())*a.ExpInstVar()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>(t.ExpObject()/n.ExpInstVar()).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),4,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n(s.ExpInstVar(),0,","))*r.ExpInstVar()+o.ExpInstVar()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>360/t.GetValue()*n.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CirclingPlatform")},()=>"circlingPlatform",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Fire"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Ice"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Ghost"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Chainball")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpInstVar(),0,","))-r.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject()-n.GetValue()*s.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"flame,ice,ghost",",")},e=>{const t=e._GetNode(0);return()=>4*t.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-16*n.GetValue()+16},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-16*n.GetValue()-8},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t.ExpObject()*Math.sin(tk.toRadians(n.ExpObject()+s.GetValue()))+r.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t.ExpObject()*Math.cos(tk.toRadians(n.ExpObject()-180+s.GetValue()))+r.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>2*tk.distanceTo(t.ExpObject(),n.ExpObject(),s.ExpObject(),r.ExpObject())},()=>"showCircleRange",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>Math.round(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s(),r()))+o.ExpObject()+90)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()*Math.sin(tk.toRadians(n.ExpObject()+s.ExpInstVar()))+r.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()*Math.cos(tk.toRadians(n.ExpObject()-180+s.ExpInstVar()))+r.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>t.ExpObject()*Math.sin(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r(),o()))-90))+a.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>t.ExpObject()*Math.cos(tk.toRadians(tk.toDegrees(tk.angleTo(n.ExpObject(),s.ExpObject(),r(),o()))-90))+a.ExpObject()},()=>"Editing DraggablePreviewObjects",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>t.ExpInstVar_Family()*n(s(r.ExpInstVar(),o.ExpInstVar_Family(),","))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>5*Math.round(tk.toDegrees(tk.angleTo(t.ExpObject(),n.ExpObject(),s(),r()))/5)+90-o.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5);return()=>Math.round(tk.distanceTo(t.ExpObject(),n.ExpObject(),s(),r())/o.ExpInstVar_Family())*a.ExpInstVar_Family()+8},e=>{const t=e._GetNode(0).GetVar();return()=>(t.GetValue()/8).toString()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7);return()=>t.GetValue()*Math.cos(tk.toRadians(n.ExpObject()+s.ExpInstVar_Family()*r(o(a.ExpInstVar(),i.ExpInstVar_Family(),","))-90))+l.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7);return()=>t.GetValue()*Math.sin(tk.toRadians(n.ExpObject()+s.ExpInstVar_Family()*r(o(a.ExpInstVar(),i.ExpInstVar_Family(),","))-90))+l.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6);return()=>t.GetValue()*Math.cos(tk.toRadians(n.ExpObject()+s.ExpInstVar_Family()*(360/(r(o(a.ExpInstVar(),4,","))+1))-90))+i.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6);return()=>t.GetValue()*Math.sin(tk.toRadians(n.ExpObject()+s.ExpInstVar_Family()*(360/(r(o(a.ExpInstVar(),4,","))+1))-90))+i.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>Math.floor(t.GetValue()/16).toString()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6);return()=>(t.GetValue()-7)*Math.cos(tk.toRadians(n.ExpObject()+(s.ExpInstVar_Family()-1)*(360/(r(o(a.ExpInstVar(),4,","))+1))-90))+i.ExpObject()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6);return()=>(t.GetValue()-7)*Math.sin(tk.toRadians(n.ExpObject()+(s.ExpInstVar_Family()-1)*(360/(r(o(a.ExpInstVar(),4,","))+1))-90))+i.ExpObject()},()=>"Make sure rotational speeds are within bounds",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>(-t()).toString()},e=>{const t=e._GetNode(0).GetVar();return()=>Math.ceil(720/t.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()*(n.GetValue()/180)},()=>"Pressing range editor button",()=>"Customizing ranges",()=>"RangeResizer",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Xj(16,Kj(t.ExpObject(n.ExpObject(),8),8))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Xj(16,Kj(t.ExpObject(n.ExpObject(),9),8))},()=>"invertedColorIntensity",()=>"Inverted",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("invertedColorIntensity")},()=>"Customizing separated ranges",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t.ExpObject()+8*n(s(r.ExpInstVar(),o.GetValue()+2,","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t.ExpObject()+8*n(s(r.ExpInstVar(),o.GetValue()+3,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>8*t(n(s.ExpInstVar(),r.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>8*t(n(s.ExpInstVar(),r.GetValue()+1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t((n.ExpObject()-s.ExpObject())/8,2).toString()},()=>"Gameplay HUD",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("username")?n.ExpObject("username"):"MARIO"},e=>{const t=e._GetNode(0);return()=>Kj(qj(18,t.ExpObject("mapScreenWidth")),8)},e=>{const t=e._GetNode(0);return()=>Kj(qj(15,t.ExpObject("mapScreenHeight")),8)},()=>"Super Mario Bros. (1) HUD",e=>{const t=e._GetNode(0).GetVar();return()=>152+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>12+t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("[color=",t.ExpObject("usernameColour","#FFFFFF"))+"]"+n.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>112+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>20+t.GetValue()},()=>"displayScore",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"CoinDisplay")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>""+t(n.GetValue(),2)},()=>"displayCoinCount",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>324-96*t.GetValue()+12*n.GetValue()-s.GetValue()/2},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"UncollectedDragonCoin")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"DragonCoinDisplay")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()-n.GetValue()/2},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()+30-n.GetValue()/2},()=>"displayDragonCoinCount",e=>{const t=e._GetNode(0).GetVar();return()=>328-t.GetValue()},()=>"TIME",()=>"---",()=>"Super Mario World",e=>{const t=e._GetNode(0).GetVar();return()=>14+t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Qj("[color=",t.ExpObject("usernameColour","#D83818"))+"]"+n(s.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>316-t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>15+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>332-t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>298-t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>24+t.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue(),"disabled"===n.GetValue()?"ReserveBoxDisabled":"ReserveBox")},()=>"[color=#F8D870]time[/color]",()=>"[color=#F8D870]---[/color]",e=>{const t=e._GetNode(0).GetVar();return()=>96+t.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(" ",t.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>140+8*t.GetValue()+n.GetValue()/2},e=>{const t=e._GetNode(0).GetVar();return()=>140+t.GetValue()/2},e=>{const t=e._GetNode(0).GetVar();return()=>170+t.GetValue()/2},()=>"Level timer",()=>"000",()=>"[color=#F8D870]0[/color]",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject()+n(Math.abs(s.ExpObject()/2),Math.abs(r.ExpObject())/2*-1)},e=>{const t=e._GetNode(0);return()=>Qj("[color=#F8D870]",t.ExpInstVar())+"[/color]"},()=>"hurryUpThemeComplete",()=>8683640,()=>"hurry",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Hurry")},()=>"Coin, score & life systems",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>1===t(n.GetValue().toString())?Qj(" ",s.GetValue()):Qj("",r.GetValue())},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("brightness")},()=>99,e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj("",t.GetValue())+"/",n.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue()+s.GetValue(),9999999999)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.GetValue()<=1?n(s.GetValue(),6):r.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("ScoreFont",t.GetValue())},()=>"riseAndDestroy",()=>"OneUp",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"_"),n.GetValue())+"UP"},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Crown")},()=>1099,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>" "+t(n.GetValue().toString(),2)},()=>1109,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>"  "+t(n.GetValue().toString(),1)},()=>"",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject()-4+8*n.GetValue()},()=>"Gradient generation & BG color",()=>"bgLayerColor",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n(s.GetValue(),0,"_"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",")/4},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.GetValue(),r.GetValue(),","))*o.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetVar(),_=e._GetNode(12).GetVar();return()=>t(n(s(r.GetValue(),o.GetValue()+1,",")),a(i(l.GetValue(),d.GetValue()+2,",")),c(u(h.GetValue(),_.GetValue()+3,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",")-4},()=>"Inventory box",()=>"createdThisFrame",()=>"reserveItem",()=>"2ReserveBox",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"T",0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"C",0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"J",0)},()=>"stockReserve",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("StockReserve")},e=>{const t=e._GetNode(0);return()=>Qj(t.ExpInstVar_Family(),"_inventory")},()=>"reserveDrop",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("ReserveDrop")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-100},()=>"LevelL0",()=>"invReleaseOpacityCycle opacity",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),1,1))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),"i",""))},()=>"Reading & scrolling through text",()=>"Text dialogue creation & removal",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("TextOrigin")+n.ExpInstVar_Family()},()=>"textContent",()=>"orientation",()=>"containerX",()=>"containerY",()=>"MessageBlock",()=>"darkenLevel",e=>{const t=e._GetNode(0);return()=>t.ExpObject("containerX")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("containerY")},e=>{const t=e._GetNode(0);return()=>Jj(t.ExpObject("width"),20)},e=>{const t=e._GetNode(0);return()=>Jj(t.ExpObject("height"),20)},()=>"appearWithTransparency",()=>"growAndShowDialogue",e=>{const t=e._GetNode(0);return()=>t.ExpObject("width")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("height")},()=>"HUDOpacity",e=>{const t=e._GetNode(0);return()=>t.ExpObject("textContent")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("orientation")},()=>"dialogueText",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>"jp-JP"===t()?1:0},()=>"dialogueBorder",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+n.ExpObject()/2-4},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>Xj(qj(t.ExpObject()+n.ExpObject()/2,Jj(s.ExpObject("height"),2)),8)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("lookUp"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpObject("lookUp")))},()=>"scrollDialogueUpIndicator",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("duck"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpObject("duck")))},()=>"scrollDialogueDownIndicator",()=>"MessageBlockDisappear",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("MessageBlockDisappear")},()=>"dialogueExit",()=>"shrinkAndHideDialogue",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("HUDOpacity")},()=>"Scroll dialogue text",()=>"scrollToY",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Xj(qj(t.ExpObject(),Jj(n.ExpObject("height"),2)),8)},()=>"changeAngle",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>qj(Xj(t.ExpObject(),Jj(n.ExpObject("height"),2)),8)},()=>"MessageBlockScroll",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("MessageBlockScroll")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Xj(qj(t.ExpObject(),Jj(n.ExpObject("height"),2)),7)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>qj(Xj(t.ExpObject(),Jj(n.ExpObject("height"),2)),7)},e=>{const t=e._GetNode(0);return()=>Kj(qj(t.ExpObject("height"),16),-1)},e=>{const t=e._GetNode(0);return()=>qj(t.ExpObject("height"),16)},e=>{const t=e._GetNode(0);return()=>t.ExpObject("duck")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("lookUp")},()=>-33,e=>{const t=e._GetNode(0);return()=>t.ExpObject("toolbox")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>qj(Xj(t.ExpObject()-n.ExpObject()/2,Jj(s.ExpObject("height"),2)),8)},()=>"Helper functions",()=>"Dynamic layers",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>-1!==t(n(s()),"webkit")?1:0},()=>"Creating EditorObject functions",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue(),"_")+n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()?n.GetValue():"{}"},()=>"spawningObject",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),3-r.GetValue(),","))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t.GetValue()?n.GetValue():16*s(r(o.GetValue(),1,","))+8},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t.GetValue()?n.GetValue():16*s(r(o.GetValue(),2,","))+8},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>t(n.GetValue(),s.GetValue(),r(o(a.GetValue(),5-i.GetValue(),",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),4-r.GetValue(),","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"T")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),6-s.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"U")},()=>"EditorObject data retrieval functions",()=>"[]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s(r.GetValue())-2)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"[")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),0,"[")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue()+"[")},()=>"[",()=>2010,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue()-1,2)},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+"["},()=>"]",()=>"A loop was stopped trying to fetch data from an incorrectly formatted datastring (ERR1).",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s.GetValue()+r.GetValue(),1)},()=>"A loop was stopped trying to fetch data from an incorrectly formatted datastring. (ERR2)",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar();return()=>t.GetValue()+n(s.GetValue(),r.GetValue()+o.GetValue()+1,a(i.GetValue()))},()=>"T",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue().toString()))},()=>2100,e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s.GetValue()+r.GetValue()+1,1)},()=>"A loop was stopped trying to fetch data from an incorrectly formatted datastring (ERR3).",()=>2200,()=>"A loop was stopped trying to fetch data from an incorrectly formatted datastring (ERR4).",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj("b"===t(n.ExpInstVar(),1)?1:0,"bs"!==s(r.ExpInstVar(),2)?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("maps.",t.ExpObject(n.GetValue()))+".layers"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj("maps.",t.ExpObject(n.GetValue()))+".layers."+s.ExpObject()+".objects"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t(n.ExpObject(Qj(Qj("maps.",s.ExpObject(r.GetValue()))+".layers."+o.GetValue()+".objects.",a.GetValue())+".M"),0,",")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t.ExpObject(Qj(Qj("maps.",n.ExpObject(s.GetValue()))+".layers."+r.GetValue()+".objects.",o.GetValue())+".E")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>Qj(Qj("maps.",t.ExpObject(n.GetValue()))+".layers."+s.GetValue()+".objects.",r.GetValue())+".E"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue().toString()),0,",")},()=>"objID",()=>"objMode",()=>"EditorObject data storage conversions",()=>"objectID",()=>"visualID",()=>"mirrorStatus",()=>"text",()=>"containerData",()=>"sources",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(Qj(",",t.ExpObject()/16-.5)+",",n.ExpObject()/16-.5)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar(),l=e._GetNode(7);return()=>","+t(n.ExpInstVar())+","+s(r.ExpInstVar().toString(),"0","")+","+o(a(i.GetValue()))+","+l.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>",E["+t(n.ExpObject())+"]"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>"["+(t.ExpObject(n.GetValue().toString())?s(r.ExpObject(o.GetValue().toString())):"")+"]"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>Qj("[",t.ExpObject(n.GetValue().toString())?s.ExpObject(r.GetValue().toString()):"")+"]"},()=>",C",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),r.GetValue()?1:3,","))},()=>"directionID",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),r.GetValue()?2:4,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n(s.GetValue(),r.GetValue()?3:5,","))},()=>"tag",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue()?4:6,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"E")},()=>"textCount",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("textContent.",t())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t(n.GetValue(),"T",s())},()=>"containerCount",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("containedItems.",t())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>t(n.GetValue(),"C",s())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5),i=e._GetNode(6),l=e._GetNode(7),d=e._GetNode(8);return()=>t(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(n.ExpObject("objID"),","),s.GetValue()?Qj(Qj(Qj(r.ExpObject("x"),","),o.ExpObject("y")),","):""),a.ExpObject("visualID")),","),i.ExpObject("directionID")),","),l.ExpObject("angle")),","),d.ExpObject("tag")))},e=>{const t=e._GetNode(0);return()=>Qj(",E[",t.ExpObject("extraValues"))+"]"},()=>",T",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("[",t.ExpObject("textContent."+n.ExpObject()))+"]"},()=>"containedItems",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("[",t.ExpObject("containedItems."+n.ExpObject()))+"]"},()=>"EditorObject displaying as framed object",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("o15,o16,o17,o31,o32,o33,o34,o35,o36,o37,o43,o67,e22,e23,e27,e28,e29,e32,e34,e39,e40,e44,e54,e56,e57,e58,e82,e84,e92,e95,e108,e109,e110,e111,e118,e120,e123,e140,e141,e143,e144,e146,e155,e156,e162,e163,e164,e165,e181,bs1,bs2,bs3",n.ExpInstVar(),",")},()=>"e96",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_pi1")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_o34")},()=>"FrameOutline",()=>"editorObjFrameOutline",()=>"editorObjRepresenting",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(Qj(r.GetValue(),"_TapePoles")),0," -- ")," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t("blargg|"+n(s.ExpInstVar()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("montyMole",n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n(s.ExpObject(Qj(r.GetValue(),"_Chucks")),0," -- ")," | ")},()=>"EditorObject angle-related functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpObject())/s(r.ExpInstVar())},()=>"e79",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>ek(t("bullet",n.GetValue()),s("linearFlame",r.GetValue()))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>t(n.GetValue(),s.GetValue())?r.GetValue()*o(a.GetValue()):0},()=>"Turning warp data into JSON",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6),l=e._GetNode(7).GetVar();return()=>Qj(Qj(Qj(Qj(Qj(Qj(t.ExpObject(n.GetValue(),1),","),s.ExpObject(r.GetValue(),2)),","),o.ExpObject(a.GetValue(),3)),","),i.ExpObject(l.GetValue(),4))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue()+",",n.ExpObject(s.GetValue(),5))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj("maps."+t.GetValue()+".destinations.",n.ExpObject(s.GetValue()))},()=>"arrayHeight",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod();return()=>Qj(t.ExpObject(n.GetValue(),s()),",")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>Qj("maps."+t.GetValue()+".entryways.",n.ExpObject(s.GetValue()))},()=>"Switching & clearing",()=>"Data calling, cleanup & compactifying",e=>{const t=e._GetNode(0);return()=>t.ExpObject("data")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(Qj('{"c2tilemap":true,"width":',t.GetValue())+',"height":',n.GetValue())+',"data":"'+s.GetValue()+'"}'},()=>"levelThemes",()=>"Validating data",()=>"Missing version data",()=>"Missing gamestyle data",()=>"Invalid gamestyle",()=>"Missing start data",()=>"No maps in level",e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+"."},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+"size"},e=>{const t=e._GetNode(0);return()=>"No size specified in map "+t.ExpObject()},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+"layers"},e=>{const t=e._GetNode(0);return()=>"No layers in map "+t.ExpObject()},()=>"Modifying data",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15).GetBoundMethod(),g=e._GetNode(16).GetBoundMethod(),f=e._GetNode(17).GetBoundMethod(),N=e._GetNode(18).GetVar();return()=>t(n(s(r(o(a(i(l(d(c(u(h(_(G(p(m(g(f(N.GetValue(),"[color=","%oc"),"[/color]","%ec"),"[background=","%ob"),"[/background]","%eb"),"[opacity=","%op"),"[/opacity]","%ep"),"[scale=","%os"),"[/scale]","%es"),"[scalex=","%ox"),"[/scalex]","%ex"),"[scaley=","%oy"),"[/scaley]","%ey"),"[offsetx=","%oh"),"[/offset]","%eh"),"[offsety=","%ov"),"[/offsety]","%ev"),"[","&o"),"]","&e")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15).GetBoundMethod(),g=e._GetNode(16).GetBoundMethod(),f=e._GetNode(17).GetBoundMethod(),N=e._GetNode(18).GetVar();return()=>t(n(s(r(o(a(i(l(d(c(u(h(_(G(p(m(g(f(N.GetValue(),"%oc","[color="),"%ec","[/color]"),"%ob","[background="),"%eb","[/background]"),"%op","[opacity="),"%ep","[/opacity]"),"%os","[scale="),"%es","[/scale]"),"%ox","[scalex="),"%ex","[/scalex]"),"%oy","[scaley="),"%ey","[/scaley]"),"%oh","[offsetx="),"%eh","[/offset]"),"%ov","[offsety="),"%ev","[/offsety]"),"&o","["),"&e","]")},()=>"Map Persistence",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"_")+n.ExpInstVar_Family().toString()},()=>"Create (& activate) helper objects",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("jumpY",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>.2+.05*t.GetValue()},()=>"jumpY3",()=>"jumpY2",()=>"jumpY1",()=>"Level/map related math",()=>"Miscellaneous checks",()=>"fadingIn",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetVar(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15).GetVar(),g=e._GetNode(16).GetBoundMethod(),f=e._GetNode(17).GetBoundMethod(),N=e._GetNode(18).GetBoundMethod(),b=e._GetNode(19).GetVar();return()=>t(n.GetValue(),0,".")+"."+(-1===s(r.GetValue(),"beta")?o(a(i(l.GetValue(),1,"."))+100,3):d(c(u(h(_.GetValue(),1,"."),G(p(m.GetValue(),1,"."))-4)),3))+"."+g(f(N(b.GetValue(),2,".")),3)},()=>"Anything else",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject(),3)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("SMB1,SMAS1,SMW",n.GetValue(),",")},()=>"Placing Tiles",()=>"Placing tile functions",()=>"isUsed",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.round(t()/16-.5)},()=>"Regular tile placing",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t(n(),s())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Math.floor(t()/16)},()=>"no",()=>"Rectangle tool",()=>"rectangleToolPreview",e=>{const t=e._GetNode(0);return()=>Math.abs(Math.round(t.ExpObject()/16))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(16*(n.GetValue()+s.GetValue()),16*(r.GetValue()+o.GetValue()))},()=>"growAndDestroy",()=>"editorSFX",()=>"Editor/FillToolDraw",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>(t.GetValue()+Math.round(n()/16+.5))/2*16},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod();return()=>-16*(t.GetValue()-Math.round(n()/16+.5))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>(Math.round(t()/16+.5)+n.GetValue())/2*16},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>-16*(Math.round(t()/16-1.5)-n.GetValue())},()=>"Placing tile structures",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>Math.round(t()/16-.5)+n(s(r.GetValue(),0,"|"))},()=>"Deleting tiles",()=>"Deleting tile functions",()=>"Regular tile deleting",()=>"Rectangle tool for deletion",()=>"rectangleToolDeletionPreview",()=>"Eraser",()=>"Editor/FillToolErase",()=>"Editor Objects Events",()=>"Creating EditorObjects for the toolbar",()=>"toolbarPage",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("toolbar.sprite-tooltips."+s.GetValue()),"[s]","\n[scale=0.66][color=#CCCCCC]")},()=>"Picking EditorObjects inside the toolbar",()=>"eyepickerMenu",()=>"pickedAsCursorObject",()=>"Creating EditorObject cursor object",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n(s.GetValue(),3,","))*r(o.ExpObject(0))},e=>{const t=e._GetNode(0);return()=>t.ExpObject(8)},()=>"GameObject cursor to mouse / touch position",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>16*Math.round(t()/16-.5)+8},()=>"GameObject cursor ease of use",e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+12},()=>"Can place objects check (function)",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>ek(Qj(0===t.ExpObject(n(),1)?1:0,0===s.ExpObject(r(),2)?1:0),o.GetValue())},()=>"Placing & Deleting objects",()=>"placedAnObjectCount",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>0===Xj(t.ExpObject(n.ExpInstVar(),1),s.ExpObject(r.ExpInstVar(),2))?1:0},()=>"deletedAnObjectCount",()=>"Dragging / Copying objects",()=>"sizeChange",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>16*Math.round((t.ExpObject()-n())/16)},()=>"Hold",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>16*Math.round(t()/16-.5)+8+n.GetValue()},()=>"resumePreviewWhenDropped",e=>{const t=e._GetNode(0);return()=>16*Math.round(t.ExpObject()/16)-8},()=>"Special 'on drag & on drop' events for specific EditorObjects",e=>{const t=e._GetNode(0);return()=>.75*t.ExpObject()},()=>"Lock & unlock objects from dragging (functions)",()=>"OriginPoint",()=>"Misc. EditorObject dragging functions",()=>"DragNDrop",()=>"Other tile & object events",()=>"Tile following cursor",()=>"RedTint",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()-n()%16},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t()-n()%16-16},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(1,1)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar(),d=e._GetNode(8);return()=>Qj(Qj(t.ExpInstVar_Family()+"|",n.ExpObject(s.GetValue(),r.GetValue()))+"|",o(a.ExpObject(),i.GetValue(),l.GetValue()))+"|"+d.ExpInstVar_Family()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(0,1),0,"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(0,1),1,"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(0,1),2,"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(0,1),3,"|")},e=>{const t=e._GetNode(0);return()=>16*t.ExpObject()+8},()=>"moveEyedropperMenuUp",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject(),1),0,"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject(r.ExpObject(),1),1,"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject(r.ExpObject(),1),2,"|"))},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()/2+16*s.ExpObject()+4},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject(),1),3,"|")},()=>"eyedropperMenu",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject()-n.ExpObject()/2+16*s.ExpObject()+12},()=>"Local Grid",()=>"Clear cursor",()=>"Handle tile-picking tip notifications",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_GlobalR")},e=>{const t=e._GetNode(0);return()=>"rotatableTiles_"+t.ExpInstVar_Family()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpInstVar_Family(),6)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_Ship")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("-ship-",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("misc-labels.tip-notifs.tile-rotation"+n.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>Qj("tilemap|"+t.ExpInstVar_Family()+"|",n.GetValue())},()=>"Handle object-picking tip notifications",e=>{const t=e._GetNode(0);return()=>"editorObj_"+t.ExpInstVar()},()=>"digging-chuck",()=>"whistling-chuck",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t("misc-labels.tip-notifs.obj-"+n.GetValue())},e=>{const t=e._GetNode(0);return()=>"editorObj|"+t.ExpInstVar()},()=>"Update Z-Order of EditorObject assists",()=>"Get dragging priority",()=>"On draggable start basic events",()=>"Placing/deleting tile/sprite SFX",()=>"Editor/DrawTiles",()=>"Editor/EraseTiles",()=>"SpritePlacedCoin",()=>"SpritePlacedYoshi",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("SpritePlacedEnemy",t(1,2))},()=>"SpritePlacedBlock",()=>"SpritePlacedItem",()=>"SpritePlacedTechnical",()=>"SpriteDeletedItem",e=>{const t=e._GetNode(0).GetVar();return()=>"Editor/"+t.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("e11,e12,e24,e25,e26,e27,e28,e29,e37,e38,e39,e40,e41,e51,e55,e56,e57,e58,e79,e80,e90,e95,e96,e98,e99,e120,e132,e133,e134,e135,e167,e177,e178,e179,e180,e181,e182",n.ExpInstVar(),",")},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("SpriteDeletedEnemy",t(1,2))},()=>"e12",()=>"Tile state events",e=>{const t=e._GetNode(0);return()=>"tip_rotatableTiles_"+t.ExpInstVar_Family()},()=>"Toggling singular tile state",()=>"Toggling tile structure state",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),",")/s.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("Y")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject()-1-n("X")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject(n("X"),s("Y"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),0,"."))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpObject(),1,"."))+1},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"."),n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()?","+n.GetValue():s.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>Qj(t.GetValue(),"|")+n.GetValue()+"|"+s.GetValue()},()=>"Tile state functions",()=>"Layer Blur Effect",()=>"disableLayerBlurEffects",()=>"layerBlur",e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("layerBlur")},()=>"Misc. tilemap-related functions for the editor",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),2))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),1))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar();return()=>t(n.ExpObject(),s(r.GetValue(),o(a.GetValue())-i.GetValue()),1)},()=>"img",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>Qj(t(n.GetValue(),0,s(r.GetValue())-o.GetValue())+"|",a.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.GetValue()?n.GetValue():s.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetVar();return()=>t.GetValue()?n(s.GetValue(),r(o.GetValue())-a.GetValue())+" "+i(l.GetValue(),d.GetValue()):c.GetValue()},()=>"Misc. layering-related functions",e=>{const t=e._GetNode(0);return()=>t.ExpObject("inactiveLayerOpacity")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("LayerIcon",t.ExpObject(n.ExpObject(),3))},()=>"updateColor",()=>"Level Editor helper events & functions",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_Blocks")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n("0,10,7",s.GetValue(),","))},()=>"Cursor coordinates display",e=>{const t=e._GetNode(0);return()=>t.ExpObject("showCursorCoordinates")?0:1},()=>"displayCursorCoordinates",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>Qj(Qj(Math.round(t()/16-.5),", "),Math.round(n()/16-.5))},e=>{const t=e._GetNode(0);return()=>416-t.ExpObject()/2},()=>"Editor shortcuts",()=>"Grid toggle shortcut",e=>{const t=e._GetNode(0);return()=>t.ExpObject("grid")?0:1},()=>"Move to next layer shortcut",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+1},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>t.ExpObject(n())},()=>"Move to last used tile/object layer",()=>"Resizing map events",()=>"Resize Button creations & updating",()=>33e3,e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Plus")},()=>"positiveX",()=>"Extend horizontally",()=>"negativeX",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Minus")},()=>"Reduce horizontally",()=>"positiveY",()=>"Extend vertically",()=>"negativeY",()=>"Reduce vertically",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>(t.GetValue()+1)*n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>t.GetValue()*(n.GetValue()+1)},()=>"Position Resize Buttons",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()-56},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+20},()=>"Pressing Resizer Buttons",()=>"updateBackgroundPositioning",()=>"Resizer buttons on the [u]right[/u]",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>(t.GetValue()+n.GetValue()+1)*s.GetValue()},()=>"newWidth",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t()+16*n.GetValue()},()=>"Minus",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()-16},()=>"Resizer buttons on the [u]left[/u]",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t.ExpObject(n.GetValue()-s.GetValue(),r.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n.ExpObject(),s.GetValue()-r.GetValue(),o.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t()-16*n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue()+1,s.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(),s.GetValue()+1,r.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t()+16},()=>"Resizer buttons on the [u]bottom[/u]",()=>"newHeight",()=>"Resizer buttons on the [u]top[/u]",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>Qj(Qj(t.GetValue()*n.GetValue(),"x-1,"),s.ExpObject("data"))},()=>"data",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t()+16*n.GetValue()},e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t.ExpObject(n.GetValue(),s.GetValue()+1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(),s.GetValue(),r.GetValue()+1)},()=>"Resizer Button after-resize functions / events",e=>{const t=e._GetNode(0).GetVar();return()=>16*t.GetValue()+480},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpInstVar()+n.GetValue()/16},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("newWidth")},e=>{const t=e._GetNode(0);return()=>t.ExpBehavior("newHeight")},()=>"Resizer Button availability toggle + animations",()=>"animDelay",()=>"Spawning objects",()=>"Shared sprite creation events",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16*t(n(s.ExpInstVar(),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16*t(n(s.ExpInstVar(),1,","))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>"o67"===t.ExpInstVar()?16*(n(s(r.ExpInstVar(),5,","))+1):32},()=>"Creating objects",()=>"o7",()=>"o9",()=>"o11",()=>"o73",()=>"o74",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("Coin,StrawberryCoin",n.ExpObject(),",")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Orb")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Egg")},()=>"o26",()=>"o25",()=>"o27",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject()/2)},()=>"o13",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Axe")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),2,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),3,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),9,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),10,","))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Checkpoint1")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Checkpoint0")},e=>{const t=e._GetNode(0);return()=>t.ExpObject("ActivationObject")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpInstVar(),s.ExpInstVar())-8},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16+8*t(n(s.ExpInstVar(),0,","))},()=>"o20",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Stone")},()=>"o21",e=>{const t=e._GetNode(0);return()=>t.ExpObject()%4},e=>{const t=e._GetNode(0);return()=>t.ExpObject()>=4?1:0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Clock"),n.ExpInstVar())},()=>"o23",()=>"o29",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Keyhole")},()=>"o30",e=>{const t=e._GetNode(0);return()=>t.ExpObject()/45},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),2,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),6,","))+1},()=>"GloveSpawn",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>tk.clamp(t(n(s.ExpInstVar(),1,","))+1,r(),26)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s(r.ExpInstVar(),2,","))-90)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),12,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),13,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),14,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),16,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),17,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),18,","))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Bean"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Bean")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),3,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject()/90)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n.ExpObject(),-2)?s(r.ExpInstVar(),"0"):""},()=>"o48",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),1,","))-90},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),2,","))-90},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>32*t(n(s.ExpInstVar(),3,","))},()=>"o56",()=>"o57",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Blaster"),n.ExpInstVar()%3)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),2))-60},()=>"o64",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t("ghostFlame","ghostFlame","fairy")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),3,","))+1},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>-1===t.ExpObject(Qj(Qj(n.GetValue(),"_"),s.ExpInstVar()),0)?1:0},()=>"o72",()=>"Creating enemies",()=>"e3",()=>"e74",()=>"e150",()=>"e152",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("e148,e150,e152,e153",n.ExpInstVar(),",")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>("e112"===t.ExpInstVar()?1:0)+n(s(r.ExpInstVar(),0,","))},e=>{const t=e._GetNode(0);return()=>"e113"===t.ExpInstVar()?1:0},()=>"e2",()=>"e4",()=>"e149",()=>"e151",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("e4"===t.ExpInstVar()?1:0,"e151"===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek("e149"===t.ExpInstVar()?1:0,"e151"===n.ExpInstVar()?1:0)},()=>"e7",()=>"e8",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n("40,72,104",s.ExpObject()-3,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),0,","))-90},()=>"e63",()=>"e64",()=>"e65",()=>"e66",()=>"e67",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),2))-63},()=>"e75",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Roll")},()=>"e13",()=>"e14",e=>{const t=e._GetNode(0);return()=>"e13"===t.ExpInstVar()?0:1},()=>"e15",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Mush")},()=>"e17",()=>"e18",()=>"e22",()=>"e23",()=>"e25",()=>"e26",()=>"firebar",e=>{const t=e._GetNode(0);return()=>8*t.ExpInstVar()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s(r.ExpInstVar(),1,","))-90)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>Math.abs(t(n(s.ExpInstVar(),3,",")))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Eerie"),n.ExpInstVar())},()=>"e31",()=>"e32",()=>"e33",()=>"e36",e=>{const t=e._GetNode(0);return()=>0===t.ExpObject()?0:4},()=>"booCircle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),4,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16*t(n(s.ExpInstVar(),6,","))},()=>"e37",()=>"e38",()=>"e39",()=>"e40",()=>"e41",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>32*t(n(s.ExpInstVar(),1,","))},()=>"e43",()=>"cheepCheepCircle",()=>"Bottom1PX",e=>{const t=e._GetNode(0);return()=>-Math.pow(48,2)/t.ExpInstVar()},()=>"e49",()=>"e51",()=>"e55",e=>{const t=e._GetNode(0);return()=>Qj("Mine",t.ExpInstVar())},()=>"e56",()=>"e57",()=>"e58",()=>"e59",()=>"e76",()=>"e80",()=>"e81",()=>"e82",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),2))-80},()=>"e85",()=>"e86",e=>{const t=e._GetNode(0);return()=>"e87"===t.ExpInstVar()?0:1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),0,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6);return()=>Qj(1===t(n(s.ExpInstVar(),1,","))?1:0,2===r.ExpInstVar()?1:0)?2:o(a(i.ExpInstVar(),1,","))},()=>"e90",()=>"e91",()=>"e92",e=>{const t=e._GetNode(0);return()=>3===t.ExpInstVar()?1:0},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject()-90)},()=>"e99",()=>"e100",()=>"e101",()=>"e102",()=>"e103",()=>"e104",()=>"e105",()=>"e106",()=>"e107",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+11.6},()=>"e108",()=>"e109",()=>"e110",()=>"e111",e=>{const t=e._GetNode(0);return()=>"e117"===t.ExpInstVar()?1:0},()=>"e118",()=>"e119",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()+(s.ExpObject()>0?180:0))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>32*t(n(s.ExpInstVar(),3,","))-64},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>25*t(n(s.ExpInstVar(),6,","))+25},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t("none | additive | sourceAtop | destinationOut",n(s(r.ExpInstVar(),7,","))," | ")},()=>"e123",()=>"e125",()=>"e126",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),3))-124},()=>"e127",()=>"e128",()=>"e129",()=>"e130",()=>"e131",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>.75+t(n(s.ExpInstVar(),2,","))/r(o(a.ExpInstVar(),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>.75+t(n(s.ExpInstVar(),5,","))/r(o(a.ExpInstVar(),4,","))},()=>"e142",()=>"e143",()=>"e144",()=>"e145",()=>"e146",e=>{const t=e._GetNode(0);return()=>"e146"===t.ExpInstVar()?1:0},()=>"e156",e=>{const t=e._GetNode(0);return()=>"e155"===t.ExpInstVar()?0:4},()=>"e157",()=>"e158",()=>"e159",()=>"e160",()=>"e161",()=>"e162",()=>"e163",()=>"e164",()=>"e165",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),3))-158},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()>=4?1:0},e=>{const t=e._GetNode(0);return()=>Math.floor(t.ExpInstVar()/2)},()=>"e168",()=>"e169",()=>"e170",()=>"e175",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),3))-168},()=>"e178",()=>"e179",e=>{const t=e._GetNode(0);return()=>"e181"===t.ExpInstVar()?1:0},()=>"e183",()=>"e184",()=>"e185",()=>"e186",()=>"Creating power-ups",()=>"i13",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Starman")},()=>"il1",()=>"Creating mounts",()=>"m2",()=>"m3",()=>"Creating blocks",()=>"b1",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpInstVar()?n(s(r.ExpInstVar(),0,","))+1:0},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject(Qj(Qj(n.GetValue(),"_"),s.ExpInstVar()))},()=>"Monitor",e=>{const t=e._GetNode(0);return()=>Qj("Celeste",t.ExpInstVar())},()=>"Chozo",()=>"Kirby",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>t.ExpObject(Qj(Qj(n.GetValue(),"_"),s.ExpInstVar()),r(o(a.ExpInstVar(),0,","))+1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6);return()=>Qj(t(n(s.ExpInstVar(),4,",")),0===r(o.ExpObject(),Qj(Qj(a.GetValue(),"_"),i.ExpInstVar()))?1:0)},e=>{const t=e._GetNode(0);return()=>Qj("Default",t.ExpInstVar())},()=>"CheckeredBrick",e=>{const t=e._GetNode(0);return()=>Qj("Snowy",t.ExpInstVar())},()=>"b6",()=>"b7",()=>"b8",()=>"b11",()=>"b12",()=>"b13",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),2))-14},()=>"b18",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject(Qj(Qj(n.GetValue(),"_"),s.ExpInstVar()),0)},()=>"b30",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3);return()=>t.ExpObject(Qj(Qj(n.GetValue(),"_"),s.ExpInstVar()),3-r.ExpInstVar())},()=>"Creating bosses",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),13,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),16,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),19,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),22,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),23,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar(),11,","))-1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n.GetValue(),s(r(o.ExpInstVar(),6,","))," | ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>t(n.GetValue(),s(r(o.ExpInstVar(),7,","))," | ")},()=>"Creating pipes & tile-objects",()=>"objectPipe",e=>{const t=e._GetNode(0);return()=>t.ExpObject("Left")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+8.5},e=>{const t=e._GetNode(0);return()=>t.ExpObject("Right")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16*t(n(s.ExpInstVar(),2,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),6,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),7,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>8*t(n(s.ExpInstVar(),8,","))+r.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>8*t(n(s.ExpInstVar(),9,","))+r.GetValue()},()=>"to1",()=>"to2",()=>"to3",()=>"to4",()=>"to5",()=>"to6",()=>"to7",()=>"to8",()=>"Creating technical objects",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t("stop|kill|pause|start",n(s(r.ExpInstVar(),3,",")),"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),8,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>8*t(n(s.ExpInstVar(),9,","))+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>64*(t(n(s.ExpInstVar(),1,","))+1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>16*t(n(s.ExpInstVar(),3,","))},()=>"t12",()=>"Creating environmental changers",()=>"Spawning EditorObject Parts",()=>"createdPartsThisFrame",()=>"Parts for blocks",()=>"PaletteSquare",()=>"2pxSquare",()=>"blockWithPalettes",()=>"Parts for objects",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_CenterTile")},()=>"Base",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Base0")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Base1")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"FlagpoleBase")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Flagpole",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>16*-t.GetValue()+8},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>32+8*t(n(s.ExpInstVar(),0,","))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("CheckpointPole",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("GiantGate",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("MidwayGate",t.GetValue())},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>Qj(ek(ek("placedObj"===t.ExpInstVar()?1:0,"selectableItem"===n.ExpInstVar()?1:0),"cursor"===s.ExpInstVar()?1:0),"eyedropperMenu"!==r.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("FlipPanel_Outline",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>4*t(n(s.ExpInstVar(),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>4*t(n(s.ExpInstVar(),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>t(n(s.ExpInstVar(),0,","))+2*r(o(a.ExpInstVar(),5,","))},()=>"excludeAngle",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>ek("edit"===t.GetValue()?1:0,"reserveItem"===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Bubble",t.GetValue())},()=>"Parts for enemies & bosses",()=>"pinToPosition",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+6.6},()=>"BottomOrigin",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj("EditorPokey",t.GetValue())+"_",n.ExpInstVar())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>Qj(t.GetValue(),"_e1")+(n(s(r.ExpInstVar(),0,","))?"_S":"")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(1===t.GetValue()?1:0,7===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0);return()=>7===t.ExpInstVar()?1:0},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+"_S"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t("5,7,10",n.ExpInstVar().toString(),",")?s.ExpInstVar():0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(Qj(t.GetValue(),"_fakeBlock_"),n.GetValue())},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(1===t.GetValue()?1:0,1===n.ExpInstVar()?1:0)},()=>"excludeSize",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"e89"===n.ExpInstVar()?"Spike":"Rocky")+"Arm"},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_ClimbingKoopa")},()=>"0,120,0 | 0,184,0 | 0,248,0",()=>"136,0,0 | 184,0,0 | 248,0,0",()=>"64,64,216 | 104,104,216 | 136,136,248",()=>"248,120,0 | 248,192,0 | 248,248,0",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(t.GetValue(),"_")+(0===n.ExpObject()?"goonie":"skeleGoonie")},e=>{const t=e._GetNode(0);return()=>"{}"===t.ExpInstVar()?0:1},()=>"ReplaceColor3",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"Baseball")},()=>"Parts for technical objects",()=>"Parts for pipes & platforms",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("favoritedItem,containerContentIcon,containedItemInOtherEditorObject",n.ExpInstVar(),",")},()=>"Auto",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Pipe0_",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Pipe1_",t.GetValue())},()=>"onlyRight",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Pipe2_",t.GetValue())},()=>"onlyDown",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Pipe3_",t.GetValue())},()=>"onlyLeft",e=>{const t=e._GetNode(0).GetVar();return()=>Qj("AntiMountSign",t.GetValue())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>48+8*t(n(s.ExpInstVar(),0,","))},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("AntiMountArrow",t.GetValue())},()=>"Parts for decorations",()=>"Parts that show up only in edit mode",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject(n(s(r.ExpInstVar(),2))-14)},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>12*Math.cos(tk.toRadians(t.ExpObject()+45*n.ExpInstVar()))+s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>12*Math.sin(tk.toRadians(t.ExpObject()+45*n.ExpInstVar()))+s.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(.5*n.ExpObject(),-.5*s.ExpObject())},()=>"Boo1",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj("Boos",t.GetValue())+n.GetValue()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>12*Math.cos(tk.toRadians(t.ExpObject()+90))+n.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>12*Math.sin(tk.toRadians(t.ExpObject()+90))+n.ExpObject()},()=>"Boo2",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>8*Math.cos(tk.toRadians(t.ExpObject()+90))+n.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>8*Math.sin(tk.toRadians(t.ExpObject()+90))+n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("bullet",n.ExpInstVar())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t.ExpObject()-n(s(r.ExpInstVar(),4,","))},()=>"notFound",e=>{const t=e._GetNode(0);return()=>t.ExpObject("")},()=>"Whitelist of insta-spawn sprites",()=>"o53",()=>"o54",()=>"p",()=>"c",()=>"Extra functions for EditorObjectParts",()=>"ExtraEditorObjectDisplay events",()=>"ExtraEditorObjectDisplay creation (function)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),11)},e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"ObjectSign")},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Boos",t.GetValue())},e=>{const t=e._GetNode(0).GetVar();return()=>Qj("Boos",t.GetValue())+"F"},()=>"pinToPosAndProps",e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpInstVar()-("b29"===n.ExpInstVar()?1:0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject(Qj(r.GetValue(),"_BlockCommon")),o.GetValue()," -- "),1,"|")},()=>1595528,()=>"ExtraEditorObjectDisplay Z-indexing",e=>{const t=e._GetNode(0).GetVar();return()=>Qj(t.GetValue(),"_e10")},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()<n.ExpObject()?1:0},()=>"ExtraEditorObjectDisplay general events & functions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>90*(t(n(s.ExpInstVar(),r.GetValue(),","))-1)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"SignpostArrow"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t(n(s.ExpInstVar()),0,"__")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s(r.ExpInstVar()),1,"__"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>t(n(s(r.ExpInstVar()),2,"__"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>Qj(Qj(t.GetValue(),"Base"),n.ExpInstVar())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>90*(t(n(s.ExpInstVar(),0,","))-1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),0,"__")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),1,"__"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),2,"__"))},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>ek(t.ExpObject()>=20?1:0,n.ExpObject()>=20?1:0)},()=>"ExtraEditorObjectDisplay palette setting",()=>"Level code conversions from older releases",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta13")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject("maps."+n.GetValue()+".destinations."+s.ExpObject()+".type")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()+",",n.ExpObject("maps."+s.GetValue()+".destinations."+r.ExpObject()+".L"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()+",",n.ExpObject("maps."+s.GetValue()+".destinations."+r.ExpObject()+".X"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()+",",n.ExpObject("maps."+s.GetValue()+".destinations."+r.ExpObject()+".Y"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()+",",n.ExpObject("maps."+s.GetValue()+".destinations."+r.ExpObject()+".L2"))},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t.ExpObject("maps."+n.GetValue()+".entryways."+s.ExpObject()+".type")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()+",",n.ExpObject("maps."+s.GetValue()+".entryways."+r.ExpObject()+".L"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()+",",n.ExpObject("maps."+s.GetValue()+".entryways."+r.ExpObject()+".X"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()+",",n.ExpObject("maps."+s.GetValue()+".entryways."+r.ExpObject()+".Y"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()+",",n.ExpObject("maps."+s.GetValue()+".entryways."+r.ExpObject()+".targetD"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1);return()=>"maps."+t.GetValue()+".entryways."+n.ExpObject()+".targetM"},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>Qj(t.GetValue()+",",n.ExpObject("maps."+s.GetValue()+".entryways."+r.ExpObject()+".targetM"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta15")},e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".dark"},e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".fx.dark"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj("1,dark,",t.ExpObject("maps."+n.ExpObject()+".dark"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta17")},e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".waterMode"},e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".water"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("maps."+n.ExpObject()+".waterMode").toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta19")},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".fx.lava"},e=>{const t=e._GetNode(0).GetVar();return()=>"maps."+t.GetValue()+".fx.embers"},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject("maps."+n.GetValue()+".fx.lava").toString()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>"maps."+t.GetValue()+".layers."+n.GetValue()+".objects."+s.ExpObject()+".C"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue()),1)},()=>"{",()=>"}",e=>{const t=e._GetNode(0);return()=>t.ExpObject("0")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta19.3")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject("maps."+s.GetValue()+".layers."+r.GetValue()+".dat"),1)},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>"maps."+t.GetValue()+".layers."+n.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>"maps."+t.GetValue()+".layers."+n.GetValue()+"."+s.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject()),"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject()),2,"_")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject("smas1_ghost_cleanup"),s.ExpObject(r.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject("smas1_ocean_cleanup"),s.ExpObject(r.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta20")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>"maps."+t.GetValue()+".layers."+n.GetValue()+".objects."+s.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar();return()=>t(n.ExpObject(s.GetValue()+".M"),0,",")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar();return()=>t.ExpObject(n.GetValue()+".E")},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()+".E"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>(t(n.GetValue())/8+2).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>Qj(Qj(t(n(s.GetValue(),0,","))/8,","),r(o(a.GetValue(),1,","))/8).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetVar();return()=>Qj(Qj(Qj(Qj(t(n(s.GetValue(),0,","))/8,","),r(o(a.GetValue(),1,","))/8)+",",i(l(d.GetValue(),2,","))/8)+",",c(u(h.GetValue(),3,","))/8).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetVar();return()=>(Qj(Qj(t(n(s.GetValue(),0,","))/8,","),r(o(a.GetValue(),1,","))/8)+","+i(l.GetValue(),2,",")+","+d(c.GetValue(),3,",")).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar();return()=>(Qj(Qj(t(n(s.GetValue(),0,","))/8,","),r(o(a.GetValue(),1,","))/8)+","+i(l.GetValue(),2,",")).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetVar(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetVar(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetVar(),m=e._GetNode(15).GetBoundMethod(),g=e._GetNode(16).GetBoundMethod(),f=e._GetNode(17).GetVar(),N=e._GetNode(18).GetBoundMethod(),b=e._GetNode(19).GetBoundMethod(),S=e._GetNode(20).GetVar(),x=e._GetNode(21).GetBoundMethod(),I=e._GetNode(22).GetBoundMethod(),y=e._GetNode(23).GetVar();return()=>Qj(Qj(Qj(Qj(t(n.GetValue(),0,",")+","+s(r.GetValue(),1,",")+","+o(a.GetValue(),2,",")+","+i(l.GetValue(),3,",")+","+d(c.GetValue(),4,",")+","+u(h.GetValue(),5,",")+",",_(G(p.GetValue(),6,","))/8)+",",m(g(f.GetValue(),7,","))/8)+",",N(b(S.GetValue(),8,","))/8)+",",x(I(y.GetValue(),9,","))/8).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetVar(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13).GetVar(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15).GetVar(),g=e._GetNode(16).GetBoundMethod(),f=e._GetNode(17).GetVar(),N=e._GetNode(18).GetBoundMethod(),b=e._GetNode(19).GetVar(),S=e._GetNode(20).GetBoundMethod(),x=e._GetNode(21).GetVar(),I=e._GetNode(22).GetBoundMethod(),y=e._GetNode(23).GetVar(),E=e._GetNode(24).GetBoundMethod(),T=e._GetNode(25).GetVar();return()=>(Qj(Qj(Qj(Qj(t(n(s.GetValue(),0,","))/8,","),r(o(a.GetValue(),1,","))/8)+",",i(l(d.GetValue(),2,","))/8)+",",c(u(h.GetValue(),3,","))/8)+","+_(G.GetValue(),4,",")+","+p(m.GetValue(),5,",")+","+g(f.GetValue(),6,",")+","+N(b.GetValue(),7,",")+","+S(x.GetValue(),8,",")+","+I(y.GetValue(),9,",")+","+E(T.GetValue(),10,",")).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetVar(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13).GetVar(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15).GetVar(),g=e._GetNode(16).GetBoundMethod(),f=e._GetNode(17).GetVar(),N=e._GetNode(18).GetBoundMethod(),b=e._GetNode(19).GetVar();return()=>(Qj(Qj(Qj(Qj(t(n(s.GetValue(),0,","))/8,","),r(o(a.GetValue(),1,","))/8)+",",i(l(d.GetValue(),2,","))/8)+",",c(u(h.GetValue(),3,","))/8)+","+_(G.GetValue(),4,",")+","+p(m.GetValue(),5,",")+","+g(f.GetValue(),6,",")+","+N(b.GetValue(),7,",")).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetVar(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetVar(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetVar();return()=>(Qj(Qj(Qj(t(n(s.GetValue(),0,","))/8-4,",")+r(o.GetValue(),1,",")+",",a(i(l.GetValue(),2,","))/8)+",",d(c(u.GetValue(),3,","))/8)+","+h(_.GetValue(),4,",")+","+G(p.GetValue(),5,",")).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetVar(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetVar();return()=>(Qj(t(n(s.GetValue(),0,","))/8,",")+r(o.GetValue(),1,",")+","+a(i.GetValue(),2,",")+","+l(d.GetValue(),3,",")+","+c(u.GetValue(),4,",")+","+h(_.GetValue(),5,",")+","+G(p.GetValue(),6,",")).toString()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta23")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar(),o=e._GetNode(4);return()=>t(n.ExpObject("maps."+s.GetValue()+".layers."+r.GetValue()+".objects."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>t(n.GetValue(),"E["+s(r.GetValue(),"E",0)+"]","E["+o(a.GetValue(),0,-1)+"]")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n(s(r.GetValue(),"E",0),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar();return()=>t(n.GetValue(),"E["+s(r.GetValue(),"E",0)+"]","E["+o(a.GetValue(),0,1)+"]")},()=>",T[]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetVar(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11).GetVar();return()=>t(n.GetValue(),"T["+s(r.GetValue(),"T",0)+"]","T["+o(a.GetValue(),"T",0)+"]["+i(l(d.GetValue(),"E",0),8,",")+"]["+c(u(h.GetValue(),"E",0),10,",")+"]")},e=>{const t=e._GetNode(0);return()=>t.ExpObject(9)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5);return()=>t(n.GetValue(),"E["+s(r.GetValue(),"E",0)+"]","E["+o(a.ExpObject(),",")+"]")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta24")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),9)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t("39_37 - "+n(40,62,-1),s.ExpObject(r.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta25")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>t("35_34 - 36_35 - "+n(37,49,-2)+" - 50_48 - 51_48 - 52_49 - 53_49 - "+s(53,107,-4),r.ExpObject(o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta26.2")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),14)},()=>"2_TipsyTurtleD",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject("smw_turtled_cleanup"),s.ExpObject(r.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject(r.ExpObject()),o.GetValue(),","),"x")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t(n.ExpObject(s.ExpObject()),r.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n(s.ExpObject(r.ExpObject()),o.GetValue(),","),1,"x")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetVar();return()=>t(n(s(r.ExpObject(o.ExpObject()),a.GetValue(),","),0,"x"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>(t(n.GetValue())-19).toString()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar();return()=>Qj(t.GetValue(),"x")+n.GetValue()},()=>"2_Crystal",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>ek(Qj(t.GetValue()>=1?1:0,n.GetValue()<=7?1:0),Qj(s.GetValue()>=40?1:0,r.GetValue()<=46?1:0))},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()%4+1},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta29")},()=>"0,1,16,2,3,17,24,25,4,6,5,7,8,9,10,12,11,13,15,14,18,19,20,21,22,23,26,27,28,29,30,31",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>t(0,31,",")},()=>"crystalKeyConversion",()=>"Converting map music",e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".music.src"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("maps."+n.ExpObject()+".music.src")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject("maps."+r.ExpObject()+".music.dat"),2,","))},e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".fx.echo"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>Qj(t.ExpObject("maps."+n.ExpObject()+".fx.echo"),",2")},()=>"1,echo,1",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject("maps."+r.ExpObject()+".music.dat"),3,","))},e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".fx.muffle"},()=>"1,muffle,1,1,1",e=>{const t=e._GetNode(0);return()=>Qj("customMusic.Custom Music ",t.ExpObject())+".src"},e=>{const t=e._GetNode(0);return()=>"maps."+t.ExpObject()+".music.dat"},e=>{const t=e._GetNode(0);return()=>Qj("customMusic.Custom Music ",t.ExpObject())+".loop"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject("maps."+r.ExpObject()+".music.dat"),0,","))},e=>{const t=e._GetNode(0);return()=>Qj("customMusic.Custom Music ",t.ExpObject())+".vol"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject("maps."+r.ExpObject()+".music.dat"),1,","))},e=>{const t=e._GetNode(0);return()=>Qj("Custom Music ",t.ExpObject())},e=>{const t=e._GetNode(0);return()=>Qj("Custom Music ",t.ExpObject()+1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject("maps."+r.ExpObject()+".music"),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject("maps."+r.ExpObject()+".music"),2,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("maps."+s.ExpObject()+".music"))},()=>"Converting layer data",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t("-1",n.GetValue()*s.GetValue(),",")},()=>"Converting EditorObject extraValues & boss music data",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject(s.ExpObject()),"v8.beta29-bossMusic",0,r.ExpObject(),o.ExpObject().toString())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(s.ExpObject()),"v8.beta29-keyToWood",0,r.ExpObject(),"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(s.ExpObject()),"v8.beta29-platformWidthAndPalette",0,r.ExpObject(),"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(s.ExpObject()),"v8.beta29-booAndCheepCircleSize",0,r.ExpObject(),"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(s.ExpObject()),"v8.beta29-bulletAngle",0,r.ExpObject(),"")},()=>"Move layer data to new sub-object",()=>"dat",()=>"prop",e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>"maps."+t.GetValue()+".layers."+n.GetValue()+".tilemaps."+s.ExpObject()},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t.ExpObject("maps."+n.GetValue()+".layers."+s.GetValue()+"."+r.ExpObject())},()=>"Split Global tilemaps into dedicated smaller sheets",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_Global"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_Mushroom"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13),p=e._GetNode(14).GetVar();return()=>t("1_Mushroom","0",n.ExpObject(s.ExpObject()+".1_Global"),r(o.ExpObject("smas1_global_to_mush"),0," | "),a(i.ExpObject("smas1_global_to_mush"),1," | "),l(d(c.ExpObject("maps."+u.GetValue()+".size"),0,",")),h(_(G.ExpObject("maps."+p.GetValue()+".size"),1,",")))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_Island"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13),p=e._GetNode(14).GetVar();return()=>t("1_Island","0",n.ExpObject(s.ExpObject()+".1_Global"),r(o.ExpObject("smas1_global_to_islands"),0," | "),a(i.ExpObject("smas1_global_to_islands"),1," | "),l(d(c.ExpObject("maps."+u.GetValue()+".size"),0,",")),h(_(G.ExpObject("maps."+p.GetValue()+".size"),1,",")))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_GSemis"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13),p=e._GetNode(14).GetVar();return()=>t("1_Mushroom",n.ExpObject(s.ExpObject()+".1_Mushroom"),r.ExpObject(o.ExpObject()+".1_GSemis"),a(0,35,","),i(26,61,","),l(d(c.ExpObject("maps."+u.GetValue()+".size"),0,",")),h(_(G.ExpObject("maps."+p.GetValue()+".size"),1,",")))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_Forest"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13),p=e._GetNode(14).GetVar();return()=>t("1_Island",n.ExpObject(s.ExpObject()+".1_Island"),r.ExpObject(o.ExpObject()+".1_Forest"),a(66,109,",")+",143",i.ExpObject("smas1_forest_to_islands"),l(d(c.ExpObject("maps."+u.GetValue()+".size"),0,",")),h(_(G.ExpObject("maps."+p.GetValue()+".size"),1,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()+".1_Forest"),r(66,99,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(110,142,-44)+" - 143_-1 - 144_99 - 145_100 - 146_101 - 147_102",s.ExpObject(r.ExpObject()+".1_Forest"),0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_Artillery"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smas1_global_to_artillery"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_SignBase"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n(89,94,-89),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smas1_global_move-tiles"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()+"."+r.ExpObject()),o(5,94,","))},()=>"vinePalettes",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".1_Vine"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject(Qj("smas1_blocks_to_vine-",s())),r.ExpObject(o.ExpObject()+".1_Blocks"),1)},()=>"polePalettes",e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".1_Pole"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject(Qj("smas1_blocks_to_pole-",s())),r.ExpObject(o.ExpObject()+".1_Blocks"),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_Blocks"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject("smas1_blocks_move-tiles"),s.ExpObject(r.ExpObject()+".1_Blocks"),0)},()=>"forestPalette",e=>{const t=e._GetNode(0).GetBoundMethod();return()=>Qj("1_Forest",t())},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod();return()=>Qj(t.ExpObject()+".1_Island",n())},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smas1_forest_to_islands"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject()+"."+n.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()+"."+r.ExpObject()),o(66,99,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n(110,142,-44)+" - 143_-1 - 144_99 - 145_100 - 146_101 - 147_102",s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},()=>"smasWaterPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"1_Water"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".1_Water"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smas1_water_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"1_Waterfall"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".1_WaterF"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2);return()=>t.ExpObject(n.ExpObject()+"."+s.ExpObject())},()=>"smasLavaPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"1_Lava"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".1_Lava"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smas1_lava_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"1_LavaFall"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".1_LavaF"+n(s().toString(),"0","")},()=>"desertPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"1_DesertTemple"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".1_DesertT"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Turnip"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_global_to_turnip"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Bunting"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_global_to_bunting-g"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Bunting1"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_global_to_bunting-r"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Bunting2"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_global_to_bunting-b"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Bunting3"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_global_to_bunting-y"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Joints"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n(75,108,-75),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Artillery"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n(109,150,-109),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_SignBase"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n(151,162,-151),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_GlobalR"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t("207_0 - 208_1 - 209_2",n.ExpObject(s.ExpObject()+"."+r.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Global"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_global_move-tiles"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()+"."+r.ExpObject()),o(66,263,","))},()=>"smwWaterPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_Water"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_Water"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_water_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_DBWater"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_DBWater"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_dbwater_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_CWater"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_CWater"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_cwater_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_Waterfall"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_WaterF"+n(s().toString(),"0","")},()=>"smwLavaPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_Lava"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_Lava"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_lava_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_CLava"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_CLava"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_clava_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_LavaFall"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_LavaF"+n(s().toString(),"0","")},()=>"smwPoisonPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_Poison"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_Poison"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_poison_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_PoisonFall"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_PoisonF"+n(s().toString(),"0","")},()=>"smwCryoPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_Cryo"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_Cryo"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_cryo_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_CryoFall"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_CryoF"+n(s().toString(),"0","")},()=>"electricPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_Electric"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_Electric"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_electric_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Net"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_net_compact"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},()=>"sewerPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_SewerWater"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_SewerA"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_DesertBricks"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_DesertB"+n(s().toString(),"0","")},()=>"tipsyTurtlePalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_TipsyTurtle"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_Turtle"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_TipsyTurtleD"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_TurtleD"+n(s().toString(),"0","")},()=>"vinePalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_Vines"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_Vine"+n(s().toString(),"0","")},()=>"Converting SMAS SMB1 crystal tilemap keys",e=>{const t=e._GetNode(0),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4);return()=>Qj(t.ExpObject()+".1_Crystal_TEMP",n.ExpObject(s(r(o.ExpObject()),1,"|")))},()=>"1_Crystal_TEMP",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject()+"."+s.ExpObject(),"_TEMP","")},e=>{const t=e._GetNode(0);return()=>"music."+t.ExpObject()+".src"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject("music."+n.ExpObject()+".src")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject("music."+r.ExpObject()+".dat"),0,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n(s.ExpObject("music."+r.ExpObject()+".dat"),1,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("ver"),"v8.beta30")},()=>"Entryway data conversions",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod();return()=>t(n.GetValue(),",",s(),r(o.GetValue(),a()-1,","),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),7,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",",8,"2","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",",9,"1","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",",8,"3","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",",9,"7","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),8,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",",8)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",",6,"1","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),",",6,"","")},()=>"Tileset conversions (Snapshot 30)",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_MainDeco1"},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_MainDecoS"},e=>{const t=e._GetNode(0),n=e._GetNode(1);return()=>t.ExpObject(n.ExpObject()+".1_MainDeco1")},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_GlobalR"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject("smas1_global_global-r"),s.ExpObject(r.ExpObject()+".1_Global"),1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject(s.ExpObject()+".1_Global"),"1,2,3,4")},()=>"shipPalettes",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"1_Ship"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".1_ShipR"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smas1_ship_to_ship-r"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()+"."+r.ExpObject()),o(118,141,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n(142,154,-24),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()+"."+r.ExpObject()),o(131,175,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>"2_Ship"+t(n().toString(),"0","")},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject()+".2_ShipR"+n(s().toString(),"0","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n.ExpObject("smw_ship_to_ship-r"),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()+"."+r.ExpObject()),o(95,130,","))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t("131_103 - "+n(140,147,-45),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),0)},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()+"."+r.ExpObject()),o(104,147,","))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_DoorsB"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n(32,45,-32),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_DoorsB1"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4);return()=>t(n(46,59,-46),s.ExpObject(r.ExpObject()+"."+o.ExpObject()),1)},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_GHOuter"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13),p=e._GetNode(14).GetVar();return()=>t("2_GHOuter",n.ExpObject(s.ExpObject()+".2_GHOuter"),r.ExpObject(o.ExpObject()+".2_Doors"),a(60,81,","),i(54,75,","),l(d(c.ExpObject("maps."+u.GetValue()+".size"),0,",")),h(_(G.ExpObject("maps."+p.GetValue()+".size"),1,",")))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_GHOuter7"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13),p=e._GetNode(14).GetVar();return()=>t("2_GHOuter",n.ExpObject(s.ExpObject()+".2_GHOuter7"),r.ExpObject(o.ExpObject()+".2_Doors"),a(82,103,","),i(54,75,","),l(d(c.ExpObject("maps."+u.GetValue()+".size"),0,",")),h(_(G.ExpObject("maps."+p.GetValue()+".size"),1,",")))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".2_Doors"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod();return()=>t(n.ExpObject(s.ExpObject()+"."+r.ExpObject()),o(32,103,","))},()=>"1_SignBase",e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_MainDeco"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9),u=e._GetNode(10).GetVar(),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12).GetBoundMethod(),G=e._GetNode(13),p=e._GetNode(14).GetVar();return()=>t("1_MainDeco",n.ExpObject(s.ExpObject()+".1_MainDeco"),r.ExpObject(o.ExpObject()+".1_SignBase"),a(0,5,","),i(45,50,","),l(d(c.ExpObject("maps."+u.GetValue()+".size"),0,",")),h(_(G.ExpObject("maps."+p.GetValue()+".size"),1,",")))},()=>"1_Special",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11),_=e._GetNode(12).GetVar(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15),g=e._GetNode(16).GetVar();return()=>t("1_MainDeco",n.ExpObject(s.ExpObject()+".1_MainDeco"),r.ExpObject(o.ExpObject()+".1_Special"),a(i.ExpObject("smas1_special_to_maindeco"),0," | "),l(d.ExpObject("smas1_special_to_maindeco"),1," | "),c(u(h.ExpObject("maps."+_.GetValue()+".size"),0,",")),G(p(m.ExpObject("maps."+g.GetValue()+".size"),1,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11),_=e._GetNode(12).GetVar(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15),g=e._GetNode(16).GetVar();return()=>t("1_MainDecoS",n.ExpObject(s.ExpObject()+".1_MainDecoS"),r.ExpObject(o.ExpObject()+".1_Special"),a(i.ExpObject("smas1_special_to_maindeco-s"),0," | "),l(d.ExpObject("smas1_special_to_maindeco-s"),1," | "),c(u(h.ExpObject("maps."+_.GetValue()+".size"),0,",")),G(p(m.ExpObject("maps."+g.GetValue()+".size"),1,",")))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3),o=e._GetNode(4),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10).GetBoundMethod(),h=e._GetNode(11),_=e._GetNode(12).GetVar(),G=e._GetNode(13).GetBoundMethod(),p=e._GetNode(14).GetBoundMethod(),m=e._GetNode(15),g=e._GetNode(16).GetVar();return()=>t("1_Global",n.ExpObject(s.ExpObject()+".1_Global"),r.ExpObject(o.ExpObject()+".1_Special"),a(i.ExpObject("smas1_special_to_global"),0," | "),l(d.ExpObject("smas1_special_to_global"),1," | "),c(u(h.ExpObject("maps."+_.GetValue()+".size"),0,",")),G(p(m.ExpObject("maps."+g.GetValue()+".size"),1,",")))},e=>{const t=e._GetNode(0);return()=>t.ExpObject()+".1_Special"},()=>"EditorObject conversions (Snapshot 30)",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(s.ExpObject()),"v8.beta30-flameAngle",0,r.ExpObject(),"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(s.ExpObject()),"v8.beta30-boneAngle",0,r.ExpObject(),"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(s.ExpObject()),"v8.beta30-npcSkinDataUpdate",0,r.ExpObject(),"")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3);return()=>t(n.ExpObject(s.ExpObject()),"v8.beta30-influencedTagsUpdate",0,r.ExpObject(),"")},()=>"Updating extra values during conversion",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),"E",0),",")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetBoundMethod(),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetVar(),u=e._GetNode(10).GetVar();return()=>t.GetValue()?Qj(n.GetValue()+",",s(r(o.GetValue(),a.GetValue(),","))+i.GetValue()):l(d(c.GetValue(),0,","))+u.GetValue()},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetBoundMethod(),i=e._GetNode(6).GetVar();return()=>t.GetValue()?n.GetValue()+","+s(r.GetValue(),o.GetValue(),","):a(i.GetValue(),0,",")},()=>"Erase tilemap tiles from old release",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2);return()=>t(n.GetValue(),s.ExpObject().toString(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject(),"x")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),s(r.ExpObject(),o.GetValue(),"x"),",")},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2);return()=>t.GetValue()?Qj(n(s.ExpObject(),0,"x")+"x",-1):-1},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod();return()=>Qj(Qj(t.GetValue()?" - ":"",n("numbersToAdd"))+"_",s.GetValue()+r("numbersToAdd"))},()=>"Tilemap data conversion function",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue()," - ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),s.GetValue()," - ")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(n.GetValue(),s(r.GetValue(),"x")-1,"x")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetVar(),l=e._GetNode(7).GetVar();return()=>t(n.GetValue(),"x",s(r.GetValue(),"x")-1,o.ExpObject(a.GetValue(),i.GetValue()?"-1":l.GetValue()),"")},()=>"Merge tiles into other tilemap",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar();return()=>t(n.GetValue(),"x")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),1,"x"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue().toString(),s.GetValue(),",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>t(n(s.GetValue(),0,"x"))},()=>"Convert EditorObject data from old release",e=>{const t=e._GetNode(0);return()=>"containedItems."+t.ExpObject()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar(),a=e._GetNode(5).GetVar();return()=>t(n.ExpObject("containedItems."+s.ExpObject()),r.GetValue(),1,o.GetValue(),a.GetValue())},()=>"Snapshot 29 object conversions",()=>"v8.beta29-bossMusic",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("objID"),2)},()=>"k",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),",",s.GetValue(),".k","")},()=>"d",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),",",s.GetValue(),".d","")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetVar();return()=>"https://"+t(n(s.GetValue(),"U",r.GetValue()),0,"|")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s(r.GetValue(),"U",o.GetValue()),1,"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar(),o=e._GetNode(4).GetVar();return()=>t(n(s(r.GetValue(),"U",o.GetValue()),2,"|"))},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t(n.GetValue(),",",s.GetValue(),Qj("Custom Music ",r.ExpObject()),"")},()=>"v8.beta29-keyToWood",()=>"v8.beta29-platformWidthAndPalette",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetVar();return()=>t(n.GetValue(),",",1,(s(r(o.GetValue(),1,","))-1).toString(),"")},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-11},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-9},e=>{const t=e._GetNode(0).GetVar();return()=>t.GetValue()-22},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2).GetVar();return()=>t(n.GetValue(),",",0,s.GetValue().toString(),"")},()=>"v8.beta29-booAndCheepCircleSize",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetVar(),s=e._GetNode(2),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5).GetVar(),i=e._GetNode(6);return()=>t(n.GetValue(),",","e34"===s.ExpObject("objID")?4:1,(r(o(a.GetValue(),"e34"===i.ExpObject("objID")?4:1,","))/8).toString(),",")},()=>"v8.beta29-bulletAngle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("bullet",n.ExpObject("objID"))},e=>{const t=e._GetNode(0);return()=>Kj(t.ExpObject("angle"),18)},()=>"Snapshot 30 object conversions",()=>"v8.beta30-flameAngle",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t("linearFlame",n.ExpObject("objID"))},()=>"v8.beta30-boneAngle",e=>{const t=e._GetNode(0);return()=>Kj(t.ExpObject("visualID"),90)},()=>"v8.beta30-npcSkinDataUpdate",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2);return()=>t(n.ExpObject("extraValues"),",",9,s.ExpObject("visualID"),"")},e=>{const t=e._GetNode(0);return()=>qj(t.ExpObject("visualID"),8)},()=>"v8.beta30-influencedTagsUpdate",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3);return()=>t(n.ExpObject("extraValues"),",",s.GetValue(),r.ExpObject("tag"))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2),r=e._GetNode(3).GetVar();return()=>t.GetValue()?n(s.ExpObject()):r.GetValue()},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>t(n.ExpObject("M"),0,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3);return()=>","+t(n.ExpObject("M"),1,",")+","+s(r.ExpObject("M"),2,",")},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetVar(),r=e._GetNode(3).GetBoundMethod(),o=e._GetNode(4),a=e._GetNode(5).GetVar(),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7),d=e._GetNode(8).GetBoundMethod(),c=e._GetNode(9).GetBoundMethod(),u=e._GetNode(10),h=e._GetNode(11).GetBoundMethod(),_=e._GetNode(12),G=e._GetNode(13).GetVar();return()=>Qj(","+t(n.ExpObject("M"),3-2*s.GetValue(),",")+","+r(o.ExpObject("M"),4-2*a.GetValue(),",")+",",i(l.ExpObject("A"))/d(c(u.ExpObject("M"),0,",")))+","+h(_.ExpObject("M"),5-2*G.GetValue(),",")},()=>"E",e=>{const t=e._GetNode(0);return()=>Qj(",E[",t.ExpObject("E"))+"]"},e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1);return()=>",C["+t(n.ExpObject("C"),1)+"]"},e=>{const t=e._GetNode(0);return()=>Qj(",C[",t.ExpObject("C"))+"]"},e=>{const t=e._GetNode(0);return()=>Qj(",T[",t.ExpObject("T"))+"]"},()=>"J",()=>"J.0",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7);return()=>",U["+t(n.ExpObject("J.0.src"),s(r.ExpObject("J.0.src"))-8)+"|"+o(a.ExpObject("J.0.dat"),0,",")+"|"+i(l.ExpObject("J.0.dat"),1,",")+"]"},()=>",U[]",()=>"J.1",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3),o=e._GetNode(4).GetBoundMethod(),a=e._GetNode(5),i=e._GetNode(6).GetBoundMethod(),l=e._GetNode(7);return()=>"["+t(n.ExpObject("J.1.src"),s(r.ExpObject("J.1.src"))-8)+"|"+o(a.ExpObject("J.1.dat"),0,",")+"|"+i(l.ExpObject("J.1.dat"),1,",")+"]"},()=>"[h4]Keyboard & Controller input checks[/h4]",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>t(0,n(s(r.GetValue(),1,"_")))},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetVar();return()=>Math.abs(t.GetValue())>=n(0)?s.GetValue():0},e=>{const t=e._GetNode(0).GetVar(),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod(),r=e._GetNode(3).GetVar();return()=>Math.abs(Math.sign(t.GetValue())+n(s(r.GetValue(),2,"_")))},e=>{const t=e._GetNode(0).GetVar();return()=>"0_"+t.GetValue()},e=>{const t=e._GetNode(0);return()=>"0_"+t.ExpObject()},()=>"Controller / Gamepad detection",e=>{const t=e._GetNode(0).GetBoundMethod(),n=e._GetNode(1).GetBoundMethod();return()=>t(n()-1)},e=>{const t=e._GetNode(0),n=e._GetNode(1).GetBoundMethod(),s=e._GetNode(2).GetBoundMethod();return()=>t.ExpObject(n(s()-1))},()=>"Gamepad detected! Set up the keybinds for this controller in the keybind menu.",()=>"gamepadSetupNotice",()=>"Gamepad",()=>"Gamepad support functions",e=>{const t=e._GetNode(0);return()=>t.ExpInstVar()?33:50},()=>"Mouse + Touch inputs & simulation"]}}}),import_c3runtime=__toESM(require_c3runtime()),C32=self.C3;self.C3_GetObjectRefTable=function(){return[C32.Plugins.Browser,C32.Plugins.Touch,C32.Plugins.Mouse,C32.Plugins.Keyboard,C32.Plugins.gamepad,C32.Plugins.LocalStorage,C32.Plugins.AJAX,C32.Plugins.BinaryData,C32.Plugins.Audio,C32.Plugins.Dictionary,C32.Plugins.GameRecorder,C32.Plugins.Date,C32.Plugins.DrawingCanvas,C32.Plugins.PlatformInfo,C32.Plugins.Internationalization,C32.Plugins.Clipboard,C32.Plugins.CSV,C32.Plugins.TiledBg,C32.Plugins.Sprite,C32.Plugins.NinePatch,C32.Behaviors.Tween,C32.Behaviors.Timer,C32.Plugins.SVGPicture,C32.Plugins.Spritefont2,C32.Plugins.Text,C32.Behaviors.Sin,C32.Behaviors.Pin,C32.Behaviors.DragnDrop,C32.Plugins.TextBox,C32.Plugins.List,C32.Behaviors.Fade,C32.Behaviors.Bullet,C32.Behaviors.Platform,C32.Plugins.Shape3D,C32.Plugins.Arr,C32.Plugins.Json,C32.Plugins.Tilemap,C32.Behaviors.LOS,C32.Behaviors.EightDir,C32.Behaviors.Flash,C32.Behaviors.Orbit,C32.Behaviors.MoveTo,C32.Behaviors.Rotate,C32.Behaviors.custom,C32.Plugins.video,C32.Behaviors.bound,C32.Behaviors.solid,C32.Behaviors.Follow,C32.Plugins.System.Cnds.OnLayoutStart,C32.Plugins.System.Exps.scrollx,C32.Plugins.System.Exps.scrolly,C32.Plugins.System.Cnds.PickLastCreated,C32.Plugins.Spritefont2.Acts.SetOpacity,C32.Behaviors.Tween.Acts.TweenOneProperty,C32.Plugins.System.Acts.Wait,C32.Behaviors.Tween.Cnds.IsPlaying,C32.Behaviors.Tween.Acts.StopAllTweens,C32.Behaviors.Tween.Cnds.OnTweensFinished,C32.Plugins.Keyboard.Cnds.OnKey,C32.Plugins.Touch.Cnds.OnTouchEnd,C32.Plugins.System.Acts.SetVar,C32.Plugins.System.Cnds.PickAll,C32.Plugins.Spritefont2.Cnds.IsOnLayer,C32.Plugins.System.Acts.GoToLayout,C32.Plugins.Tilemap.Acts.SetInstanceVar,C32.Behaviors.solid.Acts.SetTags,C32.Plugins.System.Cnds.IsGroupActive,C32.Plugins.Json.Acts.Parse,C32.Plugins.Sprite.Acts.Destroy,C32.Plugins.Arr.Acts.SetSize,C32.Plugins.Dictionary.Acts.AddKey,C32.Plugins.Arr.Acts.Clear,C32.Plugins.System.Acts.SetTimescale,C32.Plugins.Sprite.Acts.SetAnimFrame,C32.Plugins.System.Acts.SetBoolVar,C32.Plugins.Tilemap.Acts.SetBoolInstanceVar,C32.Plugins.Mouse.Acts.SetCursorSprite,C32.Plugins.System.Cnds.EvaluateExpression,C32.Plugins.Date.Exps.GetDate,C32.Plugins.Date.Exps.Now,C32.Plugins.Date.Exps.GetMonth,C32.Plugins.System.Cnds.Else,C32.Plugins.System.Cnds.ForEach,C32.Plugins.Sprite.Acts.SetBoolInstanceVar,C32.Plugins.Spritefont2.Cnds.CompareInstanceVar,C32.Plugins.Spritefont2.Acts.SetText,C32.Plugins.System.Exps.projectversion,C32.Plugins.System.Cnds.CompareVar,C32.Plugins.Spritefont2.Acts.AppendText,C32.Plugins.System.Cnds.Compare,C32.Behaviors.Bullet.Acts.SetAngleOfMotion,C32.Plugins.Dictionary.Cnds.CompareValue,C32.Plugins.Sprite.Acts.SetVisible,C32.Plugins.Spritefont2.Cnds.OnCreated,C32.Plugins.Spritefont2.Acts.SetEffect,C32.Plugins.Audio.Cnds.OnEnded,C32.Plugins.Audio.Acts.Seek,C32.Plugins.System.Acts.SetLayerScroll,C32.Plugins.NinePatch.Exps.X,C32.Plugins.NinePatch.Exps.Y,C32.Plugins.Internationalization.Exps.Lookup,C32.Plugins.NinePatch.Exps.UID,C32.Plugins.NinePatch.Acts.SetOpacity,C32.Plugins.System.Acts.CreateObjectByName,C32.Plugins.NinePatch.Acts.SetInstanceVar,C32.Plugins.NinePatch.Exps.LayerName,C32.Plugins.NinePatch.Acts.SetHeight,C32.Plugins.NinePatch.Cnds.PickByUID,C32.Plugins.System.Acts.CreateObject,C32.Plugins.Sprite.Acts.ZMoveToObject,C32.Plugins.Sprite.Acts.SetAnim,C32.Plugins.Sprite.Acts.SetAngle,C32.Plugins.Sprite.Acts.SetInstanceVar,C32.Plugins.NinePatch.Acts.AddChild,C32.Plugins.Sprite.Acts.SetOpacity,C32.Plugins.List.Acts.Destroy,C32.Plugins.TextBox.Acts.Destroy,C32.Plugins.NinePatch.Acts.Destroy,C32.Plugins.TiledBg.Acts.Destroy,C32.Plugins.Sprite.Cnds.IsOnLayer,C32.Plugins.NinePatch.Cnds.CompareInstanceVar,C32.Plugins.Spritefont2.Acts.Destroy,C32.Plugins.NinePatch.Cnds.IsBoolInstanceVarSet,C32.Plugins.Mouse.Cnds.IsOverObject,C32.Plugins.NinePatch.Acts.SetBoolInstanceVar,C32.Plugins.Spritefont2.Acts.SetDefaultColor,C32.Plugins.Sprite.Cnds.CompareInstanceVar,C32.Behaviors.Tween.Acts.StopTweens,C32.Behaviors.Tween.Acts.TweenTwoProperties,C32.Plugins.Sprite.Exps.ImageWidth,C32.Plugins.Sprite.Exps.ImageHeight,C32.Plugins.Touch.Cnds.OnTouchObject,C32.Behaviors.Timer.Acts.StartTimer,C32.Plugins.Spritefont2.Acts.SetInstanceVar,C32.Plugins.Sprite.Acts.RemoveFromParent,C32.Behaviors.Platform.Acts.SetEnabled,C32.Behaviors.Platform.Acts.SetVectorY,C32.Plugins.System.Exps.random,C32.Behaviors.Platform.Acts.SetVectorX,C32.Behaviors.Timer.Cnds.OnTimer,C32.Plugins.NinePatch.Acts.MoveToLayer,C32.Plugins.System.Acts.GoToLayoutByName,C32.Plugins.Sprite.Exps.UID,C32.Plugins.NinePatch.Acts.SetPos,C32.Plugins.NinePatch.Acts.SetSize,C32.Plugins.NinePatch.Acts.SetAngle,C32.Behaviors.Timer.Cnds.IsTimerRunning,C32.Plugins.Sprite.Exps.Y,C32.Plugins.Spritefont2.Cnds.HasTagAtPosition,C32.Plugins.Mouse.Exps.X,C32.Plugins.Mouse.Exps.Y,C32.Plugins.Mouse.Cnds.OnClick,C32.Plugins.Browser.Acts.GoToURLWindow,C32.Plugins.System.Cnds.TriggerOnce,C32.Plugins.Spritefont2.Acts.SetHeight,C32.Plugins.Spritefont2.Exps.TextHeight,C32.Plugins.Spritefont2.Acts.SetY,C32.Plugins.Spritefont2.Exps.Y,C32.Plugins.Spritefont2.Exps.Height,C32.Plugins.Internationalization.Exps.Locale,C32.Plugins.System.Cnds.OnLayoutEnd,C32.Plugins.System.Cnds.CompareBoolVar,C32.Plugins.Sprite.Exps.X,C32.Plugins.Sprite.Exps.BBoxBottom,C32.Plugins.Sprite.Exps.LayerName,C32.Plugins.Sprite.Exps.Width,C32.Plugins.Spritefont2.Acts.SetCharacterSpacing,C32.Plugins.System.Cnds.Repeat,C32.Plugins.Sprite.Exps.ImagePointX,C32.Plugins.Sprite.Exps.ImagePointY,C32.Plugins.Sprite.Acts.AddChild,C32.Plugins.System.Exps.tokenat,C32.Plugins.System.Acts.AddVar,C32.Plugins.Sprite.Acts.SetEffectEnabled,C32.Behaviors.Tween.Acts.TweenValue,C32.Plugins.System.Acts.SetLayerEffectEnabled,C32.Plugins.Sprite.Exps.ObjectTypeName,C32.Plugins.Sprite.Cnds.IsAnimPlaying,C32.Plugins.Sprite.Acts.Spawn,C32.Plugins.Sprite.Exps.AnimationName,C32.Plugins.Sprite.Exps.AnimationFrame,C32.Plugins.Sprite.Acts.SetDefaultColor,C32.Plugins.Sprite.Acts.MoveToBottom,C32.Plugins.Sprite.Cnds.PickByUID,C32.Plugins.Spritefont2.Acts.MoveToBottom,C32.Plugins.Spritefont2.Acts.SetSize,C32.Plugins.Spritefont2.Exps.TextWidth,C32.Plugins.Sprite.Acts.SetZElevation,C32.Plugins.Sprite.Acts.SetMirrored,C32.Behaviors.Sin.Acts.SetMagnitude,C32.Behaviors.Sin.Exps.Magnitude,C32.Plugins.System.Acts.SetLayerEffectParam,C32.Behaviors.Tween.Exps.Value,C32.Plugins.Sprite.Acts.SetEffectParam,C32.Plugins.System.Cnds.PickOverlappingPoint,C32.Plugins.Touch.Exps.X,C32.Plugins.Touch.Exps.Y,C32.Plugins.Sprite.Cnds.PickDistance,C32.Plugins.System.Exps.find,C32.Plugins.System.Exps.tokencount,C32.Plugins.Sprite.Acts.ToggleBoolInstanceVar,C32.Plugins.Sprite.Cnds.IsBoolInstanceVarSet,C32.Plugins.Sprite.Exps.PickedCount,C32.Plugins.Sprite.Cnds.HasParent,C32.Plugins.Sprite.Cnds.IsOverlappingOffset,C32.Behaviors.Platform.Cnds.IsOnFloor,C32.Plugins.System.Exps.len,C32.Plugins.System.Exps.mid,C32.Plugins.System.Exps.loopindex,C32.Plugins.System.Acts.SetObjectTimescale,C32.Plugins.System.Exps.timescale,C32.Plugins.Sprite.Exps.BBoxMidX,C32.Plugins.System.Acts.RestoreObjectTimescale,C32.Plugins.Json.Acts.SetValue,C32.Plugins.Sprite.Acts.SetSize,C32.Plugins.Date.Exps.GetYear,C32.Plugins.System.Exps.viewportleft,C32.Plugins.System.Exps.viewportright,C32.Behaviors.Sin.Acts.SetMovement,C32.Behaviors.Sin.Acts.SetPeriod,C32.Behaviors.Sin.Acts.SetEnabled,C32.Plugins.Sprite.Exps.Count,C32.Plugins.Sprite.Exps.BBoxLeft,C32.Plugins.Sprite.Exps.BBoxRight,C32.Plugins.Sprite.Exps.BBoxTop,C32.Behaviors.Platform.Acts.SetGravity,C32.Plugins.Sprite.Cnds.IsMirrored,C32.Plugins.Tilemap.Cnds.CompareInstanceVar,C32.Behaviors.Sin.Acts.SetPhase,C32.Plugins.Sprite.Cnds.OnCollision,C32.Plugins.Sprite.Cnds.CompareY,C32.Plugins.NinePatch.Exps.Count,C32.Plugins.System.Exps.int,C32.Plugins.Sprite.Cnds.PickChildren,C32.Plugins.LocalStorage.Acts.CheckItemExists,C32.Plugins.Browser.Acts.LoadStyleSheet,C32.Plugins.Arr.Acts.Destroy,C32.Plugins.Dictionary.Acts.Destroy,C32.Plugins.Json.Acts.Destroy,C32.Plugins.LocalStorage.Cnds.OnItemMissing,C32.Plugins.LocalStorage.Cnds.OnItemExists,C32.Plugins.Arr.Acts.JSONLoad,C32.Plugins.LocalStorage.Exps.ItemValue,C32.Plugins.Dictionary.Acts.JSONLoad,C32.Plugins.Dictionary.Cnds.HasKey,C32.Plugins.Dictionary.Exps.Get,C32.Plugins.Dictionary.Cnds.ForEachKey,C32.Plugins.Dictionary.Exps.CurrentKey,C32.Plugins.Dictionary.Acts.DeleteKey,C32.Plugins.System.Cnds.EveryTick,C32.Plugins.System.Exps.loadingprogress,C32.Plugins.Dictionary.Exps.AsJSON,C32.Plugins.Dictionary.Exps.UID,C32.Plugins.Dictionary.Acts.SetKey,C32.Plugins.System.Exps.left,C32.Plugins.Internationalization.Acts.SetLocale,C32.Plugins.Internationalization.Exps.DefaultLocale,C32.Plugins.System.Exps.uppercase,C32.Plugins.Arr.Acts.SetXY,C32.Plugins.Arr.Cnds.ArrForEach,C32.Plugins.Arr.Cnds.CompareXY,C32.Plugins.Arr.Exps.CurX,C32.Plugins.Arr.Exps.CurY,C32.Plugins.Sprite.Exps.AnimationFrameCount,C32.Plugins.System.Cnds.PickRandom,C32.Behaviors.Fade.Acts.StartFade,C32.Plugins.System.Acts.MapFunction,C32.Plugins.AJAX.Acts.RequestFile,C32.Plugins.AJAX.Acts.Request,C32.Plugins.AJAX.Cnds.OnComplete,C32.Plugins.AJAX.Exps.LastData,C32.Plugins.Arr.Acts.SetX,C32.Plugins.Internationalization.Acts.LoadFromJSON,C32.Plugins.Dictionary.Exps.KeyCount,C32.Plugins.System.Cnds.For,C32.Plugins.Json.Exps.ToCompactString,C32.Plugins.System.Acts.SetLayerBackground,C32.Plugins.TextBox.Acts.SetInstanceVar,C32.Plugins.TextBox.Exps.Text,C32.Plugins.TextBox.Acts.SetCSSStyle,C32.Plugins.Audio.Acts.StopAll,C32.Plugins.TextBox.Cnds.OnCreated,C32.Plugins.TextBox.Cnds.CompareText,C32.Plugins.TextBox.Acts.SetText,C32.Plugins.System.Exps.trim,C32.Plugins.NinePatch.Acts.SetY,C32.Plugins.Arr.Cnds.CompareSize,C32.Plugins.Json.Exps.Get,C32.Plugins.Json.Cnds.HasKey,C32.Plugins.Sprite.Acts.SetAnimSpeed,C32.Plugins.Sprite.Acts.SetEffect,C32.Plugins.System.Exps.rgb,C32.Plugins.Sprite.Cnds.OnCreated,C32.Plugins.Sprite.Exps.Height,C32.Plugins.TiledBg.Cnds.CompareInstanceVar,C32.Plugins.Sprite.Acts.SetY,C32.Plugins.System.Exps.layerscrolly,C32.Plugins.gamepad.Cnds.OnButtonIndexDown,C32.Plugins.Clipboard.Acts.RequestPasteText,C32.Plugins.TextBox.Acts.SetFocus,C32.Plugins.Clipboard.Cnds.OnPasteText,C32.Plugins.Clipboard.Exps.PastedText,C32.Plugins.Spritefont2.Acts.SetVAlign,C32.Plugins.TiledBg.Acts.SetPos,C32.Plugins.TiledBg.Exps.X,C32.Plugins.System.Exps.dt,C32.Plugins.TiledBg.Exps.Y,C32.Plugins.TiledBg.Cnds.CompareX,C32.Plugins.NinePatch.Cnds.PickChildren,C32.Plugins.NinePatch.Exps.Width,C32.Plugins.NinePatch.Exps.BBoxLeft,C32.Plugins.TextBox.Cnds.OnTextChanged,C32.Plugins.Clipboard.Acts.CopyText,C32.Plugins.TextBox.Cnds.CompareInstanceVar,C32.Plugins.Audio.Acts.Preload,C32.Plugins.Spritefont2.Cnds.PickParent,C32.Plugins.TiledBg.Acts.SetSize,C32.Plugins.Spritefont2.Exps.Text,C32.Plugins.TextBox.Acts.SetPlaceholder,C32.Plugins.Date.Exps.GetHours,C32.Plugins.TiledBg.Acts.SetEffectEnabled,C32.Plugins.Audio.Cnds.PreloadsComplete,C32.Plugins.Audio.Acts.Play,C32.Plugins.Audio.Acts.FadeVolume,C32.Plugins.Arr.Cnds.CompareX,C32.Plugins.Arr.Exps.At,C32.Plugins.NinePatch.Acts.SetDefaultColor,C32.Plugins.Sprite.Acts.SetX,C32.Plugins.Keyboard.Cnds.IsKeyDown,C32.Plugins.Mouse.Cnds.OnWheel,C32.Plugins.Sprite.Cnds.CompareFrame,C32.Plugins.BinaryData.Exps.GetURL,C32.Plugins.Sprite.Cnds.OnURLFailed,C32.Plugins.Sprite.Cnds.OnURLLoaded,C32.Plugins.BinaryData.Acts.SetFromText,C32.Plugins.AJAX.Acts.SetResponseBinary,C32.Plugins.Sprite.Acts.LoadURL,C32.Plugins.NinePatch.Exps.Height,C32.Plugins.Internationalization.Exps.LookupPlural,C32.Plugins.Dictionary.Cnds.IsBoolInstanceVarSet,C32.Plugins.Sprite.Cnds.IsOnScreen,C32.Plugins.Sprite.Acts.SetWidth,C32.Plugins.NinePatch.Acts.SetEffect,C32.Plugins.NinePatch.Acts.MoveToTop,C32.Plugins.Sprite.Cnds.CompareX,C32.Plugins.List.Cnds.OnSelectionChanged,C32.Plugins.List.Cnds.CompareInstanceVar,C32.Plugins.List.Exps.SelectedIndex,C32.Plugins.LocalStorage.Acts.SetItem,C32.Plugins.Arr.Exps.AsJSON,C32.Plugins.LocalStorage.Cnds.OnItemSet,C32.JavaScriptInEvents.LevelSelectEvents_Event141_Act7,C32.Plugins.TiledBg.Cnds.PickByUID,C32.Plugins.TiledBg.Exps.UID,C32.Plugins.Dictionary.Acts.Clear,C32.Plugins.LocalStorage.Acts.RemoveItem,C32.Plugins.LocalStorage.Cnds.OnItemRemoved,C32.Plugins.Arr.Exps.Height,C32.Plugins.Browser.Acts.InvokeDownloadString,C32.Plugins.Json.Cnds.ForEach,C32.Plugins.Json.Exps.CurrentKey,C32.Plugins.Json.Acts.DeleteKey,C32.Plugins.System.Acts.SetFunctionReturnValue,C32.Plugins.TiledBg.Exps.LayerName,C32.Plugins.TextBox.Cnds.IsBoolInstanceVarSet,C32.Plugins.TextBox.Acts.SetBoolInstanceVar,C32.Plugins.Audio.Exps.PlaybackTime,C32.Plugins.System.Acts.ScrollY,C32.Plugins.Audio.Acts.Stop,C32.Plugins.System.Acts.Scroll,C32.Plugins.System.Acts.SetLayerOpacity,C32.Plugins.System.Acts.LoadObjectTexturesByName,C32.Plugins.System.Exps.replace,C32.Plugins.TiledBg.Exps.Width,C32.Plugins.TiledBg.Exps.Height,C32.Plugins.System.Acts.WaitForPreviousActions,C32.Plugins.System.Cnds.IsLoadingImages,C32.Plugins.PlatformInfo.Exps.CanvasDeviceWidth,C32.Plugins.System.Acts.Signal,C32.Behaviors.LOS.Acts.SetRange,C32.Plugins.Arr.Acts.Push,C32.Plugins.Arr.Cnds.IsBoolInstanceVarSet,C32.Plugins.Arr.Acts.SetBoolInstanceVar,C32.Plugins.System.Exps.float,C32.Plugins.Json.Cnds.CompareValue,C32.Plugins.System.Acts.SetLayerForceOwnTexture,C32.Plugins.Arr.Acts.SplitString,C32.Plugins.System.Cnds.IsValueType,C32.Plugins.Tilemap.Cnds.PickByUID,C32.Plugins.Tilemap.Exps.UID,C32.Plugins.Tilemap.Cnds.IsBoolInstanceVarSet,C32.Plugins.Arr.Acts.SetInstanceVar,C32.Plugins.Tilemap.Exps.ObjectTypeName,C32.Plugins.System.Exps.right,C32.Plugins.Tilemap.Acts.SetVisible,C32.Plugins.Arr.Acts.Delete,C32.Plugins.Arr.Exps.Width,C32.Plugins.Arr.Exps.UID,C32.Plugins.System.Acts.SetFramerateMinMax,C32.Plugins.NinePatch.Acts.SetZElevation,C32.Plugins.Json.Cnds.CompareType,C32.Plugins.Dictionary.Exps.GetDefault,C32.Plugins.Audio.Acts.SetPlaybackRate,C32.Plugins.TiledBg.Acts.SetEffect,C32.Plugins.Json.Acts.SetObject,C32.Behaviors.Timer.Exps.CurrentTime,C32.Plugins.Dictionary.Cnds.IsEmpty,C32.Plugins.Dictionary.Exps.CurrentValue,C32.Plugins.Arr.Cnds.IsEmpty,C32.Plugins.TiledBg.Exps.Count,C32.Plugins.Tilemap.Exps.TilesJSON,C32.Plugins.Arr.Cnds.Contains,C32.Plugins.Dictionary.Acts.SetInstanceVar,C32.Plugins.System.Exps.wallclocktime,C32.Plugins.Audio.Acts.RemoveEffects,C32.Plugins.System.Acts.RestartLayout,C32.Plugins.Browser.Acts.Reload,C32.Plugins.System.Acts.SubVar,C32.Plugins.Browser.Cnds.IsOnline,C32.Plugins.Audio.Acts.PreloadByName,C32.Plugins.Audio.Acts.AddRemoteURL,C32.Plugins.Json.Exps.GetAsCompactString,C32.Plugins.Json.Acts.SetPath,C32.Plugins.Json.Exps.Path,C32.Plugins.System.Exps.imageloadingprogress,C32.Plugins.Sprite.Acts.SetCollisions,C32.Plugins.Sprite.Cnds.OnAnimFinished,C32.Plugins.Sprite.Exps.AnimationSpeed,C32.Behaviors.Platform.Exps.Gravity,C32.Behaviors.Pin.Acts.PinByImagePoint,C32.Plugins.Sprite.Cnds.IsCollisionEnabled,C32.Behaviors.Platform.Cnds.IsEnabled,C32.Behaviors.Platform.Cnds.IsByWall,C32.Plugins.Sprite.Cnds.PickParent,C32.Plugins.Sprite.Cnds.IsOverlapping,C32.Behaviors.Platform.Cnds.IsFalling,C32.Behaviors.Platform.Exps.VectorY,C32.Plugins.Sprite.Cnds.OnFrameChanged,C32.Plugins.Sprite.Acts.SetPos,C32.Behaviors.Platform.Exps.VectorX,C32.Behaviors.Timer.Acts.StopTimer,C32.Behaviors.Platform.Acts.SetMaxSpeed,C32.Behaviors.Platform.Cnds.IsMoving,C32.Plugins.Sprite.Acts.StopAnim,C32.Plugins.Sprite.Acts.StartAnim,C32.Behaviors.Timer.Acts.StopAllTimers,C32.Plugins.Sprite.Acts.SubInstanceVar,C32.Behaviors.Platform.Cnds.OnFall,C32.Plugins.Sprite.Exps.BBoxMidY,C32.Behaviors.Timer.Cnds.IsTimerPaused,C32.Behaviors.Timer.Acts.PauseResumeTimer,C32.Plugins.System.Exps.lowercase,C32.Behaviors.Platform.Acts.SetMaxFallSpeed,C32.Behaviors.Platform.Exps.GravityAngle,C32.Plugins.Sprite.Acts.SetPosToObject,C32.Behaviors.Platform.Acts.SetGravityAngle,C32.Plugins.Sprite.Acts.SetHeight,C32.Plugins.Sprite.Acts.RotateClockwise,C32.Plugins.Arr.Cnds.CompareInstanceVar,C32.Plugins.Sprite.Acts.AddInstanceVar,C32.Plugins.System.Exps.choose,C32.Plugins.Sprite.Exps.ZIndex,C32.Behaviors.Tween.Exps.Progress,C32.Plugins.Sprite.Acts.RemoveChild,C32.Plugins.Sprite.Exps.Angle,C32.Plugins.Sprite.Exps.dt,C32.Behaviors.Pin.Acts.Unpin,C32.Behaviors.MoveTo.Acts.MoveToPosition,C32.Behaviors.Pin.Acts.PinByDistance,C32.Behaviors.Pin.Acts.SetPinDistance,C32.Behaviors.MoveTo.Acts.Stop,C32.Plugins.System.Exps.max,C32.Plugins.System.Exps.min,C32.Behaviors.Platform.Cnds.CompareSpeed,C32.Behaviors.EightDir.Cnds.IsEnabled,C32.Behaviors.EightDir.Acts.SetVectorX,C32.Plugins.Sprite.Acts.MoveToLayer,C32.Plugins.System.Exps.anglediff,C32.Plugins.System.Cnds.IsBetweenAngles,C32.Plugins.Sprite.Cnds.OnAnyAnimFinished,C32.Behaviors.Bullet.Acts.SetSpeed,C32.Behaviors.Platform.Cnds.OnLand,C32.Plugins.Sprite.Acts.MoveAtAngle,C32.Plugins.Sprite.Cnds.CompareAnimSpeed,C32.Plugins.Tilemap.Exps.PositionToTileY,C32.Plugins.Tilemap.Exps.Count,C32.Behaviors.Platform.Exps.JumpStrength,C32.Plugins.Sprite.Cnds.IsVisible,C32.Behaviors.Timer.Exps.Duration,C32.Plugins.System.Exps.anglelerp,C32.Plugins.System.Cnds.Every,C32.Plugins.System.Cnds.While,C32.Plugins.NinePatch.Acts.ZMoveToObject,C32.Plugins.NinePatch.Acts.SetWidth,C32.Plugins.Sprite.Cnds.IsBetweenAngles,C32.Plugins.Sprite.Acts.SetFlipped,C32.Plugins.Sprite.Acts.SetSolidCollisionFilter,C32.Behaviors.Tween.Acts.PauseTweens,C32.Behaviors.Tween.Cnds.IsPaused,C32.Behaviors.Tween.Acts.ResumeTweens,C32.Plugins.Tilemap.Exps.LayerNumber,C32.Plugins.Sprite.Exps.LayerNumber,C32.Plugins.System.Cnds.ForEachOrdered,C32.Plugins.Tilemap.Exps.ZIndex,C32.Plugins.Tilemap.Cnds.CompareTileAt,C32.Plugins.Tilemap.Exps.PositionToTileX,C32.Plugins.Tilemap.Acts.AddChild,C32.Behaviors.Fade.Acts.SetWaitTime,C32.Behaviors.solid.Acts.SetEnabled,C32.Behaviors.Sin.Cnds.IsEnabled,C32.Plugins.Sprite.Acts.SetScale,C32.Behaviors.Bullet.Acts.SetGravity,C32.Behaviors.Bullet.Acts.SetEnabled,C32.Behaviors.Bullet.Exps.AngleOfMotion,C32.Behaviors.Bullet.Cnds.CompareTravelled,C32.Behaviors.Bullet.Acts.SetDistanceTravelled,C32.Plugins.Sprite.Cnds.PickInstVarHiLow,C32.Plugins.Sprite.Cnds.OnDestroyed,C32.Plugins.Tilemap.Cnds.PickChildren,C32.Plugins.Tilemap.Acts.SetSize,C32.Plugins.Tilemap.Exps.Width,C32.Plugins.Tilemap.Exps.Height,C32.Plugins.Tilemap.Acts.LoadFromJSON,C32.Plugins.Tilemap.Exps.LayerName,C32.Plugins.Tilemap.Exps.X,C32.Plugins.Tilemap.Exps.Y,C32.Plugins.Tilemap.Cnds.PickParent,C32.Plugins.Tilemap.Exps.BBoxBottom,C32.Behaviors.LOS.Cnds.HasLOSToPosition,C32.Behaviors.Pin.Cnds.IsPinned,C32.Behaviors.Pin.Acts.PinByProperties,C32.Behaviors.EightDir.Acts.SetDeceleration,C32.Behaviors.EightDir.Acts.SetEnabled,C32.Behaviors.EightDir.Exps.VectorX,C32.Behaviors.EightDir.Exps.VectorY,C32.Behaviors.EightDir.Acts.SetVectorY,C32.Plugins.Sprite.Exps.ZElevation,C32.Behaviors.EightDir.Exps.Speed,C32.Behaviors.EightDir.Exps.MovingAngle,C32.Behaviors.Platform.Exps.MaxFallSpeed,C32.Plugins.System.Cnds.PickNth,C32.Behaviors.Tween.Acts.SetValuePropertyTweensEndValue,C32.Behaviors.Orbit.Acts.SetEnabled,C32.Behaviors.Orbit.Acts.SetRadius,C32.Behaviors.Flash.Acts.Flash,C32.Behaviors.Tween.Acts.SetOnePropertyTweensEndValue,C32.Behaviors.Follow.Acts.SetEnabled,C32.Behaviors.Orbit.Acts.SetTarget,C32.Behaviors.Orbit.Acts.SetOffsetAngle,C32.Behaviors.Platform.Exps.Speed,C32.Behaviors.Platform.Exps.MovingAngle,C32.Behaviors.EightDir.Acts.Stop,C32.Behaviors.Flash.Cnds.OnFlashEnded,C32.Behaviors.Follow.Acts.SetDelay,C32.Behaviors.Follow.Acts.SetMaxDelay,C32.Behaviors.Follow.Exps.Delay,C32.Behaviors.Follow.Acts.SetMode,C32.Behaviors.Follow.Acts.FollowObject,C32.Behaviors.Sin.Exps.Value,C32.Plugins.Tilemap.Acts.RemoveChild,C32.Plugins.Arr.Acts.Shuffle,C32.Behaviors.EightDir.Acts.SetAcceleration,C32.Behaviors.EightDir.Exps.Acceleration,C32.Behaviors.custom.Acts.PushOutSolid,C32.Plugins.Sprite.Acts.MoveToTop,C32.Plugins.NinePatch.Cnds.PickDistance,C32.Behaviors.LOS.Cnds.HasLOSToObject,C32.Plugins.NinePatch.Acts.SetVisible,C32.Plugins.Sprite.Exps.IID,C32.Behaviors.LOS.Acts.AddObstacle,C32.Plugins.Arr.Exps.JoinString,C32.Plugins.Sprite.Exps.ParentUID,C32.Plugins.System.Acts.ToggleBoolVar,C32.Behaviors.Platform.Cnds.IsJumping,C32.Behaviors.Sin.Acts.UpdateInitialState,C32.Plugins.System.Exps.viewporttop,C32.Plugins.System.Acts.SetGroupActive,C32.Plugins.System.Exps.viewportbottom,C32.Plugins.Arr.Acts.Pop,C32.Plugins.Sprite.Cnds.CompareHeight,C32.Plugins.Sprite.Exps.Opacity,C32.Behaviors.Orbit.Acts.SetRotation,C32.Behaviors.Orbit.Acts.SetSpeed,C32.Behaviors.Orbit.Exps.PrimaryRadius,C32.Behaviors.Orbit.Exps.Speed,C32.Plugins.System.Exps.tickcount,C32.Plugins.SVGPicture.Acts.ZMoveToObject,C32.Behaviors.Timer.Exps.TotalTime,C32.Plugins.NinePatch.Cnds.IsOnScreen,C32.Plugins.NinePatch.Cnds.PickParent,C32.Behaviors.Tween.Cnds.IsPingPong,C32.Behaviors.Flash.Acts.StopFlashing,C32.Plugins.Sprite.Cnds.HasChildren,C32.Plugins.Sprite.Cnds.CompareOpacity,C32.Plugins.Tilemap.Acts.SetTile,C32.Plugins.Tilemap.Acts.EraseTile,C32.Plugins.SVGPicture.Acts.RemoveFromParent,C32.Behaviors.Follow.Cnds.IsFollowingObject,C32.Behaviors.Bullet.Exps.DistanceTravelled,C32.Behaviors.Platform.Acts.SetJumpStrength,C32.Plugins.Spritefont2.Cnds.CompareWidth,C32.Plugins.Spritefont2.Acts.SetWidth,C32.Plugins.Spritefont2.Exps.Width,C32.Plugins.NinePatch.Exps.BBoxRight,C32.Plugins.NinePatch.Acts.SetX,C32.Behaviors.Bullet.Cnds.IsEnabled,C32.Plugins.System.Cnds.CompareBetween,C32.Plugins.Sprite.Exps.ImagePointCount,C32.Behaviors.Platform.Acts.SetDeceleration,C32.Plugins.NinePatch.Exps.LayerNumber,C32.Plugins.TiledBg.Acts.ZMoveToObject,C32.Plugins.NinePatch.Acts.RemoveChild,C32.Plugins.NinePatch.Cnds.IsVisible,C32.Plugins.NinePatch.Cnds.CompareWidth,C32.Plugins.TiledBg.Acts.SetVisible,C32.Plugins.TiledBg.Acts.SetImageScaleX,C32.Plugins.System.Exps.roundtodp,C32.Plugins.NinePatch.Exps.ZIndex,C32.Plugins.Sprite.Acts.RotateCounterclockwise,C32.Behaviors.Platform.Acts.SimulateControl,C32.Plugins.Tilemap.Cnds.CompareY,C32.Behaviors.solid.Cnds.IsEnabled,C32.Behaviors.EightDir.Cnds.IsMoving,C32.Behaviors.Bullet.Cnds.CompareSpeed,C32.Behaviors.Fade.Acts.SetFadeOutTime,C32.Plugins.Arr.Exps.CurValue,C32.Behaviors.LOS.Acts.CastRay,C32.Behaviors.LOS.Cnds.RayIntersected,C32.Behaviors.LOS.Exps.HitY,C32.Plugins.System.Exps.layoutname,C32.Behaviors.Follow.Acts.StopFollowing,C32.Behaviors.LOS.Exps.HitUID,C32.Plugins.Tilemap.Exps.TileAt,C32.Plugins.System.Cnds.PickByHighestLowestValue,C32.Behaviors.LOS.Exps.HitX,C32.Behaviors.Follow.Acts.ClearHistory,C32.Behaviors.LOS.Acts.SetCone,C32.Plugins.Tilemap.Cnds.IsVisible,C32.Plugins.System.Exps.zeropad,C32.Plugins.Tilemap.Exps.BBoxLeft,C32.Plugins.Tilemap.Exps.BBoxRight,C32.Plugins.Tilemap.Exps.BBoxTop,C32.Behaviors.Rotate.Acts.SetEnabled,C32.Behaviors.Rotate.Acts.SetSpeed,C32.Plugins.System.Acts.WaitForSignal,C32.Plugins.TiledBg.Acts.SetHeight,C32.Plugins.Sprite.Exps.ChildCount,C32.Behaviors.Rotate.Exps.Speed,C32.Plugins.System.Cnds.PickByComparison,C32.Behaviors.Sin.Exps.CyclePosition,C32.Plugins.NinePatch.Exps.ObjectTypeName,C32.Plugins.NinePatch.Exps.BBoxTop,C32.Plugins.NinePatch.Acts.SetEffectEnabled,C32.Plugins.NinePatch.Acts.SetEffectParam,C32.Behaviors.Tween.Acts.ResumeAllTweens,C32.Behaviors.Tween.Acts.PauseAllTweens,C32.Plugins.Tilemap.Cnds.OnCreated,C32.Plugins.NinePatch.Cnds.OnCreated,C32.Behaviors.LOS.Exps.Range,C32.Plugins.NinePatch.Cnds.IsOnLayer,C32.Plugins.Dictionary.Acts.SetBoolInstanceVar,C32.Plugins.Audio.Cnds.IsTagPlaying,C32.Plugins.List.Cnds.CompareSelection,C32.Plugins.List.Exps.SelectedText,C32.Plugins.List.Acts.Select,C32.Plugins.List.Exps.UID,C32.Plugins.List.Cnds.PickByUID,C32.Plugins.List.Acts.Clear,C32.Plugins.List.Acts.AddItem,C32.Plugins.Touch.Cnds.IsInTouch,C32.Plugins.Tilemap.Acts.ZMoveToObject,C32.Plugins.Tilemap.Acts.SetY,C32.Plugins.Tilemap.Acts.SetTileRange,C32.Plugins.Tilemap.Acts.SetX,C32.Plugins.Tilemap.Cnds.CompareTileStateAt,C32.Plugins.Tilemap.Exps.TileToPositionX,C32.Plugins.Tilemap.Exps.TileToPositionY,C32.Plugins.Tilemap.Cnds.OnDestroyed,C32.Plugins.Tilemap.Cnds.IsOnLayer,C32.Plugins.Tilemap.Acts.SetWidth,C32.Plugins.Dictionary.Cnds.CompareCurrentValue,C32.Plugins.DrawingCanvas.Acts.SetInstanceVar,C32.Plugins.DrawingCanvas.Acts.SetSize,C32.Plugins.DrawingCanvas.Acts.SetResolutionMode,C32.Plugins.DrawingCanvas.Exps.Width,C32.Plugins.DrawingCanvas.Exps.Height,C32.Plugins.DrawingCanvas.Acts.SetVisible,C32.Plugins.DrawingCanvas.Acts.SetBoolInstanceVar,C32.Plugins.DrawingCanvas.Cnds.IsBoolInstanceVarSet,C32.Plugins.DrawingCanvas.Acts.PasteObject,C32.Plugins.DrawingCanvas.Acts.SaveImage,C32.Plugins.Tilemap.Acts.Destroy,C32.Plugins.DrawingCanvas.Cnds.OnSavedImage,C32.Plugins.DrawingCanvas.Exps.SavedImageURL,C32.Plugins.Tilemap.Acts.LoadURL,C32.Plugins.DrawingCanvas.Acts.Destroy,C32.Plugins.Tilemap.Cnds.OnURLLoaded,C32.Plugins.Tilemap.Acts.SetEffectEnabled,C32.Plugins.Tilemap.Cnds.OnURLFailed,C32.Plugins.Tilemap.Acts.SetEffect,C32.Plugins.Tilemap.Acts.SubInstanceVar,C32.Plugins.Tilemap.Acts.SetEffectParam,C32.Plugins.Tilemap.Cnds.CompareX,C32.Plugins.Tilemap.Acts.SetHeight,C32.Plugins.Sprite.Cnds.CompareWidth,C32.Plugins.Tilemap.Exps.IID,C32.Plugins.System.Acts.StopLoop,C32.Behaviors.Flash.Cnds.IsFlashing,C32.Plugins.NinePatch.Exps.PickedCount,C32.Plugins.NinePatch.Cnds.OnDestroyed,C32.Plugins.NinePatch.Acts.SubInstanceVar,C32.JavaScriptInEvents.Accessibility_Event59_Act1,C32.Plugins.Browser.Acts.InvokeDownload,C32.Plugins.System.Exps.canvassnapshot,C32.Plugins.GameRecorder.Cnds.IsRecording,C32.Plugins.Touch.Cnds.OnTouchStart,C32.Plugins.Mouse.Cnds.OnMovement,C32.Plugins.System.Acts.SetLayerVisible,C32.Plugins.System.Acts.SnapshotCanvas,C32.Plugins.System.Cnds.OnCanvasSnapshot,C32.Plugins.BinaryData.Exps.GetBase64,C32.Plugins.GameRecorder.Cnds.SupportsRecording,C32.Plugins.GameRecorder.Acts.StartRecording,C32.Plugins.GameRecorder.Acts.StopRecording,C32.Plugins.GameRecorder.Cnds.OnRecordingReady,C32.Plugins.GameRecorder.Exps.RecordingURL,C32.Plugins.GameRecorder.Exps.RecordingType,C32.Plugins.Sprite.Exps.ColorValue,C32.Plugins.Browser.Exps.Platform,C32.Plugins.System.Exps.renderer,C32.Plugins.NinePatch.Exps.BBoxBottom,C32.Plugins.PlatformInfo.Exps.Renderer,C32.Plugins.Browser.Exps.DisplayMode,C32.Plugins.PlatformInfo.Exps.CanvasDeviceHeight,C32.Plugins.PlatformInfo.Exps.RendererDetail,C32.Plugins.Browser.Exps.UserAgent,C32.Plugins.System.Exps.fps,C32.Plugins.System.Exps.cpuutilisation,C32.Plugins.System.Exps.gpuutilisation,C32.Plugins.System.Exps.imagememoryusage,C32.Plugins.Tilemap.Exps.PickedCount,C32.Plugins.Spritefont2.Cnds.CompareText,C32.Behaviors.EightDir.Exps.Deceleration,C32.Plugins.Spritefont2.Exps.PlainText,C32.Plugins.Browser.Cnds.OnResize,C32.Plugins.Browser.Exps.Domain,C32.JavaScriptInEvents.LssIntergration_Event3_Act3,C32.JavaScriptInEvents.LssIntergration_Event17_Act5,C32.JavaScriptInEvents.LssIntergration_Event33_Act1,C32.JavaScriptInEvents.LssIntergration_Event34_Act1,C32.Plugins.Browser.Cnds.OnOnline,C32.Plugins.Browser.Cnds.OnOffline,C32.Plugins.Json.Acts.SetJSON,C32.Plugins.Dictionary.Cnds.CompareInstanceVar,C32.Plugins.Browser.Acts.ConsoleLog,C32.Plugins.SVGPicture.Acts.SetSize,C32.Plugins.TiledBg.Acts.AddChild,C32.Plugins.AJAX.Cnds.OnError,C32.JavaScriptInEvents.LssIntergration_Event96_Act6,C32.Plugins.NinePatch.Exps.BBoxMidY,C32.Plugins.Json.Exps.ToBeautifiedString,C32.JavaScriptInEvents.LssIntergration_Event101_Act3,C32.Plugins.Tilemap.Acts.SetOpacity,C32.Plugins.System.Acts.ScrollX,C32.Plugins.System.Exps.viewportmidx,C32.Plugins.System.Exps.viewportmidy,C32.Plugins.Json.Acts.SetInstanceVar,C32.Plugins.Json.Cnds.CompareInstanceVar,C32.Plugins.Json.Exps.UID,C32.Plugins.Json.Exps.GetAsBeautifiedString,C32.Plugins.Internationalization.Exps.PluralCategoryCount,C32.Plugins.Internationalization.Exps.PluralCategoryAt,C32.Plugins.System.Acts.SetLayerInteractive,C32.Plugins.TiledBg.Acts.SetInstanceVar,C32.Plugins.Audio.Acts.AddDelayEffect,C32.Plugins.NinePatch.Exps.BBoxMidX,C32.Plugins.TiledBg.Exps.BBoxRight,C32.Plugins.TiledBg.Exps.BBoxBottom,C32.Plugins.TiledBg.Exps.BBoxLeft,C32.Plugins.Spritefont2.Acts.SetScale,C32.Plugins.Spritefont2.Acts.SetVisible,C32.Plugins.Keyboard.Cnds.IsKeyCodeDown,C32.Plugins.TextBox.Cnds.PickParent,C32.Plugins.List.Cnds.PickParent,C32.Plugins.TiledBg.Acts.SetDefaultColor,C32.Plugins.TiledBg.Acts.SetOpacity,C32.Plugins.TiledBg.Acts.SetY,C32.Plugins.Spritefont2.Cnds.PickByUID,C32.Plugins.Spritefont2.Acts.AddChild,C32.Plugins.NinePatch.Exps.ColorValue,C32.Plugins.Spritefont2.Acts.ZMoveToObject,C32.Plugins.Spritefont2.Acts.SetBoolInstanceVar,C32.Plugins.Spritefont2.Acts.SetHAlign,C32.Plugins.Spritefont2.Exps.X,C32.Plugins.Spritefont2.Exps.LayerName,C32.Plugins.Spritefont2.Exps.UID,C32.Plugins.TextBox.Acts.SetSize,C32.Plugins.List.Acts.SetSize,C32.Plugins.List.Acts.SetInstanceVar,C32.Plugins.List.Exps.LayerName,C32.Plugins.List.Exps.X,C32.Plugins.List.Exps.Y,C32.Plugins.List.Exps.Width,C32.Plugins.List.Exps.Height,C32.Plugins.List.Acts.AddChild,C32.Plugins.Spritefont2.Acts.SetX,C32.Plugins.SVGPicture.Acts.SetOpacity,C32.Plugins.SVGPicture.Acts.SetInstanceVar,C32.Plugins.SVGPicture.Acts.SetPos,C32.Plugins.Touch.Cnds.IsTouchingObject,C32.Plugins.Arr.Acts.Sort,C32.Plugins.Arr.Acts.Reverse,C32.Plugins.System.Cnds.LayerNameExists,C32.Plugins.System.Exps.layerparallaxx,C32.Plugins.System.Exps.layerparallaxy,C32.Plugins.NinePatch.Cnds.CompareY,C32.Plugins.TextBox.Exps.UID,C32.Plugins.Spritefont2.Exps.BBoxMidY,C32.Plugins.TiledBg.Cnds.IsBoolInstanceVarSet,C32.Plugins.TiledBg.Acts.SetImageScaleY,C32.Plugins.TiledBg.Acts.SetBoolInstanceVar,C32.Plugins.TiledBg.Cnds.PickChildren,C32.Plugins.TiledBg.Exps.Opacity,C32.Plugins.Date.Exps.ToLocaleString,C32.Plugins.TextBox.Acts.SetVisible,C32.Plugins.List.Acts.SetVisible,C32.Plugins.List.Acts.SetCSSStyle,C32.Plugins.Date.Exps.ToLocaleDateString,C32.Plugins.Date.Exps.ToLocaleTimeString,C32.Plugins.TextBox.Cnds.PickByUID,C32.Plugins.TextBox.Cnds.IsFocused,C32.Plugins.List.Cnds.OnCreated,C32.Plugins.List.Cnds.IsBoolInstanceVarSet,C32.Plugins.TextBox.Acts.SetReadOnly,C32.Plugins.List.Acts.SetEnabled,C32.Plugins.List.Acts.SetBoolInstanceVar,C32.Plugins.TextBox.Exps.LayerName,C32.Plugins.TextBox.Exps.X,C32.Plugins.TextBox.Exps.Y,C32.Plugins.TextBox.Exps.Width,C32.Plugins.TextBox.Exps.Height,C32.Plugins.TextBox.Acts.AddChild,C32.Plugins.TextBox.Cnds.PickChildren,C32.Plugins.Spritefont2.Exps.CharacterScale,C32.Plugins.List.Cnds.CompareTextAt,C32.Plugins.NinePatch.Acts.MoveAtAngle,C32.Plugins.NinePatch.Cnds.PickInstVarHiLow,C32.Plugins.TiledBg.Cnds.CompareHeight,C32.Plugins.SVGPicture.Acts.Destroy,C32.Behaviors.Tween.Cnds.IsAnyPlaying,C32.Plugins.NinePatch.Exps.IID,C32.Plugins.Browser.Cnds.OnUpdateFound,C32.Plugins.Browser.Cnds.OnUpdateReady,C32.Plugins.Keyboard.Cnds.OnKeyCode,C32.Plugins.NinePatch.Acts.MoveToBottom,C32.Plugins.TiledBg.Acts.MoveToBottom,C32.Plugins.TextBox.Acts.SetElemAttribute,C32.Plugins.Browser.Acts.RequestFullScreen,C32.Plugins.Browser.Acts.CancelFullScreen,C32.Plugins.Browser.Cnds.IsFullscreen,C32.Plugins.Keyboard.Exps.StringFromKeyCode,C32.Plugins.gamepad.Cnds.HasGamepads,C32.Plugins.Keyboard.Cnds.OnAnyKey,C32.Plugins.Keyboard.Exps.LastKeyCode,C32.Plugins.gamepad.Cnds.OnAnyButtonDown,C32.Plugins.gamepad.Exps.LastButton,C32.Plugins.gamepad.Cnds.CompareAxis,C32.Plugins.gamepad.Exps.GamepadID,C32.Plugins.Dictionary.Cnds.PickByUID,C32.Plugins.Dictionary.Exps.ObjectTypeName,C32.Plugins.NinePatch.Cnds.CompareX,C32.Plugins.System.Cnds.OnImageLoadingComplete,C32.Plugins.System.Acts.RemoveLayer,C32.Plugins.Audio.Acts.SetVolume,C32.Plugins.Spritefont2.Cnds.IsBoolInstanceVarSet,C32.Plugins.Spritefont2.Cnds.PickChildren,C32.Plugins.Text.Acts.SetSize,C32.Plugins.Text.Acts.SetText,C32.Plugins.Text.Acts.SetHAlign,C32.Plugins.Text.Cnds.PickParent,C32.Plugins.Text.Acts.ZMoveToObject,C32.Plugins.Text.Acts.SetFontSize,C32.Plugins.Text.Exps.FaceSize,C32.Plugins.Text.Exps.Width,C32.Plugins.Text.Exps.TextWidth,C32.Plugins.Text.Exps.Height,C32.Plugins.Text.Exps.TextHeight,C32.Plugins.Text.Acts.SetVisible,C32.Plugins.Audio.Acts.PlayByName,C32.Plugins.Audio.Acts.PlayAtPositionByName,C32.Plugins.Audio.Acts.SetListenerObject,C32.Plugins.Audio.Exps.Duration,C32.Plugins.Audio.Acts.SetMuted,C32.Plugins.Audio.Acts.AddFilterEffect,C32.Plugins.Audio.Acts.SetEffectParameter,C32.Behaviors.Tween.Exps.Time,C32.Plugins.Audio.Exps.Volume,C32.Plugins.Audio.Acts.SetPaused,C32.Plugins.System.Cnds.IsPreview,C32.JavaScriptInEvents.AudioEvents_Event216_Act1,C32.Plugins.System.Cnds.LayerVisible,C32.Plugins.video.Cnds.IsOnLayer,C32.Plugins.video.Acts.Destroy,C32.Plugins.System.Acts.SetLayerParallax,C32.Plugins.video.Acts.SetMuted,C32.Plugins.video.Acts.SetSource,C32.Plugins.video.Acts.SetInstanceVar,C32.Plugins.video.Cnds.IsPlaying,C32.Plugins.video.Acts.Play,C32.Plugins.video.Cnds.CompareInstanceVar,C32.Plugins.video.Cnds.CompareX,C32.Plugins.video.Acts.SetX,C32.Plugins.video.Exps.X,C32.Plugins.video.Cnds.CompareY,C32.Plugins.video.Acts.SetY,C32.Plugins.video.Exps.Y,C32.Plugins.video.Cnds.HasEnded,C32.Plugins.DrawingCanvas.Acts.MoveToLayer,C32.Plugins.Tilemap.Acts.AddInstanceVar,C32.Plugins.TiledBg.Cnds.OnCreated,C32.Plugins.TiledBg.Cnds.IsOnScreen,C32.Plugins.TiledBg.Acts.AddInstanceVar,C32.Plugins.TiledBg.Acts.LoadURL,C32.Plugins.TiledBg.Acts.SetWidth,C32.Plugins.TiledBg.Exps.ObjectTypeName,C32.Plugins.SVGPicture.Cnds.CompareInstanceVar,C32.Plugins.SVGPicture.Acts.MoveToTop,C32.Plugins.SVGPicture.Acts.SetVisible,C32.Plugins.SVGPicture.Acts.SetEffect,C32.Plugins.TiledBg.Cnds.IsOnLayer,C32.Plugins.Arr.Acts.Insert,C32.Plugins.Json.Cnds.PickByUID,C32.Plugins.Arr.Cnds.PickByUID,C32.JavaScriptInEvents.GeneralHelperFunctions_Event102_Act1,C32.JavaScriptInEvents.GeneralHelperFunctions_Event105_Act2,C32.Plugins.TiledBg.Exps.BBoxTop,C32.Plugins.System.Acts.CallMappedFunction,C32.Plugins.List.Acts.Remove,C32.Plugins.List.Acts.SetFocus,C32.Plugins.List.Exps.ItemCount,C32.Plugins.NinePatch.Acts.AddInstanceVar,C32.Plugins.List.Cnds.CompareY,C32.Plugins.Spritefont2.Exps.BBoxLeft,C32.Plugins.List.Cnds.IsEnabled,C32.Plugins.Arr.Cnds.CompareXYZ,C32.Plugins.Tilemap.Acts.MoveToBottom,C32.Plugins.Keyboard.Exps.TypedKey,C32.Plugins.Touch.Cnds.OnDoubleTapGestureObject,C32.Plugins.Spritefont2.Acts.SubInstanceVar,C32.Plugins.Mouse.Cnds.OnAnyClick,C32.Plugins.TiledBg.Acts.MoveToLayer,C32.Plugins.Touch.Cnds.OnTapGesture,C32.Plugins.Mouse.Cnds.IsButtonDown,C32.Plugins.Mouse.Cnds.OnObjectClicked,C32.Behaviors.DragnDrop.Cnds.OnDragStart,C32.Behaviors.DragnDrop.Cnds.IsDragging,C32.Behaviors.DragnDrop.Cnds.OnDrop,C32.Plugins.List.Exps.ItemTextAt,C32.Plugins.Spritefont2.Cnds.CompareHeight,C32.Plugins.Date.Exps.ToTotalSeconds,C32.Plugins.System.Exps.time,C32.Behaviors.DragnDrop.Acts.SetEnabled,C32.Plugins.Json.Acts.AddTo,C32.Plugins.Json.Acts.SubtractFrom,C32.Plugins.TiledBg.Exps.ImageWidth,C32.Plugins.TiledBg.Exps.ImageHeight,C32.Plugins.TiledBg.Cnds.IsVisible,C32.Plugins.TiledBg.Acts.MoveAtAngle,C32.Plugins.TiledBg.Acts.SetX,C32.Plugins.TiledBg.Cnds.CompareY,C32.Plugins.SVGPicture.Exps.UID,C32.Plugins.SVGPicture.Exps.X,C32.Plugins.SVGPicture.Exps.Y,C32.Plugins.SVGPicture.Cnds.PickByUID,C32.Plugins.SVGPicture.Cnds.IsOnLayer,C32.Plugins.SVGPicture.Cnds.PickChildren,C32.Plugins.SVGPicture.Cnds.IsBoolInstanceVarSet,C32.Plugins.SVGPicture.Acts.SetBoolInstanceVar,C32.Plugins.TiledBg.Acts.SetEffectParam,C32.Plugins.NinePatch.Exps.Angle,C32.Plugins.NinePatch.Cnds.CompareOpacity,C32.Plugins.NinePatch.Cnds.CompareHeight,C32.Plugins.SVGPicture.Exps.Width,C32.Plugins.SVGPicture.Exps.Height,C32.Plugins.System.Exps.layeropacity,C32.Plugins.Spritefont2.Acts.SetAngle,C32.Plugins.gamepad.Cnds.IsButtonIndexDown,C32.Plugins.System.Acts.AddLayer,C32.Plugins.System.Acts.SetLayerHTML,C32.Plugins.Arr.Exps.Depth,C32.Plugins.Tilemap.Acts.EraseTileRange,C32.Plugins.Mouse.Cnds.OnRelease,C32.Plugins.SVGPicture.Acts.AddChild,C32.Behaviors.Pin.Acts.SetDestroy,C32.Plugins.Tilemap.Acts.SetTileState,C32.Plugins.Tilemap.Acts.SetTileStateRange,C32.Plugins.CSV.Acts.ParseCSV,C32.Plugins.gamepad.Exps.Axis,C32.Plugins.gamepad.Exps.GamepadCount]},self.C3_JsPropNameTable=[{Browser:0},{Touch:0},{Mouse:0},{Keyboard:0},{Gamepad:0},{LocalStorage:0},{AJAX:0},{BinaryData:0},{Audio:0},{TestingTools:0},{GameRecorder:0},{Date:0},{DrawingCanvas:0},{PlatformInfo:0},{Internationalization:0},{Clipboard:0},{CSV:0},{Grid1:0},{parentEditorObjUID:0},{firstRangeOffsetIndexInExtraValues:0},{LocalGrid:0},{parentMenuUID:0},{mode:0},{environment:0},{optionalID:0},{destroyOnToolbarPageChange:0},{tooltipContent:0},{displayingTooltip:0},{tooltipOffsetX:0},{tooltipOffsetY:0},{tooltipMinY:0},{tooltipMaxY:0},{forceTooltipToLayer:0},{canDisplayTooltip:0},{thumbnailID:0},{awaitingThumbnail:0},{LevelThumbnail:0},{GameIcon:0},{dropdownIndex:0},{parentDropdownUID:0},{canBePressed:0},{selected:0},{destroyOnToolbarChange:0},{horizontalSpacing:0},{verticalSpacing:0},{hoveredOver:0},{isButton:0},{destroyOnEscPress:0},{extraData:0},{canBeDragged:0},{beingDragged:0},{droppedThisFrame:0},{defaultColor:0},{editorObjUIDToEdit:0},{DropdownChild0:0},{DropdownChild1:0},{DropdownChild2:0},{dropdownFor:0},{contents:0},{selectedIndex:0},{opened:0},{DropdownParent0:0},{DropdownParent1:0},{DropdownParent2:0},{sliderLineUID:0},{SliderHandle:0},{SliderIcons:0},{SliderLine1:0},{scrollbarFor:0},{ScrollbarLine1:0},{scrollbarLineUID:0},{ScrollbarHandle:0},{ScrollbarLine2:0},{SliderLine2:0},{cardID:0},{extraCardData:0},{cardName:0},{MenuContainer:0},{Tween:0},{Timer:0},{Overlay:0},{lightUpWhenHovered:0},{hasExtraPressedFrame:0},{BlockButtons:0},{TextButton:0},{CardDisplay0:0},{CardDisplay1:0},{beingReordered:0},{TransparentOverlay:0},{CardDisplay2:0},{AddLayerOrMapOverlay:0},{ButtonIcons:0},{DeleteLayerOverlay:0},{rgbValueAsString:0},{paletteForPageName:0},{hasDeleteButton:0},{PreviewFrame:0},{Customizer0:0},{isChecked:0},{isScreenMenuItem:0},{anim:0},{Checkbox:0},{queueGoingInvisible:0},{parentPartUID:0},{OriginPoint:0},{Customizer1:0},{"9DirectionalButton":0},{selectedID:0},{arrowPointing:0},{ManagerFor9DirectionalButtons:0},{parentManagerUID:0},{ArrowFor9DirectionalButton:0},{CardDisplay1_T:0},{tabForMenuName:0},{tabID:0},{selectedItem:0},{Tab1:0},{resizerDotOffsetX:0},{resizerDotOffsetY:0},{minimumWidth:0},{minimumHeight:0},{lengthMultiplier:0},{layerBehindEditorObject:0},{startingWidth:0},{startingHeight:0},{beingResized:0},{RangeResizer:0},{SubMenu0:0},{SubMenu1:0},{SubMenu2:0},{FrameOutline:0},{Customizer2:0},{Tab2:0},{SMWTabTop:0},{CardDisplay2_T:0},{LSS_SVG:0},{hovered:0},{IconSelectorButton:0},{Customizer2_T:0},{Customizer1_T:0},{parentCheckboxUID:0},{hAligh:0},{canCreateLanguageAssist:0},{MainFont:0},{"1UPScores":0},{GamestyleFont1:0},{ScoreFont1:0},{GamestyleFont2:0},{ScoreFont2:0},{SMW_Numbers:0},{SMW_PlayerFont:0},{SMW_ExtraHUD:0},{AssistText:0},{plainTextContent:0},{maxOffset:0},{colorHexValue:0},{SMFFont:0},{toolbarState:0},{lastUpdateTickNumber:0},{ToolbarFrame:0},{FavoritesIcon:0},{ToolbarLines:0},{phantom:0},{SineAngle:0},{ToolbarButtonVisuals:0},{tileID:0},{tileStateID:0},{tileExtraValues:0},{tilemapName:0},{tileStructureRowLength:0},{tileStructureData:0},{verticalPosPlusHitboxHeight:0},{Pin:0},{TileSelectHitbox:0},{hoveredOverWithObj:0},{barState:0},{FavoritesBar2:0},{MiniToolbar2:0},{FavoritesBar1:0},{MiniToolbar1:0},{tilemapSlotName:0},{TileButtonOutline:0},{homeX:0},{homeY:0},{DragAndDrop:0},{TilesetIcons:0},{containedPalettesString:0},{currentPalettePageNumber:0},{paletteCount:0},{forObjectCategoryName:0},{beingDeloaded:0},{previewTilemapName:0},{previewTileID:0},{PalettePickerOverlay1:0},{PalettePickerOverlay2:0},{pageName:0},{category:0},{hasSpecialAnimationEvents:0},{buttonAndPageID:0},{ToolbarPageThumbnails:0},{globalToolbarButton:0},{ToolbarButtonHitbox:0},{PaletteTooltip:0},{hidingForScreenMenu:0},{characterLimit:0},{ignoreCharacterLimit:0},{beingEdited:0},{bannedCharacters:0},{previousText:0},{useDefaultGamestyleCSS:0},{containsValidValues:0},{stayInvisibleAfterInit:0},{locked:0},{storedPreviousValue:0},{TextboxTextarea:0},{TextboxText:0},{minValue:0},{maxValue:0},{allowDecimals:0},{TextboxNumbers:0},{internalDataStringsForIndexes:0},{oldIndex:0},{Dropdown:0},{BlendAssist:0},{defaultBehavior:0},{Tooltip:0},{TooltipBottom:0},{isHiding:0},{timerName:0},{RoundedOverlay:0},{liquidPaletteID:0},{dynamicPaletteID:0},{CBMSign:0},{frameDependentByNet:0},{ExtraEditorObjectDisplay:0},{ThumbnailPreview:0},{GameplayHUDObjects:0},{parentMenuElementUID:0},{CoordinationAssist:0},{PMeter2:0},{PMeter1:0},{HTML_BG:0},{defaultY:0},{canScroll:0},{menuHeight:0},{ScrollAssist:0},{GameThumbnails:0},{GamestylePreviewGallery:0},{LevelSelect_Gradient:0},{allowHoverAnimation:0},{MenuDot:0},{state:0},{Toolbox:0},{extraValueAngleID:0},{extraValueLengthID:0},{spawnedShadow:0},{isForSines:0},{minimumLength:0},{PathArrow:0},{parentArrowUID:0},{PathArrowShadow:0},{forPlayerID:0},{PArrowID:0},{PMeter:0},{FramedEditorObjectIcons:0},{disabled:0},{axis:0},{horizontalOrVertical:0},{LevelResizerButton:0},{resizeMode:0},{currentPosition:0},{editsEditorObjValueIndex:0},{axisSign:0},{ResizerDot:0},{beingUsed:0},{currentAmplitude:0},{RotationAmplitudeEditor:0},{RotationAmplitudeGhost:0},{RotationBaseEditor:0},{RotatorDot:0},{SinePathArrow:0},{SinePathArrowShadow:0},{LevelEndStatContainer:0},{OffscreenIndicator_Emblem:0},{OffscreenIndicator_Arrow:0},{picked:0},{Fade:0},{LoadingItemOutline:0},{SMCLogo:0},{movementSpeed:0},{Bullet:0},{FenceOverlay:0},{parentButtonUID:0},{Platform:0},{TitleButtonObjects:0},{DevEmblems:0},{Sine:0},{SeasonalTitleScreenObjects:0},{CurlySeparatorBottom1:0},{CurlySeparatorTop1:0},{CurlySeparatorBottom2:0},{CurlySeparatorTop2:0},{GrassSeparator2:0},{GrassSeparator1:0},{DottedSeparator:0},{LevelSelectBG:0},{linkedObjUID:0},{Cursor:0},{EasterEggImages:0},{OutOfBoundsBackground:0},{lineStartObjUID:0},{lineEndObjUID:0},{ExtendableLine:0},{Circle:0},{notificationText:0},{notificationFor:0},{notificationButtonAnim:0},{NotificationBar:0},{NotificationIcon:0},{NotificationButtons:0},{SpeechBubble:0},{LSS_PFP:0},{GridCursor:0},{TipNotification:0},{effectFor:0},{FilterMenu2:0},{FilterMenu1:0},{LSSMenuPatch:0},{GeneratorMenu2:0},{GeneratorMenu1:0},{pressable:0},{previewingMusic:0},{MusicOverlayL:0},{MusicOverlayR:0},{MusicOverlayLMR:0},{MusicOverlayM:0},{"3DFloor":0},{PNP_GroundTexture:0},{AdvancedOptionsTiledBG:0},{targetY:0},{AdvancedMenuContainer:0},{TilesetsUsed:0},{LevelMetaData:0},{ToolbarLastPages:0},{TileLayouts:0},{CursorObjectData:0},{PlayerData:0},{LayerData:0},{SortArray:0},{MapNames:0},{lastWallClockTime:0},{LevelEditorDataContainer:0},{MapData:0},{GameSettings:0},{FavoritedObjects:0},{LevelTestToolStates:0},{PlayerTrailData:0},{DestinationData:0},{EntrywayData:0},{FavoritedTilePages:0},{Gradients:0},{ReleasedKeys:0},{KeyboardKeybinds:0},{SelectedToolbarPalettes:0},{PersistentObjectIDs:0},{MiscMusicInfo:0},{hasActivatedCheckpoint:0},{CheckpointData:0},{LevelStats:0},{DialogueInfo:0},{LayersWithDarkness:0},{CustomSpawnData:0},{WarpsPersistance:0},{GeneralJSON:0},{LevelCodeJSON:0},{EffectsJSON:0},{EffectsHiddenInEditor:0},{LevelThemes:0},{BackgroundsData:0},{SavedGamepadKeybinds:0},{GamepadKeybinds:0},{LevelRestorePoints:0},{ObjectSidebarButtons:0},{CollectedDragonCoins:0},{CurrentSoundsPlaying:0},{PlayerStompCooldowns:0},{SidebarContentsStorer:0},{parentObjUID:0},{arrayMode:0},{ArrayForObject:0},{TagUpdateTracker:0},{SortingDictionary:0},{BackgroundPalettes:0},{initiated:0},{SwitchPalaceStates:0},{PressedPalaceSwitches:0},{TilemapPalettes:0},{MiscPalettes:0},{awaitingLSSResponse:0},{hasQueriedLoginData:0},{isLoggedIn:0},{queuedLevelDateCheck:0},{hasDoneCheckForLoginSession:0},{LSSAccountInfo:0},{dedicatedFor:0},{DedicatedJSON:0},{NewFeaturesHighlights:0},{TilemapPixelData:0},{DynamicLayers:0},{MusicData:0},{UsedCustomMusicStrings:0},{IdentifierToSpriteNames:0},{TilemapMetadata:0},{PreloadedMusic:0},{TipsDisplayed:0},{FadingMusic:0},{AudioMixValues:0},{TileConversionData:0},{dictionaryFor:0},{DedicatedDictionary:0},{forSpriteUID:0},{CollisionTaggingCooldowns:0},{TileCollisions:0},{TilePersistence:0},{TileEdgeCollisions:0},{ScreenwrapCollisions:0},{LayerTagStates:0},{TopMenuElements:0},{CameraValues:0},{HeldInputs:0},{PressedInputs:0},{semiSolid:0},{RoofSkipPreventionTilemap:0},{FloorSkipPreventionTilemap:0},{parentTilemapUID:0},{LightSourceTilemap:0},{baseTags:0},{solidTags:0},{startIndexFromTop:0},{startIndexInPixels:0},{semiType:0},{offsetXFromParentTilemapInTiles:0},{offsetYFromParentTilemapInTiles:0},{activated:0},{gridBased:0},{SemiFloorTilemap:0},{SemiLeftWallTilemap:0},{SemiRightWallTilemap:0},{SemiRoofTilemap:0},{onlyHasFlatTiles:0},{IceTilemapAssist:0},{frameID:0},{AnimatedFrameTilemap:0},{liquidCollisionsAreActive:0},{allowFloating:0},{WaterTilemapAssist:0},{SnowTilemapAssist:0},{HorizontalEdgeExtensionTilemap:0},{conveyorState:0},{conveyorSpeed:0},{conveyorTypeID:0},{ConveyorEdgeExtensionTilemap:0},{tilemapBaseName:0},{tilemapIdentifierName:0},{isOnLayerName:0},{hidden:0},{structure:0},{transparencyWhenUnhidden:0},{tileLoopRequired:0},{spawnsObjectsOnTiles:0},{queuedForLoop:0},{hasSpecialTiles:0},{ignoreLastPickedCondition:0},{inToolbarPosY:0},{hasRotatableTiles:0},{awaitingPaletteFile:0},{loadingPaletteImage:0},{queueTextureUpdate:0},{renderInMapSnapshot:0},{cyclesImageFrames:0},{collisionDataIndex:0},{moleHolePaletteIndex:0},{extraValues:0},{Tilemap_1_Pipes:0},{Tilemap_1_MainDeco:0},{Tilemap_1_MainDecoS:0},{hasChildsLightSourceTilemap:0},{Tilemap_1_Crystal:0},{Tilemap_1_Global:0},{Tilemap_1_Holes:0},{hasPDoors:0},{firstPDoorTileIndex:0},{Tilemap_1_Doors:0},{Tilemap_1_DoorsB:0},{Tilemap_1_GlobalR:0},{hardBlockTileID:0},{emptyBlockTileID:0},{particleName:0},{particleFrame:0},{palOffset:0},{palColorCount:0},{Tilemap_1_Castle:0},{Tilemap_1_Grass:0},{Tilemap_1_Cave:0},{Tilemap_1_Desert:0},{Tilemap_1_DesertT:0},{Tilemap_1_Snow:0},{Tilemap_1_Mountain:0},{frameCount:0},{currentFrame:0},{timeBetweenFrame:0},{imagePaths:0},{queuedFramesLoading:0},{frameInitStatus:0},{pingPong:0},{countingUp:0},{Tilemap_1_Cloud:0},{Tilemap_1_Sky:0},{isIcy:0},{Tilemap_1_Ice:0},{Tilemap_1_LavaCave:0},{Tilemap_1_LavaF:0},{Tilemap_1_Ghost:0},{Tilemap_1_Ocean:0},{Tilemap_1_Kelp:0},{Tilemap_1_Bonus:0},{Tilemap_1_Beach:0},{Tilemap_1_StarWorld:0},{Tilemap_1_Forest:0},{Tilemap_1_Hedge:0},{Tilemap_1_Garden:0},{Tilemap_1_Ship:0},{Tilemap_1_ShipB:0},{Tilemap_1_ShipA:0},{Tilemap_1_ShipR:0},{Tilemap_1_Sewer:0},{Tilemap_1_SewerA:0},{Tilemap_1_Island:0},{Tilemap_1_Mushroom:0},{Tilemap_1_Mushroom1:0},{Tilemap_1_Mushroom2:0},{Tilemap_1_Mushroom3:0},{Tilemap_1_Mushroom4:0},{Tilemap_1_Mushroom5:0},{Tilemap_1_Mushroom6:0},{Tilemap_1_Mushroom7:0},{isLightSourceCopy:0},{Tilemap_1_Lava:0},{Tilemap_1_Water:0},{Tilemap_1_WaterF:0},{Tilemap_1_Poison:0},{Tilemap_1_Cryo:0},{Tilemap_1_Electric:0},{Tilemap_1_Artillery:0},{Tilemap_1_Posts:0},{Tilemap_1_Stretch:0},{Tilemap_1_Blocks:0},{Tilemap_1_Pole:0},{Tilemap_1_Vine:0},{Tilemap_1_Ruins:0},{Tilemap_1_RuinsD:0},{Tilemap_1_RuinsA:0},{Tilemap_1_RuinsB:0},{Tilemap_1_Factory:0},{Tilemap_1_GreenHill:0},{Tilemap_1_GreenHillD:0},{Tilemap_1_GreenHillA:0},{Tilemap_1_ForsCity:0},{Tilemap_1_Norfair:0},{Tilemap_1_ButterBld:0},{Tilemap_1_Boneyard:0},{Tilemap_1_Conveyor:0},{Tilemap_1_ConveyorS:0},{Tilemap_2_Grass:0},{Tilemap_2_GrassW:0},{Tilemap_2_Night:0},{Tilemap_2_Pipes:0},{Tilemap_2_Joints:0},{Tilemap_2_Cave:0},{Tilemap_2_Castle:0},{Tilemap_2_Brick:0},{Tilemap_2_CastleW:0},{Tilemap_2_CastleE:0},{Tilemap_2_Forest:0},{Tilemap_2_Foliage:0},{climbableType:0},{Tilemap_2_Net:0},{linkedVineCreatorUID:0},{growthDirection:0},{hasTailVine:0},{Tilemap_2_Vine:0},{Tilemap_2_Vine1:0},{Tilemap_2_Vine2:0},{Tilemap_2_Vine3:0},{Tilemap_2_Vine4:0},{Tilemap_2_Vine5:0},{Tilemap_2_Vine6:0},{Tilemap_2_Snow:0},{Tilemap_2_SnowD:0},{Tilemap_2_GHBrick:0},{Tilemap_2_GHMain:0},{Tilemap_2_GHOuter:0},{Tilemap_2_Fall:0},{Tilemap_2_FallD:0},{Tilemap_2_Beach:0},{Tilemap_2_BeachD:0},{Tilemap_2_Kelp:0},{Tilemap_2_BeachD1:0},{Tilemap_2_BeachD2:0},{Tilemap_2_BeachD3:0},{Tilemap_2_BeachD4:0},{Tilemap_2_BeachD5:0},{Tilemap_2_BeachD6:0},{Tilemap_2_BeachD7:0},{Tilemap_2_Desert:0},{Tilemap_2_DesertD:0},{Tilemap_2_DesertB:0},{Tilemap_2_Ice:0},{Tilemap_2_Bonus:0},{Tilemap_2_Sewer:0},{Tilemap_2_SewerA:0},{Tilemap_2_Lava:0},{Tilemap_2_Cryo:0},{Tilemap_2_Poison:0},{Tilemap_2_CLava:0},{Tilemap_2_CWater:0},{Tilemap_2_DBWater:0},{Tilemap_2_Water:0},{Tilemap_2_WaterF:0},{Tilemap_2_CryoF:0},{Tilemap_2_LavaF:0},{Tilemap_2_PoisonF:0},{Tilemap_2_Electric:0},{Tilemap_2_RWater:0},{Tilemap_2_RLava:0},{Tilemap_2_RPoison:0},{Tilemap_2_RCryo:0},{Tilemap_2_Mountain:0},{Tilemap_2_MountainB:0},{Tilemap_2_MountainW:0},{Tilemap_2_StarWorld:0},{Tilemap_2_StarWorldD:0},{Tilemap_2_LavaCave:0},{Tilemap_2_AshLand:0},{Tilemap_2_Turtle:0},{Tilemap_2_TurtleD:0},{Tilemap_2_Cloud:0},{Tilemap_2_Beanstalk:0},{Tilemap_2_Rainbow:0},{Tilemap_2_Hedge:0},{Tilemap_2_Garden:0},{Tilemap_2_Turnip:0},{Tilemap_2_Bunting:0},{Tilemap_2_SignBase:0},{Tilemap_2_Crystal:0},{Tilemap_2_Doors:0},{Tilemap_2_Arch:0},{Tilemap_2_Global:0},{Tilemap_2_Holes:0},{Tilemap_2_DoorsB:0},{Tilemap_2_GlobalR:0},{Tilemap_2_Vase:0},{Tilemap_2_Ship:0},{Tilemap_2_ShipA:0},{Tilemap_2_ShipP:0},{Tilemap_2_Rope:0},{Tilemap_2_ShipR:0},{Tilemap_2_Artillery:0},{Tilemap_2_Posts:0},{Tilemap_2_Stretch:0},{Tilemap_2_Blocks:0},{Tilemap_2_RetroG:0},{Tilemap_2_RetroU:0},{Tilemap_2_RetroC:0},{Tilemap_2_RetroCA:0},{Tilemap_2_RetroO:0},{Tilemap_2_RetroOA:0},{Tilemap_2_RetroF:0},{Tilemap_2_RetroS:0},{Tilemap_2_RetroD:0},{Tilemap_2_RetroM:0},{Tilemap_2_Factory:0},{Tilemap_2_Conveyor:0},{Tilemap_2_ConveyorS:0},{escalatorState:0},{escalatorSpeed:0},{slopeEscalatorFrames:0},{gentleSlopeEscalatorFrames:0},{Tilemap_2_Escalator:0},{paletteID:0},{TilemapCanvas:0},{spriteUID:0},{GaloombaVisual:0},{objectName:0},{objectCategory:0},{hitboxWidth:0},{hitboxHeight:0},{spawnedByObjUID:0},{parentEditorObjectUID:0},{editorObjSpawnIID:0},{healthState:0},{active:0},{triggeredInitEvents:0},{movement:0},{facePlayerOnLand:0},{ownMovementDisabled:0},{baseMovementSpeed:0},{currentMovementSpeed:0},{spawnOffset:0},{interactionsWith:0},{lastInteractedWithPlayerID:0},{turnsAtCliffs:0},{submerged:0},{canFloatInWater:0},{defaultLiquidPhysicsHandling:0},{affectedByIce:0},{hasIcyPhysics:0},{defaultMaxSpeed:0},{defaultGravity:0},{defaultMaxFallSpeed:0},{gameObjDeceleration:0},{ZLayerID:0},{ZLayerName:0},{originatesFromMapID:0},{canDespawn:0},{canRespawn:0},{canDestroy:0},{specialDestroyerType:0},{comboCounter:0},{alwaysFaceDirection:0},{defaultDestroyerAffected:0},{destroyedByLava:0},{destroyedByPoison:0},{frozenByCryo:0},{frozen:0},{affectedByElectricity:0},{electricallyCharged:0},{beingTossed:0},{beingSpatOut:0},{affectedByCurrents:0},{canBeHeld:0},{beingHeld:0},{edible:0},{beingEaten:0},{instantSwallow:0},{canBeFlippedOver:0},{preventingMovementUntilLanding:0},{activateTowardsPlayer:0},{collideWithOtherGameObjects:0},{canTurnWhenBumpedIntoOtherSprites:0},{canTurnOtherSpritesWhenBumpedInto:0},{preventAnimationChanging:0},{includedCollisionTags:0},{allCollisionTags:0},{ignoreAllCollisions:0},{lastVectorX:0},{lastVectorY:0},{savePrevYPos:0},{savePrevXPos:0},{previousYPos:0},{previousXPos:0},{temporalyExcludeFromDeletion:0},{currentMaxSpeed:0},{canRecoverWhenIced:0},{bouncy:0},{bouncynessFactor:0},{lastSemiTriggerPosX:0},{lastSemiTriggerPosY:0},{fourSidedCollisions:0},{droppingFromInventory:0},{playerCollisionPreset:0},{canUpdateSemis:0},{attachedToCollisionUID:0},{hasDefaultHitboxOrigins:0},{hasSemiFloor:0},{highestWindForceLeft:0},{highestWindForceRight:0},{highestWindForceUp:0},{highestWindForceDown:0},{iceCubeSize:0},{parentAttachmentType:0},{queueTerrainCollisionEnabling:0},{hWrapMargin:0},{vWrapMargin:0},{storedConveyorSpeed:0},{lightSourceWidth:0},{lightSourceHeight:0},{givesOffLight:0},{optionalLightOriginPoint:0},{canHurtPlayer:0},{particleCycles:0},{ExplosionHitbox:0},{parentObj:0},{MuncherAndJelectroHurtbox:0},{defaultStarmanHandling:0},{defaultMetalHandling:0},{defaultChargedMetalHandling:0},{fireballAffected:0},{iceballAffected:0},{isBubblable:0},{ignoreStandardFireAndIceballHandling:0},{tailAndCapeWagAffected:0},{explosionAffected:0},{grayCoinTransformable:0},{blockBumpAffected:0},{alwaysPoofAwayOnDefeat:0},{defaultSlideHandling:0},{slideAffected:0},{netPunchAffected:0},{groundStompPoofAffected:0},{isSpiky:0},{canHurtPlayerWhenTossed:0},{isFiery:0},{flameTypeID:0},{hasGeneralFieryObjectsCollisionEvents:0},{dimmedThisFrame:0},{redirectableByArrowCloud:0},{movingAngle:0},{movingLinearly:0},{facesAngle:0},{staticImage:0},{spatOutByYoshi:0},{hammerTypeID:0},{holdByBowser:0},{targetVectorX:0},{targetVectorY:0},{throwerUID:0},{HammerProjectile:0},{hasTurned:0},{BoomerangProjectile:0},{draggable:0},{objectInChainID:0},{diameterValueIndex:0},{angleIntervalIndex:0},{distanceIntervals:0},{attachedToLineUID:0},{isSnakeFront:0},{booBuddyType:0},{blazingBooTrail:0},{BooTrail:0},{CheepCheep_Preview:0},{LineOfSight:0},{LOSAssist:0},{alreadyPickedByLastCreated:0},{hasDoneActivationCheck:0},{LakituRod_Hook1:0},{containerSlotIndex:0},{containedObjectUID:0},{containedObjectData:0},{parentObjectUID:0},{hookHeight:0},{LakituRod_Handle:0},{placedDown:0},{hasObjectAttached:0},{LakituRod_Collision:0},{editorObjectSpawnDataJSON:0},{SpriteRespawner:0},{LakituRod_Hook2:0},{yOffsetFromRider:0},{riderUID:0},{controllableByPlayer:0},{"8Direction":0},{Flash:0},{LakituCloud:0},{LakituCloud_Back:0},{SpriteEyesAssist:0},{parentObjectName:0},{ExtraHitbox:0},{currentEyeAngle:0},{KingBillEye:0},{KingBillExhaust:0},{harmfulTo:0},{DinoTorch_Flame:0},{Mechakoopa_WindupKey:0},{AnimationTimer:0},{WallWalker_Visual:0},{FluffyParts:0},{StretchAttachableCollision:0},{SineHorizontal:0},{Lotus_Flame:0},{segmentID:0},{headSegment:0},{pokeyTypeID:0},{Pokey_Parts:0},{EditorPokey2_1:0},{EditorPokey2_0:0},{EditorPokey1_1:0},{EditorPokey1_0:0},{EditorSnowPokey2_0:0},{EditorSnowPokey1_0:0},{EditorSnowPokey2_1:0},{EditorSnowPokey1_1:0},{BowserHammerFlames:0},{rotationSpeed:0},{AngrySunRay:0},{electrified:0},{canBeElectrified:0},{isCurrentlySolid:0},{collisionFor:0},{isSemiSolid:0},{TorpedoBoxCollision:0},{headVerticalOffset:0},{Chuck_Head:0},{Baseball:0},{movingVectorX:0},{keepSliding:0},{hasMomentumBasedMovement:0},{nextJumpHeights:0},{Football:0},{fallDistance:0},{Boulder:0},{meteorType:0},{handledSFX:0},{Meteor:0},{movementID:0},{animID:0},{outOfWater:0},{prevX:0},{swimAngle:0},{sineAmplitude:0},{sinePeriod:0},{startingSwimAngle:0},{swimmingToHome:0},{swimDistance:0},{swimSpeed:0},{targetX:0},{screenWrappedHorizontally:0},{screenWrappedVertically:0},{fishInCircleID:0},{circleIsInitiating:0},{leapHeight:0},{leapingStatus:0},{actionsUntilLeap:0},{hopCountBeforeLeaps:0},{hasPlayerInSight:0},{turnSpeed:0},{CheepCheep:0},{Bulber:0},{followerCount:0},{blooperTypeID:0},{canScatterBlooperBabies:0},{currentBabyCount:0},{maxBabyCount:0},{readyToScatterBabies:0},{scatteringBabies:0},{Blooper:0},{followingUID:0},{orderInChain:0},{scattered:0},{fastForwardToNanny:0},{Orbit:0},{SineVertical:0},{BlooperBaby:0},{Jelectro:0},{movementAngle:0},{chasingPlayer:0},{SpinyCheepCheep:0},{RipVanFish:0},{directionSign:0},{FloatingMine:0},{urchinMovementMode:0},{UrchinHitbox:0},{canBecomeCharged:0},{MechaCheep:0},{hasOutOfWaterAI:0},{ticksBeforeWaterChecks:0},{waterFallSpeed:0},{behaviorID:0},{chasing:0},{Fishbone:0},{fishTypeID:0},{airFallSpeed:0},{jumping:0},{hasSurfaceAI:0},{climbingToSurface:0},{eating:0},{surfaceSwimAccel:0},{defaultUnderwaterChaseSpeed:0},{cheepChompProjectileBallHP:0},{storedPlayerX:0},{BigChasingFish:0},{torpedoTypeID:0},{targetTorpedoSpeed:0},{chasePlayer:0},{explode:0},{heldByGlove:0},{TorpedoTed:0},{booType:0},{isBigBoo:0},{isTerrisa:0},{movementSpeedX:0},{movementSpeedY:0},{fleeing:0},{canBecomeBlock:0},{inBlockForm:0},{maxMovementSpeed:0},{verticalAcceleration:0},{hAccelerationFactor:0},{blazingBoo:0},{Boo:0},{squished:0},{Splunkin:0},{maxBoos:0},{spawnedBoos:0},{BooSnake:0},{eerieMovementModeID:0},{isEmberEerie:0},{Eerie:0},{playerUIDOfInterest:0},{hSpeed:0},{vSpeed:0},{attackCycleFinished:0},{lastKnownPlayerY:0},{Crowber:0},{slinking:0},{attachedToBar:0},{hidingInBar:0},{isOnWallOrCeiling:0},{sliding:0},{Stretch:0},{movementModeID:0},{sineMovementAngle:0},{canStartSinewave:0},{GreenBubble:0},{OrbittingGhostFlame:0},{swoopColorID:0},{sleeping:0},{hMovingAngle:0},{defaultMovingAngle:0},{Swoop:0},{performingSpriteKick:0},{catchedSpriteUID:0},{detectionRange:0},{overlapTrackedUIDs:0},{broozerState:0},{HP:0},{Broozer:0},{wallPositionID:0},{ignoreTag:0},{currentlyWalled:0},{isHoldingStack:0},{isPartOfStack:0},{objectName2:0},{stackedToStackAssistUID:0},{Muncher:0},{queueGoingUp:0},{facingDirectionID:0},{static:0},{piranhaModeID:0},{colorID:0},{riseTime:0},{riseDelay:0},{sinkDelay:0},{hideFromPlayerRange:0},{PiranhaPlant:0},{queueJumpingUp:0},{spitsFlames:0},{JumpingPiranha:0},{jumpIndexInPattern:0},{VolcanoLotus:0},{segmentCount:0},{hasChaseAI:0},{Pokey_Hitbox:0},{hopsLeft:0},{fireballsLeft:0},{NipperPlant:0},{collapsed:0},{BonyBeetle:0},{hasProjectileAttack:0},{supportsCliffTurning:0},{DryBones:0},{thwompState:0},{thwompTypeID:0},{distanceTravelled:0},{fallsUp:0},{fallsRight:0},{fallsDown:0},{fallsLeft:0},{directionOfMovement:0},{horizontallyScreenwrapped:0},{verticallyScreenwrapped:0},{Thwomp:0},{Chainball:0},{thwimpState:0},{horizontalJumpMomentum:0},{landingsTillTurn:0},{defaultLandingsTillTurn:0},{leftWallHandling:0},{rightWallHandling:0},{Thwimp:0},{skinID:0},{BoneAndWrenchProjectile:0},{bulletTypeID:0},{banzai:0},{king:0},{cannonball:0},{electricParticleOffset:0},{electricParticleMode:0},{BulletBill:0},{stationary:0},{Grinder:0},{AI:0},{mechakoopaStatus:0},{visualUID:0},{baseSpeedMultiplier:0},{Mechakoopa:0},{bobombStatus:0},{hasWindupKey:0},{windupKeyUID:0},{canResetDetonationTimer:0},{detonateOnLoadAI:0},{hasParachutingAnim:0},{Bobomb:0},{fallingStatus:0},{fallSpeed:0},{SineShake:0},{FallingSpike:0},{maxSprites:0},{activeSprites:0},{targetNearestPlayer:0},{typeID:0},{recoverFromBasicStomps:0},{heldItemPoofsOnDefeat:0},{"8Directions":0},{RockyWrench:0},{kabombStatus:0},{ignited:0},{Kabomb:0},{mirrorOnAnimLoop:0},{jumpQueued:0},{tailFlameCount:0},{BoundingFire:0},{FireSnake:0},{FireTrail:0},{respawnsAfterDefeat:0},{hasTriggeredRespawnRoutine:0},{respawnDelay:0},{spriteTags:0},{tagActivityStatus:0},{nameInTagViewer:0},{displayInTagViewer:0},{baseOffsetX:0},{scrollOffsetX:0},{scrollOffsetY:0},{appearingOrDisappearing:0},{movedOffScreen:0},{AngrySun:0},{hasHorizontalSineMovement:0},{hasVerticalSineMovement:0},{Amp:0},{flameCount:0},{SineValue:0},{FlameChomp:0},{blarggTypeID:0},{liquidType:0},{additionalFallSpeed:0},{Blargg:0},{layerAboveBossUID:0},{animationID:0},{BossFlame:0},{carryingSprite:0},{flapsUpwardsLeft:0},{carryingHeavyObject:0},{isSkeleton:0},{hasSpriteRiding:0},{Goonie:0},{waitOnLanding:0},{FlightlessGoonie:0},{preparingJump:0},{bouncingFromWall:0},{HeftyGoonie:0},{slopePoints:0},{BowlingGoonie:0},{BowlingGoonie_Visual:0},{appearanceImageID:0},{stoodOn:0},{FakeBlock:0},{jumpHeight:0},{randomExtraJumpHeight:0},{randomExtraJumpDelay:0},{jumpDelay:0},{startDelay:0},{jumpDuration:0},{jumpingAngle:0},{sidewaysMovementSpeed:0},{randomExtraSidewaysMovementSpeed:0},{sidewaysMovementSpeedForCurrentJump:0},{sidewaysMovementAI:0},{prevY:0},{isInLiquid:0},{PodobooDolphinFishbone:0},{PoisonMushroom:0},{isSmall:0},{IcicleAndStalactite:0},{positionOnNet:0},{targetNetPosX:0},{usingFlipPanel:0},{shellTypeID:0},{leftHandPosX:0},{rightHandPosX:0},{backupHandX:0},{climbing:0},{turningOnNet:0},{targetPosX:0},{targetPosY:0},{targetNetFlip:0},{consecutiveSwings:0},{knockPlayerOff:0},{yellowKoopaMovementAxis:0},{fallingSpeed:0},{ClimbingKoopa:0},{horizontalSpeed:0},{maxSpeed:0},{fishingRodObjectData:0},{hasFishingRod:0},{queueNextThrow:0},{queueFishingRodCreation:0},{Lakitu:0},{franticFlying:0},{beetleTypeID:0},{ParaBeetle:0},{peekTurnsLeft:0},{travelDistance:0},{queuePeekingOutOfPipe:0},{PipeLakitu:0},{magicID:0},{spawnsObject:0},{WandMagic:0},{colorTypeID:0},{walkSpeed:0},{BeachKoopa:0},{brosTypeID:0},{collisionMode:0},{projectilesInCycleLeft:0},{chaseAI:0},{isChasing:0},{attackDelay:0},{projectileCycleMin:0},{projectileCycleMax:0},{Bros:0},{BusterBeetle:0},{offsetFromChompX:0},{offsetFromChompY:0},{attachedToPost:0},{attachedToChomp:0},{Chain:0},{chainCount:0},{targetBiteX:0},{targetBiteY:0},{postX:0},{postY:0},{bitingAngle:0},{postUID:0},{hanging:0},{MoveTo:0},{ChainChomp:0},{spriteVisualID:0},{CommonWallWalker:0},{attackStatus:0},{DinoRhino:0},{attackTimer:0},{forceFlameUpwards:0},{DinoTorch:0},{winged:0},{jumpsLeftInCycle:0},{aliveAndActive:0},{galoombaStatus:0},{Galoomba:0},{shocked:0},{raccoon:0},{hoveringWithTail:0},{containsLeaf:0},{initialRaccoonFallDone:0},{Goomba:0},{buffedDirection:0},{GreenSpinyEgg:0},{lastParticleX:0},{lastParticleY:0},{momentum:0},{KamikazeShell:0},{canCollectCoins:0},{spinning:0},{startingFlyAngle:0},{flyDistance:0},{flySpeed:0},{hasBeachKoopaInside:0},{flyingToHome:0},{hasReleasedCoin:0},{flipped:0},{flyingAtAngle:0},{flyInStraightLine:0},{stationaryMidair:0},{beachKoopaCanEnter:0},{KoopaTroopa:0},{Ninji:0},{Rex:0},{spittingOutObjectUID:0},{modeID:0},{SpikeKoopa:0},{startWalkingAfterHurt:0},{gravitySetting:0},{SpinyAndBuzzyBeetle:0},{standIdle:0},{idleDirectionID:0},{Outmaway:0},{moleTypeID:0},{isBig:0},{jumpingFromMound:0},{MontyMole:0},{chuckTypeID:0},{headLayering:0},{chuckState:0},{projectilesPerCycle:0},{projectilesLeftInCycle:0},{lockDirection:0},{affectingTags:0},{dontBecomeChargingChuck:0},{MeteorRockChecker:0},{Chuck_Base:0},{bullyTypeID:0},{bullyState:0},{knockbackMultiplier:0},{chaseSpeed:0},{playerNoticeRange:0},{playerUnnoticeRange:0},{defaultAccel:0},{BullyAndSnailicorn:0},{blockName:0},{canBeActivated:0},{canContainItems:0},{containedItemData:0},{triggered:0},{bumpable:0},{releaseItemDirection:0},{itemCount:0},{blockTimer:0},{progressive:0},{starChainer:0},{skipItemAnimation:0},{hitByPlayerID:0},{explodable:0},{emptied:0},{destructionParticleName:0},{turnBrownWhenEmptied:0},{useInvisibleSolidCollisionObject:0},{inBumpAnim:0},{genericParticlePaletteID:0},{blockHardness:0},{invisible:0},{snowy:0},{ItemBlock:0},{coinsLeftBeforeItemAppears:0},{BrickBlock:0},{EmptyBlock:0},{flipping:0},{objectWillBreakOut:0},{stopFlippingWhenPossible:0},{isShaking:0},{FlipBlock:0},{isOn:0},{OnOffSwitchBlock:0},{OnOffBlock:0},{ExclamationBlock:0},{NoteBlock:0},{GrayBlock:0},{PBlock:0},{PlayerBlock:0},{SpriteBlock:0},{detectionRangeH:0},{detectionRangeV:0},{isMoving:0},{prevUpdateCheckX:0},{prevUpdateCheckY:0},{movingSpeedX:0},{movingSpeedY:0},{PlayerSemiFloor:0},{SpriteSemiFloor:0},{skullType:0},{SkullBlock:0},{spikeType:0},{inSolidBlockForm:0},{FullSpike:0},{beingRead:0},{messageContent:0},{textOrientation:0},{containerWidth:0},{containerHeight:0},{containerOffsetX:0},{containerOffsetY:0},{showTextInScreenCenter:0},{MessageBlock:0},{OnOffTagBlock:0},{MagmaBlock:0},{defaultStartingTime:0},{OnOffTimerBlock:0},{glister:0},{FrostBlock:0},{FrostBlockOutline:0},{DottedLineBlock:0},{RockBlock:0},{visualID:0},{GrabBlock:0},{hitByObjUID:0},{AssistBlockObject:0},{PItemBlock:0},{powTypeID:0},{powBounceDirection:0},{canPerformPOW:0},{RedPOWBlock:0},{canDamagePlayer:0},{POWBlock:0},{powHitsLeft:0},{ArcadePOWBlock:0},{powerUpID:0},{canGivePoints:0},{Mushroom:0},{FireFlower:0},{SuperStar:0},{IceFlower:0},{isStatueLeaf:0},{SuperLeaf:0},{OneUp:0},{ThreeUp:0},{SmallFireFlower:0},{makeBubbleOnFall:0},{isInsideBubble:0},{BubbleFlower:0},{particleSideSign:0},{Steethan:0},{SteethanFollowing:0},{HammerFlower:0},{Carrot:0},{CloudFlower:0},{TanookiSuit:0},{PenguinSuit_Hitbox:0},{PenguinSuit_Visual:0},{FrogSuit:0},{SuperBallFlower:0},{coinTypeID:0},{alreadyCollected:0},{editorObjUIDOfTransformedObject:0},{coinSkin:0},{queueAnimationSync:0},{transformIntoEnemy:0},{animAsBlock:0},{storedBlockPaletteID:0},{Coin:0},{MovingCoin:0},{clockID:0},{FloatingClock:0},{GravityClock:0},{keyTypeID:0},{Key:0},{DetachedBillBlasterHitbox:0},{HiddenCoinVisual:0},{useAltSpriteWhenSmall:0},{alwaysUseAltSprites:0},{replaceColorCount:0},{"1_AdvancedPlatform_0":0},{"1_AdvancedPlatform_5":0},{"1_AdvancedPlatform_6":0},{"1_AdvancedPlatform_7":0},{"1_AdvancedPlatform_8":0},{"1_AdvancedPlatform_9":0},{"1_AdvancedPlatform_1":0},{"1_AdvancedPlatform_2":0},{"1_AdvancedPlatform_3":0},{"1_AdvancedPlatform_4":0},{"1_AdvancedPlatform_10":0},{"1_AdvancedPlatform_11":0},{"1_AdvancedPlatform_12":0},{"1_AdvancedPlatform_13":0},{"1_AdvancedPlatform_13_Shine":0},{"1_AdvancedPlatform_14":0},{"1_AdvancedPlatform_15":0},{"1_AdvancedPlatform_16":0},{"1_AdvancedPlatform_17":0},{"1_AdvancedPlatform_18":0},{"1_AdvancedPlatform_19":0},{"1_AdvancedPlatform_20":0},{"1_AdvancedPlatform_21":0},{"2_AdvancedPlatform_0":0},{"2_AdvancedPlatform_1":0},{"2_AdvancedPlatform_6":0},{"2_AdvancedPlatform_7":0},{"2_AdvancedPlatform_8":0},{"2_AdvancedPlatform_9":0},{"2_AdvancedPlatform_10":0},{"2_AdvancedPlatform_11":0},{"2_AdvancedPlatform_12":0},{"2_AdvancedPlatform_2":0},{"2_AdvancedPlatform_3":0},{"2_AdvancedPlatform_4":0},{"2_AdvancedPlatform_5":0},{widthInTiles:0},{lastInteractedPlatformTileUID:0},{platformIsMoving:0},{linearMovementIsActive:0},{linearMovementActiveOnStart:0},{horizontalSineActiveOnStart:0},{verticalSineActiveOnStart:0},{hasLinearMovement:0},{angleChangePerSecond:0},{playerCanActivatePlatform:0},{playerCanStartTimer:0},{timeUntilAction:0},{onTimerActionID:0},{moveOnlyWithPlayer:0},{falling:0},{activationLock:0},{accelerationTime:0},{decelerationTime:0},{lastInteractedDirectionTileUID:0},{pausedMomentum:0},{screenwrapHorizontally:0},{screenwrapVertically:0},{AdvancedPlatform_Hitbox:0},{"1_FloatingPlatform_0":0},{"1_FloatingPlatform_1":0},{"2_FloatingPlatform_0":0},{"2_FloatingPlatform_1":0},{"2_FloatingPlatform_2":0},{"2_FloatingPlatform_3":0},{donutTypeID:0},{objUIDList:0},{respawns:0},{instantFall:0},{DonutBlock:0},{parentDonutBlockUID:0},{DonutBlock_Visual:0},{riseSpeed:0},{snapToSlopedUpwardsLiquids:0},{riseAcceleration:0},{maxRiseSpeed:0},{atSurface:0},{activationMovingSpeed:0},{waitForPlayerBeforeMoving:0},{FloatingPlatform_Hitbox:0},{speedModeID:0},{targetMovement:0},{raftActivated:0},{activateOnLoad:0},{groupUID:0},{SkullRaft_Hitbox:0},{SkullRaft_Visual:0},{belongsToEditorObjectUID:0},{CirclingPlatform:0},{CustomizablePlatform_AltSprite:0},{DonutBlock_Handle:0},{containedEditorObjectUID:0},{pipeFacing:0},{activityRequirement:0},{expandDirection:0},{defaultSize:0},{growthSize:0},{sizeChangeAnimationLength:0},{sizeChangeDelay:0},{rangeH:0},{rangeV:0},{rangeOriginX:0},{rangeOriginY:0},{Pipe0_1:0},{Pipe1_1:0},{Pipe2_1:0},{Pipe3_1:0},{Pipe0_2:0},{Pipe1_2:0},{Pipe2_2:0},{Pipe3_2:0},{VerticalVinesAndPoles:0},{HorizontalVinesAndPoles:0},{screenWrapped:0},{currentlyGrowingVines:0},{growthDirectionID:0},{vinesCreated:0},{vinePaletteID:0},{hasPlayerClimbingOnOwnVine:0},{VineCreator:0},{beingFlipped:0},{flippingTime:0},{timeMultiplier:0},{FlipPanel_Outline2:0},{FlipPanel_Fence2:0},{FlipPanel_Halfway2:0},{SemiFloor:0},{SemiLeftWall:0},{SemiRightWall:0},{SemiRoof:0},{slopeID:0},{SemiRoofSlope:0},{steep:0},{SemiSlope:0},{PlayerWall:0},{connectedToFlagpole:0},{paletteName:0},{paletteOffset:0},{destructionParticleFrame:0},{HardBlocks:0},{BossBridgeAndChains:0},{updatingAnimationForOtherTile:0},{atTileX:0},{atTileY:0},{animCategory:0},{hasPingPongAnim:0},{PinToParentTilemap:0},{SpecialTiles:0},{BossGate:0},{blockedDirection:0},{blockedMount:0},{AntiMountSign2:0},{AntiMountSign1:0},{type:0},{hasHitEnemy:0},{wasShotBy:0},{movementMethod:0},{hasLandedOnce:0},{particleX:0},{particleY:0},{FireAndIceball:0},{rotatesInEngine:0},{Rotate:0},{PhysicsParticles:0},{spatOutBy:0},{DinoFlame:0},{isCameraFocus:0},{inCryo:0},{cryoVmovementSpd:0},{cryoHmovementSpd:0},{cryoFloatingState:0},{kickable:0},{sizeID:0},{containsPlayer:0},{containsCoin:0},{hasPlayerInCryo:0},{IceCube:0},{Raycaster:0},{destroyerMode:0},{InvisibleDestroyer:0},{SignPostBase:0},{HelperGameObject:0},{colorCycleTime:0},{GrabBlockObject:0},{CloudPlatform:0},{trailIndex:0},{CloudBuddy:0},{CloudPlatform_Face:0},{belongsToSpriteUID:0},{WingPin:0},{StandaloneWings:0},{ConnectorJoint:0},{offscreenTimer:0},{SuperBall:0},{SuperBallTrail:0},{detachable:0},{color:0},{pushedIn:0},{ObjectLetters:0},{PortableLightSource:0},{DragCollision:0},{forObjUID:0},{OverlapCheckerAssist:0},{LayeredLiquidBorder:0},{RedPOWShock:0},{POWElectricityReceiver:0},{SwitchActivationCollision:0},{BaddieBoxLid:0},{IcePhysicsAssist:0},{SpringBase:0},{parentSpringUID:0},{SpringCollisionAssist:0},{baseTileUID:0},{rotationModeID:0},{pendulumAmplitude:0},{pendulumPeriod:0},{rotationRadius:0},{representingObjectName:0},{chainedObjectSize:0},{currentExtraRadius:0},{peakExtraDiameter:0},{growthOrShrinkDelay:0},{queueDiameterResizing:0},{RotatingBase:0},{currentSize:0},{chainPartObjectSize:0},{barsInCircle:0},{lineIDInCircle:0},{extraHeight:0},{ExtendableLineForEditorObject:0},{optionalMode:0},{DummyObject:0},{StackAssist:0},{"1VineNinePatch0":0},{"1VineNinePatch1":0},{"1VineNinePatch2":0},{"1VineNinePatch3":0},{RollingObjectVisual:0},{parentLineUID:0},{objectType:0},{RotationBaseChainObjects:0},{SoccerBall_Flame:0},{EscalatorMotorCollision:0},{SnowPhysicsAssist:0},{sizeMayBeChanging:0},{baseRotationID:0},{baseDirection:0},{"1BillBlasterBase0_0":0},{"1BillBlasterBase1_0":0},{"1BillBlasterBase2_0":0},{sniperCannon:0},{fireDelay:0},{BillBlasterHead:0},{"1BillBlasterBase0_1":0},{"1BillBlasterBase0_2":0},{"1BillBlasterBase0_3":0},{"1BillBlasterBase1_1":0},{"1BillBlasterBase1_2":0},{"1BillBlasterBase1_3":0},{"1BillBlasterBase2_1":0},{"1BillBlasterBase2_2":0},{"1BillBlasterBase2_3":0},{releasedMethodID:0},{releaseDelay:0},{completedCycle:0},{releaseSinkDistance:0},{TorpedoGlove:0},{"2BillBlasterBase0_0":0},{"2BillBlasterBase0_1":0},{"2BillBlasterBase0_2":0},{"2BillBlasterBase0_3":0},{"2BillBlasterBase1_0":0},{"2BillBlasterBase1_1":0},{"2BillBlasterBase1_2":0},{"2BillBlasterBase1_3":0},{"2BillBlasterBase2_0":0},{"2BillBlasterBase2_1":0},{"2BillBlasterBase2_2":0},{"2BillBlasterBase2_3":0},{ammoTypeID:0},{rotationDiff:0},{standardTurnsUntilReverse:0},{currentTurnsUntilReverse:0},{ammoPerShot:0},{positionID:0},{rotationMethodID:0},{ammoLeft:0},{positionFromInit:0},{isEditorPreview:0},{shootingAmmo:0},{Cannon:0},{GoalOrb:0},{eggColorID:0},{YoshiEgg:0},{switchTypeID:0},{pressed:0},{infiniteUsage:0},{Switch:0},{destroyingBridge:0},{Axe:0},{Unextinguishable:0},{ToggleableLightSources:0},{boxType:0},{activeBox:0},{launchVectorX:0},{launchVectorY:0},{randomVectorX:0},{randomVectorY:0},{empty:0},{BaddieBox:0},{lit:0},{LightBlock:0},{hasDoneLandingBounce:0},{doLandAnim:0},{HeavyStone:0},{rotation:0},{Spike:0},{springColor:0},{springTypeID:0},{hasSolidCollision:0},{Springboard:0},{hasSetupCollisions:0},{SidewaysSpringboard:0},{VineBeanSmall:0},{VineBeanLarge:0},{npcCategory:0},{respawnItemOnUse:0},{behaviorMode:0},{walkStatus:0},{popupMessage:0},{altPopupMessage:0},{displayingPopupMessage:0},{popupActionAfterDialogue:0},{canBlink:0},{hasTalkAnimation:0},{canSwimInWater:0},{SwimmersBullet:0},{NPC:0},{waitForPlayerToLeave:0},{OneWayWall:0},{openingUp:0},{hasSpeedyMomentum:0},{Gift:0},{Bubble:0},{blowerUID:0},{enclosedEnemy:0},{popsAutomatically:0},{PlayerBubble:0},{destroyOnLanding:0},{canKnockbackPlayer:0},{SnowballCollision:0},{homingInOnClosebyPlayer:0},{homeInOnPlayerWhenClose:0},{TargetBubble:0},{PalaceSwitch:0},{fieryHitsLeft:0},{FrostedSprites:0},{SpikeballCollision:0},{signCharacter:0},{ObjectSign:0},{chuteID:0},{containedSpritePropertiesString:0},{Parachute:0},{oneTimeUsage:0},{playerTosser:0},{tempIgnoredUIDs:0},{rotationDelay:0},{ArrowCloud_Hitbox:0},{ArrowCloud_Arrow:0},{releasedSprite:0},{originalLayer:0},{groundMound:0},{megaHole:0},{MoleHole:0},{SoccerBall_Collision:0},{playerID:0},{usesDefaultPlayerPhysics:0},{controllable:0},{beingControlled:0},{canBeHurt:0},{baseWalkSpeed:0},{baseMidRunSpeed:0},{baseRunSpeed:0},{baseJumpStrength:0},{maxDirectionalSwimmingSpeed:0},{currentSlopeAdjustedMaxSpeed:0},{walkingStatus:0},{runTimer:0},{jumpingStatus:0},{holdingStatus:0},{ducking:0},{duckHeightDifference:0},{queueSprinting:0},{queueRunning:0},{warping:0},{warpTime:0},{starman:0},{metallic:0},{isMount:0},{ridingMount:0},{alwaysAvoidDamage:0},{spinjump:0},{mountedObjUID:0},{levelClearedStatus:0},{defaultWidth:0},{defaultHeight:0},{carryingObjectUID:0},{hasDoneLandingEvents:0},{hasPowerupID:0},{hasSpikyStomp:0},{hasGroundPoundStomp:0},{hasBombStomp:0},{hasCrushStomp:0},{isDismountingMidair:0},{targetNPC:0},{walkingToTargetStatus:0},{comparisonX:0},{comparisonY:0},{previousVectorX:0},{previousVectorY:0},{carryingHeavyWeight:0},{PMeterFill:0},{PMeterBoosting:0},{canStandOnSpikyObjects:0},{prevXPos:0},{prevYPos:0},{playerAccel:0},{playerDecel:0},{allowCoyoteTimeJumpFrames:0},{canResumeRunInstantly:0},{ridingLakituCloud:0},{ridingParachute:0},{slopeSpeedMultiplier:0},{hasLiquidControls:0},{beingGhostly:0},{statueForm:0},{movementSign:0},{haltVectorXOnLand:0},{isUsingTongue:0},{hasProjectileFireToSpit:0},{hasPepperFireToSpit:0},{spittingPepperFire:0},{canFly:0},{growing:0},{yoshiColorID:0},{fleeSpeed:0},{YoshiHitbox:0},{ZOrderLayerName:0},{ZOrderLayerID:0},{lockDragging:0},{optionalObjID:0},{hasPathArrow:0},{tagsForSprite:0},{oldXPositionBeforeResizing:0},{hitboxUID:0},{playerIDSprite:0},{mirroredForSprites:0},{mainOpacity:0},{holdAnimID:0},{oldPowerUpID:0},{powerUpTransitioning:0},{isTrail:0},{trailFrame:0},{YoshiSprite:0},{hasSpriteOnTongue:0},{tonguedSpriteUID:0},{tongueMainUID:0},{belongsToYoshiUID:0},{YoshiTongueEnd:0},{yoshiUID:0},{retractTime:0},{YoshiTongueMain:0},{GroundStompPoof:0},{PersistentArea:0},{RangeArea:0},{AOLTrigger:0},{parentAOL:0},{AOLRange:0},{GameObjectPlatformAssist:0},{LightCaster:0},{DarknessCaster:0},{checkCollisionFor:0},{CollisionChecker:0},{updateMode:0},{TagTile:0},{parentPipeUID:0},{tagIsActive:0},{releaseAnimationID:0},{InvisibleSpriteSpawner:0},{referenceTag:0},{EffectMaskObject:0},{newAngleOfMovement:0},{turningTypeID:0},{turnTime:0},{DirectionTile:0},{newMovementSpeed:0},{speedChangeDuration:0},{MovementSpeedTile:0},{actionDelay:0},{actionID:0},{PlatformActionTile:0},{newTags:0},{tagUpdatingMethodID:0},{TagChangerTile:0},{canTrigger:0},{newMusicStringID:0},{fadeInTime:0},{fadeOutTime:0},{transitionTypeID:0},{dynamic:0},{MusicChanger:0},{SpriteActivationAssist:0},{destinationTypeID:0},{destinationName:0},{newPlayerLayer:0},{Destination:0},{targetMapName:0},{targetDestinationName:0},{entrywayName:0},{entrywayTypeID:0},{doorTypeID:0},{doorVisualID:0},{resetWarp:0},{identifierIDForMenus:0},{Entryway:0},{entrywayID:0},{entrywayGroup:0},{entrywayType:0},{warpToMapName:0},{warpToDestinationName:0},{doorPaletteID:0},{smallMarioOnly:0},{requiresPTimer:0},{circularDoor:0},{doorIsHidden:0},{resetWarpMode:0},{dontDestroyOnCanvasClear:0},{EntrywayWarp:0},{offset:0},{hasReachedBottom:0},{hasReachedTop:0},{Flags:0},{CheckpointPole1:0},{animationStatus:0},{hasFlagSkipPrevention:0},{Flagpole1:0},{CheckpointAndGoalTarget:0},{goalType:0},{GoalpointSkipPrevention:0},{parentEntrywaySpriteUID:0},{hasEntryAnimation:0},{Door:0},{parentDoorObject:0},{makeShutSFX:0},{DoorPart:0},{"1DoorGate0":0},{DoorLock:0},{KeyholeExit:0},{KeyholeEffect:0},{Flagpole2:0},{GoalTape:0},{pickedByLastCreated:0},{frontPoleLayerName:0},{gateType:0},{firstPoleVisualID:0},{gateOffset:0},{hasAnimatedMiddleTiles:0},{GiantGate2:0},{topOrBottom:0},{offsetXFromParent:0},{isMiddleTile:0},{animationPaused:0},{GatePoleTiles:0},{hasJumpOverPrevention:0},{reachedByPlayer:0},{GiantGateActivationBox:0},{wasPickedByLastCreated:0},{GiantGateFrontPole2:0},{"2DoorGate0":0},{MidwayGate2:0},{MidwayGateFrontPole2:0},{attachedToFrontPoleUID:0},{beingMoved:0},{MidwayTape:0},{linkedEditorObjectUID:0},{targetMap:0},{targetDestination:0},{powerupID:0},{respawnEntrywayType:0},{playPowerupTransitionAnimationOnTrigger:0},{CheckpointActivationBox:0},{"1DoorGate1":0},{"2DoorGate1":0},{"2DoorGate1_Small":0},{"1DoorGate1_Small":0},{inOpeningAnimation:0},{CircularDoorGate:0},{DoorLockPart:0},{InvisWarp_Outline:0},{GiantGate1:0},{GiantGateFrontPole1:0},{currentType:0},{currentHeight:0},{generatorLength:0},{currentIntensity:0},{currentMultiplier:0},{currentStrengthX:0},{currentStrengthY:0},{CurrentGenerator:0},{particleDelay:0},{particleTimescale:0},{particleSpeed:0},{creatingParticles:0},{underwater:0},{CurrentStream:0},{RedPOWTremor:0},{BasicParticles:0},{KamikazeShellFade:0},{DropletGenerator:0},{DropletParticle:0},{effectCategory:0},{particleType:0},{defaultMovementSpeed:0},{canToggleVisibility:0},{queuedForRemoval:0},{Custom:0},{ParticlePin:0},{EffectParticles:0},{BreathBubble:0},{SnoreParticle:0},{ParticleText:0},{TextParticle:0},{KingBooMouthFire:0},{SwervingParticle:0},{tag:0},{ElectricityEffect:0},{isInitiated:0},{waterID:0},{highlighted:0},{hasBackgroundImage:0},{hasForegroundImage:0},{waterBottomsLayer:0},{hasWarpObjectEffect:0},{waterSurfaceOffset:0},{LayeredWater1_0:0},{LayeredWater1_0_Bottom:0},{LayeredWater1_0_Preview:0},{LayeredWater1_0_Front:0},{LayeredWater1_1:0},{LayeredWater1_1_Front:0},{LayeredWater2_0:0},{LayeredWater2_0_Bottom:0},{LayeredWater2_0_Preview:0},{overlayName:0},{toggleDurationTime:0},{isAdditive:0},{Overlay_Fog2:0},{Overlay_Fog1:0},{scrollMode:0},{initiating:0},{hasPaletteApplied:0},{Background:0},{CustomForeground:0},{CustomMiddleground:0},{CustomBackground:0},{AnimatedBackground:0},{GradientLine:0},{BGParts:0},{GradientIcons:0},{defaultDarknessLevel:0},{levelLayerName:0},{Darkness:0},{lightSourceFor:0},{lightSourceUID:0},{LightPin:0},{SmoothLight:0},{Light:0},{CastedDarkness:0},{ThemeCardOutline:0},{bgName:0},{bgPaletteID:0},{opensPaletteSubmenu:0},{ThemeCardBackground:0},{ThemeCardCorners:0},{CBGPreview:0},{ColorOverlay:0},{fallY:0},{canUpdateFallY:0},{MagicBottle:0},{FlamePumpkin:0},{currentlyHeldOrThrownByPlayer:0},{Pepper:0},{FallingFlame:0},{timeOnGround:0},{lastInteractedLavaPaletteID:0},{canSparkle:0},{KBCrown:0},{MagicBottleDust:0},{targetKingBooUID:0},{offsetX:0},{offsetY:0},{flyingAway:0},{flySpeedH:0},{flySpeedV:0},{Fairy:0},{copterMode:0},{originMode:0},{verticalSpeed:0},{ClownCopter:0},{ClownCopter_Eyes:0},{ClownCopter_Rotor:0},{Bowser_Dummy:0},{TailFlame:0},{initialHP:0},{weakHitsHP:0},{bossMusic:0},{defeatMusic:0},{introAnimationID:0},{introAnimationStatus:0},{walkCyclesUntilAttack:0},{phaseNumber:0},{presetPhase:0},{attackFrequency:0},{performingJumpAttack:0},{startingSpeed:0},{turningSpeed:0},{hasGottenPinchModeBoost:0},{damageTakenByStarman:0},{damageTakenByElectricity:0},{performingDiveAttack:0},{colorPaletteID:0},{alternateWingedMode:0},{jumpStrength:0},{takeoffStrength:0},{SineFlight:0},{BoomBoom:0},{movementMode:0},{circlingFireCount:0},{baseSpeed:0},{boostedDarknessSpeed:0},{targetMovementSpeed:0},{blendModeDefault:0},{blendModeInvincible:0},{invincibilityPeriodActive:0},{invincibilityPeriodSeconds:0},{spewFlameAttacksInCycle:0},{dashAttacksInCycle:0},{foodAttacksInCycle:0},{protectiveFlameCount:0},{homeLayerID:0},{attackAngle:0},{angledAnimationID:0},{itemsLeftToSpit:0},{KingBoo:0},{walkModeID:0},{attacking:0},{autoIncreaseAttackSpeed:0},{attackSpeed:0},{minimumRequiredAttacksUntilJump:0},{attacksLeftUntilJumpChance:0},{jumpChance:0},{onDefeatedActionID:0},{nextAttackQueued:0},{startNewAttackAfterTurn:0},{spewFlameProjectileCount:0},{spewFlameProjectileRandom:0},{spewFlameProjectilesLeft:0},{hammerAttacksInCycle:0},{hammerProjectileCount:0},{hammerProjectileRandom:0},{hammerProjectilesLeft:0},{attackAnimationCyclesLeft:0},{wandAttacksInCycle:0},{wandProjectileCount:0},{wandProjectileRandom:0},{wandProjectilesLeft:0},{shellAttacksInCycle:0},{shellAttackDuration:0},{shellAttackRandom:0},{shellAttackStatus:0},{canBeDamaged:0},{walledJumpStatus:0},{imposterData:0},{hammerPaletteEnabled:0},{Bowser:0},{fireballsThrown:0},{hammersThrown:0},{bubblesBlown:0},{bubbleCooldown:0},{bubblesBlownMidair:0},{superballsThrown:0},{flyingWithTail:0},{cloudsActive:0},{standardClimbing:0},{poleClimbing:0},{hangClimbing:0},{lookingUp:0},{hasShellSemis:0},{canSpawnNewClouds:0},{cloudsLeftBeforeLandingRequirement:0},{boostedPenguinSliding:0},{PoleClimber:0},{HangClimber:0},{PlayerHitbox:0},{currentPowerUpID:0},{powerUpInAnimation:0},{startpoint:0},{spinjumpFrameCount:0},{queueAnotherSwimAnimation:0},{queueSlideAngleReset:0},{PlayerSprite:0},{ExtraPlayerSprites:0},{editorInteractionsDisabledUntilTouchInputReleased:0},{levelTimer:0},{levelEndingMethod:0},{convertingTimeToPoints:0},{musicSpeedScale:0},{timedMusicTracksPlaying:0},{activeMusicTrackTag:0},{coinsNeedsSyncing:0},{grayCoinsCollected:0},{fireworkCount:0},{lastTimeStatUpdateTimestamp:0},{reOrderingLayers:0},{pickedThemeIDInLevelOrMapCreation:0},{bossGatesStatus:0},{tallyingDeaths:0},{tallyingLevelPlaytime:0},{fadeOutWhenTallied:0},{preventCameraUpdating:0},{volumeReductionFilterValue:0},{queuedSongAfterFade:0},{queuedSongFadeIn:0},{fadingMusicTag:0},{muffleAudioUnderwater:0},{SolidRaycaster:0},{SpriteGroundChecker:0},{SlopeChecker:0},{RoofSlopeChecker:0},{InvisibleTrackerObject:0},{canBeContainerItem:0},{acceptingItemsToContain:0},{containedObjData:0},{changeFrameOnRotation:0},{objID:0},{spawnID:0},{visualAppearanceID:0},{objMode:0},{mirroredStatus:0},{objType:0},{allowGameObjectRespawning:0},{queueRespawningObject:0},{hasGoneOffscreen:0},{hasEditorObjPart:0},{hasResizableRange:0},{hasDraggableResizableRange:0},{previewStatus:0},{textContent:0},{angleDifferencePerRotation:0},{defaultScrollPosInToolbar:0},{customSourceData:0},{EditorObjects:0},{InvisibleSolid:0},{ZMLayerName:0},{ZMLayerID:0},{topOrBottomOfLayer:0},{ZOrderManager:0},{hasRenderedBGChunk:0},{BackgroundCanvas:0},{BoundToLayout:0},{FavBarTween:0},{FavBarTimer:0},{FavoritesBars:0},{MiniToolbarLines:0},{PalettePickers:0},{TweenHUD:0},{TimerHUD:0},{MenuElements:0},{MenuContainers:0},{Buttons:0},{MenuTiledBackgrounds:0},{DraggableObjects:0},{TweenDropdowns:0},{CustomDropdowns:0},{CustomDropdownChilds:0},{LineSupportedObjects:0},{TweenMenus:0},{"9PatchMenus":0},{CardDisplays:0},{CustomizationMenus:0},{TweenFonts:0},{Fonts:0},{Grids:0},{SliderLines:0},{SubMenus:0},{Tabs:0},{Textboxes:0},{TextContainers:0},{WarpIcons:0},{EffectMenus:0},{CurlySeparatorBottoms:0},{CurlySeparatorTops:0},{WarpIconsOther:0},{CustomizerDots:0},{GrassSeparators:0},{PathArrows:0},{PathArrowShadows:0},{MusicOverlays:0},{ScrollbarLines:0},{MenuOutlines:0},{SMAS1_MushroomTilemaps:0},{SMAS1_MainDecoTilemaps:0},{SMW_BeachDecoTilemaps:0},{SMW_Vines:0},{DeactivationTimer:0},{SemiSolidTilemaps:0},{Solid:0},{SolidTilemaps:0},{TilemapsWithSlopes:0},{HardEmptyBlockTilemaps:0},{CryoTilemaps:0},{LavaTilemaps:0},{LiquidTilemaps:0},{PoisonTilemaps:0},{WaterTilemaps:0},{ElectricTilemaps:0},{HazardLiquidTilemaps:0},{SnowTilemaps:0},{IceTilemaps:0},{TilemapPin:0},{Tilemaps:0},{EmissiveTilemapsTimer:0},{EmissiveTilemaps:0},{FrameTimer:0},{AnimatedTilemaps:0},{SparkleTimer:0},{CrystalTilemaps:0},{StandardClimbableTilemaps:0},{StretchTilemaps:0},{ChompPostTilemaps:0},{VineTilemaps:0},{PipeTilemaps:0},{MountainBridgeTilemaps:0},{BlockTilemaps:0},{HoleTilemaps:0},{DoorTilemaps:0},{ConveyorTilemaps:0},{EscalatorTimer:0},{EscalatorTilemaps:0},{FlipPanels:0},{FlipPanel_HalfwayPoints:0},{FlipPanel_Fences:0},{StripedGates:0},{StripedGateFrontPoles:0},{StripedGatesAll:0},{BlockGameObj:0},{MiscTrails:0},{JumpTimer:0},{Goombas:0},{ElectricChargeableObjects:0},{ElectricTimer:0},{ElectrifiableSolids:0},{MomentumObjects:0},{ObjectCarriers:0},{FlowingPlatforms:0},{CustomizablePlatforms:0},{Bosses:0},{Enemies:0},{CustomMovement:0},{GameObjPin:0},{CollisionPin:0},{PlatformWind:0},{IceChecker:0},{SnowChecker:0},{LiquidChecker:0},{ConveyorSpeed:0},{GameObjects:0},{PowerUps:0},{CloudControls:0},{PlayerTimer:0},{DirectionalSwim:0},{PlayableCharacters:0},{NetClimber:0},{NetClimbers:0},{WalledSprites:0},{WallWalkableSprites:0},{YellowCoinTransformersByGrayPSwitch:0},{StackablesTimer:0},{Stackables:0},{CoinCollectors:0},{Bubbles:0},{CameraObjects:0},{RespawnablesOnDefeat:0},{JumpingFlames:0},{FireyObjects:0},{ObjectsWith8Direction:0},{FloatsInCryo:0},{FollowableObjects:0},{FollowersTween:0},{FollowersPin:0},{Follow:0},{FollowingObjects:0},{SpriteCatchAndKickers:0},{ArrowCloudRedirectableSprites:0},{LinearProjectiles:0},{PressableSwitches:0},{FireIceSuperball:0},{OverlapTrackingSprites:0},{ConveyorDirectionalSpeed:0},{ConveyorAffectedWith8Direction:0},{EnvironmentalChangers:0},{SpriteSpawners:0},{Containers:0},{Clocks:0},{CoinsTimer:0},{Coins:0},{MiscCarryablesBySprites:0},{BlockPin:0},{BlockObjects:0},{PowTween:0},{POWBlocks:0},{FloatingPlatformVisuals:0},{PlatformVisuals:0},{BillBlasterBases:0},{CheckpointPoles:0},{ShinyPlatforms:0},{ObjectPipes:0},{LakituRodHooks:0},{AntiMountSigns:0},{Flagpoles:0},{VineNinePatches:0},{AdvancedPlatformVisuals:0},{ShinyPlatformShines:0},{ObjectPipes_SMAS1:0},{ObjectPipes_SMW:0},{Arrays:0},{Dictionaries:0},{JSONs:0},{SemiTimer:0},{Semisolids:0},{Solids:0},{SemiSlopeFamily:0},{TilemapSlopeAssists:0},{Fullsolids:0},{AnimatedTiledBGs:0},{BackgroundAndParts:0},{BackgroundOverlays:0},{Backgrounds:0},{DarknessAndColors:0},{LayerdWaterFronts:0},{LayeredWaterPreviews:0},{LayeredWaters:0},{LayeredWatersBottoms:0},{AllPlayerVisuals:0},{PlayerSprites:0},{SpriteVisuals:0},{DoorGates:0},{AttachedAssistObjects:0},{EditorObjFam:0},{EditorObjParts:0},{MiscEditorObjParts:0},{DraggablePreviewObjects:0},{PlatformInfluencerTiles:0},{PlatformTileListeners:0},{TaggableObjects:0},{OtherObjectsToDestroyOnCanvasClear:0},{LightSources:0},{Particles:0},{ExpansionTween:0},{ExpansionTimer:0},{ExpandingObjects:0},{PipeSupportedObjects:0},{VinesAndPoles:0},{VineCreatorFam:0},{MiscObjectsSeparatableByNet:0},{OtherPersistentObjects:0},{ObjectsWithLiquidPalettes:0},{ObjectsWithDynamicPalettes:0},{ColorBlindAdjustedSprites:0},{SVGs:0},{MiscGameplayPreloadedSprites:0},{fromChainID:0},{titleScreenTheme:0},{btnUID:0},{frame:0},{objAngle:0},{targetScreen:0},{PROFILE_BASE_URL:0},{Hex_LB:0},{Hex_TFD:0},{Hex_Smug:0},{Hex_Nitrox:0},{Hex_Cube:0},{Hex_KC:0},{Hex_Vibrallo:0},{Hex_Vox:0},{Hex_Meep:0},{Hex_Solidfire:0},{posX:0},{posY:0},{emblemAnim:0},{japaneseEasterEggMode:0},{DEFAULT_LETTER_ANIMS:0},{JAPANESE_LETTER_ANIMS:0},{letterCollectionToUse:0},{i:0},{SMF_TEXT_CONTENTS:0},{j:0},{CHARACTER_ANIMATIONS:0},{POSSIBLE_SOUNDS_TO_PLAY:0},{newValue:0},{curYear:0},{onLayerName:0},{objAnim:0},{doAppearanceAnim:0},{appearanceDelay:0},{bootupProcess:0},{updateNewContentHighlights:0},{LAST_CONTENT_UPDATE:0},{NEW_TILESETS:0},{NEW_SPRITES_SMAS1:0},{NEW_SPRITES_SMW:0},{NEW_MUSIC:0},{NEW_OR_UPDATED_PAGES:0},{mainLocaleID:0},{isPlayingThroughPasteAndPlay:0},{startPowerupID:0},{startingTimer:0},{descriptionInPreview:0},{textToDisplay:0},{clickedUID:0},{textOffset:0},{noticeType:0},{versionCheckResult:0},{settingUpLevel:0},{levelThumbnailData:0},{finalLevelCreationStage:0},{levelDotID:0},{viewedCard:0},{oldLevelDotID:0},{newLevelDotID:0},{directionID:0},{scrollSpeed:0},{updateViewedCardVar:0},{levelID:0},{levelGamestyleID:0},{cardUID:0},{firstLoad:0},{levelSavedIsNewLevel:0},{readyToProceedStatus:0},{requestBody:0},{token:0},{levelGameStyleID:0},{mapName:0},{levelCode:0},{loadingFromCode:0},{gameMode:0},{gameStyleID:0},{levelWidth:0},{levelHeight:0},{activeMapID:0},{activeMapName:0},{mapPaletteID:0},{mapCount:0},{levelSelected:0},{mapMusicID:0},{playingCustomMusicName:0},{playingMusicName:0},{mapScreenViewportLeft:0},{mapScreenViewportRight:0},{mapScreenViewportTop:0},{mapScreenViewportBottom:0},{waterLevelModeID:0},{levelHasEnded:0},{classicRatioIsActive:0},{levelHasLoaded:0},{levelHasStarted:0},{mapIsInitiating:0},{spawnAtDefaultLocation:0},{playerSpawnX:0},{playerSpawnY:0},{playerSpawnEntrywayTypeID:0},{playerSpawnDestination:0},{previousGameStyle:0},{EDITOR_CONTENTS_TO_PRELOAD:0},{levelCanLoad:0},{firstFoundMap:0},{foundTargetMap:0},{waitingForPalettes:0},{layeredWaterData:0},{screenDiff:0},{currentEffectName:0},{effectIsActive:0},{effectTags:0},{currentEffectProperty:0},{currentEffectType:0},{generatorProperties:0},{currentLayerName:0},{layerDatString:0},{currentIID:0},{objDataString:0},{frontDataString:0},{animName:0},{animFrame:0},{hasTilemapThatNeedsLooping:0},{keyToCheck:0},{tilemapExtraValues:0},{tilesJSONString:0},{pathString:0},{k:0},{tilesetPaletteString:0},{screenwrapModeStrings:0},{newMapMusicID:0},{musicPath:0},{stopLevelMusic:0},{savingLevel:0},{actionAfterSave:0},{switchToMapNameAfterSave:0},{tileCount:0},{lastPageStringsOrIDs:0},{selectedPalettesString:0},{musicData:0},{currentMusicClassName:0},{currentGeneratorName:0},{tilemapKeyName:0},{switchPalaceStateDataString:0},{favoritedTilesString:0},{onSaveComplete:0},{switchToMapName:0},{saveCurrentMap:0},{MAX_RESTORE_POINTS:0},{loadedMapNames:0},{musicPathInJSON:0},{fullMusicString:0},{ALWAYS_LOADED_SPRITES:0},{currentLayerType:0},{tilemapsFound:0},{foundTilemapName:0},{foundTilemapPalette:0},{spritesToLoad:0},{associatedMusicPath:0},{spriteID:0},{musicToPreload:0},{dataString:0},{extraValueIndexWithMusic:0},{musicID:0},{objectTypeNames:0},{currentObjID:0},{playStompSound:0},{defaultAnim:0},{animSpeed:0},{optionalState:0},{signInCalculations:0},{vectorX:0},{vectorY:0},{bouncePlayer:0},{dividerValue:0},{appearanceID:0},{fakeBlockUID:0},{fakeBlockDirection:0},{WALLWALKER_OBJECT_NAMES:0},{degreesToRotate:0},{wallWalkerUID:0},{canTurnCorner:0},{collisionSign:0},{canCreateSkidParticle:0},{BULLY_TYPES:0},{playerUID:0},{knockbackVectorX:0},{knockbackSign:0},{bullyOrSnailicornAccel:0},{dealKnockback:0},{piranhaFrontAngle:0},{fireballAngle:0},{displayUpOrDownInAnim:0},{imagePointsDistance:0},{wallPosID:0},{nipperUID:0},{extraRange:0},{vx:0},{vy:0},{angles:0},{tweenTime:0},{movementAI:0},{removingSegmentID:0},{frozeyBy:0},{uncollapsedHitboxHeight:0},{flameAnimID:0},{collisionWidth:0},{directionOnFallReactionID:0},{nextJumpHeight:0},{nextSidewaysMovementSpeed:0},{size:0},{continueWalking:0},{detonateStanding:0},{detonationTimer:0},{detonating:0},{canStartTurnTimer:0},{kabombAccel:0},{banzaiSpeedReduction:0},{maxRNGPosOffset:0},{imagePointToUse:0},{displayDelay:0},{foundHitbox:0},{extraBaseHeight:0},{animForInvisSolid:0},{originDotOffsetX:0},{originDotOffsetY:0},{editorObjUID:0},{baseUID:0},{isSniper:0},{containsBulletTypeID:0},{imagePointName:0},{bulletAngle:0},{addition:0},{newMovementIncrement:0},{turningTime:0},{newAngle:0},{hideBaseBox:0},{releaseMethodID:0},{releasingTedTypeID:0},{sinkPixelDistance:0},{containedSpriteID:0},{mirrorStatus:0},{containerData:0},{spriteAngle:0},{retreatTime:0},{retreatAnim:0},{foundTilemap:0},{targetDirectionSign:0},{throwVectorX:0},{throwVectorY:0},{defeaterUID:0},{booTypeID:0},{booUID:0},{playerSpriteUID:0},{fadeWaitTime:0},{randomAngle:0},{snakeGravity:0},{isBlazingBoo:0},{performDefaultPlatformHandling:0},{storedAngle:0},{setFallAnimationOnFail:0},{isSquishy:0},{awake:0},{moveToPlayerUID:0},{startingMovementAngle:0},{bubbleOpacity:0},{blendMode:0},{blendName:0},{broozerAccel:0},{newFlopAnimID:0},{storedAnimSpeed:0},{OBJ_NAMES:0},{newSpeed:0},{tweenName:0},{mouthHitboxWidth:0},{mouthHitboxHeight:0},{targetAngle:0},{damagerUID:0},{halvedVectorX:0},{overlappingMouthHitbox:0},{isAtLeft:0},{isAtRight:0},{blooperType:0},{babyCount:0},{canUnleashBabies:0},{blooperBabyOffsetAngle:0},{updateHome:0},{forceStop:0},{bouncedOffAmp:0},{tailFlamesCount:0},{hasDespawnTimer:0},{respawnsOnDefeat:0},{tags:0},{activeOnStart:0},{fireballMovingAngle:0},{deepEnoughInLiquid:0},{inLiquidTypeID:0},{movementMultiplier:0},{foundGameObjRidingGoonie:0},{canTurnIntoFlightlessGoonie:0},{wallPos:0},{isSlopedStatus:0},{diggedUpByChuck:0},{globalMovementVectorY:0},{fullPaletteData:0},{isLarge:0},{meteorPaletteID:0},{paletteList:0},{currentRGB:0},{direction:0},{resetSpeed:0},{koopaUID:0},{optionalPlayerUID:0},{exitMode:0},{stateHasChanged:0},{detectedSlopeTypeID:0},{foundShell:0},{SMW_KOOPA_RGBS:0},{layerToMoveTo:0},{objUID:0},{hammerID:0},{optionalThrowerUID:0},{autoActivate:0},{linearMovementSpeed:0},{linearMovementAngle:0},{chaseMode:0},{blocksTooNearby:0},{rodSpawnX:0},{rodSpawnY:0},{holderUID:0},{rodHandleUID:0},{lakituUID:0},{containedSpriteData:0},{gamestyleOffset:0},{objectUID:0},{stillGrabbingObj:0},{storedGlobalMovement:0},{grabbedObjUID:0},{foundGameObjOnShell:0},{fullChuckPaletteData:0},{colorCountToReplace:0},{chuckColorID:0},{projectileLimit:0},{idleUntilStomped:0},{layeringMode:0},{movingSpeed:0},{jumpStrengthInPixels:0},{faceFront:0},{objectToCreate:0},{objectPaletteID:0},{heldByChuck:0},{leftSlopeID:0},{rightSlopeID:0},{follow:0},{updateToBlockPos:0},{blockObjUID:0},{skipBumpIfPossible:0},{tweenAnimName:0},{blockUID:0},{releaseItem:0},{playStandardSound:0},{hasCustomPositionSetting:0},{pixelsToTravel:0},{optionalIndex:0},{itemData:0},{gameObjUID:0},{tweenedObjUID:0},{emptyAnim:0},{proceedWithChecks:0},{coinAnim:0},{coinID:0},{reducedParticles:0},{collisionOffsetX:0},{collisionOffsetY:0},{excludedBlocks:0},{maxBlockHardness:0},{canSmashThroughBlocks:0},{foundBlockObj:0},{enable:0},{affectFlipBlocks:0},{affectBrickBlocks:0},{blockLayerName:0},{blockX:0},{blockY:0},{coinsLeftUntilItem:0},{skipBumpAnim:0},{switchBlockUID:0},{timerBlockUID:0},{flipBlockUID:0},{triggeredByUID:0},{messageBlockUID:0},{optionalContentsData:0},{PARTICLES_PER_GAMESTYLE:0},{itemBlockUID:0},{preventPlatformEnabling:0},{kickSpeed:0},{turnEmptyWhenHit:0},{spawnInEmptyBlockForm:0},{powHitsAvailable:0},{activeBossCount:0},{horizontalJumpSpeed:0},{playerIsElectric:0},{instantDefeat:0},{haltVectorX:0},{freezeTime:0},{anotherBowserBossIsActive:0},{imposterVectorY:0},{shouldTurn:0},{skipAttackTelegraph:0},{hammerToThrowUID:0},{skipGrabAnim:0},{wandMagicAngle:0},{detonateEarly:0},{knockbackX:0},{knockbackY:0},{anotherKingBooBossIsActive:0},{totalOverlappedDarkness:0},{positiveAngle:0},{gravityAngle:0},{randomDistance:0},{fairyUID:0},{tweenTimerLength:0},{middlePosX:0},{middlePosY:0},{flameVectorX:0},{flameVectorY:0},{playerDetected:0},{pipeLidX:0},{pipeLidY:0},{pipeDirectionID:0},{customRange:0},{ignoreFloorPipeYCheck:0},{pinToImagePoint:0},{ballLayer:0},{optionalDimmerUID:0},{increaseComboIfApplicable:0},{foundKickableSpriteUID:0},{onlyLinkUID:0},{vectorXOfCatchedSprite:0},{spriteKickerMovement:0},{containerFacingSign:0},{containerEnemyUID:0},{releasedSpriteUID:0},{originObjUID:0},{canMakeFreezeFX:0},{enemyUID:0},{OBJ_WITH_SQUISHED_ANIMS:0},{gameObjYPosToCheck:0},{OBJ_USING_CENTER_POINTS:0},{OBJ_THAT_CANCEL_PENGUIN_SLIDE:0},{playerHitboxUID:0},{mountUID:0},{playableCharacterUID:0},{newMountUID:0},{PROJECTILE_BASED_SPRITES:0},{flee:0},{hitByObjectName:0},{gameObjUIDToTongue:0},{spriteData:0},{isOverlappingSolid:0},{flameMovingAngle:0},{hoverGravity:0},{dontUpdateRealtimeHeight:0},{optionalRiderUID:0},{jumpOrSwimOut:0},{canControlCloud:0},{fallingSpeedWithPlayer:0},{faceAnim:0},{coins:0},{totalDragonCoins:0},{switchShouldTrigger:0},{bounceDirection:0},{enemyDefeatMethod:0},{targetMovingAngle:0},{targetDirection:0},{coinType:0},{isHidden:0},{disableMovement:0},{playHitSound:0},{collectorUID:0},{instaCollect:0},{spawnDirection:0},{immediatelyAddToCoinCount:0},{coinLayer:0},{coinX:0},{coinY:0},{coinsFound:0},{currentMapName:0},{currentPath:0},{despawnTimer:0},{soundName:0},{byObjUID:0},{gameObjToLaunchUID:0},{bounceStrength:0},{toggledOn:0},{sfxVolume:0},{atAnimTileUID:0},{lightSourceName:0},{lightUID:0},{isGoodieBox:0},{lidIsObstructed:0},{boxUID:0},{spawnsCoins:0},{releaseObjectWithoutDamage:0},{useMeltingAnimation:0},{extraMovementSpeed:0},{playDefaultSound:0},{coinsToCreate:0},{cryoPalettes:0},{currentRGBs:0},{cryoTilemapUID:0},{offByDefault:0},{degree:0},{movementDistance:0},{randomTime:0},{powHitSign:0},{obtainedRGB:0},{crackedOpenByObjUID:0},{crackedParticle:0},{characterID:0},{optionalPaletteID:0},{skinBehaviorID:0},{popupHandlingID:0},{showTextInCustomizedArea:0},{npcBehaviorID:0},{disableMovementBehaviors:0},{editorObjectSpawnX:0},{canSpawnItem:0},{positiveSwimAngle:0},{mirrorAngleOfMotion:0},{hasFoundSolidLeft:0},{hasFoundSolidRight:0},{nearestNPC:0},{collidedObjUID:0},{leftwardsSlopeCollisionID:0},{rightwardsSlopeCollisionID:0},{spawnedByChuck:0},{playTossSFX:0},{playerInteractionID:0},{storedBallVectorX1:0},{storedBallVectorY1:0},{storedBallVectorX2:0},{storedBallVectorY2:0},{angleDiffBetweenSprites:0},{movingSpeedForRicochet:0},{speedForRicochet:0},{lastMovingAngle:0},{lastMovingSpeed:0},{foundSlopeID:0},{bounceAngle:0},{containerObjDataString:0},{SMAS1_GIFTBOX_IDS:0},{SMW_GIFTBOX_IDS:0},{squashFromDirection:0},{shortenedObjData:0},{optionalStickerName:0},{giftWrapParticleName:0},{poppedByPlayer:0},{canReceiveKnockback:0},{knockbackedObjUID:0},{alreadyActivate:0},{gameObjUIDToAttach:0},{paletteData:0},{storedCharacter:0},{extraEditorObjectDisplayUID:0},{signIsWallAngled:0},{iconCarrierUID:0},{initialTargetAngle:0},{rotationsUntilReversing:0},{disableRotationOnLoad:0},{optionalTags:0},{extraEditorObjectUID:0},{arrowCloudUID:0},{redirectableSpriteUID:0},{performDefaultVectorSetting:0},{affectedSpriteUID:0},{instant:0},{rgbValues:0},{holeTypeID:0},{spawnedAsTile:0},{curAngle:0},{emptyMoleHoleAnimation:0},{P1UsesController:0},{startpointLayerName:0},{playerSpawnLayerName:0},{spawnX:0},{spawnY:0},{reduceRunTimerThisFrame:0},{canInitiateSlide:0},{resetHorizontalMomentum:0},{resetVerticalMomentum:0},{newHeight:0},{canTurn:0},{updateMirroring:0},{resetVectors:0},{bounceHeightInPixels:0},{boostedBounce:0},{jumpType:0},{optionalParticleName:0},{playDefaultSFX:0},{characterUID:0},{HELD_SPRITES_THAT_DESTROY:0},{itemUID:0},{frameType:0},{kickObjectWithExtraVelocity:0},{SPRITES_WITH_EXTRA_KICK_VELOCITY:0},{thrownDirection:0},{foundSolid:0},{alwaysPutItemDown:0},{canProceedWithGrab:0},{mainPlayerIsSmallForm:0},{playerSupportsDucking:0},{climbingType:0},{layerIDOfClimbableObj:0},{ZIndexOfClimbableObj:0},{intendedClimbingPosition:0},{travelLength:0},{freezerUID:0},{preventOutOfBoundsTargets:0},{foundRoof:0},{oldWidth:0},{newWidth:0},{atX:0},{atY:0},{ignoreStatueForms:0},{vectorYOfSprite:0},{becomeControllable:0},{isSpinjumping:0},{gameObjToHold:0},{handPosY:0},{leftHandIsOnNet:0},{rightHandIsOnNet:0},{vineOrPoleUID:0},{hasSpaceForFeet:0},{handsCovered:0},{slopeTypeID:0},{newMultiplierToReturn:0},{rightSlopeStatus:0},{leftSlopeStatus:0},{turnAccel:0},{targetOffset:0},{headSlopedStatusR:0},{headSlopedStatusL:0},{shouldDisplayEmblem:0},{emblemX:0},{emblemY:0},{kickedObjectUID:0},{newPowerUpID:0},{movementAnim:0},{canSetAnim:0},{targetAnim:0},{newMainOpacity:0},{updateCurrentOpacity:0},{damagedBy:0},{gameOver:0},{waitTime:0},{fadeAnimTime:0},{fadeOutAfterSeconds:0},{playDeathJumpAnim:0},{dismountMounts:0},{propertyName:0},{setThrowAnimation:0},{layerName:0},{fireballSpeed:0},{angleOfMotion:0},{gravityIntensity:0},{optionalObjUID:0},{poofAnimName:0},{parachuteGrav:0},{holdAnim:0},{resetWalkingVariables:0},{throwDirectionSign:0},{OTHER_SUPERBALL_AFFECTED_ENEMIES:0},{changedDirection:0},{targetCloudX:0},{targetCloudY:0},{sparkleParticleName:0},{parAngle:0},{foundNonCloudPlatform:0},{characterUIDToCheckFloorsWith:0},{doTopLiquidCheck:0},{collidedWithSpriteUID:0},{giveInvisFrames:0},{includeFloorsCheck:0},{powerUpUID:0},{playPoofAnimation:0},{playTransitionAnimation:0},{duration:0},{superStarUID:0},{steethanUID:0},{electricTimeLeft:0},{collisionX:0},{collisionY:0},{toggleOn:0},{SMAS1_POWERUP_STRINGS:0},{SMW_POWERUP_STRINGS:0},{buildPowerUpString:0},{tagsForSpawner:0},{tagIsActiveOnStart:0},{activityRequirementID:0},{horizontalRange:0},{verticalRange:0},{lengthInTween:0},{highestCurrentSpeed:0},{fastestCurrentUID:0},{currentParticleStreamsCount:0},{intensity:0},{currentModeID:0},{currentWidth:0},{currentTags:0},{optionalEditorObjUID:0},{currentAngle:0},{randomX:0},{startingImagePoint:0},{platformUID:0},{taggableObjUID:0},{optionalSpawnerUID:0},{isSkeletonGoonie:0},{optionalComboIncreaserUID:0},{createStars:0},{forEditorObjUID:0},{recLeft:0},{recTop:0},{recRight:0},{recBottom:0},{ENEMIES_KEEPING_ANIMATION:0},{UNFLIPPABLE_ENEMIES:0},{defeatMethod:0},{destroyerUID:0},{COMBO_SCORES:0},{fontX:0},{fontY:0},{displayTextAtObjUID:0},{dontPlayDefaultHitSound:0},{reasonForComboIncrease:0},{comboID:0},{maxLifeIncrease:0},{scoreToDisplay:0},{particleTextCenterX:0},{particleTextCenterY:0},{hitSoundName:0},{canPlayMaxStompSound:0},{gameObjWithComboUID:0},{soundX:0},{soundY:0},{soundEffectHandling:0},{playableCharactersUID:0},{directionString:0},{makeIceCubeFloatIfAirborne:0},{frozenBy:0},{burnParticleName:0},{SPRITES_WITH_FROSTED_VARIANTS:0},{chargedTimeLeft:0},{chargedTime:0},{electricityTag:0},{storedUID:0},{levelHasIcePhysics:0},{foundIce:0},{iceLayerName:0},{assistAnimation:0},{assistWidth:0},{assistHeight:0},{copyWidthAndHeight:0},{checkPosX:0},{checkPosY:0},{detectedSlopeTileID:0},{snowLayerName:0},{posXToCheck:0},{posYToCheck:0},{oldSpeed:0},{hasFoundResistanceSemi:0},{usePlatformWind:0},{forceX:0},{forceY:0},{combinedForce:0},{cliffSign:0},{foundSlope:0},{cliffSide:0},{kaboomAtX:0},{kaboomAtY:0},{explotionDuration:0},{explodedObjUID:0},{stackableObjectUID:0},{targetSpriteUID:0},{delay:0},{unlinkFromParent:0},{spriteOrderInChain:0},{followedObjUID:0},{posInChain:0},{followingObjUID:0},{launchHeight:0},{optionalDataTokens:0},{canFloatUpwards:0},{respawnableObjectUID:0},{storedWidth:0},{forceDirection:0},{skipTurnAnim:0},{overrideStationaryMovement:0},{directionWithoutPlayer:0},{movingDirection:0},{targetPos:0},{optionalOffset:0},{hWrapOffset:0},{vWrapOffset:0},{canLiftAnimationLock:0},{fromSpriteUID:0},{HAS_EXTRA_KICK_VELOCITY:0},{DESTROYS_ON_TOSS:0},{timerTagToCheck:0},{usePrevFramePos:0},{spriteName:0},{repColorCount:0},{identifiers:0},{foundGround:0},{collisionObjX:0},{collisionObjY:0},{collisionObjAngle:0},{collisionObjAnim:0},{collisionObjWidth:0},{collisionObjHeight:0},{checkForSolids:0},{checkForLiquids:0},{optionalSemiCheck:0},{oldPosX:0},{oldPosY:0},{pushMethod:0},{solidObjUID:0},{tagToCheckFor:0},{losAngle:0},{losRange:0},{coneOfView:0},{objWidth:0},{objHeight:0},{dontFollowPos:0},{forGameObjectUID:0},{checkerWidth:0},{checkerHeight:0},{newPosX:0},{newPosY:0},{newAnim:0},{destroyerLayer:0},{destroyerX:0},{destroyerY:0},{destroyerWidth:0},{destroyerHeight:0},{strength:0},{deceleration:0},{shouldFloatInPlace:0},{leftOrRight:0},{movementVectorX:0},{includeWind:0},{includeConveyor:0},{movementVectorY:0},{allowDedicatedVectorXEvents:0},{readVectorYAsPixelHeight:0},{fromObjUID:0},{collidedObjVectorX:0},{collidedObjVectorY:0},{colliderVectorX:0},{colliderVectorY:0},{ignoreSolidChecking:0},{autoEnablePlatformBehavior:0},{collidedWithObjUID:0},{newTimescale:0},{checkForWater:0},{checkForLava:0},{checkForPoison:0},{checkForCryo:0},{sourcePaletteID:0},{paletteOffsetInPaletteData:0},{firstPaletteIndex:0},{dontRunPaletteSwapEvents:0},{liquidTilemapUID:0},{originalFramesCount:0},{hasLavaPalettes:0},{hasPoisonPalettes:0},{hasCryoPalettes:0},{hasWaterPalettes:0},{lavaPaletteCount:0},{poisonPaletteCount:0},{cryoPaletteCount:0},{waterTilemapUID:0},{canProceedToNextStep:0},{stepsSucceeded:0},{firstSpriteLayerInfo:0},{secondSpriteLayerInfo:0},{hitboxLeftX:0},{hitboxRightX:0},{hitboxTopY:0},{hitboxBottomY:0},{firstObjX:0},{firstObjY:0},{secondObjX:0},{secondObjY:0},{firstObjIsOnNet:0},{secondObjIsOnNet:0},{firstSpriteUID:0},{secondSpriteUID:0},{doOverlapTrackerCheck:0},{doNetCheck:0},{climbablesLayerInfo:0},{collisionHeight:0},{firstLeftPosCheck:0},{secondLeftPosCheck:0},{firstRightPosCheck:0},{secondRightPosCheck:0},{doSlopeChecks:0},{slopeRefX:0},{slopeRefY:0},{hitboxLeftSide:0},{hitboxRightSide:0},{hitboxTopSide:0},{hitboxBottomSide:0},{searchingObjUID:0},{searchDirection:0},{objUIDToCheck:0},{directionToCheck:0},{newUID:0},{targetUID:0},{inMap:0},{warpingObjUID:0},{canProceedWithWarpCheck:0},{canEnterWarp:0},{offsetFromWarp:0},{canProceedEnteringDoor:0},{unlockAnimDuration:0},{entryWayID:0},{entryWayUID:0},{warpDelay:0},{warpX:0},{warpY:0},{customObjectOutputLayer:0},{swimmingWithPenguinOrFrogSuit:0},{endAnimationID:0},{doorPaletteData:0},{warpAnimationID:0},{horizontalSign:0},{destinationMap:0},{DOORS_WITH_OPENING_ANIMS:0},{doorCount:0},{ANIMATIONS_WITH_2_DOORS:0},{entrywayUID:0},{doorUID:0},{delayTime:0},{doorObjectUID:0},{delayType:0},{playedDoorSlamThisFrame:0},{physicsParticleCap:0},{parLayer:0},{parX:0},{parY:0},{parAnim:0},{parSpeed:0},{displayAboveObjectUID:0},{layerID:0},{onLayerString:0},{centerPosX:0},{centerPosY:0},{offsetParticles:0},{starFrame:0},{repeatCount:0},{SMW_PARTICLE_ANGLES:0},{optionalParentParticleUID:0},{rotationMethod:0},{magnitude:0},{increaseFrame:0},{period:0},{horMagnitude:0},{verMagnitude:0},{horCyclePos:0},{verCyclePos:0},{atObjUID:0},{enablePlatform:0},{parLayerName:0},{storedMovementX:0},{ADVANCED_PLATFORM_COUNTS:0},{FLOATING_PLATFORM_COUNTS:0},{platformName:0},{platformSkinID:0},{platformPaletteID:0},{platformWidthInTiles:0},{platformAbb:0},{basePaletteData:0},{targetPaletteData:0},{replaceColorEffectCount:0},{platformVisualUID:0},{platformType:0},{tileLength:0},{linearSpeed:0},{linearActive:0},{playerActivatable:0},{horSineMagnitude:0},{horSinePeriod:0},{horSineOffset:0},{horSineActive:0},{verSineMagnitude:0},{verSinePeriod:0},{verSineOffset:0},{verSineActive:0},{accelTime:0},{decelTime:0},{angleChangePerSec:0},{onlyMoveWithPlayer:0},{doNotUnload:0},{horScreenWrap:0},{verScreenWrap:0},{platformTags:0},{tileCanInfluencePlatform:0},{SKIN_HITBOX_HEIGHTS:0},{semiSolidUID:0},{landedSpriteUID:0},{sinkSpeed:0},{foundSprite:0},{raftUID:0},{storedTargetMovement:0},{collisionOffset:0},{storedGroupUID:0},{skullRaftUID:0},{offsetSign:0},{newConveyorSpeed:0},{newEscalatorSpeed:0},{permanently:0},{foundGroundConveyor:0},{foundConveyor:0},{levelClearMusic:0},{fadeOutTimer:0},{optionalExtraValueIndexCheck:0},{valueRequiredToPass:0},{palettesToUse:0},{last2Digits:0},{poleUID:0},{randomY:0},{gateLayerName:0},{extraValue:0},{canGainCheckpointPowerup:0},{mapNameExists:0},{particleMovementAngle:0},{activatedByPlayerID:0},{keyUID:0},{mapToList:0},{dropdownUID:0},{forMapName:0},{offsetToSave:0},{canStickToSolid:0},{detachSprite:0},{startAngle:0},{destroyAnimName:0},{spreadOrShrinkLength:0},{rotatingBaseUID:0},{platformVisualID:0},{changerWidth:0},{changerHeight:0},{dynamicID:0},{canChangeMusic:0},{newTargetMusic:0},{seekToPos:0},{storedTweenValue:0},{SMW_VINE_PALETTE_COUNT:0},{paletteCharacter:0},{optionalParentObjectUID:0},{vineTilemapUID:0},{editorObjOID:0},{pipePalettes:0},{currentPipePaletteRGBs:0},{currentColorRGBs:0},{newBaseSize:0},{tilemapUID:0},{tileX:0},{tileY:0},{propertyToGet:0},{arrayValue:0},{tileIndex:0},{verticalSign:0},{ICY_TILEMAPS:0},{ICY_TILEMAP_PALETTES:0},{identifierName:0},{SNOWY_TILEMAPS:0},{SNOWY_TILEMAP_PALETTES:0},{leftPosX:0},{rightPosX:0},{passingParams:0},{firstPostTileIndex:0},{stomperUID:0},{updateToPostPosition:0},{firstOnScreenTileX:0},{paletteApplyingCount:0},{paletteGeneratingCount:0},{grassAnimOffset:0},{createdSemiSlope:0},{forceLoadSemiSolidCollisions:0},{ebFrame:0},{hbFrame:0},{blockAnim:0},{optionalParentUID:0},{isChain:0},{donutBlockType:0},{visualAnim:0},{bossGateID:0},{hbPalOffset:0},{hbPalColorCount:0},{hbPaletteOffset:0},{dropletAnim:0},{moleID:0},{syncAnim:0},{optionalPaletteColorData:0},{paletteColorCount:0},{tileAnim:0},{tileUID:0},{curTileID:0},{applyPlaceholderEffects:0},{sourcePaletteRGBs:0},{currentRGBString:0},{fullTilemapPaletteData:0},{targetPaletteRGBs:0},{solidX:0},{solidY:0},{solidLayer:0},{solidWidth:0},{solidHeight:0},{solidAngle:0},{parentUID:0},{hitboxForObjName:0},{optionalCollisionTag:0},{copySizes:0},{optionalExtraTags:0},{slopeWidth:0},{slopeHeight:0},{slopeColAnim:0},{hasNearbyGameObj:0},{foundGameObj:0},{newColTag:0},{autoUpdateFilter:0},{colTagToRemove:0},{collisionTagToInsert:0},{collisionTagToRemove:0},{solidUID:0},{gameObjTagString:0},{solidCollisionTagString:0},{objIDsWithCBAnims:0},{colorBlindFriendlynessStatus:0},{firstToken:0},{timerShouldDisplay:0},{timerIconAnim:0},{timerForObjUID:0},{secondsLeft:0},{deloadedTimerID:0},{stringToCheck:0},{globalTimeScale:0},{blockAnims:0},{lock:0},{recordingQuality:0},{cameraX:0},{includeVersionNumberAnimation:0},{activeDebuggerMenu:0},{tagStatus:0},{fpsColor:0},{activeSemis:0},{activeObjects:0},{objectsCreatedLastSecond:0},{objectsDestroyedLastSecond:0},{queuedObjects:0},{lastObjCount:0},{tagActivityString:0},{queuedObjCount:0},{retrieveSpeedFromUID:0},{propertiesContent:0},{JSONToPass:0},{response:0},{error:0},{updatePausePage:0},{userID:0},{accountAsJSON:0},{activityString:0},{lssLevelID:0},{responseJSON:0},{syncedLevelID:0},{serverResponseJSON:0},{functionOnSuccess:0},{updateTarget:0},{errorBaseNumber:0},{statusCode:0},{optionalMsg:0},{lastScrollX:0},{lastScrollY:0},{isFixedResolution:0},{langJSONToSync:0},{prevLocale:0},{PLURAL_SUPPORTED_KEYS:0},{currentPathEndKey:0},{keySupportsPlurals:0},{path:0},{internalBGName:0},{cardLayerName:0},{BGDataFromDictionary:0},{bgPaletteCount:0},{cbgURL:0},{editingMusicClassID:0},{sortedMusicIDs:0},{forMusicClassID:0},{musicTagPlaying:0},{SMAS1_GAME_CATEGORIES:0},{SMW_GAME_CATEGORIES:0},{SMAS1_THEME_CATEGORIES:0},{SMW_THEME_CATEGORIES:0},{sortIndexID:0},{categoriesForLoop:0},{shouldDisableButton:0},{separatorOffset:0},{currentCategoryIndex:0},{currentMusicID:0},{buttonOffsetFromSeparator:0},{currentCustomMusicID:0},{pickedMusicID:0},{newMusicName:0},{dupeCount:0},{musicToRemove:0},{musicOverlayUID:0},{sourceURL:0},{oldName:0},{newName:0},{lockUpMenus:0},{overlayX:0},{overlayY:0},{overlayLayer:0},{overlayWidth:0},{overlayHeight:0},{opacity:0},{opacityTween:0},{tweenEndValue:0},{optionalText:0},{fontName:0},{textX:0},{textY:0},{textLayer:0},{text:0},{textWidth:0},{textHeight:0},{horizontalMode:0},{scale:0},{copySizeProperties:0},{canCreateLanguageAssistFont:0},{textboxX:0},{textboxY:0},{textboxLayer:0},{textboxText:0},{tooltip:0},{textboxWidth:0},{textboxHeight:0},{readOnly:0},{focus:0},{defaultGamestyleCSS:0},{markAsInvalidValue:0},{minimumValue:0},{maximumValue:0},{dropdownX:0},{dropdownY:0},{dropdownLayer:0},{dropdownWidth:0},{dropdownHeight:0},{options:0},{selectedOptionID:0},{btnX:0},{btnY:0},{btnLayer:0},{btnWidth:0},{btnHeight:0},{resizeToText:0},{resizingButtonTextScale:0},{btnAnim:0},{dontLightUpOnHover:0},{grayScaled:0},{iconX:0},{iconY:0},{iconAnim:0},{iconFrame:0},{iconScale:0},{iconTooltip:0},{checkboxX:0},{checkboxY:0},{checkboxLayer:0},{textData:0},{forceCheck:0},{valueToCheck:0},{valueRequiredToBeChecked:0},{rgbValue:0},{rgbAsString:0},{bgColor:0},{frameX:0},{frameY:0},{frameLayer:0},{frameWidth:0},{frameHeight:0},{backgroundLayer:0},{gameStyleColorValue:0},{separatorLayer:0},{separatorX:0},{separatorY:0},{separatorWidth:0},{separatorText:0},{textScale:0},{menuUID:0},{separatorYInMenu:0},{bottomWidth:0},{assistX:0},{assistY:0},{assistLayer:0},{assistAnim:0},{assistMode:0},{circleX:0},{circleY:0},{circleLayer:0},{circleWidth:0},{circleHeight:0},{circleOpacity:0},{circleMode:0},{parentMenuOrObjectUID:0},{dotLayer:0},{dotX:0},{dotY:0},{dotMode:0},{dotAnim:0},{sliderLayer:0},{iconPosX:0},{iconPosY:0},{sliderLength:0},{sliderFor:0},{handlePosition:0},{sliderValue:0},{sliderIcon:0},{sliderMode:0},{randomSoundName:0},{scrollbarLayer:0},{scrollbarPosX:0},{scrollbarPosY:0},{scrollbarHeight:0},{includeScreenMenuCheck:0},{dimIntensity:0},{menuElementUID:0},{tooltipY:0},{tooltipLayer:0},{tooltipX:0},{pickedIndex:0},{colorValue:0},{activeLayerID:0},{layerNames:0},{becomeChecked:0},{checkboxUID:0},{tabObjName:0},{tabLayer:0},{tabX:0},{tabY:0},{tabWidth:0},{tabHeight:0},{selectedTabID:0},{buttonID:0},{menuLayer:0},{menuCenterX:0},{menuCenterY:0},{selectedButtonID:0},{disableCenter:0},{btnManagerUID:0},{arrowX:0},{arrowY:0},{arrowAngle:0},{showMinusInstead:0},{angleToStore:0},{fullLayerName:0},{angleToConvert:0},{amountOfSeconds:0},{deathCounter:0},{levelPlaytime:0},{statElementCount:0},{levelHasTimer:0},{levelHasShroomOrDragonCoins:0},{statisticFontY:0},{subtractsPerTick:0},{screenMenuLayerName:0},{themeID:0},{bgData:0},{mgData:0},{fgData:0},{defaultEffectData:0},{effectInLoop:0},{bgScale:0},{bgRequiredForRow:0},{bgIndex:0},{bgPropertiesString:0},{rowIndex:0},{restorePointTimestamp:0},{isRestoringPastLevelVersion:0},{textLayerName:0},{ninePatchUID:0},{grabOffsetX:0},{grabOffsetY:0},{timeDifferenceToNowInMinutes:0},{timeDifferenceToNowInHours:0},{timestamp:0},{obj1UID:0},{obj2UID:0},{lineUID:0},{doWavyEffect:0},{maximumScale:0},{activeTabUID:0},{TEXT_COLOR_PER_GAMESTYLE:0},{gameStyleRGB:0},{pickedLayer:0},{overlayAngle:0},{overlayLayerName:0},{toolbarCategoryID:0},{oldScrollLevel:0},{newScrollLevel:0},{maxScrollLevel:0},{pixelsToScroll:0},{scrollTime:0},{mostBottomObjY:0},{allowScrolling:0},{startTouchPosY:0},{screenMenuIsActive:0},{activeScreenMenuName:0},{menuName:0},{notifText:0},{notifFor:0},{notifIconAnim:0},{notifButtons:0},{autoDismissTimer:0},{notifUID:0},{warningMsg:0},{logToConsole:0},{iconType:0},{iconData:0},{tipKey:0},{markAsRead:0},{ranUpdateCheck:0},{isPaused:0},{canPause:0},{clearExistingPausePage:0},{optionName:0},{openedKeybindsMenu:0},{menuX:0},{menuY:0},{updatedKeybind:0},{updatedGamepadKeybind:0},{fontUID:0},{keycodeString:0},{keycodeID:0},{tokenValues:0},{keybindFor:0},{DEFAULT_CONTROL_KEYCODES:0},{dictUID:0},{on:0},{UsernameColourList:0},{obj1:0},{obj2:0},{objectUID1:0},{obj1Type:0},{obj1CanDestroy:0},{obj1IsDefaultDestroyerAffected:0},{obj1CanTurnOthers:0},{objectUID2:0},{obj2Type:0},{obj2CanDestroy:0},{obj2IsDefaultDestroyerAffected:0},{obj2CanTurnOthers:0},{comboCount1:0},{comboCount2:0},{direction1:0},{direction2:0},{vecX1:0},{vecX2:0},{posX1:0},{posX2:0},{objUID1:0},{objUID2:0},{removeCooldown:0},{newWindVolumeDecrease:0},{progressValue:0},{COMMON_COLLISION_TAGS:0},{storeMomentumInVariable:0},{yoshiBongosStatus:0},{soundsPlayedThisFrame:0},{SFXAudioEffectsAreApplied:0},{soundIndex:0},{stopTag:0},{soundTag:0},{volume:0},{speed:0},{customTimeScale:0},{globalSound:0},{useNewSoundFormat:0},{preventSoundOverride:0},{foundSoundToRemove:0},{soundTagFront:0},{optionalUID:0},{canPlaySFX:0},{onscreenOnly:0},{finalSoundVolume:0},{musicIsMuted:0},{soundEffectsAreMuted:0},{musicEffectsAreApplied:0},{currentMusicIndex:0},{MUSIC_TAGS:0},{musicIsPreviewing:0},{previewedMusicTag:0},{musicNameWithoutPath:0},{playedNewMusic:0},{plainCustomMusicName:0},{timedMusicCountThatPreventsOverwrites:0},{byID:0},{musicName:0},{musicTag:0},{ignoreDoubleMusicCheck:0},{updateMusicVar:0},{resetMusicVar:0},{isPassingCustomMusic:0},{dontPlayIfTimedMusicPlays:0},{globalMusic:0},{isPreview:0},{dontStopCurrentMusic:0},{isTestLoop:0},{dontResetTimedMusicVariable:0},{audioTag:0},{ALL_AUDIO_EFFECT_NAMES:0},{effectName:0},{mixValue:0},{affectedAudioValue:0},{filterName:0},{newMixValue:0},{toggleDuration:0},{skipFade:0},{newMix:0},{totalVolumeReduction:0},{userDefinedMusicVolumeReduction:0},{customMusicVolumeReduction:0},{windVolumeReduction:0},{musicVolumeReductionByFilterEffect:0},{timedMusicNeedsToPlay:0},{foundPlayingMusic:0},{loopPoint:0},{musicJSONPath:0},{musicStringID:0},{possibleCustomMusicName:0},{mapMusicPath:0},{stringID:0},{musicKey:0},{TRACKS_WITH_BONGOS:0},{trackID:0},{autoSync:0},{themeIDToPlay:0},{camX:0},{camY:0},{camOffsetX:0},{camOffsetY:0},{camFrontOffsetX:0},{newCamX:0},{newCamY:0},{midScreenX:0},{midScreenY:0},{bottomMargin:0},{objectCamY:0},{focusX:0},{focusY:0},{startX:0},{startY:0},{endX:0},{endY:0},{tweenDuration:0},{intensityX:0},{intensityY:0},{shakeDuration:0},{canScrollCamera:0},{playSoundIfApplicable:0},{editorScrollSpeed:0},{scrollDistance:0},{keyCodeToCompare:0},{lastKeyCode:0},{shouldUpdateCanvas:0},{groupName:0},{spawnBGAt:0},{firstBackgroundX:0},{firstBackgroundY:0},{divisionFactor:0},{extraX:0},{extraY:0},{setScrollMethodID:0},{bgAbbrevation:0},{specialAppearAnimation:0},{bgSource:0},{bgLayer:0},{bgX:0},{bgY:0},{scrollMethod:0},{bgIDInGrid:0},{bgSourceString:0},{inMapName:0},{bgLayerAbb:0},{isForThemePreview:0},{paletteKey:0},{bgAnim:0},{tilemapPalette:0},{surfaceY:0},{newYPos:0},{effectObjLayer:0},{effectObjX:0},{effectObjY:0},{effectObjWidth:0},{effectObjHeight:0},{effectObjOpacity:0},{effectObjAnim:0},{effectNamesToEnable:0},{effectParameters:0},{colorRGB:0},{fadeDuration:0},{playRelatedSFX:0},{currentRGBCollection:0},{fullPaletteDataString:0},{startingReplaceColorIndex:0},{updatePaletteVariable:0},{nextRGB:0},{paletteContents:0},{colorSwitchDuration:0},{maxPaletteIndex:0},{firstLetter:0},{PREVIEWABLE_SPRITE_IDS:0},{CONTAINER_COMPATIBLE_OBJECT_EDITOROBJ:0},{CONTAINER_INCOMPATIBLE_ENEMIES:0},{COIN_IDS:0},{CUSTOMIZABLE_PLATFORM_IDS:0},{GOOMBA_IDS:0},{GOOMBA_WITHOUT_PALETTES_IDS:0},{KOOPA_IDS:0},{BULLET_IDS:0},{LINEAR_FLAMES:0},{LINEAR_PROJECTILES:0},{MONTY_MOLE_IDS:0},{CHUCK_IDS:0},{ONEWAYWALL_IDS:0},{groupString:0},{checkedObjID:0},{tagsFound:0},{taggableObjectsUID:0},{tagsToCheckFor:0},{currentTag:0},{tagsToAdd:0},{newTagString:0},{tagFound:0},{tagsToRemove:0},{tagIndex:0},{currentTagName:0},{instanceTagList:0},{tagsToUpdate:0},{updateType:0},{FREEZEABLE_EVENT_SHEETS:0},{updatedString:0},{stringToClean:0},{charactersToRemove:0},{stringToUpdate:0},{passedString:0},{numberToCheck:0},{defaultValue:0},{stringTokenCount:0},{delimiter:0},{buildString:0},{firstIndex:0},{lastIndex:0},{fullTokenSeparatedSpring:0},{indexesToInclude:0},{indexToUpdate:0},{newData:0},{emptyValueFillDefaultChar:0},{indexToInsertAt:0},{indexToRemove:0},{stringToCheckFor:0},{currentIndex:0},{foundIndex:0},{tokenValue:0},{stringToSearchIn:0},{tokenSeparator:0},{stringToReplace:0},{valueToRemove:0},{stringToCompactify:0},{jsonUID:0},{sourceKey:0},{keyToSort:0},{newKeyToWriteTo:0},{jsonString:0},{keyToModify:0},{keyToRemove:0},{key:0},{objectString:0},{keysToCheckFor:0},{value:0},{jsonIndex:0},{dictJSON:0},{keyNameToCheckFor:0},{matchesFound:0},{targetValue:0},{dictionaryUID:0},{clearExistingKeys:0},{listOfKeys:0},{listOfValues:0},{newDepth:0},{atAxis:0},{contentString:0},{arrayAsString:0},{arrayUID:0},{firstIndexTargetValue:0},{YIndexToRetrieve:0},{recBBoxLeft:0},{recBBoxRight:0},{recBBoxTop:0},{recBBoxBottom:0},{containsOnlyNumbers:0},{RGBColors:0},{hexCode:0},{curChar:0},{cleanString:0},{allowedCharacters:0},{lastActiveEffectMenu:0},{activeEffectsTabID:0},{usedEffectCount:0},{effectIsUsed:0},{specialParam:0},{effectsForGamestyle:0},{availableOverlaysInDropdown:0},{overlayDisplayNamesInDropdown:0},{generatorDisplayNamesInDropdown:0},{menuPositionID:0},{internalNameOfEffect:0},{effectNameToPass:0},{buttonOffset:0},{blockButtonAnimation:0},{overlayID:0},{appearAnimationDuration:0},{effectType:0},{effectPaletteIndex:0},{menuPatchPalettes:0},{currentPalette:0},{fontColorHex:0},{effectDisplayName:0},{textLength:0},{IDOfOverlayMenuCard:0},{oldEffectName:0},{newEffectName:0},{newState:0},{menuScrollLevel:0},{segmentTileStructuresInToolbar:0},{lastCustomizedBackground:0},{editingLayerSettingsFor:0},{editingEffectSettingsFor:0},{tilemapExtraValuesInToolbar:0},{activeStatisticsPage:0},{paletteSelected:0},{storedCurrentTickNumber:0},{tilemapsToLoad:0},{foundTileStructure:0},{madeScrollbar:0},{cellCharacter:0},{forTilemapName:0},{paletteReferenceTilemap:0},{paletteColorIndex:0},{paletteCategory:0},{tileLayoutPage:0},{gridSize:0},{gridStartX:0},{gridStartY:0},{defaultTileY:0},{dataInCell:0},{tileOrObjectTooltip:0},{tileForTilemapName:0},{tileStructuresAreDisabled:0},{tileIDs:0},{structureForTilemap:0},{structureExtraValues:0},{rowLength:0},{firstTileX:0},{firstTileY:0},{currentTile:0},{hIndex:0},{yIndex:0},{passedTilemapName:0},{enforceTileStructures:0},{tilePicked:0},{tilemapPaletteID:0},{tileLayer:0},{dontAdjustToMenuScrollPosition:0},{tileTooltip:0},{autoApplyPalette:0},{tilemapStructureUID:0},{extraHitboxX:0},{extraHitboxY:0},{collectionX:0},{collectionY:0},{tileData:0},{customTileSelectHitboxData:0},{structureMode:0},{tileStructureLength:0},{buttonNames:0},{doMovementTween:0},{btnName:0},{clearExceptions:0},{buttonRGBs:0},{buttonColorIndex:0},{palettesShown:0},{maxPalettesShown:0},{pickedPageAndPaletteName:0},{IsApplyLowOpacity:0},{tilemapNameToReturn:0},{dataToConvert:0},{sourceTilemapString:0},{okapiMode:0},{okapiProgress:0},{menuSpawnY:0},{layerNameExists:0},{pressedAtY:0},{newOutlineY:0},{selectedlayerID:0},{newActiveLayerID:0},{hide:0},{playOpacityAnimation:0},{index1:0},{index2:0},{indicatorY:0},{playAppearAnim:0},{displayAtLayerID:0},{deletedLayerName:0},{layerDeletedID:0},{foundLayers:0},{layerTypeChar:0},{mapID:0},{duplicateFound:0},{nameToCheck:0},{oldMapName:0},{newMapName:0},{currentMapNameInLoop:0},{entrywayStringData:0},{newString:0},{textboxUID:0},{mapNameToDelete:0},{destinationID:0},{destName:0},{nameForNewMap:0},{mapWidth:0},{mapHeight:0},{copyCurrentLayers:0},{copyCurrentTheme:0},{presetWidth:0},{presetHeight:0},{newMapWidth:0},{newMapHeight:0},{checkboxValues:0},{isDuplicateName:0},{mapNameToCheck:0},{hasCompatIssue:0},{errorMsg:0},{mapAvailability:0},{targetMapForNewEntryway:0},{targetDestinationForNewEntryway:0},{mapRead:0},{menuObjectName:0},{context:0},{doorPage:0},{DOOR_IDS:0},{currentBigDoor:0},{entrLayer:0},{entrywayX:0},{entrywayY:0},{isResetWarp:0},{playGrowAnimation:0},{newEntrywayName:0},{nameIsDupe:0},{forMapID:0},{destX:0},{destY:0},{destFrame:0},{newDestinationName:0},{layerTooltipText:0},{destinationUID:0},{destinationXandYOffsets:0},{destinationData:0},{manualXandY:0},{cardX:0},{cardY:0},{cardExtraData:0},{cardHSpacing:0},{cardVSpacing:0},{storeHSpacing:0},{storeVSpacing:0},{entryWayName:0},{destinationX:0},{destinationY:0},{destinationMapID:0},{destinationInMapName:0},{barX:0},{barY:0},{fillUpArray:0},{preventDragging:0},{tilesetsOrObjects:0},{generateFavbar:0},{arrayIndex:0},{tilesetName:0},{objX:0},{layeredWaterOptions:0},{SMAS1_BG_COLORS:0},{SMW_BG_COLORS:0},{bgColorsToUse:0},{pageID:0},{page:0},{originalTouchYDistance:0},{originalFontY:0},{keyName:0},{count:0},{returnedTime:0},{timeInMinutes:0},{calculatedTime:0},{currentStatTime:0},{excludeWasOrWereWord:0},{number:0},{baseWord:0},{numberScale:0},{includeHasOrHave:0},{objCount:0},{objCoinCount:0},{objBlockCount:0},{objObjectCount:0},{objItemCount:0},{objEnemyCount:0},{objBossCount:0},{objMiscellaneousCount:0},{textBuildingString:0},{totalTileCount:0},{totalTilemaps:0},{tileLayers:0},{layerTileCount:0},{MAP_SCREEN_PRESETS:0},{waterSurfaceY:0},{screenSizeIndex:0},{previousEditorMusicID:0},{wavyText:0},{currentString:0},{index:0},{bgNameOrSource:0},{SPEED_TABLE:0},{gradientData:0},{musicSourceInCode:0},{musicClassID:0},{cardWidth:0},{optionalEditorObjIndex:0},{TIMED_MUSIC_NAMES:0},{TIMED_MUSIC_TAGS:0},{musicOverayL_UID:0},{containedMusicID:0},{tilesetNames:0},{parentTileOutlineUID:0},{doSortArrayNewCheck:0},{iconUID:0},{tileMenuName:0},{CONVEYOR_SPEEDS:0},{ebTileID:0},{hbTileID:0},{mainItemPage:0},{objectPage:0},{enemyPage:0},{forCategoryName:0},{sidebarPageID:0},{amountOfButtons:0},{buttonIndex:0},{extraPosY:0},{thumbnailNames:0},{tooltipStrings:0},{selectedPageID:0},{categoryStringToLastPagesID:0},{dropdownMode:0},{conveyorType:0},{newSelectedConveyorSpeed:0},{nameValidated:0},{typeToVerify:0},{generatorName:0},{generatorType:0},{nameToReturn:0},{internalName:0},{generatorsFound:0},{genType:0},{property:0},{generatorPropertyList:0},{fullDataString:0},{targetGeneratorType:0},{tagState:0},{windGenName:0},{newMode:0},{tagSignal:0},{totalFound:0},{onlyCountSFXGenerators:0},{layersWithDarkness:0},{effectStrings:0},{nameToVerify:0},{effectIntensity:0},{effectMovementAngle:0},{effectParticleAnimation:0},{dropHeight:0},{createEffectSpriteOnActivation:0},{instantlyRemoveParticles:0},{onlyInEditor:0},{displayName:0},{overlayUID:0},{overlayOpacity:0},{optionalFadeDuration:0},{additiveBlendMode:0},{rgbColorString:0},{targetOpacity:0},{appearDurationTime:0},{disappearDurationTime:0},{SandEffectPalettes:0},{particleAngle:0},{alwaysIgnoreEnvironmentalCollisions:0},{particleUID:0},{pageCount:0},{blockTooltipContent:0},{dropdownOptions:0},{labelContent:0},{propertyUpdated:0},{flashFrequency:0},{heatRipples:0},{flashEffects:0},{silhouette:0},{currentColor:0},{darknessOpacity:0},{darknessLayerName:0},{atLayer:0},{lightSourceX:0},{lightSourceY:0},{playResizeAnimation:0},{optionalLayerName:0},{forEngineLayerName:0},{lightSourceEngineLayer:0},{lightWidth:0},{lightHeight:0},{playShrinkAnimation:0},{litTilemapUID:0},{hasLightSource:0},{playGrowOrShrinkAnimation:0},{targetLayer:0},{targetSize:0},{sourceLayer:0},{sourceX:0},{sourceY:0},{targetLayerName:0},{rgbString:0},{screenwrapMode:0},{curObjX:0},{curObjY:0},{hitboxCenterY:0},{wrapAxis:0},{tileColValue:0},{edgeColValue:0},{createdSemiWall:0},{wrapColValue:0},{containerUID:0},{itemX:0},{itemY:0},{allowEmptyContainer:0},{forContainerSlotIndex:0},{editorObjDataString:0},{extraValuesString:0},{CONTAINER_IDS:0},{GLOBAL_CONTAINER_IDS:0},{isCompatible:0},{allowSameObject:0},{PARACHUTE_AND_GOONIE_EXCLUDED_SPRITES:0},{curID:0},{itemEditorObjUID:0},{containerEditorObjUID:0},{editorObjectDataToContain:0},{insertEditorObjectUID:0},{containerEditorObjectUID:0},{slotCount:0},{indexToCheck:0},{canPreview:0},{editorObjectToStore:0},{editorObjectContainer:0},{slotIndex:0},{hideCopyButton:0},{UNCOPYABLE_SPRITES:0},{newObjID:0},{presetName:0},{customizationMenuUID:0},{editorObjData:0},{pickedEditorObjectUID:0},{containerObjectUID:0},{SMAS1_POWERUP_IDS:0},{SMW_POWERUP_IDS:0},{SMAS1_COMMON_BLOCKITEM_IDS:0},{SMW_COMMON_BLOCKITEM_IDS:0},{BADDIEBOX_IDS:0},{COMMON_HELPFUL_ITEM_IDS:0},{BUBBLE_ITEM_IDS:0},{MONTYMOLE_IDS:0},{menuItemCount:0},{menuItemStrings:0},{preset:0},{spriteIndex:0},{spriteIDList:0},{atContainerSlotIndex:0},{copiedZLayer:0},{editorObjectToUnattach:0},{valueIndex:0},{valueContent:0},{addToTotalCustomizationsStat:0},{newVisualAppearanceID:0},{characterIsSupported:0},{SUPPORTED_CHARACTERS:0},{fireRateInSeconds:0},{currentSkinID:0},{newSkinID:0},{curWidth:0},{MIRRORABLE_SPRITES:0},{isMirrorable:0},{alwaysShowArrowTowardsDirections:0},{createArrowIcon:0},{maxMirroredStatus:0},{isCursorObj:0},{SPRITES_WITH_STATIONARY_MIRROR_MODE:0},{canPlaySound:0},{pickedPaletteID:0},{paletteIndex:0},{extraValueContent:0},{offsetFromTop:0},{headerTextContent:0},{extraValueIndex:0},{characterToSave:0},{pathArrowTypeName:0},{storeAngleAtExtraValue:0},{storeLengthAtExtraValue:0},{pathArrowTypeID:0},{canHavePathArrow:0},{updatePathArrow:0},{linearAngleExtraValueIndex:0},{updateSineSetter:0},{sineAngleExtraValueIndex:0},{arrowAngleToCheck:0},{modeIDSelected:0},{currentLength:0},{firstIndexOfAnimationProperties:0},{OBJECTS_WITH_LIGHTING_CORRECTIONS:0},{oldAngle:0},{booCountInCircle:0},{timerIncrement:0},{booID:0},{optionalBooTypeCharacter:0},{fishCountInCircle:0},{circleDirectionIsMirrored:0},{fishID:0},{musicSlotIndex:0},{periodOffset:0},{minimumPeriodValue:0},{sineWaveID:0},{TEXT_CONTAINER_IDS:0},{isTextContainer:0},{buildTokenString:0},{editedEditorObjUID:0},{platformCount:0},{platformPreviewLength:0},{offsetInMenu:0},{previewPlatX:0},{previewPlatY:0},{currentPaletteID:0},{maxPaletteID:0},{newPeriod:0},{horizontalMagnitude:0},{verticalMagnitude:0},{horizontalSineExtraValueStart:0},{verticalSineExtraValueStart:0},{activeSkinID:0},{activeSkinPaletteID:0},{activeSkinPage:0},{TOAD_COLORS:0},{OTHER_TOAD_NAMES:0},{PRINCESS_NAMES:0},{OTHER_NPC_NAMES:0},{canEditTextbox:0},{attackInfoContents:0},{attackID:0},{frequencyTextboxUID:0},{dialogueContainerX:0},{dialogueContainerY:0},{refresh:0},{containedObjDataString:0},{hasProgressiveItem:0},{hasStarChainerItem:0},{containedItemDisplayMethod:0},{containerObjUID:0},{playSoundIfEnabled:0},{atSlotIndex:0},{parentContainerUID:0},{doAppearanceAnimation:0},{dontCopyParentObjectSize:0},{newPickedDestinationID:0},{newPickedEntrywayID:0},{pickedDoorTypeID:0},{pickedDoorVisualID:0},{pickedDoorPalette:0},{skipAppearAnimation:0},{doTweenSizeAnimation:0},{objectNameInTooltips:0},{objectStrings:0},{menuElementOffset:0},{MapNameForDropdown:0},{mapNameFound:0},{Signpost_Skins:0},{Translated_Skins:0},{optionalTabID:0},{OBJECTS_WITH_CUSTOMIZATION_MENU:0},{buttonCount:0},{customizedEditorObjectUID:0},{menuWidth:0},{hasPreviewButton:0},{hasRangeButton:0},{hasPaletteButton:0},{hasMirrorButton:0},{ROTATABLE_SPRITE_IDS:0},{optionalFrame:0},{resizerMode:0},{forEditorObjValueIndex:0},{originPointUID:0},{draggableUID:0},{oppositeEndX:0},{oppositeEndY:0},{horizontalMultiplier:0},{verticalMultiplier:0},{passResizeTest:0},{frameIndex:0},{hoveringOverObj:0},{newDistance:0},{replaceFinalChainWithOtherObject:0},{topRotationBaseObjUID:0},{amplitude:0},{newAmplitude:0},{angleOffset:0},{circlingSpeedLimitDivider:0},{adjustedSpeedValue:0},{radiusValue:0},{minimumPeriod:0},{angularDistance:0},{maxPlatformSpeed:0},{indexWhereRangeValuesStart:0},{firstRangeValuesIndex:0},{rangeUID:0},{redOnOffObjectsAreOn:0},{score:0},{levelUsesLives:0},{levelUsesTimer:0},{levelHasDragonCoins:0},{playerName:0},{hudElementCount:0},{hudHorizontalOffset:0},{hudVerticalOffset:0},{hudXPos:0},{hudYPos:0},{dragonCoinCounterYPos:0},{newTime:0},{timerDecrease:0},{timeIncrease:0},{pause:0},{lives:0},{coinIncrease:0},{firstNumberToDisplay:0},{secondNumberToDisplay:0},{scoreIncrease:0},{displayRisingScoreObject:0},{liveIncrease:0},{playOneUpSound:0},{displayRisingExtraLiveText:0},{crownID:0},{tween:0},{gradientRGBs:0},{gradientOffset:0},{gradientScale:0},{inventoryBoxContent:0},{inventoryX:0},{inventoryY:0},{objFrontDataString:0},{playSound:0},{readingDialogue:0},{textOrientations:0},{containerX:0},{containerY:0},{dialogueContainerUID:0},{pixelScrollCount:0},{upPointerOpacity:0},{downPointerOpacity:0},{newDynamicLayerName:0},{atExistingLayerName:0},{isHTML:0},{forceOwnTexture:0},{parallaxX:0},{parallaxY:0},{dynamicLayerName:0},{objY:0},{objLayer:0},{containedItems:0},{optionalEnvironment:0},{enableDragNDrop:0},{toBottom:0},{spawnIID:0},{postCoordsDataOffset:0},{dataStringExcludesPosition:0},{manuallySetPosition:0},{manualPosX:0},{manualPosY:0},{bracketString:0},{bracketIndexesLoopedThrough:0},{currentCharacterChecked:0},{subBracketsFound:0},{startIndex:0},{endIndex:0},{foundFirstBracket:0},{charactersLeftUntilFailsafe:0},{foundEndBracket:0},{bracketLetter:0},{targetBracketIndex:0},{bracketSlots:0},{closingBracketsQueued:0},{dataBracketsFound:0},{endOfFinalBracketsReached:0},{failsafeTrigger:0},{curLayerName:0},{curExtraValues:0},{rebuildExtraValuesString:0},{spawnLayer:0},{containedObjectDataString:0},{excludePosition:0},{compactString:0},{buildTextDataString:0},{buildContainedObjDataString:0},{textCount:0},{containerCount:0},{excludeCoordinates:0},{hasCoords:0},{compactDataString:0},{hasFramedIcon:0},{OBJ_WITH_FRAMES:0},{portraitAnimationID:0},{angleDiffPerRotation:0},{objAnimFrame:0},{storedAngleInCode:0},{destinationDataString:0},{entrywayDataString:0},{foundFirstCustomMusicIndex:0},{setDefaultSpawnPosToTrue:0},{foundLayerNameThatExists:0},{hasFoundHighestLayer:0},{tileOrObject:0},{tweenLayerDropdownColor:0},{fromMapName:0},{resetMusic:0},{quoteCharacter:0},{tileDataString:0},{tilemapWidth:0},{tilemapHeight:0},{gameStyleThemeIDs:0},{layerString:0},{separatorCharacter:0},{dataPath:0},{codeJSON:0},{onlyValidateOneMap:0},{destinationNameFound:0},{mapNameToCheckIn:0},{destinationNameToCheck:0},{stringToConvert:0},{valueToStore:0},{jumpCount:0},{verString1:0},{verString2:0},{activeLayerName:0},{lastTileLayerName:0},{lastObjectLayerName:0},{lastActiveLayerType:0},{activeTilemap:0},{activeTileStructureData:0},{activeTilemapExtraValues:0},{activeTileID:0},{activeTileStateID:0},{cursorType:0},{lastCursorTilePosX:0},{lastCursorTilePosY:0},{newCursorX:0},{newCursorY:0},{cursorPosToTileX:0},{cursorPosToTileY:0},{usingRectangleTool:0},{rectangleToolStartX:0},{rectangleToolStartY:0},{fillWidth:0},{fillHeight:0},{tileStructureRowWidth:0},{regionWidth:0},{regionHeight:0},{deletedTileX:0},{deletedTileY:0},{isDraggingObj:0},{canPlaceObjects:0},{lastObjPlacementX:0},{lastObjPlacementY:0},{mirrorStatusID:0},{ignoreIsDraggingCheck:0},{ignoreLayerLockStatus:0},{editorObjectUID:0},{touchedTileX:0},{touchedTileY:0},{iconTileID:0},{dedicatedTranslationKey:0},{withTilemapUID:0},{tipNotifKey:0},{withEditorObjUID:0},{containedEditorObjUID:0},{soundSpeed:0},{ENEMIES_WITHOUT_AURGH_SOUND:0},{maxTileState:0},{structureRowSize:0},{newTileData:0},{updatedTileState:0},{newTileAndStateString:0},{stateID:0},{updateChildTilemaps:0},{paletteIdentifierLength:0},{tilemapHasDynamicPalettes:0},{name_paletteToReturn:0},{tilemapString:0},{engineLayerID:0},{setJSON:0},{engineLayer:0},{gameLayer:0},{enabled:0},{oppositeButtonAnim:0},{buttonUID:0},{WIDTH_INCREASE:0},{increasedSize:0},{distanceX:0},{distanceY:0},{extraCollisionTags:0},{podobooAlternativeObjectName:0},{goombaTypeID:0},{WINGED_GOOMBA_IDS:0},{KOOPA_JUMP_DISTANCE:0},{booTypeCharacter:0},{snakeAngle:0},{IDIncrement:0},{cheepCircleIsMirrored:0},{cheepCircleRotationSpeed:0},{BUBBLE_ENVIRONMENTAL_BLENDS:0},{chuckID:0},{bullyType:0},{itemBlockAnim:0},{brickBlockAnim:0},{wingedModeSetting:0},{KB_ENVIRONMENTAL_BLENDS:0},{extraRangeOriginOffsetX:0},{extraRangeOriginOffsetY:0},{TAG_TILE_UPDATE_METHODS:0},{hasStandardBase:0},{fakeBlockImageID:0},{MODES_WITHOUT_PLATFORM_VISUALS:0},{canCreateResizerDots:0},{partObjectName:0},{imagePoint:0},{createOriginDot:0},{objPartWidth:0},{objPartHeight:0},{resizing:0},{firstIndexForSizeValues:0},{shouldTransform:0},{optionalPartUID:0},{atEditorObjUID:0},{angleOfDisplay:0},{hierarchyPreset:0},{cannonColorID:0},{baseExtraValueIndex:0},{extraValueIndexContainingAngle:0},{signpostPaletteData:0},{xDiff:0},{yDiff:0},{placedEditorObjUID:0},{paletteCollection:0},{LSS_CONNECTION_URL:0},{SUPPORTED_LOCALES:0},{GAME_PLATFORM:0},{GAMESTYLE_COUNT:0},{MAX_MAP_COUNT:0},{MAX_LAYER_COUNT:0},{MAX_SURFACE_AREA:0},{MAP_SIZE_PRESETS:0},{ORIGIN_IDS_TO_STRING:0},{PLAYER_INPUT_STRINGS:0},{MUSIC_CLASSES:0},{SMAS1_TILES:0},{SMW_TILES:0},{SMAS1_EFFECT_STRINGS:0},{SMW_EFFECT_STRINGS:0},{FILTER_PROPERTY_NAMES:0},{GENERATOR_STRINGS:0},{SMAS1_MAPPALETTES:0},{currentMapKey:0},{conversionDataString:0},{currentLayerKey:0},{extVals:0},{newObjDataString:0},{currentTileID:0},{newTileID:0},{tileCountMultiplier:0},{rebuildDataString:0},{emptyTileString:0},{oldEntrywayData:0},{newEntrywayData:0},{doorID:0},{oldLevelCodeJSON:0},{updateVersionString:0},{oldExtraValuesString:0},{passedObjDataString:0},{extraValueIndexToUpdate:0},{valueToAdd:0},{multiTile:0},{tilesToErase:0},{buildConversionString:0},{firstSourceIndex:0},{lastSourceIndex:0},{targetStartIndex:0},{currentConversionValue:0},{singleTileData:0},{conversionData:0},{tileDataToConvert:0},{emptyOtherTiles:0},{curTileX:0},{curTileY:0},{curTileData:0},{curTile:0},{tokenIndexInString:0},{targetTilemapName:0},{existingTilesJSON:0},{tilesJSONToCopyOver:0},{tilesToConvert:0},{replacementTiles:0},{tilemapWidthInTiles:0},{tilemapHeightInTiles:0},{convertedValue:0},{oldExtraValues:0},{curSkinID:0},{indexForTag:0},{convertIdentifier:0},{levelCodeJSON:0},{optionalData:0},{currentInputKey:0},{isHoldingInput:0},{keyContent:0},{axisValue:0},{gamepadDetectionNotificationHasAppeared:0},{leftClickSimulated:0},{rightClickSimulated:0},{leftHoldSimulated:0},{rightHoldSimulated:0},{cursorX:0},{cursorY:0}],self.InstanceType={Browser:class extends self.IInstance{},Touch:class extends self.IInstance{},Mouse:class extends self.IInstance{},Keyboard:class extends self.IInstance{},Gamepad:class extends self.IInstance{},LocalStorage:class extends self.IInstance{},AJAX:class extends self.IInstance{},BinaryData:class extends self.IBinaryDataInstance{},Audio:class extends self.IInstance{},TestingTools:class extends self.IDictionaryInstance{},GameRecorder:class extends self.IInstance{},Date:class extends self.IInstance{},DrawingCanvas:class extends self.IDrawingCanvasInstance{},PlatformInfo:class extends self.IInstance{},Internationalization:class extends self.IInstance{},Clipboard:class extends self.IInstance{},CSV:class extends self.IInstance{},Grid1:class extends self.ITiledBackgroundInstance{},LocalGrid:class extends self.ISpriteInstance{},LevelThumbnail:class extends self.ISpriteInstance{},GameIcon:class extends self.ISpriteInstance{},DropdownChild0:class extends self.IWorldInstance{},DropdownChild1:class extends self.IWorldInstance{},DropdownChild2:class extends self.IWorldInstance{},DropdownParent0:class extends self.IWorldInstance{},DropdownParent1:class extends self.IWorldInstance{},DropdownParent2:class extends self.IWorldInstance{},SliderHandle:class extends self.ISpriteInstance{},SliderIcons:class extends self.ISpriteInstance{},SliderLine1:class extends self.IWorldInstance{},ScrollbarLine1:class extends self.IWorldInstance{},ScrollbarHandle:class extends self.ISpriteInstance{},ScrollbarLine2:class extends self.IWorldInstance{},SliderLine2:class extends self.IWorldInstance{},MenuContainer:class extends self.IWorldInstance{},Overlay:class extends self.ITiledBackgroundInstance{},BlockButtons:class extends self.ISpriteInstance{},TextButton:class extends self.IWorldInstance{},CardDisplay0:class extends self.IWorldInstance{},CardDisplay1:class extends self.IWorldInstance{},TransparentOverlay:class extends self.IWorldInstance{},CardDisplay2:class extends self.IWorldInstance{},AddLayerOrMapOverlay:class extends self.IWorldInstance{},ButtonIcons:class extends self.ISpriteInstance{},DeleteLayerOverlay:class extends self.IWorldInstance{},PreviewFrame:class extends self.IWorldInstance{},Customizer0:class extends self.IWorldInstance{},Checkbox:class extends self.ISpriteInstance{},OriginPoint:class extends self.ISpriteInstance{},Customizer1:class extends self.IWorldInstance{},_9DirectionalButton:class extends self.ISpriteInstance{},ManagerFor9DirectionalButtons:class extends self.ISpriteInstance{},ArrowFor9DirectionalButton:class extends self.ISpriteInstance{},CardDisplay1_T:class extends self.IWorldInstance{},Tab1:class extends self.IWorldInstance{},RangeResizer:class extends self.IWorldInstance{},SubMenu0:class extends self.IWorldInstance{},SubMenu1:class extends self.IWorldInstance{},SubMenu2:class extends self.IWorldInstance{},FrameOutline:class extends self.IWorldInstance{},Customizer2:class extends self.IWorldInstance{},Tab2:class extends self.IWorldInstance{},SMWTabTop:class extends self.ISpriteInstance{},CardDisplay2_T:class extends self.IWorldInstance{},LSS_SVG:class extends self.ISVGPictureInstance{},IconSelectorButton:class extends self.ISpriteInstance{},Customizer2_T:class extends self.IWorldInstance{},Customizer1_T:class extends self.IWorldInstance{},MainFont:class extends self.ISpriteFontInstance{},_1UPScores:class extends self.ISpriteInstance{},GamestyleFont1:class extends self.ISpriteFontInstance{},ScoreFont1:class extends self.ISpriteFontInstance{},GamestyleFont2:class extends self.ISpriteFontInstance{},ScoreFont2:class extends self.ISpriteFontInstance{},SMW_Numbers:class extends self.ISpriteFontInstance{},SMW_PlayerFont:class extends self.ISpriteFontInstance{},SMW_ExtraHUD:class extends self.ISpriteFontInstance{},AssistText:class extends self.ITextInstance{},SMFFont:class extends self.ISpriteFontInstance{},ToolbarFrame:class extends self.ISpriteInstance{},FavoritesIcon:class extends self.ISpriteInstance{},ToolbarLines:class extends self.ISpriteInstance{},ToolbarButtonVisuals:class extends self.ISpriteInstance{},TileSelectHitbox:class extends self.ISpriteInstance{},FavoritesBar2:class extends self.IWorldInstance{},MiniToolbar2:class extends self.IWorldInstance{},FavoritesBar1:class extends self.IWorldInstance{},MiniToolbar1:class extends self.IWorldInstance{},TileButtonOutline:class extends self.ISpriteInstance{},TilesetIcons:class extends self.ISpriteInstance{},PalettePickerOverlay1:class extends self.IWorldInstance{},PalettePickerOverlay2:class extends self.IWorldInstance{},ToolbarPageThumbnails:class extends self.ISpriteInstance{},ToolbarButtonHitbox:class extends self.ISpriteInstance{},PaletteTooltip:class extends self.ISpriteInstance{},TextboxTextarea:class extends self.ITextInputInstance{},TextboxText:class extends self.ITextInputInstance{},TextboxNumbers:class extends self.ITextInputInstance{},Dropdown:class extends self.IListInstance{},BlendAssist:class extends self.ISpriteInstance{},Tooltip:class extends self.IWorldInstance{},TooltipBottom:class extends self.ISpriteInstance{},RoundedOverlay:class extends self.IWorldInstance{},ExtraEditorObjectDisplay:class extends self.ISpriteInstance{},ThumbnailPreview:class extends self.ISpriteInstance{},GameplayHUDObjects:class extends self.ISpriteInstance{},CoordinationAssist:class extends self.ISpriteInstance{},PMeter2:class extends self.IWorldInstance{},PMeter1:class extends self.IWorldInstance{},HTML_BG:class extends self.ITiledBackgroundInstance{},ScrollAssist:class extends self.ITiledBackgroundInstance{},GameThumbnails:class extends self.ISpriteInstance{},GamestylePreviewGallery:class extends self.ISpriteInstance{},LevelSelect_Gradient:class extends self.ITiledBackgroundInstance{},MenuDot:class extends self.ISpriteInstance{},Toolbox:class extends self.ISpriteInstance{},PathArrow:class extends self.IWorldInstance{},PathArrowShadow:class extends self.IWorldInstance{},PMeter:class extends self.ISpriteInstance{},FramedEditorObjectIcons:class extends self.ISpriteInstance{},LevelResizerButton:class extends self.ISpriteInstance{},ResizerDot:class extends self.ISpriteInstance{},RotationAmplitudeEditor:class extends self.ISpriteInstance{},RotationAmplitudeGhost:class extends self.ISpriteInstance{},RotationBaseEditor:class extends self.ISpriteInstance{},RotatorDot:class extends self.ISpriteInstance{},SinePathArrow:class extends self.IWorldInstance{},SinePathArrowShadow:class extends self.IWorldInstance{},LevelEndStatContainer:class extends self.IWorldInstance{},OffscreenIndicator_Emblem:class extends self.ISpriteInstance{},OffscreenIndicator_Arrow:class extends self.ISpriteInstance{},LoadingItemOutline:class extends self.ISpriteInstance{},SMCLogo:class extends self.ISpriteInstance{},FenceOverlay:class extends self.IWorldInstance{},TitleButtonObjects:class extends self.ISpriteInstance{},DevEmblems:class extends self.ISpriteInstance{},SeasonalTitleScreenObjects:class extends self.ISpriteInstance{},CurlySeparatorBottom1:class extends self.IWorldInstance{},CurlySeparatorTop1:class extends self.IWorldInstance{},CurlySeparatorBottom2:class extends self.IWorldInstance{},CurlySeparatorTop2:class extends self.IWorldInstance{},GrassSeparator2:class extends self.IWorldInstance{},GrassSeparator1:class extends self.IWorldInstance{},DottedSeparator:class extends self.ITiledBackgroundInstance{},LevelSelectBG:class extends self.ITiledBackgroundInstance{},Cursor:class extends self.ISpriteInstance{},EasterEggImages:class extends self.ISpriteInstance{},OutOfBoundsBackground:class extends self.ITiledBackgroundInstance{},ExtendableLine:class extends self.ISpriteInstance{},Circle:class extends self.ISVGPictureInstance{},NotificationBar:class extends self.IWorldInstance{},NotificationIcon:class extends self.ISpriteInstance{},NotificationButtons:class extends self.ISpriteInstance{},SpeechBubble:class extends self.IWorldInstance{},LSS_PFP:class extends self.ISpriteInstance{},GridCursor:class extends self.ISpriteInstance{},TipNotification:class extends self.IWorldInstance{},FilterMenu2:class extends self.IWorldInstance{},FilterMenu1:class extends self.IWorldInstance{},LSSMenuPatch:class extends self.IWorldInstance{},GeneratorMenu2:class extends self.IWorldInstance{},GeneratorMenu1:class extends self.IWorldInstance{},MusicOverlayL:class extends self.IWorldInstance{},MusicOverlayR:class extends self.IWorldInstance{},MusicOverlayLMR:class extends self.IWorldInstance{},MusicOverlayM:class extends self.IWorldInstance{},_3DFloor:class extends self.I3DShapeInstance{},PNP_GroundTexture:class extends self.ITiledBackgroundInstance{},AdvancedOptionsTiledBG:class extends self.ITiledBackgroundInstance{},AdvancedMenuContainer:class extends self.IWorldInstance{},TilesetsUsed:class extends self.IDictionaryInstance{},LevelMetaData:class extends self.IArrayInstance{},ToolbarLastPages:class extends self.IArrayInstance{},TileLayouts:class extends self.IArrayInstance{},CursorObjectData:class extends self.IArrayInstance{},PlayerData:class extends self.IArrayInstance{},LayerData:class extends self.IArrayInstance{},SortArray:class extends self.IArrayInstance{},MapNames:class extends self.IArrayInstance{},LevelEditorDataContainer:class extends self.IDictionaryInstance{},MapData:class extends self.IDictionaryInstance{},GameSettings:class extends self.IDictionaryInstance{},FavoritedObjects:class extends self.IArrayInstance{},LevelTestToolStates:class extends self.IArrayInstance{},PlayerTrailData:class extends self.IArrayInstance{},DestinationData:class extends self.IArrayInstance{},EntrywayData:class extends self.IArrayInstance{},FavoritedTilePages:class extends self.IArrayInstance{},Gradients:class extends self.IDictionaryInstance{},ReleasedKeys:class extends self.IDictionaryInstance{},KeyboardKeybinds:class extends self.IDictionaryInstance{},SelectedToolbarPalettes:class extends self.IDictionaryInstance{},PersistentObjectIDs:class extends self.IDictionaryInstance{},MiscMusicInfo:class extends self.IDictionaryInstance{},CheckpointData:class extends self.IDictionaryInstance{},LevelStats:class extends self.IDictionaryInstance{},DialogueInfo:class extends self.IDictionaryInstance{},LayersWithDarkness:class extends self.IArrayInstance{},CustomSpawnData:class extends self.IDictionaryInstance{},WarpsPersistance:class extends self.IDictionaryInstance{},GeneralJSON:class extends self.IJSONInstance{},LevelCodeJSON:class extends self.IJSONInstance{},EffectsJSON:class extends self.IJSONInstance{},EffectsHiddenInEditor:class extends self.IArrayInstance{},LevelThemes:class extends self.IArrayInstance{},BackgroundsData:class extends self.IDictionaryInstance{},SavedGamepadKeybinds:class extends self.IDictionaryInstance{},GamepadKeybinds:class extends self.IDictionaryInstance{},LevelRestorePoints:class extends self.IDictionaryInstance{},ObjectSidebarButtons:class extends self.IDictionaryInstance{},CollectedDragonCoins:class extends self.IDictionaryInstance{},CurrentSoundsPlaying:class extends self.IArrayInstance{},PlayerStompCooldowns:class extends self.IArrayInstance{},SidebarContentsStorer:class extends self.IArrayInstance{},ArrayForObject:class extends self.IArrayInstance{},TagUpdateTracker:class extends self.IDictionaryInstance{},SortingDictionary:class extends self.IDictionaryInstance{},BackgroundPalettes:class extends self.IDictionaryInstance{},SwitchPalaceStates:class extends self.IArrayInstance{},PressedPalaceSwitches:class extends self.IArrayInstance{},TilemapPalettes:class extends self.IDictionaryInstance{},MiscPalettes:class extends self.IDictionaryInstance{},LSSAccountInfo:class extends self.IDictionaryInstance{},DedicatedJSON:class extends self.IJSONInstance{},NewFeaturesHighlights:class extends self.IDictionaryInstance{},TilemapPixelData:class extends self.IDictionaryInstance{},DynamicLayers:class extends self.IArrayInstance{},MusicData:class extends self.IArrayInstance{},UsedCustomMusicStrings:class extends self.IDictionaryInstance{},IdentifierToSpriteNames:class extends self.IDictionaryInstance{},TilemapMetadata:class extends self.IArrayInstance{},PreloadedMusic:class extends self.IDictionaryInstance{},TipsDisplayed:class extends self.IDictionaryInstance{},FadingMusic:class extends self.IDictionaryInstance{},AudioMixValues:class extends self.IDictionaryInstance{},TileConversionData:class extends self.IDictionaryInstance{},DedicatedDictionary:class extends self.IDictionaryInstance{},CollisionTaggingCooldowns:class extends self.IArrayInstance{},TileCollisions:class extends self.IArrayInstance{},TilePersistence:class extends self.IDictionaryInstance{},TileEdgeCollisions:class extends self.IArrayInstance{},ScreenwrapCollisions:class extends self.IDictionaryInstance{},LayerTagStates:class extends self.IDictionaryInstance{},TopMenuElements:class extends self.IArrayInstance{},CameraValues:class extends self.IDictionaryInstance{},HeldInputs:class extends self.IDictionaryInstance{},PressedInputs:class extends self.IDictionaryInstance{},RoofSkipPreventionTilemap:class extends self.ITilemapInstance{},FloorSkipPreventionTilemap:class extends self.ITilemapInstance{},LightSourceTilemap:class extends self.ITilemapInstance{},SemiFloorTilemap:class extends self.ITilemapInstance{},SemiLeftWallTilemap:class extends self.ITilemapInstance{},SemiRightWallTilemap:class extends self.ITilemapInstance{},SemiRoofTilemap:class extends self.ITilemapInstance{},IceTilemapAssist:class extends self.ITilemapInstance{},AnimatedFrameTilemap:class extends self.ITilemapInstance{},WaterTilemapAssist:class extends self.ITilemapInstance{},SnowTilemapAssist:class extends self.ITilemapInstance{},HorizontalEdgeExtensionTilemap:class extends self.ITilemapInstance{},ConveyorEdgeExtensionTilemap:class extends self.ITilemapInstance{},Tilemap_1_Pipes:class extends self.ITilemapInstance{},Tilemap_1_MainDeco:class extends self.ITilemapInstance{},Tilemap_1_MainDecoS:class extends self.ITilemapInstance{},Tilemap_1_Crystal:class extends self.ITilemapInstance{},Tilemap_1_Global:class extends self.ITilemapInstance{},Tilemap_1_Holes:class extends self.ITilemapInstance{},Tilemap_1_Doors:class extends self.ITilemapInstance{},Tilemap_1_DoorsB:class extends self.ITilemapInstance{},Tilemap_1_GlobalR:class extends self.ITilemapInstance{},Tilemap_1_Castle:class extends self.ITilemapInstance{},Tilemap_1_Grass:class extends self.ITilemapInstance{},Tilemap_1_Cave:class extends self.ITilemapInstance{},Tilemap_1_Desert:class extends self.ITilemapInstance{},Tilemap_1_DesertT:class extends self.ITilemapInstance{},Tilemap_1_Snow:class extends self.ITilemapInstance{},Tilemap_1_Mountain:class extends self.ITilemapInstance{},Tilemap_1_Cloud:class extends self.ITilemapInstance{},Tilemap_1_Sky:class extends self.ITilemapInstance{},Tilemap_1_Ice:class extends self.ITilemapInstance{},Tilemap_1_LavaCave:class extends self.ITilemapInstance{},Tilemap_1_LavaF:class extends self.ITilemapInstance{},Tilemap_1_Ghost:class extends self.ITilemapInstance{},Tilemap_1_Ocean:class extends self.ITilemapInstance{},Tilemap_1_Kelp:class extends self.ITilemapInstance{},Tilemap_1_Bonus:class extends self.ITilemapInstance{},Tilemap_1_Beach:class extends self.ITilemapInstance{},Tilemap_1_StarWorld:class extends self.ITilemapInstance{},Tilemap_1_Forest:class extends self.ITilemapInstance{},Tilemap_1_Hedge:class extends self.ITilemapInstance{},Tilemap_1_Garden:class extends self.ITilemapInstance{},Tilemap_1_Ship:class extends self.ITilemapInstance{},Tilemap_1_ShipB:class extends self.ITilemapInstance{},Tilemap_1_ShipA:class extends self.ITilemapInstance{},Tilemap_1_ShipR:class extends self.ITilemapInstance{},Tilemap_1_Sewer:class extends self.ITilemapInstance{},Tilemap_1_SewerA:class extends self.ITilemapInstance{},Tilemap_1_Island:class extends self.ITilemapInstance{},Tilemap_1_Mushroom:class extends self.ITilemapInstance{},Tilemap_1_Mushroom1:class extends self.ITilemapInstance{},Tilemap_1_Mushroom2:class extends self.ITilemapInstance{},Tilemap_1_Mushroom3:class extends self.ITilemapInstance{},Tilemap_1_Mushroom4:class extends self.ITilemapInstance{},Tilemap_1_Mushroom5:class extends self.ITilemapInstance{},Tilemap_1_Mushroom6:class extends self.ITilemapInstance{},Tilemap_1_Mushroom7:class extends self.ITilemapInstance{},Tilemap_1_Lava:class extends self.ITilemapInstance{},Tilemap_1_Water:class extends self.ITilemapInstance{},Tilemap_1_WaterF:class extends self.ITilemapInstance{},Tilemap_1_Poison:class extends self.ITilemapInstance{},Tilemap_1_Cryo:class extends self.ITilemapInstance{},Tilemap_1_Electric:class extends self.ITilemapInstance{},Tilemap_1_Artillery:class extends self.ITilemapInstance{},Tilemap_1_Posts:class extends self.ITilemapInstance{},Tilemap_1_Stretch:class extends self.ITilemapInstance{},Tilemap_1_Blocks:class extends self.ITilemapInstance{},Tilemap_1_Pole:class extends self.ITilemapInstance{},Tilemap_1_Vine:class extends self.ITilemapInstance{},Tilemap_1_Ruins:class extends self.ITilemapInstance{},Tilemap_1_RuinsD:class extends self.ITilemapInstance{},Tilemap_1_RuinsA:class extends self.ITilemapInstance{},Tilemap_1_RuinsB:class extends self.ITilemapInstance{},Tilemap_1_Factory:class extends self.ITilemapInstance{},Tilemap_1_GreenHill:class extends self.ITilemapInstance{},Tilemap_1_GreenHillD:class extends self.ITilemapInstance{},Tilemap_1_GreenHillA:class extends self.ITilemapInstance{},Tilemap_1_ForsCity:class extends self.ITilemapInstance{},Tilemap_1_Norfair:class extends self.ITilemapInstance{},Tilemap_1_ButterBld:class extends self.ITilemapInstance{},Tilemap_1_Boneyard:class extends self.ITilemapInstance{},Tilemap_1_Conveyor:class extends self.ITilemapInstance{},Tilemap_1_ConveyorS:class extends self.ITilemapInstance{},Tilemap_2_Grass:class extends self.ITilemapInstance{},Tilemap_2_GrassW:class extends self.ITilemapInstance{},Tilemap_2_Night:class extends self.ITilemapInstance{},Tilemap_2_Pipes:class extends self.ITilemapInstance{},Tilemap_2_Joints:class extends self.ITilemapInstance{},Tilemap_2_Cave:class extends self.ITilemapInstance{},Tilemap_2_Castle:class extends self.ITilemapInstance{},Tilemap_2_Brick:class extends self.ITilemapInstance{},Tilemap_2_CastleW:class extends self.ITilemapInstance{},Tilemap_2_CastleE:class extends self.ITilemapInstance{},Tilemap_2_Forest:class extends self.ITilemapInstance{},Tilemap_2_Foliage:class extends self.ITilemapInstance{},Tilemap_2_Net:class extends self.ITilemapInstance{},Tilemap_2_Vine:class extends self.ITilemapInstance{},Tilemap_2_Vine1:class extends self.ITilemapInstance{},Tilemap_2_Vine2:class extends self.ITilemapInstance{},Tilemap_2_Vine3:class extends self.ITilemapInstance{},Tilemap_2_Vine4:class extends self.ITilemapInstance{},Tilemap_2_Vine5:class extends self.ITilemapInstance{},Tilemap_2_Vine6:class extends self.ITilemapInstance{},Tilemap_2_Snow:class extends self.ITilemapInstance{},Tilemap_2_SnowD:class extends self.ITilemapInstance{},Tilemap_2_GHBrick:class extends self.ITilemapInstance{},Tilemap_2_GHMain:class extends self.ITilemapInstance{},Tilemap_2_GHOuter:class extends self.ITilemapInstance{},Tilemap_2_Fall:class extends self.ITilemapInstance{},Tilemap_2_FallD:class extends self.ITilemapInstance{},Tilemap_2_Beach:class extends self.ITilemapInstance{},Tilemap_2_BeachD:class extends self.ITilemapInstance{},Tilemap_2_Kelp:class extends self.ITilemapInstance{},Tilemap_2_BeachD1:class extends self.ITilemapInstance{},Tilemap_2_BeachD2:class extends self.ITilemapInstance{},Tilemap_2_BeachD3:class extends self.ITilemapInstance{},Tilemap_2_BeachD4:class extends self.ITilemapInstance{},Tilemap_2_BeachD5:class extends self.ITilemapInstance{},Tilemap_2_BeachD6:class extends self.ITilemapInstance{},Tilemap_2_BeachD7:class extends self.ITilemapInstance{},Tilemap_2_Desert:class extends self.ITilemapInstance{},Tilemap_2_DesertD:class extends self.ITilemapInstance{},Tilemap_2_DesertB:class extends self.ITilemapInstance{},Tilemap_2_Ice:class extends self.ITilemapInstance{},Tilemap_2_Bonus:class extends self.ITilemapInstance{},Tilemap_2_Sewer:class extends self.ITilemapInstance{},Tilemap_2_SewerA:class extends self.ITilemapInstance{},Tilemap_2_Lava:class extends self.ITilemapInstance{},Tilemap_2_Cryo:class extends self.ITilemapInstance{},Tilemap_2_Poison:class extends self.ITilemapInstance{},Tilemap_2_CLava:class extends self.ITilemapInstance{},Tilemap_2_CWater:class extends self.ITilemapInstance{},Tilemap_2_DBWater:class extends self.ITilemapInstance{},Tilemap_2_Water:class extends self.ITilemapInstance{},Tilemap_2_WaterF:class extends self.ITilemapInstance{},Tilemap_2_CryoF:class extends self.ITilemapInstance{},Tilemap_2_LavaF:class extends self.ITilemapInstance{},Tilemap_2_PoisonF:class extends self.ITilemapInstance{},Tilemap_2_Electric:class extends self.ITilemapInstance{},Tilemap_2_RWater:class extends self.ITilemapInstance{},Tilemap_2_RLava:class extends self.ITilemapInstance{},Tilemap_2_RPoison:class extends self.ITilemapInstance{},Tilemap_2_RCryo:class extends self.ITilemapInstance{},Tilemap_2_Mountain:class extends self.ITilemapInstance{},Tilemap_2_MountainB:class extends self.ITilemapInstance{},Tilemap_2_MountainW:class extends self.ITilemapInstance{},Tilemap_2_StarWorld:class extends self.ITilemapInstance{},Tilemap_2_StarWorldD:class extends self.ITilemapInstance{},Tilemap_2_LavaCave:class extends self.ITilemapInstance{},Tilemap_2_AshLand:class extends self.ITilemapInstance{},Tilemap_2_Turtle:class extends self.ITilemapInstance{},Tilemap_2_TurtleD:class extends self.ITilemapInstance{},Tilemap_2_Cloud:class extends self.ITilemapInstance{},Tilemap_2_Beanstalk:class extends self.ITilemapInstance{},Tilemap_2_Rainbow:class extends self.ITilemapInstance{},Tilemap_2_Hedge:class extends self.ITilemapInstance{},Tilemap_2_Garden:class extends self.ITilemapInstance{},Tilemap_2_Turnip:class extends self.ITilemapInstance{},Tilemap_2_Bunting:class extends self.ITilemapInstance{},Tilemap_2_SignBase:class extends self.ITilemapInstance{},Tilemap_2_Crystal:class extends self.ITilemapInstance{},Tilemap_2_Doors:class extends self.ITilemapInstance{},Tilemap_2_Arch:class extends self.ITilemapInstance{},Tilemap_2_Global:class extends self.ITilemapInstance{},Tilemap_2_Holes:class extends self.ITilemapInstance{},Tilemap_2_DoorsB:class extends self.ITilemapInstance{},Tilemap_2_GlobalR:class extends self.ITilemapInstance{},Tilemap_2_Vase:class extends self.ITilemapInstance{},Tilemap_2_Ship:class extends self.ITilemapInstance{},Tilemap_2_ShipA:class extends self.ITilemapInstance{},Tilemap_2_ShipP:class extends self.ITilemapInstance{},Tilemap_2_Rope:class extends self.ITilemapInstance{},Tilemap_2_ShipR:class extends self.ITilemapInstance{},Tilemap_2_Artillery:class extends self.ITilemapInstance{},Tilemap_2_Posts:class extends self.ITilemapInstance{},Tilemap_2_Stretch:class extends self.ITilemapInstance{},Tilemap_2_Blocks:class extends self.ITilemapInstance{},Tilemap_2_RetroG:class extends self.ITilemapInstance{},Tilemap_2_RetroU:class extends self.ITilemapInstance{},Tilemap_2_RetroC:class extends self.ITilemapInstance{},Tilemap_2_RetroCA:class extends self.ITilemapInstance{},Tilemap_2_RetroO:class extends self.ITilemapInstance{},Tilemap_2_RetroOA:class extends self.ITilemapInstance{},Tilemap_2_RetroF:class extends self.ITilemapInstance{},Tilemap_2_RetroS:class extends self.ITilemapInstance{},Tilemap_2_RetroD:class extends self.ITilemapInstance{},Tilemap_2_RetroM:class extends self.ITilemapInstance{},Tilemap_2_Factory:class extends self.ITilemapInstance{},Tilemap_2_Conveyor:class extends self.ITilemapInstance{},Tilemap_2_ConveyorS:class extends self.ITilemapInstance{},Tilemap_2_Escalator:class extends self.ITilemapInstance{},TilemapCanvas:class extends self.IDrawingCanvasInstance{},GaloombaVisual:class extends self.ISpriteInstance{},ExplosionHitbox:class extends self.ISpriteInstance{},MuncherAndJelectroHurtbox:class extends self.ISpriteInstance{},HammerProjectile:class extends self.ISpriteInstance{},BoomerangProjectile:class extends self.ISpriteInstance{},BooTrail:class extends self.ISpriteInstance{},CheepCheep_Preview:class extends self.ISpriteInstance{},LOSAssist:class extends self.ISpriteInstance{},LakituRod_Hook1:class extends self.IWorldInstance{},LakituRod_Handle:class extends self.ISpriteInstance{},LakituRod_Collision:class extends self.ISpriteInstance{},SpriteRespawner:class extends self.ISpriteInstance{},LakituRod_Hook2:class extends self.IWorldInstance{},LakituCloud:class extends self.ISpriteInstance{},LakituCloud_Back:class extends self.ISpriteInstance{},SpriteEyesAssist:class extends self.ISpriteInstance{},ExtraHitbox:class extends self.ISpriteInstance{},KingBillEye:class extends self.ISpriteInstance{},KingBillExhaust:class extends self.ISpriteInstance{},DinoTorch_Flame:class extends self.ISpriteInstance{},Mechakoopa_WindupKey:class extends self.ISpriteInstance{},WallWalker_Visual:class extends self.ISpriteInstance{},FluffyParts:class extends self.ISpriteInstance{},StretchAttachableCollision:class extends self.ITilemapInstance{},Lotus_Flame:class extends self.ISpriteInstance{},Pokey_Parts:class extends self.ISpriteInstance{},EditorPokey2_1:class extends self.IWorldInstance{},EditorPokey2_0:class extends self.IWorldInstance{},EditorPokey1_1:class extends self.IWorldInstance{},EditorPokey1_0:class extends self.IWorldInstance{},EditorSnowPokey2_0:class extends self.IWorldInstance{},EditorSnowPokey1_0:class extends self.IWorldInstance{},EditorSnowPokey2_1:class extends self.IWorldInstance{},EditorSnowPokey1_1:class extends self.IWorldInstance{},BowserHammerFlames:class extends self.ISpriteInstance{},AngrySunRay:class extends self.ISpriteInstance{},TorpedoBoxCollision:class extends self.ISpriteInstance{},Chuck_Head:class extends self.ISpriteInstance{},Baseball:class extends self.ISpriteInstance{},Football:class extends self.ISpriteInstance{},Boulder:class extends self.ISpriteInstance{},Meteor:class extends self.ISpriteInstance{},CheepCheep:class extends self.ISpriteInstance{},Bulber:class extends self.ISpriteInstance{},Blooper:class extends self.ISpriteInstance{},BlooperBaby:class extends self.ISpriteInstance{},Jelectro:class extends self.ISpriteInstance{},SpinyCheepCheep:class extends self.ISpriteInstance{},RipVanFish:class extends self.ISpriteInstance{},FloatingMine:class extends self.ISpriteInstance{},UrchinHitbox:class extends self.ISpriteInstance{},MechaCheep:class extends self.ISpriteInstance{},Fishbone:class extends self.ISpriteInstance{},BigChasingFish:class extends self.ISpriteInstance{},TorpedoTed:class extends self.ISpriteInstance{},Boo:class extends self.ISpriteInstance{},Splunkin:class extends self.ISpriteInstance{},BooSnake:class extends self.ISpriteInstance{},Eerie:class extends self.ISpriteInstance{},Crowber:class extends self.ISpriteInstance{},Stretch:class extends self.ISpriteInstance{},GreenBubble:class extends self.ISpriteInstance{},OrbittingGhostFlame:class extends self.ISpriteInstance{},Swoop:class extends self.ISpriteInstance{},Broozer:class extends self.ISpriteInstance{},Muncher:class extends self.ISpriteInstance{},PiranhaPlant:class extends self.ISpriteInstance{},JumpingPiranha:class extends self.ISpriteInstance{},VolcanoLotus:class extends self.ISpriteInstance{},Pokey_Hitbox:class extends self.ISpriteInstance{},NipperPlant:class extends self.ISpriteInstance{},BonyBeetle:class extends self.ISpriteInstance{},DryBones:class extends self.ISpriteInstance{},Thwomp:class extends self.ISpriteInstance{},Chainball:class extends self.ISpriteInstance{},Thwimp:class extends self.ISpriteInstance{},BoneAndWrenchProjectile:class extends self.ISpriteInstance{},BulletBill:class extends self.ISpriteInstance{},Grinder:class extends self.ISpriteInstance{},Mechakoopa:class extends self.ISpriteInstance{},Bobomb:class extends self.ISpriteInstance{},FallingSpike:class extends self.ISpriteInstance{},RockyWrench:class extends self.ISpriteInstance{},Kabomb:class extends self.ISpriteInstance{},BoundingFire:class extends self.ISpriteInstance{},FireSnake:class extends self.ISpriteInstance{},FireTrail:class extends self.ISpriteInstance{},AngrySun:class extends self.ISpriteInstance{},Amp:class extends self.ISpriteInstance{},FlameChomp:class extends self.ISpriteInstance{},Blargg:class extends self.ISpriteInstance{},BossFlame:class extends self.ISpriteInstance{},Goonie:class extends self.ISpriteInstance{},FlightlessGoonie:class extends self.ISpriteInstance{},HeftyGoonie:class extends self.ISpriteInstance{},BowlingGoonie:class extends self.ISpriteInstance{},BowlingGoonie_Visual:class extends self.ISpriteInstance{},FakeBlock:class extends self.ISpriteInstance{},PodobooDolphinFishbone:class extends self.ISpriteInstance{},PoisonMushroom:class extends self.ISpriteInstance{},IcicleAndStalactite:class extends self.ISpriteInstance{},ClimbingKoopa:class extends self.ISpriteInstance{},Lakitu:class extends self.ISpriteInstance{},ParaBeetle:class extends self.ISpriteInstance{},PipeLakitu:class extends self.ISpriteInstance{},WandMagic:class extends self.ISpriteInstance{},BeachKoopa:class extends self.ISpriteInstance{},Bros:class extends self.ISpriteInstance{},BusterBeetle:class extends self.ISpriteInstance{},Chain:class extends self.ISpriteInstance{},ChainChomp:class extends self.ISpriteInstance{},CommonWallWalker:class extends self.ISpriteInstance{},DinoRhino:class extends self.ISpriteInstance{},DinoTorch:class extends self.ISpriteInstance{},Galoomba:class extends self.ISpriteInstance{},Goomba:class extends self.ISpriteInstance{},GreenSpinyEgg:class extends self.ISpriteInstance{},KamikazeShell:class extends self.ISpriteInstance{},KoopaTroopa:class extends self.ISpriteInstance{},Ninji:class extends self.ISpriteInstance{},Rex:class extends self.ISpriteInstance{},SpikeKoopa:class extends self.ISpriteInstance{},SpinyAndBuzzyBeetle:class extends self.ISpriteInstance{},Outmaway:class extends self.ISpriteInstance{},MontyMole:class extends self.ISpriteInstance{},Chuck_Base:class extends self.ISpriteInstance{},BullyAndSnailicorn:class extends self.ISpriteInstance{},ItemBlock:class extends self.ISpriteInstance{},BrickBlock:class extends self.ISpriteInstance{},EmptyBlock:class extends self.ISpriteInstance{},FlipBlock:class extends self.ISpriteInstance{},OnOffSwitchBlock:class extends self.ISpriteInstance{},OnOffBlock:class extends self.ISpriteInstance{},ExclamationBlock:class extends self.ISpriteInstance{},NoteBlock:class extends self.ISpriteInstance{},GrayBlock:class extends self.ISpriteInstance{},PBlock:class extends self.ISpriteInstance{},PlayerBlock:class extends self.ISpriteInstance{},SpriteBlock:class extends self.ISpriteInstance{},PlayerSemiFloor:class extends self.ISpriteInstance{},SpriteSemiFloor:class extends self.ISpriteInstance{},SkullBlock:class extends self.ISpriteInstance{},FullSpike:class extends self.ISpriteInstance{},MessageBlock:class extends self.ISpriteInstance{},OnOffTagBlock:class extends self.ISpriteInstance{},MagmaBlock:class extends self.ISpriteInstance{},OnOffTimerBlock:class extends self.ISpriteInstance{},FrostBlock:class extends self.ISpriteInstance{},FrostBlockOutline:class extends self.ISpriteInstance{},DottedLineBlock:class extends self.ISpriteInstance{},RockBlock:class extends self.ISpriteInstance{},GrabBlock:class extends self.ISpriteInstance{},AssistBlockObject:class extends self.ISpriteInstance{},PItemBlock:class extends self.ISpriteInstance{},RedPOWBlock:class extends self.ISpriteInstance{},POWBlock:class extends self.ISpriteInstance{},ArcadePOWBlock:class extends self.ISpriteInstance{},Mushroom:class extends self.ISpriteInstance{},FireFlower:class extends self.ISpriteInstance{},SuperStar:class extends self.ISpriteInstance{},IceFlower:class extends self.ISpriteInstance{},SuperLeaf:class extends self.ISpriteInstance{},OneUp:class extends self.ISpriteInstance{},ThreeUp:class extends self.ISpriteInstance{},SmallFireFlower:class extends self.ISpriteInstance{},BubbleFlower:class extends self.ISpriteInstance{},Steethan:class extends self.ISpriteInstance{},SteethanFollowing:class extends self.ISpriteInstance{},HammerFlower:class extends self.ISpriteInstance{},Carrot:class extends self.ISpriteInstance{},CloudFlower:class extends self.ISpriteInstance{},TanookiSuit:class extends self.ISpriteInstance{},PenguinSuit_Hitbox:class extends self.ISpriteInstance{},PenguinSuit_Visual:class extends self.ISpriteInstance{},FrogSuit:class extends self.ISpriteInstance{},SuperBallFlower:class extends self.ISpriteInstance{},Coin:class extends self.ISpriteInstance{},MovingCoin:class extends self.ISpriteInstance{},FloatingClock:class extends self.ISpriteInstance{},GravityClock:class extends self.ISpriteInstance{},Key:class extends self.ISpriteInstance{},DetachedBillBlasterHitbox:class extends self.ISpriteInstance{},HiddenCoinVisual:class extends self.ISpriteInstance{},_1_AdvancedPlatform_0:class extends self.IWorldInstance{},_1_AdvancedPlatform_5:class extends self.IWorldInstance{},_1_AdvancedPlatform_6:class extends self.IWorldInstance{},_1_AdvancedPlatform_7:class extends self.IWorldInstance{},_1_AdvancedPlatform_8:class extends self.IWorldInstance{},_1_AdvancedPlatform_9:class extends self.IWorldInstance{},_1_AdvancedPlatform_1:class extends self.IWorldInstance{},_1_AdvancedPlatform_2:class extends self.IWorldInstance{},_1_AdvancedPlatform_3:class extends self.IWorldInstance{},_1_AdvancedPlatform_4:class extends self.IWorldInstance{},_1_AdvancedPlatform_10:class extends self.IWorldInstance{},_1_AdvancedPlatform_11:class extends self.IWorldInstance{},_1_AdvancedPlatform_12:class extends self.IWorldInstance{},_1_AdvancedPlatform_13:class extends self.IWorldInstance{},_1_AdvancedPlatform_13_Shine:class extends self.IWorldInstance{},_1_AdvancedPlatform_14:class extends self.IWorldInstance{},_1_AdvancedPlatform_15:class extends self.IWorldInstance{},_1_AdvancedPlatform_16:class extends self.IWorldInstance{},_1_AdvancedPlatform_17:class extends self.IWorldInstance{},_1_AdvancedPlatform_18:class extends self.IWorldInstance{},_1_AdvancedPlatform_19:class extends self.IWorldInstance{},_1_AdvancedPlatform_20:class extends self.IWorldInstance{},_1_AdvancedPlatform_21:class extends self.IWorldInstance{},_2_AdvancedPlatform_0:class extends self.IWorldInstance{},_2_AdvancedPlatform_1:class extends self.IWorldInstance{},_2_AdvancedPlatform_6:class extends self.IWorldInstance{},_2_AdvancedPlatform_7:class extends self.IWorldInstance{},_2_AdvancedPlatform_8:class extends self.IWorldInstance{},_2_AdvancedPlatform_9:class extends self.IWorldInstance{},_2_AdvancedPlatform_10:class extends self.IWorldInstance{},_2_AdvancedPlatform_11:class extends self.IWorldInstance{},_2_AdvancedPlatform_12:class extends self.IWorldInstance{},_2_AdvancedPlatform_2:class extends self.IWorldInstance{},_2_AdvancedPlatform_3:class extends self.IWorldInstance{},_2_AdvancedPlatform_4:class extends self.IWorldInstance{},_2_AdvancedPlatform_5:class extends self.IWorldInstance{},AdvancedPlatform_Hitbox:class extends self.ISpriteInstance{},_1_FloatingPlatform_0:class extends self.IWorldInstance{},_1_FloatingPlatform_1:class extends self.IWorldInstance{},_2_FloatingPlatform_0:class extends self.IWorldInstance{},_2_FloatingPlatform_1:class extends self.IWorldInstance{},_2_FloatingPlatform_2:class extends self.IWorldInstance{},_2_FloatingPlatform_3:class extends self.IWorldInstance{},DonutBlock:class extends self.ISpriteInstance{},DonutBlock_Visual:class extends self.ISpriteInstance{},FloatingPlatform_Hitbox:class extends self.ISpriteInstance{},SkullRaft_Hitbox:class extends self.ISpriteInstance{},SkullRaft_Visual:class extends self.ISpriteInstance{},CirclingPlatform:class extends self.ISpriteInstance{},CustomizablePlatform_AltSprite:class extends self.ISpriteInstance{},DonutBlock_Handle:class extends self.ISpriteInstance{},Pipe0_1:class extends self.IWorldInstance{},Pipe1_1:class extends self.IWorldInstance{},Pipe2_1:class extends self.IWorldInstance{},Pipe3_1:class extends self.IWorldInstance{},Pipe0_2:class extends self.IWorldInstance{},Pipe1_2:class extends self.IWorldInstance{},Pipe2_2:class extends self.IWorldInstance{},Pipe3_2:class extends self.IWorldInstance{},VerticalVinesAndPoles:class extends self.ISpriteInstance{},HorizontalVinesAndPoles:class extends self.ISpriteInstance{},VineCreator:class extends self.ISpriteInstance{},FlipPanel_Outline2:class extends self.IWorldInstance{},FlipPanel_Fence2:class extends self.ITiledBackgroundInstance{},FlipPanel_Halfway2:class extends self.IWorldInstance{},SemiFloor:class extends self.ISpriteInstance{},SemiLeftWall:class extends self.ISpriteInstance{},SemiRightWall:class extends self.ISpriteInstance{},SemiRoof:class extends self.ISpriteInstance{},SemiRoofSlope:class extends self.ISpriteInstance{},SemiSlope:class extends self.ISpriteInstance{},PlayerWall:class extends self.ISpriteInstance{},HardBlocks:class extends self.ISpriteInstance{},BossBridgeAndChains:class extends self.ISpriteInstance{},SpecialTiles:class extends self.ISpriteInstance{},BossGate:class extends self.ISpriteInstance{},AntiMountSign2:class extends self.IWorldInstance{},AntiMountSign1:class extends self.IWorldInstance{},FireAndIceball:class extends self.ISpriteInstance{},PhysicsParticles:class extends self.ISpriteInstance{},DinoFlame:class extends self.ISpriteInstance{},IceCube:class extends self.ISpriteInstance{},Raycaster:class extends self.ISpriteInstance{},InvisibleDestroyer:class extends self.ISpriteInstance{},SignPostBase:class extends self.ISpriteInstance{},HelperGameObject:class extends self.ISpriteInstance{},GrabBlockObject:class extends self.ISpriteInstance{},CloudPlatform:class extends self.ISpriteInstance{},CloudBuddy:class extends self.ISpriteInstance{},CloudPlatform_Face:class extends self.ISpriteInstance{},StandaloneWings:class extends self.ISpriteInstance{},ConnectorJoint:class extends self.ISpriteInstance{},SuperBall:class extends self.ISpriteInstance{},SuperBallTrail:class extends self.ISpriteInstance{},ObjectLetters:class extends self.ISpriteInstance{},PortableLightSource:class extends self.ISpriteInstance{},DragCollision:class extends self.ISpriteInstance{},OverlapCheckerAssist:class extends self.ISpriteInstance{},LayeredLiquidBorder:class extends self.ITiledBackgroundInstance{},RedPOWShock:class extends self.ISpriteInstance{},POWElectricityReceiver:class extends self.ISpriteInstance{},SwitchActivationCollision:class extends self.ISpriteInstance{},BaddieBoxLid:class extends self.ISpriteInstance{},IcePhysicsAssist:class extends self.ISpriteInstance{},SpringBase:class extends self.ISpriteInstance{},SpringCollisionAssist:class extends self.ISpriteInstance{},RotatingBase:class extends self.ISpriteInstance{},ExtendableLineForEditorObject:class extends self.ISpriteInstance{},DummyObject:class extends self.ISpriteInstance{},StackAssist:class extends self.ISpriteInstance{},_1VineNinePatch0:class extends self.IWorldInstance{},_1VineNinePatch1:class extends self.IWorldInstance{},_1VineNinePatch2:class extends self.IWorldInstance{},_1VineNinePatch3:class extends self.IWorldInstance{},RollingObjectVisual:class extends self.ISpriteInstance{},RotationBaseChainObjects:class extends self.ISpriteInstance{},SoccerBall_Flame:class extends self.ISpriteInstance{},EscalatorMotorCollision:class extends self.ISpriteInstance{},SnowPhysicsAssist:class extends self.ISpriteInstance{},_1BillBlasterBase0_0:class extends self.IWorldInstance{},_1BillBlasterBase1_0:class extends self.IWorldInstance{},_1BillBlasterBase2_0:class extends self.IWorldInstance{},BillBlasterHead:class extends self.ISpriteInstance{},_1BillBlasterBase0_1:class extends self.IWorldInstance{},_1BillBlasterBase0_2:class extends self.IWorldInstance{},_1BillBlasterBase0_3:class extends self.IWorldInstance{},_1BillBlasterBase1_1:class extends self.IWorldInstance{},_1BillBlasterBase1_2:class extends self.IWorldInstance{},_1BillBlasterBase1_3:class extends self.IWorldInstance{},_1BillBlasterBase2_1:class extends self.IWorldInstance{},_1BillBlasterBase2_2:class extends self.IWorldInstance{},_1BillBlasterBase2_3:class extends self.IWorldInstance{},TorpedoGlove:class extends self.ISpriteInstance{},_2BillBlasterBase0_0:class extends self.IWorldInstance{},_2BillBlasterBase0_1:class extends self.IWorldInstance{},_2BillBlasterBase0_2:class extends self.IWorldInstance{},_2BillBlasterBase0_3:class extends self.IWorldInstance{},_2BillBlasterBase1_0:class extends self.IWorldInstance{},_2BillBlasterBase1_1:class extends self.IWorldInstance{},_2BillBlasterBase1_2:class extends self.IWorldInstance{},_2BillBlasterBase1_3:class extends self.IWorldInstance{},_2BillBlasterBase2_0:class extends self.IWorldInstance{},_2BillBlasterBase2_1:class extends self.IWorldInstance{},_2BillBlasterBase2_2:class extends self.IWorldInstance{},_2BillBlasterBase2_3:class extends self.IWorldInstance{},Cannon:class extends self.ISpriteInstance{},GoalOrb:class extends self.ISpriteInstance{},YoshiEgg:class extends self.ISpriteInstance{},Switch:class extends self.ISpriteInstance{},Axe:class extends self.ISpriteInstance{},ToggleableLightSources:class extends self.ISpriteInstance{},BaddieBox:class extends self.ISpriteInstance{},LightBlock:class extends self.ISpriteInstance{},HeavyStone:class extends self.ISpriteInstance{},Spike:class extends self.ISpriteInstance{},Springboard:class extends self.ISpriteInstance{},SidewaysSpringboard:class extends self.ISpriteInstance{},VineBeanSmall:class extends self.ISpriteInstance{},VineBeanLarge:class extends self.ISpriteInstance{},NPC:class extends self.ISpriteInstance{},OneWayWall:class extends self.ISpriteInstance{},Gift:class extends self.ISpriteInstance{},Bubble:class extends self.ISpriteInstance{},PlayerBubble:class extends self.ISpriteInstance{},SnowballCollision:class extends self.ISpriteInstance{},TargetBubble:class extends self.ISpriteInstance{},PalaceSwitch:class extends self.ISpriteInstance{},FrostedSprites:class extends self.ISpriteInstance{},SpikeballCollision:class extends self.ISpriteInstance{},ObjectSign:class extends self.ISpriteInstance{},Parachute:class extends self.ISpriteInstance{},ArrowCloud_Hitbox:class extends self.ISpriteInstance{},ArrowCloud_Arrow:class extends self.ISpriteInstance{},MoleHole:class extends self.ISpriteInstance{},SoccerBall_Collision:class extends self.ISpriteInstance{},YoshiHitbox:class extends self.ISpriteInstance{},YoshiSprite:class extends self.ISpriteInstance{},YoshiTongueEnd:class extends self.ISpriteInstance{},YoshiTongueMain:class extends self.ISpriteInstance{},GroundStompPoof:class extends self.ISpriteInstance{},PersistentArea:class extends self.ISpriteInstance{},RangeArea:class extends self.ISpriteInstance{},AOLTrigger:class extends self.ISpriteInstance{},AOLRange:class extends self.ISpriteInstance{},GameObjectPlatformAssist:class extends self.ISpriteInstance{},LightCaster:class extends self.ISpriteInstance{},DarknessCaster:class extends self.ISpriteInstance{},CollisionChecker:class extends self.ISpriteInstance{},TagTile:class extends self.ISpriteInstance{},InvisibleSpriteSpawner:class extends self.ISpriteInstance{},EffectMaskObject:class extends self.ISpriteInstance{},DirectionTile:class extends self.ISpriteInstance{},MovementSpeedTile:class extends self.ISpriteInstance{},PlatformActionTile:class extends self.ISpriteInstance{},TagChangerTile:class extends self.ISpriteInstance{},MusicChanger:class extends self.ISpriteInstance{},SpriteActivationAssist:class extends self.ISpriteInstance{},Destination:class extends self.ISpriteInstance{},Entryway:class extends self.ISpriteInstance{},EntrywayWarp:class extends self.ISpriteInstance{},Flags:class extends self.ISpriteInstance{},CheckpointPole1:class extends self.IWorldInstance{},Flagpole1:class extends self.IWorldInstance{},CheckpointAndGoalTarget:class extends self.ISpriteInstance{},GoalpointSkipPrevention:class extends self.ISpriteInstance{},Door:class extends self.ISpriteInstance{},DoorPart:class extends self.ISpriteInstance{},_1DoorGate0:class extends self.ITiledBackgroundInstance{},DoorLock:class extends self.ISpriteInstance{},KeyholeExit:class extends self.ISpriteInstance{},KeyholeEffect:class extends self.ISVGPictureInstance{},Flagpole2:class extends self.IWorldInstance{},GoalTape:class extends self.ISpriteInstance{},GiantGate2:class extends self.IWorldInstance{},GatePoleTiles:class extends self.ISpriteInstance{},GiantGateActivationBox:class extends self.ISpriteInstance{},GiantGateFrontPole2:class extends self.IWorldInstance{},_2DoorGate0:class extends self.ITiledBackgroundInstance{},MidwayGate2:class extends self.IWorldInstance{},MidwayGateFrontPole2:class extends self.IWorldInstance{},MidwayTape:class extends self.ISpriteInstance{},CheckpointActivationBox:class extends self.ISpriteInstance{},_1DoorGate1:class extends self.ITiledBackgroundInstance{},_2DoorGate1:class extends self.ITiledBackgroundInstance{},_2DoorGate1_Small:class extends self.ITiledBackgroundInstance{},_1DoorGate1_Small:class extends self.ITiledBackgroundInstance{},CircularDoorGate:class extends self.ISpriteInstance{},DoorLockPart:class extends self.ISpriteInstance{},InvisWarp_Outline:class extends self.IWorldInstance{},GiantGate1:class extends self.IWorldInstance{},GiantGateFrontPole1:class extends self.IWorldInstance{},CurrentGenerator:class extends self.ISpriteInstance{},CurrentStream:class extends self.ISpriteInstance{},RedPOWTremor:class extends self.ISVGPictureInstance{},BasicParticles:class extends self.ISpriteInstance{},KamikazeShellFade:class extends self.ISpriteInstance{},DropletGenerator:class extends self.ISpriteInstance{},DropletParticle:class extends self.ISpriteInstance{},EffectParticles:class extends self.ISpriteInstance{},BreathBubble:class extends self.ISpriteInstance{},SnoreParticle:class extends self.ISpriteInstance{},ParticleText:class extends self.ISpriteInstance{},TextParticle:class extends self.ISpriteInstance{},KingBooMouthFire:class extends self.ISpriteInstance{},SwervingParticle:class extends self.ISpriteInstance{},ElectricityEffect:class extends self.ISpriteInstance{},LayeredWater1_0:class extends self.ITiledBackgroundInstance{},LayeredWater1_0_Bottom:class extends self.ITiledBackgroundInstance{},LayeredWater1_0_Preview:class extends self.ITiledBackgroundInstance{},LayeredWater1_0_Front:class extends self.IWorldInstance{},LayeredWater1_1:class extends self.ITiledBackgroundInstance{},LayeredWater1_1_Front:class extends self.IWorldInstance{},LayeredWater2_0:class extends self.ITiledBackgroundInstance{},LayeredWater2_0_Bottom:class extends self.ITiledBackgroundInstance{},LayeredWater2_0_Preview:class extends self.ITiledBackgroundInstance{},Overlay_Fog2:class extends self.ITiledBackgroundInstance{},Overlay_Fog1:class extends self.ITiledBackgroundInstance{},Background:class extends self.ISpriteInstance{},CustomForeground:class extends self.ISpriteInstance{},CustomMiddleground:class extends self.ISpriteInstance{},CustomBackground:class extends self.ISpriteInstance{},AnimatedBackground:class extends self.IWorldInstance{},GradientLine:class extends self.ITiledBackgroundInstance{},BGParts:class extends self.ISpriteInstance{},GradientIcons:class extends self.ISpriteInstance{},Darkness:class extends self.ISpriteInstance{},SmoothLight:class extends self.ISpriteInstance{},Light:class extends self.ISVGPictureInstance{},CastedDarkness:class extends self.ISpriteInstance{},ThemeCardOutline:class extends self.IWorldInstance{},ThemeCardBackground:class extends self.IWorldInstance{},ThemeCardCorners:class extends self.IWorldInstance{},CBGPreview:class extends self.ISpriteInstance{},ColorOverlay:class extends self.ISpriteInstance{},MagicBottle:class extends self.ISpriteInstance{},FlamePumpkin:class extends self.ISpriteInstance{},Pepper:class extends self.ISpriteInstance{},FallingFlame:class extends self.ISpriteInstance{},KBCrown:class extends self.ISpriteInstance{},MagicBottleDust:class extends self.ISpriteInstance{},Fairy:class extends self.ISpriteInstance{},ClownCopter:class extends self.ISpriteInstance{},ClownCopter_Eyes:class extends self.ISpriteInstance{},ClownCopter_Rotor:class extends self.ISpriteInstance{},Bowser_Dummy:class extends self.ISpriteInstance{},TailFlame:class extends self.ISpriteInstance{},BoomBoom:class extends self.ISpriteInstance{},KingBoo:class extends self.ISpriteInstance{},Bowser:class extends self.ISpriteInstance{},PlayerHitbox:class extends self.ISpriteInstance{},PlayerSprite:class extends self.ISpriteInstance{},ExtraPlayerSprites:class extends self.ISpriteInstance{},InvisibleTrackerObject:class extends self.ISpriteInstance{},EditorObjects:class extends self.ISpriteInstance{},InvisibleSolid:class extends self.ISpriteInstance{},ZOrderManager:class extends self.ISpriteInstance{},BackgroundCanvas:class extends self.IDrawingCanvasInstance{},FavoritesBars:class extends self.IWorldInstance{},MiniToolbarLines:class extends self.IWorldInstance{},PalettePickers:class extends self.IWorldInstance{},MenuElements:class extends self.ISpriteInstance{},MenuContainers:class extends self.IWorldInstance{},Buttons:class extends self.ISpriteInstance{},MenuTiledBackgrounds:class extends self.ITiledBackgroundInstance{},DraggableObjects:class extends self.ISpriteInstance{},CustomDropdowns:class extends self.IWorldInstance{},CustomDropdownChilds:class extends self.IWorldInstance{},LineSupportedObjects:class extends self.ISpriteInstance{},_9PatchMenus:class extends self.IWorldInstance{},CardDisplays:class extends self.IWorldInstance{},CustomizationMenus:class extends self.IWorldInstance{},Fonts:class extends self.ISpriteFontInstance{},Grids:class extends self.ITiledBackgroundInstance{},SliderLines:class extends self.IWorldInstance{},SubMenus:class extends self.IWorldInstance{},Tabs:class extends self.IWorldInstance{},Textboxes:class extends self.ITextInputInstance{},TextContainers:class extends self.ISpriteInstance{},WarpIcons:class extends self.ISpriteInstance{},EffectMenus:class extends self.IWorldInstance{},CurlySeparatorBottoms:class extends self.IWorldInstance{},CurlySeparatorTops:class extends self.IWorldInstance{},WarpIconsOther:class extends self.ISpriteInstance{},CustomizerDots:class extends self.ISpriteInstance{},GrassSeparators:class extends self.IWorldInstance{},PathArrows:class extends self.IWorldInstance{},PathArrowShadows:class extends self.IWorldInstance{},MusicOverlays:class extends self.IWorldInstance{},ScrollbarLines:class extends self.IWorldInstance{},MenuOutlines:class extends self.IWorldInstance{},SMAS1_MushroomTilemaps:class extends self.ITilemapInstance{},SMAS1_MainDecoTilemaps:class extends self.ITilemapInstance{},SMW_BeachDecoTilemaps:class extends self.ITilemapInstance{},SMW_Vines:class extends self.ITilemapInstance{},SemiSolidTilemaps:class extends self.ITilemapInstance{},SolidTilemaps:class extends self.ITilemapInstance{},TilemapsWithSlopes:class extends self.ITilemapInstance{},HardEmptyBlockTilemaps:class extends self.ITilemapInstance{},CryoTilemaps:class extends self.ITilemapInstance{},LavaTilemaps:class extends self.ITilemapInstance{},LiquidTilemaps:class extends self.ITilemapInstance{},PoisonTilemaps:class extends self.ITilemapInstance{},WaterTilemaps:class extends self.ITilemapInstance{},ElectricTilemaps:class extends self.ITilemapInstance{},HazardLiquidTilemaps:class extends self.ITilemapInstance{},SnowTilemaps:class extends self.ITilemapInstance{},IceTilemaps:class extends self.ITilemapInstance{},Tilemaps:class extends self.ITilemapInstance{},EmissiveTilemaps:class extends self.ITilemapInstance{},AnimatedTilemaps:class extends self.ITilemapInstance{},CrystalTilemaps:class extends self.ITilemapInstance{},StandardClimbableTilemaps:class extends self.ITilemapInstance{},StretchTilemaps:class extends self.ITilemapInstance{},ChompPostTilemaps:class extends self.ITilemapInstance{},VineTilemaps:class extends self.ITilemapInstance{},PipeTilemaps:class extends self.ITilemapInstance{},MountainBridgeTilemaps:class extends self.ITilemapInstance{},BlockTilemaps:class extends self.ITilemapInstance{},HoleTilemaps:class extends self.ITilemapInstance{},DoorTilemaps:class extends self.ITilemapInstance{},ConveyorTilemaps:class extends self.ITilemapInstance{},EscalatorTilemaps:class extends self.ITilemapInstance{},FlipPanels:class extends self.IWorldInstance{},FlipPanel_HalfwayPoints:class extends self.IWorldInstance{},FlipPanel_Fences:class extends self.ITiledBackgroundInstance{},StripedGates:class extends self.IWorldInstance{},StripedGateFrontPoles:class extends self.IWorldInstance{},StripedGatesAll:class extends self.IWorldInstance{},BlockGameObj:class extends self.ISpriteInstance{},MiscTrails:class extends self.ISpriteInstance{},Goombas:class extends self.ISpriteInstance{},ElectricChargeableObjects:class extends self.ISpriteInstance{},ElectrifiableSolids:class extends self.ISpriteInstance{},MomentumObjects:class extends self.ISpriteInstance{},ObjectCarriers:class extends self.ISpriteInstance{},FlowingPlatforms:class extends self.ISpriteInstance{},CustomizablePlatforms:class extends self.ISpriteInstance{},Bosses:class extends self.ISpriteInstance{},Enemies:class extends self.ISpriteInstance{},GameObjects:class extends self.ISpriteInstance{},PowerUps:class extends self.ISpriteInstance{},PlayableCharacters:class extends self.ISpriteInstance{},NetClimbers:class extends self.ISpriteInstance{},WalledSprites:class extends self.ISpriteInstance{},WallWalkableSprites:class extends self.ISpriteInstance{},YellowCoinTransformersByGrayPSwitch:class extends self.ISpriteInstance{},Stackables:class extends self.ISpriteInstance{},CoinCollectors:class extends self.ISpriteInstance{},Bubbles:class extends self.ISpriteInstance{},CameraObjects:class extends self.ISpriteInstance{},RespawnablesOnDefeat:class extends self.ISpriteInstance{},JumpingFlames:class extends self.ISpriteInstance{},FireyObjects:class extends self.ISpriteInstance{},ObjectsWith8Direction:class extends self.ISpriteInstance{},FloatsInCryo:class extends self.ISpriteInstance{},FollowableObjects:class extends self.ISpriteInstance{},FollowingObjects:class extends self.ISpriteInstance{},SpriteCatchAndKickers:class extends self.ISpriteInstance{},ArrowCloudRedirectableSprites:class extends self.ISpriteInstance{},LinearProjectiles:class extends self.ISpriteInstance{},PressableSwitches:class extends self.ISpriteInstance{},FireIceSuperball:class extends self.ISpriteInstance{},OverlapTrackingSprites:class extends self.ISpriteInstance{},ConveyorAffectedWith8Direction:class extends self.ISpriteInstance{},EnvironmentalChangers:class extends self.ISpriteInstance{},SpriteSpawners:class extends self.ISpriteInstance{},Containers:class extends self.ISpriteInstance{},Clocks:class extends self.ISpriteInstance{},Coins:class extends self.ISpriteInstance{},MiscCarryablesBySprites:class extends self.ISpriteInstance{},BlockObjects:class extends self.ISpriteInstance{},POWBlocks:class extends self.ISpriteInstance{},FloatingPlatformVisuals:class extends self.IWorldInstance{},PlatformVisuals:class extends self.IWorldInstance{},BillBlasterBases:class extends self.IWorldInstance{},CheckpointPoles:class extends self.IWorldInstance{},ShinyPlatforms:class extends self.IWorldInstance{},ObjectPipes:class extends self.IWorldInstance{},LakituRodHooks:class extends self.IWorldInstance{},AntiMountSigns:class extends self.IWorldInstance{},Flagpoles:class extends self.IWorldInstance{},VineNinePatches:class extends self.IWorldInstance{},AdvancedPlatformVisuals:class extends self.IWorldInstance{},ShinyPlatformShines:class extends self.IWorldInstance{},ObjectPipes_SMAS1:class extends self.IWorldInstance{},ObjectPipes_SMW:class extends self.IWorldInstance{},Arrays:class extends self.IArrayInstance{},Dictionaries:class extends self.IDictionaryInstance{},JSONs:class extends self.IJSONInstance{},Semisolids:class extends self.ISpriteInstance{},Solids:class extends self.ISpriteInstance{},SemiSlopeFamily:class extends self.ISpriteInstance{},TilemapSlopeAssists:class extends self.ISpriteInstance{},Fullsolids:class extends self.ISpriteInstance{},AnimatedTiledBGs:class extends self.ITiledBackgroundInstance{},BackgroundAndParts:class extends self.ISpriteInstance{},BackgroundOverlays:class extends self.ITiledBackgroundInstance{},Backgrounds:class extends self.ISpriteInstance{},DarknessAndColors:class extends self.ISpriteInstance{},LayerdWaterFronts:class extends self.IWorldInstance{},LayeredWaterPreviews:class extends self.ITiledBackgroundInstance{},LayeredWaters:class extends self.ITiledBackgroundInstance{},LayeredWatersBottoms:class extends self.ITiledBackgroundInstance{},AllPlayerVisuals:class extends self.ISpriteInstance{},PlayerSprites:class extends self.ISpriteInstance{},SpriteVisuals:class extends self.ISpriteInstance{},DoorGates:class extends self.ITiledBackgroundInstance{},AttachedAssistObjects:class extends self.ISpriteInstance{},EditorObjFam:class extends self.ISpriteInstance{},EditorObjParts:class extends self.IWorldInstance{},MiscEditorObjParts:class extends self.ISpriteInstance{},DraggablePreviewObjects:class extends self.ISpriteInstance{},PlatformInfluencerTiles:class extends self.ISpriteInstance{},PlatformTileListeners:class extends self.ISpriteInstance{},TaggableObjects:class extends self.ISpriteInstance{},OtherObjectsToDestroyOnCanvasClear:class extends self.ISpriteInstance{},LightSources:class extends self.ISpriteInstance{},Particles:class extends self.ISpriteInstance{},ExpandingObjects:class extends self.IWorldInstance{},PipeSupportedObjects:class extends self.ISpriteInstance{},VinesAndPoles:class extends self.ISpriteInstance{},VineCreatorFam:class extends self.ISpriteInstance{},MiscObjectsSeparatableByNet:class extends self.ISpriteInstance{},OtherPersistentObjects:class extends self.ISpriteInstance{},ObjectsWithLiquidPalettes:class extends self.ISpriteInstance{},ObjectsWithDynamicPalettes:class extends self.ISpriteInstance{},ColorBlindAdjustedSprites:class extends self.ISpriteInstance{},SVGs:class extends self.ISVGPictureInstance{},MiscGameplayPreloadedSprites:class extends self.ISpriteInstance{}};var scriptsInEvents={async LevelSelectEvents_Event141_Act7(e,t){fetch(`${e.globalVars.LSS_CONNECTION_URL}/api/levels/0/force_create`,{method:"POST",body:t.requestBody,headers:{"Content-type":"application/json; charset=UTF-8",Authorization:`Bearer ${t.token}`}}).then(t=>(200===!t.status&&e.callFunction("createWarningNotification",`Failed to create entry on Level Share Square. (ERR1)\nResponse from server:  ${t.status}`,!0),t.json())).then(t=>{e.callFunction("syncLevelWithLSS",t.levelID)}).catch(n=>{e.callFunction("createWarningNotification",`Failed to create entry on Level Share Square. (ERR2)\n${n}`,!0),t.readyToProceedStatus=0,e.globalVars.lockUpMenus=!1})},async Accessibility_Event59_Act1(e,t){const n=t.stringToCheck,s=/[\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FBF]/.test(n)?1:0;e.setReturnValue(s)},async LssIntergration_Event3_Act3(e,t){const n=localStorage.getItem("LSS_login_session");n&&e.callFunction("setTokenAndRequestAccount",n)},async LssIntergration_Event17_Act5(e,t){fetch(`${e.globalVars.LSS_CONNECTION_URL}/api/users/login`,{method:"POST",body:t.JSONToPass,headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(t=>e.callFunction("handleLoginAttemptSuccess",JSON.stringify(t))).catch(t=>e.callFunction("handleLoginAttemptError",t))},async LssIntergration_Event33_Act1(e,t){fetch(`${e.globalVars.LSS_CONNECTION_URL}/api/users/get_id_from_token`,{method:"GET",headers:{Authorization:`Bearer ${t.token}`}}).then(t=>{200===t.status?t.json().then(t=>{e.callFunction("requestAccountDataByID",t.user)}):e.callFunction("handleServerError",t.status,"Failed to fetch account data by token. (ERR1)\nResponse from server: "+t.status)}).catch(t=>{e.callFunction("createNotification","It appears the Level Share Square services are currently unavailable. Account features will not work.","outage_notice","Warning","",6),console.error(t)})},async LssIntergration_Event34_Act1(e,t){fetch(`${e.globalVars.LSS_CONNECTION_URL}/api/users/${t.userID}`,{method:"GET"}).then(e=>e.json()).then(t=>e.callFunction("fillUpAccountData",JSON.stringify(t.user)))},async LssIntergration_Event96_Act6(e,t){fetch(`${e.globalVars.LSS_CONNECTION_URL}/api/levels/0/${t.syncedLevelID}/check`,{method:"POST",body:t.requestBody,headers:{"Content-type":"application/json; charset=UTF-8",Authorization:`Bearer ${t.token}`}}).then(t=>{200===t.status?t.json().then(t=>{e.callFunction("compareLastEditedWithSync",JSON.stringify(t))}):e.callFunction("createWarningNotification","Level code date check failed. (ERR1)\nResponse from server: "+t.status,!0)}).catch(t=>e.callFunction("createWarningNotification","Level code date check failed. (ERR2)\n"+t,!0))},async LssIntergration_Event101_Act3(e,t){const n=t.functionOnSuccess,s=t.errorBaseNumber,r=e.globalVars.levelSelected;fetch(`${e.globalVars.LSS_CONNECTION_URL}/api/levels/0/${t.syncedLevelID}/synchronise/update_${t.updateTarget}?type=level`,{method:"PATCH",body:t.requestBody,headers:{"Content-type":"application/json; charset=UTF-8",Authorization:`Bearer ${t.token}`}}).then(t=>(200===!t.status&&e.callFunction("createWarningNotification",`Fetching level code failed. (ERR${s+1})\nResponse from server:  ${t.status}`,!0),t.json())).then(t=>{t.levelSelected=r,e.callFunction(n,JSON.stringify(t))}).catch(t=>{e.callFunction("createWarningNotification",`Fetching level code failed. (ERR${s})\n${t}`,!0)})},async AudioEvents_Event216_Act1(e,t){const n=new Date,s=new Date(n.getFullYear(),0,0),r=n-s,o=Math.floor(r/864e5);t.themeIDToPlay=o%3},async GeneralHelperFunctions_Event102_Act1(e,t){t.containsOnlyNumbers=/^\d+\.\d+$|^\d+$/.test(t.valueToCheck)},async GeneralHelperFunctions_Event105_Act2(e,t){const n=t.hexCode;e.setReturnValue(parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16))}};globalThis.C3.JavaScriptInEvents=scriptsInEvents;
/*!
@fileoverview gl-matrix - High performance matrix and vector operations
@author Brandon Jones
@author Colin MacKenzie IV
@version 3.4.1

Copyright (c) 2015-2021, Brandon Jones, Colin MacKenzie IV.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/